# Csound Assist Configuration
# Configuration file for the Csound AI Coding Assistant
# Place in: ~/.config/csound-assist/config.yaml or project root

# LLM Configuration
ollama:
  # Remote Ollama server URL
  base_url: "http://d01.consul:3000"

  # Model to use - Qwen3-Coder for code generation
  model: "qwen3-coder"

  # Temperature for generation (0.0 = deterministic, 1.0 = creative)
  temperature: 0.7

  # Top-p sampling
  top_p: 0.8

  # Maximum tokens to generate
  max_tokens: 4096

  # Context window size
  num_ctx: 32768

  # Request timeout in seconds
  timeout: 120

# Embedding Model Configuration
embedding:
  # Ollama-hosted embedding model (768 dimensions, 8K context)
  model: "nomic-embed-text"

  # Chunk size for document splitting (in characters)
  chunk_size: 1000

  # Overlap between chunks
  chunk_overlap: 200

# RAG (Retrieval-Augmented Generation) Settings
rag:
  # Maximum context tokens to include in prompts
  max_context_tokens: 3000

  # Minimum similarity score for retrieval (0.0 - 1.0)
  min_similarity: 0.5

  # Number of results to retrieve per query
  num_results: 5

  # Hybrid retrieval weights (semantic + BM25)
  semantic_weight: 0.5
  bm25_weight: 0.5

# File Paths (relative to workspace root)
paths:
  # Markdown corpus directory
  corpus_dir: "./corpus"

  # CSD example files directory
  examples_dir: "./csound_score_examples"

  # Training corpus directory
  training_dir: "./csound_corpus"

  # ChromaDB database path
  db_path: "./.cache/csound_assist_db"

  # Response cache directory
  cache_dir: "./.cache/csound_assist_cache"

  # BM25 index path
  bm25_cache: "./.cache/bm25_index.pkl"

# Output Settings
output:
  # Enable streaming responses
  stream: true

  # Enable syntax highlighting in terminal
  syntax_highlight: true

  # Show source documents in responses
  show_sources: true

  # Verbose logging
  verbose: false

# Cache Settings
cache:
  # Enable response caching
  enabled: true

  # Cache time-to-live in hours
  ttl_hours: 24

  # Maximum cache size in MB
  max_size_mb: 100
