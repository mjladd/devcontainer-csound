{"instruction": "Write a CSound instrument that demonstrates the buzz opcode for generating harmonically related sine partials", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function table: cosine wave for buzz\ngiCos ftgen 1, 0, 8192, 11, 1\n\ninstr 1\n    ; buzz opcode: ares buzz xamp, xcps, knh, ifn [, iphs]\n    ; buzz generates a set of harmonically related sine partials\n    ; xamp - amplitude\n    ; xcps - frequency in Hz\n    ; knh - number of harmonics\n    ; ifn - function table (usually cosine wave)\n    ; iphs - initial phase (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.05, 0.4, p3-0.1, 0.4, 0.05, 0\n    \n    ; Number of harmonics changes over time\n    kHarms linseg 1, p3, 20\n    \n    ; Generate buzz tone at 220 Hz\n    aSig buzz kAmp, 220, kHarms, giCos\n    \n    out aSig\nendin\n\ninstr 2\n    ; Demonstrate buzz with varying frequency\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Frequency sweep\n    kFreq expseg 110, p3*0.5, 440, p3*0.5, 110\n    \n    ; Fixed number of harmonics\n    kHarms = 12\n    \n    aSig buzz kAmp*0.4, kFreq, kHarms, giCos\n    \n    out aSig\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 3 seconds\ni1 0 3\n; Play instrument 2 for 4 seconds\ni2 3.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the gbuzz opcode for generating harmonically related cosine partials with a multiplier", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: cosine wave\ngiCos ftgen 1, 0, 8192, 11, 1\n\ninstr 1\n    ; gbuzz opcode: ares gbuzz xamp, xcps, knh, klh, kmul, ifn [, iphs]\n    ; gbuzz generates harmonically related cosine partials with amplitude control\n    ; xamp - amplitude\n    ; xcps - frequency in Hz\n    ; knh - number of harmonics\n    ; klh - lowest harmonic present\n    ; kmul - multiplier for successive amplitude coefficients\n    ; ifn - function table\n    ; iphs - initial phase (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.3, p3-0.2, 0.3, 0.1, 0\n    \n    ; Number of harmonics\n    kHarms = 15\n    \n    ; Lowest harmonic\n    kLowest = 1\n    \n    ; Multiplier (values < 1 make higher harmonics quieter)\n    kMul linseg 0.9, p3, 0.3\n    \n    ; Generate gbuzz tone\n    aSig gbuzz kAmp, 330, kHarms, kLowest, kMul, giCos\n    \n    outs aSig, aSig\nendin\n\ninstr 2\n    ; Demonstrate gbuzz for brass-like sounds\n    kAmp madsr 0.05, 0.2, 0.7, 0.4\n    \n    kFreq = 220\n    kHarms = 20\n    kLowest = 2\n    \n    ; Vary multiplier for dynamic timbre\n    kMul oscili 0.3, 3, giCos\n    kMul = 0.7 + kMul\n    \n    aSigL gbuzz kAmp*0.3, kFreq, kHarms, kLowest, kMul, giCos\n    aSigR gbuzz kAmp*0.3, kFreq*1.002, kHarms, kLowest, kMul, giCos\n    \n    outs aSigL, aSigR\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 3 seconds\ni1 0 3\n; Play instrument 2 for 4 seconds\ni2 3.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the mpulse opcode for generating a set of impulses", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function table: impulse response for filtering\ngiImpulse ftgen 1, 0, 1024, 10, 1, 0.5, 0.3, 0.2, 0.1\n\ninstr 1\n    ; mpulse opcode: ares mpulse kamp, kintvl [, ioffset]\n    ; mpulse generates a set of impulses at regular intervals\n    ; kamp - amplitude of impulses\n    ; kintvl - time interval between impulses (in seconds)\n    ; ioffset - offset for first impulse (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0.5, p3-0.1, 0.5, 0.1, 0\n    \n    ; Varying interval (creates accelerating rhythm)\n    kIntvl linseg 0.5, p3, 0.05\n    \n    ; Generate impulse train\n    aImp mpulse kAmp, kIntvl\n    \n    ; Filter the impulses for more musical sound\n    aFilt reson aImp, 440, 50\n    aFilt balance aFilt, aImp\n    \n    out aFilt * 0.3\nendin\n\ninstr 2\n    ; Use mpulse to trigger Karplus-Strong synthesis\n    kAmp = 0.8\n    kIntvl = 0.25\n    \n    ; Regular pulse train\n    aImp mpulse kAmp, kIntvl, 0\n    \n    ; Karplus-Strong plucked string\n    aComb comb aImp, 2, 1/220\n    \n    ; Apply envelope\n    kEnv linseg 1, p3-0.1, 1, 0.1, 0\n    \n    out aComb * kEnv * 0.4\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 3 seconds\ni1 0 3\n; Play instrument 2 for 4 seconds\ni2 3.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the vco opcode for band-limited oscillator using pre-calculated tables", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\ninstr 1\n    ; vco opcode: ares vco xamp, xcps, iwave, kpw [, ifn] [, imaxd] [, ileak] [, inyx] [, iphs] [, iskip]\n    ; vco implements band-limited oscillators using pre-calculated tables\n    ; xamp - amplitude\n    ; xcps - frequency in Hz\n    ; iwave - waveform type (1=sawtooth, 2=square/PWM, 3=triangle)\n    ; kpw - pulse width (for square wave, 0-1)\n    ; Additional parameters for fine control\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.05, 0.4, p3-0.1, 0.4, 0.05, 0\n    \n    ; Generate sawtooth wave (iwave=1)\n    aSaw vco kAmp, 220, 1\n    \n    out aSaw\nendin\n\ninstr 2\n    ; Demonstrate pulse width modulation\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Modulate pulse width\n    kPW linseg 0.1, p3, 0.9\n    \n    ; Generate PWM square wave (iwave=2)\n    aSq vco kAmp*0.4, 110, 2, kPW\n    \n    out aSq\nendin\n\ninstr 3\n    ; Triangle wave demonstration\n    kAmp linseg 0, 0.1, 0.4, p3-0.2, 0.4, 0.1, 0\n    \n    ; Frequency modulation\n    kFreq linseg 330, p3*0.5, 660, p3*0.5, 330\n    \n    ; Generate triangle wave (iwave=3)\n    aTri vco kAmp, kFreq, 3\n    \n    out aTri\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play sawtooth\ni1 0 2\n; Play PWM square\ni2 2.5 3\n; Play triangle\ni3 6 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the vco2 opcode for band-limited waveforms using integration", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Initialize vco2 tables\niftab ftgen 1, 0, 16384, 10, 1\n\ninstr 1\n    ; vco2 opcode: ares vco2 kamp, kcps [, imode] [, kpw] [, kphs] [, inyx]\n    ; vco2 implements band-limited waveforms using integration method\n    ; kamp - amplitude\n    ; kcps - frequency in Hz\n    ; imode - waveform (0=sawtooth, 2=square, 4=triangle, 10=PWM square, 12=PWM saw)\n    ; kpw - pulse width for PWM (optional, 0-1)\n    ; kphs - phase (optional, -1 to 1)\n    ; inyx - oscillator quality (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.4, p3-0.2, 0.4, 0.1, 0\n    \n    ; Generate sawtooth wave (imode=0)\n    aSaw vco2 kAmp, 220, 0\n    \n    outs aSaw, aSaw\nendin\n\ninstr 2\n    ; PWM square wave with modulation\n    kAmp madsr 0.02, 0.1, 0.7, 0.3\n    \n    ; Pulse width LFO\n    kPW oscili 0.4, 0.5, iftab\n    kPW = 0.5 + kPW\n    \n    ; Generate PWM square (imode=10)\n    aSqL vco2 kAmp*0.3, 110, 10, kPW\n    aSqR vco2 kAmp*0.3, 110.5, 10, kPW\n    \n    outs aSqL, aSqR\nendin\n\ninstr 3\n    ; Multi-waveform synthesizer\n    kAmp linseg 0, 0.1, 0.3, p3-0.2, 0.3, 0.1, 0\n    kFreq = 330\n    \n    ; Mix multiple waveforms\n    aSaw vco2 kAmp, kFreq, 0\n    aSq vco2 kAmp*0.5, kFreq, 2\n    aTri vco2 kAmp*0.7, kFreq*0.5, 4\n    \n    aMix = (aSaw + aSq + aTri) * 0.4\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play sawtooth\ni1 0 2.5\n; Play PWM\ni2 3 3\n; Play mixed waveforms\ni3 6.5 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the adsynt opcode for additive synthesis with arbitrary partials", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Wave table for adsynt\ngiWave ftgen 1, 0, 16384, 10, 1\n; Frequency ratios for partials\ngiFreqs ftgen 2, 0, 16, -2, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16\n; Amplitude scaling for partials\ngiAmps ftgen 3, 0, 16, -2, 1, 0.5, 0.33, 0.25, 0.2, 0.16, 0.14, 0.125, 0.11, 0.1, 0.09, 0.08, 0.07, 0.06, 0.05, 0.04\n\ninstr 1\n    ; adsynt opcode: ares adsynt kamp, kcps, iwfn, ifreqfn, iampfn, icnt [, iphs]\n    ; adsynt performs additive synthesis with arbitrary number of partials\n    ; kamp - amplitude\n    ; kcps - base frequency in Hz\n    ; iwfn - waveform table\n    ; ifreqfn - table with frequency ratios\n    ; iampfn - table with amplitude scaling\n    ; icnt - number of partials\n    ; iphs - initial phase (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.3, p3-0.2, 0.3, 0.1, 0\n    \n    ; Base frequency\n    kFreq = 220\n    \n    ; Generate tone with 16 harmonics\n    aSig adsynt kAmp, kFreq, giWave, giFreqs, giAmps, 16\n    \n    out aSig\nendin\n\ninstr 2\n    ; Dynamic partial amplitudes\n    kAmp madsr 0.02, 0.1, 0.7, 0.3\n    \n    ; Frequency sweep\n    kFreq expseg 110, p3, 440\n    \n    ; Use fewer partials for different timbre\n    aSig adsynt kAmp*0.3, kFreq, giWave, giFreqs, giAmps, 8\n    \n    out aSig\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 3 seconds\ni1 0 3\n; Play instrument 2 for 4 seconds\ni2 3.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the adsynt2 opcode for additive synthesis using oscillator bank", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Wave table\ngiWave ftgen 1, 0, 16384, 10, 1\n; Frequency ratios (inharmonic for bell-like sound)\ngiFreqsBell ftgen 2, 0, 8, -2, 1, 2.76, 5.4, 8.93, 11.34, 14.21, 16.95, 19.7\n; Amplitude envelopes for each partial (different decay rates)\ngiAmps1 ftgen 3, 0, 8, -2, 1.0, 0.8, 0.6, 0.4, 0.3, 0.2, 0.15, 0.1\n\ninstr 1\n    ; adsynt2 opcode: ar1 [, ar2] adsynt2 kamp, kcps, iwfn, ifreqfn, iampfn, icnt [, iphs]\n    ; adsynt2 uses a bank of interpolating oscillators for smoother output\n    ; kamp - amplitude\n    ; kcps - base frequency in Hz\n    ; iwfn - waveform table\n    ; ifreqfn - table with frequency ratios\n    ; iampfn - table with amplitude scaling\n    ; icnt - number of partials\n    ; iphs - initial phase (optional)\n    \n    ; Bell-like envelope (fast attack, slow decay)\n    kAmp expseg 0.001, 0.01, 0.5, p3-0.01, 0.001\n    \n    ; Base frequency\n    kFreq = 440\n    \n    ; Generate bell-like tone with inharmonic partials\n    aSigL, aSigR adsynt2 kAmp, kFreq, giWave, giFreqsBell, giAmps1, 8\n    \n    outs aSigL*0.5, aSigR*0.5\nendin\n\ninstr 2\n    ; Organ-like sound with harmonic partials\n    kAmp linseg 0, 0.05, 0.3, p3-0.1, 0.3, 0.05, 0\n    \n    ; Pitch\n    kFreq = 220\n    \n    ; Harmonic partials for organ timbre\n    giFreqsOrgan ftgen 10, 0, 8, -2, 1, 2, 3, 4, 5, 6, 8, 10\n    giAmpsOrgan ftgen 11, 0, 8, -2, 1, 0.7, 0.5, 0.8, 0.3, 0.2, 0.4, 0.3\n    \n    aSigL, aSigR adsynt2 kAmp, kFreq, giWave, giFreqsOrgan, giAmpsOrgan, 8\n    \n    outs aSigL, aSigR\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play bell sound\ni1 0 4\ni1 1 5\ni1 2 6\n; Play organ sound\ni2 7 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the hsboscil opcode for harmonic oscillator with amplitude and frequency modulation", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Wave table\ngiWave ftgen 1, 0, 16384, 10, 1\n; Harmonic amplitude envelope over time\ngiHarmEnv ftgen 2, 0, 1024, 7, 0, 128, 1, 512, 0.5, 384, 0\n; Frequency deviation pattern\ngiFreqDev ftgen 3, 0, 1024, 10, 1, 0.5, 0.3\n\ninstr 1\n    ; hsboscil opcode: ares hsboscil kamp, ktone, kbrite, ibasfreq, iwfn, ioctfn [, ioctcnt] [, iphs]\n    ; hsboscil is a harmonic oscillator with brightness control\n    ; kamp - amplitude\n    ; ktone - frequency multiplier relative to base frequency\n    ; kbrite - brightness (number of harmonics, approximately)\n    ; ibasfreq - base frequency in Hz\n    ; iwfn - waveform table\n    ; ioctfn - octave band filter table\n    ; ioctcnt - number of octave bands (optional)\n    ; iphs - initial phase (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.4, p3-0.2, 0.4, 0.1, 0\n    \n    ; Tone (pitch multiplier)\n    kTone = 1\n    \n    ; Brightness changes over time\n    kBrite linseg 1, p3*0.5, 10, p3*0.5, 3\n    \n    ; Base frequency\n    iBaseFreq = 220\n    \n    ; Generate tone with varying harmonic content\n    aSigL hsboscil kAmp, kTone, kBrite, iBaseFreq, giWave, giHarmEnv\n    aSigR hsboscil kAmp, kTone*1.002, kBrite, iBaseFreq, giWave, giHarmEnv\n    \n    outs aSigL, aSigR\nendin\n\ninstr 2\n    ; Demonstrate frequency modulation with hsboscil\n    kAmp madsr 0.02, 0.1, 0.6, 0.4\n    \n    ; Tone modulation (pitch vibrato)\n    kToneMod oscili 0.02, 5, giWave\n    kTone = 1 + kToneMod\n    \n    ; Fixed brightness\n    kBrite = 8\n    \n    ; Higher base frequency\n    iBaseFreq = 440\n    \n    aSigL hsboscil kAmp*0.3, kTone, kBrite, iBaseFreq, giWave, giHarmEnv\n    aSigR hsboscil kAmp*0.3, kTone, kBrite, iBaseFreq*1.005, giWave, giHarmEnv\n    \n    outs aSigL, aSigR\nendin\n\ninstr 3\n    ; Spectral morphing demonstration\n    kAmp linseg 0, 0.1, 0.35, p3-0.2, 0.35, 0.1, 0\n    \n    ; Sweep through different tonal centers\n    kTone linseg 0.5, p3, 2\n    \n    ; Brightness sweep\n    kBrite linseg 2, p3*0.3, 15, p3*0.4, 8, p3*0.3, 3\n    \n    iBaseFreq = 165\n    \n    aSigL hsboscil kAmp, kTone, kBrite, iBaseFreq, giWave, giHarmEnv\n    aSigR hsboscil kAmp, kTone*0.998, kBrite, iBaseFreq, giWave, giHarmEnv\n    \n    outs aSigL, aSigR\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 (brightness sweep)\ni1 0 4\n; Play instrument 2 (vibrato)\ni2 4.5 3\n; Play instrument 3 (spectral morphing)\ni3 8 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
