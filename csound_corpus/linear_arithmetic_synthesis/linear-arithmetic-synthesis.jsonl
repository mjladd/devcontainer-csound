{"instruction": "Write a CSound instrument that demonstrates linear arithmetic synthesis with crossfm", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSine ftgen 1, 0, 16384, 10, 1\n\ninstr 1\n    ; crossfm opcode: a1, a2 crossfm xfrq1, xfrq2, xndx1, xndx2, kcps, ifn1, ifn2 [, iphs1, iphs2]\n    ; crossfm implements cross-frequency modulation\n    ; Two oscillators modulate each other\n    ; xfrq1, xfrq2 - frequency ratios\n    ; xndx1, xndx2 - modulation indices\n    ; kcps - base frequency\n    \n    iAmp = 0.4\n    kCps = p4\n    kFreq1 = 1\n    kFreq2 = 1.5\n    kIndex1 = 3\n    kIndex2 = 2\n    \n    a1, a2 crossfm kFreq1, kFreq2, kIndex1, kIndex2, kCps, giSine, giSine\n    \n    ; Mix both outputs\n    aMix = (a1 + a2) * iAmp\n    \n    outs aMix, aMix\nendin\n\ninstr 2\n    ; crosspm opcode: a1, a2 crosspm xfrq1, xfrq2, xndx1, xndx2, kcps, ifn1, ifn2 [, iphs1, iphs2]\n    ; crosspm implements cross-phase modulation\n    ; Similar to crossfm but using phase modulation\n    \n    iAmp = 0.4\n    kCps = p4\n    kFreq1 = 1\n    kFreq2 = 2\n    kIndex1 = 5\n    kIndex2 = 3\n    \n    a1, a2 crosspm kFreq1, kFreq2, kIndex1, kIndex2, kCps, giSine, giSine\n    \n    aMix = (a1 + a2) * iAmp\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; Dynamic cross-modulation\n    iAmp = 0.4\n    kCps = p4\n    kFreq1 = 1\n    kFreq2 = 1.414\n    \n    ; Indices change over time\n    kIndex1 linseg 0, p3*0.3, 8, p3*0.7, 1\n    kIndex2 linseg 0, p3*0.3, 5, p3*0.7, 0.5\n    \n    a1, a2 crossfm kFreq1, kFreq2, kIndex1, kIndex2, kCps, giSine, giSine\n    \n    aMix = (a1 + a2) * iAmp\n    \n    outs aMix, aMix\nendin\n\ninstr 4\n    ; Stereo cross-modulation\n    iAmp = 0.4\n    kCps = p4\n    kFreq1 = 1\n    kFreq2 = 1.5\n    kIndex1 = 4\n    kIndex2 = 3\n    \n    a1, a2 crossfm kFreq1, kFreq2, kIndex1, kIndex2, kCps, giSine, giSine\n    \n    ; Use outputs separately for stereo\n    outs a1*iAmp, a2*iAmp\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play crossfm\ni1 0 2 220\ni1 2.5 2 330\n\n; Play crosspm\ni2 5.5 2 440\n\n; Play dynamic\ni3 8.5 4 294\n\n; Play stereo\ni4 13.5 3 392\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
