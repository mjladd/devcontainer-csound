{"instruction": "Write a Csound instrument that creates a suboctave sound using amplitude balance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from SubOctave.orc and SubOctave.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 44100\nksmps    = 1\nnchnls   = 1\n\n\ninstr    1 ; 4 Sub Octaves (Sub harmonics) Based on an orc by Paul M Winkler\n\nilevl    = p4*32767                      ; Output level\nioct1    = p5                            ; Octave 1 level\nioct2    = p6                            ; Octave 2 level\nioct3    = p7                            ; Octave 3 level\nioct4    = p8                            ; Octave 4 level\nimix     = p9                            ; Mix: 0=Input 1=Octaves\ninorm    = 1/(p5 + p6 + p7 + p8)         ; Normalizing factor\nkcount   init 0                          ; Initialize counter\nkloop    init 0                          ; Initialize loop\n\nain      soundin  \"Sample1\"\n\nkin      downsamp  ain                   ; Convert to kr\nktrig    trigger  kin, 0, 0              ; Detect zero crossings\nif       ktrig == 0 goto output          ; Do nothing if no zero cross\nkcount   = kcount + 1                    ; Increment counter\nkloop    wrap  kcount, 0, 16             ; Wrap counter at 16\n01:\nif       kloop != 01 goto 02             ; If count is not 1 skip to 2\naoct1    = -1                            ; Set bit 1\naoct2    = -1                            ; Set bit 2\naoct3    = -1                            ; Set bit 3\naoct4    = -1                            ; Set bit 4\ngoto     output                          ; Goto output\n02:\nif       kloop != 02 goto 03\naoct1    = +1\naoct2    = -1\naoct3    = -1\naoct4    = -1\ngoto     output\n03:\nif       kloop != 03 goto 04\naoct1    = -1\naoct2    = +1\naoct3    = -1\naoct4    = -1\ngoto     output\n04:\nif       kloop != 04 goto 05\naoct1    = +1\naoct2    = +1\naoct3    = -1\naoct4    = -1\ngoto     output\n05:\nif       kloop != 05 goto 06\naoct1    = -1\naoct2    = -1\naoct3    = +1\naoct4    = -1\ngoto     output\n06:\nif       kloop != 06 goto 07\naoct1    = +1\naoct2    = -1\naoct3    = +1\naoct4    = -1\ngoto     output\n07:\nif       kloop != 07 goto 08\naoct1    = -1\naoct2    = +1\naoct3    = +1\naoct4    = -1\ngoto     output\n08:\nif       kloop != 08 goto 09\naoct1    = +1\naoct2    = +1\naoct3    = +1\naoct4    = -1\ngoto     output\n09:\nif       kloop != 09 goto 10\naoct1    = -1\naoct2    = -1\naoct3    = -1\naoct4    = +1\ngoto     output\n10:\nif       kloop != 10 goto 11\naoct1    = +1\naoct2    = -1\naoct3    = -1\naoct4    = +1\ngoto     output\n11:\nif       kloop != 11 goto 12\naoct1    = -1\naoct2    = +1\naoct3    = -1\naoct4    = +1\ngoto     output\n12:\nif       kloop != 12 goto 13\naoct1    = +1\naoct2    = +1\naoct3    = -1\naoct4    = +1\ngoto     output\n13:\nif       kloop != 13 goto 14\naoct1    = -1\naoct2    = -1\naoct3    = +1\naoct4    = +1\ngoto     output\n14:\nif       kloop != 14 goto 15\naoct1    = +1\naoct2    = -1\naoct3    = +1\naoct4    = +1\ngoto     output\n15:\nif       kloop != 15 goto 16\naoct1    = -1\naoct2    = +1\naoct3    = +1\naoct4    = +1\ngoto     output\n16:\naoct1    = +1\naoct2    = +1\naoct3    = +1\naoct4    = +1\noutput:\naoct1    = aoct1*ioct1                   ; -1 octave level\naoct2    = aoct2*ioct2                   ; -2 octave level\naoct3    = aoct3*ioct3                   ; -3 octave level\naoct4    = aoct4*ioct4                   ; -4 octave level\naocts    sum  aoct1, aoct2, aoct3, aoct4 ; Sum octaves\naocts    = aocts*inorm                   ; Normalize\naout     = aocts*imix + ain*(1 - imix)   ; Mix input and octaves\nout      aout*ilevl                      ; Level and output\n\nendin\n\n</CsInstruments>\n<CsScore>\n;     Strt  Leng  Levl  Oct1  Oct2  Oct3  Oct4  Balance\ni01   0.00  1.50  1.00  1.00  0.00  0.00  0.00  0.50\ni01   2.00  .     .     0.00  1.00  .     1.00  1.00\ni01   4.00  .     .     0.25  0.50  0.75  .     .\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur   =         p3            ; Duration using snare drum and analog-style oscillator and Moog VCF filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from newsnare.orc and newsnare.sco\n; Original files preserved in same directory\n\nsr      =        44100                      ; Sample rate\nkr      =        44100                      ; Kontrol rate\nksmps   =        1                          ; Samples/Kontrol period\nnchnls  =        2                          ; Normal stereo\n\n\n;---------------------------------------------------------\n; Electric Snare\n;---------------------------------------------------------\n       instr     25\n\nidur   =         p3            ; Duration\niamp   =         p4            ; Amplitude\nifqc   =         cpspch(p5)    ; Pitch to frequency\nipanl  =         sqrt(p6)      ; Pan left\nipanr  =         sqrt(1-p6)    ; Pan right\nirez   =         .9+p7*.1      ; Tone\nispdec =         p8            ; Spring decay\nispton =         p9            ; Spring tone\nispmix =         p10           ; Spring mix\nispq   =         p11           ; Spring Q\n\nkdclk  linseg    1, idur-.002, 1, .002, 0                ; Declick envelope\naamp   linseg    1, .2/ifqc, 1, .2/ifqc, 0, idur-.002, 0 ; An amplitude pulse\naampr  expseg    .1, .002, 1, .2*ispdec, .005            ; Noise envelope\n\narnd   rand      1, .5, 1                     ; High quality noise\narnd    =        (arnd-.5)*2*aampr            ; Make it positive and negative\n\nahp1    rezzy    arnd, 2700*ispton, 5*ispq, 1 ; High pass rezzy based at 2700\nahp2    butterbp arnd, 2000*ispton, 500/ispq  ; Generate an undertone\nahp3    butterbp arnd, 5400*ispton, 500/ispq  ; Generate an overtone\nahp     pareq    ahp1+ahp2*.7+ahp3*.3, 15000, .1, .707, 2 ; Attenuate the highs a bit\n\naosc1   vco      1, 400, 2, 1, 1, 1 ; Use a pulse of the vco to stimulate the filters\naosc    =        -aosc1*aamp        ; Multiply by the envelope pulse\naosc2   butterlp aosc, 12000        ; Lowpass at 12K to take the edge off\n\nasig1   moogvcf  aosc,    ifqc, .9*irez      ; Moof filter with high resonance for basic drum tone\nasig2   moogvcf  aosc*.5, ifqc*2.1, .75*irez ; Sweeten with an overtone\n\n; Mix drum tones, pulse and noise signal & declick\naout   =         (asig1+asig2+aosc2*.1+ahp*ispmix)*iamp*kdclk*2\n\n       outs      aout*ipanl, aout*ipanr              ; Output the sound\n\n       endin\n\n</CsInstruments>\n<CsScore>\nf1 0 65536 10 1\n\n; Electric Snare\n;    Sta     Dur  Amp    Pitch  Pan  HitQ  SprDec SprTone SprMix SprQ\ni25  0.000   .25  25000  7.02   .5   1.3   1      1       1      1\ni25  +       .    .      .      .    .     .5     2       .      .\ni25  .       .    .      .      .    .     2      .5      .      .\ni25  .       .    .      .      .    .     1      1       .      2\ni25  .       .    .      .      .    .     .      .       .      0.5\ni25  .       .    .      .      .    .     .      .       .      1.5\ni25  .       .    .      .      .    .     2      .5      .      1\ni25  .       .    .      .      .    .     1      1       .      .\ni25  .       .    .      .      .    .     .      .       .      .\ni25  .       .    .      7.00   .    1.5   .      .       .      .\ns\n;    Sta     Dur   Amp    Pitch  Pan  HitQ  SprDec SprTone SprMix SprQ\ni25  0.000   .125  25000  7.02   0    1.3   .5     1       .8     1\ni25  +       .     .      .      <    .     .      .       .      .\ni25  .       .     .      .      <    .     .      .       .      .\ni25  .       .     .      .      <    .     .      .       .      .\ni25  .       .     .      .      <    .     .      .       .      .\ni25  .       .     .      .      <    .     .      .       .      .\ni25  .       .     .      .      <    .     .      .       .      .\ni25  .       .     .      .      <    .     .      .       .      .\ni25  .       .0625 .      .      <    .     .      .       .      .\ni25  .       .     .      .      <    .     .      .       .      .\ni25  .       .     .      .      <    .     .      .       .      .\ni25  .       .     .      .      <    .     .      .       .      .\ni25  .       .     .      .      <    .     .      .       .      .\ni25  .       .     .      .      <    .     .      .       .      .\ni25  .       .     .      .      <    .     .      .       .      .\ni25  .       .     .      .      <    .     .      .       .      .\ni25  .       .0625 .      .      <    .     .      .       .      .\ni25  .       .     .      .      <    .     .      .       .      .\ni25  .       .     .      .      <    .     .      .       .      .\ni25  .       .     .      .      <    .     .      .       .      .\ni25  .       .     .      .      <    .     .      .       .      .\ni25  .       .     .      .      <    .     .      .       .      .\ni25  .       .     .      .      <    .     .      .       .      .\ni25  .       .     .      .      <    .     .      .       .      .\ni25  .       .25   .      .      1    1.5   2      .       .8     .\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur   =         p3            ; Duration using analog-style oscillator and Butterworth lowpass filter and Butterworth bandpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from newcymbal.orc and newcymbal.sco\n; Original files preserved in same directory\n\nsr      =        44100                      ; Sample rate\nkr      =        44100                      ; Kontrol rate\nksmps   =        1                          ; Samples/Kontrol period\nnchnls  =        2                          ; Normal stereo\n\n; Mikelson Cymbal ORCHESTRA\n\n;---------------------------------------------------------\n; Cymbal\n;---------------------------------------------------------\n       instr     17\n\nidur   =         p3            ; Duration\niamp   =         p4/(1+sqrt(p3))*.3*sqrt(p8) ; Amplitude\nifqc   =         cpspch(p5)\nipanl  =         sqrt(p6)      ; Pan left\nipanr  =         sqrt(1-p6)    ; Pan right\niqfqc  =         p7            ; Primary resonance\niqq    =         p8            ; Resonance Q\niqact  =         p9*.02        ; Resonance accent\niotfqc =         p10           ; Overtone frequency\niotq   =         p10*.25       ; Overtone bandwidth\niotact =         .02           ; Overtone accent\nilpfco =         p10*1.25      ; Lowpass\niaact  =         p11*.001      ; Amplitude accent\nipbend =         p12\niptim  =         p13\n\nadclck linseg    0, .002, 1, idur-.004, 1, .002, 0 ; Declick envelope\nkamp   expseg    1, idur, iaact\nkamp2  expseg    2, idur, iqact\nkamp3  expseg    1, idur, iotact\nkptch  expseg    ipbend, iptim, 1, idur-iptim, 1\n\narnd   rand      kamp2\n\nasig1  vco       1, ifqc*kptch,     2, .5, 1, 2/ifqc     ; Genrate impulse\nasig2  vco       1, ifqc*1.3*kptch, 2, .5, 1, 2/ifqc     ; Genrate impulse\n;asig3  vco       1, ifqc*.573, 2, .5, 1, 2/ifqc     ; Genrate impulse\nasig   =         (asig1*asig2*(1+arnd))*iamp*adclck*kamp\n\naout1  rezzy    asig, iqfqc, iqq, 1  ; Apply amp envelope and declick\naout2  butterbp aout1*kamp3, iotfqc, iotq   ; Apply amp envelope and declick\naout   butterlp aout1+aout2*4, ilpfco       ; Apply amp envelope and declick\n\n       outs      aout*ipanl, aout*ipanr            ; Output the sound\n\n       endin\n\n</CsInstruments>\n<CsScore>\n; SCORE\nf1 0 65536 10 1\n\n;    Sta   Dur   Amp    Pitch  Pan  QFqc  QQ  QAcct  OTFqc  Accent PBend PBTime\ni17  0.0   0.15  30000  10.00  .5   7000  15  1      14000  1      1.02  .05\ni17  .5    0.15  30000  10.00  .5   .     .   .      .      .      .     .\ni17  1     0.15  30000  10.00  .5   .     .   .      .      .      .     .\ni17  1.5   0.15  30000  10.00  .5   .     .   .      .      .      .     .\ni17  2     2.0   30000  10.00  .5   .     .   .      .      .      .     .\ni17  +     2.0   30000  9.00   .5   .     .   .      .      .      .     .\ns\n\n;    Sta   Dur   Amp    Pitch  Pan  QFqc  QQ  QAcct  OTFqc\ni17  0.0   0.15  20000  10.00  .5   7000  35  1      14000  1      1.02  .05\ni17  .5    0.15  30000  10.00  .5   .     15  .      .      .      .     .\ni17  1     0.15  30000  10.00  .5   .     5   .      .      .      .     .\ni17  1.5   0.15  30000  10.00  .5   .     2   .      .      .      .     .\ni17  2     1.0   25000  10.00  .5   .     25  .      .      .      .     .\ni17  +     1.0   30000  10.00  .5   .     5   .      .      .      .     .\ns\n\n;    Sta   Dur   Amp    Pitch  Pan  QFqc  QQ  QAcct  OTFqc\ni17  0.0   0.15  30000  6.00  .5   7000  15  1      14000  1      1.02  .05\ni17  .5    0.15  30000  6.00  .5   6000  .   .      .      .      .     .\ni17  1     0.15  30000  5.00  .5   5000  .   .      .      .      .     .\ni17  1.5   0.15  30000  8.00  .5   8000  .   .      .      .      .     .\ni17  2     2.0   30000  5.00  .5   5000  .   .      10000  10     .     .\ni17  +     2.0   30000  4.00  .5   4000  .   .      .      .      .     .\ni17  .     2.0   30000  3.00  .5   4000  15  .      .      .      .     .\ni17  .     2.0   30000  4.00  .5   2000  .   100    5000   100    .     .\ni17  .     2.0   20000  3.00  .5   4000  .   .      .      .      .     .\ni17  .     2.0   30000  3.00  .5   2000  .   10     3000   10     .     .\ni17  .     4.0   30000  3.00  .5   2000  .   .      .      .      .     .\ni17  .     4.0   15000  2.00  .5   4500  .   20     10000   200   1.5   .5\ns\n\n;    Sta   Dur   Amp    Pitch  Pan  QFqc  QQ  QAcct  OTFqc\ni17  0.0   0.15  30000  6.00  .5   7000  15  1      14000  1      1.02  .05\ni17  .5    0.15  30000  6.00  .5   6000  .   .      .      .      .     .\ni17  1     0.15  30000  5.00  .5   5000  .   .      .      .      .     .\ni17  1.5   0.15  30000  8.00  .5   8000  .   .      .      .      .     .\ni17  2     2.0   30000  9.00  .5   5000  .   .      .      .      .     .\ni17  +     2.0   30000  9.00  .5   4000  .   .      .      .      .     .\ni17  .     2.0   40000  10.00  .5  4000  15  10     .      10     .     .\ni17  .     2.0   40000  10.00  .5  2000  15  1      .      1      .     .\ni17  .     2.0   40000  10.00  .5  3000  15  10     .      10     .8    .2\ni17  .     2.0   40000  11.00  .5  1500  15  .      .      .      1.04  .\ns\n\n;    Sta   Dur   Amp    Pitch  Pan  QFqc  QQ  QAcct   OTFqc\ni17  0.0   0.15  30000  10.00  .5   8000  10  1      14000  1      1.02  .05\ni17  +     0.15  30000  10.00  .5   <     .   .      .      .      .     .\ni17  .     0.15  30000  10.00  .5   <     .   .      .      .      .     .\ni17  .     0.15  30000  10.00  .5   <     .   .      .      .      .     .\ni17  .     0.15  30000  10.00  .5   <     .   .      .      .      .     .\ni17  .     0.15  30000  10.00  .5   <     .   .      .      .      .     .\ni17  .     0.1   30000  10.00  .5   <     .   .      .      .      .     .\ni17  .     0.1   30000  10.00  .5   <     .   .      .      .      .     .\ni17  .     0.1   30000  10.00  .5   <     .   .      .      .      .     .\ni17  .     0.1   30000  10.00  .5   <     .   .      .      .      .     .\ni17  .     0.1   30000  10.00  .5   <     .   .      .      .      .     .\ni17  .     0.1   30000  10.00  .5   <     .   .      .      .      .     .\ni17  .     0.1   30000  10.00  .5   <     .   .      .      .      .     .\ni17  .     0.1   30000  10.00  .5   <     .   .      .      .      .     .\ni17  .     0.1   30000  10.00  .5   <     .   .      .      .      .     .\ni17  .     0.1   30000  10.00  .5   <     .   .      .      .      .     .\ni17  .     0.1   30000  10.00  .5   <     .   .      .      .      .     .\ni17  .     0.1   30000  10.00  .5   <     .   .      .      .      .     .\ni17  .     0.1   30000  10.00  .5   <     .   .      .      .      .     .\ni17  .     0.1   30000  10.00  .5   <     .   .      .      .      .     .\ni17  .     0.1   30000  10.00  .5   <     .   .      .      .      .     .\ni17  .     0.1   30000  10.00  .5   <     .   .      .      .      .     .\ni17  .     0.1   30000  10.00  .5   <     .   .      .      .      .     .\ni17  .     0.1   30000  10.00  .5   <     .   .      .      .      .     .\ni17  .     1.0   30000  10.00  .5   6000  .   .      .      .      .     .\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for insnd     =         p4 using analog-style oscillator and Moog VCF filter and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from nestedap.orc and nestedap.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n\n          instr     5\n\ninsnd     =         p4\n\ngasig     diskin    insnd, 1\n\n          endin\n\n          instr     10\n\nimax      =          1\nidel1     =          p4\nigain1    =         p5\nidel2     =         p6\nigain2    =         p7\nidel3     =         p8\nigain3    =         p9\nidel4     =         p10\nigain4    =         p11\nidel5     =         p12\nigain5    =         p13\nidel6     =         p14\nigain6    =         p15\n\nafdbk     init      0\n\naout1     nestedap  gasig+afdbk*.4, 3, imax, idel1, igain1, idel2, igain2, idel3, igain3\naout2     nestedap  aout1, 2, imax, idel4, igain4, idel5, igain5\naout      nestedap  aout2, 1, imax, idel6, igain6\nafdbk     butterlp  aout, 1000\n\n          outs      gasig+(aout+aout1)/2, gasig-(aout+aout1)/2\ngasig     =         0\n\n\n          endin\n\n          instr     20\n\nksv       =         p4\nkrv       =         p5\nkbv       =         p6\n\nax, ay, az lorenz ksv, krv, kbv, .01, .6, .6, .6, 1\n\n          outs      ax*1000, ay*1000\n\n          endin\n\n          instr     30\n\niamp      =         p4\nifqc      =         cpspch(p5)\n\nkfco      linseg    300, .1, 2000, .2, 700, p3-.3, 600\n\nax        vco       1, ifqc, 2, 1, 1, 2/ifqc\nay        moogvcf   ax, kfco, 2, 2\n\n          outs      ay*iamp, ay*iamp\n\n          endin\n\n\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\n\n; DISKIN\n;   Sta  Dur  Soundin\n;i5  0    3    1\n\n; REVERB\n;   Sta  Dur  Del1 Gain1 Del2 Gain2  Del3 Gain3 Del4 Gain4 Del5 Gain5 Del6 Gain6\n;i10 0    4    97   .11   23   .07    43   .09   72   .2    53   .2    119  .3\n\n; LORENZ SYSTEM\n;   Sta  Dur  S   R  V\n;i20 0    1    10  28  2.667\n\n; MOOGVCF WITH DISTORTION\ni30  0   1   20000   7.00\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using test/demonstration and analog-style oscillator and buzz/pulse generator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from test2.orc and test2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n;---------------------------------------------------------------------------------\n; A SET OF BAND LIMITED INSTRUMENTS WITH RESONANT FILTER\n; BY HANS MIKELSON 11/20/97\n; PARTIALLY DERIVED FROM CODE BY JOSEP MÂª COMAJUNCOSAS-CSOUND & TIM STILSON-CCRMA\n;---------------------------------------------------------------------------------\n          zakinit   30, 30\n\n;---------------------------------------------------------------------------------\n; SAW WITH MIKELSON REZZY FILTER\n;---------------------------------------------------------------------------------\n          instr     10\n\nidur      =         p3\niamp      =         p4\nifqc      =         cpspch(p5)*1.33\nifco      =         p6\nia2       =         1\nkrez      init      p7\n\nkfco      expseg    100+.01*ifco, .2*idur, ifco+100, .5*idur, ifco*.1+100, .3*idur, .001*ifco+100\nkamp      linseg    0, .002, iamp, .2, iamp*.8, p3-.222, iamp*.5, .02, 0\n\naxn       vco       ia2, ifqc, 1, .5, 1, 1\nayn       rezzy     axn,  kfco, krez\n\n          outs      ayn*kamp, ayn*kamp\n          endin\n\n;---------------------------------------------------------------------------------\n; SAW WITH STILSON/SMITH/COMAJUNCOSAS MOOG FILTER\n;---------------------------------------------------------------------------------\n          instr     11\n\nidur      =         p3\niamp      =         p4\nifqc      =         cpspch(p5)\nifco      =         p6\nkrez      init      p7\n\nkfco      linseg    100+.01*ifco, .2*idur, ifco+100, .5*idur, ifco*.1+100, .3*idur, .01*ifco+100\n\napulse1   buzz      1,ifqc, sr/2/ifqc, 1          ; AVOID ALIASING\nasaw      integ     apulse1\nax        =         (asaw-.5)*2\nayn       moogvcf   ax, kfco, krez, 1\n\n          outs      ayn*iamp, ayn*iamp\n          endin\n\n;---------------------------------------------------------------------------------\n; SAW WITH CHAMBERLIN REZZY FILTER\n;---------------------------------------------------------------------------------\n          instr     14\n\nidur      =         p3\niamp      =         p4\nifqc      =         cpspch(p5)\nifco      =         p6\nkrez      init      p7\n\nkfco      expseg    100+.01*ifco, .2*idur, ifco+100, .5*idur, ifco*.1+100, .3*idur, .001*ifco+100\n\napulse1   buzz      1,ifqc, sr/2/ifqc, 1          ; AVOID ALIASING\nasaw      integ     apulse1\naxn       =         asaw-.5\n\nkfcon     =         2*3.14159265*kfco/sr\n\nkalpha    =         1-2*krez*cos(kfcon)*cos(kfcon)+krez*krez*cos(2*kfcon)\nkbeta     =         krez*krez*sin(2*kfcon)-2*krez*cos(kfcon)*sin(kfcon)\nkgama     =         1+cos(kfcon)\nkm1       =         kalpha*kgama+kbeta*sin(kfcon)\nkm2       =         kalpha*kgama-kbeta*sin(kfcon)\nkden      =         sqrt(km1*km1+km2*km2)\n\nkb0       =         1.5*(kalpha*kalpha+kbeta*kbeta)/kden\nkb1       =         kb0\nkb2       =         0\n\nka0       =         1\nka1       =         -2*krez*cos(kfcon)\nka2       =         krez*krez\n\nayn       biquad    axn, kb0, kb1, kb2, ka0, ka1, ka2\n\n          outs      ayn*iamp/2, ayn*iamp/2\n          endin\n\n\n;---------------------------------------------------------------------------------\n; SAW WITH MIKELSON REZZY FILTER\n;---------------------------------------------------------------------------------\n          instr     15\n\nidur      =         p3\niamp      =         p4\nifqc      =         cpspch(p5)*1.33\nifco      =         p6\nia2       =         1\nkrez      init      p7\n\nkfco      expseg    100+.01*ifco, .2*idur, ifco+100, .5*idur, ifco*.1+100, .3*idur, .001*ifco+100\nkamp    linseg  0, .002, iamp, .2, iamp*.8, p3-.222, iamp*.5, .02, 0\n\n; axn     moogvco   ia2, ifqc, 1, 1\napulse    buzz      1,ifqc, sr/2/ifqc, 1               ; AVOID ALIASING\nasaw      biquad    apulse, 1, 0, 0, 1, -.999, 0       ; BIQUAD USED AS A LEAKY INTEGRATOR\n\n; SET UP FOR HIGH PASS VERSION OF REZZY.\nkt        =         .75/sqrt(1+krez)\nkc        =         sr/kfco/2/3.14159265\nkq        =         krez/(1+sqrt(sqrt(1/kc)))\nkb0       =         (kc/kq+kc*kc)*kt\nkb1       =         (-kc/kq-2*kc*kc)*kt\nkb2       =         kc*kc*kt\nka0       =         kc/kq+kc*kc\nka1       =         -kc/kq-2*kc*kc+1\nka2       =         kc*kc\n\nayn       biquad    asaw,  kb0, kb1, kb2, ka0, ka1, ka2     ; BIQUAD USED FOR HIGH PASS REZZY\n\n          outs      ayn*kamp, ayn*kamp\n          endin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 16384 10 1                               ; Sine\n\n; SAW MIKELSON\n;    Sta  Dur  Amp    Pitch  Fco   Rez\n;i15  0.0  2    40000  7.05   1000  10\n;i15  +    .    40000  6.03   2000  20\n;i15  .    .    40000  6.10   4000  40\n;i15  .    .    40000  7.05   8000  80\n\n; SAW MOOG/SMITH/STILSON C\n;    Sta  Dur  Amp    Pitch  Fco   Rez\ni11  0.0  1.0  20000  6.00   1000  .7\ni11  +    1.0  20000  6.03   2000  .8\ni11  .    1.0  20000  6.10   3000  .98\ni11  .    1.0  20000  7.05   4000  2\n\n; SAW CHAMBERLIN BIQUAD\n;    Sta  Dur  Amp    Pitch  Fco   Rez\n;i14  8.0  1.0  20000  6.00   1000  .8\n;i14  +    1.0  20000  6.03   2000  .95\n;i14  .    1.0  20000  6.10   3000  .98\n;i14  .    1.0  20000  7.05   4000  .99\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur   =      p3            ; Duration using analog-style oscillator and panning and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from mikelruttamoog.orc and mikelruttamoog.sco\n; Original files preserved in same directory\n\nsr      =        44100                      ; Sample rate\nkr      =        44100                      ; Kontrol rate\nksmps   =        1                          ; Samples/Kontrol period\nnchnls  =        2                          ; Normal stereo\n\n; ORCHESTRA\n;---------------------------------------------------------\n; Runge-Kutta Mass Spring Stimulated by an oscillator\n; Coded by Hans Mikelson April, 2000\n;---------------------------------------------------------\n\n;---------------------------------------------------------\n; Runge-Kutta Implementation of Moog VCF\n;---------------------------------------------------------\n        instr  6\n\nidur   =      p3            ; Duration\niamp   =      p4            ; Amplitude\nifco   =      p5            ; Spring/Mass constant\niq     =      p6            ; Damping factor\nih     =      p7            ; Diff eq step size\nipanl  =      sqrt(p8)      ; Pan left\nipanr  =      sqrt(1-p8)    ; Pan right\nifqc   =      cpspch(p9)    ; Pitch to frequency\n\nkdclck linseg 0, .02, 1, idur-.04, 1, .02, 0 ; Declick envelope\nkfco   expseg ifco, idur, ifco*.1\nkq     =      iq*kfco^1.2*.1\nkfc    =      kfco/8/sr*44100\n\nay     init   0\nay1    init   0\nay2    init   0\nay3    init   0                      ; No history to start with\nax     vco   1, ifqc, 2, 1, 1, 1        ; Square wave\n\n   ; R-K Section 1\n   afdbk =      kq*tanh(ay)\n   ak11  =      ih*((ax-ay1)*kfc-afdbk)\n   ak21  =      ih*((ax-(ay1+.5*ak11))*kfc-afdbk)\n   ak31  =      ih*((ax-(ay1+.5*ak21))*kfc-afdbk)\n   ak41  =      ih*((ax-(ay1+ak31))*kfc-afdbk)\n   ay1   =      ay1+(ak11+2*ak21+2*ak31+ak41)/6\n\n   ; R-K Section 2\n   ak12  =      ih*((ay1-ay2)*kfc)\n   ak22  =      ih*((ay1-(ay2+.5*ak12))*kfc)\n   ak32  =      ih*((ay1-(ay2+.5*ak22))*kfc)\n   ak42  =      ih*((ay1-(ay2+ak32))*kfc)\n   ay2   =      ay2+(ak12+2*ak22+2*ak32+ak42)/6\n\n   ; R-K Section 3\n   ak13  =      ih*((ay2-ay3)*kfc)\n   ak23  =      ih*((ay2-(ay3+.5*ak13))*kfc)\n   ak33  =      ih*((ay2-(ay3+.5*ak23))*kfc)\n   ak43  =      ih*((ay2-(ay3+ak33))*kfc)\n   ay3   =      ay3+(ak13+2*ak23+2*ak33+ak43)/6\n\n   ; R-K Section 4\n   ak14  =      ih*((ay3-ay)*kfc)\n   ak24  =      ih*((ay3-(ay+.5*ak14))*kfc)\n   ak34  =      ih*((ay3-(ay+.5*ak24))*kfc)\n   ak44  =      ih*((ay3-(ay+ak34))*kfc)\n   ay    =      ay+(ak14+2*ak24+2*ak34+ak44)/6\n\naout   =      ay*iamp*kdclck*1.5/(1+iq) ; Apply amp envelope and declick\n\n        outs   aout*ipanl, aout*ipanr  ; Output the sound\n\n        endin\n\n;---------------------------------------------------------\n; Runge-Kutta Modified Moog VCF to only oscillate positive\n;---------------------------------------------------------\n        instr  7\n\nidur   =      p3            ; Duration\niamp   =      p4            ; Amplitude\nifco   =      p5            ; Spring/Mass constant\niq     =      p6            ; Damping factor\nih     =      p7            ; Diff eq step size\nipanl  =      sqrt(p8)      ; Pan left\nipanr  =      sqrt(1-p8)    ; Pan right\nifqc   =      cpspch(p9)    ; Pitch to frequency\n\nkdclck linseg 0, .02, 1, idur-.04, 1, .02, 0 ; Declick envelope\nkfco   expseg ifco, idur, ifco*.1\nkq     =      iq*kfco^1.2*.1\nkfc    =      kfco/8/sr*44100\n\nay     init   0\nay1    init   0\nay2    init   0\nay3    init   0                         ; No history to start with\nax     vco   1, ifqc, 2, 1, 1, 1        ; Square wave\n\n   ; R-K Section 1\n   afdbk =      kq*ay/(1+exp(-ay*3))             ; Only oscillate in \none direction\n   ak11  =      ih*((ax-ay1)*kfc-afdbk)\n   ak21  =      ih*((ax-(ay1+.5*ak11))*kfc-afdbk)\n   ak31  =      ih*((ax-(ay1+.5*ak21))*kfc-afdbk)\n   ak41  =      ih*((ax-(ay1+ak31))*kfc-afdbk)\n   ay1   =      ay1+(ak11+2*ak21+2*ak31+ak41)/6\n\n   ; R-K Section 2\n   ak12  =      ih*((ay1-ay2)*kfc)\n   ak22  =      ih*((ay1-(ay2+.5*ak12))*kfc)\n   ak32  =      ih*((ay1-(ay2+.5*ak22))*kfc)\n   ak42  =      ih*((ay1-(ay2+ak32))*kfc)\n   ay2   =      ay2+(ak12+2*ak22+2*ak32+ak42)/6\n\n   ; R-K Section 3\n   ak13  =      ih*((ay2-ay3)*kfc)\n   ak23  =      ih*((ay2-(ay3+.5*ak13))*kfc)\n   ak33  =      ih*((ay2-(ay3+.5*ak23))*kfc)\n   ak43  =      ih*((ay2-(ay3+ak33))*kfc)\n   ay3   =      ay3+(ak13+2*ak23+2*ak33+ak43)/6\n\n   ; R-K Section 4\n   ak14  =      ih*((ay3-ay)*kfc)\n   ak24  =      ih*((ay3-(ay+.5*ak14))*kfc)\n   ak34  =      ih*((ay3-(ay+.5*ak24))*kfc)\n   ak44  =      ih*((ay3-(ay+ak34))*kfc)\n   ay    =      ay+(ak14+2*ak24+2*ak34+ak44)/6\n\naout   =      ay*iamp*kdclck*1.5 ; Apply amp envelope and declick\n\n        outs   aout*ipanl, aout*ipanr  ; Output the sound\n\n        endin\n\n</CsInstruments>\n<CsScore>\n; SCORE\nf1 0 65536 10 1\n\n; Runge-Kutta Implementation of Moog VCF\n;    Sta     Dur  Amp    Fco   Q    h      Pan  Pitch\ni6   0.000   .5   30000  1000  1    .001   .5   6.00\ni.   +       .    .      2000  .    .      .    .\ni.   .       .    .      4000  .    .      .    .\ni.   .       .    .      8000  .    .      .    .\ni.   .       .    .      1000  2    .      .    .\ni.   .       .    .      2000  .    .      .    .\ni.   .       .    .      4000  .    .      .    .\ni.   .       .    .      8000  .    .      .    .\ns\n;    Sta     Dur  Amp    Fco   Q    h      Pan  Pitch\ni7   0.000   .5   30000  1000  1    .001   .5   6.00\ni.   +       .    .      2000  .    .      .    .\ni.   .       .    .      4000  .    .      .    .\ni.   .       .    .      8000  .    .      .    .\ni.   .       .    .      1000  2    .      .    .\ni.   .       .    .      2000  .    .      .    .\ni.   .       .    .      4000  .    .      .    .\ni.   .       .    .      8000  .    .      .    .\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iduration   =           p3 using parameter sweep and Butterworth bandpass filter and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from sweep.orc and sweep.sco\n; Original files preserved in same directory\n\nsr          =           44100\nkr          =           4410\nksmps       =           10\nnchnls      =           1\n\n\n            instr       1\n            \niduration   =           p3\niamp        =           p4\ninoiseamp   =           22050\nistartfilt  =           p5\niendfilt    =           p6\niattack     =           .01\nirelease    =           .1\n            \nkenvelope   linen       iamp, iattack, iduration, irelease\nkcutoffrq   line        istartfilt, iduration, iendfilt\n\nanoise      rand        inoiseamp\nafilter1    butterbp    anoise, kcutoffrq, kcutoffrq / 10\nafilter2    butterbp    afilter1, kcutoffrq, kcutoffrq  / 10\nasignal     =           afilter2 * kenvelope\n\n            out         asignal\n            endin\n\n</CsInstruments>\n<CsScore>\n; sweep.sco\n; from \"Making Music with Csound\"  \n; copyright 1997 MIT Press ed. Richard Boulanger & Barry Vercoe\n\n;   strt  dur   amp  strtflt endflt\n\ni1  0.0   10.0  1.5  10000     20\ni1 10.0    5.0  1.5     20  10000\ni1 15.0    5.0  1.5   5000    500\ni1 20.0    2.5  1.5     50   5000\ni1 22.5    2.5  1.5  12000    100\ns\ni1  0.0   20.0  1.3  10000     20\ni1  5.0   15.0  1.0     20  10000\ni1 10.0   10.0  0.9   5000    500\ni1 12.0    8.0  0.9     50   5000\ni1 15.0    5.0  1.2  12000    100\n  \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for SUBHARMONIC SYNTHESIS using Butterworth bandpass filter and resonant filter bank and tone control filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from subharm.orc and subharm.sco\n; Original files preserved in same directory\n\nsr\t\t\t=\t44100\nkr\t\t\t=\t44100\nksmps\t\t=\t1\nnchnls\t\t=\t2\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;;;COPYRIGHT 1998 Paul M. Winkler, zarmzarm@hotmail.com\n;****++++\n;**** Last modified: Fri Jun 18 00:52:34 1999\n;****----\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n\n\n\ninstr 1\n        \t\t\t\t\t\t\t\t\t\t; SUBHARMONIC SYNTHESIS\n        \t\t\t\t\t\t\t\t\t\t; VERSION ONE -- DOWNSAMPLING\n        \t\t\t\t\t\t\t\t\t\t; LOW KSMPS (1 OR 2) GIVES BEST-SOUNDING RESULTS.\nistraightgain \t= \tampdb(p4)                     \t; USED AS GAINS,\nidown1gain \t= \tampdb(p5)                     \t; NOT AMPLITUDES.\nidown2gain \t=  \tampdb(p6)                     \t; E.G. IF ARG IS\n                                                \t\t; 6, THE GAIN IS 2.\n                                                \t\t; IF ARG. IS -6, \n                                                \t\t; GAIN IS 0.5.\n; FIRST GENERATE SOME SOUND\n\nkcount \tinit 0\nktest \tinit 0\nkamp \texpseg \t.001, 0.5, 1, p3 -1, 1, 0.5, .0001 \nkpitch \tlinseg \t0.9, p3, 1.3\na1 \t\tdiskin \t\"drumloop.aif\", kpitch\n; afilt1 \ttonex \ta1, 400, 4     \t\t\t\t; HEAVY PRE-FILTERING.\nafilt1 \tresonx \ta1, 150, 200, 2, 1 \t\t\t\t; THIS COULD USE SOME TWEAKING\nk1 \t\tdownsamp \tafilt1\n\n; NOW PROCESS CHANNEL 1.\n; THIS WORKS BY COUNTING UPWARD ZERO CROSSINGS IN THE \n; WAVEFORM.\n; THE COUNT IS USED TO SET THE OUTPUT TO EITHER 1 OR -1\n; SO WE GET A SQUARE WAVES AT HALF (AND A QUARTER) OF\n; THE INPUT FREQUENCY.\n\nkdetect \ttrigger \tk1, 0, 0 \t\t\t\t\t\t; NOTICE ONLY UPWARD ZERO-CROSSINGS\nif kdetect == \t0 goto next1\nkcount \t= \tkcount + 1\nktest \t= \tkcount % 4\nnext1:\n    if ktest \t!= \t1 goto next2\n    adown1  \t= \t1\n    adown2 \t= \t1\n    goto \t\toutput\nnext2:\n    if ktest \t!= \t2 goto next3\n    adown1 \t=   -1\n    adown2 \t= \t1\n    goto \t\toutput\nnext3:\n    if ktest \t!=\t3 goto next4\n    adown1 \t= \t1\n    adown2 \t=   -1\n    goto\t\toutput\nnext4:\n    adown1 \t=   -1\n    adown2 \t=   -1\noutput:\n\n; CHOOSE YOUR FILTER...\n\n; adown1 \ttone \tadown1, kfreq * .04     \t\t; TAKES OUT SOME HIGH END, BUT\n     \t\t\t\t\t\t\t\t\t; STILL SYNTH-SOUNDING... LOOKS LIKE A TRIANGLE WAVE.\n; adown1 \trezzy \tadown1, 40, 30      \t\t; PRETTY SMOOTH BUT ASYMMETRICAL.\n; adown1 \ttonex \tadown1, 40, 7         \t\t; DISTORTS WITH SOME INPUTS.\nadown1 \tresonx \tadown1, 35, 60, 4       \t\t; VERY NICE, NEAR-SINE OUTPUT.\nadown2 \tresonx \tadown2, 30, 50, 4\n; adown1 \tbutterbp \tadown1, 30, 10      \t\t; OUTPUT LOOKS LIKE A TRIANGLE WAVE!\nadown1 \tdcblock \tadown1\nadown2 \tdcblock \tadown2\nadown1 \tbalance \tadown1, afilt1   \t\t\t; RESTORE DYNAMICS.\nadown2 \tbalance \tadown2, afilt1   \t\t\t; IT'S IMPORTANT TO USE FILTERED SIGNAL!\na1 \t\t= \t\ta1 * istraightgain\n\t\touts \ta1 + (adown1 * idown1gain),  a1 + (adown2 * idown2gain)\n\t\tendin\n\n\n\n\n\n\n\n\n</CsInstruments>\n<CsScore>\nf1 0 32768 10 1                          ; SINE\n\n;GAINS:  \n;1      at      dur   straight  down1   down2\n\ni1      0       3.88    -12      -1      -10\ni1      +       3.88    -95       4        4       \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp  \tinit \tp4 using Butterworth bandpass filter and delay effect and delay line read", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fdback2.orc and fdback2.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t22050\nksmps\t=\t\t2\nnchnls\t=\t\t2\n\n;===========================================================================\n; A MULTI-EFFECTS SYSTEM BY HANS MIKELSON\n;===========================================================================\n\n\n\t\tzakinit \t30, 30\n\n;---------------------------------------------------------------------------\n; NOISE\n;---------------------------------------------------------------------------\n\t\tinstr 4\n\niamp  \tinit \tp4\nizout \tinit \tp5\nkamp  \tlinseg \t0, .002, p4, p3-.004, p4, .002, 0\n\narnd1  \trand\t\tkamp\t\t\t\t\t\t    ;RANDOM GENERATOR\nafilt  \ttone\t\tarnd1, 1000\t\t\t\t    ;LOW PASS FILTER\n\t  \tzawm\t\tafilt, izout\t\t\t\t    ;MIX TO ZAK CHANNEL\n\n\t\tendin\n\n\n;---------------------------------------------------------------------------\n; FEEDBACK GENERATOR\n;---------------------------------------------------------------------------\n\t    \tinstr\t  14\n\nigaini   \t=\t  \tp4\t\t   ; PRE GAIN\nigainf   \t=\t  \tp5\t\t   ; POST GAIN\niduty    \t=\t  \tp6\t\t   ; DUTY CYCLE SHIFT\nitabd    \t=\t  \tp7\t\t   ; DISTORTION TABLE\niresfqc  \t=\t  \tp8\t\t   ; RESONANCE FREQUENCY\nideltim  \t=\t  \tp9\t\t   ; FEEDBACK DELAY TIME\nifeedbk  \t=\t  \tp10\t   \t   ; FEEDBACK GAIN\nitabc    \t=\t  \tp11\t   \t   ; LIMITER TABLE\nizin\t    \t=\t  \tp12\t   \t   ; INPUT CHANNEL\nizout    \t=\t  \tp13\t   \t   ; OUTPUT CHANNEL\n\nasign    \tinit\t  \t0\t\t   ; INITIALIZE LAST VALUE\n\nkdclick  \tlinseg   \t0, .1, 1, p3-.3, 1, .2, 0\t\t; RAMP FEEDBACK IN AND OUT\nkamp\t    \tlinseg   \t0, .002, 1, p3-.004, 1, .002, 0\t; DECLICK\n\nasig\t    \tzar\t   \tizin\t\t\t\t\t\t \t; READ INPUT CHANNEL\n\nafdbk    \t=\t   \tasig/100\t\t\t\t\t \t; REDUCE ORIGINAL SIGNAL\nadel1    \tdelayr   \tideltim\t\t\t\t\t \t; FEED BACK DELAY\nafilt    \tbutterbp \tadel1, iresfqc, iresfqc/4\t\t; FILTER THE DELAYED SIGNAL\nkamprms  \trms\t   \tafilt\t\t\t\t\t\t; FIND RMS LEVEL\nkampn    \t=\t   \tkamprms/30000\t\t\t\t\t; NORMALIZE RMS LEVEL 0-1.\nkcomp    \ttablei   \tkampn,itabc,1,0\t\t \t\t; LOOK UP COMPRESSION VALUE IN TABLE\n\t    \tdelayw   \tafdbk+kcomp*ifeedbk*afilt\t\t; ADD LIMITED FEEDBACK\n\n\t    \tzaw\t  \tadel1, izout\t\t\t\t   \t; WRITE TO THE OUTPUT CHANNELS\n\n\t    \tendin\n\n;---------------------------------------------------------------------------\n; MIXER SECTION\n;---------------------------------------------------------------------------\n\t\tinstr 100\n\nasig1\tzar\t \tp4\t\t\t ; READ INPUT CHANNEL 1\nigl1\t\tinit\t \tp5*p6\t\t ; LEFT GAIN\nigr1\t\tinit\t \tp5*(1-p6)\t \t ; RIGHT GAIN\n\nasig2\tzar\t \tp7\t\t\t ; READ INPUT CHANNEL 2\nigl2\t\tinit\t \tp8*p9\t\t ; LEFT GAIN\nigr2\t\tinit\t \tp8*(1-p9)\t \t ; RIGHT GAIN\n\nkdclick\tlinseg  \t0, .001, 1, p3-.002, 1, .001, 0\t ; DECLICK\n\nasigl\t=\t \tasig1*igl1 + asig2*igl2\t \t\t ; SCALE AND SUM\nasigr\t=\t \tasig1*igr1 + asig2*igr2\n\n\t\touts\t \tkdclick*asigl, kdclick*asigr\t  \t ; OUTPUT STEREO PAIR\n\n\t\tendin\n\n;---------------------------------------------------------------------------\n; CLEAR AUDIO & CONTROL CHANNELS\n;---------------------------------------------------------------------------\n\t\tinstr 110\n\n\t\tzacl\t \t0, 30\t\t ; CLEAR AUDIO CHANNELS 0 TO 30\n\t\tzkcl\t \t0, 30\t\t ; CLEAR CONTROL CHANNELS 0 TO 30\n\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n;---------------------------------------------------------------------------\n; NOISE FEEDBACK\n;---------------------------------------------------------------------------\n;   Sta  Dur  Amp    OutCh  \ni4  0.0  4.0  10000  1\n\n; COMPRESSION CURVE\nf6 0 1025 7 1 128 1 128 .8 256 .6 256 .1 257 .01\n\n; FEEDBACK\n;   Sta  Dur  PrAmp  PstAmp  Duty  D-Tab  Res  Delay  Fdbk  C-Tab  InCh  OutCh\ni14 0    4    1      1       1     5      440  .02    1.4   6      1     3\n\n; MIXER\n;     Sta  Dur  Ch1  Gain  Pan  Ch2  Gain  Pan\ni100  0    4    1    2     .5   3    2     .5\n\n; CLEAR CHANNELS\n;     Sta  Dur\ni110  0    4\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur   = p3 using echo effect and Butterworth bandpass filter and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pavan.dechor.orc and pavan.dechor.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr = 44100\nksmps  = 1\nnchnls = 2\n\n;=====================================================================\n;=== De-correlation of audio signals in a stereophonic environment ===\n;===                     Luca Pavan - 1999                         ===\n;===             Input :  a mono or stereo soundfile               ===\n;===      Output:  a stereo file with de-correlated channels       ===\n;  http://www.patents.ibm.com/details?pn=US05235646__&language=en \n;=====================================================================\n\n;Orchestra\n\ninstr 1\nidur   = p3\niamp   = p4  ;amplitude [1 = original amplitude]\nipan   = p5  ;panning (0 = left, .5 = center, 1 = right) \niatt   = p6  ;attack time\nidec   = p7  ;decay time\nkdec   = p8  ;de-correlation level (0-1) [1=maximum]\n\nkamp linen iamp, iatt, p3, idec\nilev  = .01          ;feedback level\nid    = 0            ;no delay\nicomp = 1.3          ;amplitude compensatory factor\n\n;==== ch1 ====\n;asig1  soundin \"test.wav\", 0        ;use this line for mono input\n;asig2 = asig1                        ;use this line for mono input\nasig1, asig1a soundin \"allOfMeStereo.aif\", 0  ;use this line for stereo input\nafil1   butterbp asig1, 50, 60\nadel1   alpass afil1, id, ilev \nafil2   butterbp asig1, 200, 240\nafil3   butterbp asig1, 800, 960\nadel3   alpass afil3, id, ilev\nafil4   butterbp asig1, 3200, 3840\nafil5   butterbp asig1, 12800, 15360\nadel5   alpass afil5, id, ilev\n;==== ch2 ====\nasig2a, asig2 soundin \"allOfMeStereo.aif\", 0  ;use this line for stereo input\nafil1a  butterbp asig2, 50, 60\nafil2a  butterbp asig2, 200, 240\nadel2a  alpass afil2a, id, ilev\nafil3a  butterbp asig2, 800, 960\nafil4a  butterbp asig2, 3200, 3840\nadel4a  alpass afil4a, id, ilev\nafil5a  butterbp asig2, 12800, 15360\n;===========================================\naoutch1 = adel1+afil2+adel3+afil4+adel5\naoutch2 = afil1a+adel2a+afil3a+adel4a+afil5a\naoutch1m = (asig1 * (1 - kdec)) + (aoutch1 * kdec)\n;aoutch2m = (asig1 * (1 - kdec)) + (aoutch2 * kdec) ;use this line for mono input\naoutch2m = (asig2 * (1 - kdec)) + (aoutch2 * kdec) ;use this line for stereo \n outs  aoutch1m * sqrt(ipan) * kamp * icomp, aoutch2m * sqrt(1 - ipan) * kamp * icomp\n     endin\n\n</CsInstruments>\n<CsScore>\n;score\n;--- Decorrelation of signals in a stereophonic environment ---\n;--- Luca Pavan --- 1999\n\n;p4 = amplitude [1 = original amplitude]\n;p5 = panning (0 = left, .5 = center, 1 = right) \n;p6 = attack time [s]\n;p7 = decay time [s]\n;p8 = de-correlation level (0-1) [1=maximum]\n;   start  dur amp  pan att  dec  lev  \ni1   0     30   1   .5  .05  .05   1\n\n\n;Luca Pavan                              e-mail: pavan@panservice.it\n;Latina - Italy                          http://people.panservice.it/pa2278\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for asig      init      1 using Butterworth lowpass filter and random noise and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from steam.orc and steam.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n\n          ; STEAM\n\n          instr 1\n\nasig      init      1\nkvar      randi     3000,.7\nkfreq     =         3190+kvar\nafun      rand      1000,1000\nasig      butterlp  afun+.9*asig,kfreq\n          out       asig\n          endin   \n\n</CsInstruments>\n<CsScore>\n\n\ni1   0    20\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a rectifilter sound using filter processing and Butterworth lowpass filter and Butterworth highpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from RectiFilter.orc and RectiFilter.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 4410\nksmps    = 10\nnchnls   = 1\n\n\ninstr    1 ; lowpass (+)Signal, highpass (-)Signal (Unusual distortion)\n\nilevl    = p4 ; Output level\nifreq    = p5 ; Crossover frequency in Hz\n\nain      soundin  \"Sample1\"\n\naflt1    butterlp  ain, ifreq\naflt2    butterhp  ain, ifreq\n\napos     limit  aflt1, 0, 32768\naneg     limit  aflt2,-32768, 0\n\namix     = apos + aneg\n\nout      amix*ilevl\n  \nendin\n\n</CsInstruments>\n<CsScore>\n;     Strt  Leng  Levl  Freq(Hz)\ni1    0.00  1.50  1.00  1000\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp\ttable\t0,64\t; output gain using Butterworth lowpass filter and Butterworth highpass filter and RMS amplitude", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Comp_421.orc and Comp_421.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  44100\nksmps\t=  1\nnchnls\t=  1\n\n\n#define INPUTFILE # \"infile.sf\" #\n\n\tinstr 1\n\niamp\ttable\t0,64\t; output gain\niHPf\ttable\t1,64\t; min. frequency\niLPf\ttable\t2,64\t; max. frequency\nimax1\ttable\t3,64\t; threshold level (RMS)\niampx\ttable\t4,64\t; compressed band gain\nicomp1\ttable\t5,64\t; compression ratio below thr. level\nicomp2\ttable\t6,64\t; compression ratio above thr. level\nidel1\ttable\t7,64\t; time diff. between envelope and audio signal (sec.)\niatt\ttable\t8,64\t; RMS envelope attack speed\nidec\ttable\t9,64\t; RMS envelope decay speed\nifrq1\ttable\t10,64\t; envelope lowpass filter frequency (Hz)\nimax1\t=  imax1*32768\nicomp1\t=  icomp1-1\nicomp2\t=  icomp2-1\nklvl\tinit 0\n\nad1x\tsoundin $INPUTFILE\t\t; sound input\nad1\tbutterhp ad1x,iHPf\nad1\tbutterlp ad1,iLPf\nad1x\t=  ad1x-ad1\na1x\tsoundin $INPUTFILE,idel1\na1\tbutterhp a1x,iHPf\na1\tbutterlp a1,iLPf\n\natmp\t=  a1*a1\nktmp\tdownsamp atmp\natmp\ttone atmp,(ktmp>klvl ? iatt:idec)\natmp\tbutterlp atmp,ifrq1\nklvl\tdownsamp atmp\nktmp\t=  sqrt(klvl<0.25 ? 0.25:klvl)/imax1\nktmp\t=  (ktmp<1 ? exp(log(ktmp)*icomp1):exp(log(ktmp)*icomp2))\n\n\tout (ktmp*iampx*ad1+ad1x)*iamp\n\n\tendin\n\n\n</CsInstruments>\n<CsScore>\nt 0.00\t60.000\n\ni 1\t0.0000\t30.000\t; length in seconds\n\n;------------------------------------------------------------------------------\nf 64 0 16 -2\t1.4\t; output gain\n\t\t10\t; min. frequency\n\t\t21000\t; max. frequency\n\t\t0.5\t; threshold level (RMS)\n\t\t1.0\t; compressed band gain\n\t\t1.0\t; compression ratio below thr. level\n\t\t1.0\t; compression ratio above thr. level\n\t\t0.02\t; time diff. between envelope and audio signal (sec.)\n\t\t100\t; RMS envelope attack speed\n\t\t100\t; RMS envelope decay speed\n\t\t25\t; envelope lowpass filter frequency (Hz)\n;------------------------------------------------------------------------------\n\ne\t; END OF SCORE\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp\ttable\t0,64\t; output gain using Butterworth lowpass filter and Butterworth highpass filter and RMS amplitude", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Comp_422.orc and Comp_422.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  44100\nksmps\t=  1\nnchnls\t=  2\n\n\n#define INPUTFILE # \"infile.sf\" #\n\n\tinstr 1\n\niamp\ttable\t0,64\t; output gain\niHPf\ttable\t1,64\t; min. frequency\niLPf\ttable\t2,64\t; max. frequency\nimax1\ttable\t3,64\t; threshold level (RMS)\niampx\ttable\t4,64\t; compressed band gain\nicomp1\ttable\t5,64\t; compression ratio below thr. level\nicomp2\ttable\t6,64\t; compression ratio above thr. level\nidel1\ttable\t7,64\t; time diff. between envelope and audio signal (sec.)\niatt\ttable\t8,64\t; RMS envelope attack speed\nidec\ttable\t9,64\t; RMS envelope decay speed\nifrq1\ttable\t10,64\t; envelope lowpass filter frequency (Hz)\nimax1\t=  imax1*32768\nicomp1\t=  icomp1-1\nicomp2\t=  icomp2-1\nklvl\tinit 0\n\nad1x,ad2x\tsoundin $INPUTFILE\t\t; sound input\nad1\tbutterhp ad1x,iHPf\nad1\tbutterlp ad1,iLPf\nad1x\t=  ad1x-ad1\nad2\tbutterhp ad2x,iHPf\nad2\tbutterlp ad2,iLPf\nad2x\t=  ad2x-ad2\na1x,a2x\tsoundin $INPUTFILE,idel1\na1\tbutterhp a1x,iHPf\na1\tbutterlp a1,iLPf\na2\tbutterhp a2x,iHPf\na2\tbutterlp a2,iLPf\n\natmp\t=  (a1*a1+a2*a2)*0.5\nktmp\tdownsamp atmp\natmp\ttone atmp,(ktmp>klvl ? iatt:idec)\natmp\tbutterlp atmp,ifrq1\nklvl\tdownsamp atmp\nktmp\t=  sqrt(klvl<0.25 ? 0.25:klvl)/imax1\n\nktmp\t=  (ktmp<1 ? exp(log(ktmp)*icomp1):exp(log(ktmp)*icomp2))\n\n\touts (ktmp*iampx*ad1+ad1x)*iamp,(ktmp*iampx*ad2+ad2x)*iamp\n\n\tendin\n\n\n</CsInstruments>\n<CsScore>\nt 0.00\t60.000\n\ni 1\t0.0000\t30.000\t; length in seconds\n\n;------------------------------------------------------------------------------\nf 64 0 16 -2\t1.4\t; output gain\n\t\t10\t; min. frequency\n\t\t21000\t; max. frequency\n\t\t0.5\t; threshold level (RMS)\n\t\t1.0\t; compressed band gain\n\t\t1.0\t; compression ratio below thr. level\n\t\t1.0\t; compression ratio above thr. level\n\t\t0.02\t; time diff. between envelope and audio signal (sec.)\n\t\t100\t; RMS envelope attack speed\n\t\t100\t; RMS envelope decay speed\n\t\t25\t; envelope lowpass filter frequency (Hz)\n;------------------------------------------------------------------------------\n\ne\t; END OF SCORE\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp\ttable\t0,64\t; output gain using Butterworth lowpass filter and Butterworth highpass filter and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Limit421.orc and Limit421.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  44100\nksmps\t=  1\nnchnls\t=  1\n\n\n#define INPUTFILE # \"infile.sf\" #\n\n\tinstr 1\n\niamp\ttable\t0,64\t; output gain\niHPf\ttable\t1,64\t; min. freq.\niLPf\ttable\t2,64\t; max. freq.\nimax1\ttable\t3,64\t; max. level\niampx\ttable\t4,64\t; compressed band gain\nidel1\ttable\t5,64\t; delay time in sec.\nidec1\ttable\t6,64\t; decay speed\niatt1\ttable\t7,64\t; attack speed\nifrq1\ttable\t8,64\t; lowpass filter freq.\nimax1\t=  imax1*32768\nklv01\tinit 0\n\nad1x\tsoundin $INPUTFILE\t\t; sound input\nad1\tbutterhp ad1x,iHPf\nad1\tbutterlp ad1,iLPf\nad1x\t=  ad1x-ad1\na1x\tsoundin $INPUTFILE,idel1\na1\tbutterhp a1x,iHPf\na1\tbutterlp a1,iLPf\n\nklx\tdownsamp abs(a1)\nktmp\t=  (klx>klv01 ? idec1:iatt1)\nklv01\t=  klv01+(klx-klv01)*ktmp\nal1\tupsamp klv01\nal1\tbutterlp al1,ifrq1\nklv01x\tdownsamp al1\n\na1\t=  (klv01x<imax1 ? ad1:ad1*imax1/klv01x)\n\n\tout (iampx*a1+ad1x)*iamp\n\n\tendin\n\n\n</CsInstruments>\n<CsScore>\nt 0.00\t60.000\n\ni 1\t0.0000\t30.000\t; length in seconds\n\n;------------------------------------------------------------------------------\nf 64 0 16 -2\t1.0\t; output gain\n\t\t10\t; min. frequency\n\t\t21000\t; max. frequency\n\t\t0.5\t; max. level\n\t\t1.0\t; compressed band gain\n\t\t0.02\t; time diff. between envelope and audio signal (sec.)\n\t\t0.01\t; envelope decay speed (0..1)\n\t\t0.0001\t; envelope attack speed\n\t\t25\t; envelope lowpass filter frequency (Hz)\n;------------------------------------------------------------------------------\n\ne\t; END OF SCORE\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp\ttable\t0,64\t; output gain using Butterworth lowpass filter and Butterworth highpass filter and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Limit422.orc and Limit422.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  44100\nksmps\t=  1\nnchnls\t=  2\n\n\n#define INPUTFILE # \"infile.sf\" #\n\n\tinstr 1\n\niamp\ttable\t0,64\t; output gain\niHPf\ttable\t1,64\t; min. freq.\niLPf\ttable\t2,64\t; max. freq.\nimax1\ttable\t3,64\t; max. level\niampx\ttable\t4,64\t; compressed band gain\nidel1\ttable\t5,64\t; delay time in sec.\nidec1\ttable\t6,64\t; decay speed\niatt1\ttable\t7,64\t; attack speed\nifrq1\ttable\t8,64\t; lowpass filter freq.\nimax1\t=  imax1*32768\nklv01\tinit 0\n\nad1x,ad2x\tsoundin $INPUTFILE\t\t; sound input\nad1\tbutterhp ad1x,iHPf\nad1\tbutterlp ad1,iLPf\nad1x\t=  ad1x-ad1\nad2\tbutterhp ad2x,iHPf\nad2\tbutterlp ad2,iLPf\nad2x\t=  ad2x-ad2\na1x,a2x\tsoundin $INPUTFILE,idel1\na1\tbutterhp a1x,iHPf\na1\tbutterlp a1,iLPf\na2\tbutterhp a2x,iHPf\na2\tbutterlp a2,iLPf\n\nklx1\tdownsamp abs(a1)\nklx2\tdownsamp abs(a2)\nklx\t=  (klx1>klx2 ? klx1:klx2)\nktmp\t=  (klx>klv01 ? idec1:iatt1)\nklv01\t=  klv01+(klx-klv01)*ktmp\nal1\tupsamp klv01\nal1\tbutterlp al1,ifrq1\nklv01x\tdownsamp al1\n\na1\t=  (klv01x<imax1 ? ad1:ad1*imax1/klv01x)\na2\t=  (klv01x<imax1 ? ad2:ad2*imax1/klv01x)\n\n\touts (iampx*a1+ad1x)*iamp,(iampx*a2+ad2x)*iamp\n\n\tendin\n\n\n</CsInstruments>\n<CsScore>\nt 0.00\t60.000\n\ni 1\t0.0000\t30.000\t; length in seconds\n\n;------------------------------------------------------------------------------\nf 64 0 16 -2\t1.0\t; output gain\n\t\t10\t; min. frequency\n\t\t21000\t; max. frequency\n\t\t0.5\t; max. level\n\t\t1.0\t; compressed band gain\n\t\t0.02\t; time diff. between envelope and audio signal (sec.)\n\t\t0.01\t; envelope decay speed (0..1)\n\t\t0.0001\t; envelope attack speed\n\t\t25\t; envelope lowpass filter frequency (Hz)\n;------------------------------------------------------------------------------\n\ne\t; END OF SCORE\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp\ttable\t8,64 using Butterworth lowpass filter and RMS amplitude", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Duck402.orc and Duck402.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  44100\nksmps\t=  1\nnchnls\t=  2\n\nga1L\tinit 0\ngad1L\tinit 0\nga2L\tinit 0\ngad2L\tinit 0\nga1R\tinit 0\ngad1R\tinit 0\nga2R\tinit 0\ngad2R\tinit 0\n\n#define INPUTFILE1 # \"infile1.sf\" #\n#define INPUTFILE2 # \"infile2.sf\" #\n\n\tinstr 1\n\niamp\ttable\t8,64\nidel\ttable\t9,64\nidel1\ttable\t4,64\nad1L,ad1R\tsoundin $INPUTFILE1,idel\na1L,a1R\tsoundin $INPUTFILE1,idel+idel1\ngad1L\t=  gad1L+ad1L*iamp\nga1L\t=  ga1L+a1L*iamp\ngad1R\t=  gad1R+ad1R*iamp\nga1R\t=  ga1R+a1R*iamp\n\n\tendin\n\n\tinstr 2\n\niamp\ttable\t10,64\nidel\ttable\t11,64\nidel1\ttable\t4,64\nad2L,ad2R\tsoundin $INPUTFILE2,idel\na2L,a2R\tsoundin $INPUTFILE2,idel+idel1\ngad2L\t=  gad2L+ad2L*iamp\nga2L\t=  ga2L+a2L*iamp\ngad2R\t=  gad2R+ad2R*iamp\nga2R\t=  ga2R+a2R*iamp\n\n\tendin\n\n\tinstr 90\n\niamp\ttable\t0,64\t; output gain\nimax1\ttable\t1,64\t; threshold level (RMS)\nicomp1\ttable\t2,64\t; compression ratio below thr. level\nicomp2\ttable\t3,64\t; compression ratio above thr. level\niatt\ttable\t5,64\t; RMS envelope attack speed\nidec\ttable\t6,64\t; RMS envelope decay speed\nifrq1\ttable\t7,64\t; lowpass filter freq.\niduck1\ttable\t12,64\t; duck level\nimin1\ttable\t13,64\t; min. thr. level\nimin1\t=  imin1*32768\nimax1\t=  imax1*32768\nicomp1\t=  icomp1-1\nicomp2\t=  icomp2-1\nklvl\tinit 0\nklvlx\tinit 0\n\nad1L\t=  gad2L\na1L\t=  ga2L\nad2L\t=  gad1L\na2L\t=  ga1L\ngad1L\t=  0\nga1L\t=  0\ngad2L\t=  0\nga2L\t=  0\nad1R\t=  gad2R\na1R\t=  ga2R\nad2R\t=  gad1R\na2R\t=  ga1R\ngad1R\t=  0\nga1R\t=  0\ngad2R\t=  0\nga2R\t=  0\n\natmp\t=  (a2L*a2L+a2R*a2R)*iduck1*iduck1*0.5\nktmp\tdownsamp atmp\natmp\ttone atmp,(ktmp>klvlx ? iatt:idec)\natmp\tbutterlp atmp,ifrq1\nklvlx\tdownsamp atmp\nkmax1\t=  imax1-sqrt(klvlx<0.25 ? 0.25:klvlx)\nkmax1\t=  (kmax1<imin1 ? imin1:kmax1)\n\natmp\t=  (a1L*a1L+a1R*a1R)*0.5\nktmp\tdownsamp atmp\natmp\ttone atmp,(ktmp>klvl ? iatt:idec)\natmp\tbutterlp atmp,ifrq1\nklvl\tdownsamp atmp\nktmp\t=  sqrt(klvl<0.25 ? 0.25:klvl)/kmax1\nktmp\t=  (ktmp<1 ? exp(log(ktmp)*icomp1):exp(log(ktmp)*icomp2))\n\n\touts (ad1L*ktmp+ad2L)*iamp,(ad1R*ktmp+ad2R)*iamp\n\n\tendin\n\n\n</CsInstruments>\n<CsScore>\nt 0.00\t120.000\t; tempo\n\ni 1\t0.0000\t10.000\t; 1. input file\ni 2\t0.0000\t10.000\t; 2. input file (compressed)\n\ni 90\t0.0000\t10.000\t; total length in beats\n\n;------------------------------------------------------------------------------\nf 64 0 16 -2\t1.0\t; output gain\t\t\tCOMPRESSOR PARAMETERS\n\t\t0.5\t; threshold level (RMS)\n\t\t1.0\t; compression ratio below thr. level\n\t\t1.0\t; compression ratio above thr. level\n\t\t0.02\t; time diff. between envelope and audio signal (sec.)\n\t\t100\t; RMS envelope attack speed\n\t\t100\t; RMS envelope decay speed\n\t\t25\t; envelope lowpass filter frequency (Hz)\n\t\t1.0\t; 1. input file gain\t\tINPUT FILE PARAMETERS\n\t\t0.000\t; 1. input file start position (sec.)\n\t\t1.0\t; 2. input file gain\n\t\t0.000\t; 2. input file start position (sec.)\n\t\t1.0\t; 1. file RMS level to 2. file threshold\n\t\t0.25\t; min. thr. level of compressor of 2nd input file\n;------------------------------------------------------------------------------\n\ne\t; END OF SCORE\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1      rand    10000 using Butterworth lowpass filter and Butterworth highpass filter and Butterworth bandpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from filcompare.orc and filcompare.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n        instr   1\na1      rand    10000\na2      butterlp a1, 500\n        out     a2\n        endin\n\n        instr   2\na1      rand    10000\na2      tone    a1, 500\n        out     a2\n        endin\n\n\n        instr   3\na1      rand    10000\na2      butterhp a1, 1000\n        out     a2\n        endin\n\n        instr   4\na1      rand    10000\na2      atone   a1, 1000\n        out     a2\n        endin\n\n\n        instr    5\na1      rand    10000\na2      butterbp a1, 1000, 100\n        out     a2\n        endin\n\n        instr   6\na1      rand    10000\na2      reson   a1, 1000, 100\na3      balance a2, a1\n        out     a3/2\n        endin\n\n\n        instr   7\na1      rand     10000\na2      butterbr a1, 1000, 100\n        out     a2\n        endin\n\n        instr   8\na1      rand    10000\na2      areson  a1, 1000, 100\na3      balance a2, a1\n        out     a3/2\n        endin\n\n</CsInstruments>\n<CsScore>\ni1 0 1\ni2 1 1\ni3 2 1\ni4 3 1\ni5 4 1\ni6 5 1\ni7 6 1\ni8 7 1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp\ttable\t8,64 using Butterworth lowpass filter and RMS amplitude", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Duck401.orc and Duck401.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  44100\nksmps\t=  1\nnchnls\t=  1\n\nga1\tinit 0\ngad1\tinit 0\nga2\tinit 0\ngad2\tinit 0\n\n#define INPUTFILE1 # \"infile1.sf\" #\n#define INPUTFILE2 # \"infile2.sf\" #\n\n\tinstr 1\n\niamp\ttable\t8,64\nidel\ttable\t9,64\nidel1\ttable\t4,64\nad1\tsoundin $INPUTFILE1,idel\na1\tsoundin $INPUTFILE1,idel+idel1\ngad1\t=  gad1+ad1*iamp\nga1\t=  ga1+a1*iamp\n\n\tendin\n\n\tinstr 2\n\niamp\ttable\t10,64\nidel\ttable\t11,64\nidel1\ttable\t4,64\nad2\tsoundin $INPUTFILE2,idel\na2\tsoundin $INPUTFILE2,idel+idel1\ngad2\t=  gad2+ad2*iamp\nga2\t=  ga2+a2*iamp\n\n\tendin\n\n\tinstr 90\n\niamp\ttable\t0,64\t; output gain\nimax1\ttable\t1,64\t; threshold level (RMS)\nicomp1\ttable\t2,64\t; compression ratio below thr. level\nicomp2\ttable\t3,64\t; compression ratio above thr. level\niatt\ttable\t5,64\t; RMS envelope attack speed\nidec\ttable\t6,64\t; RMS envelope decay speed\nifrq1\ttable\t7,64\t; lowpass filter freq.\niduck1\ttable\t12,64\t; duck level\nimin1\ttable\t13,64\t; min. thr. level\nimin1\t=  imin1*32768\nimax1\t=  imax1*32768\nicomp1\t=  icomp1-1\nicomp2\t=  icomp2-1\nklvl\tinit 0\nklvlx\tinit 0\n\nad1\t=  gad2\na1\t=  ga2\nad2\t=  gad1\na2\t=  ga1\ngad1\t=  0\nga1\t=  0\ngad2\t=  0\nga2\t=  0\n\natmp\t=  a2*a2*iduck1*iduck1\nktmp\tdownsamp atmp\natmp\ttone atmp,(ktmp>klvlx ? iatt:idec)\natmp\tbutterlp atmp,ifrq1\nklvlx\tdownsamp atmp\nkmax1\t=  imax1-sqrt(klvlx<0.25 ? 0.25:klvlx)\nkmax1\t=  (kmax1<imin1 ? imin1:kmax1)\n\natmp\t=  a1*a1\nktmp\tdownsamp atmp\natmp\ttone atmp,(ktmp>klvl ? iatt:idec)\natmp\tbutterlp atmp,ifrq1\nklvl\tdownsamp atmp\nktmp\t=  sqrt(klvl<0.25 ? 0.25:klvl)/kmax1\nktmp\t=  (ktmp<1 ? exp(log(ktmp)*icomp1):exp(log(ktmp)*icomp2))\n\n\tout (ad1*ktmp+ad2)*iamp\n\n\tendin\n\n\n</CsInstruments>\n<CsScore>\nt 0.00\t120.000\t; tempo\n\ni 1\t0.0000\t10.000\t; 1. input file\ni 2\t0.0000\t10.000\t; 2. input file (compressed)\n\ni 90\t0.0000\t10.000\t; total length in beats\n\n;------------------------------------------------------------------------------\nf 64 0 16 -2\t1.0\t; output gain\t\t\tCOMPRESSOR PARAMETERS\n\t\t0.5\t; threshold level (RMS)\n\t\t1.0\t; compression ratio below thr. level\n\t\t1.0\t; compression ratio above thr. level\n\t\t0.02\t; time diff. between envelope and audio signal (sec.)\n\t\t100\t; RMS envelope attack speed\n\t\t100\t; RMS envelope decay speed\n\t\t25\t; envelope lowpass filter frequency (Hz)\n\t\t1.0\t; 1. input file gain\t\tINPUT FILE PARAMETERS\n\t\t0.000\t; 1. input file start position (sec.)\n\t\t1.0\t; 2. input file gain\n\t\t0.000\t; 2. input file start position (sec.)\n\t\t1.0\t; 1. file RMS level to 2. file threshold\n\t\t0.25\t; min. thr. level of compressor of 2nd input file\n;------------------------------------------------------------------------------\n\ne\t; END OF SCORE\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a limit sound using Butterworth lowpass filter and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Limit412.orc and Limit412.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  44100\nksmps\t=  1\nnchnls\t=  2\n\n\n#define INPUTFILE # \"infile.sf\" #\n\n\tinstr 1\n\n;------------------------------------------------------------------------------\niamp\ttable\t0,64\t; output gain\nimax1\ttable\t1,64\t; 1. max. level\t\t\t1st limiter\nidel1\ttable\t2,64\t; 1. delay time in ms\nidec1\ttable\t3,64\t; 1. decay speed\niatt1\ttable\t4,64\t; 1. attack speed\nifrq1\ttable\t5,64\t; 1. lowpass filter freq.\nimax2\ttable\t6,64\t; 2. max. level\t\t\t2nd limiter\nidel2\ttable\t7,64\t; 2. delay time in ms\nidec2\ttable\t8,64\t; 2. decay speed\niatt2\ttable\t9,64\t; 2. attack speed\nifrq2\ttable\t10,64\t; 2. lowpass filter freq.\n;---------------------------------------------------------------\na1,a2\tsoundin $INPUTFILE\t; sound input\n;---------------------------------------------------------------\n\ni001\t=  32768\nidel1\t=  idel1*0.001\nidel2\t=  idel2*0.001\nimax1\t=  imax1*i001\nimax2\t=  imax2*i001\nklv01\tinit 0\nklv02\tinit 0\n\nad1\tdelay a1,idel1\t\t\t; 1. limiter\nad2\tdelay a2,idel1\n\nklx1\tdownsamp abs(a1)\nklx2\tdownsamp abs(a2)\nklx\t=  (klx1>klx2 ? klx1:klx2)\nklv01\t=  (klx>klv01 ? klv01+(klx-klv01)*idec1:klv01+(klx-klv01)*iatt1)\nal1\tupsamp klv01\nal1\tbutterlp al1,ifrq1\nklv01x\tdownsamp al1\n\na1\t=  (klv01x<imax1 ? ad1:ad1*imax1/klv01x)\na2\t=  (klv01x<imax1 ? ad2:ad2*imax1/klv01x)\n\nad1\tdelay a1,idel2\t\t\t; 2. limiter\nad2\tdelay a2,idel2\n\nklx1\tdownsamp abs(a1)\nklx2\tdownsamp abs(a2)\nklx\t=  (klx1>klx2 ? klx1:klx2)\nklv02\t=  (klx>klv02 ? klv02+(klx-klv02)*idec2:klv02+(klx-klv02)*iatt2)\nal1\tupsamp klv02\nal1\tbutterlp al1,ifrq2\nklv02x\tdownsamp al1\n\nad1\t=  (klv02x<imax2 ? ad1:ad1*imax2/klv02x)\nad2\t=  (klv02x<imax2 ? ad2:ad2*imax2/klv02x)\n\n\touts ad1*iamp,ad2*iamp\n\n\tendin\n\n\n</CsInstruments>\n<CsScore>\nt 0.00\t60.000\n\ni 1\t0.0000\t30.000\t; length in seconds\n\n;------------------------------------------------------------------------------\nf 64 0 16 -2\t1.4\t; output gain\n\t\t0.6\t; 1. max. level\t\t\t1st limiter\n\t\t20\t; 1. delay time in ms\n\t\t0.01\t; 1. decay speed (0..1)\n\t\t0.0001\t; 1. attack speed\n\t\t25\t; 1. lowpass filter freq.\n\t\t0.6\t; 2. max. level\t\t\t2nd limiter\n\t\t2.5\t; 2. delay time in ms\n\t\t0.5\t; 2. decay speed (0..1)\n\t\t0.0025\t; 2. attack speed\n\t\t200\t; 2. lowpass filter freq.\n;------------------------------------------------------------------------------\n\n\t0 0 0 0 0\n\ne\t; END OF SCORE\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Stereo delay with normal and cross-feedback using delay effect and stereo processing and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from StereoDelay.orc and StereoDelay.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 44100\nksmps    = 1\nnchnls   = 2\n\n\ninstr    1 ; Stereo delay with normal and cross-feedback\n\nilevl    = p4      ; Output level\nidelay1  = p5/1000 ; L delay in ms\nidelay2  = p6/1000 ; R delay in ms\nifdbk1   = p7      ; L feedback\nifdbk2   = p8      ; R feedback\nifdbkx   = p9      ; X Feedback\nifreq1   = p10     ; L cutoff\nifreq2   = p11     ; R cutoff\nimix     = p12     ; Mix: 0=Dry 1=Delay\nafdbk1   init 0\nafdbk2   init 0\n\nain      soundin  \"Sample2\"\n\nain1     = ain + afdbk1*ifdbk1 + afdbk2*ifdbkx\nain2     = ain + afdbk2*ifdbk2 + afdbk1*ifdbkx\nadelay1  delay  ain1, idelay1\nadelay2  delay  ain2, idelay2\nadelay1  butterlp  adelay1, ifreq1\nadelay2  butterlp  adelay2, ifreq2\nafdbk1   = adelay1\nafdbk2   = adelay2\naout1    = adelay1*imix + ain*(1 - imix)\naout2    = adelay2*imix + ain*(1 - imix)\nouts1    aout1*ilevl\nouts2    aout2*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\n;Delay in ms, Filt in Hz. Total feedback should be <1?\n\n;   Strt  Leng  Levl  DelyL DelyR FeedL FeedR XFeed FiltL FiltR Mix\ni1  0.00  8.00  1.00  500   400   0.40  0.40  0.40  2500  2500  0.50\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a limit sound using Butterworth lowpass filter and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Limit411.orc and Limit411.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  44100\nksmps\t=  1\nnchnls\t=  1\n\n\n#define INPUTFILE # \"infile.sf\" #\n\n\tinstr 1\n\n;------------------------------------------------------------------------------\niamp\ttable\t0,64\t; output gain\nimax1\ttable\t1,64\t; 1. max. level\t\t\t1st limiter\nidel1\ttable\t2,64\t; 1. delay time in ms\nidec1\ttable\t3,64\t; 1. decay speed\niatt1\ttable\t4,64\t; 1. attack speed\nifrq1\ttable\t5,64\t; 1. lowpass filter freq.\nimax2\ttable\t6,64\t; 2. max. level\t\t\t2nd limiter\nidel2\ttable\t7,64\t; 2. delay time in ms\nidec2\ttable\t8,64\t; 2. decay speed\niatt2\ttable\t9,64\t; 2. attack speed\nifrq2\ttable\t10,64\t; 2. lowpass filter freq.\n;------------------------------------------------------------------------------\na1\tsoundin $INPUTFILE\t; sound input\n;------------------------------------------------------------------------------\n\ni001\t=  32768\nidel1\t=  idel1*0.001\nidel2\t=  idel2*0.001\nimax1\t=  imax1*i001\nimax2\t=  imax2*i001\nklv01\tinit 0\nklv02\tinit 0\n\nad1\tdelay a1,idel1\t\t\t; 1. limiter\n\nklx1\tdownsamp abs(a1)\nklx\t=  klx1\nklv01\t=  (klx>klv01 ? klv01+(klx-klv01)*idec1:klv01+(klx-klv01)*iatt1)\nal1\tupsamp klv01\nal1\tbutterlp al1,ifrq1\nklv01x\tdownsamp al1\n\na1\t=  (klv01x<imax1 ? ad1:ad1*imax1/klv01x)\n\nad1\tdelay a1,idel2\t\t\t; 2. limiter\n\nklx1\tdownsamp abs(a1)\nklx\t=  klx1\nklv02\t=  (klx>klv02 ? klv02+(klx-klv02)*idec2:klv02+(klx-klv02)*iatt2)\nal1\tupsamp klv02\nal1\tbutterlp al1,ifrq2\nklv02x\tdownsamp al1\n\nad1\t=  (klv02x<imax2 ? ad1:ad1*imax2/klv02x)\n\n\tout ad1*iamp\n\n\tendin\n\n\n</CsInstruments>\n<CsScore>\nt 0.00\t60.000\n\ni 1\t0.0000\t30.000\t; length in seconds\n\n;------------------------------------------------------------------------------\nf 64 0 16 -2\t1.4\t; output gain\n\t\t0.6\t; 1. max. level\t\t\t1st limiter\n\t\t20\t; 1. delay time in ms\n\t\t0.01\t; 1. decay speed (0..1)\n\t\t0.0001\t; 1. attack speed\n\t\t25\t; 1. lowpass filter freq.\n\t\t0.6\t; 2. max. level\t\t\t2nd limiter\n\t\t2.5\t; 2. delay time in ms\n\t\t0.5\t; 2. decay speed (0..1)\n\t\t0.0025\t; 2. attack speed\n\t\t200\t; 2. lowpass filter freq.\n;------------------------------------------------------------------------------\n\n\t0 0 0 0 0\n\ne\t; END OF SCORE\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp\ttable\t0,64\t; output gain using Butterworth lowpass filter and delay effect and RMS amplitude", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Comp_402.orc and Comp_402.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  44100\nksmps\t=  1\nnchnls\t=  2\n\n\n#define INPUTFILE # \"infile.sf\" #\n\n\tinstr 1\n\niamp\ttable\t0,64\t; output gain\nimax1\ttable\t1,64\t; threshold level (RMS)\nicomp1\ttable\t2,64\t; compression ratio below thr. level\nicomp2\ttable\t3,64\t; compression ratio above thr. level\nidel1\ttable\t4,64\t; delay time in sec.\niatt\ttable\t5,64\t; RMS envelope attack speed\nidec\ttable\t6,64\t; RMS envelope decay speed\nifrq1\ttable\t7,64\t; lowpass filter freq.\nimax1\t=  imax1*32768\nicomp1\t=  icomp1-1\nicomp2\t=  icomp2-1\nklvl\tinit 0\n\nad1,ad2\tsoundin $INPUTFILE\t\t; sound input\na1,a2\tsoundin $INPUTFILE,idel1\n\natmp\t=  (a1*a1+a2*a2)*0.5\nktmp\tdownsamp atmp\natmp\ttone atmp,(ktmp>klvl ? iatt:idec)\natmp\tbutterlp atmp,ifrq1\nklvl\tdownsamp atmp\nktmp\t=  sqrt(klvl<0.25 ? 0.25:klvl)/imax1\nktmp\t=  (ktmp<1 ? exp(log(ktmp)*icomp1):exp(log(ktmp)*icomp2))\n\n\touts ad1*iamp*ktmp,ad2*iamp*ktmp\n\n\tendin\n\n\n</CsInstruments>\n<CsScore>\nt 0.00\t60.000\n\ni 1\t0.0000\t30.000\t; length in seconds\n\n;------------------------------------------------------------------------------\nf 64 0 8 -2\t1.0\t; output gain\n\t\t0.5\t; threshold level (RMS)\n\t\t1.0\t; compression ratio below thr. level\n\t\t1.0\t; compression ratio above thr. level\n\t\t0.02\t; time diff. between envelope and audio signal (sec.)\n\t\t100\t; RMS envelope attack speed\n\t\t100\t; RMS envelope decay speed\n\t\t25\t; envelope lowpass filter frequency (Hz)\n;------------------------------------------------------------------------------\n\ne\t; END OF SCORE\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Bass enhancer inspired by the dBX120 \"Boom Box\" using Butterworth lowpass filter and envelope follower", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from BoomBox.orc and BoomBox.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 44100\nksmps    = 1\nnchnls   = 2\n\n\ninstr    1 ; Bass enhancer inspired by the dBX120 \"Boom Box\"\n\nilevl    = p4                           ; Output level\nimix     = p5                           ; Bass boost mix: 0=Input 1=Bass Boost\nkcount   init 0                         ; Initialize count to 0\nkloop    init 0                         ; Initialize loop to 0\n\na1, a2   soundin  \"NightS.aif\"\nain      = a1 + a2                      ; Sum inputs to mono\n\nabass    butterlp  ain, 100             ; Lowpass filter input\naenv     follow  abass, .025            ; Follow envelope\naenv     butterlp  aenv, 25             ; Smooth envelope\nkin      downsamp  abass                ; Convert input to kr\nktrig    trigger  kin, 0, 0             ; Detect zero crossings\nif       ktrig == 0 goto 1              ; If no zero crossing goto 1...\nkcount   = kcount + 1                   ; ... otherwise increment count\nkloop    wrap  kcount, 0, 4             ; Loop count at 4\n1:                                      ; 1\nif kloop != 1 goto 2                    ; If count is not 1 goto 2\nadown1   = 1                            ; Set subharmonic 1 to +1\nadown2   = 1                            ; Set subharmonic 2 to +1...\ngoto     output                         ; ... then goto output\n2:\nif kloop != 2 goto 3\nadown1   = -1\nadown2   = 1\ngoto     output\n3:\nif kloop != 3 goto 4\nadown1   = 1\nadown2   = -1\ngoto     output\n4:\nadown1   = -1\nadown2   = -1\noutput:                                 ; Output\nasub     butterlp  adown1 + adown2, 100 ; Lowpass filter subharmonics\nouts1    (a1*(1 - imix) + asub*imix*aenv)*ilevl ; L level, mix and output\nouts1    (a2*(1 - imix) + asub*imix*aenv)*ilevl ; R level, mix and output\n\nendin\n\n</CsInstruments>\n<CsScore>\n;     Strt  Leng  Levl  Boost\ni01   0.00  1.50  1.00  0.25\ni01   2.00  .     .     0.50\ni01   4.00  .     .     0.75\ni01   6.00  .     .     1.00\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1\t\t\trand\t\t20000 using Butterworth lowpass filter and Butterworth highpass filter and Butterworth bandpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fltcomp.orc and fltcomp.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t1\n\n\n\t\t\tinstr 1\na1\t\t\trand\t\t20000\na2\t\t\tbutterlp\ta1, 500\n\t\t\tout\t\t \ta2\n\t\t\tendin\n\n\t\t\tinstr 2\na1\t\t\trand\t\t20000\na2\t\t\ttone\t\ta1, 500\n\t\t\tout\t\t\ta2\n\t\t\tendin\n\n\n\t\t\tinstr 3\na1\t\t\trand\t\t20000\na2\t\t\tbutterhp\ta1, 1000\n\t\t\tout\t\t\ta2\n\t\t\tendin\n\n\t\t\tinstr 4\na1\t\t\trand\t\t20000\na2\t\t\tatone\t\ta1, 1000\n\t\t\tout\t\t\ta2\n\t\t\tendin\n\n\n\t\t\tinstr 5\na1\t\t\trand\t\t20000\na2\t\t\tbutterbp\ta1, 1000, 100\n\t\t\tout\t\t\ta2\n\t\t\tendin\n\n\t\t\tinstr 6\na1\t\t\trand\t\t20000\na2\t\t\treson\t\ta1, 1000, 100\na3\t\t\tbalance\t\ta2, a1\n\t\t\tout\t\t\ta3/2\nendin\n\n\n\t\t\tinstr 7\na1\t\t\trand\t\t20000\na2\t\t\tbutterbr\ta1, 1000, 100\n\t\t\tout\t\t\ta2\nendin\n\n\t\t\tinstr 8\na1\t\t\trand\t\t20000\na2\t\t\tareson\t\ta1, 1000, 100\na3\t\t\tbalance\t\ta2, a1\n\t\t\tout\t\t\ta3/2\n\t\t\t\n\t\t\tendin\n\n</CsInstruments>\n<CsScore>\ni1 0 2\ni2 2 2\nf0 5\ns\ni1 0 2\ni2 2 2\nf0 5\ns\ni3 0 2\ni4 2 2\nf0 5\ns\ni3 0 2\ni4 2 2\nf0 5\ns\ni5 0 2\ni6 2 2\nf0 5\ns\ni7 0 2\ni8 2 2\nf0 5\ns\ni7 0 2\ni8 2 2\nf0 5\ns\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp\ttable\t0,64\t; output gain using Butterworth lowpass filter and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Limit401.orc and Limit401.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  44100\nksmps\t=  1\nnchnls\t=  1\n\n\n#define INPUTFILE # \"infile.sf\" #\n\n\tinstr 1\n\niamp\ttable\t0,64\t; output gain\nimax1\ttable\t1,64\t; max. level\nidel1\ttable\t2,64\t; delay time in sec.\nidec1\ttable\t3,64\t; decay speed\niatt1\ttable\t4,64\t; attack speed\nifrq1\ttable\t5,64\t; lowpass filter freq.\nimax1\t=  imax1*32768\nklv01\tinit 0\n\nad1\tsoundin $INPUTFILE\t\t; sound input\na1\tsoundin $INPUTFILE,idel1\n\nklx\tdownsamp abs(a1)\nktmp\t=  (klx>klv01 ? idec1:iatt1)\nklv01\t=  klv01+(klx-klv01)*ktmp\nal1\tupsamp klv01\nal1\tbutterlp al1,ifrq1\nklv01x\tdownsamp al1\n\na1\t=  (klv01x<imax1 ? ad1:ad1*imax1/klv01x)\n\n\tout a1*iamp\n\n\tendin\n\n\n</CsInstruments>\n<CsScore>\nt 0.00\t60.000\n\ni 1\t0.0000\t30.000\t; length in seconds\n\n;------------------------------------------------------------------------------\nf 64 0 8 -2\t1.4\t; output gain\n\t\t0.5\t; max. level\n\t\t0.02\t; time diff. between envelope and audio signal (sec.)\n\t\t0.01\t; envelope decay speed (0..1)\n\t\t0.0001\t; envelope attack speed\n\t\t25\t; envelope lowpass filter frequency (Hz)\n;------------------------------------------------------------------------------\n\ne\t; END OF SCORE\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for endin using Butterworth lowpass filter and delay effect and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Limit42M.orc and Limit42M.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  44100\nksmps\t=  1\nnchnls\t=  2\n\nmassign\t1,1\n\n#define INPUTFILE # \"infile.sf\" #\n\n;\tMIDI controllers:\n;\n;  max. level\t:\t20\t(0..127: 0..1)\tk-rate\n;  out. volume\t:\t7\t(0..127: 0..1)\tk-rate\n\n\tinstr 1\n\n;------------------------------------------------------------------------------\niamp\ttable\t0,64\t; output gain\nimax1\ttable\t1,64\t; 1. max. level\t\t\t1st limiter\nidel1\ttable\t2,64\t; 1. delay time in ms\nidec1\ttable\t3,64\t; 1. decay speed\niatt1\ttable\t4,64\t; 1. attack speed\nifrq1\ttable\t5,64\t; 1. lowpass filter freq.\nimax2\ttable\t6,64\t; 2. max. level\t\t\t2nd limiter\nidel2\ttable\t7,64\t; 2. delay time in ms\nidec2\ttable\t8,64\t; 2. decay speed\niatt2\ttable\t9,64\t; 2. attack speed\nifrq2\ttable\t10,64\t; 2. lowpass filter freq.\n;---------------------------------------------------------------\na1,a2\tsoundin $INPUTFILE\t; sound input\n;---------------------------------------------------------------\n\ni001\t=  32768\nidel1\t=  idel1*0.001\nidel2\t=  idel2*0.001\nimax1\t=  imax1*i001\nimax2\t=  imax2*i001\niampm1\timidic7 7,0,1,232\nimaxm1\timidic7 20,0,1,232\nklv01\tinit 0\nklv02\tinit 0\nkcnt1\tinit 0\n\nx9999:\n\niampm0\t=  iampm1\nimaxm0\t=  imaxm1\niampm1\timidic7 7,0,1,232\nimaxm1\timidic7 20,0,1,232\nkmaxm\tlinseg imaxm0,0.00952381,imaxm1\nkampm\tlinseg iampm0,0.00952381,iampm1\nkcnt1\t=  kcnt1+1\n\n\tif kcnt1<419.5 goto x9998\n\treinit x9999\n\trireturn\n\nx9998:\n\nkcnt1\t=  (kcnt1>419.5 ? 0:kcnt1)\nkmax1\t=  kmaxm*imax1\nkmax2\t=  kmaxm*imax2\nkamp\t=  kampm*iamp\n\nad1\tdelay a1,idel1\t\t\t; 1. limiter\nad2\tdelay a2,idel1\n\nklx1\tdownsamp abs(a1)\nklx2\tdownsamp abs(a2)\nklx\t=  (klx1>klx2 ? klx1:klx2)\nklv01\t=  (klx>klv01 ? klv01+(klx-klv01)*idec1:klv01+(klx-klv01)*iatt1)\nal1\tupsamp klv01\nal1\tbutterlp al1,ifrq1\nklv01x\tdownsamp al1\n\na1\t=  (klv01x<kmax1 ? ad1:ad1*kmax1/klv01x)\na2\t=  (klv01x<kmax1 ? ad2:ad2*kmax1/klv01x)\n\nad1\tdelay a1,idel2\t\t\t; 2. limiter\nad2\tdelay a2,idel2\n\nklx1\tdownsamp abs(a1)\nklx2\tdownsamp abs(a2)\nklx\t=  (klx1>klx2 ? klx1:klx2)\nklv02\t=  (klx>klv02 ? klv02+(klx-klv02)*idec2:klv02+(klx-klv02)*iatt2)\nal1\tupsamp klv02\nal1\tbutterlp al1,ifrq2\nklv02x\tdownsamp al1\n\nad1\t=  (klv02x<kmax2 ? ad1:ad1*kmax2/klv02x)\nad2\t=  (klv02x<kmax2 ? ad2:ad2*kmax2/klv02x)\n\n\touts ad1*kamp,ad2*kamp\n\n\tendin\n\n\tinstr 90\n\tendin\n\n\n</CsInstruments>\n<CsScore>\nt 0.00\t60.000\n\ni 90\t0.0000\t30.000\t; length in seconds\n\n;------------------------------------------------------------------------------\nf 64 0 16 -2\t1.4\t; output gain\n\t\t0.6\t; 1. max. level\t\t\t1st limiter\n\t\t20\t; 1. delay time in ms\n\t\t0.01\t; 1. decay speed (0..1)\n\t\t0.0001\t; 1. attack speed\n\t\t25\t; 1. lowpass filter freq.\n\t\t0.6\t; 2. max. level\t\t\t2nd limiter\n\t\t2.5\t; 2. delay time in ms\n\t\t0.5\t; 2. decay speed (0..1)\n\t\t0.0025\t; 2. attack speed\n\t\t200\t; 2. lowpass filter freq.\n;------------------------------------------------------------------------------\n\nf 232 0 129 1\t\"AMPTABLE.DAT\"\t0 6 0\n\ne\t; END OF SCORE\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iatt\t=  0.002\t; attack time using bass sound and Butterworth lowpass filter and Butterworth highpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bass_201.orc and bass_201.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  44100\nksmps\t=  1\nnchnls\t=  1\n\n\n\tinstr 1\n\niatt\t=  0.002\t; attack time\nimaxamp\t=  1.333\t; max. amplitude at attack end\nidec\t=  0.005\t; decay time\nirel\t=  0.05\t\t; release time\n\nimaxfrq\t=  4\t\t; max freq. / base frequency\nifrqdec\t=  0.0025\t; freq. decay time\n\n; ------------------------------------------------------------\n\np3\t=  p3+irel\nimaxamp\t=  sqrt(imaxamp)\n\nicps\t=  440.0*exp(log(2.0)*(p4-69.0)/12.0)\nkcps\tport 1,ifrqdec,imaxfrq\nkcps\t=  kcps*icps\n\niamp\t=  0.0039+p5*p5/16192\nkamp\tlinseg 0,iatt,imaxamp,idec,1,p3-(iatt+idec+irel),1,irel,0,1,0\nkamp\t=  iamp*kamp*kamp\n\na1\toscil3 1,kcps,1,0\na2\tphasor kcps, 0.75\na2\tbutterhp a2, kcps*4.0\nkffrq\texpon 2093, (60/140)*0.5, 1046.5\na2\tbutterlp a2, kffrq\na1\t=  kamp*(a1+a2*2)*15000\n\n\tout a1\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\n; harmonic number\t1\t2\t3\t4\t5\t6\t7\t8\n\n;f 1 0 16384 10\t\t1\t0.25\t0.125\t0.25\t0\t0.0625\t0\t0.125\nf 1 0 16384 10\t\t1\t0\t0.25\t0.0625\t0\t0.125\t0\t0.03125\n;f 1 0 16384 10\t\t1\t0.0625\t0.5\t0.125\t0.25\t0.0625\t0.125\t0.03125\n\nt 0 140\n\n#define Macro1(S#N1#N2) #\n\ni 1\t[$S+0.5000]\t0.43\t$N1\t125\ni 1\t[$S+1.5100]\t0.4375\t$N1\t120\ni 1\t[$S+2.5100]\t0.43\t$N2\t122\ni 1\t[$S+3.5050]\t0.4375\t$N2\t120\n\ni 1\t[$S+0.0000]\t0.2\t[$N1-12]\t88\ni 1\t[$S+1.0050]\t0.2\t[$N1-12]\t88\ni 1\t[$S+2.0050]\t0.2\t[$N2-12]\t88\ni 1\t[$S+3.0050]\t0.2\t[$N2-12]\t88\n\ni 1\t[$S+0.5050]\t0.2\t[$N1-12]\t88\ni 1\t[$S+1.5050]\t0.2\t[$N1-12]\t88\ni 1\t[$S+2.5050]\t0.2\t[$N2-12]\t88\ni 1\t[$S+3.5050]\t0.2\t[$N2-12]\t88\n\n#\n\n$Macro1(0#25#25)\n$Macro1(4#33#35)\n$Macro1(8#25#25)\n$Macro1(12#33#35)\n\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp\ttable\t0,64\t; output gain using Butterworth lowpass filter and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Limit402.orc and Limit402.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  44100\nksmps\t=  1\nnchnls\t=  2\n\n\n#define INPUTFILE # \"infile.sf\" #\n\n\tinstr 1\n\niamp\ttable\t0,64\t; output gain\nimax1\ttable\t1,64\t; max. level\nidel1\ttable\t2,64\t; delay time in sec.\nidec1\ttable\t3,64\t; decay speed\niatt1\ttable\t4,64\t; attack speed\nifrq1\ttable\t5,64\t; lowpass filter freq.\nimax1\t=  imax1*32768\nklv01\tinit 0\n\nad1,ad2\tsoundin $INPUTFILE\t\t; sound input\na1,a2\tsoundin $INPUTFILE,idel1\n\nklx1\tdownsamp abs(a1)\nklx2\tdownsamp abs(a2)\nklx\t=  (klx1>klx2 ? klx1:klx2)\nktmp\t=  (klx>klv01 ? idec1:iatt1)\nklv01\t=  klv01+(klx-klv01)*ktmp\nal1\tupsamp klv01\nal1\tbutterlp al1,ifrq1\nklv01x\tdownsamp al1\n\na1\t=  (klv01x<imax1 ? ad1:ad1*imax1/klv01x)\na2\t=  (klv01x<imax1 ? ad2:ad2*imax1/klv01x)\n\n\touts a1*iamp,a2*iamp\n\n\tendin\n\n\n</CsInstruments>\n<CsScore>\nt 0.00\t60.000\n\ni 1\t0.0000\t30.000\t; length in seconds\n\n;------------------------------------------------------------------------------\nf 64 0 8 -2\t1.4\t; output gain\n\t\t0.5\t; max. level\n\t\t0.02\t; time diff. between envelope and audio signal (sec.)\n\t\t0.01\t; envelope decay speed (0..1)\n\t\t0.0001\t; envelope attack speed\n\t\t25\t; envelope lowpass filter frequency (Hz)\n;------------------------------------------------------------------------------\n\ne\t; END OF SCORE\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating Butterworth lowpass filter and Butterworth highpass filter and Butterworth bandpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bd14.orc and bd14.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  22050\nksmps\t=  2\nnchnls\t=  1\n\n\n\tseed 0\ngax0\tinit 0\n\n#define MIDI2CPS(xmidi) # (440.0*exp(log(2.0)*(($xmidi)-69.0)/12.0)) #\n#define CPS2MIDI(xcps)  # ((log(($xcps)/440.0)/log(2.0))*12.0+69.0) #\n\n\tinstr 1\n\n/* ------------------------------------------------------------------------- */\n\nivol\ttable  0,40\t/* volume\t\t\t\t\t*/\nibpm\ttable  1,40\t/* tempo\t\t\t\t\t*/\n\nirel\ttable  2,40\t/* release time\t\t\t\t\t*/\n\nistrtf1\ttable  3,40\t/* start frequency 1\t\t\t\t*/\nifdec1\ttable  4,40\t/* freq. decay speed 1\t\t\t\t*/\nistrtf2\ttable  5,40\t/* start frequency 2\t\t\t\t*/\nifdec2\ttable  6,40\t/* freq. decay speed 2\t\t\t\t*/\n\nibwx0\ttable  7,40\t/* noise bandwidth offset (Hz)\t\t\t*/\nibwx1\ttable  8,40\t/* noise bandwidth / osc. frequency\t\t*/\n\niLPf\ttable  9,40\t/* LP filter start frq. / osc. freq.\t\t*/\niLPd\ttable 10,40\t/* LP filter freq. decay speed\t\t\t*/\n\niAM1s\ttable 11,40\t/* amp. envelope 1 start value\t\t\t*/\niAM1d\ttable 12,40\t/* amp. envelope 1 decay speed\t\t\t*/\niAM2s\ttable 13,40\t/* amp. envelope 2 start value\t\t\t*/\niAM2d\ttable 14,40\t/* amp. envelope 2 decay speed\t\t\t*/\n\n/* ------------------------------------------------------------------------- */\n\nibtime\t=  60/ibpm\n\np3\t=  p3+irel+0.05\n\nimkey\t=  p4\nimvel\t=  p5\n\nicps\t=  $MIDI2CPS(imkey)\niamp\t=  (0.0039+imvel*imvel/16192)*ivol\nkamp\tlinseg 1,p3-(irel+0.05),1,irel,0,0.05,0\n\nk_\tport 1,ibtime/ifdec1,istrtf1\t\t/* calculate base frequency */\nk__\tport 1,ibtime/ifdec2,istrtf2\nkcps\t=  icps*k_*k__\n\na_\tunirand 2\t\t\t\t/* oscillator */\na_\t=  a_-1\na_\tbutterbp a_,kcps,ibwx0+kcps*ibwx1\na0\t=  a_\n\nk_\texpseg 1,ibtime/iAM1d,0.5\t\t\t/* amp. envelopes */\nk__\texpseg 1,ibtime/iAM2d,0.5\nk_\t=  (1-k_)*(1-iAM1s)+iAM1s\nk__\t=  (1-k__)*(1-iAM2s)+iAM2s\na0\t=  a0*k_*k__\n\na1\t=  a0\n\nk_\tport 0,ibtime/iLPd,iLPf\t\t\t/* LP filter */\na0\tbutterlp a0,kcps*k_\n\na_\tbutterhp a1,kcps*1\na_\tbutterlp a_,kcps*8\nk_\texpseg 1,0.005,0.5\na0\t=  a0+1.5*a_*k_\n\ngax0\t=  gax0+a0*iamp*kamp\n\n\tendin\n\n\tinstr 90\n\n/* ------------------------------------------------------------------------- */\niamp\ttable\t0,64\t/* output gain\t\t\t\t\t*/\nimax1\ttable\t1,64\t/* 1. max. level\t\t1st limiter\t*/\nidel1\ttable\t2,64\t/* 1. delay time\t\t\t\t*/\nidec1\ttable\t3,64\t/* 1. decay speed\t\t\t\t*/\niatt1\ttable\t4,64\t/* 1. attack speed\t\t\t\t*/\nifrq1\ttable\t5,64\t/* 1. lowpass filter freq.\t\t\t*/\nimax2\ttable\t6,64\t/* 2. max. level\t\t2nd limiter\t*/\nidel2\ttable\t7,64\t/* 2. delay time\t\t\t\t*/\nidec2\ttable\t8,64\t/* 2. decay speed\t\t\t\t*/\niatt2\ttable\t9,64\t/* 2. attack speed\t\t\t\t*/\nifrq2\ttable\t10,64\t/* 2. lowpass filter freq.\t\t\t*/\n/* ------------------------------------------------------------------------- */\n\na1\t=  gax0\t\t/* get input signal */\ngax0\t=  0\n\nklv01\tinit 0\nklv02\tinit 0\n\nad1\tdelay a1,idel1\t\t\t/* 1. limiter */\n\nklx\tdownsamp abs(a1)\nklv01\t=  (klx>klv01 ? klv01+(klx-klv01)*idec1:klv01+(klx-klv01)*iatt1)\nal1\tupsamp klv01\nal1\tbutterlp al1,ifrq1\nklv01x\tdownsamp al1\n\na1\t=  (klv01x<imax1 ? ad1:ad1*imax1/klv01x)\n\nad1\tdelay a1,idel2\t\t\t/* 2. limiter */\n\nklx\tdownsamp abs(a1)\nklv02\t=  (klx>klv02 ? klv02+(klx-klv02)*idec2:klv02+(klx-klv02)*iatt2)\nal1\tupsamp klv02\nal1\tbutterlp al1,ifrq2\nklv02x\tdownsamp al1\n\nad1\t=  (klv02x<imax2 ? ad1:ad1*imax2/klv02x)\n\nad1\tbutterlp iamp*ad1,sr*0.48\n\n\tout ad1\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt 0.00\t135.00\t/* tempo */\n\ni 90\t0.0000\t12.000\t\t/* output instrument */\n\ni 1\t0.0000\t0.4000\t33\t127\ni 1\t1.0000\t0.4000\t33\t127\ni 1\t2.0000\t0.4000\t33\t127\ni 1\t3.0000\t0.4000\t33\t127\ni 1\t4.0000\t0.4000\t33\t127\ni 1\t5.0000\t0.4000\t33\t127\ni 1\t6.0000\t0.4000\t33\t127\ni 1\t7.0000\t0.4000\t33\t127\n\n/* ------------------------------------------------------------------------- */\n\nf 40 0 32 -2\t1000.0\t\t/* volume\t\t\t\t*/\n\t\t135\t\t/* tempo\t\t\t\t*/\n\n\t\t0.05\t\t/* release time\t\t\t\t*/\n\n\t\t5.3333\t\t/* start frequency 1\t\t\t*/\n\t\t20\t\t/* freq. decay speed 1\t\t\t*/\n\t\t0.5\t\t/* start frequency 2\t\t\t*/\n\t\t256\t\t/* freq. decay speed 2\t\t\t*/\n\n\t\t0.0\t\t/* noise bandwidth offset (Hz)\t\t*/\n\t\t0.25\t\t/* noise bandwidth / osc. frequency\t*/\n\n\t\t4.0\t\t/* LP filter start frq. / osc. freq.\t*/\n\t\t4.0\t\t/* LP filter freq. decay speed\t\t*/\n\n\t\t16.0\t\t/* amp. envelope 1 start value\t\t*/\n\t\t1024\t\t/* amp. envelope 1 decay speed\t\t*/\n\t\t1.0\t\t/* amp. envelope 2 start value\t\t*/\n\t\t4\t\t/* amp. envelope 2 decay speed\t\t*/\n\n/* ------------------------------------------------------------------------- */\n\nf 64 0 16 -2\t24576\t\t/* output gain\t\t\t\t*/\n\t\t4.0\t\t/* 1. max. level\tlimiter 1\t*/\n\t\t0.02\t\t/* 1. delay time\t\t\t*/\n\t\t0.01\t\t/* 1. decay speed (0..1)\t\t*/\n\t\t0.0001\t\t/* 1. attack speed\t\t\t*/\n\t\t25\t\t/* 1. LP filter freq.\t\t\t*/\n\t\t1.0\t\t/* 2. max. level\tlimiter\t2\t*/\n\t\t0.0025\t\t/* 2. delay time\t\t\t*/\n\t\t0.5\t\t/* 2. decay speed (0..1)\t\t*/\n\t\t0.0025\t\t/* 2. attack speed\t\t\t*/\n\t\t200\t\t/* 2. LP filter freq.\t\t\t*/\n\n/* ------------------------------------------------------------------------- */\n\ne\t/* end of score */\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur\t  \t=\t    \tp3 using reverb effect and Butterworth lowpass filter and stereo reverb", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from reverb2.orc and reverb2.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t22050\nksmps\t=\t\t2\nnchnls\t=\t\t2\n\n; 1. NOISE CLICK\n; 2. DISK INPUT\n\nzakinit \t30,30\n\n;----------------------------------------------------------------------------------\n; NOISE CLICK FOR TESTING THE DECAY CURVE OF THE REVERB.\n\t  \tinstr  1\n\nidur\t  \t=\t    \tp3\niamp\t  \t=\t  \tp4\nioutch \t=\t   \tp5\nifco\t  \t=\t    \tp6\n\nkamp\t  \tlinseg \t0, .002, iamp, .002, 0, idur-.004, 0\naout\t  \trand   \tkamp\n\nafilt  \tbutterlp \taout, ifco\n\t  \tzaw    \tafilt, ioutch\n\t  \touts   \taout, aout\n\n\t  \tendin\n\n;---------------------------------------------------------------------\n; DISK INPUT\n\t  \tinstr  2\n\niamp\t  \t=\t    \tp4\nirate  \t=\t    \tp5\nisndin \t=\t    \tp6\nioutch \t=\t    \tp7\n\nain\t  \tdiskin\tisndin, irate\n\t  \tzaw\t\tain*iamp, ioutch\n\t  \touts\t\tain*iamp, ain*iamp\n\n\t  \tendin\n\n;---------------------------------------------------------------------\n; REVERB\n\t    \tinstr\t10\n\nidur\t    \t=\t \tp3\nirevtime \t=\t \tp4\nigain    \t=\t \tp5\niinch    \t=\t \tp6\nioutch   \t=\t \tp7\n\nain\t    \tzar\t \tiinch\t\t ; READ THE CHANNEL\naout\t    \treverb \tain, irevtime\t ; DELAY FOR TIME\n\t    \touts\t \taout, -aout\t ; \n\n\t    \tendin\n\n\n</CsInstruments>\n<CsScore>\n; 1. NOISE CLICK\n; 2. DISK INPUT\n; 3. BAND-LIMITED IMPULSE\n; 8. SIMPLE SUM\n; 9. FEEDBACK FILTER\n;10. DELAY\n;11. SIMPLE ALL-PASS FILTER\n;12. NESTED ALL-PASS FILTER\n;13. DOUBLE NESTED ALL-PASS FILTER\n;15. OUTPUT \n\nf1 0 16384 10 1                               ; SINE\n\n;-------------------------------------------------------------------------------\n; NO REVERB\n;-------------------------------------------------------------------------------\n;   STA   DUR       AMP       PITCH          SOUNDIN        OUTCH     FCO\ni2  0.0   4.0       .8        1              11             1         10000\n\n;-------------------------------------------------------------------------------\n; SMALL ROOM\n;-------------------------------------------------------------------------------\n;   STA   DUR       AMP       PITCH          OUTCH\n;i1 4.5  .01        30000     1\n\n;   STA   DUR       AMP       PITCH          SOUNDIN        OUTCH     FCO\ni2  4.5   4.0       0.5       1              11             1         6000\n\n;   STA   DUR       FCO       GAIN           INCH1          INCH2     OUTCH\ni9  4.5   4.5       1600      .5             1              5         2\n\n;   STA   DUR       TIME      GAIN           INCH           OUTCH\ni10 4.5   4.5       24        1.0            2              3\n\n;   STA   DUR       TIME1     GAIN1          TIME2          GAIN2     TIME3  GAIN3        INCH  OUTCH\ni13 4.5   4.5       35        .15            22             .25       8.3    .30          3     4\n\n;   STA   DUR       GAIN      INCH\ni15 4.5   4.5       .6        4\n\n;   STA   DUR       TIME1     GAIN1          TIME2          GAIN2     INCH      OUTCH\ni12 4.5   4.5       66        .08            30             .3        4         5\n\n;   STA   DUR       GAIN      INCH\ni15 4.5   4.5       .6        5\n\n;-------------------------------------------------------------------------------\n; MEDIUM ROOM\n;-------------------------------------------------------------------------------\n;   STA   DUR       AMP       PITCH          SOUNDIN        OUTCH     FCO\ni2  9.0   4.0       0.5       1              11             1         6000\n\n;   STA   DUR       FCO       GAIN           INCH1          INCH2     OUTCH\ni9  9.0   4.5       1000      .4             1              10        2\n\n;   STA   DUR       TIME1     GAIN1          TIME2          GAIN2     TIME3  GAIN3    INCH  OUTCH\ni13 9.0   4.5       35        .25            8.3            .35       22     .45      2     3\n\n;   STA   DUR       GAIN      INCH\ni15 9.0   4.5       .5        3\n\n;   STA   DUR       TIME      GAIN           INCH           OUTCH\ni10 9.0   4.5       5         1.0            3              4\n\n;   STA   DUR       TIME1     GAIN1          INCH           OUTCH\ni11 9.0   4.5       30        .45            4              5\n\n;   STA   DUR       TIME      GAIN           INCH           OUTCH\ni10 9.0   4.5       67        1.0            5              6\n\n;   STA   DUR       GAIN      INCH\ni15 9.0   4.5       .5        6\n\n;   STA   DUR       TIME      GAIN           INCH           OUTCH\ni10 9.0   4.5       15        .4             6              7\n\n;   STA   DUR       INCH1     INCH2          OUTCH\ni8  9.0   4.5       1.2       7              8\n\n;   STA   DUR       TIME1     GAIN1          TIME2          GAIN2     INCH      OUTCH\ni12 9.0   4.5       39        .25            9.8            .35       8         9\n\n;   STA   DUR       GAIN      INCH\ni15 9.0   4.5       .5        9\n\n;   STA   DUR       TIME      GAIN           INCH           OUTCH\ni10 9.0   4.5       108       1.0            9              10\n\n;-------------------------------------------------------------------------------\n; LARGE ROOM\n;-------------------------------------------------------------------------------\n;   STA   DUR       AMP       PITCH          SOUNDIN        OUTCH     FCO\ni2  13.5  4.0       0.5       1              11             1         4000\n\n;   STA   DUR       FCO       GAIN           INCH1          INCH2     OUTCH\ni9  13.5  5.0       1000      .5             1              10        2\n\n;   STA   DUR       TIME1     GAIN1          INCH           OUTCH\ni11 13.5  5.0       8         .3             2              3\n\n;   STA   DUR       TIME1     GAIN1          INCH           OUTCH\ni11 13.5  5.0       12        .3             3              4\n\n;   STA   DUR       TIME      GAIN           INCH           OUTCH\ni10 13.5  5.0       4         1.0            4              5\n\n;   STA   DUR       GAIN      INCH\ni15 13.5  5.0       1.5       5\n\n;   STA   DUR       TIME      GAIN           INCH           OUTCH\ni10 13.5  5.0       17        1.0            5              6\n\n;   STA   DUR       TIME1     GAIN1          TIME2          GAIN2     INCH      OUTCH\ni12 13.5  5.0       87        .5             62             .25       6         7\n\n;   STA   DUR       TIME      GAIN           INCH           OUTCH\ni10 13.5  5.0       31        1.0            7              8\n\n;   STA   DUR       GAIN      INCH\ni15 13.5  5.0       .8        8\n\n;   STA   DUR       TIME      GAIN           INCH           OUTCH\ni10 13.5  5.0       3         1.0            8              9\n\n;   STA  DUR  TIME1  GAIN1  TIME2  GAIN2  TIME3  GAIN3  INCH  OUTCH\ni13 13.5 5.0  120    .5     76     .25    30     .25    9     10\n\n;   STA  DUR  GAIN   INCH\ni15 13.5 5.0  .8     10\n\n\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for LINEN   \tAMP,   RISE, DUR, FALL using buzz/pulse generator and resonant filter and amplitude balance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from BUZZLY.ORC and BUZZLY.SCO\n; Original files preserved in same directory\n\nsr \t\t= \t\t\t44100\nkr \t\t=\t\t\t441\nksmps \t=\t\t\t100\nnchnls \t= \t\t\t1\n\n\t\t\n\t\t\n\t\t\n\t\t\n\t\tinstr 1\n\n;       LINEN   \tAMP,   RISE, DUR, FALL\nkfen1   linen   \t1000, .5*p3, p3, .5*p3\nkfen2\tlinen\t\t2000, .5*p3, p3, .5*p3\n\n;       BUZZ    \tPITCH, AMP, #PARTIALS, FUNCTION\nabuzz\tbuzz    \tp5,    p4,  10,        1\nares1\treson   \tabuzz, kfen1, 100\naton1\ttone    \tabuzz, kfen1\nares2\treson   \tabuzz, kfen2, 200\naton2\ttone    \tabuzz, kfen2\nafin\tbalance \tares1+aton1+ares2+aton2, abuzz\n\t\tout\t\t\tafin*1000\n\t\tendin \n\n</CsInstruments>\n<CsScore>\n; score******************************************************************\nf1  0 1024  10 1\n;  istart idur ifq  ivol (1000-10000)\ni1  0     2    220   20\ni1  0     4    330   20\ni1  4     2    280   10\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipitch    =         cpspch(p5) using delay effect and buzz/pulse generator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from DELAY2.ORC and DELAY2.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n\n\n               instr     1\n     ipitch    =         cpspch(p5)\n     idlt      =         1/ipitch\n     knh       init      (sr*.4)/ipitch\n     abuzz     buzz      p4,ipitch,knh,3\n     kamp      oscil1i   0.00,1,p3,4\n     araw      =         abuzz*kamp\n     asig      init      0\n     adelay    delay     (araw+asig),idlt    \n     aflt1     reson     adelay,ipitch,(ipitch*.1),1\n     aflt2     reson     adelay,(ipitch*2),(ipitch*.2),1\n     aflt3     reson     adelay,(ipitch*3),(ipitch*.3),1\n     aflt4     reson     adelay,(ipitch*4),(ipitch*.4),1\n     aflt5     reson     adelay,(ipitch*5),(ipitch*.5),1\n     aflt6     reson     adelay,(ipitch*6),(ipitch*.6),1\n     afltbnk   =         aflt1+aflt2+aflt3+aflt4+aflt5+aflt6\n     abal      balance   afltbnk,abuzz\n     asig      envlpx    abal,.03,p3,.5,2,.85,.01\n               out       asig\n               endin\n \n\n</CsInstruments>\n<CsScore>\nf1   0    512  10   1\nf2   0    513  5    0.001     512  1    1    1\nf3   0    8192 9    1    1    90\nf4   0    513  5    .01  62   1    450  .001 1    .001 \ni1   0    5    49500     8.00e\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for BANDLIMITED PWM CODED BY Josep MÂ» Comajuncosas using buzz/pulse generator and delay line read and delay line write", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pulse3.orc and pulse3.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n          \n          instr 1             ; BANDLIMITED PWM CODED BY Josep MÂ» Comajuncosas\n; note: you could further integrate the output\n; to get Triangle waves with pulse modulation\n\nkamp      init      10000\nkfreq     line      100, p3, 200\nkrel      line      1, p3 ,0; 0 to 1 (modulation index)\n\napulse1   buzz      1,kfreq, sr/(2*kfreq), 1;no aliasing here! ;-)\n\napulse    delayr    1/50;donÂ«t try to use below 50 Hz <- a better idea?\napulse2   deltapi   krel/kfreq;interpolating to get the proper phase\n          delayw    apulse1\n                                             \navpw      =         apulse1 - apulse2        ; TWO INVERTED PULSES AT VARIABLE DISTANCE\napwmdc    integ     avpw                     ; INTEGRATING GIVES A SQUARE WAVE WITH WM\napwm      atone     apwmdc,1                 ; REMOVE DC OFFSET CAUSED BY INTEG\napwm      balance   apwm,apulse1             ; AND RESTORE ORIGINAL POWER\n\n          out       kamp*apwm                ; LOOK AT ITS SONOGRAM! ITÂ«S REALLY NICE!!\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 16384 10 1\ni1 0 10\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Gbuzz instrument. using buzz/pulse generator and generalized buzz generator and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Buzz.orc and Buzz.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Gbuzz instrument.\n\nilevl    = p4*32767               ; Output level\nipitch   = cpspch(p5)             ; Pitch\nihigh    = int((.5*sr)/ipitch*p6) ; Highest harmonic < nyquist\nilow     = p7                     ; Lowest harmonic\niharm1   = p8                     ; Start harmonic curve\niharm2   = p9                     ; End harmonic curve\n\nk1       line  iharm1, p3, iharm2\na1       gbuzz  1, ipitch, ihigh, ilow, k1, 1, -1\nout      a1*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 16384 9 1 1 90 ; Cosine\n\nt 0 480 ; 4*Tempo\n\n;                           -------Harmonics-------\n;     Strt  Leng  Levl  Pitch Num.  Low.  Harm1 Harm2\ni1    0.00  1.00  1.00  07.00 1     1     1.00  0.10\ni1    +     .     .     06.07 .     .     ~     ~\ni1    +     .     .     06.09 .     .     ~     ~\ni1    +     .     .     07.09 .     .     ~     ~\ni1    +     .     .     07.00 .     .     ~     ~\ni1    +     .     .     07.03 .     .     ~     ~\ni1    +     2.00  .     07.05 .     .     0.10  1.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 43_01_1b.orc and 43_01_1b.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:        43_01_1B.ORC\n; synthesis:    (g)buzz(43)\n;               basic instrument(01)\n;               LINEN envelope, constant inh(1B)\n; coded:        jpg 10/93\n\n\n\n\ninstr 1; *****************************************************************\nidur  = p3\niamp  = p4\nifqc  = p5\ninmh   = 10\n\n   aenv    linen   iamp, .2, idur, .2\n   asrc    buzz    aenv, ifqc, inmh, 1\n           out     asrc\nendin\n\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     43_01_1B.SCO\n; coded:     jpg 10/93\n; notice the foldover in the last note, due to constant inh parameter..\n\n\n; GEN functions **********************************************************\nf1 0 8193 10 1\n\n\n; score ******************************************************************\n\n;     idur  iamp  ifqc\ni1 0   2    8000   55\ni1 +   .    .     110\ni1 .   .    .     440\ni1 .   .    .    1760\ni1 .   .    .    3520\ni1 .   .    .    7040\ni1 .   .    .   14080\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and Butterworth lowpass filter and parametric equalizer", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bd02.orc and bd02.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  22050\nksmps\t=  2\nnchnls\t=  1\n\n\nga0x\tinit 0\n\n\tinstr 1\n\n/* ------------------------------------------------------------------------- */\n\nibpm\t=\t140.000\t\t\t/* tempo\t\t\t*/\nivol\t=\t0.5\t\t\t/* volume\t\t\t*/\nirel\t=\t0.05\t\t\t/* release time\t\t\t*/\nifmax\t=\t5.3333\t\t\t/* max. frequency / note frq.\t*/\nifdec\t=\t12\t\t\t/* frequency decay speed\t*/\nifmax2\t=\t4\t\t\t/* max. frequency 2 / note frq.\t*/\nifdec2\t=\t1024\t\t\t/* frequency 2 decay speed\t*/\niamax\t=\t0.5\t\t\t/* start amplitude\t\t*/\niadec\t=\t16\t\t\t/* amplitude -> 1.0 speed\t*/\niamax2\t=\t-4\t\t\t/* start amp. 2\t\t\t*/\niadec2\t=\t1024\t\t\t/* amp2 -> 1.0 speed\t\t*/\niLP1f\t=\t2\t\t\t/* LP flt. 1 start f. / osc. f.\t*/\niLP1fd\t=\t6\t\t\t/* LP filter 1 frq. decay speed\t*/\niHPxf\t=\t1.5\t\t\t/* output HP flt. f. / note f.\t*/\niHPxq\t=\t1.5\t\t\t/* output resonant HP filter Q\t*/\n\n/* ------------------------------------------------------------------------- */\n\nicps\t=  440.0*exp(log(2.0)*(p4-69.0)/12.0)\niamp\t=  0.0039+p5*p5/16192\np3\t=  p3+irel+0.05\n\nibtime\t=  60/ibpm\t\t\t\t/* convert parameters */\niHPxf\t=  iHPxf*icps\n\niSCALE0\t=  sr/(10*3.141593)\t\t/* scale for BUZZ oscillators */\n\n/* -------- ENVELOPES -------- */\n\nkfrq\tport 1,ibtime/ifdec,ifmax\t\t/* base freq. envelope */\nkfrq_\tport 1,ibtime/ifdec2,ifmax2\nkfrq\t=  kfrq*kfrq_*icps\nkamp1\tlinseg 1,p3-(irel+0.05),1,irel,0,1,0\t/* amp. envelope 1 */\nkamp\texpon 1,ibtime/iadec,0.5\t\t/* amp. envelopes */\nkamp2\texpon 1,ibtime/iadec2,0.5\nkamp\t=  iamp*kamp1*(kamp*(iamax-1)+1)*(kamp2*(iamax2-1)+1)\n\nkffrq1\tport 0,ibtime/iLP1fd,iLP1f\t\t/* lowpass 1 freq. envelope */\nkffrq1\t=  kffrq1*kfrq\n\n/* -------- OSCILLATOR -------- */\n\nk_nh_\t=  int(sr/(2*kfrq))\na_1_\tbuzz iSCALE0,kfrq,k_nh_,1,0\na_2_\tbuzz iSCALE0,kfrq,k_nh_,1,0.5\naosc0\ttone a_1_-a_2_,10\n\n/* -------- FILTERS -------- */\n\na1\tbutterlp aosc0,kffrq1\t\t/* lowpass 1 */\n\na1\tpareq a1,iHPxf,iHPxq*2,iHPxq,0\t/* resonant HP */\na_\ttone a1,iHPxf\na1\t=  a1-a_\na_\ttone a1,iHPxf\na1\t=  a1-a_\n\n/* -------- OUTPUT -------- */\n\nga0x\t=  ga0x+(kamp*ivol*(1.0*a1))\n\n\tendin\n\n\tinstr 90\n\na0x\ttable3 ga0x/2.80,100,1,0.5,0\t/* distortion table */\nga0x\t=  0\n\n\tout a0x*30000\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt\t0.0000\t140.000\t\t/* set tempo */\n\ni 90\t0.0000\t18.000\n\ni 1\t0.0000\t1.0000\t31\t124\ni 1\t1.0100\t1.0000\t31\t120\ni 1\t2.0150\t1.0000\t31\t127\ni 1\t3.0150\t1.0000\t31\t120\n\ni 1\t4.0000\t1.0000\t31\t124\ni 1\t5.0100\t1.0000\t31\t120\ni 1\t6.0150\t1.0000\t31\t124\ni 1\t7.0150\t1.0000\t31\t120\n\ni 1\t8.0000\t1.0000\t31\t124\ni 1\t9.0100\t1.0000\t31\t120\ni 1\t10.015\t1.0000\t31\t127\ni 1\t11.015\t1.0000\t31\t120\n\ni 1\t12.000\t1.0000\t31\t124\ni 1\t13.010\t1.0000\t31\t120\ni 1\t14.015\t0.7500\t31\t124\ni 1\t14.765\t0.2000\t31\t122\ni 1\t15.015\t0.4000\t31\t124\ni 1\t15.515\t0.4000\t31\t126\n\n/* ------------------------------------------------------------------------- */\n\nf 1 0 262144 10 1\t/* sine table */\n\n/* dist. table */\n\n/* f 100 0 16385 -8\t-1.0 2048 -1.0 4096 -0.7 4096 0.7 4096 1.0 2049 1.0 */\n\nf 100 0 16385 -8\t-1.0 2048 -1.0 4096 -0.7 1536 -0.05 1024 0.05 \\\n\t\t\t1536 0.7 4096 1.0 2049 1.0\n\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ,2,3,4 using subtractive synthesis and buzz/pulse generator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from arnotSUBTRACT.ORC and arnotSUBTRACT.SCO\n; Original files preserved in same directory\n\n        sr          =         44100\n        kr          =         4410\n        ksmps       =         10\n        nchnls      =         2\n\n; JOHN M. ARNOTT II\n; SUBTRACTIVE SYNTHESIS\n; SIMPLE SUBTRACTIVE INSTRUMENT\n\n\n\n        instr       1,2,3,4\n\n        imincf      =         26.6\n        ibwmin      =         .05\n        ibwrange    =         .45\n        iratio      =         2.828\n\n        kgate       linen     p4,p6,p3,p7    \n        aw1         buzz      kgate,p5,5,2\n        klin        linseg    ibwmin, 1/p3, ibwrange+ibwmin, 1, ibwrange+ibwmin\n        ksum        =         ibwmin + klin\n\n        kcf         =         p5\n        kbw         =         kcf * ksum\n                \n        aw2         reson     aw1,kcf,kbw,1\n        \n        aleft       =         sqrt(p8)*aw2\n        aright      =         sqrt(p9)*aw2\n        outs        aleft,aright\n        endin   \n\n</CsInstruments>\n<CsScore>\nf01     0       512     10      1\nf02     0       8192    10      1\nf03     0       512     5       1       512     .000001\n;       start   dur     amp     pitch   rise    decay   leftfac rightfac\ni01     0       6       15000   131     1       1       1       0\ni01     1       4       15000   196     1       1       0       1\ni01     2       3       15000   165     1       1       .5      .5\ni01     3       3       15000   262     1       1       0       1\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iattack          =         .01 using buzz/pulse generator and resonant filter and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FltBuzz.orc and FltBuzz.sco\n; Original files preserved in same directory\n\n     sr             =         44100\n     kr             =         4410\n     ksmps          =         10\n     nchnls         =         1\n\n\n                    instr 1\n   iattack          =         .01\n   irelease         =         .2\n   iwhite           =         10000\n   idur             =         p3\n   iamp             =         ampdb(p4)\n   ifund            =         p5\n   isweepstart      =         p6\n   isweepend        =         p7\n   ibandwidth       =         p8\n   inoh             =         sr/2/ifund               ; CREATES A BANDLIMITED PULSE\n   ifun             =         1\n                                              \n   kamp             linen     iamp, iattack, idur, irelease\n   ksweep           line      isweepstart, idur, isweepend\n   asig             buzz      1, ifund, inoh, ifun \n   afltsig          reson     asig, ksweep, ibandwidth\n   arampsig         =         kamp * afltsig\n                    out       arampsig\n                    endin\n\n</CsInstruments>\n<CsScore>\n; buzzflt.sco\n\nf1 0 4096 10 1\n\nf0 1\nf0 2\nf0 3\nf0 4\nf0 5    \n\n; strt  dur   amp(dB)   fndfrq   stsweep  ndsweep   bndw        \ni1  0    5    60         200        650     650      100     \ni1  0    5    52         200        1100   1100      200     \ni1  0    5    47         200        2860   2860      600     \ni1  0    5    48         200        3300   3300      800     \ni1  0    5    41         200        4500   4500      900     \ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ihz            =         cpspch(p5) using piano sound and buzz/pulse generator and Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from PNO1.ORC and PNO1.SCO\n; Original files preserved in same directory\n\n     sr             =         44100\n     kr             =         4410\n     ksmps          =         10\n     nchnls         =         1 \n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;         BASIC KOTO ORCHESTRA FILE                              ;\n;                                                                ;\n;         P3 = DURATION        P4 = AMPLITUDE                    ;\n;         P5 = PITCH IN PCH    P6 = PITCH BEND IN OCT.DECIMAL    ;\n;                                                                ;\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n                    instr     1\n     ihz            =         cpspch(p5)\n     ihz2           =         ihz * 2.0006\n     ihz3           =         ihz * 1.9999\n     ihz4           =         ihz * 1.0005\n     ihz5           =         ihz * .9998\n     koct           init      octcps(ihz)\n     koct2          init      octcps(ihz2)\n     koct3          init      octcps(ihz3)\n     koct4          init      octcps(ihz4)\n     koct5          init      octcps(ihz5)\n        kbend       oscil1i   0.00,p6,p3,4        ;    /* p6 in oct.decimal */\n        khz         =         cpsoct(koct+kbend)\n        khz2        =         cpsoct(koct2+kbend)\n        khz3        =         cpsoct(koct3+kbend)\n        khz4        =         cpsoct(koct4+kbend)\n        khz5        =         cpsoct(koct5+kbend)\n     ibuf           =         (p5 < 7.00 ? ihz : ihz/2)\n     aplk1          pluck     (p4*.62),khz,ibuf,6,4,1, 1.003\n                    timout    0.0,.002,continue\nkoto2:    aplk2     pluck     (p4*.52),khz2,ibuf,6,3,1\n                    timout    0.0,.004,continue\nkoto3:    aplk3     pluck     (p4*.52),khz3,ibuf,6,3,1\n                    timout    0.0,.005,continue\nkoto4:    aplk4     pluck     (p4*.62),khz4,ibuf,6,4,1, 1.001\n                    timout    0.0,.007,continue\nkoto5:    aplk5     pluck     (p4*.62),khz5,ibuf,6,4,1, 1.001\ncontinue:\n     asignal        =         aplk1+aplk2+aplk3+aplk4+aplk5\n     asig           envlpx    asignal,.06,p3,(p3*.1),7,.66,.008\n                    out       asig\n                    endin\n\n</CsInstruments>\n<CsScore>\n;        PIANO SCORE FILE \n;\n;       SINE WAVE\nf1 0.0 512 10 1\n;       LINEAR RISE\nf2 0.0 513 7  0 513 1\n;       LINEAR FALL\nf3 0.0 513 7  1 513 0\n;       EXPONENTIAL RISE\nf4 0.0 513 5 .001 513 1\n;       EXPONENTIAL RISE\nf5 0.0 513 5 1 513 .001\n;    BUZZ-LIKE WAVE\nf6 0.0 512 10 1 .5  .33  .25  .20  .167 .143\n;    ATTACK FUNCTION\nf7 0.0 513  8  0 100  0  28  0  200 1 185  1\n;\n;       INSTRUMENT CARDS\n;\ni1 0.00 5.0 18000 6.109  0.00\ns\nf0 1\ns\ni1 0.02 5.0 5500  9.110  0.00\ni1 0.01 5.0 5500 10.080  0.00\ni1 0.09 5.0 5500 10.090  0.00\ni1 0.07 5.0 5500 11.010  0.00\ni1 0.06 5.0 5500 11.020  0.00\ni1 0.04 5.0 5500 11.060  0.00\ni1 0.02 5.0 2500 10.110  0.00\ni1 0.01 5.0 2500 11.080  0.00\ni1 0.09 5.0 2500 11.090  0.00\ni1 0.07 5.0 2500 12.010  0.00\ni1 0.06 5.0 2500 12.020  0.00\ni1 0.04 5.0 2500 12.060  0.00\ns\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a tienote sound using buzz/pulse generator and linear segments and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from tienote1.orc and tienote1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n;DAVID KIRSH\n\n; ============== TIED NOTES.ORC ========\n\n\n; DEMONSTRATION OF PORTAMENTO BETWEEN TIED NOTES\n; THIS TECHNIQUE COULD BE APPLIED TO OTHER PARAMETERS AND TO\n; NON-TIED NOTES WITH STRAIGHTFORWARD CHANGES.\n          instr     5\ninote     =         cpspch(p4)  ; THIS NOTE'S PITCH\n\n     ; IF THIS IS NOT A TIED NOTE, THEN THERE'S NO PREVIOUS\n     ; PITCH TO GLIDE FROM, SO SET BEGINNING PITCH OF\n     ; PORTAMENTO TO THIS NOTE'S PITCH.  THEN SAVE THIS SAME\n     ; PITCH IN 'IPREVPITCH' SO WE CAN REMEMBER WHAT PITCH WE\n     ; ARE COMING FROM WHEN WE HAVE A TIED NOTE.  WE HAVE TO\n     ; SAVE IT BOTH HERE AND IN THE TIED NOTE CASE BECAUSE IF\n     ; WE DO IT IN A COMMON PLACE BELOW, CSOUND COMPLAINS ABOUT\n     ; IPREVPITCH BEING USED BEFORE SET.\ntigoto    tieinit\n\n     ; AT THIS POINT WE KNOW WE'RE NOT IN A TIED NOTE.\n     ; SET BEGINNING AND PREVIOUS PITCHES TO THE SAME THING.\nibegpitch =    inote\niprevpitch     =    inote\ngoto      cont\n\ntieinit:\n     ; WE'RE IN A TIED NOTE.\n     ; SET UP BEGINNING PITCH FOR PORTAMENTO TO NEW PITCH.\n     ; BEGINNING PITCH IS PITCH OF PREVIOUS NOTE THAT THIS ONE IS\n     ; TIED ONTO THE END OF.  SAVE CURRENT PITCH IN CASE ANOTHER\n     ; NOTE TIES ONTO THIS ONE; THEN WE'LL BE ABLE TO PORTAMENTO\n     ; AGAIN TO THAT NEW PITCH.\nibegpitch =    iprevpitch\niprevpitch     =    inote\n\ncont:\n     ; NOW SET UP A PITCH ENVELOPE THAT MOVES FROM THE BEGINNING\n     ; PITCH (AS DETERMINED ABOVE) TO THIS NOTE'S NOMINAL PITCH.\nkpitchenv linseg    ibegpitch, .9, inote, abs(p3), inote\n\n     ; GENERATE A SOUND USING THE PITCH ENVELOPE.  NOTICE THE\n     ; LAST 'BUZZ' ARGUMENT (-1), WHICH CAUSES PHASE\n     ; INITIALIZATION TO BE SKIPPED.  THIS IS IMPORTANT TO AVOID\n     ; CLICKS ON TIED NOTES.  (THIS SIMPLE EXAMPLE CLICKS ON\n     ; UNTIED NOTES, THOUGH, BECAUSE THERE'S NO AMPLITUDE\n     ; ENVELOPE.)\na1        buzz 10000, kpitchenv, 6, 1, -1\n          out  a1\n          endin\n\n</CsInstruments>\n<CsScore>\n\n;=========== TIED NOTES.SCO ====================\n\n; A LITTLE TEST MUSIC\nf1 0 1025 10 1\n;\ni5.1 0.0  -2   7.00\ni5.2 0.0  -2   7.04\ni5.1 2.0  -2   7.07\ni5.2 2.0  -2   7.11\ni5.1 4.0  -2   6.07\ni5.2 4.0  -2   7.00\ni5.1 6.0  2    7.00\ni5.2 6.0  2    6.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipitch    =         cpspch(p5) using delay effect and buzz/pulse generator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from DELAY7.ORC and DELAY7.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n\n               instr     1\n     ipitch    =         cpspch(p5)\n     idlt      =         1/ipitch\n     knh       init      (sr*.4)/ipitch\n     abuzz     buzz      p4,ipitch,knh,3\n     kamp      oscil1i   0.00,1,p3,4\n     araw      =         abuzz*kamp\n     asig1     init      0\n     asig2     init      0\n     asig3     init      0\n     asig4     init      0\n     asig5     init      0\n     asig6     init      0\n     adelay1   delay     (araw+asig1),idlt   \n     adelay2   delay     (araw+asig2),(idlt/2)    \n     adelay3   delay     (araw+asig3),(idlt/3)\n     adelay4   delay     (araw+asig4),(idlt/4)\n     adelay5   delay     (araw+asig5),(idlt/5)\n     adelay6   delay     (araw+asig6),(idlt/6)\n     aflt1     reson     adelay1,ipitch,(ipitch*.1),1\n     aflt2     reson     adelay2,(ipitch*2),(ipitch*.15),1\n     aflt3     reson     adelay3,(ipitch*3),(ipitch*.20),1\n     aflt4     reson     adelay4,(ipitch*4),(ipitch*.25),1\n     aflt5     reson     adelay5,(ipitch*5),(ipitch*.30),1\n     aflt6     reson     adelay6,(ipitch*6),(ipitch*.35),1\n     abal1     balance   aflt1,(abuzz/6)\n     abal2     balance   aflt2,(abuzz/6)\n     abal3     balance   aflt3,(abuzz/6)\n     abal4     balance   aflt4,(abuzz/6)\n     abal5     balance   aflt5,(abuzz/6)\n     abal6     balance   aflt6,(abuzz/6)\n     asig1     envlpx    abal1,.6,p3,.5,2,.75,.01\n     asig2     envlpx    abal2,.5,p3,.5,2,.65,.01\n     asig3     envlpx    abal3,.4,p3,.5,2,.55,.01\n     asig4     envlpx    abal4,.3,p3,.5,2,.45,.01\n     asig5     envlpx    abal5,.2,p3,.5,2,.35,.01\n     asig6     envlpx    abal6,.1,p3,.5,2,.25,.01\n     asig      =         asig1+asig2+asig3+asig4+asig5+asig6\n               out       asig\n               endin\n \n\n</CsInstruments>\n<CsScore>\nf1   0    512  10   1\nf2   0    513  5    0.001     512  1    1    1\nf3   0    8192 9    1    1    90\nf4   0    513  5    0.05      512  1    1    1\ni1     0  4    50000       6.00\ni1     5  4    50000       7.00\ni1   10   4    50000       8.00\ni1   15   4    50000       9.00i1  20   4    50000     10.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipitch    =         cpspch(p5) using delay effect and buzz/pulse generator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from DELAY6.ORC and DELAY6.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n\n\n               instr   1\n     ipitch    =         cpspch(p5)\n     idlt      =         1/ipitch\n     knh       init      (sr*.4)/ipitch\n     abuzz     buzz      p4,ipitch,knh,3\n     kamp      oscil1i   0.00,1,p3,4\n     araw      =         abuzz*kamp\n     asig1     init      0\n     asig2     init      0\n     asig3     init      0\n     asig4     init      0\n     asig5     init      0\n     asig6     init      0\n     adelay1   delay     (araw+asig1),idlt   \n     adelay2   delay     (araw+asig2),(idlt/2)    \n     adelay3   delay     (araw+asig3),(idlt/3)\n     adelay4   delay     (araw+asig4),(idlt/4)\n     adelay5   delay     (araw+asig5),(idlt/5)\n     adelay6   delay     (araw+asig6),(idlt/6)\n     aflt1     reson     adelay1,ipitch,(ipitch*.1),1\n     aflt2     reson     adelay2,(ipitch*2),(ipitch*.15),1\n     aflt3     reson     adelay3,(ipitch*3),(ipitch*.20),1\n     aflt4     reson     adelay4,(ipitch*4),(ipitch*.25),1\n     aflt5     reson     adelay5,(ipitch*5),(ipitch*.30),1\n     aflt6     reson     adelay6,(ipitch*6),(ipitch*.35),1\n     abal1     balance   aflt1,(abuzz/6)\n     abal2     balance   aflt2,(abuzz/6)\n     abal3     balance   aflt3,(abuzz/6)\n     abal4     balance   aflt4,(abuzz/6)\n     abal5     balance   aflt5,(abuzz/6)\n     abal6     balance   aflt6,(abuzz/6)\n     asig1     envlpx    abal1,.6,p3,.5,2,.75,.01\n     asig2     envlpx    abal2,.5,p3,.5,2,.65,.01\n     asig3     envlpx    abal3,.4,p3,.5,2,.55,.01\n     asig4     envlpx    abal4,.3,p3,.5,2,.45,.01\n     asig5     envlpx    abal5,.2,p3,.5,2,.35,.01\n     asig6     envlpx    abal6,.1,p3,.5,2,.25,.01\n     asig      =         asig1+asig2+asig3+asig4+asig5+asig6\n               out       asig\n               endin\n \n\n</CsInstruments>\n<CsScore>\nf1   0    512  10   1\nf2   0    513  5    0.001     512  1    1    1\nf3   0    8192 9    1    1    90\nf4   0    513  5    0.05      512  1    1    1\ni1   0    8    50000     10.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1=cpspch(p4) using buzz/pulse generator and resonant filter and amplitude balance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 526.ORC and 526.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n; FIG 5.26.ORC\n\ninstr          1\n\ni1=cpspch(p4)\ni2=int((80000/i1)+.5)\ni3=1/32767\n\na1             linen     p5,p6,p3,p7\nk1             linen     p5,p6,p3,p7\na2             buzz      a1,i1,i2,5\na2             reson     a2,i1,i1,1,0\na2             reson     a2,500,500,1,0\na2             reson     a2,1500,750,1,0\na2             reson     a2,3000,1200,1,0\na2             balance   a2,a1\nk1             =         (k1*i3)*8000\na1             reson     a2,0.,k1,1,0\nout            a1\n     \nendin\n\n</CsInstruments>\n<CsScore>\nc fig5.26.scr\nf 1 0 512 5 1 512 .001\nf 2 0 512 7 1 64 0 448 0\nf 3 0 512 9 1 1 0\nf 5 0 1025 9 .25 1 90\n  i1 0.000 0.750 6.00 4000 0.010 0.010\n  i1 0.750 0.250 6.00 4000 0.010 0.010\n  i1 1.000 1.000 6.00 4000 0.010 0.010\n  i1 2.000 0.250 7.01 4000 0.010 0.010\n  i1 2.250 0.250 7.09 4000 0.010 0.010\n  i1 2.500 0.250 7.01 4000 0.010 0.010\n  i1 2.750 0.250 7.04 4000 0.010 0.010\n  i1 3.000 2.000 8.03 4000 0.010 0.010\n  i1 5.000 0.500 9.08 4000 0.010 0.010\n  i1 5.500 0.500 9.05 4000 0.010 0.010\n  i1 6.000 0.500 9.05 4000 0.010 0.010\n  i1 6.500 0.750 6.00 4000 0.010 0.010\n  i1 7.250 0.250 6.00 4000 0.010 0.010\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipitch    =         cpspch(p5) using delay effect and buzz/pulse generator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from DELAY4.ORC and DELAY4.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n\n\n               instr     1\n     ipitch    =         cpspch(p5)\n     idlt      =         1/ipitch\n     knh       init      (sr*.4)/ipitch\n     abuzz     buzz      p4,ipitch,knh,3\n     kamp      oscil1i   0.00,1,p3,4\n     araw      =         abuzz*kamp\n     asig1     init      0\n     asig2     init      0\n     asig3     init      0\n     asig4     init      0\n     asig5     init      0\n     asig6     init      0\n     adelay1   delay     (araw+asig1),idlt   \n     adelay2   delay     (araw+asig2),(idlt/2)    \n     adelay3   delay     (araw+asig3),(idlt/3)\n     adelay4   delay     (araw+asig4),(idlt/4)\n     adelay5   delay     (araw+asig5),(idlt/5)\n     adelay6   delay     (araw+asig6),(idlt/6)\n     aflt1     reson     adelay1,ipitch,(ipitch*.1),1\n     aflt2     reson     adelay2,(ipitch*2),(ipitch*.15),1\n     aflt3     reson     adelay3,(ipitch*3),(ipitch*.20),1\n     aflt4     reson     adelay4,(ipitch*4),(ipitch*.25),1\n     aflt5     reson     adelay5,(ipitch*5),(ipitch*.30),1\n     aflt6     reson     adelay6,(ipitch*6),(ipitch*.35),1\n     abal1     balance   aflt1,(abuzz/6)\n     abal2     balance   aflt2,(abuzz/6)\n     abal3     balance   aflt3,(abuzz/6)\n     abal4     balance   aflt4,(abuzz/6)\n     abal5     balance   aflt5,(abuzz/6)\n     abal6     balance   aflt6,(abuzz/6)\n     asig1     envlpx    abal1,.15,p3,.5,2,.75,.01\n     asig2     envlpx    abal2,.14,p3,.5,2,.65,.01\n     asig3     envlpx    abal3,.13,p3,.5,2,.55,.01\n     asig4     envlpx    abal4,.12,p3,.5,2,.45,.01\n     asig5     envlpx    abal5,.11,p3,.5,2,.35,.01\n     asig6     envlpx    abal6,.10,p3,.5,2,.25,.01\n     asig      =         asig1+asig2+asig3+asig4+asig5+asig6\n               out       asig\n               endin\n \n\n</CsInstruments>\n<CsScore>\nf1   0    512  10   1\nf2   0    513  5    0.001     512  1    1    1\nf3   0    8192 9    1    1    90\nf4   0    513  5    .1   256  1    256  .001 1    .001 \ni1   0    8    50000     9.00e\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a tienote sound using buzz/pulse generator and linear segments and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from tienote2.orc and tienote2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n;DAVID KIRSH\n\n\n;----- TIES ORCHESTRA WITH DCLIC ----------\n\n\n          instr     5\ninote     =         cpspch(p4)  ; THIS NOTE'S PITCH\nidur      =         abs(p3)\nistied    tival\n\ntigoto    tieinit\n\nibegpitch =         inote\niprevpitch =        inote\ngoto      cont\n\ntieinit:\n   \nibegpitch =         iprevpitch\niprevpitch =        inote\n\ncont:\n \nkpitchenv linseg    ibegpitch, .9, inote, abs(p3), inote\n\n        ; IF THIS IS A TIED NOTE, THEN DECLICK ENVELOPE AMPLITUDE\n        ; STARTS OUT AT '1' (I.E., SAME AS ENDING VALUE OF NOTE\n        ; WE'RE TYING ONTO).  OTHERWISE, IT STARTS AT '0'.\nibegdclic =         (istied == 1 ? 1 : 0)\n\n        ; IF THIS NOTE IS BEING HELD (IN ANTICIPATION OF BEING TIED\n        ; ONTO), THEN DECLICK AMPLITUDE ENDS AT '1' (SO IT\n        ; MATCHES THE BEGINNING DECLICK AMPLITUDE OF THE TIED-ON NOTE).\n        ; OTHERWISE, AMPLITUDE ENDS AT '0'.\nienddclic =         (p3 < 0 ? 1 : 0)\n\nkdclic    linseg    ibegdclic, 0.1, 1, abs(p3)-0.2, 1, 0.1, ienddclic\n                        \na1        buzz      10000, kpitchenv, 6, 1, -1\n          out       a1 * kdclic\n          endin\n\n</CsInstruments>\n<CsScore>\n;----- TIES SCORE ----------\nf1 0 32769 10 1\n;p1 DECIMAL ALLOWS POLYPHONY.\n;\ni5.1    0.0     -2      7.00\ni5.2    0.0     -2      7.04\ni5.1    2.0     -2      7.07\ni5.2    2.0     -2      7.11\ni5.1    4.0     -2      6.07\ni5.2    4.0     -2      7.00\ni5.1    6.0     2       7.00\ni5.2    6.0     2       6.00\ni5      8.1             .8              7.00\ni5      9.1             .8              7.04\ni5     10.1             .8              7.07\ni5     11.1             .8              7.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipitch    =         cpspch(p5) using delay effect and buzz/pulse generator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from DELAY5.ORC and DELAY5.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n\n\n               instr     1\n     ipitch    =         cpspch(p5)\n     idlt      =         1/ipitch\n     knh       init      (sr*.4)/ipitch\n     abuzz     buzz      p4,ipitch,knh,3\n     kamp      oscil1i   0.00,1,p3,4\n     araw      =         abuzz*kamp\n     asig1     init      0\n     asig2     init      0\n     asig3     init      0\n     asig4     init      0\n     asig5     init      0\n     asig6     init      0\n     adelay1   delay     (araw+asig1),idlt   \n     adelay2   delay     (araw+asig2),(idlt/2)    \n     adelay3   delay     (araw+asig3),(idlt/3)\n     adelay4   delay     (araw+asig4),(idlt/4)\n     adelay5   delay     (araw+asig5),(idlt/5)\n     adelay6   delay     (araw+asig6),(idlt/6)\n     aflt1     reson     adelay1,ipitch,(ipitch*.1),1\n     aflt2     reson     adelay2,(ipitch*2),(ipitch*.15),1\n     aflt3     reson     adelay3,(ipitch*3),(ipitch*.20),1\n     aflt4     reson     adelay4,(ipitch*4),(ipitch*.25),1\n     aflt5     reson     adelay5,(ipitch*5),(ipitch*.30),1\n     aflt6     reson     adelay6,(ipitch*6),(ipitch*.35),1\n     abal1     balance   aflt1,(abuzz/6)\n     abal2     balance   aflt2,(abuzz/6)\n     abal3     balance   aflt3,(abuzz/6)\n     abal4     balance   aflt4,(abuzz/6)\n     abal5     balance   aflt5,(abuzz/6)\n     abal6     balance   aflt6,(abuzz/6)\n     asig1     envlpx    abal1,.6,p3,.5,2,.75,.01\n     asig2     envlpx    abal2,.5,p3,.5,2,.65,.01\n     asig3     envlpx    abal3,.4,p3,.5,2,.55,.01\n     asig4     envlpx    abal4,.3,p3,.5,2,.45,.01\n     asig5     envlpx    abal5,.2,p3,.5,2,.35,.01\n     asig6     envlpx    abal6,.1,p3,.5,2,.25,.01\n     asig      =         asig1+asig2+asig3+asig4+asig5+asig6\n               out       asig\n               endin\n \n\n</CsInstruments>\n<CsScore>\nf1   0    512  10   1\nf2   0    513  5    0.001     512  1    1    1\nf3   0    8192 9    1    1    90\nf4   0    513  5    0.05      512  1    1    1\ni1   0    8    50000     9.00e\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ivol\t=  2.7\t\t; volume using buzz/pulse generator and Butterworth lowpass filter and Butterworth bandpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bd5000.orc and bd5000.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  22050\nksmps\t=  2\nnchnls\t=  1\n\n\n\tinstr 1\n\nivol\t=  2.7\t\t; volume\nibpm\t=  140.00\t; tempo\nirel\t=  0.1667\t; release time\nifrq0\t=  5.3333\t; start freq. / note frq.\nifrqe\t=  14.000\t; freq. env. speed\n\ni001\t=  1/65536\t\t\t\t\t;\nivel\t=  0.0039+p5*p5/16192\t\t\t\t; velocity\nibtime\t=  60/ibpm\t\t\t\t\t; beat time\nivol\t=  ivel*ivol\t\t\t\t\t;\nicps0\t=  440.0*exp(log(2.0)*(p4-69.0)/12.0)\t\t; note frequency\np3\t=  p3 + irel + 0.1\n\nstart01:\n\nkcps\texpseg ifrq0-1,ibtime/ifrqe,(ifrq0-1)*0.5\nkcps\t=  (kcps+1)*icps0\nknumh\t=  sr/(2*kcps)\na_\tbuzz sr/(20*3.14159265), kcps, knumh, 256, 0.25\na__\tbuzz sr/(20*3.14159265), kcps, knumh, 256, 0.75\naosc0\ttone a_-a__, 20\naosc1\t=  aosc0*1.0\naoscn\tunirand 2\naoscn\t=  (aoscn-1)*1.0\n\nkffrq\tport icps0, ibtime/8, icps0*ifrq0\t/* OSC. 1 */\naosc1\tbutterlp aosc1, kffrq\nax1\t=  aosc1\n\naoscn\tbutterbp aoscn, 8372, 8372\t/* noise */\nkffrq\tport 65.4, ibtime/16, 2093\naoscn\tbutterlp aoscn, kffrq\naxn\t=  aoscn\n\nkenv1l\tlinseg -0.25, 0.00275, -0.25, 0.00001, 1.0, 0.005, 1, 1, 1\nkenv1e\texpseg 1, 1, 0.001, 1, 0.001, 1, 0.001, 1, 0.001\nkenvx\texpseg 1, p3-(irel+0.1), 1, irel, 1/1024\naenv1\tinterp kenv1l*kenv1e\naenvx\tinterp kenvx*ivol\n\nax0\t=  ax1*aenv1\n\nax0\tpareq ax0, 65.4, 2.25, 1.5, 0\t/* OUTPUT EQ */\nax0\tbutterlp ax0, 4186\n\na0x\t=  (ax0+axn)*aenvx\n\n\tout -7000*a0x\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt 0 140.000\t/* tempo */\n\ni 1\t 0.000\t0.4000\t31\t120\ni 1\t 1.000\t0.4000\t31\t120\ni 1\t 2.000\t0.4000\t31\t120\ni 1\t 3.000\t0.4000\t31\t120\n\nf 256 0 262144 10 1\n\ne\t/* END OF SCORE */\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ihz            =         cpspch(p5) using piano sound and buzz/pulse generator and Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from molPIANO1.ORC and molPIANO1.SCO\n; Original files preserved in same directory\n\nsr                  =         44100\nkr                  =         4410\nksmps               =         10\nnchnls              =         1\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;         BASIC KOTO ORCHESTRA FILE                              ;\n;                                                                ;\n;         P3 = DURATION        P4 = AMPLITUDE                    ;\n;         P5 = PITCH IN PCH    P6 = PITCH BEND IN OCT.DECIMAL    ;\n;                                                                ;\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n\n                    instr     1\n     ihz            =         cpspch(p5)\n     ihz2           =         ihz * 2.0006\n     ihz3           =         ihz * 1.9999\n     ihz4           =         ihz * 1.0005\n     ihz5           =         ihz * .9998\n     koct           init      octcps(ihz)\n     koct2          init      octcps(ihz2)\n     koct3          init      octcps(ihz3)\n     koct4          init      octcps(ihz4)\n     koct5          init      octcps(ihz5)\n        kbend       oscil1i   0.15,p6,p3,4             ;    /* p6 in oct.decimal */\n        khz         =         cpsoct(koct+kbend)\n        khz2        =         cpsoct(koct2+kbend)\n        khz3        =         cpsoct(koct3+kbend)\n        khz4        =         cpsoct(koct4+kbend)\n        khz5        =         cpsoct(koct5+kbend)\n     aplk1          pluck     (p4*.62),khz,ihz,6,3,1\n                    timout    0.0,.002,continue\nkoto2:    aplk2     pluck     (p4*.62),khz2,ihz2,6,3,1\n                    timout    0.0,.004,continue\nkoto3:    aplk3     pluck     (p4*.62),khz3,ihz3,6,3,1\n                    timout    0.0,.005,continue\nkoto4:    aplk4     pluck     (p4*.62),khz4,ihz4,6,3,1\n                    timout    0.0,.007,continue\nkoto5:    aplk5     pluck     (p4*.62),khz5,ihz5,6,3,1\ncontinue:\n     asignal        =         aplk1+aplk2+aplk3+aplk4+aplk5\n     asig           envlpx    asignal,.06,p3,(p3*.1),4,1.02,.008\n                    out       asig\n                    endin\n\n\n</CsInstruments>\n<CsScore>\n;        KOTO SCORE FILE \n;\n;       SINE WAVE\nf1 0.0 512 10 1\n;       LINEAR RISE\nf2 0.0 513 7  0 513 1\n;       LINEAR FALL\nf3 0.0 513 7  1 513 0\n;       EXPONENTIAL RISE\nf4 0.0 513 5 .001 513 1 \n;       EXPONENTIAL RISE\nf5 0.0 513 5 1 513 .001 \n;    BUZZ-LIKE WAVE\nf6 0.0 512 10 1 1 1 1 1 1 1 1 1 \n;\n;       INSTRUMENT CARDS\ni1 0.00 1.5 10000  7.060  0.00\ne ;MY ENDING\ni1 2.00 1.5 10000  7.060 -0.25\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipitch    =         cpspch(p5) using delay effect and buzz/pulse generator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from DELAY3.ORC and DELAY3.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n\n\n               instr     1\n     ipitch    =         cpspch(p5)\n     idlt      =         1/ipitch\n     knh       init      (sr*.4)/ipitch\n     abuzz     buzz      p4,ipitch,knh,3\n     kamp      oscil1i   0.00,1,p3,4\n     araw      =         abuzz*kamp\n     asig1     init      0\n     asig2     init      0\n     asig3     init      0\n     asig4     init      0\n     asig5     init      0\n     asig6     init      0\n     adelay1   delay     (araw+asig1),idlt   \n     adelay2   delay     (araw+asig2),(idlt/2)    \n     adelay3   delay     (araw+asig3),(idlt/3)\n     adelay4   delay     (araw+asig4),(idlt/4)\n     adelay5   delay     (araw+asig5),(idlt/5)\n     adelay6   delay     (araw+asig6),(idlt/6)\n     aflt1     reson     adelay1,ipitch,(ipitch*.1),1\n     aflt2     reson     adelay2,(ipitch*2),(ipitch*.15),1\n     aflt3     reson     adelay3,(ipitch*3),(ipitch*.20),1\n     aflt4     reson     adelay4,(ipitch*4),(ipitch*.25),1\n     aflt5     reson     adelay5,(ipitch*5),(ipitch*.30),1\n     aflt6     reson     adelay6,(ipitch*6),(ipitch*.35),1\n     abal1     balance   aflt1,(abuzz/6)\n     abal2     balance   aflt2,(abuzz/6)\n     abal3     balance   aflt3,(abuzz/6)\n     abal4     balance   aflt4,(abuzz/6)\n     abal5     balance   aflt5,(abuzz/6)\n     abal6     balance   aflt6,(abuzz/6)\n     asig1     envlpx    abal1,.20,p3,.5,2,.95,.01\n     asig2     envlpx    abal2,.18,p3,.5,2,.85,.01\n     asig3     envlpx    abal3,.16,p3,.5,2,.75,.01\n     asig4     envlpx    abal4,.14,p3,.5,2,.45,.01\n     asig5     envlpx    abal5,.12,p3,.5,2,.35,.01\n     asig6     envlpx    abal6,.10,p3,.5,2,.25,.01\n     asig      =         asig1+asig2+asig3+asig4+asig5+asig6\n               out       asig\n               endin\n \n\n</CsInstruments>\n<CsScore>\nf1   0    512  10   1\nf2   0    513  5    0.001     512  1    1    1\nf3   0    8192 9    1    1    90\nf4   0    513  5    .1   22   1    490  .001 1    .001 \ni1   0    8    50000     9.00e\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ihz            =         cpspch(p5) using piano sound and buzz/pulse generator and Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from molPIANO2.ORC and molPIANO2.SCO\n; Original files preserved in same directory\n\nsr                  =         44100\nkr                  =         4410\nksmps               =         10\nnchnls              =         1\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;         BASIC KOTO ORCHESTRA FILE                              ;\n;                                                                ;\n;         P3 = DURATION        P4 = AMPLITUDE                    ;\n;         P5 = PITCH IN PCH    P6 = PITCH BEND IN OCT.DECIMAL    ;\n;                                                                ;\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n                    instr     1\n     ihz            =         cpspch(p5)\n     ihz2           =         ihz * 2.0006\n     ihz3           =         ihz * 1.9999\n     ihz4           =         ihz * 1.0005\n     ihz5           =         ihz * .9998\n     koct           init      octcps(ihz)\n     koct2          init      octcps(ihz2)\n     koct3          init      octcps(ihz3)\n     koct4          init      octcps(ihz4)\n     koct5          init      octcps(ihz5)\n        kbend       oscil1i   0.15,p6,p3,4                       ;    /* p6 in oct.decimal */\n        khz         =         cpsoct(koct+kbend)\n        khz2        =         cpsoct(koct2+kbend)\n        khz3        =         cpsoct(koct3+kbend)\n        khz4        =         cpsoct(koct4+kbend)\n        khz5        =         cpsoct(koct5+kbend)\n     aplk1          pluck     (p4*.62),khz,ihz,6,4,1, 1.01\n                    timout    0.0,.002,continue\nkoto2:    aplk2     pluck     (p4*.62),khz2,ihz2,6,4,1, 1.005\n                    timout    0.0,.004,continue\nkoto3:    aplk3     pluck     (p4*.62),khz3,ihz3,6,4,1, 1.003\n                    timout    0.0,.005,continue\nkoto4:    aplk4     pluck     (p4*.62),khz4,ihz4,6,4,1, 1.002\n                    timout    0.0,.007,continue\nkoto5:    aplk5     pluck     (p4*.62),khz5,ihz5,6,4,1, 1.001\ncontinue:\n     asignal        =         aplk1+aplk2+aplk3+aplk4+aplk5\n     asig           envlpx    asignal,.06,p3,(p3*.1),4,.66,.008\n                    out       asig\n                    endin\n\n\n\n</CsInstruments>\n<CsScore>\n;        KOTO SCORE FILE \n;;       SINE WAVE\nf1 0.0 512 10 1                    ;       LINEAR RISE\nf2 0.0 513 7  0 513 1              ;        LINEAR FALL\nf3 0.0 513 7  1 513 0              ;        EXPONENTIAL RISE\nf4 0.0 513 5 .001 513 1            ;      EXPONENTIAL RISE\nf5 0.0 513 5 1 513 .001            ;    BUZZ-LIKE WAVE\nf6 0.0 512 10 1 .5  .33  .25  .20  .167 .143  .125 .111\n;;       INSTRUMENT CARDS\ni1 0.00 1.5 10000  7.060  0.00i1 2.00 1.5 10000  7.060 -0.25\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for BUZZ SOURCE using filter processing and buzz/pulse generator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FILTER.ORC and FILTER.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; FILTER.orc\n\n        \n          instr 1             ; BUZZ SOURCE\nicps      =         cpsoct(p4)               ; CONVERT FUNDAMENTAL IN OCTAVE NOTATION TO Hz\niharm     =         int((8000/icps)+.66)     ; NUMBER OF HARMONICS FOR BUZZ (ROUNDED UP)\nibeat     =         p6*icps                  ; SLIGHT ALTERATION OF icps FOR BEATING IN BUZZ\niamp      =         p5                       ; AMPLITUDE\nibw1      =         p7*icps                  ; BW MAX FOR FILTER1\nibw2      =         p8*icps                  ; BW MAX FOR FILTER2\n\nkenv      linseg    0,p3*.5,iamp,p3*.5,0,.01,0 ; AMPLITUDE ENVELOPE\nkenv1     =         kenv/iamp                ; WITH GUARD POINT\n                                             ; EXP ENVELOPE BETWEEN 0-1\n; BUZZ SOURCE\nabuzz1    buzz      kenv,icps,iharm,1\nabuzz2    buzz      kenv,ibeat,iharm,1\nasrc      =         abuzz1+abuzz2\n\n; PARALLEL FILTERS FOR BUZZ SOURCE\nafilt1     reson    asrc,icps,ibw1*kenv1,1,0\nafilt2     reson    asrc,icps*2,ibw2+kenv1,1,0\n\naout      balance   afilt1+afilt2, asrc\n          out       aout\n          endin\n\n          instr 2             ; NOISE SOURCE\nicps      =         cpsoct(p4)               ; CONVERT FUNDAMENTAL IN OCTAVE NOTATION TO Hz\niharm     =         int((8000/icps)+.66)     ; NUMBER OF HARMONICS FOR BUZZ (ROUNDED UP)\nibeat     =         p6*icps                  ; SLIGHT ALTERATION OF icps FOR BEATING IN BUZZ\niamp      =         p5                       ; AMPLITUDE\nibw1      =         p7*icps                  ; BW MAX FOR FILTER1\nibw2      =         p8*icps                  ; BW MAX FOR FILTER2\n\nkenv      linseg    0,p3*.5,iamp,p3*.5,0,.01,0 ; AMPLITUDE ENVELOPE\nkenv1     =         kenv/iamp                ; WITH GUARD POINT\n                                             ; EXP ENVELOPE BETWEEN 0-1\n; NOISE SOURCE\nasrc      rand      kenv\n\n; PARALLEL FILTERS FOR NOISE SOURCE\nafilt1    reson     asrc,icps,ibw1*kenv1,2,0\nafilt2    reson     asrc,icps*2,ibw2+kenv1,2,0\n\naout      balance   afilt1+afilt2, asrc\n          out       aout\n          endin\n\n; TRY:\n; DIFFERENT ENVELOPES ON EACH FILTER OR BUZZ\n; DIFFERENT RELATIONSHIPS OF CENTER FREQUENCIES BETWEEN RESONS\n; RESONS IN SERIES INSTEAD OF PARALLEL\n\n</CsInstruments>\n<CsScore>\n; filter.s\n\nf1 0    8193    9       1       1       0\n\n;       start   dur     pitch   amp     beating %bw1    %bw2\ni1      0       10      8.5     10000   1.001   .025    .013\ni2      10      10      8.5     10000   1.001   .025    .013\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for icps\t\t=\t\tp4 using test/demonstration and buzz/pulse generator and Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from perftest.orc and perftest.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls \t=\t\t2\n\n\n; TESTS OF CRITICAL CAPABILITIES\n; SEE perftest.sco FOR MORE DETAILS\n; DAVE MADOLE 11/1/96\n\n\n; SIMPLE PLUCK WORKING ?\n\t\tinstr 1\nicps\t\t=\t\tp4\nkcps\t\t=\t\ticps\naout\t\tpluck\t15000, kcps, icps, 0, 1\n\t\touts \taout, aout\n\t\tendin\n\n; STEREO WORKING ?\n\t\tinstr 2\nicps \t=\t\tp4\nkcps\t\t=\t\ticps\nkster\toscil1\t0, 1, p3, p5 \naout\t\tpluck\t15000, kcps, icps, 0, 1\naoutl\t= \t\tkster * aout\naoutr\t=\t\taout - aoutl\n\t\touts\t\taoutl,aoutr\n\t\tendin\n\n; SOUNDIN WORKING ?\n\t\tinstr 3\nkster\toscil1\t0, 1, p3, 2\naout\t\tsoundin\t\"snap1.aiff\",0\naoutl\t=\t\tkster * aout\naoutr\t=\t\t(1-kster) * aout\n\t\touts\t\taoutl,aoutr\n\t\tendin\n\n; GEN 01 & LOSCIL WORKING\n\t\tinstr   4\nifn\t\t=\t\tp4\nicps\t\t=\t\tp5\nibas\t\t=\t\tp6\naout\t    loscil\t1,p5, p4, p6, 1, 0, 32768\n\t\touts\t\taout, aout\n\t\tendin \n\n; lpc WORKING ? (DETERMINES THAT ANALYSIS DIRECTORY CAN BE FOUND AND FILE READ)\n\t\tinstr 5\nktimpnt \tline\t\t.0001,p3,1\nkrmsr,krmso,kerr,kcps lpread ktimpnt,\"sung.lpc\", 0, \n\t\tif\t\tkerr < .04 kgoto dobuzz\nasig\t\trand\t\t1.0\ndobuzz: \nasig\t\tbuzz\t\t1.0, kcps/2, int(sr/2/kcps), 1\nasig\t\tlpreson\tasig\nasig\t\t=\t\t5000 * asig * (krmso/32767)\n\n\t\touts\t\tasig, asig\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n\n; score test critical capabilities of perf.ppc on a system\n; you should run \"simpletest.orc\" and \"simpletest.sco\" to determine that \n; things *basically* are working\n\n; instrument                  determines that\n; 1 - simple pluck u.g.  score & orc processing work\n; 2 - stereo pan              output device is stereo\n; 3 - soundin u.g. works      can find and read sample\n; 4 - gen 01 & loscil work    can deferred read sample into gen array\n; 5 - lpc \"works\"             can read analysis file\n\n; *************************   Instructions   *********************************\n\n; Perf.ppc:\n\n; First, make sure that you have removed all older versions of csound.ppc and\n; perf.ppc from ALL disks attached to your Mac\n\n; Setting folders:\n\n; in csound.ppc, using the  \"Default Directories\" dialog:\n; 1) set the \"Sound Sample Directory\" to the \"samples\" folder in the parent \n;    folder of this file \n; 2) set the \"Sound Analysis Directory\" to the \"analyses\" folder in the parent \n;    folder of this file \n; 3) set the \"Sound Files Directory\"  to the \"sounds\" folder in the parent \n;    folder of this file\n\n; Sound Control Panel:\n\n; make sure your sound output is set to 44k stereo on your Mac using the\n; proper control panel for your release of the OS\n\n; should create a file called \"perftest.snd\" in the \"sounds\" folder in the parent\n;    folder of this file\n\n; Dave Madole 11/1/96\n\nf1 0 8193 9 1 1 90            ; big cosine for Mr. Buzz\nf2 0 1025 7 0 1025 1\nf3 0 0 -1 \"snap1.aiff\" 0 0 1\n\n; test simple pluck, ten seconds at 100 cps\ni1 0 10 100\n\n; the same, this time pan stereo using f2\ni2 10 10 100 2\n\n; see if soundin is working - determines that perf can find and read samples\ni3 20 2 \n\n; see if gen 01 (f3) & loscil are working at 100 cps with \"base frequency\" == 100\ni4 22 10 3 100 100\n\n; see if lpc is working - determines that perf can find and read analysis files\ni5 32 5 \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipitch    =         cpspch(p5) using delay effect and buzz/pulse generator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from DELAY9.ORC and DELAY9.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n\n\n               instr     1\n     ipitch    =         cpspch(p5)\n     idlt      =         1/ipitch\n     knh       init      (sr*.4)/ipitch\n     abuzz     buzz      p4,ipitch,knh,3\n     kamp      oscil1i   0.00,.1,p3,4\n     araw      =         abuzz*kamp\n     asig1     init      0\n     asig2     init      0\n     asig3     init      0\n     asig4     init      0\n     asig5     init      0\n     asig6     init      0\n     adelay1   delay     (araw+asig1),idlt   \n     adelay2   delay     (araw+asig2),(idlt/2)    \n     adelay3   delay     (araw+asig3),(idlt/3)\n     adelay4   delay     (araw+asig4),(idlt/4)\n     adelay5   delay     (araw+asig5),(idlt/5)\n     adelay6   delay     (araw+asig6),(idlt/6)\n     aflt1     reson     adelay1,ipitch,(ipitch*.1),1\n     aflt2     reson     adelay2,(ipitch*2),(ipitch*.15),1\n     aflt3     reson     adelay3,(ipitch*3),(ipitch*.20),1\n     aflt4     reson     adelay4,(ipitch*4),(ipitch*.25),1\n     aflt5     reson     adelay5,(ipitch*5),(ipitch*.30),1\n     aflt6     reson     adelay6,(ipitch*6),(ipitch*.35),1\n     abal1     balance   aflt1,(abuzz/6)\n     abal2     balance   aflt2,(abuzz/6)\n     abal3     balance   aflt3,(abuzz/6)\n     abal4     balance   aflt4,(abuzz/6)\n     abal5     balance   aflt5,(abuzz/6)\n     abal6     balance   aflt6,(abuzz/6)\n     asig1     envlpx    abal1,.6,p3,.5,2,.75,.01\n     asig2     envlpx    abal2,.5,p3,.5,2,.65,.01\n     asig3     envlpx    abal3,.4,p3,.5,2,.55,.01\n     asig4     envlpx    abal4,.3,p3,.5,2,.45,.01\n     asig5     envlpx    abal5,.2,p3,.5,2,.35,.01\n     asig6     envlpx    abal6,.1,p3,.5,2,.25,.01\n     asig      =         asig1+asig2+asig3+asig4+asig5+asig6\n               out       asig\n               endin\n \n\n</CsInstruments>\n<CsScore>\nf1   0    512  10   1\nf2   0    513  5    0.001     512  1    1    1\nf3   0    8192 9    1    1    90\nf4   0    513  5    0.05 412  1    100  .001 1    .001\ni1   0    6    50000     9.00e\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipitch    =         cpspch(p5) using buzz/pulse generator and resonant filter and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from D9.ORC and D9.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n\n\n               instr     1\n     ipitch    =         cpspch(p5)\n     idlt      =         1/ipitch\n     knh       init      (sr*.4)/ipitch\n     abuzz     buzz      p4,ipitch,knh,3\n     kamp      oscil1i   0.00,.1,p3,4\n     araw      =         abuzz*kamp\n     asig1     init      0\n     asig2     init      0\n     asig3     init      0\n     asig4     init      0\n     asig5     init      0\n     asig6     init      0\n     adelay1   delay     (araw+asig1),idlt   \n     adelay2   delay     (araw+asig2),(idlt/2)    \n     adelay3   delay     (araw+asig3),(idlt/3)\n     adelay4   delay     (araw+asig4),(idlt/4)\n     adelay5   delay     (araw+asig5),(idlt/5)\n     adelay6   delay     (araw+asig6),(idlt/6)\n     aflt1     reson     adelay1,ipitch,(ipitch*.1),1\n     aflt2     reson     adelay2,(ipitch*2),(ipitch*.15),1\n     aflt3     reson     adelay3,(ipitch*3),(ipitch*.20),1\n     aflt4     reson     adelay4,(ipitch*4),(ipitch*.25),1\n     aflt5     reson     adelay5,(ipitch*5),(ipitch*.30),1\n     aflt6     reson     adelay6,(ipitch*6),(ipitch*.35),1\n     abal1     balance   aflt1,(abuzz/6)\n     abal2     balance   aflt2,(abuzz/6)\n     abal3     balance   aflt3,(abuzz/6)\n     abal4     balance   aflt4,(abuzz/6)\n     abal5     balance   aflt5,(abuzz/6)\n     abal6     balance   aflt6,(abuzz/6)\n     asig1     envlpx    abal1,.6,p3,.5,2,.75,.01\n     asig2     envlpx    abal2,.5,p3,.5,2,.65,.01\n     asig3     envlpx    abal3,.4,p3,.5,2,.55,.01\n     asig4     envlpx    abal4,.3,p3,.5,2,.45,.01\n     asig5     envlpx    abal5,.2,p3,.5,2,.35,.01\n     asig6     envlpx    abal6,.1,p3,.5,2,.25,.01\n     asig      =         asig1+asig2+asig3+asig4+asig5+asig6\n               out       asig\n               endin\n \n\n</CsInstruments>\n<CsScore>\nf1   0    512  10   1\nf2   0    513  5    0.001     512  1    1    1\nf3   0    8192 9    1    1    90\nf4   0    513  5    0.05 412  1    100  .001 1    .001\ni1   0    6    50000     9.00e\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a efx sound using effects processing and buzz/pulse generator and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from efx_1.orc and efx_1.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  22050\nksmps\t=  2\nnchnls\t=  1\n\n\n\tseed 0\n\n#define MIDI2CPS(xmidi) # (440.0*exp(log(2.0)*(($xmidi)-69.0)/12.0)) #\n#define CPS2MIDI(xcps)  # ((log(($xcps)/440.0)/log(2.0))*12.0+69.0) #\n\n\tinstr 1\n\n/* ------------------------------------------------------------------------- */\n\nivol\t=  1.4\t\t/* volume\t\t\t\t\t*/\nibpm\t=  130\t\t/* tempo\t\t\t\t\t*/\n\nirel\t=  0.05\t\t/* release time\t\t\t\t\t*/\n\nistrtf1\t=  2.0000\t/* start frequency 1\t\t\t\t*/\nifdec1\t=  4\t\t/* freq. decay speed 1\t\t\t\t*/\nistrtf2\t=  0.5\t\t/* start frequency 2\t\t\t\t*/\nifdec2\t=  256\t\t/* freq. decay speed 2\t\t\t\t*/\n\ninsmix\t=  4.0\t\t/* noise mix\t\t\t\t\t*/\n\niLPf\t=  2.0\t\t/* LP filter start frequency / osc. freq.\t*/\niLPd\t=  0.5\t\t/* LP filter freq. decay speed\t\t\t*/\n\niAM1s\t=  1.5\t\t/* amp. envelope 1 start value\t\t\t*/\niAM1d\t=  1024\t\t/* amp. envelope 1 decay speed\t\t\t*/\niAM2s\t=  0.35\t\t/* amp. envelope 2 start value\t\t\t*/\niAM2d\t=  4\t\t/* amp. envelope 2 decay speed\t\t\t*/\n\n/* ------------------------------------------------------------------------- */\n\nibtime\t=  60/ibpm\n\np3\t=  p3+irel+0.05\n\nimkey\t=  p4\nimvel\t=  p5\n\nicps\t=  $MIDI2CPS(imkey)\niamp\t=  (0.0039+imvel*imvel/16192)*ivol*16384\nkamp\tlinseg 1,p3-(irel+0.05),1,irel,0,0.05,0\n\nk_\tport 1,ibtime/ifdec1,istrtf1\t\t/* calculate base frequency */\nk__\tport 1,ibtime/ifdec2,istrtf2\nkcps\t=  icps*k_*k__\n\nk__\tline 0, ibtime*4, 1\nk_\t=  cos(k__*3.14159265*0.5)*1.3333*icps\nkcps\tlimit k_, 0, 20000\n\nknumh\t=  sr/(2*kcps)\t\t\t/* oscillator */\na1\tbuzz sr/(10*3.14159265), kcps, knumh, 256, 0\na2\tbuzz sr/(10*3.14159265), kcps, knumh, 256, 0.5\na1\ttone a1-a2, 10\na0\t=  a1\t\t\t\t\t/* a0 = osc. signal */\n\na_\tunirand 2\t\t\t\t/* noise generator */\na_\ttone a_-1,kcps\na0\t=  a0+a_*insmix\n\nk_\texpseg 1,ibtime/iAM1d,0.5\t\t\t/* amp. envelopes */\nk__\texpseg 1,ibtime/iAM2d,0.5\nk_\t=  (1-k_)*(1-iAM1s)+iAM1s\nk__\t=  (1-k__)*(1-iAM2s)+iAM2s\na0\t=  a0*k_*k__\n\na1\t=  a0\n\nk_\tport 0,ibtime/iLPd,iLPf\t\t\t/* LP filter */\na0\tbutterlp a0,kcps*k_\n\na_\tbutterhp a1,kcps*1\na_\tbutterlp a_,kcps*8\nk_\texpseg 1,0.005,0.5\na0\t=  a0+1.5*a_*k_\n\na0\tbutterlp a0*iamp*kamp,sr*0.48\na0\tlimit a0, -30000, 30000\n\n\tout a0\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nf 256 0 262144 10 1\n\nt 0 130\n\ni 1\t0.0000\t8.0000\t33\t127\n;i 1\t1.0000\t0.4500\t33\t127\n;i 1\t2.0000\t0.4500\t33\t127\n;i 1\t3.0000\t0.4500\t33\t127\n;i 1\t4.0000\t0.4500\t33\t127\n;i 1\t5.0000\t0.4500\t33\t127\n;i 1\t6.0000\t0.4500\t33\t127\n;i 1\t7.0000\t0.4500\t33\t127\n\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ihz            =         cpspch(p5) using piano sound and buzz/pulse generator and Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from molPIANO.ORC and molPIANO.SCO\n; Original files preserved in same directory\n\nsr                  =         44100\nkr                  =         4410\nksmps               =         10\nnchnls              =         1\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;         BASIC KOTO ORCHESTRA FILE                              ;\n;                                                                ;\n;         P3 = DURATION        P4 = AMPLITUDE                    ;\n;         P5 = PITCH IN PCH    P6 = PITCH BEND IN OCT.DECIMAL    ;\n;                                                                ;\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n\n                    instr     1\n     ihz            =         cpspch(p5)\n     ihz2           =         ihz * 2.0006\n     ihz3           =         ihz * 1.9999\n     ihz4           =         ihz * 1.0005\n     ihz5           =         ihz * .9998\n     koct           init      octcps(ihz)\n     koct2          init      octcps(ihz2)\n     koct3          init      octcps(ihz3)\n     koct4          init      octcps(ihz4)\n     koct5          init      octcps(ihz5)\n     kbend          oscil1i   0.15,p6,p3,4                  ;    /* p6 in oct.decimal */\n     khz            =         cpsoct(koct+kbend)\n     khz2           =         cpsoct(koct2+kbend)\n     khz3           =         cpsoct(koct3+kbend)\n     khz4           =         cpsoct(koct4+kbend)\n     khz5           =         cpsoct(koct5+kbend)\n     aplk1          pluck     (p4*.42),khz,ihz,6,3,1\n                    timout    0.0,p3*.2,continue            ; .002 not p3;\nkoto2:    aplk2      pluck     (p4*.62),khz2,ihz2,6,3,1\n          timout              0.0,p3*.4,continue            ; .004 not p3;\nkoto3:    aplk3     pluck     (p4*.62),khz3,ihz3,6,3,1\n          timout    0.0,p3*.6,continue                      ; .005 not p3;\nkoto4:    aplk4     pluck     (p4*.62),khz4,ihz4,6,3,1\n          timout    0.0,p3*.8,continue                      ; .007 not      p3;\nkoto5:    aplk5     pluck     (p4*.62),khz5,ihz5,6,3,1\n\ncontinue:\n     asignal        =         aplk1+aplk2+aplk3+aplk4+aplk5\n     asig           envlpx    asignal,.001,p3,(p3*.001),4,1.02,.008\n     ;asig          envlpx    asignal,.06,p3,(p3*.1),4,1.02,.008 ;\n                    out       asig\n                    endin\n\n\n\n</CsInstruments>\n<CsScore>\n;        KOTO SCORE FILE\n;\n;       SINE WAVE\nf1 0.0 512 10 1\n;       LINEAR RISE\nf2 0.0 513 7  0 513 1\n;       LINEAR FALL\nf3 0.0 513 7  1 513 0\n;       EXPONENTIAL RISE\nf4 0.0 513 5   .001 513 1\n;       EXPONENTIAL RISE\nf5 0.0 513 5 1 513 .001\n;    BUZZ-LIKE WAVE\nf6 0.0 512 10 1 1 1 1 1 1 1 1 1\n;\n;       INSTRUMENT CARDS\ni1 0.00 20.5 5000  7.060   .05\ni1 0.00 20.5 5000  7.061   .10\ni1 0.00 20.5 5000  7.062   .15\ni1 0.00 20.75 5000  7.063   .2\ni1 0.00 20.75 5000  7.064   .25\ni1 0.00 20.5 5000  7.065   .3\ni1 0.00 20.5 5000  7.066   .35\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and Butterworth lowpass filter and Butterworth highpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bd14_01.orc and bd14_01.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  22050\nksmps\t=  2\nnchnls\t=  1\n\n\n\tseed 0\n\n#define MIDI2CPS(xmidi) # (440.0*exp(log(2.0)*(($xmidi)-69.0)/12.0)) #\n#define CPS2MIDI(xcps)  # ((log(($xcps)/440.0)/log(2.0))*12.0+69.0) #\n\n\tinstr 1\n\n/* ------------------------------------------------------------------------- */\n\nivol\t=  2.0\t\t/* volume\t\t\t\t\t*/\nibpm\t=  130\t\t/* tempo\t\t\t\t\t*/\n\nirel\t=  0.05\t\t/* release time\t\t\t\t\t*/\n\nistrtf1\t=  5.3333\t/* start frequency 1\t\t\t\t*/\nifdec1\t=  20\t\t/* freq. decay speed 1\t\t\t\t*/\nistrtf2\t=  0.5\t\t/* start frequency 2\t\t\t\t*/\nifdec2\t=  256\t\t/* freq. decay speed 2\t\t\t\t*/\n\ninsmix\t=  4.0\t\t/* noise mix\t\t\t\t\t*/\n\niLPf\t=  2.0\t\t/* LP filter start frequency / osc. freq.\t*/\niLPd\t=  4.0\t\t/* LP filter freq. decay speed\t\t\t*/\n\niAM1s\t=  3.0\t\t/* amp. envelope 1 start value\t\t\t*/\niAM1d\t=  1024\t\t/* amp. envelope 1 decay speed\t\t\t*/\niAM2s\t=  0.25\t\t/* amp. envelope 2 start value\t\t\t*/\niAM2d\t=  4\t\t/* amp. envelope 2 decay speed\t\t\t*/\n\n/* ------------------------------------------------------------------------- */\n\nibtime\t=  60/ibpm\n\np3\t=  p3+irel+0.05\n\nimkey\t=  p4\nimvel\t=  p5\n\nicps\t=  $MIDI2CPS(imkey)\niamp\t=  (0.0039+imvel*imvel/16192)*ivol*16384\nkamp\tlinseg 1,p3-(irel+0.05),1,irel,0,0.05,0\n\nk_\tport 1,ibtime/ifdec1,istrtf1\t\t/* calculate base frequency */\nk__\tport 1,ibtime/ifdec2,istrtf2\nkcps\t=  icps*k_*k__\n\nknumh\t=  sr/(2*kcps)\t\t\t/* oscillator */\na1\tbuzz sr/(10*3.14159265), kcps, knumh, 256, 0\na2\tbuzz sr/(10*3.14159265), kcps, knumh, 256, 0.5\na1\ttone a1-a2, 10\na0\t=  a1\t\t\t\t\t/* a0 = osc. signal */\n\na_\tunirand 2\t\t\t\t/* noise generator */\na_\ttone a_-1,kcps\na0\t=  a0+a_*insmix\n\nk_\texpseg 1,ibtime/iAM1d,0.5\t\t\t/* amp. envelopes */\nk__\texpseg 1,ibtime/iAM2d,0.5\nk_\t=  (1-k_)*(1-iAM1s)+iAM1s\nk__\t=  (1-k__)*(1-iAM2s)+iAM2s\na0\t=  a0*k_*k__\n\na1\t=  a0\n\nk_\tport 0,ibtime/iLPd,iLPf\t\t\t/* LP filter */\na0\tbutterlp a0,kcps*k_\n\na_\tbutterhp a1,kcps*1\na_\tbutterlp a_,kcps*8\nk_\texpseg 1,0.005,0.5\na0\t=  a0+1.5*a_*k_\n\na0\tbutterlp a0*iamp*kamp,sr*0.48\na0\tlimit a0, -30000, 30000\n\n\tout a0\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nf 256 0 262144 10 1\n\nt 0 130\n\ni 1\t0.0000\t0.4500\t33\t127\ni 1\t1.0000\t0.4500\t33\t127\ni 1\t2.0000\t0.4500\t33\t127\ni 1\t3.0000\t0.4500\t33\t127\ni 1\t4.0000\t0.4500\t33\t127\ni 1\t5.0000\t0.4500\t33\t127\ni 1\t6.0000\t0.4500\t33\t127\ni 1\t7.0000\t0.4500\t33\t127\n\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and resonant filter and amplitude balance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 50_71_1.orc and 50_71_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps =100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     50_71_1.ORC\n; synthesis: subtractive synthesis(50)\n;            two fixed formant regions(71)\n;            buzz pulse as source(1)\n; coded:     jpg 11/93\n\n\n\n\ninstr 1; *****************************************************************\nidur  = p3\niamp  = p4 \nifqc  = cpspch(p5)\ninmh   = sr/2/ifqc\n\n      asrc    buzz    iamp,ifqc,inmh,1             ; buzz source\n\n      a1      reson   asrc,1000,100,0             ; formant regions\n      a2      reson   a1,3000,500,0\n\n      asig    balance a2,asrc                     ; in/out balance\n      asig    linen   asig, .1, idur, .1          ; envelope\n            out     asig*4\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     50_71_1.SCO\n; coded:     jpg 11/93\n\n\n; GEN functions **********************************************************\n; sinus\nf1  0   8193  10   1\n\n\n; score ******************************************************************\n\nt 0 300\n\n;       idur  iamp   ipch \ni1   0   2    8000   7.00\ni1   +   1    .      7.02\ni1   .   .    .      7.04\ni1   .   .    .      7.05\ni1   .   .    .      7.07\ni1   .   .    .      7.09\ni1   .   .    .      7.11\ni1   .   2    .      8.00\n\ns\nt 0 60\n\ni1   1   1    4000   7.00\ni1   .   .    .      7.04\ni1   .   .   12000   7.07\ni1   .   .    4000   8.00\n\ne\n\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and generalized buzz generator and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 43_21_1.orc and 43_21_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 2 \n\n; ************************************************************************\n; ACCCI:        43_21_1.ORC\n; timbre:       various controlled noise spectra\n; synthesis:    (g)buzz(43)\n;               kratio envelope(21)\n;               LINEN envelope(1)\n; coded:        jpg 10/93\n\n\n\ninstr 1; *****************************************************************\nidur  = p3\niamp  = p4\nifqc  = p5\ninmh   = int(sr/2/ifqc)\nilh   = 1\nifn   = 5    ; stored cosine function\n\n   aenv    linen   iamp, .2, idur, .2                    ; amp envelope\n   kratio  linseg  1, idur/2, 0, idur/4, 0.8, idur/4, 0.6; kratio envelope\n\n   asrc    gbuzz   aenv,ifqc,inmh,ilh,kratio,ifn\n           outs     asrc, asrc\n\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     43_21_1.SCO\n; coded:     jpg 10/93\n\n\n; GEN functions **********************************************************\nf5 0 8193 11 1 1   ; single cosine(!) wave\n\n\n; score ******************************************************************\n\n;        idur   iamp   ifqc\ni1    0  10     8000    220\ni1   11   1     .       .\ni1   +    2     .       .\ni1   .    4     .       110\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for 2 Chorused (detuned) saw waves using pad sound and buzz/pulse generator and reverb effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pad solina.orc and pad solina.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n\n\n          instr 1                                                     ; 2 Chorused (detuned) saw waves\nkamp      linen     1, 1,p3,1\nkpitch    init      cpspch(p4)\n\nalfo2     linseg    0,p3/3,0,p3/3,.001,p3/3,.001\n\nabuzz1    buzz      kamp, kpitch, sr/(2*kpitch), 1 ,0\nasaw1     filter2   abuzz1, 1, 1, 1, -.98                             ; weak bass response\nabuzz2    buzz      kamp, kpitch*(1-alfo2), sr/(2*kpitch), 1 ,0\nasaw2     filter2   abuzz2, 1, 1, 1, -.98                             ; weak bass response\namix      =         asaw1+asaw2\n\n          out       amix*4000\n          endin\n\n\n          instr 2                                                     ; 3 detuned waves. 3rd is 1 octave higher. LFOÂ«s for detuning\nkamp      linen     1, 1,p3,1\nkamp2     linen     1, 2,p3,1\nkpitch    init      cpspch(p4)\n\nalfo1     lfo       .001,.8\nalfo2     lfo       .001,.56\n\nabuzz1    buzz      kamp, kpitch*(1+alfo1), sr/(2*kpitch), 1 ,0\nasaw1     filter2   abuzz1, 1, 1, 1, -.95                             ; weak bass response\nabuzz2    buzz      kamp, kpitch*(1-alfo2), sr/(2*kpitch), 1 ,0\nasaw2     filter2   abuzz2, 1, 1, 1, -.95                             ; weak bass response\nabuzz3    buzz      kamp2, 2*kpitch, sr/(4*kpitch), 1 ,0              ; 8th higher\nasaw3     filter2   abuzz3, 1, 1, 1, -.999\n\namix      =         .25*(asaw1+asaw2+2*asaw3)\n          out       amix*4000\n          endin\n\n\n          instr 3                                                     ; \"Solina\" String Ensemble .Like instr 2 + extra chorus\nkamp      linen     1, 1,p3,1\nkamp2     linen     1, 2,p3,1\nkpitch    init      cpspch(p4)\n\nalfo1     lfo       .001,.8\nalfo2     lfo       .001,.56\n\nabuzz1    buzz      kamp, kpitch*(1+alfo1), sr/(2*kpitch), 1 ,0\nasaw1     filter2   abuzz1, 1, 1, 1, -.95                             ; weak bass response\nabuzz2    buzz      kamp, kpitch*(1-alfo2), sr/(2*kpitch), 1 ,0\nasaw2     filter2   abuzz2, 1, 1, 1, -.95                             ; weak bass response\nabuzz3    buzz      kamp2, 2*kpitch, sr/(4*kpitch), 1 ,0              ; 8th higher\nasaw3     filter2   abuzz3, 1, 1, 1, -.999\n\namix      =         .25*(asaw1+asaw2+2*asaw3)\n\n                                                                      ; add some chorus\nadel1     lfo       .01, .8\nadel1     =         .04*(1+adel1)\nadel2     lfo       .03, .7\nadel2     =         .04*(1+adel2)\nadel3     lfo       .02, .9\nadel3     =         .04*(1+adel3)\naflanger1 flanger   amix, adel1, 0, .1\naflanger2 flanger   amix, adel2, 0, .1\naflanger3 flanger   amix, adel3, 0, .1\n\namix2     =         .5*amix + .2*(aflanger1+aflanger2+aflanger3)\n          out       amix2*4000\n          endin\n\n\n          instr 4                                                     ; \"Solina\" String Ensemble+reverb (operat to rendered soundfile)\nkamp      linen     1, 1,p3,1\nkamp2     linen     1, 2,p3,1\nkpitch    init      cpspch(p4)\n\nalfo1     lfo       .001,.8\nalfo2     lfo       .001,.56\n\nabuzz1    buzz      kamp, kpitch*(1+alfo1), sr/(2*kpitch), 1 ,0\nasaw1     filter2   abuzz1, 1, 1, 1, -.95                             ; weak bass response\nabuzz2    buzz      kamp, kpitch*(1-alfo2), sr/(2*kpitch), 1 ,0\nasaw2     filter2   abuzz2, 1, 1, 1, -.95                             ; weak bass response\nabuzz3    buzz      kamp2, 2*kpitch, sr/(4*kpitch), 1 ,0              ; 8th higher\nasaw3     filter2   abuzz3, 1, 1, 1, -.999\n\namix      =         .25*(asaw1+asaw2+2*asaw3)\n\n                                                                      ; add some chorus\nadel1     lfo       .01, .8\nadel1     =         .04*(1+adel1)\nadel2     lfo       .03, .7\nadel2     =         .04*(1+adel2)\nadel3     lfo       .02, .9\nadel3     =         .04*(1+adel3)\naflanger1 flanger   amix, adel1, 0, .1\naflanger2 flanger   amix, adel2, 0, .1\naflanger3 flanger   amix, adel3, 0, .1\n\namix2     =         .5*amix + .2*(aflanger1+aflanger2+aflanger3)\n          out       amix2*4000\n          endin\n\n\n</CsInstruments>\n<CsScore>\n\nf1 0 32768 10 1\n\ni1 0 7 8.09 .34\ns\ni2 0 7 8.09 .84\ns\ni3 0 7 8.09 .15\ns\ni3 0 7 6.02 .24\ni3 0 . 7.02 .62\ni3 0 . 8.02 .23\ni3 0 . 8.05 .44\ni3 0 . 8.09 .14\ns\ni4 0 10 6.02 .21\ni4 0 10 7.02 .42\ni4 0 . 8.02 .23\ni4 0 . 8.05 .41\ni4 0 . 8.09 .14\ni4 4 6 9.04 .44\ni4 4 . 9.05 .43\ni4 4 . 10.00 .22\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and exponential segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 43_01_3.orc and 43_01_3.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:        43_01_3.ORC\n; synthesis:    (g)buzz(43)\n;               basic instrument(01)\n;               EXPSEG envelope(3)\n; coded:        jpg 10/93\n\n\ninstr 1; *****************************************************************\nidur  = p3\niamp  = p4\nifqc  = p5\ninmh   = p6\n\n   aenv    expseg  .1, 1/10*idur,iamp, 9/10*idur, .1\n   asrc    buzz    aenv, ifqc, inmh, 1\n           out     asrc\nendin\n\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     43_01_3.SCO\n; coded:     jpg 10/93\n\n\n; GEN functions **********************************************************\nf1 0 8193 10 1\n\n\n; score ******************************************************************\n\n;       idur   iamp   ifqc    inh\ni1   0    2    8000    125      5\ni1   +    .    .       .       10\ni1   .    .    .       .       15\ni1   .    .    .       .       20\ni1   .    .    .       .       40\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 43_01_2.orc and 43_01_2.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:        43_01_2.ORC\n; synthesis:    (g)buzz(43)\n;               basic instrument(01)\n;               EXPON envelope(2)\n; coded:        jpg 10/93\n\n\ninstr 1; *****************************************************************\nidur  = p3\niamp  = p4\nifqc  = p5\ninmh   = int(sr/2/ifqc)\n\n   aenv    expon   iamp, idur, .0001\n   asrc    buzz    aenv, ifqc, inmh, 1\n           out     asrc\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     43_01_2.SCO\n; coded:     jpg 10/93\n\n\n; GEN functions **********************************************************\nf1 0 8193 10 1\n\n\n; score ******************************************************************\n\n;       idur  iamp  ifqc\ni1   0   1    8000    55\ni1   +   .    .      110\ni1   .   .    .      440\ni1   .   .    .     1760\ni1   .   .    .     3520\ni1   .   .    .     7040\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1        =         cpspch(p4) using buzz/pulse generator and resonant filter and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 524A.ORC and 524A.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; FIG 5.24a.orc\n\n\n          instr 1\ni1        =         cpspch(p4)\ni2        =         int((8000/i1)+.5)\ni3        =         1/32767\n\na1        linen     p5,p6,p3,p7\nk1        linen     p5,p6,p3,p7\na2        buzz      a1,i1,i2,5\nk1        =         (k1*i3)*5000.\na1        reson     a2,0.,k1,1,0\n\n          out       a1\n          endin\n\n</CsInstruments>\n<CsScore>\nc fig 5.24.a.scr\nf 1 0 512 7 0 512 1\nf 4 0 512 5 1 512 3\nf 5 0 1025 9 .25 1 90\nf 2 0 512 9 .5 1 0\n  i1 0.000 0.500 7.00 3000 0.010 0.450\n  i1 1.000 0.500 9.00 3000 0.010 0.450\n  i1 2.000 0.500 7.00 6000 0.010 0.450\n  i1 3.000 0.500 9.00 6000 0.010 0.450\n  i1 4.000 0.500 7.00 12000 0.010 0.450\n  i1 5.000 0.500 9.00 12000 0.010 0.450\n  i1 6.000 0.500 7.00 24000 0.010 0.450\n  i1 7.000 0.500 9.00 24000 0.010 0.450\n  i1 8.000 0.500 7.00 32000 0.010 0.450\n  i1 9.000 0.500 9.00 32000 0.010 0.450\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a polytie sound using buzz/pulse generator and linear segments and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from polytie.orc and polytie.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; jmdbrady@club-internet.fr wrote:\n; Hi,\n;>\n;> I can't find any precise information about making ties between two notes.\n;> The manual only says:\" p1 instrument number[...] An optional fractional part\n;> can provide an additional tag for specifying ties between particular notes.\" \n;> I've tried unsuccessfully.\n;>\n;> How can I make it?\n;>\n;> Thanks for any help.\n;>\n;> Jean-Michel DARRÂMONT\n\n; It just so happens that I have been exploring exactly this question myself,\n; and I think I've got it pretty well figured out.  Included below is a simple\n;example orchestra and score that illustrates how to do portamento between\n; notes that are tied, but to just play the note strictly with its given pitch\n; if it's not tied.  The score also uses the fractional instrument number\n; feature to show polyphonic portamento.\n\n;               David Kirsh\n\n\n\n\n; Demonstration of portamento between tied notes\n; This technique could be applied to other parameters and to\n; non-tied notes with straightforward changes.\n        instr   5           \ninote   =       cpspch(p4)          ; THIS NOTE'S PITCH\n\n    ; If this is not a tied note, then there's no previous\n    ; pitch to glide from, so set beginning pitch of\n    ; portamento to this note's pitch.  Then save this same\n    ; pitch in 'iprevpitch' so we can remember what pitch we\n    ; are coming from when we have a tied note.  We have to\n    ; save it both here and in the tied note case because if\n    ; we do it in a common place below, Csound complains about\n    ; iprevpitch being used before set.\n        tigoto      tieinit\n\n    ; At this point we know we're not in a tied note.\n    ; Set beginning and previous pitches to the same thing.\nibegpitch   =       inote\niprevpitch  =       inote\n        goto        cont\n\ntieinit:\n    ; We're in a tied note.\n    ; Set up beginning pitch for portamento to new pitch.\n    ; Beginning pitch is pitch of previous note that this one is\n    ; tied onto the end of.  Save current pitch in case another\n    ; note ties onto this one; then we'll be able to portamento\n    ; again to that new pitch.\nibegpitch   =       iprevpitch\niprevpitch  =       inote\n\ncont:\n    ; Now set up a pitch envelope that moves from the beginning\n    ; pitch (as determined above) to this note's nominal pitch.\nkpitchenv   linseg  ibegpitch, .9, inote, abs(p3), inote\n\n    ; Generate a sound using the pitch envelope.  Notice the\n    ; last 'buzz' argument (-1), which causes phase\n    ; initialization to be skipped.  This is important to avoid\n    ; clicks on tied notes.  (This simple example clicks on\n    ; untied notes, though, because there's no amplitude\n    ; envelope.)\na1      buzz    10000, kpitchenv, 6, 1, -1\n        out     a1\n        endin\n\n</CsInstruments>\n<CsScore>\n; A Little Test Music\nf1 0 1025 10 1\n;\ni5.1    0.0 -2  7.00\ni5.2    0.0 -2  7.04\ni5.1    2.0 -2  7.07\ni5.2    2.0 -2  7.11\ni5.1    4.0 -2  6.07\ni5.2    4.0 -2  7.00\ni5.1    6.0 2   7.00\ni5.2    6.0 2   6.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 43_01_1.orc and 43_01_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:        43_01_1.ORC\n; synthesis:    (g)buzz(43)\n;               basic instrument(01)\n;               LINEN envelope(1)\n; coded:        jpg 10/93\n; note:\n; shows how buzz reacts to different frequencies...\n; very low range... buzzy indeed\n; stems from the fact that all amps are 1 ...\n\n; some octaves buzz with linen\n\n\ninstr 1; *****************************************************************\nidur  = p3\niamp  = p4\nifqc  = p5\ninmh  = int (sr/2/ifqc)\n\n   aenv    linen   iamp, .2, idur, .2\n   asrc    buzz    aenv,ifqc,inmh,1\n           out     asrc\n\nendin\n\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     43_01_1.SCO\n; coded:     jpg 10/93\n\n\n; GEN functions **********************************************************\nf1 0 8193 10 1\n\n\n; score ******************************************************************\n\n;     idur  iamp  ifqc\ni1 0   2    8000   55\ni1 +   .    .     110\ni1 .   .    .     440\ni1 .   .    .    1760\ni1 .   .    .    3520\ni1 .   .    .    7040\n\ne\n      \n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using buzz/pulse generator and linear segments and exponential segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from HiRezzy.orc and HiRezzy.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n; ORCHESTRA\n\n;---------------------------------------------------------------------------\n; SAW WITH MIKELSON REZZY FILTER\n;---------------------------------------------------------------------------\n          instr     15\n          \nidur      =         p3\niamp      =         p4\nifqc      =         cpspch(p5)*1.33\nifco      =         p6\nia2       =         1\nkrez      init      p7\n\nkfco      expseg    100+.01*ifco, .2*idur, ifco+100, .5*idur, ifco*.1+100,.3*idur, .001*ifco+100\nkamp      linseg    0, .002, iamp, .2, iamp*.8, p3-.222, iamp*.5, .02, 0\n                                        \n; axn     moogvco   ia2, ifqc, 1, 1\napulse    buzz      1,ifqc, sr/2/ifqc, 1     ; AVOID ALIASING\nasaw      biquad     apulse, 1, 0, 0, 1, -.999, 0 ; BIQUAD USED AS A LEAKY INTEGRATOR\n\n; SET UP FOR HIGH PASS VERSION OF REZZY.\nkt        =         .75/sqrt(1+krez)\nkc        =         sr/kfco/2/3.14159265\nkq        =         krez/(1+sqrt(sqrt(1/kc)))\nkb0       =         (kc/kq+kc*kc)*kt\nkb1       =         (-kc/kq-2*kc*kc)*kt\nkb2       =         kc*kc*kt\nka0       =         kc/kq+kc*kc\nka1       =         -kc/kq-2*kc*kc+1\nka2       =         kc*kc\n\nayn       biquad    asaw,  kb0, kb1, kb2, ka0, ka1, ka2 ; BIQUAD USED FOR HIGH PASS REZZY\n\n          outs      ayn*kamp, ayn*kamp\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 16384 10 1                               ; Sine\n\n;    Sta  Dur  Amp    Pitch  Fco   Rez\ni15  0.0  2    40000  7.05   1000  10\ni15  +    .    40000  6.03   2000  20\ni15  .    .    40000  6.10   4000  40\ni15  .    .    40000  7.05   8000  80\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for endin using buzz/pulse generator and Butterworth lowpass filter and Butterworth highpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bd11.orc and bd11.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  22050\nksmps\t=  2\nnchnls\t=  1\n\n\n\tseed 0\n\n#define MIDI2CPS(xmidi) # (440.0*exp(log(2.0)*(($xmidi)-69.0)/12.0)) #\n#define CPS2MIDI(xcps)  # ((log(($xcps)/440.0)/log(2.0))*12.0+69.0) #\n\n\tinstr 1\n\n/* ------------------------------------------------------------------------- */\n\nivol\t=  1.2\t\t/* volume\t\t\t\t\t*/\nibpm\t=  150\t\t/* tempo\t\t\t\t\t*/\n\nirel\t=  0.05\t\t/* release time\t\t\t\t\t*/\n\nistrtf1\t=  64.0\t\t/* start frequency / note f.\t\t\t*/\nifdec1\t=  128\t\t/* freq. decay speed\t\t\t\t*/\n\ninsmix\t=  1.0\t\t/* noise mix\t\t\t\t\t*/\n\niHP1f\t=  0.5\t\t/* HP filter 1 frequency / osc. freq.\t\t*/\niBP1f\t=  1.0\t\t/* BP filter 1 frequency / osc. freq.\t\t*/\niBP1b\t=  1.0\t\t/* BP filter 1 bandwidth / osc. freq.\t\t*/\n\niHP2f\t=  2.0\t\t/* HP filter 2 frequency / osc. freq.\t\t*/\niHP2m\t=  0.0\t\t/* HP filter 2 mix\t\t\t\t*/\niHP3f\t=  8.0\t\t/* HP filter 3 frequency / osc. freq.\t\t*/\niHP3m\t=  0.0\t\t/* HP filter 3 mix\t\t\t\t*/\n\niHPxf\t=  1.0\t\t/* output HP filter frequency / note frequency\t*/\niHPxr\t=  0.7\t\t/* output HP filter resonance\t\t\t*/\n\niLPf1\t=  4.0\t\t/* output LP filter frequency 1 / osc. freq.\t*/\niLPd1\t=  4\t\t/* output LP filter frequency 1 decay speed\t*/\niLPf2\t=  4.0\t\t/* output LP filter frequency 2 / osc. freq.\t*/\niLPd2\t=  4\t\t/* output LP filter frequency 2 decay speed\t*/\n\niAMxd\t=  8\t\t/* amp. envelope speed\t\t\t\t*/\n\niAM1s\t=  0.25\t\t/* amp. envelope 1 start value\t\t\t*/\niAM1d\t=  8\t\t/* amp. envelope 1 decay speed\t\t\t*/\niAM2s\t=  2.0\t\t/* amp. envelope 2 start value\t\t\t*/\niAM2d\t=  2\t\t/* amp. envelope 2 decay speed\t\t\t*/\n\n/* ------------------------------------------------------------------------- */\n\nibtime\t=  60/ibpm\n\np3\t=  p3+irel+0.05\n\nimkey\t=  p4\nimvel\t=  p5\n\nicps\t=  $MIDI2CPS(imkey)\niamp\t=  (0.0039+imvel*imvel/16192)*ivol*16384\nkamp\tlinseg 1,p3-(irel+0.05),1,irel,0,0.05,0\n\nk_\tline 0, 1, 1\t\t\t\t/* calculate osc. frequency */\nkcps\t=  icps*(k_*(ifdec1/ibtime)+istrtf1)/(k_*(ifdec1/ibtime)+1)\n\nknumh\t=  sr/(2*kcps)\t\t\t\t/* square oscillator */\n\na__\tbuzz sr/(10*3.14159265), kcps, knumh, 256, 0\na___\tbuzz sr/(10*3.14159265), kcps, knumh, 256, 0.5\na0\ttone a__-a___, 10\n\na_\tunirand 2\t\t\t\t/* noise generator */\na0\t=  a0+(a_-1)*insmix\n\na1\t=  a0\t/* save osc. output */\n\na0\tbutterhp a0,iHP1f*kcps\t\t\t/* HP filter 1 */\n\na0\tbutterbp a0,iBP1f*kcps,iBP1b*kcps\t/* BP filter 1 */\n\na_\tbutterhp a1,iHP2f*kcps\t\t\t/* HP filter 2 and 3 */\na__\tbutterhp a1,iHP3f*kcps\na0\t=  a0+a_*iHP2m+a__*iHP3m\n\na0\tbutterhp a0,iHPxf*icps\t\t\t\t/* output HP filter */\na0\tpareq a0,iHPxf*icps,iHPxr*1.4142,iHPxr,0\n\nk_\tport 1,ibtime/iAMxd,0\t\t\t\t/* amp. envelope */\nk__\t=  sin(k_*3.14159265*2.0)\na0\t=  a0*k__\n\nk_\texpseg 1,ibtime/iAM1d,0.5\t\t\t/* amp. envelopes */\nk__\texpseg 1,ibtime/iAM2d,0.5\nk_\t=  (1-k_)*(1-iAM1s)+iAM1s\nk__\t=  (1-k__)*(1-iAM2s)+iAM2s\na0\t=  a0*k_*k__\n\nk_\tport 0,ibtime/iLPd1,iLPf1\t\t\t/* output LP filter */\nk__\tport 0,ibtime/iLPd2,iLPf2\na0\tbutterlp a0,kcps*(k_+k__)\n\na0\tbutterlp a0*iamp*kamp,sr*0.48\n\n\tout a0\n\n\tendin\n\n\tinstr 90\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt 0 150.00\t/* tempo */\n\ni 90\t0.0000\t18.000\t\t/* output instrument */\n\n#define Rhytm1(xstrt) #\n\ni 1\t[$xstrt+0.0000]\t\t0.4000\t21\t120\ni 1\t[$xstrt+0.9900]\t\t0.4000\t21\t116\ni 1\t[$xstrt+1.9900]\t\t0.4000\t21\t120\ni 1\t[$xstrt+3.0000]\t\t0.4000\t21\t116\ni 1\t[$xstrt+4.0000]\t\t0.4000\t21\t120\ni 1\t[$xstrt+4.9900]\t\t0.4000\t21\t116\ni 1\t[$xstrt+5.9900]\t\t0.4000\t21\t118\ni 1\t[$xstrt+7.0000]\t\t0.4000\t21\t116\n\n#\n\n$Rhytm1(0)\n$Rhytm1(8)\n\n/* ------------------------------------------------------------------------- */\n\nf 256 0 262144 10 1\n\ne\t/* end of score */\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and modal synthesis and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bd1601.orc and bd1601.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         22050\nksmps          =         2\nnchnls         =         1\n\n; ------------------------ bd16_01.orc ------------------------\n\n\n/* ------------------------------------------------------- */\n\n               seed      0\n\n               instr     1\n\nimkey          =         p4    /* GET NOTE PARAMETERS FROM SCORE FILE */\nimvel          =         p5\n\nicps           =         440.0*exp(log(2.0)*(imkey-69.0)/12.0)\niamp           =         0.0039+imvel*imvel/16192\n\n/* ------------------------------------------------------- */\n\nivol           =         5500           /* OUTPUT VOLUME               */\nibpm           =         135            /* TEMPO                       */\n\nifrqs          =         5.3333         /* OSC. START FRQ. / NOTE FREQ. */\nifrqe          =         1.0            /* OSC. END FREQ. / NOTE FRQ.  */\nifrqd          =         16             /* OSC. FREQ. ENVELOPE SPEED   */\n\niffr1s         =         880            /* LP FILTER START FREQ. 1 (HZ) */\niffr1d         =         128            /* LP FILTER FRQ. 1 DECAY SPEED */\niffr2s         =         0              /* LP FILTER START FREQ. 2 (HZ) */\niffr2d         =         1              /* LP FILTER FRQ. 2 DECAY SPEED */\niffr3s         =         8              /* LP FILTER START FREQ. 3 / NOTE FRQ.   */\niffr3d         =         8              /* LOWPASS FILTER FREQ. 3 DECAY SPEED    */\niffr4s         =         0              /* LP FILTER START FREQ. 4 / NOTE FRQ.   */\niffr4d         =         1              /* LOWPASS FILTER FREQ. 4 DECAY SPEED    */\n\niEQ1fo         =         0.5            /* EQ 1 FREQUENCY / OSC. FREQ.      */\niEQ1fn         =         0              /* EQ 1 FREQUENCY / NOTE FREQ.      */\niEQ1fa         =         0              /* EQ 1 FREQUENCY (HZ)         */\niEQ1l          =         0.25           /* EQ 1 LEVEL                  */\niEQ1q          =         0.7071         /* EQ 1 Q                      */\niEQ1m          =         1              /* EQ 1 MODE (0:PEAK,1:LO,2:HI) */\n\niEQ2fo         =         0.5            /* EQ 2 FREQUENCY / OSC. FREQ.      */\niEQ2fn         =         0              /* EQ 2 FREQUENCY / NOTE FREQ.      */\niEQ2fa         =         0              /* EQ 2 FREQUENCY (HZ)         */\niEQ2l          =         0.25           /* EQ 2 LEVEL                  */\niEQ2q          =         0.7071         /* EQ 2 Q                      */\niEQ2m          =         1              /* EQ 2 MODE (0:PEAK,1:LO,2:HI) */\n\niEQ3fo         =         0.5            /* EQ 3 FREQUENCY / OSC. FREQ.      */\niEQ3fn         =         0              /* EQ 3 FREQUENCY / NOTE FREQ.      */\niEQ3fa         =         0              /* EQ 3 FREQUENCY (HZ)         */\niEQ3l          =         4              /* EQ 3 LEVEL                  */\niEQ3q          =         2.0            /* EQ 3 Q                      */\niEQ3m          =         0              /* EQ 3 MODE (0:PEAK,1:LO,2:HI) */\n\niEQ4fo         =         0              /* EQ 4 FREQUENCY / OSC. FREQ.      */\niEQ4fn         =         1.5            /* EQ 4 frequency / note freq.      */\niEQ4fa         =         0              /* EQ 4 frequency (Hz)         */\niEQ4l          =         2.0            /* EQ 4 level                  */\niEQ4q          =         1.0            /* EQ 4 Q                      */\niEQ4m          =         0              /* EQ 4 mode (0:peak,1:lo,2:hi) */\n\ninsmix         =         16             /* NOISE MIX                   */\n\niEQn1fo        =         0              /* NOISE EQ 1 FREQUENCY / OSC. FREQ.     */\niEQn1fn        =         1              /* NOISE EQ 1 FREQUENCY / NOTE FREQ.     */\niEQn1fa        =         0              /* NOISE EQ 1 FREQUENCY (HZ)             */\niEQn1l         =         0.0625         /* NOISE EQ 1 LEVEL            */\niEQn1q         =         0.7071         /* NOISE EQ 1 Q                     */\niEQn1m         =         1              /* NOISE EQ 1 MODE (0:PEAK,1:LO,2:HI)    */\n\niEQn2fo        =         0              /* NOISE EQ 2 FREQUENCY / OSC. FREQ.     */\niEQn2fn        =         16             /* NOISE EQ 2 FREQUENCY / NOTE FREQ.     */\niEQn2fa        =         0              /* NOISE EQ 2 FREQUENCY (HZ)             */\niEQn2l         =         0.0625         /* NOISE EQ 2 LEVEL            */\niEQn2q         =         0.7071         /* NOISE EQ 2 Q                     */\niEQn2m         =         1              /* NOISE EQ 2 MODE (0:PEAK,1:LO,2:HI)    */\n\n/* ------------------------------------------------------- */\n\np3             =         p3+0.15        /* INCREASE NOTE LENGTH */\n\nibtime         =         60/ibpm\n\n/* AMP. ENVELOPE */\n\nkamp           linseg    1, p3-0.15, 1, 0.05, 0, 0.1, 0\nkamp           =         kamp*iamp*ivol\n\n/* KCPS        =         OSC. FREQUENCY, KNUMH = NUM. OF HARMONICS */\n\nkcps           port      ifrqe*icps, ibtime/ifrqd, ifrqs*icps\nknumh          =         sr/(2*kcps)\n\n/* OSCILLATOR */\n\na_             buzz      sr/(3.14159265*10), kcps, knumh, 1, 0\na__            buzz      sr/(3.14159265*10), kcps, knumh, 1, 0.5\n\na0             tone      a_-a__,10\n\na_             unirand   2              /* NOISE GENERATOR */\na_             =         a_-1\n\na_             pareq     a_, iEQn1fa+icps*iEQn1fn+kcps*iEQn1fo, \\\n                         iEQn1l, iEQn1q, iEQn1m\na_             pareq     a_, iEQn2fa+icps*iEQn2fn+kcps*iEQn2fo, \\\n                         iEQn2l, iEQn2q, iEQn2m\n\na0             =         a0 + insmix*a_\n\n/* EQ */\n\na0             pareq     a0, iEQ1fa+icps*iEQ1fn+kcps*iEQ1fo, iEQ1l, \\\n                         iEQ1q, iEQ1m\na0             pareq     a0, iEQ2fa+icps*iEQ2fn+kcps*iEQ2fo, iEQ2l, \\\n                         iEQ2q, iEQ2m\na0             pareq     a0, iEQ3fa+icps*iEQ3fn+kcps*iEQ3fo, iEQ3l, \\\n                         iEQ3q, iEQ3m\na0             pareq     a0, iEQ4fa+icps*iEQ4fn+kcps*iEQ4fo, iEQ4l, \\\n                         iEQ4q, iEQ4m\n\n/* FILTER FREQ. ENVELOPES */\n\nkffr1          port      0, ibtime/iffr1d, iffr1s\nkffr2          port      0, ibtime/iffr2d, iffr2s\nkffr3          port      0, ibtime/iffr3d, iffr3s*icps\nkffr4          port      0, ibtime/iffr4d, iffr4s*icps\n\n/* KFFRQ = LP FILTER FREQUENCY */\n\nkffrq          =         kffr1 + kffr2 + kffr3 + kffr4\n\na0             butterlp  a0, kffrq                /* LP FILTER */\n\na_             =         a0*kamp\n\n               out       a_\n\n               endin\n\n</CsInstruments>\n<CsScore>\n;-------------------------- bd16_01.sco ----------------------\n\nt 0 135.00      /* TEMPO */\n\ni 1     0.0000  0.4000  33      120\ni 1     1.0100  0.4000  33      112\ni 1     2.0100  0.4000  33      124\ni 1     3.0050  0.4000  33      112\ni 1     4.0000  0.4000  33      116\ni 1     5.0100  0.4000  33      112\ni 1     6.0100  0.4000  33      120\ni 1     6.9900  0.3000  33      120\ni 1     7.5000  0.3000  33      116\n\ni 1     8.0000  0.4000  33      120\ni 1     9.0100  0.4000  33      112\ni 1     10.010  0.4000  33      124\ni 1     11.005  0.4000  33      112\ni 1     12.000  0.4000  33      116\ni 1     13.010  0.4000  33      112\ni 1     14.010  0.4000  33      120\ni 1     15.005  0.4000  33      112\n\n/* ------------------------------------------------------- */\n\nf 1 0 262144 10 1\n\ne       /* END OF SCORE */\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for soundout gax0,$OUTFLNAME,6\t/* mono output file */ using drum sound and buzz/pulse generator and modal synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from drum_05_01.orc and drum_05_01.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  22050\nksmps\t=  2\nnchnls\t=  2\n\n\n/* mono output file name (file format: raw,1 channel,float) */\n\n#define OUTFLNAME # \"_tmp.dat\" #\n\n#include \"Effects.Header.orc\"\n#include \"Delays.include.orc\"\n#include \"Spatial_Stereo.include.orc\"\n\n/* spatializer macro */\n\n#define SPATMACRO # $SpatStereo #\n\n/* ------------------------------------------------------------------------- */\n\n$InitHQDelay\n\n\tseed 0\n\ngax0\tinit 0\n\n\tinstr 1\n\nimkey\t=  p4\t\t/* get note parameters from score file */\nimvel\t=  p5\n\nimkey\tlimit imkey,0,127\nimvel\tlimit imvel,0,127\n\nicps\t=  440.0*exp(log(2.0)*(imkey-69.0)/12.0)\niamp\t=  0.0039+imvel*imvel/16192\n\n/* ------------------------------------------------------------------------- */\n\nivol\ttable\t 0,\t64\t/* output volume\t\t\t*/\nibpm\ttable\t 1,\t64\t/* tempo\t\t\t\t*/\n\nifrqs1\ttable\t 2,\t64\t/* oscillator start freq. 1 / note frq.\t*/\nifrqd1\ttable\t 3,\t64\t/* osc. frq. 1 decay speed at max. vel.\t*/\nifrqdx1\ttable\t 4,\t64\t/* osc. freq. 1 max. decay speed\t*/\nifrqdxv\ttable\t 5,\t64\t/* note velocity for max. decay speed\t*/\nifrqs2\ttable\t 6,\t64\t/* oscillator start freq. 2 / note frq.\t*/\nifrqd2\ttable\t 7,\t64\t/* osc. freq. 2 decay speed\t\t*/\nifrqs3\ttable\t 8,\t64\t/* oscillator start freq. 3 / note frq.\t*/\nifrqd3\ttable\t 9,\t64\t/* osc. freq. 3 decay speed\t\t*/\nifrqs4\ttable\t10,\t64\t/* oscillator start freq. 4 / note frq.\t*/\nifrqd4\ttable\t11,\t64\t/* osc. freq. 4 decay speed\t\t*/\n\niffr1s\ttable\t12,\t64\t/* lowpass filter start freq. 1 (Hz)\t*/\niffr1d\ttable\t13,\t64\t/* lowpass filter freq. 1 decay speed\t*/\niffr2s\ttable\t14,\t64\t/* lowpass filter start freq. 2 (Hz)\t*/\niffr2d\ttable\t15,\t64\t/* lowpass filter freq. 2 decay speed\t*/\niffr3s\ttable\t16,\t64\t/* LP filter start freq. 3 / note frq.\t*/\niffr3d\ttable\t17,\t64\t/* lowpass filter freq. 3 decay speed\t*/\niffr4s\ttable\t18,\t64\t/* LP filter start freq. 4 / note frq.\t*/\niffr4d\ttable\t19,\t64\t/* lowpass filter freq. 4 decay speed\t*/\n\niEQ1fo\ttable\t20,\t64\t/* EQ 1 frequency / osc. frequency\t*/\niEQ1fn\ttable\t21,\t64\t/* EQ 1 frequency / note frequency\t*/\niEQ1fa\ttable\t22,\t64\t/* EQ 1 frequency (Hz)\t\t\t*/\niEQ1l\ttable\t23,\t64\t/* EQ 1 level\t\t\t\t*/\niEQ1q\ttable\t24,\t64\t/* EQ 1 Q\t\t\t\t*/\niEQ1m\ttable\t25,\t64\t/* EQ 1 mode (0:peak,1:low,2:high)\t*/\n\niEQ2fo\ttable\t26,\t64\t/* EQ 2 frequency / osc. frequency\t*/\niEQ2fn\ttable\t27,\t64\t/* EQ 2 frequency / note frequency\t*/\niEQ2fa\ttable\t28,\t64\t/* EQ 2 frequency (Hz)\t\t\t*/\niEQ2l\ttable\t29,\t64\t/* EQ 2 level\t\t\t\t*/\niEQ2q\ttable\t30,\t64\t/* EQ 2 Q\t\t\t\t*/\niEQ2m\ttable\t31,\t64\t/* EQ 2 mode (0:peak,1:low,2:high)\t*/\n\niEQ3fo\ttable\t32,\t64\t/* EQ 3 frequency / osc. frequency\t*/\niEQ3fn\ttable\t33,\t64\t/* EQ 3 frequency / note frequency\t*/\niEQ3fa\ttable\t34,\t64\t/* EQ 3 frequency (Hz)\t\t\t*/\niEQ3l\ttable\t35,\t64\t/* EQ 3 level\t\t\t\t*/\niEQ3q\ttable\t36,\t64\t/* EQ 3 Q\t\t\t\t*/\niEQ3m\ttable\t37,\t64\t/* EQ 3 mode (0:peak,1:low,2:high)\t*/\n\niEQ4fo\ttable\t38,\t64\t/* EQ 4 frequency / osc. frequency\t*/\niEQ4fn\ttable\t39,\t64\t/* EQ 4 frequency / note frequency\t*/\niEQ4fa\ttable\t40,\t64\t/* EQ 4 frequency (Hz)\t\t\t*/\niEQ4l\ttable\t41,\t64\t/* EQ 4 level\t\t\t\t*/\niEQ4q\ttable\t42,\t64\t/* EQ 4 Q\t\t\t\t*/\niEQ4m\ttable\t43,\t64\t/* EQ 4 mode (0:peak,1:low,2:high)\t*/\n\ninsmix\ttable\t44,\t64\t/* noise mix\t\t\t\t*/\n\niEQn1fo\ttable\t45,\t64\t/* noise EQ 1 frequency / osc. freq.\t*/\niEQn1fn\ttable\t46,\t64\t/* noise EQ 1 frequency / note freq.\t*/\niEQn1fa\ttable\t47,\t64\t/* noise EQ 1 frequency (Hz)\t\t*/\niEQn1l\ttable\t48,\t64\t/* noise EQ 1 level\t\t\t*/\niEQn1q\ttable\t49,\t64\t/* noise EQ 1 Q\t\t\t\t*/\niEQn1m\ttable\t50,\t64\t/* noise EQ 1 mode (0:peak,1:lo,2:hi)\t*/\n\niEQn2fo\ttable\t51,\t64\t/* noise EQ 2 frequency / osc. freq.\t*/\niEQn2fn\ttable\t52,\t64\t/* noise EQ 2 frequency / note freq.\t*/\niEQn2fa\ttable\t53,\t64\t/* noise EQ 2 frequency (Hz)\t\t*/\niEQn2l\ttable\t54,\t64\t/* noise EQ 2 level\t\t\t*/\niEQn2q\ttable\t55,\t64\t/* noise EQ 2 Q\t\t\t\t*/\niEQn2m\ttable\t56,\t64\t/* noise EQ 2 mode (0:peak,1:lo,2:hi)\t*/\n\nimkmin\ttable\t57,\t64\t/* MIDI key range for panning\t\t*/\nimkmax\ttable\t58,\t64\n\niazim0\ttable\t59,\t64\t/* azimuth range\t\t\t*/\niazim1\ttable\t60,\t64\nielev0\ttable\t61,\t64\t/* elevation range\t\t\t*/\nielev1\ttable\t62,\t64\nidist0\ttable\t63,\t64\t/* distance range\t\t\t*/\nidist1\ttable\t64,\t64\n\n/* ------------------------------------------------------------------------- */\n\np3\t=  p3+0.15\t/* increase note length */\n\nibtime\t=  60/ibpm\n\nkamp\tlinseg 1,p3-0.15,1,0.05,0,0.1,0\t\t/* amp. envelope */\nkamp\t=  kamp*iamp*ivol\n\ni_\tlimit (imvel-ifrqdxv),0,127\t/* calculate freq. 1 dec. speed */\ni_\t=  i_/(127-ifrqdxv)\nifrqd1\t=  ifrqdx1-i_*(ifrqdx1-ifrqd1)\n\nkfrq1\texpseg 1,ibtime/ifrqd1,0.5\t/* osc. frq. envelopes */\nkfrq2\texpseg 1,ibtime/ifrqd2,0.5\nkfrq3\texpseg 1,ibtime/ifrqd3,0.5\nkfrq4\texpseg 1,ibtime/ifrqd4,0.5\n\nkfrq1\t=  kfrq1*ifrqs1*icps\nkfrq2\t=  kfrq2*ifrqs2*icps\nkfrq3\t=  kfrq3*ifrqs3*icps\nkfrq4\t=  kfrq4*ifrqs4*icps\n\nkcps\t=  kfrq1+kfrq2+kfrq3+kfrq4\t/* kcps = osc. frequency */\n\nkmkey\t=  ((log(kcps/440.0)/log(2.0))*12.0)+69.0\nkmkey\tlimit kmkey,0,127\nknumh\t=  sr/(2*kcps)\t\t\t/* knumh = number of harmonics */\n\na_\tbuzz sr/(10*3.14159265), kcps, knumh, 1, 0\na__\tbuzz sr/(10*3.14159265), kcps, knumh, 1, 0.5\n\na0\ttone a_-a__, 10\n\na_\tunirand 2\t\t\t/* noise generator */\na_\t=  a_-1\n\na_\tpareq a_,iEQn1fa+icps*iEQn1fn+kcps*iEQn1fo,iEQn1l,iEQn1q,iEQn1m\na_\tpareq a_,iEQn2fa+icps*iEQn2fn+kcps*iEQn2fo,iEQn2l,iEQn2q,iEQn2m\n\na0\t=  a0+insmix*a_\n\n/* EQ */\n\na0\tpareq a0,iEQ1fa+icps*iEQ1fn+kcps*iEQ1fo,iEQ1l,iEQ1q,iEQ1m\na0\tpareq a0,iEQ2fa+icps*iEQ2fn+kcps*iEQ2fo,iEQ2l,iEQ2q,iEQ2m\na0\tpareq a0,iEQ3fa+icps*iEQ3fn+kcps*iEQ3fo,iEQ3l,iEQ3q,iEQ3m\na0\tpareq a0,iEQ4fa+icps*iEQ4fn+kcps*iEQ4fo,iEQ4l,iEQ4q,iEQ4m\n\nkffr1\texpseg 1,ibtime/iffr1d,0.5\t/* LP filter freq. envelopes */\nkffr2\texpseg 1,ibtime/iffr2d,0.5\nkffr3\texpseg 1,ibtime/iffr3d,0.5\nkffr4\texpseg 1,ibtime/iffr4d,0.5\n\nkffr1\t=  kffr1*iffr1s\nkffr2\t=  kffr2*iffr2s\nkffr3\t=  kffr3*iffr3s*icps\nkffr4\t=  kffr4*iffr4s*icps\n\nkffrq\t=  kffr1+kffr2+kffr3+kffr4\t/* kffrq = LP filter frequency */\n\na0\tbutterlp a0,kffrq\t\t/* LP filter */\n\na_\t=  a0*kamp\t\t\t/* apply envelope */\n\ngax0\t=  gax0+a_\t\t\t/* send to global output */\n\nispt1\tlimit imkey,imkmin,imkmax\t\t/* calculate azimuth, */\nispt1\t=  (ispt1-imkmin)/(imkmax-imkmin)\t/* elevation and distance */\n\ni_az_\t=  iazim0+(iazim1-iazim0)*ispt1\ni_el_\t=  ielev0+(ielev1-ielev0)*ispt1\ni_d_\t=  idist0+(idist1-idist0)*ispt1\n\n$SPATMACRO\n\n\touts a_L_,a_R_\t\t/* output spatialized sound */\n\n\tendin\n\n/* ------------------------------------------------------------------------- */\n\n\tinstr 90\n\n\tsoundout gax0,$OUTFLNAME,6\t/* mono output file */\ngax0\t=  0\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt 0 170.00\t/* tempo */\n\ni 90 0 18.0\t/* output instrument */\n\ni 1\t0.0000\t0.4000\t32\t127\ni 1\t0.9900\t0.4000\t32\t120\ni 1\t1.9800\t0.4000\t32\t124\ni 1\t2.9800\t0.4000\t32\t116\ni 1\t4.0000\t0.4000\t32\t127\ni 1\t4.9900\t0.4000\t32\t120\ni 1\t5.9800\t0.4000\t32\t124\ni 1\t6.9800\t0.4000\t32\t116\ni 1\t8.0000\t0.4000\t32\t127\ni 1\t8.9900\t0.4000\t32\t120\ni 1\t9.9800\t0.4000\t32\t124\ni 1\t10.980\t0.4000\t32\t116\ni 1\t12.000\t0.4000\t32\t127\ni 1\t12.990\t0.4000\t32\t120\ni 1\t13.980\t0.4000\t32\t124\ni 1\t14.980\t0.4000\t32\t116\n\n/* ------------------------------------------------------------------------- */\n\nf 64 0 128 -2\t10000.0\t\t/* output volume\t\t\t*/\n\t\t170.0\t\t/* tempo\t\t\t\t*/\n\n\t\t4.3333\t\t/* oscillator start freq. 1 / note frq.\t*/\n\t\t8.0\t\t/* osc. frq. 1 decay speed at max. vel.\t*/\n\t\t16.0\t\t/* osc. freq. 1 max. decay speed\t*/\n\t\t96\t\t/* note velocity for max. decay speed\t*/\n\t\t1.0\t\t/* oscillator start freq. 2 / note frq.\t*/\n\t\t2.0\t\t/* osc. freq. 2 decay speed\t\t*/\n\t\t10.6667\t\t/* oscillator start freq. 3 / note frq.\t*/\n\t\t128.0\t\t/* osc. freq. 3 decay speed\t\t*/\n\t\t0.0\t\t/* oscillator start freq. 4 / note frq.\t*/\n\t\t1.0\t\t/* osc. freq. 4 decay speed\t\t*/\n\n\t\t0\t\t/* lowpass filter start freq. 1 (Hz)\t*/\n\t\t1\t\t/* lowpass filter freq. 1 decay speed\t*/\n\t\t0\t\t/* lowpass filter start freq. 2 (Hz)\t*/\n\t\t1\t\t/* lowpass filter freq. 2 decay speed\t*/\n\t\t48.0\t\t/* LP filter start freq. 3 / note frq.\t*/\n\t\t64.0\t\t/* lowpass filter freq. 3 decay speed\t*/\n\t\t16.0\t\t/* LP filter start freq. 4 / note frq.\t*/\n\t\t12.0\t\t/* lowpass filter freq. 4 decay speed\t*/\n\n\t\t0\t\t/* EQ 1 frequency / osc. frequency\t*/\n\t\t1.5\t\t/* EQ 1 frequency / note frequency\t*/\n\t\t0\t\t/* EQ 1 frequency (Hz)\t\t\t*/\n\t\t1.4142\t\t/* EQ 1 level\t\t\t\t*/\n\t\t1.4142\t\t/* EQ 1 Q\t\t\t\t*/\n\t\t0\t\t/* EQ 1 mode (0:peak,1:low,2:high)\t*/\n\n\t\t0\t\t/* EQ 2 frequency / osc. frequency\t*/\n\t\t4\t\t/* EQ 2 frequency / note frequency\t*/\n\t\t0\t\t/* EQ 2 frequency (Hz)\t\t\t*/\n\t\t0.25\t\t/* EQ 2 level\t\t\t\t*/\n\t\t1.0\t\t/* EQ 2 Q\t\t\t\t*/\n\t\t2\t\t/* EQ 2 mode (0:peak,1:low,2:high)\t*/\n\n\t\t0\t\t/* EQ 3 frequency / osc. frequency\t*/\n\t\t0\t\t/* EQ 3 frequency / note frequency\t*/\n\t\t1000\t\t/* EQ 3 frequency (Hz)\t\t\t*/\n\t\t1.0\t\t/* EQ 3 level\t\t\t\t*/\n\t\t0.7071\t\t/* EQ 3 Q\t\t\t\t*/\n\t\t0\t\t/* EQ 3 mode (0:peak,1:low,2:high)\t*/\n\n\t\t0\t\t/* EQ 4 frequency / osc. frequency\t*/\n\t\t0\t\t/* EQ 4 frequency / note frequency\t*/\n\t\t1000\t\t/* EQ 4 frequency (Hz)\t\t\t*/\n\t\t1.0\t\t/* EQ 4 level\t\t\t\t*/\n\t\t0.7071\t\t/* EQ 4 Q\t\t\t\t*/\n\t\t0\t\t/* EQ 4 mode (0:peak,1:low,2:high)\t*/\n\n\t\t1.0\t\t/* noise mix\t\t\t\t*/\n\n\t\t0\t\t/* noise EQ 1 frequency / osc. freq.\t*/\n\t\t0\t\t/* noise EQ 1 frequency / note freq.\t*/\n\t\t1000\t\t/* noise EQ 1 frequency (Hz)\t\t*/\n\t\t1.0\t\t/* noise EQ 1 level\t\t\t*/\n\t\t0.7071\t\t/* noise EQ 1 Q\t\t\t\t*/\n\t\t1\t\t/* noise EQ 1 mode (0:peak,1:lo,2:hi)\t*/\n\n\t\t0\t\t/* noise EQ 2 frequency / osc. freq.\t*/\n\t\t0\t\t/* noise EQ 2 frequency / note freq.\t*/\n\t\t1000\t\t/* noise EQ 2 frequency (Hz)\t\t*/\n\t\t1.0\t\t/* noise EQ 2 level\t\t\t*/\n\t\t0.7071\t\t/* noise EQ 2 Q\t\t\t\t*/\n\t\t0\t\t/* noise EQ 2 mode (0:peak,1:lo,2:hi)\t*/\n\n\t\t48\t55\t/* MIDI key range for panning\t\t*/\n\t\t0\t0\t/* azimuth range\t\t\t*/\n\t\t0\t0\t/* elevation range\t\t\t*/\n\t\t0.5\t0.5\t/* distance range\t\t\t*/\n\n/* ------------------------------------------------------------------------- */\n\nf 1 0 262144 10 1\n\ne\t/* end of score */\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for MOOG 24 dB (4 POLE) LPF WITH RESONANCE !! using buzz/pulse generator and random noise and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from moog0.orc and moog0.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; Josep M Comajuncosas\n\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n          instr 1             ; MOOG 24 dB (4 POLE) LPF WITH RESONANCE !!\n; based on papers by Stilson & Smith\n; coded in C by (?)\n; ported to Csound by Josep M Comajuncosas\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\nkout0     init      0\nkout4     init      0\n\nkap1      init      0\nkap2      init      0\nkap3      init      0\nkap4      init      0\n\nkin1      init      0\nkin2      init      0\nkin3      init      0\nkin4      init      0\n\n; SOUND SOURCE: PUT HERE WHAT YOU WANT\nkinput    rand      10000\n\n; kfcon / kresin BETWEEN 0 AND 1\n; WORKS BEST BETWEEN 0 ~ sr/4 Hz (OR sr/6...)\n\nilimres   =         10000                    ; AN EMPYRICAL VALUE TO PLAY WITH\nkfco      linseg    100, p3/2, 5000, p3/2, 1000 ; FILTER CUTOFF FREQUENCY (SUGGESTED 0 TO sr/4)\nkresin    linseg    .25, p3/2, .5, p3/2, .99 ; RESONANCE AMOUNT (0 TO 1 -OSCILLATION)\n\nkfcon     =         2*kfco/sr                ; NORMALIZED FREQ. 0 TO NYQUIST\n\nkreso     =         1 - kfcon                ; EMPYRICAL TUNING\nkreso     =         1 + 3.5 * kreso * kreso\nkreso     =         kreso * kresin\n\nkfcon     =         kfcon * 2.0 - 1.0;\n\nkreso     =         kreso * kout4;\n\n; LIMIT RESONANCE (JUST SIMPLE CLIPPING...)\nkreso     =         ( kreso >  ilimres  ?  ilimres : kreso)\nkreso     =         ( kreso < -ilimres ? -ilimres : kreso)\n\nkout0     =         kinput - kreso           ; FEEDBACK!\n                                             \n; LOWPASS 1\nkap1      =         (kout0 - kap1) * kfcon + kin1 ; ALLPASS SECTION\nkin1      =         kout0;\nkout1     =         (kout0 + kap1) * 0.5     ; COMBINE WITH KINPUT\n\n; LOWPASS 2\nkap2      =         (kout1 - kap2) * kfcon + kin2;\nkin2      =         kout1;\nkout2     =         (kout1 + kap2) * 0.5;\n\n; LOWPASS 3\nkap3      =         (kout2 - kap3) * kfcon + kin3;\nkin3      =         kout2;\nkout3     =         (kout2 + kap3) * 0.5;\n\n; LOWPASS 4\nkap4      =         (kout3 - kap4) * kfcon + kin4;\nkin4      =         kout3;\nkout4     =         (kout3 + kap4) * 0.5\n\n          aout      upsamp kout4;\n          out       aout\n\n          endin\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n          instr 4             ; 24 dB LPF WITH RESONANCE. CAN SELF-OSCILLATE !\n; loosely based on some papers by Stilson & Smith (CCRMA)\n; coded by Josep M Comajuncosas / jan498\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\naout      init      0\niamp      =         10000                    ; INTENDED MAXIMUM AMPLITUDE\nkfreq     =         100\nifco      =         p4                       ; KEEP IT WELL BELOW sr/4 OR LESS\n\n\nkenv      linen     1, .05, p3, p3-.25\nkres      =         kenv*3.9                 ; RESONANCE (0,4)\n; 4 FOR SELF-OSCILLATION, BUT BE CAREFUL\nkfco      =         kfreq + ifco*kenv        ; FILTER CUTOFF FREQUENCY\n\nkfcn      =         kfco/sr                  ; FREQUENCY NORMALIZED (0, 1/4)\nkcorr     =         1-4*kfcn                 ; SOME EMPYRICAL TUNING...\nkres      =         kres/kcorr               ; MORE FEEDBACK FOR HIGHER FREQUENCIES\n; THIS IS TO COMPENSATE FOR THE WORSE EFFICIENCY OF THE FILTER AT HIGH kfco\n; (PHASE RESP. AT kfco GOES FROM pi/4 AT ~ 0 Hz TO 0 AT sr/4 FOR A 1st ORDER IIR LPF)\n; THIS ALSO MAKES IMPOSSIBLE TO USE FREQUENCIES ABOVE sr/4\n\nasig      buzz      1,kfreq,sr/(2*kfreq),1   ; SOUND SOURCE, WHAT YOU WANT\n\narez      =         asig - kres*aout         ; INVERTED FEEDBACK TO THE FILTER\n; AS PH. RESP. OF A 4 STAGE LPF AT kfco IS 180=BA BUT  AT DC & sr/2 =  0==BA\n; INVERTING IT IN THE FEEDBACK LOOP CAUSES THE FILTER TO EMPHASIZE kfco(\"CORNER PEAKING\")\nalpf      tone      arez, kfco               ; 4 CASCADED 1st ORDER IIR LPF\nalpf      tone      alpf, kfco\nalpf      tone      alpf, kfco\naout      tone      alpf, kfco\n                                        \n          out       aout*iamp*kcorr*20       ; A MINIMUM EQUALISATION\n; 20 IS EMPYRICAL, YOU MAY HAVE TO REMOVE IT FOR OTHER SOUND SOURCES\n; BUT EVEN THUS THE AMPLITUDE OBVIOUSLY INCREASES WITH kfco.\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0  32769 10 1\ni1  0 10\ns\ni1 0 3 380\ni1 3 . 570\ni1 6 . 1067\ni1 9 . 2473\ni1 12 . 5062\ni1 15 . 7041\ns\nf1 0  32769 10 1\ni4 0 3 380\ni4 3 . 570\ni4 6 . 1067\ni4 9 . 2473\ni4 12 . 5062\ni4 15 . 7041\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for soundout gax0,$OUTFLNAME,6\t/* mono output file */ using drum sound and buzz/pulse generator and modal synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from drum_05_02.orc and drum_05_02.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  22050\nksmps\t=  2\nnchnls\t=  2\n\n\n/* mono output file name (file format: raw,1 channel,float) */\n\n#define OUTFLNAME # \"_tmp.dat\" #\n\n#include \"Effects.Header.orc\"\n#include \"Delays.include.orc\"\n#include \"Spatial_Stereo.include.orc\"\n\n/* spatializer macro */\n\n#define SPATMACRO # $SpatStereo #\n\n/* ------------------------------------------------------------------------- */\n\n$InitHQDelay\n\n\tseed 0\n\ngax0\tinit 0\n\n\tinstr 1\n\nimkey\t=  p4\t\t/* get note parameters from score file */\nimvel\t=  p5\n\nimkey\tlimit imkey,0,127\nimvel\tlimit imvel,0,127\n\nicps\t=  440.0*exp(log(2.0)*(imkey-69.0)/12.0)\niamp\t=  0.0039+imvel*imvel/16192\n\n/* ------------------------------------------------------------------------- */\n\nivol\ttable\t 0,\t64\t/* output volume\t\t\t*/\nibpm\ttable\t 1,\t64\t/* tempo\t\t\t\t*/\n\nifrqs1\ttable\t 2,\t64\t/* oscillator start freq. 1 / note frq.\t*/\nifrqd1\ttable\t 3,\t64\t/* osc. frq. 1 decay speed at max. vel.\t*/\nifrqdx1\ttable\t 4,\t64\t/* osc. freq. 1 max. decay speed\t*/\nifrqdxv\ttable\t 5,\t64\t/* note velocity for max. decay speed\t*/\nifrqs2\ttable\t 6,\t64\t/* oscillator start freq. 2 / note frq.\t*/\nifrqd2\ttable\t 7,\t64\t/* osc. freq. 2 decay speed\t\t*/\nifrqs3\ttable\t 8,\t64\t/* oscillator start freq. 3 / note frq.\t*/\nifrqd3\ttable\t 9,\t64\t/* osc. freq. 3 decay speed\t\t*/\nifrqs4\ttable\t10,\t64\t/* oscillator start freq. 4 / note frq.\t*/\nifrqd4\ttable\t11,\t64\t/* osc. freq. 4 decay speed\t\t*/\n\niffr1s\ttable\t12,\t64\t/* lowpass filter start freq. 1 (Hz)\t*/\niffr1d\ttable\t13,\t64\t/* lowpass filter freq. 1 decay speed\t*/\niffr2s\ttable\t14,\t64\t/* lowpass filter start freq. 2 (Hz)\t*/\niffr2d\ttable\t15,\t64\t/* lowpass filter freq. 2 decay speed\t*/\niffr3s\ttable\t16,\t64\t/* LP filter start freq. 3 / note frq.\t*/\niffr3d\ttable\t17,\t64\t/* lowpass filter freq. 3 decay speed\t*/\niffr4s\ttable\t18,\t64\t/* LP filter start freq. 4 / note frq.\t*/\niffr4d\ttable\t19,\t64\t/* lowpass filter freq. 4 decay speed\t*/\n\niEQ1fo\ttable\t20,\t64\t/* EQ 1 frequency / osc. frequency\t*/\niEQ1fn\ttable\t21,\t64\t/* EQ 1 frequency / note frequency\t*/\niEQ1fa\ttable\t22,\t64\t/* EQ 1 frequency (Hz)\t\t\t*/\niEQ1l\ttable\t23,\t64\t/* EQ 1 level\t\t\t\t*/\niEQ1q\ttable\t24,\t64\t/* EQ 1 Q\t\t\t\t*/\niEQ1m\ttable\t25,\t64\t/* EQ 1 mode (0:peak,1:low,2:high)\t*/\n\niEQ2fo\ttable\t26,\t64\t/* EQ 2 frequency / osc. frequency\t*/\niEQ2fn\ttable\t27,\t64\t/* EQ 2 frequency / note frequency\t*/\niEQ2fa\ttable\t28,\t64\t/* EQ 2 frequency (Hz)\t\t\t*/\niEQ2l\ttable\t29,\t64\t/* EQ 2 level\t\t\t\t*/\niEQ2q\ttable\t30,\t64\t/* EQ 2 Q\t\t\t\t*/\niEQ2m\ttable\t31,\t64\t/* EQ 2 mode (0:peak,1:low,2:high)\t*/\n\niEQ3fo\ttable\t32,\t64\t/* EQ 3 frequency / osc. frequency\t*/\niEQ3fn\ttable\t33,\t64\t/* EQ 3 frequency / note frequency\t*/\niEQ3fa\ttable\t34,\t64\t/* EQ 3 frequency (Hz)\t\t\t*/\niEQ3l\ttable\t35,\t64\t/* EQ 3 level\t\t\t\t*/\niEQ3q\ttable\t36,\t64\t/* EQ 3 Q\t\t\t\t*/\niEQ3m\ttable\t37,\t64\t/* EQ 3 mode (0:peak,1:low,2:high)\t*/\n\niEQ4fo\ttable\t38,\t64\t/* EQ 4 frequency / osc. frequency\t*/\niEQ4fn\ttable\t39,\t64\t/* EQ 4 frequency / note frequency\t*/\niEQ4fa\ttable\t40,\t64\t/* EQ 4 frequency (Hz)\t\t\t*/\niEQ4l\ttable\t41,\t64\t/* EQ 4 level\t\t\t\t*/\niEQ4q\ttable\t42,\t64\t/* EQ 4 Q\t\t\t\t*/\niEQ4m\ttable\t43,\t64\t/* EQ 4 mode (0:peak,1:low,2:high)\t*/\n\ninsmix\ttable\t44,\t64\t/* noise mix\t\t\t\t*/\n\niEQn1fo\ttable\t45,\t64\t/* noise EQ 1 frequency / osc. freq.\t*/\niEQn1fn\ttable\t46,\t64\t/* noise EQ 1 frequency / note freq.\t*/\niEQn1fa\ttable\t47,\t64\t/* noise EQ 1 frequency (Hz)\t\t*/\niEQn1l\ttable\t48,\t64\t/* noise EQ 1 level\t\t\t*/\niEQn1q\ttable\t49,\t64\t/* noise EQ 1 Q\t\t\t\t*/\niEQn1m\ttable\t50,\t64\t/* noise EQ 1 mode (0:peak,1:lo,2:hi)\t*/\n\niEQn2fo\ttable\t51,\t64\t/* noise EQ 2 frequency / osc. freq.\t*/\niEQn2fn\ttable\t52,\t64\t/* noise EQ 2 frequency / note freq.\t*/\niEQn2fa\ttable\t53,\t64\t/* noise EQ 2 frequency (Hz)\t\t*/\niEQn2l\ttable\t54,\t64\t/* noise EQ 2 level\t\t\t*/\niEQn2q\ttable\t55,\t64\t/* noise EQ 2 Q\t\t\t\t*/\niEQn2m\ttable\t56,\t64\t/* noise EQ 2 mode (0:peak,1:lo,2:hi)\t*/\n\nimkmin\ttable\t57,\t64\t/* MIDI key range for panning\t\t*/\nimkmax\ttable\t58,\t64\n\niazim0\ttable\t59,\t64\t/* azimuth range\t\t\t*/\niazim1\ttable\t60,\t64\nielev0\ttable\t61,\t64\t/* elevation range\t\t\t*/\nielev1\ttable\t62,\t64\nidist0\ttable\t63,\t64\t/* distance range\t\t\t*/\nidist1\ttable\t64,\t64\n\n/* ------------------------------------------------------------------------- */\n\np3\t=  p3+0.15\t/* increase note length */\n\nibtime\t=  60/ibpm\n\nkamp\tlinseg 1,p3-0.15,1,0.05,0,0.1,0\t\t/* amp. envelope */\nkamp\t=  kamp*iamp*ivol\n\ni_\tlimit (imvel-ifrqdxv),0,127\t/* calculate freq. 1 dec. speed */\ni_\t=  i_/(127-ifrqdxv)\nifrqd1\t=  ifrqdx1-i_*(ifrqdx1-ifrqd1)\n\nkfrq1\texpseg 1,ibtime/ifrqd1,0.5\t/* osc. frq. envelopes */\nkfrq2\texpseg 1,ibtime/ifrqd2,0.5\nkfrq3\texpseg 1,ibtime/ifrqd3,0.5\nkfrq4\texpseg 1,ibtime/ifrqd4,0.5\n\nkfrq1\t=  kfrq1*ifrqs1*icps\nkfrq2\t=  kfrq2*ifrqs2*icps\nkfrq3\t=  kfrq3*ifrqs3*icps\nkfrq4\t=  kfrq4*ifrqs4*icps\n\nkcps\t=  kfrq1+kfrq2+kfrq3+kfrq4\t/* kcps = osc. frequency */\n\nkmkey\t=  ((log(kcps/440.0)/log(2.0))*12.0)+69.0\nkmkey\tlimit kmkey,0,127\nknumh\t=  sr/(2*kcps)\t\t\t/* knumh = number of harmonics */\n\na_\tbuzz sr/(10*3.14159265), kcps, knumh, 1, 0\na__\tbuzz sr/(10*3.14159265), kcps, knumh, 1, 0.5\n\na0\ttone a_-a__, 10\n\na_\tunirand 2\t\t\t/* noise generator */\na_\t=  a_-1\n\na_\tpareq a_,iEQn1fa+icps*iEQn1fn+kcps*iEQn1fo,iEQn1l,iEQn1q,iEQn1m\na_\tpareq a_,iEQn2fa+icps*iEQn2fn+kcps*iEQn2fo,iEQn2l,iEQn2q,iEQn2m\n\na0\t=  a0+insmix*a_\n\n/* EQ */\n\na0\tpareq a0,iEQ1fa+icps*iEQ1fn+kcps*iEQ1fo,iEQ1l,iEQ1q,iEQ1m\na0\tpareq a0,iEQ2fa+icps*iEQ2fn+kcps*iEQ2fo,iEQ2l,iEQ2q,iEQ2m\na0\tpareq a0,iEQ3fa+icps*iEQ3fn+kcps*iEQ3fo,iEQ3l,iEQ3q,iEQ3m\na0\tpareq a0,iEQ4fa+icps*iEQ4fn+kcps*iEQ4fo,iEQ4l,iEQ4q,iEQ4m\n\nkffr1\texpseg 1,ibtime/iffr1d,0.5\t/* LP filter freq. envelopes */\nkffr2\texpseg 1,ibtime/iffr2d,0.5\nkffr3\texpseg 1,ibtime/iffr3d,0.5\nkffr4\texpseg 1,ibtime/iffr4d,0.5\n\nkffr1\t=  kffr1*iffr1s\nkffr2\t=  kffr2*iffr2s\nkffr3\t=  kffr3*iffr3s*icps\nkffr4\t=  kffr4*iffr4s*icps\n\nkffrq\t=  kffr1+kffr2+kffr3+kffr4\t/* kffrq = LP filter frequency */\n\na0\tbutterlp a0,kffrq\t\t/* LP filter */\n\na_\t=  a0*kamp\t\t\t/* apply envelope */\n\ngax0\t=  gax0+a_\t\t\t/* send to global output */\n\nispt1\tlimit imkey,imkmin,imkmax\t\t/* calculate azimuth, */\nispt1\t=  (ispt1-imkmin)/(imkmax-imkmin)\t/* elevation and distance */\n\ni_az_\t=  iazim0+(iazim1-iazim0)*ispt1\ni_el_\t=  ielev0+(ielev1-ielev0)*ispt1\ni_d_\t=  idist0+(idist1-idist0)*ispt1\n\n$SPATMACRO\n\n\touts a_L_,a_R_\t\t/* output spatialized sound */\n\n\tendin\n\n/* ------------------------------------------------------------------------- */\n\n\tinstr 90\n\n\tsoundout gax0,$OUTFLNAME,6\t/* mono output file */\ngax0\t=  0\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt 0 140.00\t/* tempo */\n\ni 90 0 34.0\t/* output instrument */\n\n#define Rhytm1(START#NOTE) #\n\ni 1\t[$START+0.0000]\t0.5\t$NOTE\t120\ni 1\t[$START+0.9890]\t0.5\t$NOTE\t112\ni 1\t[$START+1.9780]\t0.5\t$NOTE\t124\ni 1\t[$START+2.9780]\t0.5\t$NOTE\t112\n\ni 1\t[$START+4.0000]\t0.5\t$NOTE\t120\ni 1\t[$START+4.9890]\t0.5\t$NOTE\t112\ni 1\t[$START+5.9780]\t0.5\t$NOTE\t116\ni 1\t[$START+6.9780]\t0.5\t$NOTE\t120\ni 1\t[$START+7.5000]\t0.5\t$NOTE\t120\n\ni 1\t[$START+8.0000]\t0.5\t$NOTE\t120\ni 1\t[$START+8.9890]\t0.5\t$NOTE\t112\ni 1\t[$START+9.9780]\t0.5\t$NOTE\t124\ni 1\t[$START+10.978]\t0.5\t$NOTE\t112\n\ni 1\t[$START+12.000]\t0.5\t$NOTE\t120\ni 1\t[$START+12.989]\t0.5\t$NOTE\t112\ni 1\t[$START+13.978]\t0.5\t$NOTE\t116\ni 1\t[$START+14.978]\t0.5\t$NOTE\t112\n\n#\n\n$Rhytm1(0#33)\n$Rhytm1(16#33)\n\n/* ------------------------------------------------------------------------- */\n\nf 64 0 128 -2\t10000.0\t\t/* output volume\t\t\t*/\n\t\t140.0\t\t/* tempo\t\t\t\t*/\n\n\t\t4.3333\t\t/* oscillator start freq. 1 / note frq.\t*/\n\t\t8.0\t\t/* osc. frq. 1 decay speed at max. vel.\t*/\n\t\t16.0\t\t/* osc. freq. 1 max. decay speed\t*/\n\t\t96\t\t/* note velocity for max. decay speed\t*/\n\t\t1.0\t\t/* oscillator start freq. 2 / note frq.\t*/\n\t\t2.0\t\t/* osc. freq. 2 decay speed\t\t*/\n\t\t10.6667\t\t/* oscillator start freq. 3 / note frq.\t*/\n\t\t128.0\t\t/* osc. freq. 3 decay speed\t\t*/\n\t\t0.0\t\t/* oscillator start freq. 4 / note frq.\t*/\n\t\t1.0\t\t/* osc. freq. 4 decay speed\t\t*/\n\n\t\t0\t\t/* lowpass filter start freq. 1 (Hz)\t*/\n\t\t1\t\t/* lowpass filter freq. 1 decay speed\t*/\n\t\t0\t\t/* lowpass filter start freq. 2 (Hz)\t*/\n\t\t1\t\t/* lowpass filter freq. 2 decay speed\t*/\n\t\t48.0\t\t/* LP filter start freq. 3 / note frq.\t*/\n\t\t64.0\t\t/* lowpass filter freq. 3 decay speed\t*/\n\t\t16.0\t\t/* LP filter start freq. 4 / note frq.\t*/\n\t\t12.0\t\t/* lowpass filter freq. 4 decay speed\t*/\n\n\t\t0\t\t/* EQ 1 frequency / osc. frequency\t*/\n\t\t1.5\t\t/* EQ 1 frequency / note frequency\t*/\n\t\t0\t\t/* EQ 1 frequency (Hz)\t\t\t*/\n\t\t1.4142\t\t/* EQ 1 level\t\t\t\t*/\n\t\t1.4142\t\t/* EQ 1 Q\t\t\t\t*/\n\t\t0\t\t/* EQ 1 mode (0:peak,1:low,2:high)\t*/\n\n\t\t0\t\t/* EQ 2 frequency / osc. frequency\t*/\n\t\t4\t\t/* EQ 2 frequency / note frequency\t*/\n\t\t0\t\t/* EQ 2 frequency (Hz)\t\t\t*/\n\t\t0.25\t\t/* EQ 2 level\t\t\t\t*/\n\t\t1.0\t\t/* EQ 2 Q\t\t\t\t*/\n\t\t2\t\t/* EQ 2 mode (0:peak,1:low,2:high)\t*/\n\n\t\t0\t\t/* EQ 3 frequency / osc. frequency\t*/\n\t\t0\t\t/* EQ 3 frequency / note frequency\t*/\n\t\t1000\t\t/* EQ 3 frequency (Hz)\t\t\t*/\n\t\t1.0\t\t/* EQ 3 level\t\t\t\t*/\n\t\t0.7071\t\t/* EQ 3 Q\t\t\t\t*/\n\t\t0\t\t/* EQ 3 mode (0:peak,1:low,2:high)\t*/\n\n\t\t0\t\t/* EQ 4 frequency / osc. frequency\t*/\n\t\t0\t\t/* EQ 4 frequency / note frequency\t*/\n\t\t1000\t\t/* EQ 4 frequency (Hz)\t\t\t*/\n\t\t1.0\t\t/* EQ 4 level\t\t\t\t*/\n\t\t0.7071\t\t/* EQ 4 Q\t\t\t\t*/\n\t\t0\t\t/* EQ 4 mode (0:peak,1:low,2:high)\t*/\n\n\t\t1.0\t\t/* noise mix\t\t\t\t*/\n\n\t\t0\t\t/* noise EQ 1 frequency / osc. freq.\t*/\n\t\t0\t\t/* noise EQ 1 frequency / note freq.\t*/\n\t\t1000\t\t/* noise EQ 1 frequency (Hz)\t\t*/\n\t\t1.0\t\t/* noise EQ 1 level\t\t\t*/\n\t\t0.7071\t\t/* noise EQ 1 Q\t\t\t\t*/\n\t\t1\t\t/* noise EQ 1 mode (0:peak,1:lo,2:hi)\t*/\n\n\t\t0\t\t/* noise EQ 2 frequency / osc. freq.\t*/\n\t\t0\t\t/* noise EQ 2 frequency / note freq.\t*/\n\t\t1000\t\t/* noise EQ 2 frequency (Hz)\t\t*/\n\t\t1.0\t\t/* noise EQ 2 level\t\t\t*/\n\t\t0.7071\t\t/* noise EQ 2 Q\t\t\t\t*/\n\t\t0\t\t/* noise EQ 2 mode (0:peak,1:lo,2:hi)\t*/\n\n\t\t48\t55\t/* MIDI key range for panning\t\t*/\n\t\t0\t0\t/* azimuth range\t\t\t*/\n\t\t0\t0\t/* elevation range\t\t\t*/\n\t\t0.5\t0.5\t/* distance range\t\t\t*/\n\n/* ------------------------------------------------------------------------- */\n\nf 1 0 262144 10 1\n\ne\t/* end of score */\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kgoto     start01 using buzz/pulse generator and Butterworth lowpass filter and Butterworth highpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bd4004m.orc and bd4004m.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         44100\nksmps          =         1\nnchnls         =         1\n\n;------------------------- bd4004m.orc -----------------------\n\n\n/* CONVERT MIDI NOTE NUMBER TO FREQUENCY */\n\n#define        MIDI2CPS(xmidikey)\n# (440.0*exp(log(2.0)*(($xmidikey)-69.0)/12.0)) #\n\n/* CONVERT FREQUENCY TO MIDI NOTE NUMBER */\n\n#define        CPS2MIDI(xfreqcps)\n# (12.0*(log(($xfreqcps)/440.0)/log(2.0))+69.0) #\n\n/* CONVERT VELOCITY TO AMPLITUDE */\n\n#define        VELOC2AMP(xvelocity)\n# (0.0039+(($xvelocity)*($xvelocity))/16192.0) #\n\n/* CONVERT AMPLITUDE TO VELOCITY */\n\n#define        AMP2VELOC(xamplitude)\n# (sqrt((($xamplitude)-0.0039)*16192.0)) #\n\n               seed      0\n\n               instr     1\n\n               kgoto     start01\n\n/*-------------------------------------------------------- */\n\nivol           =         0.6            /* VOLUME                      */\nibpm           =         140.0          /* TEMPO                       */\nirel           =         0.1667         /* RELEASE TIME (SEC.)         */\nidel           =         0.02           /* DELAY TIME                  */\nimod0          =         0.0025         /* RANDOM MOD. OF DELAY (SEC.)      */\nimod1          =         0.005          /* RND. MOD. OF VELOCITY       */\n\nif01           =         5.3333         /* OSC. START FREQUENCY (REL.)      */\nifd1           =         14.0           /* FREQ. ENVELOPE DECAY SPEED  */\nibw01          =         0.5            /* OSC1 BP BANDWIDTH (REL.)    */\nihp1           =         0.0625         /* OSC1 HP FREQUENCY (REL.)    */\n\niapf1          =         1.0            /* OSC1 ALLP. FLT. START FREQ. (REL.)    */\niapf2          =         1.0            /* OSC1 ALLP. FLT. END FREQ.             */\niapdx          =         8              /* OSC1 ALLP. FLT. ENVELOPE SPEED        */\n\nifr3           =         8              /* OSC2 HP1 FREQ. / BASE FRQ.  */\nimx3           =         -5             /* OSC2 HP1 MIX                     */\nifr4           =         0.5            /* OSC2 OUTPUT HP F. / NOTE F.      */\nimx2           =         -0.4           /* OSC2 OUTPUT GAIN            */\nihp2           =         1.5            /* OUTPUT HP FRQ. / NOTE F.    */\nibw02          =         2.0            /* OUTPUT HP RESONANCE         */\n\nifr1           =         8              /* OUT. LP START F. 1 / NOTE F. */\nifdx1          =         8              /* OUT. LP FREQ. 1 ENV. SPEED  */\nifr2           =         8              /* OUT. LP START F. 2 / NOTE F. */\nifdx2          =         8              /* OUT. LP FREQ. 2 ENV. SPEED  */\n\nifxBP1         =         7040           /* NOISE BP START FRQ. (HZ)    */\nifxBP2         =         7040           /* NOISE BP END FREQUENCY           */\nibw1           =         2              /* NOISE BP BANDWIDTH/FREQ.    */\nifxLP1         =         3520           /* NOISE LP START FRQ. (HZ)    */\nifxLP2         =         55             /* NOISE LP END FREQUENCY           */\nifxd           =         12             /* NOISE FILTER ENVELOPE SPEED      */\niattn1         =         0.01           /* NOISE ATTACK TIME (SEC.)    */\nidecn1         =         3              /* NOISE DECAY SPEED                */\nimxn           =         0.6            /* NOISE MIX                   */\n     \n/* ------------------------------------------------------- */\n\ni001           =         1/65536\nimkey          =         p4                            /* NOTE NUMBER       */\nimvel          =         p5                            /* VELOCITY               */\nivel           =         $VELOC2AMP(imvel)             /* CONVERT VELOCITY  */\nim0            unirand   2\nim1            unirand   2\nivel           =         ivel*(1+(im1-1)*imod1)        /* RAND. VELOC. */\nidel           =         idel+((im0-1)*imod0)          /* RAND. DELAY  */\nibtime         =         60/ibpm                       /* BEAT TIME    */\ni002           =         exp(log(i001)*(idel+irel+16/kr)/irel)\nivol           =         ivel*ivol\n\nicps           =         $MIDI2CPS(imkey)              /* BASE FREQ.        */\nifmax          =         sr*0.48                       /* MAX. ALLOWED FREQ.     */\nihp2           =         ihp2*icps\nibw02x         =         ihp2/ibw02\nifxLP2         =         ifxLP2-ifxLP1\nifxBP2         =         ifxBP2-ifxBP1\niapf2          =         iapf2-iapf1\n\nixtime         =         (irel+idel+16/kr)\n\np3             =         p3+ixtime                     /* INCREASE NOTE LENGTH    */\n\nstart01:\n\nkenvn1         expseg    1,ibtime/idecn1,0.5           /* NOISE GENERATOR */\nkenvn2         linseg    0,iattn1,1,1,1\naenvn          interp    kenvn1*kenvn2\nkenvn3         expseg    1,ibtime/ifxd,0.5\nkenvn3         =         (1-kenvn3)\nkfxBPf         =         ifxBP1+(kenvn3*ifxBP2)\na1l            unirand   2\na1l            butterbp  imxn*32768*(a1l-1)*aenvn,kfxBPf,kfxBPf*ibw1\na1l            butterlp  a1l,ifxLP1+(ifxLP2*kenvn3)\n\n/* ENVELOPES */\n\nkamp1          expseg    1,p3-ixtime,1,ixtime,i002\nkfrq1          expseg    1,ibtime/ifd1,0.5\nkfrq           =         icps*(1+kfrq1*(if01-1))\nkapfr          expseg    1,ibtime/iapdx,0.5\nkapfr          =         kfrq*(iapf1+iapf2*(1-kapfr))\nkfrx1          expseg    1,ibtime/ifdx1,0.5\nkfrx2          expseg    1,ibtime/ifdx2,0.5\nkfrx           =         kfrq*(kfrx1*ifr1+kfrx2*ifr2)\nkfrx           =         (kfrx>ifmax ? ifmax : kfrx)\n\n/* KFRQ = OSC. FREQUENCY, KAPFR = ALLPASS FILTER FREQUENCY */\n/* KFRX = LP FILTER FREQUENCY                              */\n\n/* OSCILLATOR */\n\nknumh          =         sr/(2*kfrq)\na1             buzz      sr/(10*3.14159265), kfrq, knumh, 256, 0.25\na2             buzz      sr/(10*3.14159265), kfrq, knumh, 256, 0.75\na1             tone      (a1-a2)*16384, 10\na2             =         a1                                 /* A1 = A2 = OSC. SIGNAL   */\n\na1             butterhp  a1,kfrq*ihp1                       /* FILTERS */\na1             butterbp  a1,kfrq,kfrq*ibw01\na1x            tone      a1,kapfr\na1             =         2*a1x-a1\na3             butterhp  a2,kfrq*ifr3\na2             =         a2+a3*imx3\na2             butterhp  a2,kfrq*ifr4\na0x            =         a2*imx2+a1\natmp           butterbp  a0x*ibw02,ihp2,ibw02x\na0x            butterhp  a0x+atmp,ihp2\na0x            butterlp  a0x,kfrx\n\na0y            delay     (a0x+a1l)*ivol*kamp1,idel\n\n               out       a0y\n\n               endin\n\n</CsInstruments>\n<CsScore>\n;--------------------------- bd4004m.sco ---------------------\n\nt 0.00  140.000         /* TEMPO        */\n\n#define rhytm1(STIME) #\n\ni 1     [$STIME+0.0000]         0.4375  33      120\ni 1     [$STIME+0.9900]         0.4375  33      112\ni 1     [$STIME+1.9900]         0.4375  33      124\ni 1     [$STIME+2.9950]         0.4375  33      112\n\ni 1     [$STIME+4.0000]         0.4375  33      116\ni 1     [$STIME+4.9900]         0.4375  33      112\ni 1     [$STIME+5.9900]         0.4375  33      116\ni 1     [$STIME+6.9950]         0.4000  33      112\n\n#\n\n$rhytm1(0)\n$rhytm1(8)\n\ni 1     15.5    0.4     33      116\n\n/* ------------------------------------------------------- */\n\nf 256 0 262144 10 1\n\ne       /* END OF SCORE */\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and Butterworth lowpass filter and Butterworth highpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bd10_01.orc and bd10_01.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  22050\nksmps\t=  2\nnchnls\t=  1\n\n\n\tseed 0\n\n#define MIDI2CPS(xmidi) # (440.0*exp(log(2.0)*(($xmidi)-69.0)/12.0)) #\n#define CPS2MIDI(xcps)  # ((log(($xcps)/440.0)/log(2.0))*12.0+69.0) #\n\ngax0\tinit 0\n\n\tinstr 1\n\n/* ------------------------------------------------------------------------- */\n\nivol\ttable 0,64\t/* volume\t\t\t\t\t*/\nibpm\ttable 1,64\t/* tempo\t\t\t\t\t*/\n\nirel\ttable 2,64\t/* release time\t\t\t\t\t*/\n\nistrtf1\ttable 3,64\t/* start frequency 1\t\t\t\t*/\nifdec1\ttable 4,64\t/* freq. decay speed 1\t\t\t\t*/\nistrtf2\ttable 5,64\t/* start frequency 2\t\t\t\t*/\nifdec2\ttable 6,64\t/* freq. decay speed 2\t\t\t\t*/\n\ninsmix\ttable 7,64\t/* noise mix\t\t\t\t\t*/\n\niHP1f\ttable 8,64\t/* HP filter 1 frequency / osc. freq.\t\t*/\niBP1f\ttable 9,64\t/* BP filter 1 frequency / osc. freq.\t\t*/\niBP1b\ttable 10,64\t/* BP filter 1 bandwidth / osc. freq.\t\t*/\n\niHP2f\ttable 11,64\t/* HP filter 2 frequency / osc. freq.\t\t*/\niHP2m\ttable 12,64\t/* HP filter 2 mix\t\t\t\t*/\niHP3f\ttable 13,64\t/* HP filter 3 frequency / osc. freq.\t\t*/\niHP3m\ttable 14,64\t/* HP filter 3 mix\t\t\t\t*/\n\niHPxf\ttable 15,64\t/* output HP filter frequency / note frequency\t*/\niHPxr\ttable 16,64\t/* output HP filter resonance\t\t\t*/\n\niLPf1\ttable 17,64\t/* output LP filter frequency 1 / osc. freq.\t*/\niLPd1\ttable 18,64\t/* output LP filter frequency 1 decay speed\t*/\niLPf2\ttable 19,64\t/* output LP filter frequency 2 / osc. freq.\t*/\niLPd2\ttable 20,64\t/* output LP filter frequency 2 decay speed\t*/\n\niAM1s\ttable 21,64\t/* amp. envelope 1 start value\t\t\t*/\niAM1d\ttable 22,64\t/* amp. envelope 1 decay speed\t\t\t*/\niAM2s\ttable 23,64\t/* amp. envelope 2 start value\t\t\t*/\niAM2d\ttable 24,64\t/* amp. envelope 2 decay speed\t\t\t*/\n\n/* ------------------------------------------------------------------------- */\n\nibtime\t=  60/ibpm\n\np3\t=  p3+irel+0.05\n\nimkey\t=  p4\nimvel\t=  p5\n\nicps\t=  $MIDI2CPS(imkey)\niamp\t=  (0.0039+imvel*imvel/16192)*ivol\nkamp\tlinseg 1,p3-(irel+0.05),1,irel,0,0.05,0\n\nk_\tport 1,ibtime/ifdec1,istrtf1\t\t/* calculate base frequency */\nk__\tport 1,ibtime/ifdec2,istrtf2\nkcps\t=  icps*k_*k__\n\nknumh\t=  sr/(2*kcps)\t\t\t/* oscillator */\na1\tbuzz sr/(10*3.14159265), kcps, knumh, 256, 0\na2\tbuzz sr/(10*3.14159265), kcps, knumh, 256, 0.5\na1\ttone a1-a2, 10\na0\t=  a1\t\t\t\t\t/* a0 = osc. signal */\n\na_\tunirand 2\t\t\t\t/* noise generator */\na_\ttone a_-1,kcps\na0\t=  a0+a_*insmix\n\na1\t=  a0\t/* save osc. output */\n\na0\tbutterhp a0,iHP1f*kcps\t\t\t/* HP filter 1 */\n\na0\tbutterbp a0,iBP1f*kcps,iBP1b*kcps\t/* BP filter 1 */\n\na_\tbutterhp a1,iHP2f*kcps\t\t\t/* HP filter 2 and 3 */\na__\tbutterhp a1,iHP3f*kcps\na0\t=  a0+a_*iHP2m+a__*iHP3m\n\na0\tbutterhp a0,iHPxf*icps\t\t\t\t/* output HP filter */\na0\tpareq a0,iHPxf*icps,iHPxr*1.4142,iHPxr,0\n\nk_\tport 0,ibtime/iLPd1,iLPf1\t\t\t/* output LP filter */\nk__\tport 0,ibtime/iLPd2,iLPf2\na0\tbutterlp a0,kcps*(k_+k__)\n\nk_\texpseg 1,ibtime/iAM1d,0.5\t\t\t/* amp. envelopes */\nk__\texpseg 1,ibtime/iAM2d,0.5\nk_\t=  (1-k_)*(1-iAM1s)+iAM1s\nk__\t=  (1-k__)*(1-iAM2s)+iAM2s\na0\t=  a0*k_*k__\n\ngax0\t=  gax0+(a0*iamp*kamp)\n\n\tendin\n\n\tinstr 90\n\n/* ----------------------- compressor parameters --------------------------- */\n\niamp\ttable 25,64\t/* output volume\t\t\t\t*/\niclpl\ttable 26,64\t/* ouput clip level\t\t\t\t*/\nimxlvl\ttable 27,64\t/* threshold level\t\t\t\t*/\nicomp1\ttable 28,64\t/* compression ratio below thr. level\t\t*/\nicomp2\ttable 29,64\t/* compression ratio above thr. level\t\t*/\nidel1\ttable 30,64\t/* delay time in sec.\t\t\t\t*/\niatt\ttable 31,64\t/* envelope attack speed\t\t\t*/\nidec\ttable 32,64\t/* envelope decay speed\t\t\t\t*/\nifrq1\ttable 33,64\t/* lowpass filter freq.\t\t\t\t*/\n\n/* ------------------------------------------------------------------------- */\n\nicomp1\t=  icomp1-1\nicomp2\t=  icomp2-1\nklvl\tinit 0\n\na1\t=  gax0\nad1\tdelay a1,idel1\ngax0\t=  0\n\natmp\t=  abs(a1)\t\t\t\t/* klvl = signal level */\nktmp\tdownsamp atmp\natmp\ttone atmp,(ktmp>klvl ? iatt:idec)\natmp\tbutterlp atmp,ifrq1\nklvl\tdownsamp atmp\n\nktmp\t=  klvl/imxlvl\nktmp\t=  (ktmp<1 ? exp(log(ktmp)*icomp1):exp(log(ktmp)*icomp2))\n\na0\t=  (ad1*ktmp*iamp)\na0\tlimit a0,-iclpl,iclpl\na0\tbutterlp a0,(sr*0.48)\n\n\tout a0\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt 0 140.00\t/* tempo */\n\ni 90\t0.0000\t34.000\t\t/* output instrument */\n\n#define Rhytm1(xstrt) #\n\ni 1\t[$xstrt+0.0000]\t\t0.4500\t31\t120\ni 1\t[$xstrt+0.9900]\t\t0.4500\t31\t116\ni 1\t[$xstrt+1.9900]\t\t0.4500\t31\t127\ni 1\t[$xstrt+3.0000]\t\t0.4500\t31\t116\ni 1\t[$xstrt+4.0000]\t\t0.4500\t31\t120\ni 1\t[$xstrt+4.9900]\t\t0.4500\t31\t116\ni 1\t[$xstrt+5.9900]\t\t0.4500\t31\t118\ni 1\t[$xstrt+7.0000]\t\t0.4500\t31\t116\n\n#\n\n$Rhytm1(0)\n$Rhytm1(8)\n$Rhytm1(16)\n$Rhytm1(24)\n\n/* ------------------------------------------------------------------------- */\n\nf 64 0 64 -2\t0.7\t\t/* volume\t\t\t\t*/\n\t\t140\t\t/* tempo\t\t\t\t*/\n\n\t\t0.05\t\t/* release time\t\t\t\t*/\n\n\t\t5.3333\t\t/* start frequency 1\t\t\t*/\n\t\t16\t\t/* freq. decay speed 1\t\t\t*/\n\t\t0.5\t\t/* start frequency 2\t\t\t*/\n\t\t128\t\t/* freq. decay speed 2\t\t\t*/\n\n\t\t4.0\t\t/* noise mix\t\t\t\t*/\n\n\t\t0.25\t\t/* HP filter 1 frequency / osc. freq.\t*/\n\t\t1.0\t\t/* BP filter 1 frequency / osc. freq.\t*/\n\t\t1.0\t\t/* BP filter 1 bandwidth / osc. freq.\t*/\n\n\t\t2.0\t\t/* HP filter 2 frequency / osc. freq.\t*/\n\t\t0.7\t\t/* HP filter 2 mix\t\t\t*/\n\t\t8.0\t\t/* HP filter 3 frequency / osc. freq.\t*/\n\t\t-2.0\t\t/* HP filter 3 mix\t\t\t*/\n\n\t\t1.333\t\t/* output HP filter freq. / note freq.\t*/\n\t\t2.0\t\t/* output HP filter resonance\t\t*/\n\n\t\t12.0\t\t/* output LP filter frq. 1 / osc. freq.\t*/\n\t\t8\t\t/* output LP filter frq. 1 decay speed\t*/\n\t\t4.0\t\t/* output LP filter frq. 2 / osc. freq.\t*/\n\t\t8\t\t/* output LP filter frq. 2 decay speed\t*/\n\n\t\t16.0\t\t/* amp. envelope 1 start value\t\t*/\n\t\t256\t\t/* amp. envelope 1 decay speed\t\t*/\n\t\t0.25\t\t/* amp. envelope 2 start value\t\t*/\n\t\t4\t\t/* amp. envelope 2 decay speed\t\t*/\n\n/* ---- compressor parameters ---- */\n\n\t\t30000\t\t/* output volume\t\t\t*/\n\t\t30000\t\t/* output clip level\t\t\t*/\n\t\t1.0\t\t/* threshold level\t\t\t*/\n\t\t1.0\t\t/* compression ratio below thr. level\t*/\n\t\t0.0\t\t/* compression ratio above thr. level\t*/\n\t\t0.0002\t\t/* delay time\t\t\t\t*/\n\t\t5000\t\t/* envelope LP filter 1 freq. (attack)\t*/\n\t\t500\t\t/* envelope LP filter 1 freq. (decay)\t*/\n\t\t2000\t\t/* envelope LP filter 2 frequency (Hz)\t*/\n\n/* ------------------------------------------------------------------------- */\n\nf 256 0 262144 10 1\n\ne\t/* end of score */\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for soundout gax0,$OUTFLNAME,6\t/* mono output file */ using drum sound and buzz/pulse generator and modal synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from drum_05.orc and drum_05.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  22050\nksmps\t=  2\nnchnls\t=  2\n\n\n/* mono output file name (file format: raw,1 channel,float) */\n\n#define OUTFLNAME # \"_tmp.dat\" #\n\n#include \"Effects.Header.orc\"\n#include \"Delays.include.orc\"\n#include \"Spatial_Stereo.include.orc\"\n\n/* spatializer macro */\n\n#define SPATMACRO # $SpatStereo #\n\n/* ------------------------------------------------------------------------- */\n\n$InitHQDelay\n\n\tseed 0\n\ngax0\tinit 0\n\n\tinstr 1\n\nimkey\t=  p4\t\t/* get note parameters from score file */\nimvel\t=  p5\n\nimkey\tlimit imkey,0,127\nimvel\tlimit imvel,0,127\n\nicps\t=  440.0*exp(log(2.0)*(imkey-69.0)/12.0)\niamp\t=  0.0039+imvel*imvel/16192\n\n/* ------------------------------------------------------------------------- */\n\nivol\ttable\t 0,\t64\t/* output volume\t\t\t*/\nibpm\ttable\t 1,\t64\t/* tempo\t\t\t\t*/\n\nifrqs1\ttable\t 2,\t64\t/* oscillator start freq. 1 / note frq.\t*/\nifrqd1\ttable\t 3,\t64\t/* osc. frq. 1 decay speed at max. vel.\t*/\nifrqdx1\ttable\t 4,\t64\t/* osc. freq. 1 max. decay speed\t*/\nifrqdxv\ttable\t 5,\t64\t/* note velocity for max. decay speed\t*/\nifrqs2\ttable\t 6,\t64\t/* oscillator start freq. 2 / note frq.\t*/\nifrqd2\ttable\t 7,\t64\t/* osc. freq. 2 decay speed\t\t*/\nifrqs3\ttable\t 8,\t64\t/* oscillator start freq. 3 / note frq.\t*/\nifrqd3\ttable\t 9,\t64\t/* osc. freq. 3 decay speed\t\t*/\nifrqs4\ttable\t10,\t64\t/* oscillator start freq. 4 / note frq.\t*/\nifrqd4\ttable\t11,\t64\t/* osc. freq. 4 decay speed\t\t*/\n\niffr1s\ttable\t12,\t64\t/* lowpass filter start freq. 1 (Hz)\t*/\niffr1d\ttable\t13,\t64\t/* lowpass filter freq. 1 decay speed\t*/\niffr2s\ttable\t14,\t64\t/* lowpass filter start freq. 2 (Hz)\t*/\niffr2d\ttable\t15,\t64\t/* lowpass filter freq. 2 decay speed\t*/\niffr3s\ttable\t16,\t64\t/* LP filter start freq. 3 / note frq.\t*/\niffr3d\ttable\t17,\t64\t/* lowpass filter freq. 3 decay speed\t*/\niffr4s\ttable\t18,\t64\t/* LP filter start freq. 4 / note frq.\t*/\niffr4d\ttable\t19,\t64\t/* lowpass filter freq. 4 decay speed\t*/\n\niEQ1fo\ttable\t20,\t64\t/* EQ 1 frequency / osc. frequency\t*/\niEQ1fn\ttable\t21,\t64\t/* EQ 1 frequency / note frequency\t*/\niEQ1fa\ttable\t22,\t64\t/* EQ 1 frequency (Hz)\t\t\t*/\niEQ1l\ttable\t23,\t64\t/* EQ 1 level\t\t\t\t*/\niEQ1q\ttable\t24,\t64\t/* EQ 1 Q\t\t\t\t*/\niEQ1m\ttable\t25,\t64\t/* EQ 1 mode (0:peak,1:low,2:high)\t*/\n\niEQ2fo\ttable\t26,\t64\t/* EQ 2 frequency / osc. frequency\t*/\niEQ2fn\ttable\t27,\t64\t/* EQ 2 frequency / note frequency\t*/\niEQ2fa\ttable\t28,\t64\t/* EQ 2 frequency (Hz)\t\t\t*/\niEQ2l\ttable\t29,\t64\t/* EQ 2 level\t\t\t\t*/\niEQ2q\ttable\t30,\t64\t/* EQ 2 Q\t\t\t\t*/\niEQ2m\ttable\t31,\t64\t/* EQ 2 mode (0:peak,1:low,2:high)\t*/\n\niEQ3fo\ttable\t32,\t64\t/* EQ 3 frequency / osc. frequency\t*/\niEQ3fn\ttable\t33,\t64\t/* EQ 3 frequency / note frequency\t*/\niEQ3fa\ttable\t34,\t64\t/* EQ 3 frequency (Hz)\t\t\t*/\niEQ3l\ttable\t35,\t64\t/* EQ 3 level\t\t\t\t*/\niEQ3q\ttable\t36,\t64\t/* EQ 3 Q\t\t\t\t*/\niEQ3m\ttable\t37,\t64\t/* EQ 3 mode (0:peak,1:low,2:high)\t*/\n\niEQ4fo\ttable\t38,\t64\t/* EQ 4 frequency / osc. frequency\t*/\niEQ4fn\ttable\t39,\t64\t/* EQ 4 frequency / note frequency\t*/\niEQ4fa\ttable\t40,\t64\t/* EQ 4 frequency (Hz)\t\t\t*/\niEQ4l\ttable\t41,\t64\t/* EQ 4 level\t\t\t\t*/\niEQ4q\ttable\t42,\t64\t/* EQ 4 Q\t\t\t\t*/\niEQ4m\ttable\t43,\t64\t/* EQ 4 mode (0:peak,1:low,2:high)\t*/\n\ninsmix\ttable\t44,\t64\t/* noise mix\t\t\t\t*/\n\niEQn1fo\ttable\t45,\t64\t/* noise EQ 1 frequency / osc. freq.\t*/\niEQn1fn\ttable\t46,\t64\t/* noise EQ 1 frequency / note freq.\t*/\niEQn1fa\ttable\t47,\t64\t/* noise EQ 1 frequency (Hz)\t\t*/\niEQn1l\ttable\t48,\t64\t/* noise EQ 1 level\t\t\t*/\niEQn1q\ttable\t49,\t64\t/* noise EQ 1 Q\t\t\t\t*/\niEQn1m\ttable\t50,\t64\t/* noise EQ 1 mode (0:peak,1:lo,2:hi)\t*/\n\niEQn2fo\ttable\t51,\t64\t/* noise EQ 2 frequency / osc. freq.\t*/\niEQn2fn\ttable\t52,\t64\t/* noise EQ 2 frequency / note freq.\t*/\niEQn2fa\ttable\t53,\t64\t/* noise EQ 2 frequency (Hz)\t\t*/\niEQn2l\ttable\t54,\t64\t/* noise EQ 2 level\t\t\t*/\niEQn2q\ttable\t55,\t64\t/* noise EQ 2 Q\t\t\t\t*/\niEQn2m\ttable\t56,\t64\t/* noise EQ 2 mode (0:peak,1:lo,2:hi)\t*/\n\nimkmin\ttable\t57,\t64\t/* MIDI key range for panning\t\t*/\nimkmax\ttable\t58,\t64\n\niazim0\ttable\t59,\t64\t/* azimuth range\t\t\t*/\niazim1\ttable\t60,\t64\nielev0\ttable\t61,\t64\t/* elevation range\t\t\t*/\nielev1\ttable\t62,\t64\nidist0\ttable\t63,\t64\t/* distance range\t\t\t*/\nidist1\ttable\t64,\t64\n\n/* ------------------------------------------------------------------------- */\n\np3\t=  p3+0.15\t/* increase note length */\n\nibtime\t=  60/ibpm\n\nkamp\tlinseg 1,p3-0.15,1,0.05,0,0.1,0\t\t/* amp. envelope */\nkamp\t=  kamp*iamp*ivol\n\ni_\tlimit (imvel-ifrqdxv),0,127\t/* calculate freq. 1 dec. speed */\ni_\t=  i_/(127-ifrqdxv)\nifrqd1\t=  ifrqdx1-i_*(ifrqdx1-ifrqd1)\n\nkfrq1\texpseg 1,ibtime/ifrqd1,0.5\t/* osc. frq. envelopes */\nkfrq2\texpseg 1,ibtime/ifrqd2,0.5\nkfrq3\texpseg 1,ibtime/ifrqd3,0.5\nkfrq4\texpseg 1,ibtime/ifrqd4,0.5\n\nkfrq1\t=  kfrq1*ifrqs1*icps\nkfrq2\t=  kfrq2*ifrqs2*icps\nkfrq3\t=  kfrq3*ifrqs3*icps\nkfrq4\t=  kfrq4*ifrqs4*icps\n\nkcps\t=  kfrq1+kfrq2+kfrq3+kfrq4\t/* kcps = osc. frequency */\n\nkmkey\t=  ((log(kcps/440.0)/log(2.0))*12.0)+69.0\nkmkey\tlimit kmkey,0,127\nknumh\t=  sr/(2*kcps)\t\t\t/* knumh = number of harmonics */\n\na_\tbuzz sr/(10*3.14159265), kcps, knumh, 1, 0\na__\tbuzz sr/(10*3.14159265), kcps, knumh, 1, 0.5\n\na0\ttone a_-a__, 10\n\na_\tunirand 2\t\t\t/* noise generator */\na_\t=  a_-1\n\na_\tpareq a_,iEQn1fa+icps*iEQn1fn+kcps*iEQn1fo,iEQn1l,iEQn1q,iEQn1m\na_\tpareq a_,iEQn2fa+icps*iEQn2fn+kcps*iEQn2fo,iEQn2l,iEQn2q,iEQn2m\n\na0\t=  a0+insmix*a_\n\n/* EQ */\n\na0\tpareq a0,iEQ1fa+icps*iEQ1fn+kcps*iEQ1fo,iEQ1l,iEQ1q,iEQ1m\na0\tpareq a0,iEQ2fa+icps*iEQ2fn+kcps*iEQ2fo,iEQ2l,iEQ2q,iEQ2m\na0\tpareq a0,iEQ3fa+icps*iEQ3fn+kcps*iEQ3fo,iEQ3l,iEQ3q,iEQ3m\na0\tpareq a0,iEQ4fa+icps*iEQ4fn+kcps*iEQ4fo,iEQ4l,iEQ4q,iEQ4m\n\nkffr1\texpseg 1,ibtime/iffr1d,0.5\t/* LP filter freq. envelopes */\nkffr2\texpseg 1,ibtime/iffr2d,0.5\nkffr3\texpseg 1,ibtime/iffr3d,0.5\nkffr4\texpseg 1,ibtime/iffr4d,0.5\n\nkffr1\t=  kffr1*iffr1s\nkffr2\t=  kffr2*iffr2s\nkffr3\t=  kffr3*iffr3s*icps\nkffr4\t=  kffr4*iffr4s*icps\n\nkffrq\t=  kffr1+kffr2+kffr3+kffr4\t/* kffrq = LP filter frequency */\n\na0\tbutterlp a0,kffrq\t\t/* LP filter */\n\na_\t=  a0*kamp\t\t\t/* apply envelope */\n\ngax0\t=  gax0+a_\t\t\t/* send to global output */\n\nispt1\tlimit imkey,imkmin,imkmax\t\t/* calculate azimuth, */\nispt1\t=  (ispt1-imkmin)/(imkmax-imkmin)\t/* elevation and distance */\n\ni_az_\t=  iazim0+(iazim1-iazim0)*ispt1\ni_el_\t=  ielev0+(ielev1-ielev0)*ispt1\ni_d_\t=  idist0+(idist1-idist0)*ispt1\n\n$SPATMACRO\n\n\touts a_L_,a_R_\t\t/* output spatialized sound */\n\n\tendin\n\n/* ------------------------------------------------------------------------- */\n\n\tinstr 90\n\n\tsoundout gax0,$OUTFLNAME,6\t/* mono output file */\ngax0\t=  0\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt 0 140.00\t/* tempo */\n\ni 90 0 8.0\t/* output instrument */\n\ni 1\t0.0000\t0.5000\t56\t127\ni 1\t0.5000\t0.5000\t56\t127\ni 1\t1.0000\t0.5000\t56\t127\ni 1\t1.5000\t0.5000\t56\t127\ni 1\t2.0000\t0.2500\t49\t127\ni 1\t2.2500\t0.5000\t49\t127\ni 1\t2.7500\t0.5000\t49\t127\ni 1\t3.2500\t0.2500\t49\t127\ni 1\t3.5000\t0.2500\t44\t127\ni 1\t3.7500\t0.7500\t44\t127\n\n/* ------------------------------------------------------------------------- */\n\nf 64 0 64 -2\t3500.0\t\t/* output volume\t\t\t*/\n\t\t140.0\t\t/* tempo\t\t\t\t*/\n\n\t\t1.0\t\t/* oscillator start freq. 1 / note frq.\t*/\n\t\t42.0\t\t/* osc. frq. 1 decay speed at max. vel.\t*/\n\t\t36.0\t\t/* osc. freq. 1 max. decay speed\t*/\n\t\t96\t\t/* note velocity for max. decay speed\t*/\n\t\t1.0\t\t/* oscillator start freq. 2 / note frq.\t*/\n\t\t0.0001\t\t/* osc. freq. 2 decay speed\t\t*/\n\t\t0.0\t\t/* oscillator start freq. 3 / note frq.\t*/\n\t\t1.0\t\t/* osc. freq. 3 decay speed\t\t*/\n\t\t0.0\t\t/* oscillator start freq. 4 / note frq.\t*/\n\t\t1.0\t\t/* osc. freq. 4 decay speed\t\t*/\n\n\t\t16000\t\t/* lowpass filter start freq. 1 (Hz)\t*/\n\t\t42\t\t/* lowpass filter freq. 1 decay speed\t*/\n\t\t0\t\t/* lowpass filter start freq. 2 (Hz)\t*/\n\t\t1\t\t/* lowpass filter freq. 2 decay speed\t*/\n\t\t4\t\t/* LP filter start freq. 3 / note frq.\t*/\n\t\t16.8\t\t/* lowpass filter freq. 3 decay speed\t*/\n\t\t0\t\t/* LP filter start freq. 4 / note frq.\t*/\n\t\t1\t\t/* lowpass filter freq. 4 decay speed\t*/\n\n\t\t4\t\t/* EQ 1 frequency / osc. frequency\t*/\n\t\t0\t\t/* EQ 1 frequency / note frequency\t*/\n\t\t0\t\t/* EQ 1 frequency (Hz)\t\t\t*/\n\t\t2\t\t/* EQ 1 level\t\t\t\t*/\n\t\t0.7071\t\t/* EQ 1 Q\t\t\t\t*/\n\t\t2\t\t/* EQ 1 mode (0:peak,1:low,2:high)\t*/\n\n\t\t0.5\t\t/* EQ 2 frequency / osc. frequency\t*/\n\t\t0\t\t/* EQ 2 frequency / note frequency\t*/\n\t\t0\t\t/* EQ 2 frequency (Hz)\t\t\t*/\n\t\t0.25\t\t/* EQ 2 level\t\t\t\t*/\n\t\t0.7071\t\t/* EQ 2 Q\t\t\t\t*/\n\t\t1\t\t/* EQ 2 mode (0:peak,1:low,2:high)\t*/\n\n\t\t0.5\t\t/* EQ 3 frequency / osc. frequency\t*/\n\t\t0\t\t/* EQ 3 frequency / note frequency\t*/\n\t\t0\t\t/* EQ 3 frequency (Hz)\t\t\t*/\n\t\t4\t\t/* EQ 3 level\t\t\t\t*/\n\t\t2.0\t\t/* EQ 3 Q\t\t\t\t*/\n\t\t0\t\t/* EQ 3 mode (0:peak,1:low,2:high)\t*/\n\n\t\t0\t\t/* EQ 4 frequency / osc. frequency\t*/\n\t\t1.0\t\t/* EQ 4 frequency / note frequency\t*/\n\t\t0\t\t/* EQ 4 frequency (Hz)\t\t\t*/\n\t\t1.4142\t\t/* EQ 4 level\t\t\t\t*/\n\t\t1.4142\t\t/* EQ 4 Q\t\t\t\t*/\n\t\t0\t\t/* EQ 4 mode (0:peak,1:low,2:high)\t*/\n\n\t\t4.0\t\t/* noise mix\t\t\t\t*/\n\n\t\t0\t\t/* noise EQ 1 frequency / osc. freq.\t*/\n\t\t1\t\t/* noise EQ 1 frequency / note freq.\t*/\n\t\t0\t\t/* noise EQ 1 frequency (Hz)\t\t*/\n\t\t0.25\t\t/* noise EQ 1 level\t\t\t*/\n\t\t0.7071\t\t/* noise EQ 1 Q\t\t\t\t*/\n\t\t1\t\t/* noise EQ 1 mode (0:peak,1:lo,2:hi)\t*/\n\n\t\t0\t\t/* noise EQ 2 frequency / osc. freq.\t*/\n\t\t4\t\t/* noise EQ 2 frequency / note freq.\t*/\n\t\t0\t\t/* noise EQ 2 frequency (Hz)\t\t*/\n\t\t0.125\t\t/* noise EQ 2 level\t\t\t*/\n\t\t0.7071\t\t/* noise EQ 2 Q\t\t\t\t*/\n\t\t2\t\t/* noise EQ 2 mode (0:peak,1:lo,2:hi)\t*/\n\n\t\t44\t56\t/* MIDI key range for panning\t\t*/\n\t\t-90\t-270\t/* azimuth range\t\t\t*/\n\t\t0\t0\t/* elevation range\t\t\t*/\n\t\t1\t1\t/* distance range\t\t\t*/\n\n/* ------------------------------------------------------------------------- */\n\nf 1 0 262144 10 1\n\ne\t/* end of score */\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =     p3 using reverb effect and buzz/pulse generator and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from reverb.orc and reverb.sco\n; Original files preserved in same directory\n\nsr        =    44100\nkr        =    22050\nksmps     =    2\nnchnls    =    2\n\n; CSOUND SYSTEM FOR IMPLEMENTING REVERBS BASED ON NESTED ALL-PASS FILTERS\n; SIMILAR TO THOSE USED BY WILLIAM GARDNER (MIT)\n; CODED BY HANS MIKELSON 12/2/97\n;\n; 1. NOISE CLICK\n; 2. DISK INPUT\n; 8. SIMPLE SUM\n; 9. FEEDBACK FILTER\n;10. DELAY\n;11. SIMPLE ALL-PASS FILTER\n;12. NESTED ALL-PASS FILTER\n;13. DOUBLE NESTED ALL-PASS FILTER\n;15. OUTPUT \n\nzakinit   30,30\n\n;----------------------------------------------------------------------------------\n; NOISE CLICK FOR TESTING THE DECAY CURVE OF THE REVERB.\n          instr  1\n\nidur      =     p3\niamp      =     p4\nioutch    =     p5\nifco      =     p6\n\nkamp      linseg    0, .002, iamp, .002, 0, idur-.004, 0\naout      rand      kamp\n\nafilt     butterlp  aout, ifco\n          zaw       afilt, ioutch\n;         outs      aout, aout\n\n          endin\n\n;----------------------------------------------------------------------------------\n; DISK INPUT\n       instr  2\n\niamp      =         p4\nirate     =         p5\nisndin    =         p6\nioutch    =         p7\nifco      =         p8\n\nain       diskin    isndin, irate\n; afilt   butterlp  ain, ifco\n;         zaw       afilt*iamp, ioutch\n          zaw       ain*iamp, ioutch\n          outs      ain*iamp, ain*iamp\n\n          endin\n\n;----------------------------------------------------------------------------------\n; BAND-LIMITED IMPULSE\n       instr  3\n\niamp      =         p4\nifqc      =         cpspch(p5)\nioutch    =         p6\n\napulse    buzz      1,ifqc, sr/2/ifqc, 1 \t\t\t; AVOID ALIASING\n\n          zaw       apulse*iamp, ioutch\n          outs      apulse*iamp, apulse*iamp\n\n          endin\n\n       \n;----------------------------------------------------------------------------------\n; SIMPLE SUM--ADD 2 CHANNELS TOGETHER AND OUTPUT TO A THIRD CHANNEL.\n          instr  8\n\nidur      =         p3\niinch1    =         p4\niinch2    =         p5\nioutch    =         p6\n\nain1      zar       iinch1\nain2      zar       iinch2\n          zaw       ain1+ain2, ioutch\n\n          endin\n\n;----------------------------------------------------------------------------------\n; FEEDBACK FILTER\n          instr  9\n\nidur      =         p3\nifco      =         p4\nigain     =         p5\niinch1    =         p6\niinch2    =         p7\nioutch    =         p8\n\nain1      zar       iinch1\nain2      zar       iinch2                   \t; READ IN TWO CHANNELS\n\nafilt     butterbp  ain2, ifco, ifco/2       \t; BANDPASS FILTER ONE CHANNEL\n          zaw       ain1+igain*afilt, ioutch \t; ADJUST FILTER LEVEL ADD & OUTPUT\n\n       endin\n\n;----------------------------------------------------------------------------------\n; DELAY  -- SIMPLE DELAY\n          instr  10\n\nidur      =         p3\nidtime    =         p4/1000\nigain     =         p5\niinch     =         p6\nioutch    =         p7\n\nain       zar       iinch               ; READ THE CHANNEL\naout      delay     ain, idtime         ; DELAY FOR TIME\n          zaw       aout, ioutch        ; OUTPUT THE CHANNEL\n     \n          endin\n\n\n;----------------------------------------------------------------------------------\n; SIMPLE ALL-PASS FILTER\n          instr  11\n\nidur      =         p3\nitime     =         p4/1000\nigain     =         p5\niinch     =         p6\nioutch    =         p7\nadel1     init      0\n\nain       zar       iinch\n\naout      =         adel1-igain*ain               ; FEED FORWARD\nadel1     delay     ain+igain*aout, itime         ; DELAY AND FEEDBACK\n\n          zaw       aout, ioutch\n\n          endin\n\n;----------------------------------------------------------------------------------\n; SINGLE NESTED ALL-PASS FILTER\n          instr  12\n\nidur      =         p3\nitime1    =         p4/1000-p6/1000\nigain1    =         p5\nitime2    =         p6/1000\nigain2    =         p7\niinch     =         p8\nioutch    =         p9\nadel1     init      0\nadel2     init      0\n\nain       zar       iinch\n\nasum      =         adel2 - igain2*adel1          \t; FEED FORWARD (INNER ALL-PASS)\naout      =         asum - igain1*ain             \t; FEED FORWARD (OUTER ALL-PASS)\n\nadel1     delay     ain  + igain1*aout, itime1    \t; FEEDBACK (OUTER ALL-PASS)\nadel2     delay     adel1 + igain2*asum, itime2   \t; FEEDBACK (INNER ALL-PASS)\n\n          zaw       aout, ioutch\n\n          endin\n\n;----------------------------------------------------------------------------------\n; DOUBLE NESTED ALL-PASS FILTER (1 OUTER WITH 2 INNER IN SERIES)\n          instr  13\n\nidur      =         p3\nitime1    =         p4/1000-p6/1000-p8/1000\nigain1    =         p5\nitime2    =         p6/1000\nigain2    =         p7\nitime3    =         p8/1000\nigain3    =         p9\niinch     =         p10\nioutch    =         p11\nadel1     init      0\nadel2     init      0\nadel3     init      0\n\nain       zar       iinch\n\nasum1     =         adel2 - igain2*adel1               ; FIRST  INNER FEED FORWARD\nasum2     =         adel3 - igain3*asum1               ; SECOND INNER FEED FORWARD\naout      =         asum2 - igain1*ain                 ; OUTER  FEED FORWARD\n\nadel1     delay     ain  + igain1*aout, itime1         ; OUTER FEEDBACK\nadel2     delay     adel1 + igain2*asum1, itime2       ; FIRST INNER FEEDBACK\nadel3     delay     asum1 + igain3*asum2, itime3       ; SECOND INNER FEEDBACK\n\n       zaw    aout, ioutch\n\n       endin\n\n\n;----------------------------------------------------------------------------------\n; OUTPUT FOR REVERB\n          instr  15\n\nidur      =         p3\nigain     =         p4\niinch     =         p5\n\nkdclik    linseg    0, .002, igain, idur-.004, igain, .002, 0\n\nain       zar       iinch\n          outs      ain*kdclik, -ain*kdclik            ; INVERTING ONE SIDE MAKES THE SOUND\n          endin                                        ; SEEM TO COME FROM ALL AROUND YOU.\n                                                       ; THIS MAY CAUSE SOME PROBLEMS WITH CERTAIN\n                                                       ; SURROUND SOUND SYSTEMS.\n\n</CsInstruments>\n<CsScore>\n; 1. NOISE CLICK\n; 2. DISK INPUT\n; 8. SIMPLE SUM\n; 9. FEEDBACK FILTER\n;10. DELAY\n;11. SIMPLE ALL-PASS FILTER\n;12. NESTED ALL-PASS FILTER\n;13. DOUBLE NESTED ALL-PASS FILTER\n;15. OUTPUT \n\n;-------------------------------------------------------------------------------\n; NO REVERB\n;-------------------------------------------------------------------------------\n;   Sta  \tDur  \tAmp  \tPitch\t \tSoundIn\t\tOutCh\ni2  0.0  \t4.0  \t0.8  \t1\t \t\t11\t\t\t1\n\n;-------------------------------------------------------------------------------\n; SMALL ROOM\n;-------------------------------------------------------------------------------\n;   Sta  \tDur  \tAmp  \tPitch\t \tSoundIn\t\tOutCh\ni2  4.5  \t4.0  \t0.8  \t1\t \t\t11\t\t\t1\n\n;   Sta  \tDur  \tFco  \tGain\t\t\tInCh1  \t\tInCh2  \tOutCh\ni9  4.5  \t4.5  \t4200 \t.3\t\t\t1\t  \t\t5\t    \t2\n\n;   Sta  \tDur  \tTime\t\tGain\t \t\tInCh  \t\tOutCh\ni10 4.5  \t4.5  \t24\t\t1.0\t \t\t2\t  \t\t3\n\n;   Sta  \tDur  \tTime1\tGain1  \t\tTime2\t\tGain2  \tTime3  Gain3\t InCh  OutCh\ni13 4.5  4.5  \t\t35\t \t.15\t   \t\t22\t\t\t.25\t  \t8.3    .30\t 3\t  4\n\n;   Sta  \tDur  \tGain\t \tInCh\ni15 4.5  \t4.5  \t.5\t \t4\n\n;   Sta  \tDur  \tTime1\tGain1  \t\tTime2\t\tGain2  \tInCh   OutCh\ni12 4.5  \t4.5  \t66\t \t.08\t   \t\t30\t\t\t.3\t  \t4\t  5\n\n;   Sta  \tDur  \tGain\t \tInCh\ni15 4.5  \t4.5  \t.5\t \t5\n\n;-------------------------------------------------------------------------------\n; MEDIUM ROOM\n;-------------------------------------------------------------------------------\n;   Sta  \tDur  \tAmp  \tPitch\t \tSoundIn\t\tOutCh\ni2  9.0  \t4.0  \t0.7  \t1\t \t\t11\t\t\t1\n\n;   Sta  \tDur  \tFco  \tGain\t\t\tInCh1  \t\tInCh2  \tOutCh\ni9  9.0  \t4.5  \t2500 \t.4\t\t\t1\t  \t\t10\t    \t2\n\n;   Sta  \tDur  \tTime1\tGain1  \t\tTime2\t\tGain2  \tTime3  Gain3\t InCh  OutCh\ni13 9.0  \t4.5  \t35\t \t.25\t   \t\t8.3\t\t\t.35\t  \t22\t  .45\t 2\t  3\n\n;   Sta  \tDur  \tGain\t \tInCh\ni15 9.0  \t4.5  \t.4\t \t3\n\n;   Sta  \tDur  \tTime\t\tGain\t \t\tInCh  \t\tOutCh\ni10 9.0  \t4.5  \t5\t\t1.0\t \t\t3\t  \t\t4\n\n;   Sta  \tDur  \tTime1\tGain1  \t\tInCh  \t\tOutCh\ni11 9.0  \t4.5  \t30\t \t.45\t   \t\t4\t    \t\t5\n\n;   Sta  \tDur  \tTime\t\tGain\t \t\tInCh  \t\tOutCh\ni10 9.0  \t4.5  \t67\t\t1.0\t \t\t5\t  \t\t6\n\n;   Sta  \tDur  \tGain\t \tInCh\ni15 9.0  \t4.5  \t.4\t \t6\n\t\n;   Sta  \tDur  \tTime\t\tGain\t \t\tInCh  \t\tOutCh\ni10 9.0  \t4.5  \t15\t\t.4\t \t\t6\t  \t\t7\n\n;   Sta  \tDur  \tInCh1\tInCh2  \t\tOutCh\ni8  9.0  \t4.5  \t1\t \t7\t   \t\t8\n\n;   Sta  \tDur  \tTime1\tGain1  \t\tTime2\t\tGain2  \tInCh  OutCh\ni12 9.0  \t4.5  \t39\t \t.25\t   \t\t9.8\t\t\t.35\t  \t8\t 9\n\n;   Sta  \tDur  \tGain\t \tInCh\ni15 9.0  \t4.5  \t.4\t \t9\n\n;   Sta  \tDur  \tTime\t\tGain\t \t\tInCh  \t\tOutCh\ni10 9.0  \t4.5  \t108\t\t1.0\t \t\t9\t  \t\t10\n\n;-------------------------------------------------------------------------------\n; LARGE ROOM\n;-------------------------------------------------------------------------------\n;   Sta  \tDur  \tAmp  \tPitch\t \tSoundIn\t\tOutCh\ni2  14   \t4.0  \t0.5  \t1\t \t\t11\t\t\t1\n\n;   Sta  \tDur  \tFco  \tGain\t\t\tInCh1  \t\tInCh2  \tOutCh\ni9  14   \t4.5  \t2600 \t.4\t\t\t1\t  \t\t10\t    \t2\n\n;   Sta  \tDur  \tTime1\tGain1  \t\tInCh  \tOutCh\ni11 14   \t4.5  \t8\t \t.3\t   \t\t2\t    \t3\n\n;   Sta  \tDur  \tTime1\tGain1  \t\tInCh  \tOutCh\ni11 14   \t4.5  \t12\t \t.3\t   \t\t3\t    \t4\n\n;   Sta  \tDur  \tTime\t\tGain\t \t\tInCh  \tOutCh\ni10 14   \t4.5  \t4\t\t1.0\t \t\t4\t  \t5\n\n;   Sta  \tDur  \tGain\t \tInCh\ni15 14   \t4.5  \t1.36\t \t5\n\t\n;   Sta  \tDur  \tTime\t\tGain\t \t\tInCh  \tOutCh\ni10 14   \t4.5  \t17\t\t1.0\t \t\t5\t  \t6\n\n;   Sta  \tDur  \tTime1\tGain1  \t\tTime2\tGain2  InCh  \tOutCh\ni12 14   \t4.5  \t87\t \t.5\t   \t\t62\t\t.25\t  6\t   \t7\n\n;   Sta  \tDur  \tTime\t\tGain\t \t\tInCh  \tOutCh\ni10 14   \t4.5  \t31\t\t1.0\t \t\t7\t  \t8\n\n;   Sta  \tDur  \tGain\t \tInCh\ni15 14   \t4.5  \t.56\t \t8\n\n;   Sta  \tDur  \tTime\t\tGain\t \t\tInCh  \tOutCh\ni10 14   \t4.5  \t3\t\t1.0\t \t\t8\t  \t9\n\n;   Sta \tDur  \tTime1\tGain1  \t\tTime2\tGain2  Time3  \tGain3\t InCh  \tOutCh\ni13 14   \t4.5  \t120\t \t.5\t   \t\t76\t\t.25\t  30\t    \t.25\t \t 9\t  \t10\n\n;   Sta  \tDur  \tGain\t \tInCh\ni15 14   \t4.5  \t.56\t \t10\n\n\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kgoto start01 using buzz/pulse generator and Butterworth lowpass filter and Butterworth highpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bd4004m_03.orc and bd4004m_03.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  44100\nksmps\t=  1\nnchnls\t=  1\n\n\n/* convert MIDI note number to frequency */\n\n#define MIDI2CPS(xmidikey) # (440.0*exp(log(2.0)*(($xmidikey)-69.0)/12.0)) #\n\n/* convert frequency to MIDI note number */\n\n#define CPS2MIDI(xfreqcps) # (12.0*(log(($xfreqcps)/440.0)/log(2.0))+69.0) #\n\n/* convert velocity to amplitude */\n\n#define VELOC2AMP(xvelocity) # (0.0039+(($xvelocity)*($xvelocity))/16192.0) #\n\n/* convert amplitude to velocity */\n\n#define AMP2VELOC(xamplitude) # (sqrt((($xamplitude)-0.0039)*16192.0)) #\n\n\tseed 0\n\n\tinstr 1\n\n\tkgoto start01\n\n/*-------------------------------------------------------------------------- */\n\nivol\ttable 0,64\t/* volume\t\t\t\t\t*/\nibpm\ttable 1,64\t/* tempo\t\t\t\t\t*/\nirel\ttable 2,64\t/* release time (sec.)\t\t\t\t*/\nidel\ttable 3,64\t/* delay time\t\t\t\t\t*/\nimod0\ttable 4,64\t/* random mod. of delay (sec.)\t\t\t*/\nimod1\ttable 5,64\t/* rnd. mod. of velocity\t\t\t*/\nif01\ttable 6,64\t/* oscillator start frequency (rel.)\t\t*/\nifd1\ttable 7,64\t/* frequency envelope decay speed\t\t*/\nibw01\ttable 8,64\t/* OSC1 BP bandwidth (rel.)\t\t\t*/\nihp1\ttable 9,64\t/* OSC1 HP frequency (rel.)\t\t\t*/\niapf1\ttable 10,64\t/* OSC1 allpass filter start freq. (rel.)\t*/\niapf2\ttable 11,64\t/* OSC1 allpass filter end freq.\t\t*/\niapdx\ttable 12,64\t/* OSC1 allpass filter envelope speed\t\t*/\nifr3\ttable 13,64\t/* OSC2 HP1 frequency / base frq.\t\t*/\nimx3\ttable 14,64\t/* OSC2 HP1 mix\t\t\t\t\t*/\nifr4\ttable 15,64\t/* OSC2 output HP frq. / base freq.\t\t*/\nimx2\ttable 16,64\t/* OSC2 output gain\t\t\t\t*/\nihp2\ttable 17,64\t/* output HP (OSC1+OSC2) frq. (rel. to note f.)\t*/\nibw02\ttable 18,64\t/* output HP resonance\t\t\t\t*/\nifr1\ttable 19,64\t/* output LP start freq. 1 (rel.)\t\t*/\nifdx1\ttable 20,64\t/* output LP freq. 1 envelope decay speed\t*/\nifr2\ttable 21,64\t/* output LP start freq. 2\t\t\t*/\nifdx2\ttable 22,64\t/* output LP freq. 2 envelope decay speed\t*/\nifxBP1\ttable 23,64\t/* noise BP start frequency (Hz)\t\t*/\nifxBP2\ttable 24,64\t/* noise BP end frequency\t\t\t*/\nibw1\ttable 25,64\t/* noise BP bandwidth/freq.\t\t\t*/\nifxLP1\ttable 26,64\t/* noise LP start frequency (Hz)\t\t*/\nifxLP2\ttable 27,64\t/* noise LP end frequency\t\t\t*/\nifxd\ttable 28,64\t/* noise filter envelope speed\t\t\t*/\niattn1\ttable 29,64\t/* noise attack time (sec.)\t\t\t*/\nidecn1\ttable 30,64\t/* noise decay speed\t\t\t\t*/\nimxn\ttable 31,64\t/* noise mix\t\t\t\t\t*/\n\n/*-------------------------------------------------------------------------- */\n\ni001\t=  1/65536\t\t\t/*\t\t\t\t*/\nimkey\t=  p4\t\t\t\t/* MIDI key number\t\t*/\nimvel\t=  p5\t\t\t\t/* MIDI velocity\t\t*/\nivel\t=  $VELOC2AMP(imvel)\t\t/* convert velocity\t\t*/\nim0\tunirand 2\t\t\t/*\t\t\t\t*/\nim1\tunirand 2\t\t\t/*\t\t\t\t*/\nivel\t=  ivel*(1+(im1-1)*imod1)\t/* randomized velocity\t\t*/\nidel\t=  idel+((im0-1)*imod0)\t\t/* randomized delay\t\t*/\nibtime\t=  60/ibpm\t\t\t/* beat time\t\t\t*/\ni002\t=  exp(log(i001)*(idel+irel+16/kr)/irel)\nivol\t=  ivel*ivol\n\nicps\t=  $MIDI2CPS(imkey)\t\t/* base freq.\t*/\nifmax\t=  sr*0.48\t\t\t/* max. allowed freq.\t*/\nihp2\t=  ihp2*icps\nibw02x\t=  ihp2/ibw02\nifxLP2\t=  ifxLP2-ifxLP1\nifxBP2\t=  ifxBP2-ifxBP1\niapf2\t=  iapf2-iapf1\n\nixtime\t=  (irel+idel+16/kr)\n\np3\t=  p3+ixtime\t\t\t\t/* increase note length */\n\nstart01:\n\nkenvn1\texpseg 1,ibtime/idecn1,0.5\t\t\t/* noise generator */\nkenvn2\tlinseg 0,iattn1,1,1,1\naenvn\tinterp kenvn1*kenvn2\nkenvn3\texpseg 1,ibtime/ifxd,0.5\nkenvn3\t=  (1-kenvn3)\nkfxBPf\t=  ifxBP1+(kenvn3*ifxBP2)\na1l\tunirand 2\na1l\tbutterbp imxn*32768*(a1l-1)*aenvn,kfxBPf,kfxBPf*ibw1\na1l\tbutterlp a1l,ifxLP1+(ifxLP2*kenvn3)\n\nkamp1\texpseg 1,p3-ixtime,1,ixtime,i002\t\t/* envelopes */\nkfrq1   expseg 1,ibtime/ifd1,0.5\nkfrq\t=  icps*(1+kfrq1*(if01-1))\t/* kfrq  = osc. frequency */\nkapfr\texpseg 1,ibtime/iapdx,0.5\t/* kapfr = allpass filter frequency */\nkapfr\t=  kfrq*(iapf1+iapf2*(1-kapfr))\nkfrx1\texpseg 1,ibtime/ifdx1,0.5\nkfrx2\texpseg 1,ibtime/ifdx2,0.5\nkfrx\t=  kfrq*(kfrx1*ifr1+kfrx2*ifr2)\nkfrx\t=  (kfrx>ifmax ? ifmax : kfrx)\t/* kfrx  = LP filter frequency */\n\nknumh\t=  sr/(2*kfrq)\t\t\t/* oscillator */\na1\tbuzz sr/(10*3.14159265), kfrq, knumh, 256, 0\na2\tbuzz sr/(10*3.14159265), kfrq, knumh, 256, 0.5\na1\ttone (a1-a2)*16384, 10\na2\t=  a1\t\t\t\t\t/* a1 = a2 = osc. signal */\n\na1\tbutterhp a1,kfrq*ihp1\t\t\t\t/* filters */\na1      butterbp a1,kfrq,kfrq*ibw01\na1x\ttone a1,kapfr\na1\t=  2*a1x-a1\na3      butterhp a2,kfrq*ifr3\na2\t=  a2+a3*imx3\na2\tbutterhp a2,kfrq*ifr4\na0x\t=  a2*imx2+a1\natmp\tbutterbp a0x*ibw02,ihp2,ibw02x\na0x \tbutterhp a0x+atmp,ihp2\na0x\tbutterlp a0x,kfrx\n\na0y\tdelay (a0x+a1l)*ivol*kamp1,idel\n\n\tout  a0y\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt 0.00\t180.000\t\t/* tempo\t*/\n\n#define rhytm1(STIME) #\n\ni 1\t[$STIME+0.0000]\t\t0.4250\t33\t127\ni 1\t[$STIME+0.9900]\t\t0.4250\t33\t124\ni 1\t[$STIME+1.9800]\t\t0.4250\t33\t120\ni 1\t[$STIME+2.9700]\t\t0.4250\t33\t116\n\ni 1\t[$STIME+4.0000]\t\t0.4250\t33\t124\ni 1\t[$STIME+4.9900]\t\t0.4250\t33\t120\ni 1\t[$STIME+5.9850]\t\t0.4250\t33\t118\ni 1\t[$STIME+6.9800]\t\t0.4250\t33\t116\n\n#\n\n$rhytm1(0)\n$rhytm1(8)\n\n/* ------------------------------------------------------------------------- */\n\nf 64 0 32 -2\t0.27\t\t/* volume\t\t\t\t*/\n\t\t180\t\t/* tempo\t\t\t\t*/\n\n\t\t0.1667\t\t/* release time (sec.)\t\t\t*/\n\t\t0.01\t\t/* delay time\t\t\t\t*/\n\t\t0.0025\t\t/* random mod. of delay (sec.)\t\t*/\n\t\t0.005\t\t/* rnd. mod. of velocity\t\t*/\n\n\t\t5.3333\t\t/* oscillator start frequency (rel.)\t*/\n\t\t14.0\t\t/* frequency envelope decay speed\t*/\n\t\t0.7\t\t/* OSC1 BP bandwidth (rel.)\t\t*/\n\t\t0.0625\t\t/* OSC1 HP frequency (rel.)\t\t*/\n\t\t0.03125\t\t/* OSC1 allp. filter start freq. (rel.)\t*/\n\t\t1.0\t\t/* OSC1 allpass filter end freq.\t*/\n\t\t16\t\t/* OSC1 allpass filter envelope speed\t*/\n\t\t8\t\t/* OSC2 HP1 frequency (rel.)\t\t*/\n\t\t-2.0\t\t/* OSC2 HP1 mix\t\t\t\t*/\n\t\t0.7\t\t/* OSC2 output HP frq. (rel.)\t\t*/\n\t\t-2.0\t\t/* OSC2 output gain\t\t\t*/\n\t\t1.333\t\t/* output HP frq. (rel. to note f.)\t*/\n\t\t2.0\t\t/* output HP resonance\t\t\t*/\n\t\t4\t\t/* output LP start freq. 1 (rel.)\t*/\n\t\t0.5\t\t/* output LP freq. env. 1 decay speed\t*/\n\t\t4\t\t/* output LP start freq. 2\t\t*/\n\t\t0.5\t\t/* output LP freq. env. 2 decay speed\t*/\n\n\t\t7040\t\t/* noise BP start frequency (Hz)\t*/\n\t\t7040\t\t/* noise BP end frequency\t\t*/\n\t\t2\t\t/* noise BP bandwidth/freq.\t\t*/\n\t\t3520\t\t/* noise LP start frequency (Hz)\t*/\n\t\t55\t\t/* noise LP end frequency\t\t*/\n\t\t12\t\t/* noise filter envelope speed\t\t*/\n\t\t0.01\t\t/* noise attack time (sec.)\t\t*/\n\t\t3\t\t/* noise decay speed\t\t\t*/\n\t\t0.5\t\t/* noise mix\t\t\t\t*/\n\n/*-------------------------------------------------------------------------- */\n\nf 256 0 262144 10 1\n\ne\t/* end of score */\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and amplitude balance and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 303a.orc and 303a.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n; bassline Roland TB-303 emulator\n; coded by Josep MÂ» Comajuncosas\n; Sept - Nov 1997\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n; INITIAL SETTINGS; CONTROL THE OVERAL CHARACTER OF THE SOUND\nitranspose init     0                        ; 1 RAISE THE WHOLE SEQ. 1 OCTAVE, ETC.\nimaxfreq  =         1000                     ; MAX.FILTER CUTOFF FREQ. WHEN ienvmod = 0\nimaxsweep =         10000                    ; sr/2... MAX.FILTER FREQ. AT kenvmod & kaccent= 1\nimaxamp   =         20000                    ; MAXIMUM AMPLITUDE. MAX 32768 FOR 16 BIT OUTPUT\nireson    =         1                        ; SCALE THE RESONANCE AS YOU LIKE (YOU CAN MAKE THE FILTER TO OSCILLATE...)\n\n; INIT VARIABLES; DONÂ«T TOUCH THIS!\nibpm      =         p14                      ; 4/4 BARS PER MINUTE (OR BEATS?)\ninotedur  =         15/ibpm\nicount    init      0                        ; SEQUENCE COUNTER (FOR NOTES)\nicount2   init      0                        ; ID. FOR DURATIONS\nipcount2  init      0\nidecaydur =         inotedur\nimindecay =         (idecaydur<.2 ? .2 : idecaydur) ; SET MINIMUM DECAY TO .2 OR inotedur\nipitch    table     0,4                      ; FIRST NOTE IN THE SEQUENCE\nipitch    =         cpspch(itranspose + 6 + ipitch/100)\nkaccurve  init      0\n\n; TWISTING THE KNOBS FROM THE SCORE\nkfco      line      p4, p3, p5\nkres      line      p6, p3, p7\nkenvmod   line      p8, p3, p9\nkdecay    line      p10, p3, p11\nkaccent   line      p12, p3, p13\n\nstart:\n; PITCH FROM THE SEQUENCE + PORTAMENTO\nippitch   =         ipitch\nipitch    table     ftlen(4)*frac(icount/ftlen(4)),4\nipitch    =         cpspch(itranspose + 6 + ipitch/100)\n\n          if        ipcount2 != icount2 goto noslide\nkpitch    linseg    ippitch, .06, ipitch, inotedur-.06, ipitch\n          goto      next\n\nnoslide:\nkpitch    =         ipitch\n\nnext:\nipcount2  =         icount2\n          timout    0,inotedur,contin\nicount    =         icount + 1\n          reinit    start\nrireturn\n\ncontin:\n; ACCENT DETECTOR\niacc      table     ftlen(5)*frac((icount-1)/ftlen(5)), 5\n          if        iacc == 0 goto noaccent\nienvdecay =         0                        ; ACCENTED NOTES ARE THE SHORTEST ONES\niremacc   =         i(kaccurve)\nkaccurve  oscil1i   0, 1, .4, 3\nkaccurve  =         kaccurve+iremacc         ; SUCCESSIVE ACCENTS CAUSE HYSTERICAL RAISING CUTOFF\n\n          goto      sequencer\n\nnoaccent:\nkaccurve  =         0                        ; NO ACCENT & \"DISCHARGES\" ACCENT CURVE\nienvdecay =         i(kdecay)\n\nsequencer:\naremovedc init      0                        ; SET FEEDBACK TO 0 AT EVERY EVENT\nimult     table     ftlen(6)*frac(icount2/ftlen(6)),6\n          if        imult != 0 goto noproblemo ; COMPENSATE FOR ZERO PADDING IN THE SEQUENCER\nicount2   =         icount2 + 1\n          goto      sequencer\n\nnoproblemo:\nieventdur =         inotedur*imult\n\n; TWO ENVELOPES\nkmeg      expseg    1, imindecay+((ieventdur-imindecay)*ienvdecay),ienvdecay+.000001\nkveg      linen     1, .01, ieventdur, .016  ; ATTACK SHOULD BE 4 ms. BUT THERE WOULD BE CLICKS...\n\n; AMPLITUDE ENVELOPE\nkamp      =         kveg*((1-i(kenvmod)) + kmeg*i(kenvmod)*(.5+.5*iacc*kaccent))\n\n; FILTER ENVELOPE\nksweep    =         kveg * (imaxfreq + (.75*kmeg+.25*kaccurve*kaccent)*kenvmod*(imaxsweep-imaxfreq))\nkfco      =         20 + kfco * ksweep       ; CUTOFF ALWAYS GREATER THAN 20 Hz ...\nkfco      =         (kfco > sr/2 ? sr/2 : kfco) ; COULD BE NECESSARY\n                                             \n          timout    0, ieventdur, out\nicount2   =         icount2 + 1\n          reinit    contin\n\nout:\n; GENERATE BANDLIMITED SAWTOOTH WAVE\nabuzz     buzz      kamp, kpitch, sr/(2*kpitch), 1 ,0 ; BANDLIMITED PULSE\nasaw      integ     abuzz,0\nasawdc    atone     asaw,1\n\n; RESONANT 4-POLE LPF\nainpt     =         asawdc - aremovedc*kres*ireson\nalpf      tone      ainpt,kfco\nalpf      tone      alpf,kfco\nalpf      tone      alpf,kfco\nalpf      tone      alpf,kfco\n\naout      balance   alpf,asawdc\n\n; FINAL OUTPUT ... AT LAST!\naremovedc atone     aout,10\n          out       imaxamp*aremovedc\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1; sine wave\nf3  0 8193   8  0 512 1 1024 1 512 .5 2048 .2 4096  0; accent curve\nf4  0  16  -2  12 24 12 14 15 12 0 12 12 24 12 14 15 6 13 16 ; sequencer (pitches are 6.00 + p/100)\nf5  0  32  -2   0  1  0  0  0  0 0  0  0  1  0  1  1 1  0  0 0 1 0 0 1 0 1 1 1 1 0 0 0 0 0 1; accent sequence\nf6  0  16  -2   2     1  1  2    1  1  1  2     1  1 3       1 4 0 0 0; fill with zeroes till next power of 2\n;f6 = durations of events, 1 = note per note, 2 = two tied notes... .\n;note: f4-f5-f6 donÂ«t need to be syncronized... like here (16-32-21)\nf7 0 1024   8 -.8 42 -.78  200 -.74 200 -.7 140 .7  200 .74 200 .78 42 .8; distortion table\n; f7 borrowed from H.MikelsonÂ«s TB-303 emulator. Tnx!\n\n;------------ KNOB POSITION : INITIAL AND FINAL VALUES FROM 0 TO 1--------------------\n;   cutoff freq resonance envelope mod. decay       accent     bpm\n;     0   -   1  0 ~ 1  ~ .1 - 1  0 - 1       0 - 1   40-300\n;       start    end  st  end   st  end  st  end     st  end\n\ni1   0 10    .1     .3 .2  .2   .1   .4    .05 .8    0   0      120\ni1  11 10    .95    1  .1  1    .8   1     .1  .01   0   1      120\ni1  22 10    0      1  .5  1    .1   .4   1    1     1   1      120\ni1  33 10   .5      1  .95 1     1   .9   .1   0     1   1      120\ni1  44 10   .05     1  .5  1    .1   .1   .5   1     .5  1      120\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for PEAKING 12DB/OCT. LPF (ANALOG LOWPASS) using buzz/pulse generator and one-sample delay and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from analog3.orc and analog3.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         44100\nksmps     =         1\nnchnls    =         1\n\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\ninstr 1; PEAKING 12DB/OCT. LPF (ANALOG LOWPASS)\n; BASED ON JON DATTORIO / JAES VOL.45 N.9 SEPT 1997\n; PORTED TO CSOUND BY JOSEP M COMAJUNCOSAS / OCT.Â«98\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; NOTE : APPARENTLY THE CUTOFF AND THE RESONANCE\n; ARE NOT DECOUPLED (NOR TUNED IN FACT) AT ALL...\n; USE THEM *EMPYRICALLY*\n\nibound    =         10000\nimaxamp   =         10000\nkfreq     init      150\nkamp      linen     1,.01,p3,.1\napulse1   buzz      kamp, kfreq, ibound/kfreq, 1\nasaw      filter2   apulse1, 1, 1, 1, -.99\n\n; THE FILTER ITSELF\ni2pidsr   =         2*3.14159265359 / sr\n\n; FREQ. CUTOFF\nkfco      expseg    20, .2, 8000, p3-.2, 20\nkfcon     =         kfco*i2pidsr\nkfc       =         2*sin(kfcon/2)\n\n; Q (RESONANCE) : STABILITY GUARANTEED FOR KQC IN [0,1]\n; THOUGH YOU CAN TRY TO GO FURTHER (>1) AT YOUR OWN RISK\nkqc       =         p4\n\nay4       init      0\nay5       init      0\nay7       init      0\nay8       init      0\n\nax        =         asaw/2\nay1       =         ax - ay5 - ay7\nay2       =         kfc*ay1\nay3       =         ay2+ay4\nay4       delay1    ay3\nay5       =         ay4*kqc\nay6       =         ay5*kfc\nay7       =         ay6+ay8\nay8       delay1    ay7\nay9       =         ay8*2\n\n; COMPRESSION TO ALLOW A WIDER RANGE FOR Q\n; BE CAREFUL, IT ACTS ALSO AS A DISTORTER! ;-)\n;         out       tanh(ay9)*imaxamp\n          out       ay9*imaxamp                        ; skip compression\nendin\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\ninstr 2; PEAKING 24DB/OCT. LPF (ANALOG LOWPASS)\n; LIKE INSTR 1, BUT 2 CASCADED FILTER UNITS HERE\n; BASED ON JON DATTORIO / JAES VOL.45 N.9 SEPT 1997\n; PORTED TO CSOUND BY JOSEP M COMAJUNCOSAS / OCT.Â«98\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; NOTE : APPARENTLY THE CUTOFF AND THE RESONANCE\n; ARE NOT DECOUPLED (NOR TUNED IN FACT) AT ALL...\n; USE THEM *EMPYRICALLY*\n\nibound    =         10000\nimaxamp   =         10000\nkfreq     init      150\n\nkamp      linen     1,.01,p3,.1\napulse1   buzz      kamp, kfreq, ibound/kfreq, 1\nasaw      filter2   apulse1, 1, 1, 1, -.99\n\n; THE FILTER ITSELF\ni2pidsr   =         2*3.14159265359 / sr\n\n; FREQ. CUTOFF\nkfco      expseg    20, .2, 8000, p3-.2, 20\nkfcon     =         kfco*i2pidsr\nkfc       =         2*sin(kfcon/2)\n\n; Q (RESONANCE) : STABILITY GUARANTEED FOR KQC IN [0,1]\n; THOUGH YOU CAN TRY TO GO FURTHER (>1) AT YOUR OWN RISK\nkqc       =         p4\n\nay4       init      0\nay5       init      0\nay7       init      0\nay8       init      0\n\nax        =         asaw/2\nay1       =         ax - ay5 - ay7\nay2       =         kfc*ay1\nay3       =         ay2+ay4\nay4       delay1    ay3\nay5       =         ay4*kqc\nay6       =         ay5*kfc\nay7       =         ay6+ay8\nay8       delay1    ay7\n\n\nay14      init      0\nay15      init      0\nay17      init      0\nay18      init      0\n\nax2       =         ay8\nay11      =         ax2 - ay15 - ay17\nay12      =         kfc*ay11\nay13      =         ay2+ay14\nay14      delay1    ay13\nay15      =         ay14*kqc\nay16      =         ay15*kfc\nay17      =         ay16+ay18\nay18      delay1    ay17\nay19      =         ay18*2\n\n; COMPRESSION TO ALLOW A WIDER RANGE FOR Q\n; BE CAREFUL, IT ACTS ALSO AS A DISTORTER! ;-)\n;         out       tanh(ay19)*imaxamp\n          out       ay19*imaxamp                                      ; skip compression\n          endin\n\n</CsInstruments>\n<CsScore>\n\n\nf1 0 8192 10 1\n\n; p4 is the resonance control (0 to 1)\ni1 0 2 .09\ni1 2 2 .3\ni1 4 2 .65\ni1 6 2 1.1\ns\ni2 0 2 .09\ni2 2 2 .3\ni2 4 2 .65\ni2 6 2 1.1\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kgoto start01 using buzz/pulse generator and Butterworth lowpass filter and Butterworth highpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bd4004m_02.orc and bd4004m_02.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  44100\nksmps\t=  1\nnchnls\t=  1\n\n\n/* convert MIDI note number to frequency */\n\n#define MIDI2CPS(xmidikey) # (440.0*exp(log(2.0)*(($xmidikey)-69.0)/12.0)) #\n\n/* convert frequency to MIDI note number */\n\n#define CPS2MIDI(xfreqcps) # (12.0*(log(($xfreqcps)/440.0)/log(2.0))+69.0) #\n\n/* convert velocity to amplitude */\n\n#define VELOC2AMP(xvelocity) # (0.0039+(($xvelocity)*($xvelocity))/16192.0) #\n\n/* convert amplitude to velocity */\n\n#define AMP2VELOC(xamplitude) # (sqrt((($xamplitude)-0.0039)*16192.0)) #\n\n\tseed 0\n\n\tinstr 1\n\n\tkgoto start01\n\n/*-------------------------------------------------------------------------- */\n\nivol\ttable 0,64\t/* volume\t\t\t\t\t*/\nibpm\ttable 1,64\t/* tempo\t\t\t\t\t*/\nirel\ttable 2,64\t/* release time (sec.)\t\t\t\t*/\nidel\ttable 3,64\t/* delay time\t\t\t\t\t*/\nimod0\ttable 4,64\t/* random mod. of delay (sec.)\t\t\t*/\nimod1\ttable 5,64\t/* rnd. mod. of velocity\t\t\t*/\nif01\ttable 6,64\t/* oscillator start frequency (rel.)\t\t*/\nifd1\ttable 7,64\t/* frequency envelope decay speed\t\t*/\nibw01\ttable 8,64\t/* OSC1 BP bandwidth (rel.)\t\t\t*/\nihp1\ttable 9,64\t/* OSC1 HP frequency (rel.)\t\t\t*/\niapf1\ttable 10,64\t/* OSC1 allpass filter start freq. (rel.)\t*/\niapf2\ttable 11,64\t/* OSC1 allpass filter end freq.\t\t*/\niapdx\ttable 12,64\t/* OSC1 allpass filter envelope speed\t\t*/\nifr3\ttable 13,64\t/* OSC2 HP1 frequency / base frq.\t\t*/\nimx3\ttable 14,64\t/* OSC2 HP1 mix\t\t\t\t\t*/\nifr4\ttable 15,64\t/* OSC2 output HP frq. / base freq.\t\t*/\nimx2\ttable 16,64\t/* OSC2 output gain\t\t\t\t*/\nihp2\ttable 17,64\t/* output HP (OSC1+OSC2) frq. (rel. to note f.)\t*/\nibw02\ttable 18,64\t/* output HP resonance\t\t\t\t*/\nifr1\ttable 19,64\t/* output LP start freq. 1 (rel.)\t\t*/\nifdx1\ttable 20,64\t/* output LP freq. 1 envelope decay speed\t*/\nifr2\ttable 21,64\t/* output LP start freq. 2\t\t\t*/\nifdx2\ttable 22,64\t/* output LP freq. 2 envelope decay speed\t*/\nifxBP1\ttable 23,64\t/* noise BP start frequency (Hz)\t\t*/\nifxBP2\ttable 24,64\t/* noise BP end frequency\t\t\t*/\nibw1\ttable 25,64\t/* noise BP bandwidth/freq.\t\t\t*/\nifxLP1\ttable 26,64\t/* noise LP start frequency (Hz)\t\t*/\nifxLP2\ttable 27,64\t/* noise LP end frequency\t\t\t*/\nifxd\ttable 28,64\t/* noise filter envelope speed\t\t\t*/\niattn1\ttable 29,64\t/* noise attack time (sec.)\t\t\t*/\nidecn1\ttable 30,64\t/* noise decay speed\t\t\t\t*/\nimxn\ttable 31,64\t/* noise mix\t\t\t\t\t*/\n\n/*-------------------------------------------------------------------------- */\n\ni001\t=  1/65536\t\t\t/*\t\t\t\t*/\nimkey\t=  p4\t\t\t\t/* MIDI key number\t\t*/\nimvel\t=  p5\t\t\t\t/* MIDI velocity\t\t*/\nivel\t=  $VELOC2AMP(imvel)\t\t/* convert velocity\t\t*/\nim0\tunirand 2\t\t\t/*\t\t\t\t*/\nim1\tunirand 2\t\t\t/*\t\t\t\t*/\nivel\t=  ivel*(1+(im1-1)*imod1)\t/* randomized velocity\t\t*/\nidel\t=  idel+((im0-1)*imod0)\t\t/* randomized delay\t\t*/\nibtime\t=  60/ibpm\t\t\t/* beat time\t\t\t*/\ni002\t=  exp(log(i001)*(idel+irel+16/kr)/irel)\nivol\t=  ivel*ivol\n\nicps\t=  $MIDI2CPS(imkey)\t\t/* base freq.\t*/\nifmax\t=  sr*0.48\t\t\t/* max. allowed freq.\t*/\nihp2\t=  ihp2*icps\nibw02x\t=  ihp2/ibw02\nifxLP2\t=  ifxLP2-ifxLP1\nifxBP2\t=  ifxBP2-ifxBP1\niapf2\t=  iapf2-iapf1\n\nixtime\t=  (irel+idel+16/kr)\n\np3\t=  p3+ixtime\t\t\t\t/* increase note length */\n\nstart01:\n\nkenvn1\texpseg 1,ibtime/idecn1,0.5\t\t\t/* noise generator */\nkenvn2\tlinseg 0,iattn1,1,1,1\naenvn\tinterp kenvn1*kenvn2\nkenvn3\texpseg 1,ibtime/ifxd,0.5\nkenvn3\t=  (1-kenvn3)\nkfxBPf\t=  ifxBP1+(kenvn3*ifxBP2)\na1l\tunirand 2\na1l\tbutterbp imxn*32768*(a1l-1)*aenvn,kfxBPf,kfxBPf*ibw1\na1l\tbutterlp a1l,ifxLP1+(ifxLP2*kenvn3)\n\nkamp1\texpseg 1,p3-ixtime,1,ixtime,i002\t\t/* envelopes */\nkfrq1   expseg 1,ibtime/ifd1,0.5\nkfrq\t=  icps*(1+kfrq1*(if01-1))\t/* kfrq  = osc. frequency */\nkapfr\texpseg 1,ibtime/iapdx,0.5\t/* kapfr = allpass filter frequency */\nkapfr\t=  kfrq*(iapf1+iapf2*(1-kapfr))\nkfrx1\texpseg 1,ibtime/ifdx1,0.5\nkfrx2\texpseg 1,ibtime/ifdx2,0.5\nkfrx\t=  kfrq*(kfrx1*ifr1+kfrx2*ifr2)\nkfrx\t=  (kfrx>ifmax ? ifmax : kfrx)\t/* kfrx  = LP filter frequency */\n\nknumh\t=  sr/(2*kfrq)\t\t\t/* oscillator */\na1\tbuzz sr/(10*3.14159265), kfrq, knumh, 256, 0\na2\tbuzz sr/(10*3.14159265), kfrq, knumh, 256, 0.5\na1\ttone (a1-a2)*16384, 10\na2\t=  a1\t\t\t\t\t/* a1 = a2 = osc. signal */\n\na1\tbutterhp a1,kfrq*ihp1\t\t\t\t/* filters */\na1      butterbp a1,kfrq,kfrq*ibw01\na1x\ttone a1,kapfr\na1\t=  2*a1x-a1\na3      butterhp a2,kfrq*ifr3\na2\t=  a2+a3*imx3\na2\tbutterhp a2,kfrq*ifr4\na0x\t=  a2*imx2+a1\natmp\tbutterbp a0x*ibw02,ihp2,ibw02x\na0x \tbutterhp a0x+atmp,ihp2\na0x\tbutterlp a0x,kfrx\n\na0y\tdelay (a0x+a1l)*ivol*kamp1,idel\n\n\tout  a0y\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt 0.00\t180.000\t\t/* tempo\t*/\n\n#define rhytm1(STIME) #\n\ni 1\t[$STIME+0.0000]\t\t0.7000\t32\t120\ni 1\t[$STIME+0.9900]\t\t0.7000\t32\t112\ni 1\t[$STIME+1.9900]\t\t0.7000\t32\t124\ni 1\t[$STIME+2.9950]\t\t0.7000\t32\t112\n\ni 1\t[$STIME+4.0000]\t\t0.7000\t32\t116\ni 1\t[$STIME+4.9900]\t\t0.7000\t32\t112\ni 1\t[$STIME+5.9900]\t\t0.7000\t32\t116\ni 1\t[$STIME+6.9950]\t\t0.7000\t32\t112\n\n#\n\n$rhytm1(0)\n$rhytm1(8)\n\n/* ------------------------------------------------------------------------- */\n\nf 64 0 32 -2\t0.7\t\t/* volume\t\t\t\t*/\n\t\t180\t\t/* tempo\t\t\t\t*/\n\n\t\t0.1667\t\t/* release time (sec.)\t\t\t*/\n\t\t0.01\t\t/* delay time\t\t\t\t*/\n\t\t0.0025\t\t/* random mod. of delay (sec.)\t\t*/\n\t\t0.005\t\t/* rnd. mod. of velocity\t\t*/\n\n\t\t5.3333\t\t/* oscillator start frequency (rel.)\t*/\n\t\t12.0\t\t/* frequency envelope decay speed\t*/\n\t\t0.5\t\t/* OSC1 BP bandwidth (rel.)\t\t*/\n\t\t0.0625\t\t/* OSC1 HP frequency (rel.)\t\t*/\n\t\t1.0\t\t/* OSC1 allp. filter start freq. (rel.)\t*/\n\t\t4.0\t\t/* OSC1 allpass filter end freq.\t*/\n\t\t8\t\t/* OSC1 allpass filter envelope speed\t*/\n\t\t8\t\t/* OSC2 HP1 frequency (rel.)\t\t*/\n\t\t-5\t\t/* OSC2 HP1 mix\t\t\t\t*/\n\t\t0.5\t\t/* OSC2 output HP frq. (rel.)\t\t*/\n\t\t-0.4\t\t/* OSC2 output gain\t\t\t*/\n\t\t1.333\t\t/* output HP frq. (rel. to note f.)\t*/\n\t\t2.0\t\t/* output HP resonance\t\t\t*/\n\t\t-6\t\t/* output LP start freq. 1 (rel.)\t*/\n\t\t64\t\t/* output LP freq. env. 1 decay speed\t*/\n\t\t12\t\t/* output LP start freq. 2\t\t*/\n\t\t2\t\t/* output LP freq. env. 2 decay speed\t*/\n\n\t\t7040\t\t/* noise BP start frequency (Hz)\t*/\n\t\t7040\t\t/* noise BP end frequency\t\t*/\n\t\t2\t\t/* noise BP bandwidth/freq.\t\t*/\n\t\t3520\t\t/* noise LP start frequency (Hz)\t*/\n\t\t55\t\t/* noise LP end frequency\t\t*/\n\t\t12\t\t/* noise filter envelope speed\t\t*/\n\t\t0.01\t\t/* noise attack time (sec.)\t\t*/\n\t\t3\t\t/* noise decay speed\t\t\t*/\n\t\t0.5\t\t/* noise mix\t\t\t\t*/\n\n/*-------------------------------------------------------------------------- */\n\nf 256 0 262144 10 1\n\ne\t/* end of score */\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for TB-303 EMULATOR using buzz/pulse generator and amplitude balance and sample-and-hold random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 303b.orc and 303b.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; sr      =         22050\n; kr      =         22050\n\n          instr 1             ; TB-303 EMULATOR\n; CODED BY Josep MÂ» Comajuncosas\n\n; INIT VARIABLES\nibpm      =         p14                      ; 4/4 BARS PER MINUTE\nieventdur =         15/ibpm\ninotedur  =         ieventdur                ; OR SMALLER...\nicount    init      0; sequence counter\nidecaydur =         inotedur\nimindecay =         (idecaydur<.2 ? .2 : idecaydur) ; SET MINIMUM DECAY TO .2 OR inotedur\nimaxfreq  =         1000                     ; MAX.FILTER CUTOFF FREQ. WHEN ienvmod = 0\nimaxsweep =         6500                     ; sr/2... MAX.FILTER FREQ. AT kenvmod & kaccent= 1\nipitch    table     0,4                      ; FIRST NOTE IN THE SEQUENCE\nipitch    =         cpspch(6 + ipitch/100)\nireson    =         3                        ; SCALE THE RESONANCE AS YOU LIKE (YOU CAN MAKE THE FILTER TO OSCILLATE...)\nimaxamp   =         20000                    ; MAXIMUM AMPLITUDE\nidist     =         .015                     ; 1 FOR ULTRA HARDCORE DISTORTION ;-)\n; RAISING IDIST ALSO RAISES THE RESONANCE\nkaccurve  init      0\n\n; TWISTING THE KNOBS ...\nkfco      line      p4, p3, p5\nkres      line      p6, p3, p7\nkenvmod   line      p8, p3, p9\nkdecay    line      p10, p3, p11\nkaccent   line      p12, p3, p13\n\n; kfco    randh     .5, .9 , .65\n; kfco    =         .5+kfco\n; kfco    port      kfco, .5\n; kres    randh     .5, .8, .32\n; kres    =         .5+kres\n; kres    port      kres, .5\n; kenvmod randh     .45, 1, .79\n; kenvmod =         .55 + kenvmod\n; kenvmod port      kenvmod, .5\n; kdecay  randh     .5, .5, .74\n; kdecay  =         .5+kdecay\n; kdecay  port      kdecay, .5\n; kaccent randh     .5, .75, .31\n; kaccent =         .5+kaccent\n; kaccent port      kaccent, .5\n \nstart:\nafdbk     init      0\n\n;PITCH FROM THE SEQUENCE\nippitch   =         ipitch\nipitch    table     ftlen(4)*frac(icount/ftlen(4)),4\nipitch    =         cpspch(6 + ipitch/100)\niremaining =        icount*ieventdur/p3\n          print     ipitch, iremaining\n\n; SLIDE DETECTOR; CANNOT SLIDE FROM LAST NOTE TO THE FIRST ONE\n;islide   table     ftlen(6)*frac(icount/ftlen(6)),6\n;         if        islide == 1:\n;islidedur\n; ACCENT DETECTOR\niacc      table     ftlen(5)*frac(icount/ftlen(5)), 5\n          if        iacc == 0 goto noaccent\nienvdecay =         0                        ; ACCENTED NOTES ARE THE SHORTEST ONES\niremacc   =         i(kaccurve)\nkaccurve  oscil1i   0, 1, .4, 3\nkaccurve  =         kaccurve+iremacc         ; SUCCESSIVE ACCENTS CAUSE HYSTERICAL RAISING CUTOFF\n\n          goto      next\n\nnoaccent:\nkaccurve  =         0                        ; NO ACCENT & \"DISCHARGES\" ACCENT CURVE\nienvdecay =         i(kdecay)\n\nnext:\n; TWO ENVELOPES & PITCH WITH PORTAMENTO\nkmeg      expseg    1, imindecay+((inotedur-imindecay)*ienvdecay),.1+.9*ienvdecay\nkveg      linen     1, .03, inotedur, .016   ; ATTACK SHOULD BE 4 MS. BUT ...\nkpitch    linseg    ippitch, .06, ipitch\n;         reinit    code\n          timout    0, ieventdur , contin\nicount    =         icount + 1\n          reinit    start\n\ncontin:\n\n; AMPLITUDE ENVELOPE\nkamp      =         .5*kveg*((1-i(kenvmod)) + kmeg*i(kenvmod)*(.5+.5*iacc*kaccent))\n\n; FILTER ENVELOPE\nksweep    =         kveg * (imaxfreq + (.7*kmeg+.3*kaccurve*kaccent)*kenvmod*(imaxsweep-imaxfreq))\nkfco      =         20 + kfco * ksweep       ; CUTOFF ALWAYS GREATER THAN 20 Hz ...\n; kfco    =         (kfco > sr/2 ? sr/2 : kfco) ; COULD BE NECESSARY\n                                             \n; GENERATE BANDLIMITED SAWTOOTH WAVE\nabuzz     buzz      kamp, kpitch, sr/(2*kpitch), 1 ,0 ; BANDLIMITED PULSE\nasaw      integ     abuzz,0\nasawdc    atone     asaw,1\n\n; RESONANT 8-POLE LPF\nainpt     =         asawdc - afdbk\nalpf      tone      ainpt,kfco\nalpf      tone      alpf,kfco\nalpf      tone      alpf,kfco\nalpf1     tone      alpf,kfco\nalpf      tone      alpf1,kfco\nalpf      tone      alpf,kfco\nalpf      tone      alpf,kfco\nalpf2     tone      alpf,kfco\n\nabal1     balance   alpf1,asawdc\nabal2     balance   alpf2,asawdc\n\nafdbk     =         abal1-abal2\nafdbk     balance   afdbk,asawdc*idist\nafdbk     tablei    afdbk*(.05+kres*ireson), 7, 1, .5 ; + RESONANCE -> + DISTORTION\naremovedc atone     afdbk,1\n          out       imaxamp*aremovedc\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 16384 10 1\nf2  0 1025  19  .5  .5  270  .5\nf4  0  16  -2  0 12 0 0 3 0 0 0 0 15 12 0 6 15 1 4; sequencer (pitches are 6.00 + p/100)\nf5  0  16  -2  0  1 0 0 0 0 0 0 0  1  0 1 1  1 0 0; accent sequence\nf3  0 8193   8  0 512 1 1024 1 512 .5 2048 .2 4096  0; accent curve\nf7 0 1024   8 -.8 42 -.78  200 -.74 200 -.7 140 .7  200 .74 200 .78 42 .8\n; f7 borrowed from H.MikelsonÂ«s TB-303 emulator. Tnx!\n\n;------------ KNOB POSITION : INITIAL AND FINAL VALUES FROM 0 TO 1--------------------\n;   cutoff freq resonance envelope mod. decay       accent     bpm\n;     0   -   1  0 ~ 1  ~ .1 - 1  0 - 1       0 - 1   40-300\n;       start    end  st  end   st  end  st  end     st  end\n\ni1   0 6  .01       .3      .2  .2   .1   .4   .05          .8      0   0       80\ni1   7 6  .95     1       .1  1    .8   1    .1        .01     0      1       70\ni1  14 6       0         1         .5  1    .1   1     1    .05     1   1       60\ni1  21 6  .5      1       .95 1    1    .9   .01  0         1   1       80\ni1  28 6       0         1         .5  1    .1   1     .05  0       .5  1       120\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for MOVES FROM TABLE #4 - A - TO #5 - O OVER P3 using buzz/pulse generator and resonant filter and amplitude balance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from BUZZTALK.ORC and BUZZTALK.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n;BUZZTALK - TEST OF TERM ANALGOUE MODEL OF SPEECH\n;USES SLAWSON'S FORMANTS\n\n\ninstr          1\n\na1             buzz      p4,p5,p6,1               ;P4=AMP,P5=CPS,P6=KNH\na2             reson     a1,p7,p8,1,0\na3             reson     a1,p9,p10,1,0\na4             reson     a1,p11,p12,1,0\na5             reson     a1,p13,p14,1,0\n\na6             balance   (a2+a3+a4+a5),a1\n               out       a6\nendin\n\ninstr          2\n       \na1             buzz      p5,cpspch(p4),p6,1       ;P4=AMP,P5=CPS,P6=KNH WORKS WITH RANDOM.SCO\n\na2             reson     a1,p7,p8,1,0\na3             reson     a2,p9,p10,1,0\na4             reson     a3,p11,p12,1,0\na5             reson     a4,p13,p14,1,0\n\na6             balance   (a5),a1\n               out       a6\nendin\n\n\n\ninstr          3                                  ;MOVES FROM TABLE #4 - A - TO #5 - O OVER P3\nk3             linseg    p5,p3,p5\na1             buzz      p4,k3,p6,1 ;p4=amp,p5=cps,p6=knh\nk1             linseg    p7,p3*.35,p7*.63,p3*.65,p7*.44          ;FROM 800 TO 500 (63% OF P7)\na2             reson     a1,k1,p8,1,0\nk2             linseg    p9,p3*.65,p9*.65,93*.35,p9*.54          ;FROM 1300 TO 850\na3             reson     a2,k2,p10,1,0\na4             reson     a3,p11,p12,1,0\na5             reson     a4,p13,p14,1,0\n\na6             balance (a5),a1\nout            a6\nendin\n\n\n\n</CsInstruments>\n<CsScore>\n;BUZZTALK.SCO USES BUZZTALK.ORC\n\nf 1 0 8192 10 1\n\n\n\n\ni1 0 3 1500 123 20 800 150 1300 150 2500 200 3500 300\ne\ns\ni1 0 3 1500 130 20 .   .   .    .   .    .    .   .\ns\ni1 0 3 1500 138 20 .   .   .   .   .    .     .    .\ns\ni1 0 3 1500 146 20 .    .   .  .   .   .      .    .\ns\ni1 0 3 1500 155 20 .    .   .  .    .  .      .    .\ne\n\n\n \n   i2  0.000 0.050 8.03 1000 20 800 150 1300 150 2500 200 3500 300\n   i2  0.050 0.051 8.02 1003\n   i2  0.101 0.053 8.05 1007\n   i2  0.154 0.054 8.03 1010\n   i2  0.208 0.055 8.07 1013\n   i2  0.263 0.057 8.03 1017\n   i2  0.319 0.058 8.10 1021\n   i2  0.377 0.059 8.10 1025\n   i2  0.437 0.061 8.07 1029\n   i2  0.498 0.063 8.01 1033\n   i2  0.560 0.064 8.04 1037\n   i2  0.624 0.066 9.00 1041\n   i2  0.690 0.067 8.08 1045\n   i2  0.758 0.069 8.09 1050\n   i2  0.827 0.071 8.04 1055\n   i2  0.897 0.073 8.06 1060\n   i2  0.970 0.075 8.02 1064\n   i2  1.045 0.076 8.10 1070\n   i2  1.121 0.078 8.01 1075\n   i2  1.199 0.080 8.03 1080\n   i2  1.280 0.082 8.04 1086\n   i2  1.362 0.085 8.04 1092\n   i2  1.447 0.087 8.00 1098\n   i2  1.533 0.089 9.00 1104\n   i2  1.622 0.091 8.07 1110\n   i2  1.714 0.094 8.00 1117\n   i2  1.807 0.096 8.05 1123\n   i2  1.904 0.099 8.07 1130\n   i2  2.002 0.101 8.02 1138\n   i2  2.103 0.104 8.10 1145\n   i2  2.207 0.107 8.08 1153\n   i2  2.314 0.109 9.00 1161\n   i2  2.423 0.112 8.07 1169\n   i2  2.535 0.115 8.04 1177\n   i2  2.651 0.118 9.00 1186\n   i2  2.769 0.121 8.09 1195\n   i2  2.891 0.125 9.00 1205\n   i2  3.015 0.128 8.08 1214\n   i2  3.143 0.131 8.09 1224\n   i2  3.275 0.135 9.00 1235\n   i2  3.410 0.139 8.09 1246\n   i2  3.548 0.142 8.05 1257\n   i2  3.691 0.146 8.03 1268\n   i2  3.837 0.150 8.02 1280\n   i2  3.988 0.154 8.00 1293\n   i2  4.142 0.159 8.07 1306\n   i2  4.301 0.163 9.01 1319\n   i2  4.464 0.168 8.08 1333\n   i2  4.631 0.172 8.08 1348\n   i2  4.803 0.177 9.00 1363\n   i2  4.981 0.182 7.11 1378\n   i2  5.163 0.187 8.11 1394\n   i2  5.350 0.192 8.05 1411\n   i2  5.542 0.198 8.01 1429\n   i2  5.740 0.204 9.02 1447\n   i2  5.944 0.209 8.10 1466\n   i2  6.153 0.215 9.03 1486\n   i2  6.368 0.222 8.03 1507\n   i2  6.590 0.228 9.03 1529\n   i2  6.818 0.235 7.10 1551\n   i2  7.053 0.242 8.07 1575\n   i2  7.295 0.249 7.11 1600\n   i2  7.544 0.256 8.04 1625\n   i2  7.800 0.264 9.00 1652\n   i2  8.064 0.272 8.05 1681\n   i2  8.336 0.280 8.05 1711\n   i2  8.616 0.289 8.09 1742\n   i2  8.905 0.298 8.09 1774\n   i2  9.202 0.307 7.08 1809\n   i2   9.509 0.316 7.09 1845\n   i2   9.826 0.326 9.03 1883\n   i2  10.152 0.337 8.06 1923\n   i2  10.489 0.347 8.09 1965\n   i2  10.836 0.359 9.03 2009\n   i2  11.195 0.370 8.09 2056\n   i2  11.565 0.382 7.11 2106\n   i2  11.947 0.395 8.08 2158\n   i2  12.342 0.408 8.10 2214\n   i2  12.750 0.422 7.09 2273\n   i2  13.172 0.436 8.07 2335\n   i2  13.608 0.451 7.10 2402\n   i2  14.060 0.467 7.11 2473\n   i2  14.526 0.483 8.11 2548\n   i2  15.010 0.500 8.02 2629\n   i2  15.509 0.476 9.02 2714\n   i2  15.986 0.455 8.06 2799\n   i2  16.440 0.434 8.11 2882\n   i2  16.875 0.415 8.05 2964\n   i2  17.290 0.397 9.01 3044\n   i2  17.687 0.380 7.09 3123\n   i2  18.067 0.364 8.04 3200\n   i2  18.431 0.349 9.01 3276\n   i2  18.780 0.334 8.01 3350\n   i2  19.114 0.320 7.09 3423\n   i2  19.434 0.307 7.09 3495\n   i2  19.741 0.295 9.09 3564\n   i2  20.036 0.283 9.08 3633\n   i2  20.319 0.272 8.02 3699\n   i2  20.591 0.261 8.04 3765\n   i2  20.852 0.251 7.02 3829\n   i2  21.103 0.241 9.06 3891\n   i2  21.345 0.232 8.07 3952\n   i2  21.577 0.223 8.03 4011\n   i2  21.800 0.215 9.01 4069\n   i2  22.015 0.207 8.03 4126\n   i2  22.222 0.199 8.04 4181\n   i2  22.421 0.192 8.03 4235\n   i2  22.612 0.185 9.06 4288\n   i2  22.797 0.178 9.11 4339\n   i2  22.974 0.171 10.00 4389\n   i2  23.146 0.165 9.06 4438\n   i2  23.311 0.159 7.09 4485\n   i2  23.470 0.153 9.06 4531\n   i2  23.624 0.148 7.00 4576\n   i2  23.772 0.143 10.00 4620\n   i2  23.914 0.138 9.05 4663\n   i2  24.052 0.133 8.00 4704\n   i2  24.185 0.128 7.11 4744\n   i2  24.313 0.124 7.06 4784\n   i2  24.437 0.119 7.11 4822\n   i2  24.556 0.115 9.06 4859\n   i2  24.671 0.111 9.02 4895\n   i2  24.783 0.107 9.04 4931\n   i2  24.890 0.104 8.09 4965\n   i2  24.994 0.100 8.10 4998 .2\ne\n\ne\n\ni3 0 2 1500 100 20 800 150 1300 150 2500 200 3500 300\ni3 3 2 1500 200 20 .   .   .    .   .    .    .   .\ni3 5 2 1500 300 20 .   .   .   .   .    .     .    .\ni3 7 2 1500 400 20 .    .   .  .   .   .      .    .\ni3 9 2 1500 500 20 .    .   .  .    .  .      .    .\ns\n\ni3 0 2 1500 100 35 800 150 1300 150 2500 200 3500 300\ni3 3 2 1500 200 35 .   .   .    .   .    .    .   .\ni3 5 2 1500 300 35 .   .   .   .   .    .     .    .\ni3 7 2 1500 400 35 .    .   .  .   .   .      .    .\ni3 9 2 1500 500 35 .    .   .  .    .  .      .    .\ns\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and amplitude balance and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 303c.orc and 303c.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n\t\tinstr 1 \n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Roland TB-303 bassline emulator\n; coded by Josep MÂª Comajuncosas , Sept - Nov 1997\n; send your comments (and money ;-)) to\n; gelida@lix.intercom.es \n; (from JanuaryÂ´98 to gelida@intercom.es)\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n; INITIAL SETTINGS; CONTROL THE OVERALL CHARACTER OF THE SOUND\nimaxfreq\t=\t\t1000\t\t\t\t\t; MAX.FILTER CUTOFF FREQ. WHEN ienvmod = 0\nimaxsweep\t=\t\t10000\t\t\t\t; sr/2... MAX.FILTER FREQ. AT kenvmod & kaccent= 1\nireson\t=\t\t1\t\t\t\t\t; SCALE THE RESONANCE AS YOU LIKE (YOU CAN MAKE THE FILTER TO OSCILLATE...)\n\n; INIT VARIABLES; DONÂ´T TOUCH THIS!\nitranspose =\t\tp15\t\t\t\t\t; 1 RAISE THE WHOLE SEQ. 1 OCTAVE, ETC.\niseqfn\t=\t\tp16\niaccfn\t=\t\tp17\nidurfn\t=\t\tp18\nimaxamp\t=\t\tp19\t\t\t\t\t; MAXIMUM AMPLITUDE. MAX 32768 FOR 16 BIT OUTPUT\nibpm\t\t=\t\tp14\t\t\t\t\t; 4/4 BARS PER MINUTE (OR BEATS?)\ninotedur\t=\t\t15/ibpm\nicount\tinit\t\t0\t\t\t\t\t; SEQUENCE COUNTER (FOR NOTES)\nicount2\tinit\t\t0\t\t\t\t\t; ID. FOR DURATIONS\nipcount2\tinit\t\t0\nidecaydur\t=\t\tinotedur\nimindecay\t=\t\t(idecaydur<.2 ? .2 : idecaydur) ; SET MINIMUM DECAY TO .2 OR inotedur\nipitch\ttable\t0,iseqfn\t\t\t\t; FIRST NOTE IN THE SEQUENCE\nipitch\t=\t\tcpspch(itranspose + 6 + ipitch/100)\nkaccurve\tinit\t\t0\n\n; TWISTING THE KNOBS FROM THE SCORE\nkfco\t\tline\t\tp4, p3, p5\nkres\t\tline\t\tp6, p3, p7\nkenvmod\tline\t\tp8, p3, p9\nkdecay\tline\t\tp10, p3, p11\nkaccent\tline\t\tp12, p3, p13\n\nstart:\n; PITCH & PORTAMENTO FROM THE SEQUENCE\nippitch\t=\t\tipitch\nipitch\ttable\tftlen(iseqfn)*frac(icount/ftlen(iseqfn)),iseqfn\nipitch\t=\t\tcpspch(itranspose + 6 + ipitch/100)\n\n\t\tif\t\tipcount2 != icount2 goto noslide\nkpitch\tlinseg\tippitch, .06, ipitch, inotedur-.06, ipitch\n\t\tgoto\t\tnext\n\nnoslide:\nkpitch\t=\t\tipitch\n\nnext:\nipcount2\t=\t\ticount2\n\t\ttimout\t0,inotedur,contin\nicount\t=\t\ticount + 1\n\t\treinit\tstart\n\t\trireturn\n\ncontin:\n; ACCENT DETECTOR\niacc\t\ttable\tftlen(iaccfn)*frac((icount-1)/ftlen(iaccfn)), iaccfn\n\t\tif\t\tiacc == 0 goto noaccent\nienvdecay\t=\t\t0\t\t\t\t\t; ACCENTED NOTES ARE THE SHORTEST ONES\niremacc\t=\t\ti(kaccurve)\nkaccurve\toscil1i\t0, 1, .4, 3\nkaccurve\t=\t\tkaccurve+iremacc\t\t; SUCCESSIVE ACCENTS CAUSE HYSTERICAL RAISING CUTOFF\n\n\t\tgoto\t\tsequencer\n\nnoaccent:\nkaccurve\t=\t\t0\t\t\t\t\t; NO ACCENT & \"DISCHARGES\" ACCENT CURVE\nienvdecay\t=\t\ti(kdecay)\n\nsequencer:\naremovedc\tinit\t\t0\t\t\t\t\t; SET FEEDBACK TO 0 AT EVERY EVENT\nimult\ttable\tftlen(idurfn)*frac(icount2/ftlen(idurfn)),idurfn\n\t\tif\t\timult != 0 goto noproblemo ; COMPENSATE FOR ZERO PADDING IN THE SEQUENCER\nicount2\t=\t\ticount2 + 1\n\t\tgoto\t\tsequencer\n\nnoproblemo:\nieventdur\t=\t\tinotedur*imult\n\n; TWO ENVELOPES\nkmeg\t\texpseg\t1, imindecay+((ieventdur-imindecay)*ienvdecay), ienvdecay+.000001\nkveg\t\tlinen\t1, .01, ieventdur, .016\t; ATTACK SHOULD BE 4 ms. BUT THERE WOULD BE CLICKS... \n\n; AMPLITUDE ENVELOPE\nkamp\t\t=\t\tkveg*((1-i(kenvmod)) + kmeg*i(kenvmod)*(.5+.5*iacc*kaccent))\n\n; FILTER ENVELOPE\nksweep\t=\t\tkveg * (imaxfreq + (.75*kmeg+.25*kaccurve*kaccent)*kenvmod*(imaxsweep-imaxfreq))\nkfco\t\t=\t\t20 + kfco * ksweep\t\t; CUTOFF ALWAYS GREATER THAN 20 Hz ...\nkfco\t\t=\t\t(kfco > sr/2 ? sr/2 : kfco) ; COULD BE NECESSARY\n\n\t\ttimout\t0, ieventdur, out\nicount2\t=\t\ticount2 + 1\n\t\treinit\tcontin\n\nout:\n; GENERATE BANDLIMITED SAWTOOTH WAVE\nabuzz\tbuzz\t\tkamp, kpitch, sr/(2*kpitch), 1 ,0 ; BANDLIMITED PULSE\nasaw\t\tinteg\tabuzz,0\nasawdc\tatone\tasaw,1\n\n; RESONANT 4-POLE LPF\nainpt\t=\t\tasawdc - aremovedc*kres*ireson\nalpf\t\ttone\t\tainpt,kfco\nalpf\t\ttone\t\talpf,kfco\nalpf\t\ttone\t\talpf,kfco\nalpf\t\ttone\t\talpf,kfco\n\n\t\taout\t\tbalance alpf,asawdc\n\n; FINAL OUTPUT ... AT LAST!\naremovedc\tatone\taout,10\n\t\tout\t\timaxamp*aremovedc\n\t\tendin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1; sine wave\nf3  0 8193   8  0 512 1 1024 1 512 .5 2048 .2 4096  0; accent curve\n\nf4  0  16  -2  12 24 12 14 15 12 0 12 12 24 12 14 15 6 13 16 ; sequencer (pitches are 6.00 + p/100)\nf5  0  32  -2   0  1  0  0  0  0 0  0  0  1  0  1  1 1  0  0 0 1 0 0 1 0 1 1 1 1 0 0 0 0 0 1; accent sequence\nf6  0  16  -2   2     1  1  2    1  1  1  2     1  1 3       1 4 0 0 0; fill with zeroes till next power of 2\n;f6 = durations of events, 1 = note per note, 2 = two tied notes... .\n;note: f4-f5-f6 donÂ´t need to be syncronized... like here (16-32-21)\nf7  0  8  -2   10 0 12 0 7 10 12 7; sequencer (pitches are 6.00 + p/100)\nf8  0  16  -2   1 0  0 0 0  0  0 0 0 0 0 0 0 0 0 0; accent sequence\nf9  0  2  -2   16 0; fill with zeroes till next power of 2\n\nf10  0  8  -2   0 12 0 0 12 0 0 12; sequencer (pitches are 6.00 + p/100)\nf11  0  8  -2   1  1 1 1  1 1 1  1; accent sequence\nf12  0  8  -2   1  1 1 1  1 1 1  1; fill with zeroes till next power of 2\n\n;KNOB POSITION : INITIAL AND FINAL VALUES FROM 0 TO 1\n;    cutoff freq resonance envelope mod. decay   accent     bpm  transpose ft seq   ft acc    ft dur   maxamp\n;          0   -   1          0 ~ 1          ~ .1 - 1       0 - 1       0 - 1   40-300  (octaves)(pitches)(accents)(durations)\n;         start    end        st  end     st  end      st  end     st  end\n\ni1   0 20   .1   .3   .2  .2        .1   .4         .05 .8      0   0      120     2         7        8       9      15000\ni1   0 20  0    1   .5  1         .1   .4         1   1       1   1      120     0         4        5       6       5000\ni1  20 40 .2    1   .5  1         .1   .1         .5  1       .5  1      120     2         7        8       9      15000\ni1  40 20      .5    1   .95 1         1    .9         1   .1      .5  1      120     0         4        5       6       5000\ni1  30 30      .5    1    .5  .5       .5   .5         .5  .5      0   0      120     0        10       11      12       10000\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kgoto start01 using buzz/pulse generator and Butterworth lowpass filter and Butterworth highpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bd4004m_01.orc and bd4004m_01.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  44100\nksmps\t=  1\nnchnls\t=  1\n\n\n/* convert MIDI note number to frequency */\n\n#define MIDI2CPS(xmidikey) # (440.0*exp(log(2.0)*(($xmidikey)-69.0)/12.0)) #\n\n/* convert frequency to MIDI note number */\n\n#define CPS2MIDI(xfreqcps) # (12.0*(log(($xfreqcps)/440.0)/log(2.0))+69.0) #\n\n/* convert velocity to amplitude */\n\n#define VELOC2AMP(xvelocity) # (0.0039+(($xvelocity)*($xvelocity))/16192.0) #\n\n/* convert amplitude to velocity */\n\n#define AMP2VELOC(xamplitude) # (sqrt((($xamplitude)-0.0039)*16192.0)) #\n\n\tseed 0\n\n\tinstr 1\n\n\tkgoto start01\n\n/*-------------------------------------------------------------------------- */\n\nivol\ttable 0,64\t/* volume\t\t\t\t\t*/\nibpm\ttable 1,64\t/* tempo\t\t\t\t\t*/\nirel\ttable 2,64\t/* release time (sec.)\t\t\t\t*/\nidel\ttable 3,64\t/* delay time\t\t\t\t\t*/\nimod0\ttable 4,64\t/* random mod. of delay (sec.)\t\t\t*/\nimod1\ttable 5,64\t/* rnd. mod. of velocity\t\t\t*/\nif01\ttable 6,64\t/* oscillator start frequency (rel.)\t\t*/\nifd1\ttable 7,64\t/* frequency envelope decay speed\t\t*/\nibw01\ttable 8,64\t/* OSC1 BP bandwidth (rel.)\t\t\t*/\nihp1\ttable 9,64\t/* OSC1 HP frequency (rel.)\t\t\t*/\niapf1\ttable 10,64\t/* OSC1 allpass filter start freq. (rel.)\t*/\niapf2\ttable 11,64\t/* OSC1 allpass filter end freq.\t\t*/\niapdx\ttable 12,64\t/* OSC1 allpass filter envelope speed\t\t*/\nifr3\ttable 13,64\t/* OSC2 HP1 frequency / base frq.\t\t*/\nimx3\ttable 14,64\t/* OSC2 HP1 mix\t\t\t\t\t*/\nifr4\ttable 15,64\t/* OSC2 output HP frq. / base freq.\t\t*/\nimx2\ttable 16,64\t/* OSC2 output gain\t\t\t\t*/\nihp2\ttable 17,64\t/* output HP (OSC1+OSC2) frq. (rel. to note f.)\t*/\nibw02\ttable 18,64\t/* output HP resonance\t\t\t\t*/\nifr1\ttable 19,64\t/* output LP start freq. 1 (rel.)\t\t*/\nifdx1\ttable 20,64\t/* output LP freq. 1 envelope decay speed\t*/\nifr2\ttable 21,64\t/* output LP start freq. 2\t\t\t*/\nifdx2\ttable 22,64\t/* output LP freq. 2 envelope decay speed\t*/\nifxBP1\ttable 23,64\t/* noise BP start frequency (Hz)\t\t*/\nifxBP2\ttable 24,64\t/* noise BP end frequency\t\t\t*/\nibw1\ttable 25,64\t/* noise BP bandwidth/freq.\t\t\t*/\nifxLP1\ttable 26,64\t/* noise LP start frequency (Hz)\t\t*/\nifxLP2\ttable 27,64\t/* noise LP end frequency\t\t\t*/\nifxd\ttable 28,64\t/* noise filter envelope speed\t\t\t*/\niattn1\ttable 29,64\t/* noise attack time (sec.)\t\t\t*/\nidecn1\ttable 30,64\t/* noise decay speed\t\t\t\t*/\nimxn\ttable 31,64\t/* noise mix\t\t\t\t\t*/\n\n/*-------------------------------------------------------------------------- */\n\ni001\t=  1/65536\t\t\t/*\t\t\t\t*/\nimkey\t=  p4\t\t\t\t/* MIDI key number\t\t*/\nimvel\t=  p5\t\t\t\t/* MIDI velocity\t\t*/\nivel\t=  $VELOC2AMP(imvel)\t\t/* convert velocity\t\t*/\nim0\tunirand 2\t\t\t/*\t\t\t\t*/\nim1\tunirand 2\t\t\t/*\t\t\t\t*/\nivel\t=  ivel*(1+(im1-1)*imod1)\t/* randomized velocity\t\t*/\nidel\t=  idel+((im0-1)*imod0)\t\t/* randomized delay\t\t*/\nibtime\t=  60/ibpm\t\t\t/* beat time\t\t\t*/\ni002\t=  exp(log(i001)*(idel+irel+16/kr)/irel)\nivol\t=  ivel*ivol\n\nicps\t=  $MIDI2CPS(imkey)\t\t/* base freq.\t*/\nifmax\t=  sr*0.48\t\t\t/* max. allowed freq.\t*/\nihp2\t=  ihp2*icps\nibw02x\t=  ihp2/ibw02\nifxLP2\t=  ifxLP2-ifxLP1\nifxBP2\t=  ifxBP2-ifxBP1\niapf2\t=  iapf2-iapf1\n\nixtime\t=  (irel+idel+16/kr)\n\np3\t=  p3+ixtime\t\t\t\t/* increase note length */\n\nstart01:\n\nkenvn1\texpseg 1,ibtime/idecn1,0.5\t\t\t/* noise generator */\nkenvn2\tlinseg 0,iattn1,1,1,1\naenvn\tinterp kenvn1*kenvn2\nkenvn3\texpseg 1,ibtime/ifxd,0.5\nkenvn3\t=  (1-kenvn3)\nkfxBPf\t=  ifxBP1+(kenvn3*ifxBP2)\na1l\tunirand 2\na1l\tbutterbp imxn*32768*(a1l-1)*aenvn,kfxBPf,kfxBPf*ibw1\na1l\tbutterlp a1l,ifxLP1+(ifxLP2*kenvn3)\n\nkamp1\texpseg 1,p3-ixtime,1,ixtime,i002\t\t/* envelopes */\nkfrq1   expseg 1,ibtime/ifd1,0.5\nkfrq\t=  icps*(1+kfrq1*(if01-1))\t/* kfrq  = osc. frequency */\nkapfr\texpseg 1,ibtime/iapdx,0.5\t/* kapfr = allpass filter frequency */\nkapfr\t=  kfrq*(iapf1+iapf2*(1-kapfr))\nkfrx1\texpseg 1,ibtime/ifdx1,0.5\nkfrx2\texpseg 1,ibtime/ifdx2,0.5\nkfrx\t=  kfrq*(kfrx1*ifr1+kfrx2*ifr2)\nkfrx\t=  (kfrx>ifmax ? ifmax : kfrx)\t/* kfrx  = LP filter frequency */\n\nknumh\t=  sr/(2*kfrq)\t\t\t/* oscillator */\na1\tbuzz sr/(10*3.14159265), kfrq, knumh, 256, 0\na2\tbuzz sr/(10*3.14159265), kfrq, knumh, 256, 0.5\na1\ttone (a1-a2)*16384, 10\na2\t=  a1\t\t\t\t\t/* a1 = a2 = osc. signal */\n\na1\tbutterhp a1,kfrq*ihp1\t\t\t\t/* filters */\na1      butterbp a1,kfrq,kfrq*ibw01\na1x\ttone a1,kapfr\na1\t=  2*a1x-a1\na3      butterhp a2,kfrq*ifr3\na2\t=  a2+a3*imx3\na2\tbutterhp a2,kfrq*ifr4\na0x\t=  a2*imx2+a1\natmp\tbutterbp a0x*ibw02,ihp2,ibw02x\na0x \tbutterhp a0x+atmp,ihp2\na0x\tbutterlp a0x,kfrx\n\na0y\tdelay (a0x+a1l)*ivol*kamp1,idel\n\n\tout  a0y\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt 0.00\t150.000\t\t/* tempo\t*/\n\n#define rhytm1(STIME) #\n\ni 1\t[$STIME+0.0000]\t\t0.4375\t31\t120\ni 1\t[$STIME+1.0200]\t\t0.4375\t31\t116\ni 1\t[$STIME+2.0100]\t\t0.4375\t31\t124\ni 1\t[$STIME+3.0000]\t\t0.4375\t31\t116\n\ni 1\t[$STIME+4.0000]\t\t0.4375\t31\t118\ni 1\t[$STIME+4.9900]\t\t0.4375\t31\t116\ni 1\t[$STIME+5.9800]\t\t0.4375\t31\t114\ni 1\t[$STIME+6.9700]\t\t0.4375\t31\t112\n\n#\n\n$rhytm1(0)\n$rhytm1(8)\n\n/* ------------------------------------------------------------------------- */\n\nf 64 0 32 -2\t1.5\t\t/* volume\t\t\t\t*/\n\t\t150\t\t/* tempo\t\t\t\t*/\n\n\t\t0.1667\t\t/* release time (sec.)\t\t\t*/\n\t\t0.01\t\t/* delay time\t\t\t\t*/\n\t\t0.0\t\t/* random mod. of delay (sec.)\t\t*/\n\t\t0.0\t\t/* rnd. mod. of velocity\t\t*/\n\n\t\t5.3333\t\t/* oscillator start frequency (rel.)\t*/\n\t\t14.0\t\t/* frequency envelope decay speed\t*/\n\t\t0.5\t\t/* OSC1 BP bandwidth (rel.)\t\t*/\n\t\t0.0625\t\t/* OSC1 HP frequency (rel.)\t\t*/\n\t\t2.0\t\t/* OSC1 allp. filter start freq. (rel.)\t*/\n\t\t0.0625\t\t/* OSC1 allpass filter end freq.\t*/\n\t\t8\t\t/* OSC1 allpass filter envelope speed\t*/\n\t\t8\t\t/* OSC2 HP1 frequency (rel.)\t\t*/\n\t\t-3\t\t/* OSC2 HP1 mix\t\t\t\t*/\n\t\t0.5\t\t/* OSC2 output HP frq. (rel.)\t\t*/\n\t\t0.4\t\t/* OSC2 output gain\t\t\t*/\n\t\t1.0\t\t/* output HP frq. (rel. to note f.)\t*/\n\t\t2.0\t\t/* output HP resonance\t\t\t*/\n\t\t24\t\t/* output LP start freq. 1 (rel.)\t*/\n\t\t16\t\t/* output LP freq. env. 1 decay speed\t*/\n\t\t8\t\t/* output LP start freq. 2\t\t*/\n\t\t8\t\t/* output LP freq. env. 2 decay speed\t*/\n\n\t\t7040\t\t/* noise BP start frequency (Hz)\t*/\n\t\t7040\t\t/* noise BP end frequency\t\t*/\n\t\t2\t\t/* noise BP bandwidth/freq.\t\t*/\n\t\t3520\t\t/* noise LP start frequency (Hz)\t*/\n\t\t55\t\t/* noise LP end frequency\t\t*/\n\t\t12\t\t/* noise filter envelope speed\t\t*/\n\t\t0.01\t\t/* noise attack time (sec.)\t\t*/\n\t\t3\t\t/* noise decay speed\t\t\t*/\n\t\t0.15\t\t/* noise mix\t\t\t\t*/\n\n/*-------------------------------------------------------------------------- */\n\nf 256 0 262144 10 1\n\ne\t/* end of score */\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for \"SOLINA\" STRING ENSEMBLE AS THE CARRIER using vocoder and buzz/pulse generator and Butterworth highpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from cvocoder.orc and cvocoder.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\n\n\n               zakinit   10,10\n\ninstr          1                             ; \"SOLINA\" STRING ENSEMBLE AS THE CARRIER\nkamp           linen     1, 1,p3,1\nkamp2          linen     1, 2,p3,1\nkpitch         init      cpspch(p4)\n\nalfo1          lfo       .001,.8\nalfo2          lfo       .001,.56\n\nabuzz1         buzz      kamp, kpitch*(1+alfo1), sr/(2*kpitch), 1 ,0\nasaw1          filter2   abuzz1, 1, 1, 1, -.95                        ; WEAK BASS RESPONSE\nabuzz2         buzz      kamp, kpitch*(1-alfo2), sr/(2*kpitch), 1 ,0\nasaw2          filter2   abuzz2, 1, 1, 1, -.95                        ; WEAK BASS RESPONSE\nabuzz3         buzz      kamp2, 2*kpitch, sr/(4*kpitch), 1 ,0         ; 8TH HIGHER\nasaw3          filter2   abuzz3, 1, 1, 1, -.999\n\namix           =         .25*(asaw1+asaw2+2*asaw3)\n\n;ADD SOME CHORUS\nadel1          lfo       .01, .8\nadel1          =         .04*(1+adel1)\nadel2          lfo       .03, .7\nadel2          =         .04*(1+adel2)\nadel3          lfo       .02, .9\nadel3          =         .04*(1+adel3)\naflanger1      flanger   amix, adel1, 0, .1\naflanger2      flanger   amix, adel2, 0, .1\naflanger3      flanger   amix, adel3, 0, .1\n\namix2          =         .5*amix + .2*(aflanger1+aflanger2+aflanger3)\n;amix2         gauss     1                                            ;TEST WITH NOISE CARRIER\nzawm           amix      2,0\n;              out       amix2*4000\nendin\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\ninstr          2         ; ANOTHER ANALOG VOCODER\n;CODED BY JOSEP M COMAJUNCOSAS / NOVÂ´98\n; FEATURES : 8 BANDS WITH ASSIGNABLE CARRIER & MODULATOR INPUTS\n; FLEXIBLE ROUTING WITH THE ZAK SYSTEM AND SELECTABLE FREQ. WITH TABLE L.U.\n; IMPROVED FREQ. RESPONSE WITH THE ADDITION OF AN UNVOCODED HI.FREQ. SIGNAL\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;TO GET THE MOST OF THIS INSTRUMENT\n;RECORD YOUR VOICE SLOWLY AND CLEARLY\n;REDUCT NOISE, COMPRESS A LOT AND NORMALISE\n;ADDING REVERB TO YOUR VOICE\n;BEFORE VOCODING CAN BE REALLY COOL. TRY IT!\n\n;USER SETTINGS HERE ********\n;ROUTING TABLE\nirft           =         2\n;FREQ          TABLE\nichfft         =         6\n;FILTER POLES\nipoles         =         6\n;RMS RACKING\niperiod        =         60;123\n;HP DRY MIX\nihpdry         =         .4\n\n;MODULATOR INPUT\namod           soundin   \"hellorcb2.aif\"\namod           butterhp  amod,30\n;carrier       input\nacarr          zar       0\n;***************************\n\n;CHANNELS FREQ. SETUP\nif0            table     0,ichfft\nif1            table     1,ichfft\nif2            table     2,ichfft\nif3            table     3,ichfft\nif4            table     4,ichfft\nif5            table     5,ichfft\nif6            table     6,ichfft\nif7            table     7,ichfft\n\n;if0           =         cpspch(if0)\n;if1           =         cpspch(if1)\n;if2           =         cpspch(if2)\n;if3           =         cpspch(if3)\n;if4           =         cpspch(if4)\n;if5           =         cpspch(if5)\n;if6           =         cpspch(if6)\n;if7           =         cpspch(if7)\n\n;COMPUTE BANDWIDTHS\nibw1           =         if2-if0\nibw2           =         if3-if1\nibw3           =         if4-if2\nibw4           =         if5-if3\nibw5           =         if6-if4\nibw6           =         if7-if3\n\n;ANALYSE MODULATOR\nam0            tonex     amod,if0,ipoles\nam1            resonx    amod,if1,ibw1,ipoles,1\nam2            resonx    amod,if2,ibw2,ipoles,1\nam3            resonx    amod,if3,ibw3,ipoles,1\nam4            resonx    amod,if4,ibw4,ipoles,1\nam5            resonx    amod,if5,ibw5,ipoles,1\nam6            resonx    amod,if6,ibw6,ipoles,1\nam7            atonex    amod,if7,ipoles\n\n;GET RMS FROM EACH MOD. BAND\nkrms0          rms       am0, iperiod\nkrms1          rms       am1, iperiod\nkrms2          rms       am2, iperiod\nkrms3          rms       am3, iperiod\nkrms4          rms       am4, iperiod\nkrms5          rms       am5, iperiod\nkrms6          rms       am6, iperiod\nkrms7          rms       am7, iperiod\n\n;WRITE RMS TO ZAK SPACE\nzkw            krms      0,0\nzkw            krms      1,1\nzkw            krms      2,2\nzkw            krms      3,3\nzkw            krms      4,4\nzkw            krms      5,5\nzkw            krms      6,6\nzkw            krms      7,7\n\n;ANALYSE CARRIER\nac0            tonex     acarr,if0,ipoles\nac1            resonx    acarr,if1,ibw1,ipoles,1\nac2            resonx    acarr,if2,ibw2,ipoles,1\nac3            resonx    acarr,if3,ibw3,ipoles,1\nac4            resonx    acarr,if4,ibw4,ipoles,1\nac5            resonx    acarr,if5,ibw5,ipoles,1\nac6            resonx    acarr,if6,ibw6,ipoles,1\nac7            atonex    acarr,if7,ipoles\n\n;ROUTING SETUP\nir0            table     0,irft\nir1            table     1,irft\nir2            table     2,irft\nir3            table     3,irft\nir4            table     4,irft\nir5            table     5,irft\nir6            table     6,irft\nir7            table     7,irft\n\n;BAND ROUTING\nkrmsr0         zkr       ir0\nkrmsr1         zkr       ir1\nkrmsr2         zkr       ir2\nkrmsr3         zkr       ir3\nkrmsr4         zkr       ir4\nkrmsr5         zkr       ir5\nkrmsr6         zkr       ir6\nkrmsr7         zkr       ir7\n\n;BALANCE CARRIER W. MOD. SIGNAl\nab0            gain      ac0, krmsr0,iperiod\nab1            gain      ac1, krmsr1,iperiod\nab2            gain      ac2, krmsr2,iperiod\nab3            gain      ac3, krmsr3,iperiod\nab4            gain      ac4, krmsr4,iperiod\nab5            gain      ac5, krmsr5,iperiod\nab6            gain      ac6, krmsr6,iperiod\nab7            gain      ac7, krmsr7,iperiod\n\n;MIX ALL BALANCED BANDS\n; + SOME OF THE ORIGINAL 7TH CHANNEL\n;FOR BETTER INTELIGIBILITY\namix           =         .125*(ab0+ab1+ab2+ab3+ab4+ab5+ab6+ab7+ihpdry*am7)\n\n               out       amix*10\n\n               zacl      0,0                      ;CLEAR BEFORE NEXT PASS\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 32768 10 1\n\n;BAND ROUTING : NORMAL SETTINGS\nf2 0 8 -2 0 1 2 3 4 5 6 7\n;INVERTED SETTINGS\nf3 0 8 -2 7 6 5 4 3 2 1 0\n;RANDOM SETTINGS (YOU CAN EVEN REPEAT A CHANNEL)\nf4 0 8 -2 1 6 7 4 3 5 2 0\nf5 0 8 -2 0 0 1 1 5 7 6 4\n\n;VOCODER BAND FREQUENCIES\n;f6 0 8 -2 7.09 8.05 9.01 9.09 10.05 11.01 11.09 12.05 13.01\n;f6 0 8 -2 6.09 7.05 8.01 8.09 9.05 10.01 10.09 11.05 12.01\nf6 0 8 -2 200  265 390 550 800 1200 1770 2650 3900 4600\n\ni1 0 4 8.00 .24\ni1 0 . 8.07 .42\ni1 0 . 9.02 .23\ni1 0 . 9.05 .41\ni1 0 . 9.10 .14\n\ni1 3.9 4 7.07 .24\ni1 . . 8.05 .42\ni1 . . 8.10 .23\ni1 . . 9.05 .41\ni1 . . 9.09 .14\n\ni1 7.8 4 7.10 .24\ni1 . . 8.09 .42\ni1 . . 9.02 .23\ni1 . . 9.05 .41\ni1 . . 9.07 .14\n\ni1 11.7 4 7.05 .24\ni1 . . 8.09 .42\ni1 . . 8.10 .23\ni1 . . 9.02 .41\n\ni2 0 17\ne\n; A PENTATONIC MODULATION\n;NICE AURAL EFFECT\n;RESSEMBLES A VOCODER\ni1 4 8 7.00 .4\ni1 4 8 9.02 .2\ni1 0 8 8.00 .24\ni1 0 8 8.07 .42\ni1 0 6 9.02 .23\ni1 0 5 9.05 .41\ni1 0 5 9.10 .14\ni1 3 5 9.04 .46\ni1 3 5 9.09 .29\ni1 6 5 9.04 .86\ni1 6 5 10.07 .67\ni1 6 5 6.00 .36\ni1 6 5 7.07 .82\ni2 0 13\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and amplitude balance and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 303f.orc and 303f.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         44100\nksmps          =         1\n\n\n               instr 1\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n; BASSLINE ROLAND TB-303 EMULATOR\n; CODED BY JOSEP MÂª COMAJUNCOSAS\n; Sept - Nov 1997\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n; INITIAL SETTINGS; CONTROL THE OVERAL CHARACTER OF THE SOUND\n\nitranspose     init      0              ; 1 raise the whole seq. 1 octave, etc.\nimaxfreq       =         1000           ; max.filter cutoff freq. when ienvmod = 0\nimaxsweep      =         10000          ; sr/2... max.filter freq. at kenvmod & kaccent= 1\nimaxamp        =         20000          ; maximum amplitude. Max 32768 for 16 bit output\nireson         =         1              ;scale the resonance as you like (you can make the filter to oscillate...)\n\n; INIT VARIABLES; DONÂ´T TOUCH THIS!\nibpm           =         p14                                ; 4/4 bars per minute (or beats?)\ninotedur       =         15/ibpm\nicount         init      0                                  ; sequence counter (for notes)\nicount2        init      0                                  ; id. for durations\nipcount2       init      0\nidecaydur      =         inotedur\nimindecay      =         (idecaydur<.2 ? .2 : idecaydur)    ; set minimum decay to .2 or inotedur\nipitch         table     0,4; first note in the sequence\nipitch         =         cpspch(itranspose + 6 + ipitch/100)\nkaccurve       init      0\n\n; TWISTING THE KNOBS FROM THE SCORE\nkfco           line      p4, p3, p5\nkres           line      p6, p3, p7\nkenvmod        line      p8, p3, p9\nkdecay         line      p10, p3, p11\nkaccent        line      p12, p3, p13\n\nstart:\n; PITCH FROM THE SEQUENCE + PORTAMENTO\nippitch        =         ipitch\nipitch         table     ftlen(4)*frac(icount/ftlen(4)),4\nipitch         =         cpspch(itranspose + 6 + ipitch/100)\n\nif ipcount2    !=        icount2 goto noslide\nkpitch         linseg    ippitch, .06, ipitch, inotedur-.06, ipitch\ngoto next\n\nnoslide:\nkpitch         =         ipitch\n\nnext:\nipcount2       =         icount2\n               timout    0,inotedur,contin\nicount         =         icount + 1\n               reinit    start\n               rireturn\n\ncontin:\n; ACCENT DETECTOR\niacc           table     ftlen(5)*frac((icount-1)/ftlen(5)), 5\nif iacc == 0 goto noaccent\nienvdecay      =         0                                            ; accented notes are the shortest ones\niremacc        =         i(kaccurve)\nkaccurve       oscil1i   0, 1, .4, 3\nkaccurve       =         kaccurve+iremacc                             ; successive accents cause hysterical raising cutoff\n\ngoto sequencer\n\nnoaccent:\nkaccurve       =         0                                            ; no accent & \"discharges\" accent curve\nienvdecay      =         i(kdecay)\n\nsequencer:\naremovedc      init      0                                            ; set feedback to 0 at every event\nimult          table     ftlen(6)*frac(icount2/ftlen(6)),6\nif imult       !=        0 goto noproblemo                            ; compensate for zero padding in the sequencer\nicount2        =         icount2 + 1\ngoto sequencer\n\nnoproblemo:\nieventdur      =         inotedur*imult\n\n; TWO ENVELOPES\nkmeg           expseg    1, imindecay+((ieventdur-imindecay)*ienvdecay),ienvdecay+.000001\nkveg           linen     1, .01, ieventdur, .016                      ; attack should be 4 ms. but there would be clicks...\n\n; AMPLITUDE ENVELOPE\nkamp           =         kveg*((1-i(kenvmod)) + kmeg*i(kenvmod)*(.5+.5*iacc*kaccent))\n\n; FILTER ENVELOPE\nksweep         =         kveg * (imaxfreq + (.75*kmeg+.25*kaccurve*kaccent)*kenvmod*(imaxsweep-imaxfreq))\nkfco           =         20 + kfco * ksweep                           ; cutoff always greater than 20 Hz ...\nkfco           =         (kfco > sr/2 ? sr/2 : kfco)                  ; could be necessary\n\n               timout    0, ieventdur, out\nicount2        =         icount2 + 1\n               reinit    contin\n\nout:\n; GENERATE BANDLIMITED SAWTOOTH WAVE\nabuzz          buzz      kamp, kpitch, sr/(2*kpitch), 1 ,0            ; bandlimited pulse\nasaw           integ     abuzz,0\nasawdc         atone     asaw,1\n\n; RESONANT 4-POLE LPF\nainpt          =         asawdc - aremovedc*kres*ireson\nalpf           tone      ainpt,kfco\nalpf           tone      alpf,kfco\nalpf           tone      alpf,kfco\nalpf           tone      alpf,kfco\n\n               aout      balance alpf,asawdc\n\n; FINAL OUTPUT ... AT LAST!\naremovedc      atone     aout,10\n               out       imaxamp*aremovedc\n               endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1                                                                                                          ; sine wave\nf3  0 8193   8  0 512 1 1024 1 512 .5 2048 .2 4096  0                                                    ; accent curve\nf4  0  16  -2  12 24 12 14 15 12 0 12 12 24 12 14 15 6 13 16                                             ; sequencer (pitches are 6.00 + p/100)\nf5  0  32  -2   0  1  0  0  0  0 0  0  0  1  0  1  1 1  0  0 0 1 0 0 1 0 1 1 1 1 0 0 0 0 0 1   ; accent sequence\nf6  0  16  -2   2     1  1  2    1  1  1  2     1  1 3       1 4 0 0 0                                   ; fill with zeroes till next power of 2\n\n; f6 = durations of events, 1 = note per note, 2 = two tied notes... .\n; note: f4-f5-f6 donÂ´t need to be syncronized... like here (16-32-21)\n\nf7 0 1024   8 -.8 42 -.78  200 -.74 200 -.7 140 .7  200 .74 200 .78 42 .8                           ; distortion table\n                                                                                                                        ; f7 borrowed from H.MikelsonÂ´s TB-303 emulator. Tnx!\n\n;------------ KNOB POSITION : INITIAL AND FINAL VALUES FROM 0 TO 1--------------------\n;   cutoff freq resonance envelope mod. decay       accent     bpm\n;     0   -   1  0 ~ 1  ~ .1 - 1  0 - 1       0 - 1   40-300\n;       start    end  st  end   st  end  st  end     st  end\n\ni1   0 10  .1       .3  .2    .2        .1   .4   .05  .8    0   0    120\ni1  11 10  .95      1         .1   1    .8   1          .1       .01  0         1      120\ni1  22 10  0        1    .5   1         .1   .4   1    1     1   1    120\ni1  33 10   .5      1         .95  1     1   .9         .1       0         1         1      120\ni1  44 10  .05      1    .5   1         .1   .1   .5   1    .5   1         120\n\n;------------------------------END OF SCORE-------------------------------------------\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kgoto start01 using buzz/pulse generator and Butterworth lowpass filter and Butterworth highpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bd4004m_04.orc and bd4004m_04.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  44100\nksmps\t=  1\nnchnls\t=  1\n\n\n/* convert MIDI note number to frequency */\n\n#define MIDI2CPS(xmidikey) # (440.0*exp(log(2.0)*(($xmidikey)-69.0)/12.0)) #\n\n/* convert frequency to MIDI note number */\n\n#define CPS2MIDI(xfreqcps) # (12.0*(log(($xfreqcps)/440.0)/log(2.0))+69.0) #\n\n/* convert velocity to amplitude */\n\n#define VELOC2AMP(xvelocity) # (0.0039+(($xvelocity)*($xvelocity))/16192.0) #\n\n/* convert amplitude to velocity */\n\n#define AMP2VELOC(xamplitude) # (sqrt((($xamplitude)-0.0039)*16192.0)) #\n\n\tseed 0\n\n\tinstr 1\n\n\tkgoto start01\n\n/*-------------------------------------------------------------------------- */\n\nivol\ttable 0,64\t/* volume\t\t\t\t\t*/\nibpm\ttable 1,64\t/* tempo\t\t\t\t\t*/\nirel\ttable 2,64\t/* release time (sec.)\t\t\t\t*/\nidel\ttable 3,64\t/* delay time\t\t\t\t\t*/\nimod0\ttable 4,64\t/* random mod. of delay (sec.)\t\t\t*/\nimod1\ttable 5,64\t/* rnd. mod. of velocity\t\t\t*/\nif01\ttable 6,64\t/* oscillator start frequency (rel.)\t\t*/\nifd1\ttable 7,64\t/* frequency envelope decay speed\t\t*/\nibw01\ttable 8,64\t/* OSC1 BP bandwidth (rel.)\t\t\t*/\nihp1\ttable 9,64\t/* OSC1 HP frequency (rel.)\t\t\t*/\niapf1\ttable 10,64\t/* OSC1 allpass filter start freq. (rel.)\t*/\niapf2\ttable 11,64\t/* OSC1 allpass filter end freq.\t\t*/\niapdx\ttable 12,64\t/* OSC1 allpass filter envelope speed\t\t*/\nifr3\ttable 13,64\t/* OSC2 HP1 frequency / base frq.\t\t*/\nimx3\ttable 14,64\t/* OSC2 HP1 mix\t\t\t\t\t*/\nifr4\ttable 15,64\t/* OSC2 output HP frq. / base freq.\t\t*/\nimx2\ttable 16,64\t/* OSC2 output gain\t\t\t\t*/\nihp2\ttable 17,64\t/* output HP (OSC1+OSC2) frq. (rel. to note f.)\t*/\nibw02\ttable 18,64\t/* output HP resonance\t\t\t\t*/\nifr1\ttable 19,64\t/* output LP start freq. 1 (rel.)\t\t*/\nifdx1\ttable 20,64\t/* output LP freq. 1 envelope decay speed\t*/\nifr2\ttable 21,64\t/* output LP start freq. 2\t\t\t*/\nifdx2\ttable 22,64\t/* output LP freq. 2 envelope decay speed\t*/\nifxBP1\ttable 23,64\t/* noise BP start frequency (Hz)\t\t*/\nifxBP2\ttable 24,64\t/* noise BP end frequency\t\t\t*/\nibw1\ttable 25,64\t/* noise BP bandwidth/freq.\t\t\t*/\nifxLP1\ttable 26,64\t/* noise LP start frequency (Hz)\t\t*/\nifxLP2\ttable 27,64\t/* noise LP end frequency\t\t\t*/\nifxd\ttable 28,64\t/* noise filter envelope speed\t\t\t*/\niattn1\ttable 29,64\t/* noise attack time (sec.)\t\t\t*/\nidecn1\ttable 30,64\t/* noise decay speed\t\t\t\t*/\nimxn\ttable 31,64\t/* noise mix\t\t\t\t\t*/\n\n/*-------------------------------------------------------------------------- */\n\ni001\t=  1/65536\t\t\t/*\t\t\t\t*/\nimkey\t=  p4\t\t\t\t/* MIDI key number\t\t*/\nimvel\t=  p5\t\t\t\t/* MIDI velocity\t\t*/\nivel\t=  $VELOC2AMP(imvel)\t\t/* convert velocity\t\t*/\nim0\tunirand 2\t\t\t/*\t\t\t\t*/\nim1\tunirand 2\t\t\t/*\t\t\t\t*/\nivel\t=  ivel*(1+(im1-1)*imod1)\t/* randomized velocity\t\t*/\nidel\t=  idel+((im0-1)*imod0)\t\t/* randomized delay\t\t*/\nibtime\t=  60/ibpm\t\t\t/* beat time\t\t\t*/\ni002\t=  exp(log(i001)*(idel+irel+16/kr)/irel)\nivol\t=  ivel*ivol\n\nicps\t=  $MIDI2CPS(imkey)\t\t/* base freq.\t*/\nifmax\t=  sr*0.48\t\t\t/* max. allowed freq.\t*/\nihp2\t=  ihp2*icps\nibw02x\t=  ihp2/ibw02\nifxLP2\t=  ifxLP2-ifxLP1\nifxBP2\t=  ifxBP2-ifxBP1\niapf2\t=  iapf2-iapf1\n\nixtime\t=  (irel+idel+16/kr)\n\np3\t=  p3+ixtime\t\t\t\t/* increase note length */\n\nstart01:\n\nkenvn1\texpseg 1,ibtime/idecn1,0.5\t\t\t/* noise generator */\nkenvn2\tlinseg 0,iattn1,1,1,1\naenvn\tinterp kenvn1*kenvn2\nkenvn3\texpseg 1,ibtime/ifxd,0.5\nkenvn3\t=  (1-kenvn3)\nkfxBPf\t=  ifxBP1+(kenvn3*ifxBP2)\na1l\tunirand 2\na1l\tbutterbp imxn*32768*(a1l-1)*aenvn,kfxBPf,kfxBPf*ibw1\na1l\tbutterlp a1l,ifxLP1+(ifxLP2*kenvn3)\n\nkamp1\texpseg 1,p3-ixtime,1,ixtime,i002\t\t/* envelopes */\nkfrq1   expseg 1,ibtime/ifd1,0.5\nkfrq\t=  icps*(1+kfrq1*(if01-1))\t/* kfrq  = osc. frequency */\nkapfr\texpseg 1,ibtime/iapdx,0.5\t/* kapfr = allpass filter frequency */\nkapfr\t=  kfrq*(iapf1+iapf2*(1-kapfr))\nkfrx1\texpseg 1,ibtime/ifdx1,0.5\nkfrx2\texpseg 1,ibtime/ifdx2,0.5\nkfrx\t=  kfrq*(kfrx1*ifr1+kfrx2*ifr2)\nkfrx\t=  (kfrx>ifmax ? ifmax : kfrx)\t/* kfrx  = LP filter frequency */\n\nknumh\t=  sr/(2*kfrq)\t\t\t/* oscillator */\na1\tbuzz sr/(10*3.14159265), kfrq, knumh, 256, 0\na2\tbuzz sr/(10*3.14159265), kfrq, knumh, 256, 0.5\na1\ttone (a1-a2)*16384, 10\na2\t=  a1\t\t\t\t\t/* a1 = a2 = osc. signal */\n\na1\tbutterhp a1,kfrq*ihp1\t\t\t\t/* filters */\na1      butterbp a1,kfrq,kfrq*ibw01\na1x\ttone a1,kapfr\na1\t=  2*a1x-a1\na3      butterhp a2,kfrq*ifr3\na2\t=  a2+a3*imx3\na2\tbutterhp a2,kfrq*ifr4\na0x\t=  a2*imx2+a1\natmp\tbutterbp a0x*ibw02,ihp2,ibw02x\na0x \tbutterhp a0x+atmp,ihp2\na0x\tbutterlp a0x,kfrx\n\na0y\tdelay (a0x+a1l)*ivol*kamp1,idel\n\n\tout  a0y\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt 0.00\t140.000\t\t/* tempo\t*/\n\n#define rhytm1(STIME) #\n\ni 1\t[$STIME+0.0000]\t\t0.4375\t32\t120\ni 1\t[$STIME+1.0100]\t\t0.4375\t32\t112\ni 1\t[$STIME+2.0150]\t\t0.4375\t32\t124\ni 1\t[$STIME+3.0100]\t\t0.4375\t32\t112\n\ni 1\t[$STIME+4.0000]\t\t0.4375\t32\t116\ni 1\t[$STIME+5.0100]\t\t0.4375\t32\t112\ni 1\t[$STIME+6.0150]\t\t0.4375\t32\t116\ni 1\t[$STIME+7.0100]\t\t0.4000\t32\t112\n\n#\n\n$rhytm1(0)\n$rhytm1(8)\n\ni 1\t15.5\t0.4\t32\t116\n\n/* ------------------------------------------------------------------------- */\n\nf 64 0 32 -2\t0.6\t\t/* volume\t\t\t\t*/\n\t\t140\t\t/* tempo\t\t\t\t*/\n\n\t\t0.1667\t\t/* release time (sec.)\t\t\t*/\n\t\t0.01\t\t/* delay time\t\t\t\t*/\n\t\t0.0025\t\t/* random mod. of delay (sec.)\t\t*/\n\t\t0.005\t\t/* rnd. mod. of velocity\t\t*/\n\n\t\t5.3333\t\t/* oscillator start frequency (rel.)\t*/\n\t\t14.0\t\t/* frequency envelope decay speed\t*/\n\t\t0.5\t\t/* OSC1 BP bandwidth (rel.)\t\t*/\n\t\t0.0625\t\t/* OSC1 HP frequency (rel.)\t\t*/\n\t\t1.0\t\t/* OSC1 allp. filter start freq. (rel.)\t*/\n\t\t1.0\t\t/* OSC1 allpass filter end freq.\t*/\n\t\t8\t\t/* OSC1 allpass filter envelope speed\t*/\n\t\t8\t\t/* OSC2 HP1 frequency (rel.)\t\t*/\n\t\t-5\t\t/* OSC2 HP1 mix\t\t\t\t*/\n\t\t0.5\t\t/* OSC2 output HP frq. (rel.)\t\t*/\n\t\t-0.4\t\t/* OSC2 output gain\t\t\t*/\n\t\t1.5\t\t/* output HP frq. (rel. to note f.)\t*/\n\t\t2.0\t\t/* output HP resonance\t\t\t*/\n\t\t-8\t\t/* output LP start freq. 1 (rel.)\t*/\n\t\t64\t\t/* output LP freq. env. 1 decay speed\t*/\n\t\t16\t\t/* output LP start freq. 2\t\t*/\n\t\t8\t\t/* output LP freq. env. 2 decay speed\t*/\n\n\t\t7040\t\t/* noise BP start frequency (Hz)\t*/\n\t\t7040\t\t/* noise BP end frequency\t\t*/\n\t\t2\t\t/* noise BP bandwidth/freq.\t\t*/\n\t\t3520\t\t/* noise LP start frequency (Hz)\t*/\n\t\t55\t\t/* noise LP end frequency\t\t*/\n\t\t12\t\t/* noise filter envelope speed\t\t*/\n\t\t0.01\t\t/* noise attack time (sec.)\t\t*/\n\t\t3\t\t/* noise decay speed\t\t\t*/\n\t\t0.5\t\t/* noise mix\t\t\t\t*/\n\n/*-------------------------------------------------------------------------- */\n\nf 256 0 262144 10 1\n\ne\t/* end of score */\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and modal synthesis and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bd16_01.orc and bd16_01.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  22050\nksmps\t=  2\nnchnls\t=  1\n\n\n/* ------------------------------------------------------------------------- */\n\n\tseed 0\n\n\tinstr 1\n\nimkey\t=  p4\t\t/* get note parameters from score file */\nimvel\t=  p5\n\nicps\t=  440.0*exp(log(2.0)*(imkey-69.0)/12.0)\niamp\t=  0.0039+imvel*imvel/16192\n\n/* ------------------------------------------------------------------------- */\n\nivol\ttable\t 0,\t64\t/* output volume\t\t\t*/\nibpm\ttable\t 1,\t64\t/* tempo\t\t\t\t*/\n\nifrqs\ttable\t 2,\t64\t/* oscillator start frq. / note freq.\t*/\nifrqe\ttable\t 3,\t64\t/* oscillator end frequency / note frq.\t*/\nifrqd\ttable\t 4,\t64\t/* osc. freq. envelope speed\t\t*/\n\niffr1s\ttable\t 5,\t64\t/* lowpass filter start freq. 1 (Hz)\t*/\niffr1d\ttable\t 6,\t64\t/* lowpass filter freq. 1 decay speed\t*/\niffr2s\ttable\t 7,\t64\t/* lowpass filter start freq. 2 (Hz)\t*/\niffr2d\ttable\t 8,\t64\t/* lowpass filter freq. 2 decay speed\t*/\niffr3s\ttable\t 9,\t64\t/* LP filter start freq. 3 / note frq.\t*/\niffr3d\ttable\t10,\t64\t/* lowpass filter freq. 3 decay speed\t*/\niffr4s\ttable\t11,\t64\t/* LP filter start freq. 4 / note frq.\t*/\niffr4d\ttable\t12,\t64\t/* lowpass filter freq. 4 decay speed\t*/\n\niEQ1fo\ttable\t13,\t64\t/* EQ 1 frequency / osc. frequency\t*/\niEQ1fn\ttable\t14,\t64\t/* EQ 1 frequency / note frequency\t*/\niEQ1fa\ttable\t15,\t64\t/* EQ 1 frequency (Hz)\t\t\t*/\niEQ1l\ttable\t16,\t64\t/* EQ 1 level\t\t\t\t*/\niEQ1q\ttable\t17,\t64\t/* EQ 1 Q\t\t\t\t*/\niEQ1m\ttable\t18,\t64\t/* EQ 1 mode (0:peak,1:low,2:high)\t*/\n\niEQ2fo\ttable\t19,\t64\t/* EQ 2 frequency / osc. frequency\t*/\niEQ2fn\ttable\t20,\t64\t/* EQ 2 frequency / note frequency\t*/\niEQ2fa\ttable\t21,\t64\t/* EQ 2 frequency (Hz)\t\t\t*/\niEQ2l\ttable\t22,\t64\t/* EQ 2 level\t\t\t\t*/\niEQ2q\ttable\t23,\t64\t/* EQ 2 Q\t\t\t\t*/\niEQ2m\ttable\t24,\t64\t/* EQ 2 mode (0:peak,1:low,2:high)\t*/\n\niEQ3fo\ttable\t25,\t64\t/* EQ 3 frequency / osc. frequency\t*/\niEQ3fn\ttable\t26,\t64\t/* EQ 3 frequency / note frequency\t*/\niEQ3fa\ttable\t27,\t64\t/* EQ 3 frequency (Hz)\t\t\t*/\niEQ3l\ttable\t28,\t64\t/* EQ 3 level\t\t\t\t*/\niEQ3q\ttable\t29,\t64\t/* EQ 3 Q\t\t\t\t*/\niEQ3m\ttable\t30,\t64\t/* EQ 3 mode (0:peak,1:low,2:high)\t*/\n\niEQ4fo\ttable\t31,\t64\t/* EQ 4 frequency / osc. frequency\t*/\niEQ4fn\ttable\t32,\t64\t/* EQ 4 frequency / note frequency\t*/\niEQ4fa\ttable\t33,\t64\t/* EQ 4 frequency (Hz)\t\t\t*/\niEQ4l\ttable\t34,\t64\t/* EQ 4 level\t\t\t\t*/\niEQ4q\ttable\t35,\t64\t/* EQ 4 Q\t\t\t\t*/\niEQ4m\ttable\t36,\t64\t/* EQ 4 mode (0:peak,1:low,2:high)\t*/\n\ninsmix\ttable\t37,\t64\t/* noise mix\t\t\t\t*/\n\niEQn1fo\ttable\t38,\t64\t/* noise EQ 1 frequency / osc. freq.\t*/\niEQn1fn\ttable\t39,\t64\t/* noise EQ 1 frequency / note freq.\t*/\niEQn1fa\ttable\t40,\t64\t/* noise EQ 1 frequency (Hz)\t\t*/\niEQn1l\ttable\t41,\t64\t/* noise EQ 1 level\t\t\t*/\niEQn1q\ttable\t42,\t64\t/* noise EQ 1 Q\t\t\t\t*/\niEQn1m\ttable\t43,\t64\t/* noise EQ 1 mode (0:peak,1:lo,2:hi)\t*/\n\niEQn2fo\ttable\t44,\t64\t/* noise EQ 2 frequency / osc. freq.\t*/\niEQn2fn\ttable\t45,\t64\t/* noise EQ 2 frequency / note freq.\t*/\niEQn2fa\ttable\t46,\t64\t/* noise EQ 2 frequency (Hz)\t\t*/\niEQn2l\ttable\t47,\t64\t/* noise EQ 2 level\t\t\t*/\niEQn2q\ttable\t48,\t64\t/* noise EQ 2 Q\t\t\t\t*/\niEQn2m\ttable\t49,\t64\t/* noise EQ 2 mode (0:peak,1:lo,2:hi)\t*/\n\n/* ------------------------------------------------------------------------- */\n\np3\t=  p3+0.15\t/* increase note length */\n\nibtime\t=  60/ibpm\n\nkamp\tlinseg 1,p3-0.15,1,0.05,0,0.1,0\t\t/* amp. envelope */\nkamp\t=  kamp*iamp*ivol\n\nkcps\tport ifrqe*icps,ibtime/ifrqd,ifrqs*icps\t/* kcps = osc. frequency */\nknumh\t=  sr/(2*kcps)\t\t\t\t/* knumh = num. of harmonics */\n\na_\tbuzz sr/(3.14159265*10),kcps,knumh,1,0\t\t/* square oscillator */\na__\tbuzz sr/(3.14159265*10),kcps,knumh,1,0.5\n\na0\ttone a_-a__,10\n\na_\tunirand 2\t\t\t\t\t/* noise generator */\na_\t=  a_-1\n\na_\tpareq a_,iEQn1fa+icps*iEQn1fn+kcps*iEQn1fo,iEQn1l,iEQn1q,iEQn1m\na_\tpareq a_,iEQn2fa+icps*iEQn2fn+kcps*iEQn2fo,iEQn2l,iEQn2q,iEQn2m\n\na0\t=  a0+insmix*a_\n\n/* EQ */\n\na0\tpareq a0,iEQ1fa+icps*iEQ1fn+kcps*iEQ1fo,iEQ1l,iEQ1q,iEQ1m\na0\tpareq a0,iEQ2fa+icps*iEQ2fn+kcps*iEQ2fo,iEQ2l,iEQ2q,iEQ2m\na0\tpareq a0,iEQ3fa+icps*iEQ3fn+kcps*iEQ3fo,iEQ3l,iEQ3q,iEQ3m\na0\tpareq a0,iEQ4fa+icps*iEQ4fn+kcps*iEQ4fo,iEQ4l,iEQ4q,iEQ4m\n\nkffr1\tport 0,ibtime/iffr1d,iffr1s\t/* LP filter freq. envelopes */\nkffr2\tport 0,ibtime/iffr2d,iffr2s\nkffr3\tport 0,ibtime/iffr3d,iffr3s*icps\nkffr4\tport 0,ibtime/iffr4d,iffr4s*icps\n\nkffrq\t=  kffr1+kffr2+kffr3+kffr4\t/* kffrq = LP filter frequency */\n\na0\tbutterlp a0,kffrq\t\t/* LP filter */\n\na_\t=  a0*kamp\t\t\t/* apply envelope */\n\n\tout a_\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt 0 135.00\t/* tempo */\n\ni 1\t0.0000\t0.4000\t33\t120\ni 1\t1.0100\t0.4000\t33\t112\ni 1\t2.0100\t0.4000\t33\t124\ni 1\t3.0050\t0.4000\t33\t112\ni 1\t4.0000\t0.4000\t33\t116\ni 1\t5.0100\t0.4000\t33\t112\ni 1\t6.0100\t0.4000\t33\t120\ni 1\t6.9900\t0.3000\t33\t120\ni 1\t7.5000\t0.3000\t33\t116\n\ni 1\t8.0000\t0.4000\t33\t120\ni 1\t9.0100\t0.4000\t33\t112\ni 1\t10.010\t0.4000\t33\t124\ni 1\t11.005\t0.4000\t33\t112\ni 1\t12.000\t0.4000\t33\t116\ni 1\t13.010\t0.4000\t33\t112\ni 1\t14.010\t0.4000\t33\t120\ni 1\t15.005\t0.4000\t33\t112\n\n/* ------------------------------------------------------------------------- */\n\nf 64 0 64 -2\t5500.0\t\t/* output volume\t\t\t*/\n\t\t135.0\t\t/* tempo\t\t\t\t*/\n\n\t\t5.3333\t\t/* oscillator start frq. / note freq.\t*/\n\t\t1.0\t\t/* oscillator end frequency / note frq.\t*/\n\t\t16.0\t\t/* osc. freq. envelope speed\t\t*/\n\n\t\t880\t\t/* lowpass filter start freq. 1 (Hz)\t*/\n\t\t128\t\t/* lowpass filter freq. 1 decay speed\t*/\n\t\t0\t\t/* lowpass filter start freq. 2 (Hz)\t*/\n\t\t1\t\t/* lowpass filter freq. 2 decay speed\t*/\n\t\t8\t\t/* LP filter start freq. 3 / note frq.\t*/\n\t\t8\t\t/* lowpass filter freq. 3 decay speed\t*/\n\t\t0\t\t/* LP filter start freq. 4 / note frq.\t*/\n\t\t1\t\t/* lowpass filter freq. 4 decay speed\t*/\n\n\t\t0.5\t\t/* EQ 1 frequency / osc. frequency\t*/\n\t\t0\t\t/* EQ 1 frequency / note frequency\t*/\n\t\t0\t\t/* EQ 1 frequency (Hz)\t\t\t*/\n\t\t0.25\t\t/* EQ 1 level\t\t\t\t*/\n\t\t0.7071\t\t/* EQ 1 Q\t\t\t\t*/\n\t\t1\t\t/* EQ 1 mode (0:peak,1:low,2:high)\t*/\n\n\t\t0.5\t\t/* EQ 2 frequency / osc. frequency\t*/\n\t\t0\t\t/* EQ 2 frequency / note frequency\t*/\n\t\t0\t\t/* EQ 2 frequency (Hz)\t\t\t*/\n\t\t0.25\t\t/* EQ 2 level\t\t\t\t*/\n\t\t0.7071\t\t/* EQ 2 Q\t\t\t\t*/\n\t\t1\t\t/* EQ 2 mode (0:peak,1:low,2:high)\t*/\n\n\t\t0.5\t\t/* EQ 3 frequency / osc. frequency\t*/\n\t\t0\t\t/* EQ 3 frequency / note frequency\t*/\n\t\t0\t\t/* EQ 3 frequency (Hz)\t\t\t*/\n\t\t4\t\t/* EQ 3 level\t\t\t\t*/\n\t\t2.0\t\t/* EQ 3 Q\t\t\t\t*/\n\t\t0\t\t/* EQ 3 mode (0:peak,1:low,2:high)\t*/\n\n\t\t0\t\t/* EQ 4 frequency / osc. frequency\t*/\n\t\t1.5\t\t/* EQ 4 frequency / note frequency\t*/\n\t\t0\t\t/* EQ 4 frequency (Hz)\t\t\t*/\n\t\t2.0\t\t/* EQ 4 level\t\t\t\t*/\n\t\t1.0\t\t/* EQ 4 Q\t\t\t\t*/\n\t\t0\t\t/* EQ 4 mode (0:peak,1:low,2:high)\t*/\n\n\t\t16.0\t\t/* noise mix\t\t\t\t*/\n\n\t\t0\t\t/* noise EQ 1 frequency / osc. freq.\t*/\n\t\t16\t\t/* noise EQ 1 frequency / note freq.\t*/\n\t\t0\t\t/* noise EQ 1 frequency (Hz)\t\t*/\n\t\t0.0625\t\t/* noise EQ 1 level\t\t\t*/\n\t\t0.7071\t\t/* noise EQ 1 Q\t\t\t\t*/\n\t\t1\t\t/* noise EQ 1 mode (0:peak,1:lo,2:hi)\t*/\n\n\t\t0\t\t/* noise EQ 2 frequency / osc. freq.\t*/\n\t\t16\t\t/* noise EQ 2 frequency / note freq.\t*/\n\t\t0\t\t/* noise EQ 2 frequency (Hz)\t\t*/\n\t\t0.0625\t\t/* noise EQ 2 level\t\t\t*/\n\t\t0.7071\t\t/* noise EQ 2 Q\t\t\t\t*/\n\t\t1\t\t/* noise EQ 2 mode (0:peak,1:lo,2:hi)\t*/\n\n/* ------------------------------------------------------------------------- */\n\nf 1 0 262144 10 1\n\ne\t/* end of score */\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Dynamics processor using compressor", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Dynamics.orc and Dynamics.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 1\n\n\ninstr    1 ; Dynamics processor\n\nilevl    = p4                          ; Output level\nishape   = p5                          ; Level curve\nkenv     init 0                        ; Initialize output\nkslope   init 0                        ; Initialize slope\n\nain      soundin  \"Sample1\"\n\nkin      downsamp  ain                 ; Convert to kr\nkin      mirror  kin, 0, 32767         ; Full wave rectify\nif       kin > kenv goto up            ; See if input exceeds output...\nkslope   = kslope + .1                 ; Increment slope\nkenv     = kenv - kslope               ; Ramp down\ngoto     out\nup:\nkslope   = 0                           ; Reset slope\nkenv     = kin                         ; Ramp up\nout:\nkdyn     tablei  kenv/32767, ishape, 1 ; Waveshape dynamics\naout     = ain*(32767/kenv)            ; Remove dynamics from input\nout      aout*kdyn*ilevl               ; Level, process and output\n\nendin\n\n</CsInstruments>\n<CsScore>\nf01 0 4097 7 0 1024 .5 2048 .95 1024 1 ; Compress - medium\nf02 0 4097 9 .25 1 0                   ; Compress - sine curve\nf03 0 4097 7 0 1024 .95 3072 1         ; Compress - severe\nf04 0 4097 7 0 1024 0 0 1 3072 1       ; Gate 1/4\nf05 0 4097 7 0 2048 0 0 1 2048 1       ; Gate 1/2\nf06 0 4097 -7 0 3584 1 512 1           ; Limit 7/8\nf07 0 4097 -7 0 3072 1 1024 1          ; Limit 3/4\nf08 0 4097 7 0 24 .25 1000 .25 3072 1  ; Detail lift\nf09 0 4097 7 0 96 1 4000 0             ; Invert\nf10 0 65 21 1                          ; Random\nf11 0 4097 10 0 0 0 0 0 0 1            ; Granular\n\n;     Strt  Leng  Levl  Curve\ni01   0.00  1.47  0.99  03\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a waveshaper sound using waveshaping and compressor and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from WaveShaper2.orc and WaveShaper2.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 1\n\n\ninstr    1 ; Dynamic Waveshaper - randomly crossfades between 8 tables\n\nilevl    = p4*32767 ; Output level\nirate    = p5       ; Rate\nitabl1   = p6       ; 1st table\nitabl2   = p7       ; 2nd table\nitabl3   = p8       ; 3rd table\nitabl4   = p9       ; 4th table\nitabl5   = p10      ; 5th table\nitabl6   = p11      ; 6th table\nitabl7   = p12      ; 7th table\nitabl8   = p13      ; 8th table\n\nain      soundin  \"Sample1\"\n\nain      = ain/65535\niseed    = rnd(1)\nkdclick  linseg  0, .002, 1, p3 - .004, 1, .002, 0\nkrnd     randi  .5, irate, iseed\nkrnd     = krnd + .5\nkrnd1    table  krnd, 100, 1,  000, 1\nkrnd2    table  krnd, 100, 1, .125, 1\nkrnd3    table  krnd, 100, 1, .250, 1\nkrnd4    table  krnd, 100, 1, .375, 1\nkrnd5    table  krnd, 100, 1, .500, 1\nkrnd6    table  krnd, 100, 1, .625, 1\nkrnd7    table  krnd, 100, 1, .750, 1\nkrnd8    table  krnd, 100, 1, .875, 1\nawav1    tablei  ain, itabl1, 1, .5\nawav2    tablei  ain, itabl2, 1, .5\nawav3    tablei  ain, itabl3, 1, .5\nawav4    tablei  ain, itabl4, 1, .5\nawav5    tablei  ain, itabl5, 1, .5\nawav6    tablei  ain, itabl6, 1, .5\nawav7    tablei  ain, itabl7, 1, .5\nawav8    tablei  ain, itabl8, 1, .5\nasum1    = awav1*krnd1 + awav2*krnd2 + awav3*krnd3 + awav4*krnd4\nasum2    = awav5*krnd5 + awav6*krnd6 + awav7*krnd7 + awav8*krnd8\n;aout     atone  asum1 + asum2, 15\naout     = asum1 + asum2\nout      aout*ilevl*kdclick\n\nendin\n\n</CsInstruments>\n<CsScore>\nf01 0 1025 7 -1 1024 1                             ; No effect\nf02 0 1025 7 1 1024 -1                             ; Inverter\nf03 0 1025 7 0 512 0 512 1                         ; Pos 1/2 wave rectifier\nf04 0 1025 7 -1 512 0 512 0                        ; Neg 1/2 wave rectifier\nf05 0 1025 7 1 512 0 512 1                         ; Full wave rectifier\nf06 0 1025 -7 1 1024 1                             ; + DC offset\nf07 0 1025 -7 -1 1024 -1                           ; - DC offset\nf08 0 1025 -7 -1 512 0 256 .5 256 .5               ; Unipolar clipping distortion\nf09 0 1025 7  0 512 1 0 -1 512 0                   ; 2's complement distortion\nf10 0 1025 17 0 0 205 1 410 2 615 3 820 4          ; 5 Step staircase\nf11 0 1025 17 0 0 128 1 256 2 384 3 512 4 640 5 768 6 896 7 ; 8 Step staircase\nf12 0 1025 8 -1 12 -.99 1000 .99 12 1              ; Gentle distortion\nf13 0 1025 8 -1 256 -.55 256 0 256 .45 256 1       ; Valve distortion\nf14 0 1025 13 1 1 0 2 2 1                          ; Nice Distortion\nf15 0 1025 13 1 1 0 10 .1                          ; Slight 2nd harmonic\nf16 0 1025 7 -1 384 0 256 0 384 1                  ; Crossover distortion\nf17 0 1025 -7 -.5 256 -.5 512 .5 256 .5            ; Hard clipping distortion\nf18 0 1025 7 -1 500 0 6 -1 12 1 6 0 500 1          ; Zero crossing spike\nf19 0 1025 7 -1 512 0 100 .2 2 0 410 1             ; Linear discontinuous\nf20 0 1025 7 -1 128 -.75 0 0 256 0 0 -.25 256 .25 0 0 256 0 0 .75 128 1 ; Holes\nf21 0 1025 7 0 64 1 128 -1 128 1 128 -1 128 1 128 -1 128 1 128 -1 64 0 ; 4 Triangles\nf22 0 1025 9 .5 1 270                              ; Sine curve\nf23 0 1025 5 .001 1024 1                           ; Exponential curve (unipolar)\nf24 0 1025 8 -1 256 -.8 256 0 256 .8 256 1         ; Rough compress\nf25 0 1025 13 1 1 0 1 1                            ; 2nd harmonic\nf26 0 1025 13 1 1 0 1 1 1                          ; 2nd & 3rd harmonics\nf27 0 1025 13 1 1 0 1 0 1                          ; 3rd harmonic\nf28 0 1025 13 1 1 0 1 0 0 1                        ; 4th harmonic\nf29 0 1025 13 1 1 0 1 0 0 0 1                      ; 5th harmonic\nf30 0 1025 13 1 1 0 1 0 0 0 0 1                    ; 6th harmonic\nf31 0 1025 13 1 1 0 1 0 0 0 0 0 1                  ; 7th harmonic\nf32 0 1025 13 1 1 0 1 0 0 0 0 0 0 1                ; 8th harmonic\nf33 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 1              ; 9th harmonic\nf34 0 1025 13 1 1 0 0 1 0 1 0 1 0 1 0 1 0 1 0 1    ; Even harmonics\nf35 0 1025 13 1 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1      ; Odd harmonics\nf36 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1; High harmonics\nf37 0 1025 13 1 1 0 1 0 1 0 0 1 0 0 0 1 0 1        ; Random harmonics\nf38 0 1025 10 0 1                                  ; 2 sines\nf39 0 1025 10 0 0 1                                ; 3 sines\nf40 0 1025 10 0 0 0 1                              ; 4 sines\nf41 0 1025 10 0 0 0 0 1                            ; 5 sines\nf42 0 1025 10 0 0 0 0 0 1                          ; 6 sines\nf43 0 1025 10 0 0 0 0 0 0 1                        ; 7 sines\nf44 0 1025 10 0 0 0 0 0 0 0 1                      ; 8 sines\nf45 0 1025 10 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1      ; 16 sines\nf46 0 1025 7 -1 512 -1 0 1 512 1                   ; 1-Bit D/A\nf47 0 1025 21 2                                    ; Linear Noise\nf48 0 1025 21 1                                    ; White Noise\n\nf100 0 4096 -7 1 512 0 3072 0 512 1                ; 1/4 triangle for crossfade\n\n\n;   Strt  Leng  Levl  Rate  Tabl1 Tabl2 Tabl3 Tabl4 Tabl5 Tabl6 Tabl7 Tabl8\ni1  0.00  1.47  1.00  2.51  11    19    31    16    10    04    05    27\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for DUY 'Shape' ProTools plugin emulator using compressor and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from DUY-Shape.orc and DUY-Shape.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 4410\nksmps    = 10\nnchnls   = 1\n\n\ninstr    1 ; DUY 'Shape' ProTools plugin emulator\n\nilevl    = p4*32767 ; Output level\nicut1    = p5       ; Low/Mid crossover freq\nicut2    = p6       ; Mid/High crossover freq\nitabl1   = p7       ; Low waveshape table\nitabl2   = p8       ; Mid waveshape table\nitabl3   = p9       ; High waveshape table\n\nain      soundin  \"Sample1\"\n\nain      = ain/65536\nalo      tone  ain, icut1\natm      tone  ain, icut2\namd      atone  atm, icut1\nahi      atone  ain, icut2\nalo      tablei  alo, itabl1, 1, .5\namd      tablei  amd, itabl2, 1, .5\nahi      tablei  ahi, itabl3, 1, .5\namix     sum  alo, amd, ahi\namix     dcblock  amix\nout      amix*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\nf01 0 1025 7 -1 1024 1                             ; No effect\nf02 0 1025 7 1 1024 -1                             ; Inverter\nf03 0 1025 7 0 512 0 512 1                         ; Pos 1/2 wave rectifier\nf04 0 1025 7 -1 512 0 512 0                        ; Neg 1/2 wave rectifier\nf05 0 1025 7 1 512 0 512 1                         ; Full wave rectifier\nf06 0 1025 -7 1 1024 1                             ; + DC offset\nf07 0 1025 -7 -1 1024 -1                           ; - DC offset\nf08 0 1025 -7 -1 512 0 256 .5 256 .5               ; Unipolar clipping distortion\nf09 0 1025 7  0 512 1 0 -1 512 0                   ; 2's complement distortion\nf10 0 1025 17 0 0 205 1 410 2 615 3 820 4          ; 5 Step staircase\nf11 0 1025 17 0 0 128 1 256 2 384 3 512 4 640 5 768 6 896 7 ; 8 Step staircase\nf12 0 1025 8 -1 12 -.99 1000 .99 12 1              ; Gentle distortion\nf13 0 1025 8 -1 256 -.55 256 0 256 .45 256 1       ; Valve distortion\nf14 0 1025 13 1 1 0 2 2 1                          ; Nice Distortion\nf15 0 1025 13 1 1 0 10 .1                          ; Slight 2nd harmonic\nf16 0 1025 7 -1 384 0 256 0 384 1                  ; Crossover distortion\nf17 0 1025 -7 -.5 256 -.5 512 .5 256 .5            ; Hard clipping distortion\nf18 0 1025 7 -1 500 0 6 -1 12 1 6 0 500 1          ; Zero crossing spike\nf19 0 1025 7 -1 512 0 100 .2 2 0 410 1             ; Linear discontinuous\nf20 0 1025 7 -1 128 -.75 0 0 256 0 0 -.25 256 .25 0 0 256 0 0 .75 128 1 ; Holes\nf21 0 1025 7 0 64 1 128 -1 128 1 128 -1 128 1 128 -1 128 1 128 -1 64 0 ; 4 Triangles\nf22 0 1025 9 .5 1 270                              ; Sine curve\nf23 0 1025 5 .001 1024 1                           ; Exponential curve (unipolar)\nf24 0 1025 8 -1 256 -.8 256 0 256 .8 256 1         ; Rough compress\nf25 0 1025 13 1 1 0 1 1                            ; 2nd harmonic\nf26 0 1025 13 1 1 0 1 1 1                          ; 2nd & 3rd harmonics\nf27 0 1025 13 1 1 0 1 0 1                          ; 3rd harmonic\nf28 0 1025 13 1 1 0 1 0 0 1                        ; 4th harmonic\nf29 0 1025 13 1 1 0 1 0 0 0 1                      ; 5th harmonic\nf30 0 1025 13 1 1 0 1 0 0 0 0 1                    ; 6th harmonic\nf31 0 1025 13 1 1 0 1 0 0 0 0 0 1                  ; 7th harmonic\nf32 0 1025 13 1 1 0 1 0 0 0 0 0 0 1                ; 8th harmonic\nf33 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 1              ; 9th harmonic\nf34 0 1025 13 1 1 0 0 1 0 1 0 1 0 1 0 1 0 1 0 1    ; Even harmonics\nf35 0 1025 13 1 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1      ; Odd harmonics\nf36 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1; High harmonics\nf37 0 1025 13 1 1 0 1 0 1 0 0 1 0 0 0 1 0 1        ; Random harmonics\nf38 0 1025 10 0 1                                  ; 2 sines\nf39 0 1025 10 0 0 1                                ; 3 sines\nf40 0 1025 10 0 0 0 1                              ; 4 sines\nf41 0 1025 10 0 0 0 0 1                            ; 5 sines\nf42 0 1025 10 0 0 0 0 0 1                          ; 6 sines\nf43 0 1025 10 0 0 0 0 0 0 1                        ; 7 sines\nf44 0 1025 10 0 0 0 0 0 0 0 1                      ; 8 sines\nf45 0 1025 10 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1      ; 16 sines\nf46 0 1025 7 -1 512 -1 0 1 512 1                   ; 1-Bit D/A\nf47 0 1025 21 2                                    ; Linear Noise\nf48 0 1025 21 1                                    ; White Noise\n\n\n;     Strt  Leng  Levl  LoFrq HiFrq Tabl1 Tabl2 Tabl3\ni01   0.00  1.00  1.00  250   5000  26    02    05\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Delays negative half of signal using delay effect and amplitude balance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Shear.orc and Shear.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 4410\nksmps    = 10\nnchnls   = 1\n\n\ninstr    1 ; Delays negative half of signal\n\nilevl    = p4*2    ; Output level\nidelay   = p5/1000 ; Delay in ms\nimix     = p6      ; Mix: 0=Neg 1=Pos\n\nain      soundin  \"Sample1\"\n\napos     limit  ain, 0, 32768\naneg     limit  ain, -32768, 0\nadel     delay  aneg, idelay\namix     = apos*imix + adel*(1 - imix)\nout      amix*ilevl\n  \nendin\n\n</CsInstruments>\n<CsScore>\n;Delay in ms\n\n;     Strt  Leng  Levl  Delay Balance+/-\ni01   0.00  1.50  1.00  5.00  0.50\ni01   2.00  .     .     .     0.75\ni01   4.00  .     .     .     0.25\ni01   6.00  .     .     50.0  0.50\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Mono flanger With 'Sample1 & Hold' LFO using flanger effect and delay effect and sample-and-hold random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from StepFlanger.orc and StepFlanger.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Mono flanger With 'Sample1 & Hold' LFO\n\nilevl    = p4      ; Output level\nidelay   = p5/1000 ; Delay in ms\nidepth   = p6/2000 ; LFO depth in ms\nirate    = p7      ; LFO rate in Hz\nifeed    = p8      ; Feedback (+/-)\nidry     = p9      ; Dry signal level\nimax     = idelay + idepth + .1\n\nain      soundin  \"Sample2\"\n\niseed    = rnd(1)\nalfo     randh  idepth, irate, iseed\nalfo     = alfo + idepth\naflange  flanger  ain, alfo + idelay, ifeed, imax\nout      (ain*idry + aflange)*ilevl\n\nendin\n\n\n</CsInstruments>\n<CsScore>\n;Delay in ms\n\n;   Strt  Leng  Levl  Delay Depth Rate  Fdbk  Dry\ni1  0.00  1.47  0.66  0.25  3.75  16.0  0.75  0.50\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Lorenz Attractor Chorus using chorus effect and delay effect and flanger effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from LorenzChorus.orc and LorenzChorus.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 2\n\n\ninstr    1 ; Lorenz Attractor Chorus\n\nilevl    = p4*.7     ; Output level\nidelay   = p5/1000   ; Delay in ms\nidepth   = p6/1000   ; Depth in ms\nisv      = p7        ; S\nirv      = p8        ; R\nibv      = p9        ; V\nix       = p10       ; X position\niy       = p11       ; Y position\niz       = p12       ; Z position\nirate    = p13/10000 ; Rate\nimax     = 1\n\nain      soundin  \"Piano.aif\"\n\nax, ay, az lorenz  isv, irv, ibv, irate, ix, iy, iz, 1\n\nachor1   flanger  ain, (ax/18)*idepth + idelay, 0, imax\nachor2   flanger  ain, (ay/18)*idepth + idelay, 0, imax\nachor3   flanger  ain, (az/18)*idepth + idelay, 0, imax\nouts1    (achor1 + achor2*.707)*ilevl\nouts2    (achor3 + achor2*.707)*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\n;Delay and Depth in ms\n\n;   Strt  Leng  Levl  Delay Depth S     R     V     X     Y     Z     Rate\ni1  0.00  1.47  1.00  20.0  2.50  10    28    2.667 0.60  0.60  0.60  0.50\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Tape / Record stop simulator using delay effect and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Stop.orc and Stop.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 1\n\n\ninstr    1 ; Tape / Record stop simulator\n\nilevl    = p4*32767          ; Output level\nidelay   = p5                ; Delay before stopping\nitime    = p6                ; Stopping time\niaccel   = p7                ; Decceleration curve \nileng    = ftlen(1)/ftsr(1)  ; Sample1 length\n\nkdclick  linseg  0, .001, 1, p5 + p6 - .101, 1, .1, 0\nkstop    oscil1  idelay, 1, itime, iaccel ; Generate decceleration curve\nkline    phasor  (1/ileng)*kstop          ; Index\nain      table3  kline, 1, 1              ; Index Sample table\nout      ain*kdclick*ilevl                ; Level declick and output\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 32768 1 \"Sample1\" 0 4 0 ; Sample\nf2 0 8193 7 1 8192 0                                              ; Linear\nf3 0 8193 5 1 8192 .0001                                          ; Exponential\nf4 0 8193 17 0 7 1024 6 2048 5 3072 4 4096 3 5120 2 6144 1 7168 0 ; Stepped\nf5 0 8193 13 1 1 0 -1 0 0 0 0 0 0 0 -.1                           ; 'Curvy'\n\n;   Strt  Leng  Levl  Delay Time  Curve\ni1  0.00  1.47  1.00  0.47  1.00  2\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ioctnew     =         octpch(p5) using delay effect and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from PNB2.ORC and PNB2.SCO\n; Original files preserved in same directory\n\n     sr             =         44100\n     kr             =         44100\n     ksmps          =         1\n     nchnls         =         1\n\n;*******************************************************;\n;        PITCH CHANGING INSTRUMENT WITH PITCH BEND      ;\n;                                                 ;\n;    P4 = AMPLITUDE FACTOR                   ;\n;    P5 = DESIRED STARTING PITCH IN PCH           ;\n;    P6 = OLD PITCH IN PCH                   ;\n;    P7 = FUNCTION NUMBER OF SOUNDIN FILE         ;\n;    P8 = MAXIMUM AMOUNT OF PITCH BEND IN OCT     ;\n;    P9 = FUNCTION NO. OF PITCH BEND              ;\n;    P10 = SECONDS OF DELAY BEFORE PITCH BENDS    ;\n;    N.B.  P9 MUST ALWAYS BE A RISING FUNCTION.   ;\n; IF A DOWNWARD PITCH BEND IS DESIRED MAKE P8 NEGATIVE.     ;\n;*******************************************************;\n;\n          instr     1\n        ioctnew     =         octpch(p5)\n        icpsold     =         cpspch(p6)\n     ioldsr         =         20000\n     kchng          oscil1i   p10, p8, p3, p9\n     kcpsnew        =         cpsoct (ioctnew + kchng)\n        kincr       =         ioldsr/sr * kcpsnew/icpsold\n        kphase      init      0                                  ;INITIALIZE PHASE\n        aphase      interp    kphase                             ;CONVERT TO ARATE\n        asig        tablei    aphase,p7                          ;RESAMPLE THE SOUND\n        kphase      =         kphase+kincr*ksmps                 ;UPDATE FOR NEXT K\n     asignal        envlpx    asig*p4,.001,p3,(p3-.001),23,1,.1\n                    out       asignal\n                    endin\n\n\n</CsInstruments>\n<CsScore>\n;*******************************************************;\n;        PITCH CHANGING INSTRUMENT WITH PITCH BEND      ;\n;                                                 ;\n;    P4 = AMPLITUDE FACTOR                   ;\n;    P5 = DESIRED STARTING PITCH IN PCH           ;\n;    P6 = OLD PITCH IN PCH                   ;\n;    P7 = FUNCTION NUMBER OF SOUNDIN FILE         ;\n;    P8 = MAXIMUM AMOUNT OF PITCH BEND IN OCT     ;\n;    P9 = FUNCTION NO. OF PITCH BEND              ;\n;    P10 = SECONDS OF DELAY BEFORE PITCH BENDS    ;\n;    N.B.  P9 MUST ALWAYS BE A RISING FUNCTION.   ;\n;IF A DOWNWARD PITCH BEND IS DESIRED MAKE P8 NEGATIVE. ;\n;*******************************************************;\nf5    0   32768     -1     5            0                        ;CALLED BY P7\nf23   0     513       7    0       512  1    1    1\nf24   0     513      5     0.12             512   1    1    1\n;    INSTRUMENT CARDS\ni1     0.00      1.00         3.50    10.11  11.00    5      0.25            24  0.1\ns\nf0 1\ns\ni1     0.00      1.50         0.54    10.11  11.00     5   0.00       23  0.0\ni1     0.50      1.50         0.56    12.08  12.00     5   0.00       23  0.0\ni1     0.90      1.50         0.59    12.02  12.00     5   0.00       23  0.0\ni1     1.25      1.50         0.62    11.01  11.00     5   0.00       23  0.0\ni1     1.45      1.50         0.65    11.09  11.08     5   0.00       23  0.0\ni1     1.65      1.50         0.68    10.07  10.08     5   0.00       23  0.0\ni1     1.80      1.50         0.71    11.06  11.04     5   0.00       23  0.0\ni1     2.00      2.90         0.74    10.05  10.04     5   0.00       23  0.0\ni1     2.18      2.90         0.77     9.04   9.04     5   0.00       23  0.0\ni1     2.38      2.90         0.79     9.10  10.00     5   0.00       23  0.0\ni1     2.45      1.50         0.82     9.03   9.04     5  -0.08       24  0.0\ni1     3.92      4.00         0.85     8.11   9.00     5   0.00       23  0.0\ni1     4.18      2.90         0.88     9.05   9.04     5   0.00       23  0.0\ni1     4.31      4.00         0.90     7.04   7.04     5   0.00       23  0.0\ni1     4.39      1.00         0.89     8.00   8.00     5  -0.17       24  0.2\ni1     5.27      4.00         0.88     7.09   7.08     5   0.00       23  0.0\ni1     5.38      0.70         0.95     8.08   8.08     5  -0.08       24  0.1\ni1     6.00      5.00         0.96     7.01   7.00     5   0.00       23  0.0\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ga1       init      0 using delay effect and one-sample delay and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from krstr.orc and krstr.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n;=======================================================================;\n; KARSTR          Plucked String Instrument                             ;\n;                 Coded by Tom Dimeo                                    ;\n;                 Brooklyn College of Music Computer Music Studio       ;\n;=======================================================================;\n          instr     1\nga1       init      0\ni1        =         cpsoct(p5)\ni2        =         1/i1-.5/sr\ni3        =         p4*10\n\nk1        linseg    1,i2,1,.0001,0,p3-i2-.0001,0\na1        rand      k1\na2        delay     a1+ga1,i2\na1        delay1    a2\na4        line      .498,p3,.48\nga1       =         a4*(a1+a2)\nga1       alpass    ga1,0,i2\na3        =         ga1*i3\na3        tone      a3,(p4-1000)*.5\n          out       a3\n          endin\n\n</CsInstruments>\n<CsScore>\n;=======================================================================;\n; KARSTR          Score for Plucked String Instrument coded by Dimeo    ;\n;=======================================================================;\n; KARSTR           p4       p5                                          ;\n;                  amp      pch                                         ;\n;=======================================================================;\ni1   0.00   1.50   5000     6.00\ni1   1.50   0.50   5000     6.05\ni1   2.00   2.00   5000     7.00\ni1   4.00   0.20   5000     7.05\ni1   4.20   0.20   5000     8.00\ni1   4.40   0.20   5000     8.05\ni1   4.60   0.20   5000     9.00\ni1   4.80   0.20   5000    10.07\ni1   5.00   2.00   5000    10.00\ni1   7.00   0.50   5000    11.07\ni1   7.50   0.50   5000    11.00\ni1   8.00   0.50   5000    12.07\ni1   8.50   0.50   5000     6.00\ni1   9.00   1.50   5000     6.05\ni1  10.50   0.50   5000     7.00\ni1  11.00   2.00   5000     7.05\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ga1       init      0 using delay effect and one-sample delay and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from PlkMath.orc and PlkMath.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n  \n          instr 1\nga1       init      0\ni1        =         cpsoct(p4)\ni2        =         1/i1-.5/20000.\ni3        =         p5*10\nk1        linseg    1.,i2,1.,.0001,0,p3-(i2)-.0001,0\na1        rand      k1\na2        delay     a1+ga1,i2\na1        delay1    a2\na4        line      .498,p3,.48\nga1       =         a4*(a1+a2)\nga1       alpass    ga1,0,i2\na3        =         ga1*i3\na3        tone      a3,(p5-1000)*.5\n          out       a3\n          endin\n\n</CsInstruments>\n<CsScore>\n  i1  0.000 1.500  6.00 5000\n  i1  1.500 0.500  6.05 5000\n  i1  2.000 2.000  7.00 5000\n  i1  4.000 0.200  7.05 5000\n  i1  4.200 0.200  8.00 5000\n  i1  4.400 0.200  8.05 5000\n  i1  4.600 0.200  9.00 5000\n  i1  4.800 0.200 10.07 5000\n  i1  5.000 2.000 10.00 5000\n  i1  7.000 0.500 11.07 5000\n  i1  7.500 0.500 11.00 5000\n  i1  8.000 0.500 12.07 5000\n  i1  8.500 0.500  6.00 5000\n  i1  9.000 1.500  6.05 5000\n  i1 10.500 0.500  7.00 5000\n  i1 11.000 2.000  7.05 5000\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Stereo 'Through Zero' Flanger using delay effect and delay line read and delay line write", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from ThruZero.orc and ThruZero.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 2\n\n\ninstr    1 ; Stereo 'Through Zero' Flanger\n\nilevl    = p4                         ; Output level\nidepth   = p5/1000                    ; LFO depth in ms\nidelay   = p6/1000                    ; Delay before sweep in ms\nisweep   = p7/1000 - idelay           ; Sweep length in ms\nimin     = 1/kr                       ; Minimum delay\n\na1       soundin  \"Sample1\"\na2       = a1\n\nkfade    oscil1  idelay, 1, isweep, 1 ; Generate sweep after delay\nafade    upsamp  kfade                ; Convert to sr\nalfo1    = (1 - afade)*idepth         ; Invert and scale sweep\natemp    delayr  2*idepth + .002\nadel1    deltapi imin                 ; Delay L input 1 sample\nadel2    deltapi alfo1 + imin         ; Create moving delay tap\n         delayw  a1                   ; Write L input to delay\natemp    delayr  2*idepth + .002\nadel3    deltapi imin                 ; Delay R input 1 sample\nadel4    deltapi alfo1 + imin         ; Create moving delay tap\n         delayw  a2                   ; Write L input to delay\nouts1    (adel1 + adel2*afade)*ilevl  ; Level, sum L signals and output\nouts2    (adel3 + adel4*afade)*ilevl  ; Level, sum R signals and output\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 9 .5 1 0 ; 1/2 Sine\n\n;Depth in ms\n;Delay=Sweep Delay in ms\n;Time=Sweep Time in ms\n\n;   Strt  Leng  Levl  Depth Delay Time\ni1  0.00  1.47  0.80  5.00  0.00  2940\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for 8-Tap Multitap Delay using delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Multitap.orc and Multitap.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; 8-Tap Multitap Delay\n\nilevl    = p4            ; Output level\nidel1    = p5/1000       ; Tap1 delay\nidel2    = p6/1000       ; Tap2 delay\nidel3    = p7/1000       ; Tap3 delay\nidel4    = p8/1000       ; Tap4 delay\nidel5    = p9/1000       ; Tap5 delay\nidel6    = p10/1000      ; Tap6 delay\nidel7    = p11/1000      ; Tap7 delay\nidel8    = p12/1000      ; Tap8 delay\nistep    = (p13 - p14)/7 ; Difference value\ni1       = p13           ; Tap1 gain\ni2       = p13 - istep   ; Tap8 gain\ni3       = p13 - istep*2 ; Tap8 gain\ni4       = p13 - istep*3 ; Tap8 gain\ni5       = p13 - istep*4 ; Tap8 gain\ni6       = p13 - istep*5 ; Tap8 gain\ni7       = p13 - istep*6 ; Tap8 gain\ni8       = p14           ; Tap8 gain\nifdbk    = p15           ; Overall feedback\nimix     = p16           ; Mix: 0=Dry 1=Multitap\nafdbk    init 0\n\nain      soundin  \"AllOfMe.aif\"\n\nain      = ain + afdbk*ifdbk\natap1    delay  ain, idel1\natap2    delay  atap1, idel2\natap3    delay  atap2, idel3\natap4    delay  atap3, idel4\natap5    delay  atap4, idel5\natap6    delay  atap5, idel6\natap7    delay  atap6, idel7\natap8    delay  atap7, idel8\namulti1  = atap1*i1 + atap2*i2 + atap3*i3 + atap4*i4\namulti2  = atap5*i5 + atap6*i6 + atap7*i7 + atap8*i8\nafdbk    = amulti1 + amulti2\nout      (amulti1 + amulti2)*imix + ain*(1 - imix)\n\nendin\n\n</CsInstruments>\n<CsScore>\n;Tap1-8: Delay in ms\n;Levels of taps 2 to 7 are interpolated from 1 and 8\n\n;   Strt  Leng  Levl  Tap1 Tap2 Tap3 Tap4 Tap5 Tap6 Tap7 Tap8 Levl1 Levl8 Mix  Fdbk\ni1  0.00  8.00  1.00  5    10   20   40   80   160  320  640  0.10  1.00  0.50 0.25\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Chorus with random direction ramp LFO using chorus effect and delay effect and flanger effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from RndRampChorus.orc and RndRampChorus.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 44100\nksmps    = 1\nnchnls   = 2\n\n\ninstr    1 ; Chorus with random direction ramp LFO\n\nilevl    = p4        ; Output level\nidelay   = p5/1000   ; Delay in ms\nidepth   = p6/1000   ; LFO depth in ms\nirate    = p7/kr/.25 ; LFO rate\nirev     = p8        ; LFO reversing rate\nimix     = p9        ; Mix: 0=Input 1=Chorus\nimax     = idelay + idepth + .1\nkramp    init .5\n\nain      soundin  \"Sample1\"\n\niseed    = rnd(1)\nkrnd     randi  1, irev, iseed\nif       krnd > 0 goto up\nkramp    = kramp + irate\ngoto     lfo\nup:\nkramp    = kramp - irate\nlfo:\nklfo     mirror  kramp, 0, 1\nalfo1    upsamp  klfo\nalfo2    = 1 - alfo1\nachorus1 flanger  ain, alfo1*idepth + idelay, 0, imax\nachorus2 flanger  ain, alfo2*idepth + idelay, 0, imax\nouts1    (ain*imix + achorus1*(1 - imix))*ilevl\nouts2    (ain*imix + achorus2*(1 - imix))*ilevl\n\nendin\n\n\n</CsInstruments>\n<CsScore>\n;Delay and Depth in ms\n;Mix: 0=Dry 1=Chorus\n\n;     Strt  Leng  Levl  Delay Depth Rate  Rvrs  Mix\ni01   0.00  1.50  1.00  10.0  5.00  0.33  0.47  0.50\ni01   2.00  .     .     0.25  2.25  2.00  15.1  .\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ga1       init      0 using delay effect and one-sample delay and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from KARSTR.ORC and KARSTR.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n;=======================================================================;\n; KARSTR          Plucked String Instrument                             ;\n;                 Coded by Tom Dimeo                                    ;\n;                 Brooklyn College of Music Computer Music Studio       ;\n;=======================================================================;\n          instr        1\nga1       init      0\ni1        =         cpsoct(p5)\ni2        =         1/i1-.5/sr\ni3        =         p4*10\n\nk1        linseg    1,i2,1,.0001,0,p3-i2-.0001,0\na1        rand      k1\na2        delay     a1+ga1,i2\na1        delay1    a2\na4        line      .498,p3,.48\nga1       =         a4*(a1+a2)\nga1       alpass    ga1,0,i2\na3        =         ga1*i3\na3        tone      a3,(p4-1000)*.5\n          out       a3\n          endin\n\n</CsInstruments>\n<CsScore>\n;=======================================================================;\n; KARSTR          Score for Plucked String Instrument coded by Dimeo    ;\n;=======================================================================;\n; KARSTR           p4       p5                                          ;\n;                  amp      pch                                         ;\n;=======================================================================;\ni1   0.00   1.50   5000     6.00\ni1   1.50   0.50   5000     6.05\ni1   2.00   2.00   5000     7.00\ni1   4.00   0.20   5000     7.05\ni1   4.20   0.20   5000     8.00\ni1   4.40   0.20   5000     8.05\ni1   4.60   0.20   5000     9.00\ni1   4.80   0.20   5000    10.07\ni1   5.00   2.00   5000    10.00\ni1   7.00   0.50   5000    11.07\ni1   7.50   0.50   5000    11.00\ni1   8.00   0.50   5000    12.07\ni1   8.50   0.50   5000     6.00\ni1   9.00   1.50   5000     6.05\ni1  10.50   0.50   5000     7.00\ni1  11.00   2.00   5000     7.05\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for afeedback init      0 using arpeggio and Karplus-Strong synthesis and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from karplus3.orc and karplus3.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; KARPLUS.ORC\n;SIMPLE VERSIONS OF THE KARPLUS STRONG ALGORITHM\n\n\n;THE KARPLUS-STRONG PLUCKED STRING\n\n          instr     1\nafeedback init      0\nanoise    =         0\nilooptime =         1/cpspch(p4)\niamp      =         p5\nkrandenv  linseg    1, ilooptime, 1, 0, 0, p3-ilooptime, 0\nanoise    rand      krandenv\n   \na2        delay     afeedback+anoise,ilooptime\na3        delay1    a2\nafeedback =         (a2+a3)*.5\n\n          out       a2*iamp\n\n          endin\n\n\n          instr     2\nafeedback init      0\nanoise    =         0\nilooptime =         1/cpspch(p4)\niamp      =         p5\n          timout    ilooptime, p3-ilooptime, skiprand\nanoise    rand      1\nskiprand:\nadum      delayr    .2\na2        deltapi   ilooptime\n          delayw    afeedback+anoise\na3        delay1    a2\nafeedback =         (a2+a3)*.5\n\n          out       a2*iamp\n\n          endin\n\n\n          instr     3    \n\n\nirevtime  =         10\nilooptime =         1/cpspch(p4)\n          timout    ilooptime, p3-ilooptime, skiprand\nasig      rand      p5\nskiprand:\nadel      init      0\nadelin    init      0\nadel      delay     adelin, ilooptime\naton      tone      adel, 10000\nadelin    =         aton + asig\nasig      =         0\n\n          out       adel\n          endin\n\n</CsInstruments>\n<CsScore>\n; KARPLUS.SCO\n\ni1 1 5 6.09 5000\ni2 7 5 7.09 5000\ni3 13 5 8.09 5000\nf 0 15\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifile     =         p4 using delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from LMultitap.orc and LMultitap.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\ngip2      =1.570796\ngiroll1   = 7000\ngiroll2   = 3000\ngiroll3   = 1000\n\ngigain    = .25\n\n          instr 1\nifile     =         p4\niskip     =         p5\nit1a      =         p6\nit1b      =         p7\nit1c      =         p8\nit1d      =         p9\nit1e      =         p10\nig1a      =         p11\nig1b      =         p12\nig1c      =         p13\nig1d      =         p14\nig1e      =         p15\niloc1a    =         p16\niloc1b    =         p17\niloc1c    =         p18\niloc1d    =         p19\niloc1e    =         p20\nit2a      =         p21\nit2b      =         p22\nit2c      =         p23\nit2d      =         p24\nit2e      =         p25\nig2a      =         p26\nig2b      =         p27\nig2c      =         p28\nig2d      =         p29\nig2e      =         p30\niloc2a    =         p31\niloc2b    =         p32\niloc2c    =         p33\niloc2d    =         p34\niloc2e    =         p35\nit3a      =         p36\nit3b      =         p37\nit3c      =         p38\nit3d      =         p39\nit3e      =         p40\nig3a      =         p41\nig3b      =         p42\nig3c      =         p43\nig3d      =         p44\nig3e      =         p45\niloc3a    =         p46\niloc3b    =         p47\niloc3c    =         p48\niloc3d    =         p49\niloc3e    =         p50\nilg1a     =         sin( iloc1a * gip2 )\nirg1a     =         cos( iloc1a * gip2 )\nilg1b     =         sin( iloc1b * gip2 )\nirg1b     =         cos( iloc1b * gip2 )\nilg1c     =         sin( iloc1c * gip2 )\nirg1c     =         cos( iloc1c * gip2 )\nilg1d     =         sin( iloc1d * gip2 )\nirg1d     =         cos( iloc1d * gip2 )\nilg1e     =         sin( iloc1e * gip2 )\nirg1e     =         cos( iloc1e * gip2 )\nilg2a     =         sin( iloc2a * gip2 )\nirg2a     =         cos( iloc2a * gip2 )\nilg2b     =         sin( iloc2b * gip2 )\nirg2b     =         cos( iloc2b * gip2 )\nilg2c     =         sin( iloc2c * gip2 )\nirg2c     =         cos( iloc2c * gip2 )\nilg2d     =         sin( iloc2d * gip2 )\nirg2d     =         cos( iloc2d * gip2 )\nilg2e     =         sin( iloc2e * gip2 )\nirg2e     =         cos( iloc2e * gip2 )\nilg3a     =         sin( iloc3a * gip2 )\nirg3a     =         cos( iloc3a * gip2 )\nilg3b     =         sin( iloc3b * gip2 )\nirg3b     =         cos( iloc3b * gip2 )\nilg3c     =         sin( iloc3c * gip2 )\nirg3c     =         cos( iloc3c * gip2 )\nilg3d     =         sin( iloc3d * gip2 )\nirg3d     =         cos( iloc3d * gip2 )\nilg3e     =         sin( iloc3e * gip2 )\nirg3e     =         cos( iloc3e * gip2 )\nain       soundin   ifile, iskip\nain       =         ain * gigain \natap1a    delay     ain, it1a\natap1b    delay     ain, it1b\natap1c    delay     ain, it1c\natap1d    delay     ain, it1d\natap1e    delay     ain, it1e\nat1a      =         atap1a * ig1a\nat1b      =         atap1b * ig1b\nat1c      =         atap1c * ig1c\nat1d      =         atap1d * ig1d\nat1e      =         atap1e * ig1e\nasum1     =         atap1a+atap1b+atap1c+atap1d+atap1e\nain2      tone      asum1, giroll1\natap2a    delay     ain2, it2a\natap2b    delay     ain2, it2b\natap2c    delay     ain2, it2c\natap2d    delay     ain2, it2d\natap2e    delay     ain2, it2e\nat2a      =         atap2a * ig2a\nat2b      =         atap2b * ig2b\nat2c      =         atap2c * ig2c\nat2d      =         atap2d * ig2d\nat2e      =         atap2e * ig2e\nasum2     =         atap2a+atap2b+atap2c+atap2d+atap2e\nain3      tone      asum2, giroll2\natap3a    delay     ain3, it3a\natap3b    delay     ain3, it3b\natap3c    delay     ain3, it3c\natap3d    delay     ain3, it3d\natap3e    delay     ain3, it3e\nat3a      =         atap3a * ig3a\nat3b      =         atap3b * ig3b\nat3c      =         atap3c * ig3c\nat3d      =         atap3d * ig3d\nat3e      =         atap3e * ig3e\naleft1    =         (at1a*ilg1a)+(at1b*ilg1b)+(at1c*ilg1c)+(at1d*ilg1d)+(at1e*ilg1e)\naleft2    =         (at2a*ilg2a)+(at2b*ilg2b)+(at2c*ilg2c)+(at2d*ilg2d)+(at2e*ilg2e)\naleft3    =         (at3a*ilg3a)+(at3b*ilg3b)+(at3c*ilg3c)+(at3d*ilg3d)+(at3e*ilg3e)\naleftout  =         aleft1+aleft2+aleft3\naright1   =         (at1a*irg1a)+(at1b*irg1b)+(at1c*irg1c)+(at1d*irg1d)+(at1e*irg1e)\naright2   =         (at2a*irg2a)+(at2b*irg2b)+(at2c*irg2c)+(at2d*irg2d)+(at2e*irg2e)\naright3   =         (at3a*irg3a)+(at3b*irg3b)+(at3c*irg3c)+(at3d*irg3d)+(at3e*irg3e)\narightout =         aright1+aright2+aright3\n          outs      aleftout, arightout\n\n          endin\n\n          instr 2\nifile     =         p4\niskip     =         p5\nit1a      =         p6\nit1b      =         p7\nit1c      =         p8\nit1d      =         p9\nit1e      =         p10\nig1a      =         p11\nig1b      =         p12\nig1c      =         p13\nig1d      =         p14\nig1e      =         p15\niloc1a    =         p16\niloc1b    =         p17\niloc1c    =         p18\niloc1d    =         p19\niloc1e    =         p20\nit2a      =         p21\nit2b      =         p22\nit2c      =         p23\nit2d      =         p24\nit2e      =         p25\nig2a      =         p26\nig2b      =         p27\nig2c      =         p28\nig2d      =         p29\nig2e      =         p30\niloc2a    =         p31\niloc2b    =         p32\niloc2c    =         p33\niloc2d    =         p34\niloc2e    =         p35\nit3a      =         p36\nit3b      =         p37\nit3c      =         p38\nit3d      =         p39\nit3e      =         p40\nig3a      =         p41\nig3b      =         p42\nig3c      =         p43\nig3d      =         p44\nig3e      =         p45\niloc3a    =         p46\niloc3b    =         p47\niloc3c    =         p48\niloc3d    =         p49\niloc3e    =         p50\nilg1a     =         sin( iloc1a * gip2 )\nirg1a     =         cos( iloc1a * gip2 )\nilg1b     =         sin( iloc1b * gip2 )\nirg1b     =         cos( iloc1b * gip2 )\nilg1c     =         sin( iloc1c * gip2 )\nirg1c     =         cos( iloc1c * gip2 )\nilg1d     =         sin( iloc1d * gip2 )\nirg1d     =         cos( iloc1d * gip2 )\nilg1e     =         sin( iloc1e * gip2 )\nirg1e     =         cos( iloc1e * gip2 )\nilg2a     =         sin( iloc2a * gip2 )\nirg2a     =         cos( iloc2a * gip2 )\nilg2b     =         sin( iloc2b * gip2 )\nirg2b     =         cos( iloc2b * gip2 )\nilg2c     =         sin( iloc2c * gip2 )\nirg2c     =         cos( iloc2c * gip2 )\nilg2d     =         sin( iloc2d * gip2 )\nirg2d     =         cos( iloc2d * gip2 )\nilg2e     =         sin( iloc2e * gip2 )\nirg2e     =         cos( iloc2e * gip2 )\nilg3a     =         sin( iloc3a * gip2 )\nirg3a     =         cos( iloc3a * gip2 )\nilg3b     =         sin( iloc3b * gip2 )\nirg3b     =         cos( iloc3b * gip2 )\nilg3c     =         sin( iloc3c * gip2 )\nirg3c     =         cos( iloc3c * gip2 )\nilg3d     =         sin( iloc3d * gip2 )\nirg3d     =         cos( iloc3d * gip2 )\nilg3e     =         sin( iloc3e * gip2 )\nirg3e     =         cos( iloc3e * gip2 )\nain1,ain2 soundin   ifile, iskip\n; ain     =         ain * gigain \natap1a    delay     ain1, it1a\natap1b    delay     ain1, it1b\natap1c    delay     ain1, it1c\natap1d    delay     ain1, it1d\natap1e    delay     ain1, it1e\nat1a      =         atap1a * ig1a\nat1b      =         atap1b * ig1b\nat1c      =         atap1c * ig1c\nat1d      =         atap1d * ig1d\nat1e      =         atap1e * ig1e\nasum1     =         atap1a+atap1b+atap1c+atap1d+atap1e\n;ain2     tone      asum1, giroll1\natap2a    delay     ain2, it2a\natap2b    delay     ain2, it2b\natap2c    delay     ain2, it2c\natap2d    delay     ain2, it2d\natap2e    delay     ain2, it2e\nat2a      =         atap2a * ig2a\nat2b      =         atap2b * ig2b\nat2c      =         atap2c * ig2c\nat2d      =         atap2d * ig2d\nat2e      =         atap2e * ig2e\nasum2     =         atap2a+atap2b+atap2c+atap2d+atap2e\nain3      tone      asum2, giroll2\natap3a    delay     ain3, it3a\natap3b    delay     ain3, it3b\natap3c    delay     ain3, it3c\natap3d    delay     ain3, it3d\natap3e    delay     ain3, it3e\nat3a      =         atap3a * ig3a\nat3b      =         atap3b * ig3b\nat3c      =         atap3c * ig3c\nat3d      =         atap3d * ig3d\nat3e      =         atap3e * ig3e\naleft1    =         (at1a*ilg1a)+(at1b*ilg1b)+(at1c*ilg1c)+(at1d*ilg1d)+(at1e*ilg1e)\naleft2    =         (at2a*ilg2a)+(at2b*ilg2b)+(at2c*ilg2c)+(at2d*ilg2d)+(at2e*ilg2e)\naleft3    =         (at3a*ilg3a)+(at3b*ilg3b)+(at3c*ilg3c)+(at3d*ilg3d)+(at3e*ilg3e)\naleftout  =         aleft1+aleft2+aleft3\naright1   =         (at1a*irg1a)+(at1b*irg1b)+(at1c*irg1c)+(at1d*irg1d)+(at1e*irg1e)\naright2   =         (at2a*irg2a)+(at2b*irg2b)+(at2c*irg2c)+(at2d*irg2d)+(at2e*irg2e)\naright3   =         (at3a*irg3a)+(at3b*irg3b)+(at3c*irg3c)+(at3d*irg3d)+(at3e*irg3e)\narightout =         aright1+aright2+aright3\n          outs      aleftout, arightout\n\n          endin\n\n</CsInstruments>\n<CsScore>\ni1 0 10.000000 5 0\n0.030243 0.067391 0.080443 0.095692 0.106696 0.700000 0.280000 0.112000 0.044800 0.017920 0.101870 0.101218 0.123827 0.178924 0.173902 \n0.135053 0.177988 0.278580 0.420888 0.487966 0.300000 0.210000 0.147000 0.102900 0.072030 0.468848 0.519407 0.683724 0.559628 0.629442 \n0.181703 0.441584 0.667100 0.810717 1.031620 0.150000 0.135000 0.121500 0.109350 0.098415 0.481580 0.271741 0.637698 0.741447 0.385553 \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for aflute1   init      0 using physical modeling and delay line read and delay line write", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from physical1.orc and physical1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n;*********************************************\n; Physical Models                            *\n; coded:        1/22/97 Hans Mikelson        *\n;*********************************************\n\n\n; PERRY COOK'S SLIDE FLUTE\n\n          instr 2\n          \naflute1   init      0\n\n; FLOW SETUP\n\nkenv1     linseg    0, .05, 1.1*p4, .1, .98*p4, p3-.15, .95*p4 \nkenv2     linseg    1, p3-.01, 1, .01, 0\naflow1    rand      kenv1\naflow1    =         aflow1/p4\nasum1     =         aflow1*.0356 + kenv1/p4*1\nasum2     =         asum1 + aflute1*.4\n\n; EMBOUCHURE\n\nax        delayr    1/p5/4\n          delayw    asum2\napoly     =         ax - ax*ax*ax\nasum3     =         apoly + aflute1*.4\n\navalue    tone      asum3, 8*p5\n\n; BORE\n\naflute1   delayr    1/p5/2\n          delayw    avalue\n\n          out       avalue*p4*kenv2\n          endin\n\n\n</CsInstruments>\n<CsScore>\n\n\n\n; SCORE\n;  Start  Dur  Amplitude Pitch\ni2  0     .4    16000      220\ni2  +     .2    12000      258.3 \ni2  .      .    13000      289.5\ni2  .      .    14000      328.9\ni2  .      .    15000      440\ni2  .      .    16000      289.5\ni2  .      .    14000      328.9\ni2  .     .4    16000      258.3\ni2  .     .2    17000      516.6\ni2  .      .    15000      440\ni2  .      .    17000      386.4\ni2  .      .    15000      440\ni2  .      .    14000      289.5\ni2  .      .    17000      328.9\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for icombgain      =         p7 using delay line read and delay line write and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from rev4.orc and rev4.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\n;2in 2out\n;i1 0 dur file skip iorig cmbgain alpassgain tapgain globalgain\n\ninstr          1\nicombgain      =         p7\nialpassgain    =         p8\nitapgain       =         p9\niglobgain      =         p10\nirvt           =         1.7\nifile          =         p4\niskip          =         p5\niorig          =         p6\nirev           =         1.-iorig\nilp1a          =         1/11.1235\nilp1b          =         1/14.3716\nilp1c          =         1/17.691\nilp2a          =         1/13.5271\nilp2b          =         1/15.5351\nilp2c          =         1/19.1173\nipatk          =         .2\nipsust         =         p3-ipatk\n\n     a1,a2     soundin ifile,iskip\n     addl1     delayr    .2\n     atap1a    deltap    .007\n     atap1b    deltap    .011\n     atap1c    deltap    .023\n     atap1d    deltap    .047\n     atap1e    deltap    .061\n     atap1f    deltap    .079\n     atap1g    deltap    .093\n               delayw    a1\n     addl2     delayr    .2\n     atap2a    deltap    .005\n     atap2b    deltap    .013\n     atap2c    deltap    .027\n     atap2d    deltap    .043\n     atap2e    deltap    .071\n     atap2f    deltap    .083\n     atap2g    deltap    .107\n               delayw    a2\n     atap1a    =         atap1a*.9\n     atap1b    =         atap1b*.8\n     atap1c    =         atap1c*.7\n     atap1d    =         atap1d*.6\n     atap1e    =         atap1e*.5\n     atap1f    =         atap1f*.4\n     atap1g    =         atap1g*.3\n     atap2a    =         atap2a*.9\n     atap2b    =         atap2b*.8\n     atap2c    =         atap2c*.7\n     atap2d    =         atap2d*.6\n     atap2e    =         atap2e*.5\n     atap2f    =         atap2f*.4\n     atap2g    =         atap2g*.3\n     at1       =         atap1a+atap1b+atap1c+atap1d+atap1e+atap1f+atap1g\n     at2       =         atap2a+atap2b+atap2c+atap2d+atap2e+atap2f+atap2g\n     at1       =         at1*itapgain\n     at2       =         at2*itapgain\n     ap1a      alpass    at1,.5,.0467\n     ap1       alpass    ap1a,3,.0731\n     ap2a      alpass    at2,.5,.0531\n     ap2       alpass    ap2a,3,.0697\n     ap1       =         ap1*ialpassgain\n     ap2       =         ap2*ialpassgain\n     kpenv     linseg    0,ipatk,1,ipsust,1\n     acp1      =         kpenv*ap1\n     acp2      =         kpenv*ap2\n     acomb1a   comb      acp1,irvt,ilp1a\n     acomb1b   comb      acp1,irvt,ilp1b\n     acomb1c   comb      acp1,irvt,ilp1c\n     acomb2a   comb      acp2,irvt,ilp2a\n     acomb2b   comb      acp2,irvt,ilp2b\n     acomb2c   comb      acp2,irvt,ilp2c\n     ac1       =         (acomb1a+acomb1b+acomb1c)*icombgain\n     ac2       =         (acomb2a+acomb2b+acomb2c)*icombgain\n     arev1     =         at1+ap1+ac1\n     arev2     =         at2+ap2+ac2\n     aout1     =         (arev1*irev)+(a1*iorig)\n     aout2     =         (arev2*irev)+(a2*iorig)\n               outs      aout1*iglobgain,aout2*iglobgain\n               endin\n\n</CsInstruments>\n<CsScore>\n;i1 0 dur file skip iorig cmbgain alpassgain tapgain globalgain\n\ni1 0 3 1 0 .1 .3 .5 .5 .9\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for aflute1        init           0 using delay line read and delay line write and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from slidflut.orc and slidflut.sco\n; Original files preserved in same directory\n\nsr             =              44100\nkr             =              44100\nksmps          =              1\nnchnls         =              1\n\n;********************************************* \n; PHYSICAL MODELS   *\n; CODED:  1/22/97 HANS MIKELSON    *\n;********************************************* \n\n\n;PERRY COOK'S SLIDE FLUTE\n\ninstr          2\naflute1        init           0\n\n; FLOW SETUP\n\nkenv1          linseg         0, .05, 1.1*p4, .1, .98*p4, p3-.15, .95*p4 \nkenv2          linseg         1, p3-.01, 1, .01, 0\naflow1         rand           kenv1\naflow1         =              aflow1/p4\nasum1          =              aflow1*.0356 + kenv1/p4*1\nasum2          =              asum1 + aflute1*.4\n\n; EMBOUCHURE\n\nax             delayr         1/p5/4\ndelayw         asum2\napoly          =              ax - ax*ax*ax\nasum3          =              apoly + aflute1*.4\n\navalue         tone           asum3, 8*p5\n\n; BORE\n\naflute1        delayr         1/p5/2\ndelayw         avalue\n\nout            avalue*p4*kenv2\nendin\n\n</CsInstruments>\n<CsScore>\n;    START     DUR  AMPLITUDE      PITCH\ni2 \t0\t\t.4 \t\t16000\t\t220\ni2 \t.4\t\t.2 \t\t12000\t\t258.3\ni2 \t.6\t\t. \t\t13000\t\t289.5\ni2 \t.8\t\t. \t\t14000\t\t328.9\ni2 \t1\t\t. \t\t15000\t\t440\ni2 \t1.2\t\t. \t\t16000\t\t289.5\ni2 \t1.4\t\t. \t\t14000\t\t328.9\ni2 \t1.6\t\t.4 \t\t16000\t\t258.3\ni2 \t2\t\t.2 \t\t17000\t\t516.6\ni2 \t2.2\t\t. \t\t15000\t\t440\ni2 \t2.4\t\t. \t\t17000\t\t386.4\ni2 \t2.6\t\t. \t\t15000\t\t440\ni2 \t2.8\t\t. \t\t14000\t\t289.5\ni2 \t3.\t\t.4 \t\t17000\t\t328.9\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for adry      diskin    \"speech1.aif\", 1 using disk streaming", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from conv0.orc and conv0.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n          \n          instr     1\nadry      diskin    \"speech1.aif\", 1\nawet      convolve  adry,\"fiveEchos.con\"\n          out       awet\n          endin\n                              \n\n</CsInstruments>\n<CsScore>\ni1 0 60\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a waysplicer sound using disk streaming", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 4WaySplicer.orc and 4WaySplicer.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 44100\nksmps    = 1\nnchnls   = 1\n\n\ninstr    1 ; 4-Way Splicer: Switches between inputs when at similar level\n\nilevl    = p4                        ; Output level\nirange   = (2^p5)/65536              ; Similarity needed to splice: 1 to 16 bits\nkcount   init 0                      ; Initialize counter\nkgate1   init 1                      ; Initialize gate 1\nkgate2   init 0                      ; Initialize gate 1\nkgate3   init 0                      ; Initialize gate 1\nkgate4   init 0                      ; Initialize gate 1\n\nain1     diskin  \"Sample1\", 1, 0, 1\nain2     diskin  \"Sample2\", 1, 0, 1\nain3     diskin  \"Sample1\", 1, 0, 1\nain4     diskin  \"Sample2\", 1, 0, 1\n\nkin1     downsamp  ain1              ; Convert to kr\nkin2     downsamp  ain2              ; Convert to kr\nkin3     downsamp  ain3              ; Convert to kr\nkin4     downsamp  ain4              ; Convert to kr\nkin1     = int(kin1*irange)          ; Quantise\nkin2     = int(kin2*irange)          ; Quantise\nkin3     = int(kin3*irange)          ; Quantise\nkin4     = int(kin4*irange)          ; Quantise\nif       kcount = 1 goto 2           ; Select input pair to compare\nif       kcount = 2 goto 3\nif       kcount = 3 goto 4\nif       kcount = 4 goto 1\n1:\nif       kin1 != kin2 goto out       ; If unequal go to output\nkgate1   = 0                         ; Set gates\nkgate2   = 1\nkgate3   = 0\nkgate4   = 0\nkcount   = 1                         ; Set count\ngoto     out\n2:\nif       kin2 != kin3 goto out       ; If unequal go to output\nkgate1   = 0                         ; Set gates\nkgate2   = 0\nkgate3   = 1\nkgate4   = 0\nkcount   = 2                         ; Set count\ngoto     out\n3:\nif       kin3 != kin4 goto out       ; If unequal go to output\nkgate1   = 0                         ; Set gates\nkgate2   = 0\nkgate3   = 0\nkgate4   = 1\nkcount   = 3                         ; Set count\ngoto     out\n4:\nif       kin4 != kin1 goto out       ; If unequal go to output\nkgate1   = 1                         ; Set gates\nkgate2   = 0\nkgate3   = 0\nkgate4   = 0\nkcount   = 4                         ; Set count\nout:                                 ; Output section\naout1    maca  ain1, kgate1, ain2, kgate2 ; Gate input signals to splice\naout2    maca  ain3, kgate3, ain4, kgate4 ; Gate input signals to splice\nout      (aout1 + aout2)*ilevl       ; Output and level\n\nendin\n\n</CsInstruments>\n<CsScore>\n;     Strt  Leng  Levl  Range: 1 to 16 bits\ni01   0.00  4.00  1.00  02\ni01   4.00  .     .     15\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a pluckvoice sound using plucked string and voice synthesis and enhanced plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pluckvoice.orc and pluckvoice.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n                    \n          instr 1             \n;ar       repluck   iplk, xam, icps, kpick, krefl, axcite\na1        diskin    \"hellorcb.aif\", 1\nasig      repluck    p6, p4, cpspch(p5), p7, p8, a1         \n          out       asig\n          endin\n\n</CsInstruments>\n<CsScore>\n\n i1  0 6 5000 3.00 .1   .1 .5 \ns\n i1  0 5 4000 4.00 .1   .1 .5 \n i1  1 5 4000 6.07 .2   .4 .3\n i1  2 5 4000 5.09 .5   .3 .1\n i1  3 5 4000 7.11 .4   .8 .2\ns\n\n i1  0 5 4000 5.00 .1   .1 .5 \n i1  1 5 4000 7.09 .2   .4 .3\n i1  2 4 4000 6.04 .5   .3 .1\n i1  3 4 4000 8.07 .4   .8 .2\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for SIMULATED PULSE WIDTH MODULATION using exponential segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pw.orc and pw.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t1\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;;;copyright 1998 Paul M. Winkler, zarmzarm@erols.com\n;****++++\n;**** Last modified: Wed Dec\t9 20:32:30 1998\n;****----\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n\n\t   instr 1\n;SIMULATED PULSE WIDTH MODULATION\n\n;THIS WORKS! BUT P5 SHOULD BE HANDLED BETTER.\nipitch \t= \t\tcpspch (p4)\naindex   \tphasor    ipitch\n\n; MAKE THE WIDTH (P5) 'FEEL' A LITTLE NICER -- AN EXPONENTIAL CURVE FROM \n; FTLEN/2 TO FTLEN, CONTROLLED BY A LINEAR PERCENTAGE (0 TO 100).\n; THIS IS NOT GREAT: P5 LESS THAN ABOUT 10 IS TOO SMALL!\n\nilength \t= \t\tftlen(1) \ninum \t= \t\tp5 * p5 * .0001 ; normalize it to 0 - 1\n\n; POW WOULD BE A BETTER SOLUTION, BUT IT'S BROKEN IN MY CSOUND VERSION?\n\nirange \t= \t\t( ilength + ( inum * ilength )) * .5\naindex\t= \t\taindex * irange\nprint irange\n; DISPLAY\t  AINDEX, .1\t\t\t\t\t    \n\t\taout\t  table\t\t  aindex, 1;  use f1\n\t\tout aout \n\t\t  endin \n\n\t\t  instr 2\n; Same thing, only pulse width is controlled by an envelope.\nipitch = cpspch (p4)\naindex   phasor    ipitch\nilength = ftlen(1) \nkrange   expseg  ilength * .5, p3 * .5, ilength, p3 * .5, ilength * .5\naindex = aindex * krange\naout\t  table\t\t  aindex, 1;  table 1\nout aout \n\t\t  endin\n\n</CsInstruments>\n<CsScore>\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;;COPYRIGHT 1998 PAUL M. WINKLER, ZARMZARM@EROLS.COM\n;****++++\n;**** LAST MODIFIED: WED DEC  9 20:34:05 1998\n;****----\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\nf1 0  512  -7   30000 256 30000 0 -30000 256 -30000 ;square wave, !normalized\n\n;  AT DUR PCH    WIDTH     \n\nt 0 180\ni1 0  1   6.00   100\ni. +  .5  6.02   100\ni. .  .    .     50\ni. .  .   6.03   50 \ni. .  .   6.00   10 \ni. .  .   6.01   10  \ni. .  .   6.10   10\ni. .  .   7.10   20   \ni. .  .   7.08   .\ni. .  .   7.07   40\ni. .  .   6.07   .\ni. .  .   5.07   60\ni. .  .   4.07   .\ni. .  .   5.07   80\ni. .  .   4.07   . \ni. .  .   5.07   100 \ni. .  .   4.07    >\ni. .  2   5.07   30\n\ns\nt 0 120\ni2 1 3   5.00\ni2 + 3   5.11\ni2 . 3   6.10\ni2 . 3   7.09\ni2 . 3   8.08\ni2 . 3   9.07\ni2 . 3   10.06\ni2 . 3   11.05     ; QUITE BAD ALIASING THERE!\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a harfm sound using FM synthesis and delay effect and exponential segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from harFM.ORC and harFM.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\ninstr 1\n\n;ENVELOPE                                                        ;p6:ATT,p7:DEC,\nk1             envlpx    p5,p6,p3,p7,1,.8,.001                   ;p5: AMPLITUDE\n;SEGMENT CONTROLLING INDEX MOVE\n; k2           expseg    p8, p6, p9, p3 - (p6 + p7), p9, p7, p8\n;p8: 1ST INDEX, p9: 2ND INDEX\nk2 envlpx p9, p6, p3, p7, 1, .8, .01\n;SOUND\na1             foscil    k1,cpsoct(p4),p10,1,k2,p11              ;AUDIO FUNC :p11\na2             foscil    k1,cpsoct(1.001 * p4),p10,1,k2,p11      ;C:M RATIO: p10\na3             foscil    k1,cpsoct(1.003 * p4),p10,1,k2,p11\na4             foscil    k1,cpsoct(.999 * p4),p10,1,k2,p11\na5             foscil    k1,cpsoct(.997 * p4),p10,1,k2,p11\n\na1             =         (.2 * a1) + (.2 * a2) + (.2 * a3) + (.2 * a4) + (.2 * a5)\n\na2             delay     a1,.01\na3             delay     (a1 + (.4 * a2)),.023\na1             =         a1 + a2 + a3\n; a4           comb      a1, .1, .02\n; a1           =         (a1 * .6) + (a4 * .4)\n; a1           =         a1 + a2\n\n               outs      a1 * .5, a1 * .5\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 2049 5 .01 2048 1\nf20 0 8192 10 1\n  i1 0.000 6.500 6.08 20000 1.200 2.800 0.100 5.000 2.700 20\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a week sound using FM synthesis and delay effect and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from week10_6.orc and Week10_6.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n \nkenv      expon     1,p3,.0001                         ; EXPON ENVELOPE\nasig      foscil    p4*kenv,cpspch(p5),1,1.414,2,1     ; AN FM BELL \nadel      delay     asig,.5                            ; DELAY .5 SECONDS\n          out       asig+adel\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1      0 512 10 1                          ; A SINE WAVE\n\n;      st      dur     amp        pitch\n\ni1     0        2     10000       8.00      ;  MIDDLE C PLAYED FOR 2 SECONDS\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ACCENT using FM synthesis and demonstration and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fmdemo.orc and fmdemo.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n          \n; CHEESY FM\n\n; f1 \t0 \t\t4096 10 1\n; i1 \t0 \t\tDUR FREQ AMP\n\n\t\tinstr 1 \t\t\t; ACCENT\nicar \t= \t\t1.\nicps \t= \t\tp4\nimod \t= \t\t1.0 * icar\nigain \t= \t\tp5 * 25000\nisust \t= \t\tp3 - .2\nkenv \tlinseg \t0, .1, igain, isust, igain, .1, 0\nkindex \tline \t1, p3,  2.\nkmod \tline \ticar, p3, icar * 2\nafm \t\tfoscil \tkenv, icps, icar, kmod, kindex, 1\t; SINE\n\t\tout \t\tafm\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 4096 10 1\ni1 0 10 450 1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for p3        =         p3+p6 using FM synthesis and Karplus-Strong plucked string and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from lucytune.orc and lucytune.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n;------------------------------------------------------------------\n; EXAMPLE OF LUCY TUNING\n;------------------------------------------------------------------\n          instr          1\n\np3        =         p3+p6\nidur      =         p3\niamp      =         p4\nifqc      cps2pch   p5, -2 \n\nkamp      linseg    0, .02, 1, .05, .8, .1, .7, idur-.27, .5, .1, 0\n\naout1     foscil    kamp*iamp, ifqc,     1, 2, kamp*2, 1\naout2     foscil    kamp*iamp, ifqc*2, 1, 1, kamp*2, 1\n\n;aout     pluck     kamp*iamp, ifqc, ifqc, 0, 1\n\n          outs      aout1+aout2*.5, aout1+aout2*.5\n\n          endin\n\n</CsInstruments>\n<CsScore>\n;------------------------------------------------------------------------------\n; LUCY TUNING EXAMPLE\n;------------------------------------------------------------------------------\nf1 0 8192 10 1\n\nf2 0 16 -2 1 1.040360358 1.116641954 1.19851669 1.246889254 1.338314019 1.392328853 1.494417582 1.603991689 1.668729368 1.791084414 1.863373223 2\n\n; LUCY TUNING A=440\n;f2 0 16 -2 1.007841 1.048488 1.125388 1.170776? 1.256645 1.348813 1.403211 1.506129 1.566872? 1.749621? 1.877945\n\n;   Sta  Dur  Amp    Pitch  Hold\ni1  0    .5   5000   6.00   1.5\ni1  0    .5   5000   7.00   1.5\ni1  +    .    .      7.07   1.0\ni1  .    .    .      8.00   0.5\ni1  .    .    .      8.04   0.0\n;   Sta  Dur  Amp    Pitch  Hold\ni1  2    .5   5000   6.00   1.5\ni1  2    .5   5000   7.00   1.5\ni1  +    .    .      7.05   1.0\ni1  .    .    .      7.09   0.5\ni1  .    .    .      8.00   0.0\n;   Sta  Dur  Amp    Pitch  Hold\ni1  4    .5   5000   6.00   1.5\ni1  4    .5   5000   7.00   1.5\ni1  +    .    .      7.07   1.0\ni1  .    .    .      8.00   0.5\ni1  .    .    .      8.03   0.0\n;   Sta  Dur  Amp    Pitch  Hold\ni1  6    .5   5000   6.00   1.5\ni1  6    .5   5000   7.00   1.5\ni1  +    .    .      7.05   1.0\ni1  .    .    .      7.10   0.0\ni1  .    .    .      7.09   0.0\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a circle sound using FM synthesis and reverb effect and stereo reverb", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from circle02.orc and circle02.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n; DISTRIBUTION OF SOUNDS IN CIRCLES\n; FM BELLS (FOSCIL)\n; PETER ESCH (PESCH@PRATIQUE.FR), JULY 1998\n\n\n\ngal       init      0\ngar       init      0\n\n          instr 1\n          \nidur      =         p3                       ; DURATION\ninote     =         p4                       ; NOTE IN PCH NOTATION\nipan      =         p5                       ; PAN POSITION\nidist     =         p6                       ; DISTANCE\nidiam     =         p7                       ; DIAMETER OF THE \"CIRCLE\"          \niindx     =         p8                       ; FM INDEX\n\nkenv      expon     1,idur,0.01\na1        foscil    kenv*10000,cpspch(inote),1,1.143,iindx,1\n       \nkdegree   =         ipan*90\nkdistance =         1+idiam*abs(idist)\n\nal,ar     locsig    a1,kdegree,kdistance,.1\narl,arr   locsend       \n\ngal       =         gal+arl+.1*arr\ngar       =         gar+arr+.1*arl\n\n          outs      al,ar\n          endin\n\n          instr 99\n\nkrvbt     =         p4                       ; REVERB TIME\nal        reverb2   gal,krvbt,.5\nar        reverb2   gar,krvbt,.5\n\n          outs      al,ar\ngal       =         0\ngar       =         0\n          endin\n\n</CsInstruments>\n<CsScore>\n\n;circle02.txt for use with CMask\n\nf1 0 8193 10 1\n\ni99 0 20 2.5\n\n\n; ------- BEGIN OF FIELD 1 --- SECONDS: 0.00 - 15.00 --------\n\n;ins    time    dur p4  p5  p6  p7  p8\n\ni1  0       0.47    8.04    0.5     1       13  3   \ni1  0.21    0.43    8.07    0.42    1       13  3   \ni1  0.5     0.47    8.11    0.3     0.98    13  3.2 \ni1  0.7     0.5     8       0.22    0.96    13  3.4 \ni1  0.97    0.53    8.11    0.12    0.91    13  3.9 \ni1  1.2     0.68    8.07    0.06    0.86    13  4.3 \ni1  1.4     0.59    8.04    0.02    0.8     13  4.8 \ni1  1.65    0.76    8       0       0.71    13  5.5 \ni1  1.89    0.77    8       0.02    0.61    13  6.2 \ni1  2.08    0.75    8.11    0.06    0.52    13  6.7 \ni1  2.29    0.79    8.07    0.13    0.4     13  7.2 \ni1  2.51    0.82    8.04    0.24    0.27    13  7.6 \ni1  2.78    0.69    8.07    0.4     0.1     13  8   \ni1  3.03    0.85    8.11    0.57    -0.07   13  8   \ni1  3.22    0.84    8.04    0.7     -0.2    13  7.8 \ni1  3.44    0.85    8       0.83    -0.35   13  7.4 \ni1  3.68    1.03    8       0.94    -0.51   13  6.7 \ni1  3.9     1.09    8.11    0.99    -0.65   13  5.9 \ni1  4.08    1.09    8.07    1       -0.75   13  5.2 \ni1  4.28    1.22    8.04    0.95    -0.85   13  4.4 \ni1  4.52    1.2     8.04    0.83    -0.93   13  3.6 \ni1  4.69    1.15    8.11    0.71    -0.98   13  3.2 \ni1  4.91    1.34    8.07    0.53    -1      13  3   \ni1  5.1     1.18    8       0.36    -0.99   13  3.1 \ni1  5.27    1.29    8.07    0.22    -0.96   13  3.4 \ni1  5.46    1.1     8.11    0.1     -0.89   13  4   \ni1  5.65    1.3     8       0.02    -0.8    13  4.8 \ni1  5.82    1.47    8.04    0       -0.69   13  5.6 \ni1  5.96    1.11    8.07    0.02    -0.59   13  6.3 \ni1  6.12    1.3     8.11    0.1     -0.45   13  7   \ni1  6.28    1.46    8.04    0.21    -0.31   13  7.5 \ni1  6.44    1.51    8       0.35    -0.15   13  7.9 \ni1  6.64    1.69    8.04    0.56    0.06    13  8   \ni1  6.78    1.48    8.07    0.7     0.21    13  7.8 \ni1  6.94    1.54    8.11    0.84    0.37    13  7.3 \ni1  7.14    1.38    8       0.96    0.56    13  6.4 \ni1  7.29    1.43    8.07    1       0.69    13  5.6 \ni1  7.43    1.68    8       0.98    0.79    13  4.9 \ni1  7.58    1.36    8.04    0.91    0.88    13  4.1 \ni1  7.72    1.49    8.11    0.8     0.95    13  3.5 \ni1  7.9     1.77    8       0.62    0.99    13  3.1 \ni1  8.04    1.89    8.07    0.45    1       13  3   \ni1  8.18    1.49    8.11    0.29    0.98    13  3.2 \ni1  8.36    1.83    8.04    0.12    0.91    13  3.9 \ni1  8.54    1.59    8.11    0.02    0.8     13  4.8 \ni1  8.72    1.52    8.07    0.01    0.64    13  5.9 \ni1  8.87    1.56    8       0.07    0.49    13  6.8 \ni1  9.01    2.07    8.04    0.19    0.32    13  7.5 \ni1  9.14    1.8     8.11    0.34    0.16    13  7.9 \ni1  9.28    1.78    8       0.52    -0.02   13  8   \ni1  9.39    1.8     8.07    0.66    -0.16   13  7.9 \ni1  9.55    1.83    8.04    0.84    -0.36   13  7.3 \ni1  9.66    1.91    8.07    0.93    -0.5    13  6.8 \ni1  9.78    1.92    8.11    0.99    -0.63   13  6   \ni1  9.94    2.01    8.04    0.99    -0.78   13  4.9 \ni1  10.08   2.18    8       0.91    -0.89   13  4.1 \ni1  10.24   1.97    8.07    0.75    -0.97   13  3.3 \ni1  10.36   2.36    8       0.59    -1      13  3   \ni1  10.47   2.34    8.11    0.43    -1      13  3   \ni1  10.61   1.98    8.04    0.24    -0.96   13  3.3 \ni1  10.75   1.84    8       0.1     -0.89   13  4   \ni1  10.85   2.32    8.07    0.03    -0.82   13  4.7 \ni1  10.99   2.29    8.11    0       -0.68   13  5.7 \ni1  11.13   1.97    8.04    0.06    -0.52   13  6.7 \ni1  11.27   2.36    8.07    0.19    -0.33   13  7.5 \ni1  11.37   2.14    8       0.32    -0.18   13  7.8 \ni1  11.48   2.13    8.04    0.48    -0.02   13  8   \ni1  11.58   2.51    8.11    0.63    0.13    13  7.9 \ni1  11.69   2.08    8.04    0.78    0.3     13  7.6 \ni1  11.82   2.01    8       0.92    0.48    13  6.8 \ni1  11.96   2.38    8.11    1       0.66    13  5.8 \ni1  12.08   2.67    8.07    0.98    0.79    13  4.9 \ni1  12.21   1.97    8.07    0.9     0.9     13  4   \ni1  12.33   2.45    8       0.75    0.96    13  3.3 \ni1  12.44   2.4     8.04    0.59    1       13  3   \ni1  12.52   2.09    8.11    0.47    1       13  3   \ni1  12.65   2.01    8.04    0.27    0.97    13  3.3 \ni1  12.74   2.46    8       0.16    0.93    13  3.7 \ni1  12.86   2.59    8.07    0.05    0.84    13  4.4 \ni1  12.99   2.44    8.11    0       0.72    13  5.4 \ni1  13.06   2.52    8.11    0.01    0.64    13  6   \ni1  13.17   2.48    8       0.07    0.5     13  6.8 \ni1  13.29   2.52    8.04    0.19    0.32    13  7.5 \ni1  13.38   2.53    8.07    0.32    0.19    13  7.8 \ni1  13.49   2.2     8.07    0.48    0.02    13  8   \ni1  13.56   2.22    8       0.59    -0.09   13  8   \ni1  13.65   2.89    8.11    0.73    -0.23   13  7.7 \ni1  13.73   2.62    8.04    0.83    -0.35   13  7.4 \ni1  13.81   2.73    8.04    0.91    -0.47   13  6.9 \ni1  13.92   2.89    8.07    0.98    -0.61   13  6.1 \ni1  14.01   2.85    8.11    1       -0.72   13  5.4 \ni1  14.12   2.47    8       0.96    -0.83   13  4.6 \ni1  14.19   2.36    8.04    0.91    -0.88   13  4.1 \ni1  14.28   2.34    8       0.82    -0.94   13  3.6 \ni1  14.36   2.69    8.11    0.71    -0.98   13  3.2 \ni1  14.42   2.34    8.07    0.62    -0.99   13  3.1 \ni1  14.52   3.08    8.07    0.47    -1      13  3   \ni1  14.59   2.29    8       0.36    -0.99   13  3.1 \ni1  14.69   2.46    8.11    0.22    -0.96   13  3.4 \ni1  14.75   2.37    8.04    0.15    -0.92   13  3.7 \ni1  14.82   2.65    8       0.08    -0.88   13  4.2 \ni1  14.91   2.92    8.04    0.02    -0.8    13  4.8 \ni1  14.97   2.86    8.11    0       -0.74   13  5.3 \n\n; ------- END OF FIELD 1 --- NUMBER OF EVENTS: 103 -------\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kstep     init           0 using drum sound and FM synthesis and Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from drummach.orc and drummach.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n; DRUM MACHINE\n          instr 1\n\nkstep     init           0\n\n; SEQUENCER SECTION\n;-------------------------------------------------------------------------\nloop1:\n; READ ALL OF THE TABLE VALUES.\nkdur      table     kstep, p5\nkdrnum    table     kstep, p6\nkleft     table     kstep, p7\nkright    table     kstep, p8\n\nkdur1     =         kdur/8                   ; MAKE THE STEP SMALLER.\n                                        \n; ALL OF THE ENVELOPES WANT TO BE OUTSIDE OF THE IF FOR SOME REASON.\nkampenv1  linseg    0, .01, p4/2, .04, 0, .01, 0\nkampenv2  expseg    .0001,.01, p4, .04, .01\nkfreqenv  expseg    50, .01, 200, .08, 50\nkampenv3  expseg    .0001, n.01, p4*2,  .08, .01\nkampenv4  linseg    0, .001, 1,  i(kdur1)-.021, 1, .02, 0\nkfreqenv51 expseg   50, .01, 200, .08, 50\nkfreqenv52 linseg   150, .01, 1000, .08, 250, .01, 250\nkampenv5  linseg    0, .01, p4, .08, 0, .01, 0\nkptchenv  linseg    100, .01, 300, .2, 200, .01, 200\n\nkampenv61 expseg    .01, .01, p4, .2, p4/100, .1, .001\nkampenv62 linseg    1, .1, 10,  .1, .5, .01, 1\n\n; SOME OF THE SIGNAL GENERATORS MUST BE OUTSIDE OF THE IF'S\nasig4     pluck     p4/2, kptchenv, 50, 2, 4, .8, 3\nasig5     foscil    kampenv61, 30, 1, 6.726, kampenv62, 1\n\n; SWITCH BETWEEN THE DIFFERENT DRUMS\n          if        (kdrnum != 0) goto next1\n; HIHAT\naout      rand      kampenv1\n          goto      endswitch\n\nnext1:\n          if        (kdrnum != 1) goto next2\n; DUMB DRUM\nasig      rand      kampenv2\nafilt     reson     asig, 1000, 100\naout      balance   afilt, asig\n          goto      endswitch\n\nnext2:\n          if        (kdrnum != 2) goto next3\n; DUMB BASS DRUM\nasig      rand      kampenv3\nafilt     reson     asig, kfreqenv, kfreqenv/8\naout      balance   afilt, asig\n          goto      endswitch\n\nnext3:\n          if        (kdrnum != 3) goto next4\n; KS SNARE\naout      =         kampenv4*asig4\n          goto      endswitch\n\nnext4:\n          if        (kdrnum != 4) goto next5\n; SORTA COOL KNOCK SWEEP DRUM\nasig      rand      kampenv5\nafilt1    reson     asig, kfreqenv51, kfreqenv51/8\nafilt2    reson     asig, kfreqenv52, kfreqenv52/4\naout1     balance   afilt1, asig\naout2     balance   afilt2, asig\naout      =         (aout1+aout2)/2\n          goto      endswitch\n\nnext5:\n          if        (kdrnum != 5) goto endswitch\n; FM METAL BOINK DRUM\naout      =         asig5\n\n\nendswitch:\n; WHEN THE TIME RUNS OUT GO TO THE NEXT STEP OF THE SEQUENCE AND REINITIALIZE THE ENVELOPES.\n          timout    0, i(kdur1), cont1\nkstep     =         frac((kstep + 1)/8)*8\n          reinit    loop1\n\ncont1:\n\n          outs      aout*kleft, aout*kright\n\nendin\n\n; FIGURE OUT YOUR DRUMS DOWN HERE.  THEN MOVE ENVELOPES INTO THE ENVELOPE\n; SECTION AND THE REST INTO THE SWITCH SECTION OF THE DRUM MACHINE.\n          instr 2\n\n; DUMB DRUM 1\nkampenv   expseg    .0001, .01, p4, .04, .01\nasig      rand      kampenv\nafilt     reson     asig, 1000, 100\naout      balance   afilt, asig\n          outs      aout, aout\n\n          endin\n\n          instr 3\n\n; DUMB BASS DRUM\nkfreqenv  expseg    50,    .01, 200, .08, 50\nkampenv   expseg    .0001, .01, p4,  .08, .01\nasig      rand      kampenv\nafilt     reson     asig, kfreqenv, kfreqenv/8\naout      balance   afilt, asig\n          outs      aout, aout\n\n          endin\n\n          instr 4\n\n; KS SNARE DRUM\nkampenv4  linseg    0, .001, 1,     p3-.021, 1, .02, 0\nkptchenv  linseg    100, .01, 300, .2, 200, .01, 200\nasig      pluck     p4, kptchenv, 50, 2, 4, .8, 3\naout      =         kampenv4*asig\n          outs      aout, aout\n\n          endin\n\n          instr 5\n\n; SORTA COOL KNOCK SWEEP DRUM\nkfreqenv41 expseg   50,   .01, 200, .08, 50\nkfreqenv42 linseg   150,   .01, 1000, .08, 250\nkampenv4  linseg    0, .01, p4,     .08, 0, .01, 0\nasig      rand      kampenv4\nafilt1    reson     asig, kfreqenv41, kfreqenv41/8\nafilt2    reson     asig, kfreqenv42, kfreqenv42/4\naout1     balance   afilt1, asig\naout2     balance   afilt2, asig\n          outs      (aout1+aout2)/2, (aout1+aout2)/2\n\n          endin\n\n          instr 6\n\n; FM METAL BOINK DRUM\nkampenv61 expseg    .01, .01, p4, .2, p4/100, .1, .001\nkampenv62 linseg    1, .1, 10,     .1, .5, .01, 1\n\nasig      foscil    kampenv61, 30, 1, 6.726, kampenv62, 1\n          outs      asig, asig\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1  0 8192 10 1\nf2  0 1024  7 1 1024 1\n\n; Duration\nf21  0  8  -2  1     1     1     1     1     1     1     1\nf25  0  8  -2  4     1     1     2     4     1     1     2\nf29  0  8  -2  4     1     1     1     1     4     2     2\n\n; Drums :  0=HiHat, 1=Tap, 2=Bass, 3=KS Snare, 4=Sweep, 5=FMBoink\nf22  0  8  -2  0     1     0     1     2     1     0     1\nf26  0  8  -2  4     3     3     2     4     2     3     4\nf30  0  8  -2  4     2     1     5     4     5     5     4\n\n; Panning \nf23  0  8  -2   1    0     1     0     1     0     1     1\nf24  0  8  -2   0    1     0     1     1     1     1     0\n\nf27  0  8  -2   1    0     1     1     0     1     1     0\nf28  0  8  -2   0    1     0     0     1     1     0     1\n\nf31  0  8  -2   0    0     0     0     0     1     1     0\nf32  0  8  -2   1    1     1     1     1     0     1     1\n\n;  Sta  Dur Amp        Tables\n;                 Dur Drum PanL PanR\ni1 0    6   8000  21  22   23   24\ni1 0    6   8000  25  26   27   28\ni1 0    6   8000  29  30   31   32\n\n;i2 .2  .2   20000\n;i2 +   .2   20000\n\n;i6 0  .1   20000\n;i6 +  .2   20000\n\n;i4 0 1 10000 \n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kstep \tinit \t0 using drum sound and FM synthesis and Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from drums.orc and drums.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n\n; DRUM MACHINE\n\t\tinstr 1\n\nkstep \tinit \t0\n\n; SEQUENCER SECTION\n;------------------------------------------------------------------------- \nloop1:\n; READ ALL OF THE TABLE VALUES.\nkdur \ttable \tkstep, p5\nkdrnum \ttable \tkstep, p6\nkleft \ttable \tkstep, p7\nkright \ttable \tkstep, p8\n\nkdur1 \t=\t\tkdur/8\t\t\t\t; MAKE THE STEP SMALLER.\n\t\t\t\t\t\t\n; ALL OF THE ENVELOPES WANT TO BE OUTSIDE OF THE IF FOR SOME REASON. \nkampenv1 \tlinseg \t0, .01, p4/2, .04, 0, .01, 0 \nkampenv2 \texpseg \t.0001, .01, p4, .04, .01 \nkfreqenv \texpseg \t50, .01, 200, .08, 50\nkampenv3 \texpseg \t.0001, .01, p4*2, .08, .01 \nkampenv4 \tlinseg \t0, .001, 1, i(kdur1)-.021, 1, .02, 0 \nkfreqenv51 expseg \t50, .01, 200, .08, 50\nkfreqenv52 linseg \t150, .01, 1000, .08, 250, .01, 250 \nkampenv5 \tlinseg \t0, .01, p4, .08, 0, .01, 0 \nkptchenv \tlinseg \t100, .01, 300, .2, 200, .01, 200 \n\nkampenv61\texpseg \t.01, .01, p4, .2, p4/100, .1, .001 \nkampenv62 linseg \t1, .1, 10, .1, .5, .01, 1 \n\n; SOME OF THE SIGNAL GENERATORS MUST BE OUTSIDE OF THE IF'S \nasig4\tpluck \tp4/2, kptchenv, 50, 2, 4, .8, 3\nasig5\tfoscil \tkampenv61, 30, 1, 6.726, kampenv62, 1\n\n; SWITCH BETWEEN THE DIFFERENT DRUMS\n\t\tif\t\t(kdrnum != 0) goto next1\n; HIHAT\naout \trand \tkampenv1\n\t\tgoto \tendswitch\n\nnext1:\n\t\tif\t\t(kdrnum != 1) goto next2\n; DUMB DRUM\nasig \trand\t \tkampenv2\nafilt \treson \tasig, 1000, 100\naout \tbalance \tafilt, asig\n\t\tgoto \tendswitch\n\nnext2:\n\t\tif\t\t(kdrnum != 2) goto next3\n; DUMB BASS DRUM\nasig \trand \tkampenv3\nafilt\t reson \tasig, kfreqenv, kfreqenv/8\naout \tbalance \tafilt, asig\n\t\tgoto \tendswitch\n\nnext3:\n\t\tif \t\t(kdrnum != 3) goto next4\n; KS SNARE\naout \t=\t\tkampenv4*asig4\n\t\tgoto \tendswitch\n\nnext4:\n\t\tif\t\t(kdrnum != 4) goto next5\n; SORTA COOL KNOCK SWEEP DRUM\nasig \trand \tkampenv5\nafilt1 \treson \tasig, kfreqenv51, kfreqenv51/8 \nafilt2 \treson \tasig, kfreqenv52, kfreqenv52/4 \naout1 \tbalance \tafilt1, asig\naout2 \tbalance \tafilt2, asig\naout \t=\t\t(aout1+aout2)/2\n\t\tgoto \tendswitch\n\nnext5:\n\t\tif\t\t(kdrnum != 5) goto endswitch\n; FM METAL BOINK DRUM\naout \t= \t\tasig5\n\n\nendswitch:\n; WHEN THE TIME RUNS OUT GO TO THE NEXT STEP \n; OF THE SEQUENCE AND REINITIALIZE THE ENVELOPES.\n\t\ttimout \t0, i(kdur1), cont1\nkstep \t= \t\tfrac((kstep + 1)/8)*8\n\t\treinit \tloop1\n\ncont1:\n\n\t\touts \taout*kleft, aout*kright\n\n\t\tendin\n\n; FIGURE OUT YOUR DRUMS DOWN HERE. THEN MOVE ENVELOPES INTO THE ENVELOPE \n; SECTION AND THE REST INTO THE SWITCH SECTION OF THE DRUM MACHINE. \n\n\t\tinstr 2\n\n; DUMB DRUM 1\nkampenv \texpseg \t.0001, .01, p4, .04, .01\nasig \trand \tkampenv\nafilt \treson \tasig, 1000, 100\naout \tbalance \tafilt, asig\n\t\touts \taout, aout\n\n\t\tendin\n\n\t\tinstr 3\n\n; DUMB BASS DRUM\nkfreqenv \texpseg \t50, .01, 200, .08, 50\nkampenv \texpseg \t.0001, .01, p4, .08, .01\nasig \trand \tkampenv\nafilt \treson \tasig, kfreqenv, kfreqenv/8\naout \tbalance \tafilt, asig\n\t\touts\t\taout, aout\n\n\t\tendin\n\n\t\tinstr 4\n\n; KS SNARE DRUM\nkampenv4 \tlinseg \t0, .001, 1, p3-.021, 1, .02, 0 \nkptchenv \tlinseg \t100, .01, 300, .2, 200, .01, 200 \nasig \tpluck \tp4, kptchenv, 50, 2, 4, .8, 3\naout \t=\t\tkampenv4*asig\n\t\touts \taout, aout\n\n\t\tendin\n\n\t\tinstr 5\n\n; SORTA COOL KNOCK SWEEP DRUM\nkfreqenv41 expseg \t50, .01, 200, .08, 50\nkfreqenv42 linseg \t150, .01, 1000, .08, 250 \nkampenv4\tlinseg \t0, .01, p4, .08, 0, .01, 0 \nasig \trand \tkampenv4\nafilt1 \treson \tasig, kfreqenv41, kfreqenv41/8 \nafilt2 \treson \tasig, kfreqenv42, kfreqenv42/4 \naout1\tbalance \tafilt1, asig\naout2\tbalance \tafilt2, asig\n\t\touts \t(aout1+aout2)/2, (aout1+aout2)/2\n\n\t\tendin\n\n\t\tinstr 6\n\n; FM METAL BOINK DRUM\nkampenv61 expseg \t.01, .01, p4, .2, p4/100, .1, .001 \nkampenv62 linseg \t1, .1, 10, .1, .5, .01, 1 \n\nasig \tfoscil \tkampenv61, 30, 1, 6.726, kampenv62, 1\n\t\touts \tasig, asig\n\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n; Score\nf1 0 8192 10 1\nf2 0 1024 7 1 1024 1\n\n; Duration\nf21 0 8 -2 1\t1\t1\t1\t1\t1\t1\t1\nf25 0 8 -2 4\t1\t1\t2\t4\t1\t1\t2\nf29 0 8 -2 4\t1\t1\t1\t1\t4\t2\t2\n\n; Drums : 0=HiHat, 1=Tap, 2=Bass, 3=KS Snare, 4=Sweep, 5=FMBoink \nf22 0 8 -2 0\t1\t0\t1\t2\t1\t0\t1\nf26 0 8 -2 4\t3\t3\t2\t4\t2\t3\t4\nf30 0 8 -2 4\t2\t1\t5\t4\t5\t5\t4\n\n; Panning\nf23 0 8 -2 1 0\t1\t0\t1\t0\t1\t1\nf24 0 8 -2 0 1\t0\t1\t1\t1\t1\t0\n\nf27 0 8 -2 1 0\t1\t1\t0\t1\t1\t0\nf28 0 8 -2 0 1\t0\t0\t1\t1\t0\t1\n\nf31 0 8 -2 0 0\t0\t0\t0\t1\t1\t0\nf32 0 8 -2 1 1\t1\t1\t1\t0\t1\t1\n\n; Sta Dur Amp\tTables\n;\tDur Drum PanL PanR\ni1 0 6 8000 21 22 23 24\ni1 0 6 8000 25 26 27 28\ni1 0 6 8000 29 30 31 32\ns\nf0 2\ns\ni2 .2 .2 20000\ni2 + .2 20000\ns\nf0 2\ns\ni6 0 .1 20000\ni6 + .2 20000\ns\nf0 2\ns\ni4 0 1 10000\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating FOF formant synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 45_01_10.orc and 45_01_10.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps =100\nnchnls = 1\n\n; ****************************************************************************\n; ACCCI:        45_01_10.ORC\n; synthesis:    FOF (45)\n;               Tutorial FOF(01)\n;               duration and decay of successive FOF granules(10)\n; coded:        jpg 3/94\n\n\ninstr 1; *********************************************************************\nidur   = p3\n\n   k1 expon   .3, idur, .003        ; kdur & kdec contour\n\n   ;                            koct                       ifna     idur\n   ;          xamp  xfund  xform  kband kris  kdur kdec iolaps ifnb\n   a1 fof     15000, 2,    300, 0,  0,  .003,.01+k1, k1, 2,  1, 19, idur\n      out     a1\n\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     45_01_10.SCO\n; coded:     jpg 3/94\n\n\n; GEN functions **********************************************************\nf1  0 4096  10  1\nf19 0 1024  19 .5 .5 270 .5\n\n; score ******************************************************************\n\n;  istart idur\n\ni1  0      10\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating FOF formant synthesis and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 45_01_11.orc and 45_01_11.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps =100\nnchnls = 1\n\n; ****************************************************************************\n; ACCCI:        45_01_11.ORC\n; synthesis:    FOF (45)\n;               Tutorial FOF(01)\n;               bandwidth and skirtwidth of successive FOF granules(11)\n; coded:        jpg 3/94\n\n\ninstr 1; *********************************************************************\nidur   = p3\n\n   kband linseg    100, idur/4, 0, idur/4, 100, idur/2, 100\n   kris  linseg    .003, idur/2, .003, idur/4, .01, idur/4, .003\n\n   ;                            koct                       ifna     idur\n   ;          xamp  xfund  xform  kband kris  kdur kdec iolaps ifnb\n   a1 fof     14000, 100,  440, 0,kband,kris, .02, .007, 3,  1, 19, idur\n      out     a1\n\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     45_01_11.SCO\n; coded:     jpg 3/94\n\n\n; GEN functions **********************************************************\nf1  0 4096  10  1\nf19 0 1024  19 .5 .5 270 .5\n\n; score ******************************************************************\n\n;  istart idur\n\ni1  0      10\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp           =         p4 using FOF formant synthesis and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from simplefof.orc and simplefof.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n\ninstr 1\niamp           =         p4\nifrq           =         p5\niform          =         p6\nioct           =         p7\niband          =         p8\niris           =         p9\nidur           =         p10\nidec           =         p11\niolaps         =         p12\nifna           =         1\nifnb           =         2\n;ar            fof       xamp, xfund, xform, koct, kband, kris, kdur, kdec, iolaps   \nasig           fof       iamp,  ifrq, iform, ioct, iband, iris, idur, idec, iolaps, ifna, ifnb, p3\n               out       asig\n               endin\n          \n          \n               instr     2\niamp           =         p4\nifrq           =         p5\niform          =         p6\nioct           =         p7\niband          =         p8\niris           =         p9\nidur           =         p10\nidec           =         p11\niolaps         =         p12\nifna           =         1\nifnb           =         2\niatk           =         p13\nirel           =         p14\nifrq2          =         p15\niform2         =         p16\nioct2          =         p17\niband2         =         p18\niris2          =         p19\nidur2          =         p20\nidec2          =         p21\nkenv           linen     iamp, iatk, p3, irel          \nkfrq           line      ifrq, p3, ifrq2\nkform          line      iform, p3, iform2\nkoct           line      ioct, p3, ioct2\nkband          line      iband, p3, iband2\nkris           line      iris, p3, iris2\nkdur           line      idur, p3, idur2\nkdec           line      idec, p3, idec2\n;ar            fof       xamp, xfund, xform, koct, kband, kris, kdur, kdec, iolaps   \nasig           fof       kenv,  kfrq, kform, koct, kband, kris, kdur, kdec, iolaps, ifna, ifnb, p3\n               out       asig\n               endin     \n\n\n\n</CsInstruments>\n<CsScore>\nf1 0 4096 10 1\nf2 0 1024 19 .5 .5 270 .5\n\n;iamp     =         p4\n;ifrq     =         p5\n;iform    =         p6\n;ioct     =         p7\n;iband    =         p8\n;iris     =         p9\n;idur     =         p10\n;idec     =         p11\n;iolaps   =         p12\n;ifna     =         1\n;ifnb     =         2\n;iatk     =         p13\n;irel     =         p14\n;ifrq2    =         p15\n;iform2   =         p16\n;ioct2    =         p17\n;iband2   =         p18\n;iris2    =         p19\n;idur2    =         p20\n;idec2    =         p21\n\n;ar   fof xamp, xfund, xform, koct, kband, kris, kdur, kdec,iolaps    \ni1   0   3     10000   200  650     0    40    .003  .02    .007    5\ni1   4   3     10000    50  650     0    200   .003  .02    .007    20\ni1   8   3     10000   400  950     0    300   .003  .02    .007    40\ns\ni1   0   3     10000   100  1150    0    20    .003  .002    .007    5\ni1   4   3     10000    40  750     0    400   .003  .002    .007    30\ni1   8   3     10000   800  2850    0    300   .003  .002    .007    80\ns\n;ar   fof xamp, xfund, xform, koct, kband, kris, kdur, kdec,iolaps    \ni2   0   8     10000   200  650     0    40    .003  .02    .007    30   .3   .5  100  1900  0 200 .003  .01   .001\ns\ni2   0   5     10000   90   350    0     20   .003  .02    .07    100   .5   .7  600  300  0 500 .001  .01   .01\ns\ni2   0   3     5000   500  1350    0    200   .003  .8    .01    400   .4   .1  50  500  1 100 .002  .05   .001\ns\ni2   0   5      10    60   1950      0    400   .001 .08    .01     100   .7   .8  40  1000  0 200 .02  .05   .01\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating FOF formant synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 45_01_6b.orc and 45_01_6b.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps =100\nnchnls = 1\n\n; *****************************************************************************\n; ACCCI:        45_01_6B.ORC\n; synthesis:    FOF (45)\n;               Tutorial FOF(01)\n;               smooth variation of formant(6B)\n;               ifmode = 1.\n; coded:        jpg 3/94\n\n\ninstr 1; **********************************************************************\nidur   = p3\n\n   aform line 400, idur, 800\n\n   ;                            koct                       ifna  idur ifmode\n   ;          xamp  xfund  xform  kband kris kdur kdec iolaps ifnb  iphs\n   a1 fof     15000,   5,  aform,0,  1, .003, .5,  .1,  3,  1,19,idur,0, 1\n      out     a1\n\nendin\n\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     45_01_6B.SCO\n; coded:     jpg 3/94\n\n\n; GEN functions **********************************************************\nf1  0 4096  10  1\nf19 0 1024  19 .5 .5 270 .5\n\n; score ******************************************************************\n\n;  istart idur\n\ni1  0      10\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating FOF formant synthesis and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 45_01_9.orc and 45_01_9.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps =100\nnchnls = 1\n\n; ****************************************************************************\n; ACCCI:        45_01_9.ORC\n; synthesis:    FOF (45)\n;               Tutorial FOF(01)\n;               decay of successive FOF granules(9)\n; coded:        jpg 3/94\n\n\ninstr 1; *********************************************************************\nidur   = p3\n\n   kdec linseg .3, idur, .003        ; kdec contour\n\n   ;                            koct                       ifna    idur\n   ;          xamp  xfund  xform  kband kris  kdur kdec iolaps ifnb\n   a1 fof     15000, 2,    300, 0,  0,  .003, .4,  kdec, 2,  1,19, idur\n      out     a1\n\nendin\n\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     45_01_9.SCO\n; coded:     jpg 3/94\n\n\n; GEN functions **********************************************************\nf1  0 4096  10  1\nf19 0 1024  19 .5 .5 270 .5\n\n; score ******************************************************************\n\n;  istart idur\n\ni1  0      10\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating FOF formant synthesis and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 45_01_8.orc and 45_01_8.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps =100\nnchnls = 1\n\n; ****************************************************************************\n; ACCCI:        45_01_8.ORC\n; synthesis:    FOF (45)\n;               Tutorial FOF(01)\n;               middle decay of successive FOF granules(8)\n; coded:        jpg 3/94\n\n\ninstr 1; *********************************************************************\nidur   = p3\n\n   kband linseg  0, idur, 10        ; kband contour\n\n   ;                            koct                       ifna    idur\n   ;          xamp  xfund  xform  kband kris  kdur kdec iolaps ifnb\n   a1 fof     15000, 2,    300, 0,kband,.003, .5,  .1,   2,  1,19, idur\n      out     a1\n\nendin\n\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     45_01_8.SCO\n; coded:     jpg 3/94\n\n\n; GEN functions **********************************************************\nf1  0 4096  10  1\nf19 0 1024  19 .5 .5 270 .5\n\n; score ******************************************************************\n\n;  istart idur\n\ni1  0      10\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating FOF formant synthesis and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 45_01_2.orc and 45_01_2.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps =100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:        45_01_2.ORC\n; synthesis:    FOF (45)\n;               Tutorial FOF(01)\n;               LINSEG envelope(2)\n; coded:        jpg 3/94\n\n\ninstr 1; *****************************************************************\nidur   = p3\nifq    = p4\n\n   aenv  linseg  0, idur*.3, 20000, idur*.4, 15000, idur*.3, 0\n\n   ;                            koct                       ifna     idur\n   ;          xamp  xfund  xform  kband kris  kdur kdec iolaps ifnb\n   a1 fof     aenv,  ifq,  650, 0,  40, .003, .02, .007,  5, 1, 19, idur\n      out     a1\n\nendin\n\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     45_01_2.SCO\n; coded:     jpg 3/94\n\n\n; GEN functions **********************************************************\nf1  0 4096  10  1\nf19 0 1024  19 .5 .5 270 .5\n\n; score ******************************************************************\n\n;  istart idur ifq\n\ni1  0     3    200\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating FOF formant synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 45_01_1.orc and 45_01_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps =100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:        45_01_1.ORC\n; synthesis:    FOF (45)\n;               Tutorial FOF(01)\n;               minimal instrument(1)\n; coded:        jpg 3/94\n\n\ninstr 1; *****************************************************************\nidur   = p3\nifq    = p4\n\n   ;                            koct                       ifna     idur\n   ;          xamp  xfund  xform  kband kris  kdur kdec iolaps ifnb\n   a1 fof     15000, ifq,  650, 0,  40, .003, .02, .007,  5, 1, 19, idur\n      out     a1\n\nendin\n\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     45_01_1.SCO\n; coded:     jpg 3/94\n\n\n; GEN functions **********************************************************\nf1  0 4096  10  1\nf19 0 1024  19 .5 .5 270 .5\n\n; score ******************************************************************\n\n;  istart idur ifq\n\ni1  0     3    200\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating FOF formant synthesis and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 45_01_5.orc and 45_01_5.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps =100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:        45_01_5.ORC\n; synthesis:    FOF (45)\n;               Tutorial FOF(01)\n;               octaviation coefficient(5)\n; coded:        jpg 3/94\n\n\ninstr 1; *****************************************************************\nidur   = p3\nifq    = p4\n\n   koct linseg  0, idur*.1, 0, idur*.8, 6, idur*.1, 6\n\n   ;                            koct                        ifna    idur\n   ;          xamp  xfund  xform  kband kris  kdur kdec iolaps ifnb\n   a1 fof     15000, ifq,  650, koct,40,.003, .02, .007,  5, 1, 19, idur\n      out     a1\n\nendin\n\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     45_01_5.SCO\n; coded:     jpg 3/94\n\n\n; GEN functions **********************************************************\nf1  0 4096  10  1\nf19 0 1024  19 .5 .5 270 .5\n\n; score ******************************************************************\n\n;  istart idur ifq\n\ni1  0      10  200\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating FOF formant synthesis and exponential segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 45_01_4.orc and 45_01_4.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps =100\nnchnls = 2 \n\n; ************************************************************************\n; ACCCI:        45_01_4.ORC\n; synthesis:    FOF (45)\n;               Tutorial FOF(01)\n;               granular to timbre(4)\n; coded:        jpg 3/94\n\n\ninstr 1; *****************************************************************\nidur   = p3\n\n   afq expseg 5, idur*.8, 200, idur*.2, 150   ; fund. frequency contour\n\n   ;                            koct                        ifna    idur\n   ;          xamp  xfund  xform  kband kris  kdur kdec iolaps ifnb\n   a1 fof     15000, afq,  650, 0,  40, .003, .02, .007,  5, 1, 19, idur\n      outs     a1,a1\n\nendin\n\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     45_01_4.SCO\n; coded:     jpg 3/94\n\n\n; GEN functions **********************************************************\nf1  0 4096  10  1\nf19 0 1024  19 .5 .5 270 .5\n\n; score ******************************************************************\n\n;  istart idur\n\ni1  0     10\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating FOF formant synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 45_01_6.orc and 45_01_6.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps =100\nnchnls = 1\n\n; *****************************************************************************\n; ACCCI:        45_01_6.ORC\n; synthesis:    FOF (45)\n;               Tutorial FOF(01)\n;               striated variation of formant(6)\n;               ifmode = 0.\n; coded:        jpg 3/94\n\n\ninstr 1; **********************************************************************\nidur   = p3\n\n   aform line 400, idur, 800\n\n   ;                            koct                       ifna  idur ifmode\n   ;          xamp  xfund  xform  kband kris kdur kdec iolaps ifnb  iphs\n   a1 fof     15000,   5,  aform,0,  1, .003, .5,  .1,  3,  1,19,idur,0, 0\n      out     a1\n\nendin\n\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     45_01_6.SCO\n; coded:     jpg 3/94\n\n\n; GEN functions **********************************************************\nf1  0 4096  10  1\nf19 0 1024  19 .5 .5 270 .5\n\n; score ******************************************************************\n\n;  istart idur\n\ni1  0      10\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating FOF formant synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 45_01_7.orc and 45_01_7.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps =100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:        45_01_7.ORC\n; synthesis:    FOF (45)\n;               Tutorial FOF(01)\n;               rise of successive FOF granules(7)\n; coded:        jpg 3/94\n\n\ninstr 1; *****************************************************************\nidur   = p3\n\n   kris line  .003, idur, .1        ; kris contour\n\n   ;                            koct                        ifna    idur\n   ;          xamp  xfund  xform  kband kris  kdur kdec iolaps  ifnb\n   a1 fof     15000, 2,    300,  0,  0, kris, .5,  .1,   2,  1, 19, idur\n      out     a1\n\nendin\n\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     45_01_7.SCO\n; coded:     jpg 3/94\n\n\n; GEN functions **********************************************************\nf1  0 4096  10  1\nf19 0 1024  19 .5 .5 270 .5\n\n; score ******************************************************************\n\n;  istart idur\n\ni1  0      10\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for insnd     =         1 using FOG granular synthesis and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fog1.orc and fog1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n          \n          instr 1 \ninsnd     =         1 \nkfund     =         p5\niolaps    =         p5 * 2\nktrans    linseg    1, p3*.25, 1, p3*.25, 1.5, p3*.25, .5\nkdur      =         .23\naspd      line      0, p3, 1\n;  ar     fog       xamp, xdens, xtrans, xspd, koct, kband, kris, kdur, kdec, iolaps, ifna, ifnb, itotdur[, iphs][, itmode]\na1        fog       p4, kfund, ktrans, aspd, 0, 0, kdur*.1, kdur, kdur*.1, iolaps, insnd, 2, p3, 0, 1\n          out a1\n          endin\n\n</CsInstruments>\n<CsScore>\nf1  0  131072  1  \"hellorcb.aif\"  0 4 0\nf2  0   1024   7   0  1024  1            \n\ni1  0 10 10000 5\ns\ni1  0 10 5000 50\ns\ni1  0 10 1000 500\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for test fof2 using FOF formant synthesis and FOG granular synthesis and FOF formant synthesis with glissando", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fofog.orc and fofog.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n                                             \n          instr 1 ; test fof2\ninsnd     =         10                       ; ifna, INPUT SOUND FILE THROUGH gen 01\nibas      =         sr / ftlen(insnd)        ; 1:1 PLAYBACK RATE\nkfund     =         p5\niolaps    =         p5 * 2\nkform     linseg    ibas, p3/4, ibas, p3/4, ibas*.5, p3/4, ibas*2\nkdur      =         .75\nkphs      line      0, p3, 1\n;ar       fof2      xamp, xfund, xform, koct, kband, kris, kdur, kdec, iolaps, ifna, ifnb, itotdur, kphs, kgliss\na1        fof2      p4, kfund, kform, 0, 0, kdur/10, kdur, kdur/10, iolaps, insnd, 2, p3, kphs, 0\n          out       a1\n          endin\n\n\n          instr 2 ; test FOG\ninsnd     =         10                       ; ifna, INPUT SOUND FILE THROUGH gen 01\nibas      =         sr / ftlen(insnd)        ; 1:1 PLAYBACK RATE\nkfund     =         p5\niolaps    =         p5 * 2\nkform     linseg    1, p3/4, 1, p3/4, .8, p3/4, 1.2\nkdur      =         .19\naspd      line      0, p3, 1              ; MUST BE A-RATE, ERROR IN DOCUMENTATION (or code)\n;ar       fog       xamp, xdens, xtrans, xspd, koct, kband, kris, kdur, kdec, iolaps, ifna, ifnb, itotdur[, iphs][, itmode]\na1        fog       p4, kfund, kform, aspd, 0, 0, kdur/10, kdur, kdur/10, iolaps, insnd, 2, p3, 0, 1\n          out       a1\n          endin\n\n</CsInstruments>\n<CsScore>\nf2   0   1024   7   0  1024  1              ; STRAIGHT LINE RISE\nf10  0  131072  1  \"hellorcb.aif\"  0 4 0    ; SOME SOUND FILE, USE CONTINUOUS SOUND\n\ni1  0  10 10000 5               ; PLAY FOF2 WITH SOME TIME-STRETCH & PITCH CHANGE\ni2  10 20 10000 5               ; ...AND THEN FOG\ns\ni1  0  10 5000  50              ; PLAY FOF2 WITH SOME TIME-STRETCH & PITCH CHANGE\ni2  10 20 5000 50               ; ...AND THEN FOG\ns\ni1  0  10 1000  500             ; PLAY FOF2 WITH SOME TIME-STRETCH & PITCH CHANGE\ni2  10 20 1000 500              ; ...AND THEN FOG\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for insnd     =         10 using FOG granular synthesis and vibraphone physical model and FOF formant synthesis with glissando", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FOG.ORC and FOG.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr  1\n\ninsnd     =         10\nibas      =         sr/ftlen(insnd)\nkfund     =         38\nkform     =         ibas\n\nkphs      line      0, p3, 1\nkgliss    line      0, p3, .5\n\nkdur      =         2.5/kfund\nkris      =         kdur/2.1\nkdec      =         kris\niolaps    =         20\na1        fof2      23000, kfund, kform, 0, 0, kris, kdur, kdec, iolaps, insnd, 7, p3, kphs, kgliss\n          out       a1\n\n          endin\n\n          instr   2\n\np3        =         1\niamp      =         p4\nifqc      =         cpspch(p5)\n\na1        vibes     iamp, ifqc, .5, .561, 1, 6, .05, 1, .1\n\n          out       a1\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\n;f7 0 8192 7 0 8192 1\n;f10 0 131072 1 \"neopren.wav\" 0 0 1\n\n;i1 0 8\n\ni2 0 .2 20000 7.00 \ni2 + .  .     7.03 \ni2 . .  .     7.04 \ni2 . .  .     7.05 \ni2 . .  .     7.07 \ni2 . .  .     7.06 \n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for p3\t=  p3 + 0.2 using voice synthesis and FOG granular synthesis and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from voice1.orc and voice1.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  1378.125\nksmps\t=  32\nnchnls\t=  2\n\n\n/* mono output file name */\n\n#define OUTFLNAME # \"_tmp.dat\" #\n\n/* ------------------------------------------- */\n\n/* parameters for spatialization */\n\n#define SOUNDSPEED\t# 340.0 #\n#define EARDIST\t\t# 0.18 #\n#define DELAYOFFS1\t# 0.02 #\n#define AMPDIST0\t# 10 #\n\n/* ------------------------------------------- */\n\n/* convert distance to delay time */\n\n#define Dist2Delay(xdst)\n# ((($xdst)/$SOUNDSPEED)+$DELAYOFFS1) #\n\n/* convert distance to amplitude */\n\n#define Dist2Amp(xdst)\n# (1/(($xdst)+1/$AMPDIST0)) #\n\n/* azimuth to LEFT channel amp. */\n\n#define Azim2AmpL(xazim)\n# abs(1.4142135*cos((($xazim)+1.570796)/2)) #\n\n/* azimuth to RIGHT channel amp. */\n\n#define Azim2AmpR(xazim)\n# abs(1.4142135*sin((($xazim)+1.570796)/2)) #\n\n/* ------------------------------------------- */\n\n/* temp macro for filtering */\n\n#define SpatFilter #\n\na_\tbutterlp\t0.333*a_L_, 500\na_1_\tbutterlp\t0.533*a_L_, 4000\na_2_\ttone\t\t0.134*a_L_, 12000\na_2_\t=  a_ + a_1_ + a_2_\n\na_\tbutterlp\t0.333*a_R_, 500\na_1_\tbutterlp\t0.533*a_R_, 4000\na_3_\ttone\t\t0.134*a_R_, 12000\na_3_\t=  a_ + a_1_ + a_3_\n\n#\n\n#define SpatStereo #\n\ni_1_\twrap i_az_, -180, 180\ni_1_\tmirror i_1_*3.141593/180, \\\n\t\t-1.570796, 1.570796\n\ni_2_\tlimit i_d_, 0, $SOUNDSPEED*0.95\n\ni_3_\t=  i_2_*cos(i_1_)\t\t/* Yd */\ni_4_\t=  i_2_*sin(i_1_) + $EARDIST/2\t/* XdL */\ni_5_\t=  i_2_*sin(i_1_) - $EARDIST/2\t/* XdR */\ni_4_\t=  sqrt(i_4_*i_4_+i_3_*i_3_)\t/* dL */\ni_5_\t=  sqrt(i_5_*i_5_+i_3_*i_3_)\t/* dR */\n\ni_2_\t=  $Dist2Amp(i_4_)\t/* amp. / L */\ni_3_\t=  $Dist2Amp(i_5_)\t/* amp. / R */\ni_6_\t=  $Azim2AmpL(i_1_)\t/* high lvl. L */\ni_7_\t=  $Azim2AmpR(i_1_)\t/* high lvl. R */\n\n/* lock i-rate variables */\n\nk_2_\tsamphold i_2_, -1, i_2_, 0\nk_3_\tsamphold i_3_, -1, i_3_, 0\nk_6_\tsamphold i_6_, -1, i_6_, 0\nk_7_\tsamphold i_7_, -1, i_7_, 0\n\na_4_\t=  a_\n\n/* delay */\n\na_L_\tdelay a_*k_2_, \\\n\t(int($Dist2Delay(i_4_)*sr+0.5)+0.01)/sr\na_R_\tdelay a_*k_3_, \\\n\t(int($Dist2Delay(i_5_)*sr+0.5)+0.01)/sr\n\n$SpatFilter\n\n/* mix output */\n\na_L_\t=  k_6_*a_L_ + (1-k_6_)*a_2_\na_R_\t=  k_7_*a_R_ + (1-k_7_)*a_3_\n\na_\t=  a_4_\n\n#\n\n/* ------------------------------------------- */\n\n/* spatializer macro */\n\n#define SPATMACRO # $SpatStereo #\n\n\n/* convert MIDI note number to frequency */\n\n#define MIDI2CPS(xmidikey)\n# (440.0*exp(log(2.0)*(($xmidikey)-69.0)/12.0)) #\n\n/* convert frequency to MIDI note number */\n\n#define CPS2MIDI(xfreqcps)\n# (12.0*(log(($xfreqcps)/440.0)/log(2.0))+69.0) #\n\n/* convert velocity to amplitude */\n\n#define VELOC2AMP(xvelocity)\n# (0.0039+(($xvelocity)*($xvelocity))/16192.0) #\n\n/* convert amplitude to velocity */\n\n#define AMP2VELOC(xamplitude)\n# (sqrt((($xamplitude)-0.0039)*16192.0)) #\n\n/* generate ftables */\n\ni_\t=  0\n\nloop_01:\n\ni_cps_\t=  $MIDI2CPS(i_)\ni__\t=  int(i_+256.5)\nidummy\tftgen i__, 0, 16384, 11, \\\n\t\tint(sr/(2*i_cps_)), 1, 1.0\n\ttableigpw i__\ni_\t=  int(i_+1.5)\n\tif (i_<127.5) igoto loop_01\n\n/* ------------------------------------------- */\n\n#define LP1FRQ # 10.0 #\n\n\tseed 0\n\nga0x\tinit 0\n\n\tinstr 1\n\np3\t=  p3 + 0.2\n\nicps\t=  $MIDI2CPS(p4)\niamp\t=  $VELOC2AMP(p5)\niazm\t=  p6\nielv\t=  0\nidst\t=  1\n\nifnum\tlimit p4, 0, 127\t/* ftable */\nifnum\t=  int(ifnum+256.5)\t/* number */\n\nitrns\t=  icps*(16384/sr)\t/* transpose */\n\niovrlp\t=  32\t\t/* number of overlaps */\n\niamp\t=  iamp*3500000/sqrt(icps)\n\n/* ---- OSC 1 ------------------------------- */\n\niamp1\t=  0.35\t\t/* amplitude\t      */\nifmd1\t=  0.01*icps\t/* fm depth\t      */\niwsiz1\t=  32.0/icps\t/* window size        */\niffrq1\t=  icps*1.0\t/* filter freq        */\nifbwd1\t=  icps*1.0\t/* filter bandwidth   */\n\n/* ---- OSC 2 ------------------------------- */\n\niamp2\t=  1.0\t\t/* amplitude\t      */\nifmd2\t=  0.01*icps\t/* fm depth\t      */\niwsiz2\t=  32.0/icps\t/* window size        */\niffrq2\t=  800\t\t/* filter freq        */\nifbwd2\t=  80\t\t/* filter bandwidth   */\n\n/* ---- OSC 3 ------------------------------- */\n\niamp3\t=  0.6\t\t/* amplitude\t      */\nifmd3\t=  0.01*icps\t/* fm depth\t      */\niwsiz3\t=  32.0/icps\t/* window size        */\niffrq3\t=  1150\t\t/* filter freq        */\nifbwd3\t=  90\t\t/* filter bandwidth   */\n\n/* ---- OSC 4 ------------------------------- */\n\niamp4\t=  0.1\t\t/* amplitude\t      */\nifmd4\t=  0.01*icps\t/* fm depth\t      */\niwsiz4\t=  32.0/icps\t/* window size        */\niffrq4\t=  2800\t\t/* filter freq        */\nifbwd4\t=  120\t\t/* filter bandwidth   */\n\n/* ---- OSC 5 ------------------------------- */\n\niamp5\t=  0.03\t\t/* amplitude\t      */\nifmd5\t=  0.02*icps\t/* fm depth\t      */\niwsiz5\t=  16.0/icps\t/* window size        */\niffrq5\t=  3500\t\t/* filter freq        */\nifbwd5\t=  130\t\t/* filter bandwidth   */\n\n/* ---- OSC 6 ------------------------------- */\n\niamp6\t=  0.005\t/* amplitude\t      */\nifmd6\t=  0.02*icps\t/* fm depth\t      */\niwsiz6\t=  8.0/icps\t/* window size        */\niffrq6\t=  4950\t\t/* filter freq        */\nifbwd6\t=  140\t\t/* filter bandwidth   */\n\n/* ---- OSC 7 ------------------------------- */\n\niamp7\t=  0.0035\t/* amplitude\t      */\nifmd7\t=  0.02*icps\t/* fm depth\t      */\niwsiz7\t=  4.0/icps\t/* window size        */\niffrq7\t=  12000\t/* filter freq        */\nifbwd7\t=  8000\t\t/* filter bandwidth   */\n\n/* ------------------------------------------ */\n\n#define OSCILLATOR(nnum) #\n\naphs\t\tunirand 1.0\natrns\t\ttrirand 1.0\natrns\t\t=  ( (ifmd$nnum/icps)*atrns +\t\\\n\t\t\t1.0 )*itrns\nidens$nnum\t=  iovrlp/iwsiz$nnum\na$nnum\t\tfog 1.0, idens$nnum, atrns,\t\\\n\t\t\taphs, 0, 0, 0,\t\t\\\n\t\t\tiwsiz$nnum,\t\t\\\n\t\t\tiwsiz$nnum,\t\t\\\n\t\t\t64, ifnum, 1, 3600, 0, 0\na$nnum\t\tbutterbp a$nnum, iffrq$nnum,\t\\\n\t\t\tifbwd$nnum\na$nnum\t\tbutterbp a$nnum, iffrq$nnum,\t\\\n\t\t\tifbwd$nnum\na0\t\t=  a0 + a$nnum*iamp$nnum\n\n#\n\na0\t=  0\n\n$OSCILLATOR(1)\n$OSCILLATOR(2)\n$OSCILLATOR(3)\n$OSCILLATOR(4)\n$OSCILLATOR(5)\n$OSCILLATOR(6)\n$OSCILLATOR(7)\n\naamp\tlinseg 1, p3-0.2, 1, 0.1, 0, 1, 0\naamp\t=  aamp*aamp\na0x\t=  a0*iamp*aamp\n\nga0x\t=  ga0x + a0x\t/* send to output */\n\na_\t=  a0x\n\ni_az_\t=  iazm\ni_el_\t=  ielv\ni_d_\t=  idst\n\n$SPATMACRO\n\n\touts a_L_, a_R_\n\n\tendin\n\n\tinstr 90\n\n\tsoundout ga0x, $OUTFLNAME, 6\nga0x\t=  0\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt 0 140.00\t\t\t/* tempo */\n\ni 1\t0.0000\t2.0000\t60\t127\t-90\ni 1\t3.0000\t2.0000\t67\t127\t90\n\ni 1\t6.0000\t4.0000\t67\t100\t60\ni 1\t6.0000\t4.0000\t74\t100\t-60\n\ni 1\t12.000\t4.0000\t60\t88\t-30\ni 1\t12.000\t4.0000\t65\t88\t30\ni 1\t12.000\t4.0000\t67\t88\t-80\ni 1\t12.000\t4.0000\t74\t88\t80\n\ni 1\t18.000\t4.0000\t38\t88\t0\ni 1\t18.000\t4.0000\t57\t80\t90\ni 1\t18.000\t4.0000\t62\t80\t-90\ni 1\t18.000\t4.0000\t69\t80\t90\ni 1\t18.000\t4.0000\t74\t88\t40\ni 1\t18.000\t4.0000\t76\t88\t-40\ni 1\t18.000\t4.0000\t77\t88\t-90\n\n#define x1(strt) #\n\ni 1\t[ $strt + 0.000 ]\t0.1500\t62 \\\n\t\t120\t-90\ni 1\t[ $strt + 0.240 ]\t0.1500\t62 \\\n\t\t127\t-90\ni 1\t[ $strt + 0.505 ]\t0.3200\t62 \\\n\t\t124\t0\ni 1\t[ $strt + 1.000 ]\t0.1500\t62 \\\n\t\t120\t90\ni 1\t[ $strt + 1.240 ]\t0.1500\t62 \\\n\t\t127\t90\ni 1\t[ $strt + 1.505 ]\t0.3200\t62 \\\n\t\t124\t0\n\n#\n\n#define x2(strt'note'p1'p2) #\n\ni 1\t[ $strt + 0.000 ]\t0.1500 \\\n\t\t$note\t127\tp1\ni 1\t[ $strt + 0.240 ]\t0.1500 \\\n\t\t$note\t120\t<\ni 1\t[ $strt + 0.490 ]\t0.3200 \\\n\t\t$note\t126\t<\ni 1\t[ $strt + 0.995 ]\t0.3400 \\\n\t\t$note\t124\t<\ni 1\t[ $strt + 1.500 ]\t0.1250 \\\n\t\t$note\t127\t<\ni 1\t[ $strt + 1.755 ]\t0.1250 \\\n\t\t$note\t127\tp2\n\n#\n\n$x1(24)\n$x1(26)\n$x1(28)\n$x1(30)\n$x1(32)\n$x1(34)\n$x1(36)\n$x1(38)\n\n$x2(24'69'-90'-45)\n$x2(26'69'-45' 0)\n$x2(28'67' 0'45)\n$x2(30'67'45'90)\n\n$x2(32'65'90'90)\n$x2(34'65'90'90)\n$x2(36'67'90'90)\n$x2(38'67'90'90)\n\n$x2(32'70'60'30)\n$x2(34'70'30' 0)\n$x2(36'72' 0'-40)\n$x2(38'72'-40'-80)\n\ni 90\t0.0000\t42.000\n\nf 1 0 16384 20 3 1\t\t/* window */\n\t\t\t\t/* function */\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for p3\t=  p3 + 0.2 using effects processing and FOG granular synthesis and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from efx_2.orc and efx_2.sco\n; Original files preserved in same directory\n\nsr\t=  176400\nkr\t=  22050\nksmps\t=  8\nnchnls\t=  2\n\n\n/* mono output file name */\n\n#define OUTFLNAME # \"_tmp.dat\" #\n\n/* ------------------------------------------- */\n\n/* parameters for spatialization */\n\n#define SOUNDSPEED\t# 340.0 #\n#define EARDIST\t\t# 0.18 #\n#define DELAYOFFS1\t# 0.02 #\n#define AMPDIST0\t# 10 #\n\n/* ------------------------------------------- */\n\n/* convert distance to delay time */\n\n#define Dist2Delay(xdst)\n# ((($xdst)/$SOUNDSPEED)+$DELAYOFFS1) #\n\n/* convert distance to amplitude */\n\n#define Dist2Amp(xdst)\n# (1/(($xdst)+1/$AMPDIST0)) #\n\n/* azimuth to LEFT channel amp. */\n\n#define Azim2AmpL(xazim)\n# abs(1.4142135*cos((($xazim)+1.570796)/2)) #\n\n/* azimuth to RIGHT channel amp. */\n\n#define Azim2AmpR(xazim)\n# abs(1.4142135*sin((($xazim)+1.570796)/2)) #\n\n/* ------------------------------------------- */\n\n/* temp macro for filtering */\n\n#define SpatFilter #\n\na_\tbutterlp\t0.333*a_L_, 500\na_1_\tbutterlp\t0.533*a_L_, 4000\na_2_\ttone\t\t0.134*a_L_, 12000\na_2_\t=  a_ + a_1_ + a_2_\n\na_\tbutterlp\t0.333*a_R_, 500\na_1_\tbutterlp\t0.533*a_R_, 4000\na_3_\ttone\t\t0.134*a_R_, 12000\na_3_\t=  a_ + a_1_ + a_3_\n\n#\n\n#define SpatStereo #\n\ni_1_\twrap i_az_, -180, 180\ni_1_\tmirror i_1_*3.141593/180, \\\n\t\t-1.570796, 1.570796\n\ni_2_\tlimit i_d_, 0, $SOUNDSPEED*0.95\n\ni_3_\t=  i_2_*cos(i_1_)\t\t/* Yd */\ni_4_\t=  i_2_*sin(i_1_) + $EARDIST/2\t/* XdL */\ni_5_\t=  i_2_*sin(i_1_) - $EARDIST/2\t/* XdR */\ni_4_\t=  sqrt(i_4_*i_4_+i_3_*i_3_)\t/* dL */\ni_5_\t=  sqrt(i_5_*i_5_+i_3_*i_3_)\t/* dR */\n\ni_2_\t=  $Dist2Amp(i_4_)\t/* amp. / L */\ni_3_\t=  $Dist2Amp(i_5_)\t/* amp. / R */\ni_6_\t=  $Azim2AmpL(i_1_)\t/* high lvl. L */\ni_7_\t=  $Azim2AmpR(i_1_)\t/* high lvl. R */\n\n/* lock i-rate variables */\n\nk_2_\tsamphold i_2_, -1, i_2_, 0\nk_3_\tsamphold i_3_, -1, i_3_, 0\nk_6_\tsamphold i_6_, -1, i_6_, 0\nk_7_\tsamphold i_7_, -1, i_7_, 0\n\na_4_\t=  a_\n\n/* delay */\n\na_L_\tdelay a_*k_2_, \\\n\t(int($Dist2Delay(i_4_)*sr+0.5)+0.01)/sr\na_R_\tdelay a_*k_3_, \\\n\t(int($Dist2Delay(i_5_)*sr+0.5)+0.01)/sr\n\n$SpatFilter\n\n/* mix output */\n\na_L_\t=  k_6_*a_L_ + (1-k_6_)*a_2_\na_R_\t=  k_7_*a_R_ + (1-k_7_)*a_3_\n\na_\t=  a_4_\n\n#\n\n/* ------------------------------------------- */\n\n/* spatializer macro */\n\n#define SPATMACRO # $SpatStereo #\n\n\n/* convert MIDI note number to frequency */\n\n#define MIDI2CPS(xmidikey)\n# (440.0*exp(log(2.0)*(($xmidikey)-69.0)/12.0)) #\n\n/* convert frequency to MIDI note number */\n\n#define CPS2MIDI(xfreqcps)\n# (12.0*(log(($xfreqcps)/440.0)/log(2.0))+69.0) #\n\n/* convert velocity to amplitude */\n\n#define VELOC2AMP(xvelocity)\n# (0.0039+(($xvelocity)*($xvelocity))/16192.0) #\n\n/* convert amplitude to velocity */\n\n#define AMP2VELOC(xamplitude)\n# (sqrt((($xamplitude)-0.0039)*16192.0)) #\n\n/* generate ftables */\n\ni_\t=  0\n\nloop_01:\n\ni_cps_\t=  $MIDI2CPS(i_)\ni__\t=  int(i_+256.5)\nidummy\tftgen i__, 0, 16384, 11, \\\n\t\tint(44100/(2*i_cps_)), 1, 1.0\n\ttableigpw i__\ni_\t=  int(i_+1.5)\n\tif (i_<127.5) igoto loop_01\n\n/* ------------------------------------------- */\n\n#define LP1FRQ # 10.0 #\n\n\tseed 0\n\nga0x\tinit 0\n\n\tinstr 1\n\np3\t=  p3 + 0.2\n\nicps\t=  $MIDI2CPS(p4)\niamp\t=  $VELOC2AMP(p5)\niazm\t=  p6\nielv\t=  0\nidst\t=  1\n\nifnum\tlimit p4, 0, 127\t/* ftable */\nifnum\t=  int(ifnum+256.5)\t/* number */\n\nkcps\tport icps*4, p3/4, icps\n\nkwsize\t=  64.0/kcps\nkdens\t=  16.0/kwsize\naphs\tunirand 1.0\natrns\ttrirand 1.0\natrns\t=  kcps*(atrns*0.02+1.0)*(16384/sr)\na0x\tfog 1.0, kdens, atrns, aphs, 0, 0, 0, kwsize, kwsize, 256, ifnum, 1, \\\n\t\t3600, 0, 0\n\na0x\ttone a0x*(sr/(3.14159265*($LP1FRQ))), ($LP1FRQ)\n\na_\t=  a0x\n\ni_az_\t=  iazm\ni_el_\t=  ielv\ni_d_\t=  idst\n\n$SPATMACRO\n\n\touts a_L_, a_R_\n\n\tendin\n\n\tinstr 90\n\n\tsoundout ga0x, $OUTFLNAME, 6\nga0x\t=  0\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\nt 0 140i 1\t0.000\t8.000\t55\t120\t-30f 1 0 16384 20 3 1e\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a week sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from week10_3.orc and week10_3.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n \naindex    phasor    (.894/1.5)/p3,p6         ; OFFSET PASSED IN p6 (BETWEEN 0 AND 1)\nasig      table     aindex*32768,1           ; READ TABLE 1 (WITH RAW VALUES) \n          out       asig                     ; OUTPUT \n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 65536 -1 \"hellorcb.aif\" 0 4 0  ; GEN-01 STATEMENT (ACCESSES 2 SEC FILE \"TSE-U\")\n\n\n;       st      dur     \n\ni1     0         2        \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a fts sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fts.orc and fts.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t44100\nksmps \t= \t\t1\nnchnls\t=\t\t1\n\n\n\n\t\tinstr 1\n\na1 \t\t= \t\t2\n\t\tout \t\ta1\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 -20 1 2000\nf2 0 1024 20 2 100\nf3 0 1024 -20 3 2\nf4 0 1024 20 4\nf5 0 1024 -20 5 45\nf6 0 1024 20 6\nf7 0 1024 20 7 1 10\n;f8 0 1024 20 8 1\n;f9 0 1024 20 9 1\n\ni1 0 2\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a comb sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from comb3.orc and comb3.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n        instr 1\na1      soundin 5\na2      comb        a1*p4*.5, p5, p6, 0\n        out     a2\n        endin\n\n</CsInstruments>\n<CsScore>\n; Score to accompany:\n\n;p1  p2   p3   p4   p5   p6\n;i   time dur  amp  rvt  loopt\ni1   0    .5   1    0    .008\ni1   +    .    .37  <    .\ni1   .    .    .32  <    .\ni1   .    .    .32  <    .\ni1   .    .    .3   4    .\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a week sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from week10_2.orc and Week10_2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n \naindex    line      0,p3,1                   ; RISES FROM 0 TO 1 IN THE TOTAL DURATION\nasig      table     aindex*32768,1           ; READ TABLE 1 (WITH RAW VALUES) \n          out       asig                     ; OUTPUT \n                                   \n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 65536 -1 \"hellorcb.aif\" 0 4 0  ; GEN-01 STATEMENT (ACCESSES 2 SEC FILE \"TSE-U\")\n\n\n;       st      dur     \n\ni1     0        1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a interpolator sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Interpolator.orc and Interpolator.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 441\nksmps  = 100\nnchnls = 1\n\n\ninstr    1 ; Sample1 interpolator - Set kr to rate wanted\n\nilevl    = p4 ; Output level\n\nain      soundin  \"Piano.aif\"\nkin      downsamp  ain\naout     interp  kin\nout      aout*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\n;     Strt  Leng  Levl\ni1    0.00  1.47  1.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipi\t\t=\t\t3.14159 using bell sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from BELLFUNC.ORC and BELLFUNC.SCO\n; Original files preserved in same directory\n\nsr\t\t=\t\t1\t\t\t\t\t; N.B. WE'RE NOT GENERATING AUDIO HERE, JUST...\nkr\t\t=\t\t1\t\t\t\t\t; A BUNCH OF VALUES FOR AN ARRAY, SO THE...\nksmps\t=\t\t1\t\t\t\t\t; sr AND kr DON'T REALLY MATTER.  HOWEVER,...\nksmps\t=\t\t1\t\t\t\t\t; IT'S CONVENIENT TO MAKE THEM = 1, SO THAT...\nnchnls\t=\t\t1\t\t\t\t\t; p3 CAN BE USED TO SPECIFY THE NUMBER OF...\n\n; bellfunc.orc\n;\n; Even though csound only provides a limited number of stock gen subroutines,\n; it includes one (gen 1) which can read in an external file.  Hence, you\n; can use a standalone program to generate functions that aren't standard.\n; In fact, as this example shows, you can use csound itself to create them.\n; You just have to remember to perf with the floating point option (-f)...\n;\n; This orchestra will generate a bell-shaped function with max amp of 1.0 --\n; required by endless.orc for an amplitude control function.\n; Say \"perf -f bellfunc.orc bellfunc.sco\" to run it, then rename the output\n; test.sf file to soundin.10 so that endless.sco can read it in via Gen 1.  rp\n;\n\t\t\t\t\t\t\t\t\t; VALUES TO COMPUTE DIRECTLY.\n\n\t\tinstr   1\nipi\t\t=\t\t3.14159\nisize\t=\t\tp3-1\t\t\t\t\t; SINCE sr=1, p3 HAS NUMBER OF LOCS TO GENERATE\nkx\t\tinit\t\t0\n; RISSET'S FORMULA (FROM DODGE):  exp(-4.8283*(1-cos(2*ipi*(kx-1023.5)/2047)))\naval\t\t=\t\texp(-4.8283*(1+cos(2*ipi*kx/isize)))        \nkx\t\t=\t\tkx+1                \n\t\tout\t\taval\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n;score to generate bell function in p3 locations\ni01     0       2048\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a week sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from week10_1.orc and Week10_1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n \naindex    phasor    (.894/1.5)/p3       ; READ THROUGH ONCE IN THE TOTAL DURATION \nasig      table     aindex*32768,1      ; READ TABLE 1 (WITH RAW VALUES) \n          out       asig                ; OUTPUT \n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 65536 -1 \"hellorcb.aif\" 0 4 0  ; GEN-01 STATEMENT (ACCESSES 2 SEC FILE \"TSE-U\")\n\n\n;       st      dur     \n\ni1     0         2\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a slewlimiter sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from SlewLimiter.orc and SlewLimiter.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 1\n\n\ninstr    1 ; Slew limiter\n\nilevl    = p4                         ; Output level\nislew1   = p5                         ; Slew rate - start\nislew2   = p6                         ; Slew rate - end\nkout     init 0                       ; Initialise output\n\nain      soundin  \"Sample1\"\n\nkin      downsamp  ain                ; Convert to kr\nkslew    expon  islew1, p3, islew2    ; Generate exponential sweep\nif       kin > (kout + kslew) goto up ; Detect slew up over limit\nif       kin < (kout - kslew) goto dn ; Detect slew down over limit\nkout     = kin                        ; Let pass if below slew limit\ngoto     out                          ; Goto output\nup:\nkout     = kout + kslew               ; Limit slew up\ngoto     out                          ; Goto output\ndn:\nkout     = kout - kslew               ; Limit slew down\ngoto     out                          ; Goto output\nout:\naout     upsamp  kout                 ; Convert to sr\nout      aout*ilevl                   ; Level and output\n\nendin\n\n</CsInstruments>\n<CsScore>\n;   Strt  Leng  Levl  Slew1 Slew2\ni1  0.00  1.47  1.00  32767 1.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a week sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from week10_4.orc and week10_4.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n\naindex    line      p6,2,p7                  ; READ FROM p6 TO p7 (BETWEEN 0 AND 1) \nasig      table     aindex*32768,1           ; READ TABLE 1 (WITH RAW VALUES) \n          out       asig                     ; OUTPUT \n                              \n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 65536 -1 \"hellorcb.aif\" 0 4 0  ; GEN-01 STATEMENT (ACCESSES 2 SEC FILE \"TSE-U\")\n\n\n;       st      dur     \n\ni1     0         2\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a sndenv sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from SNDENV.ORC and SNDENV.SCO\n; Original files preserved in same directory\n\nsr        =         44100     ; SAMPLE RATE OF SOUND FILE\nkr        =         4410      ; CONTROL RATE\nksmps     =         10\nnchnls    =         1         ; MONO\n\n\n          instr 1\nk1        expon     p6, p3, p7               ; p6 = START CURVE, p7 = END CURVE\na1        soundin   p5, 0, 4                 ; p5 = SOUNDIN F#\na1        =         a1 * k1                  ; RAMP THE SOUNDIN\nascale    =         a1 * p4                  ; p4 = SCALING FACTOR\n          display   k1, p3                   ; DRAW CURVE ON SCREEN\n          out       ascale                   ; WRITE TO DISK\n          endin\n\n</CsInstruments>\n<CsScore>\n;SoundEnv.sco\n\nf1 0 0 -1 \"asleep.aiff\" 0 4     ; 4 tells its a 16 bit opperation\n\n\n\n;p1     p2      p3      p4          p5          p6              p7\n;ins    start   dur     ampscale    sndfunc     slopestart      slopeend\ni1      0       1       1           1           1               .001\ni1      2       2       1           1           1               .0001\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a xnxn sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from xnxn.orc and xnxn.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; x*2 - x^2 function (Even harmonic distortion)\n\nain      soundin  \"Sample1\"\nain      = ain/32767\nafunc    = ain*2 - ain*ain\nout      afunc*32767/3\n\nendin\n\ninstr    2 ; x*3 - x^3 distortion (Compresses Signal)\n\nain      soundin  \"Sample1\"\nain      = ain/32767\nafunc    = ain*3 - ain*ain*ain\nout      afunc*16384\n\nendin\n\n</CsInstruments>\n<CsScore>\n;   Strt  Leng\ni1  0.00  1.47\n\n;   Strt  Leng\ni2  2.00  1.47\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a valve sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Valve.orc and Valve.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; \"Valve\" distortion using variable power\n\nidrive   = p4/100\n\na1       soundin  \"Sample1\"\na2       = a1/2 + 16384\nk0       downsamp  a1\nk1       = (abs(k0)/4096)*idrive + 1\nk2       pow  32767, k1, 32767\na3       pow  a2, k1\nout      (a3/k2 - 16384)*2\n\nendin\n\n</CsInstruments>\n<CsScore>\n;Dist: 0=Clean, 1=Mild Distortion/Enhancement 10=Metal 100=Suicide!\n\n;   Strt  Leng  Dist\ni1  0.00  1.47  1.00\ni1  2.00  .     10.0\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a testone sound using test/demonstration", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from testone1.orc and testone1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 12       \nkph       phasor    100                      ;PHASES 0-1 100 TIMES/SECOND\nilength   =         ftlen(p4)\nkph       =         kph*ilength\na1        table     kph, p4\nk1        downsamp  a1\n          out       a1*20000\n          printks   \"address=%6.4f\\t value=%6.4f\\n\", .01, kph, k1, 0, 0\n          display   a1, .01\n          endin\n\n</CsInstruments>\n<CsScore>\nf1  0   4096    10  1 ;sine\nf2  0   1024    10  1 ;sine\nf3  0   128     10  1 ;sine\nf4  0   16      10  1 ;sine\nf5  0   8       10  1 ;sine\n\ni12   0     1   1\ni12   2     1   2                                \ni12   4     1   3                                \ni12   6     1   4\ni12   8     1   5\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Log function distortion using distortion effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from LogDistort.orc and LogDistort.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Log function distortion\n\na1       soundin  \"Piano.aif\"\na2       = (a1 + 32767)/16384\na3       = log(a2)\nout      a3*16384\n\nendin\n\n</CsInstruments>\n<CsScore>\n;   Strt  Leng\ni1  0.00  1.47\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a oscilx sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from oscilx.orc and oscilx.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\na1\t\toscilx\t10000, 1000, 1, 10\n\t\tout\t\ta1\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\n\ni1 0 1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a parisft sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from parisft.orc and parisft.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t44100\nksmps \t= \t\t1\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\na1 \t\t= \t\t2\n\t\tout \t\ta1\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 -20 1 2000\nf2 0 1024 20 2 100\nf3 0 1024 -20 3 2\nf4 0 1024 20 4\nf5 0 1024 -20 5 45\nf6 0 1024 20 6\nf7 0 1024 20 7 1 2\nf7 0 1024 20 7 1 3\nf7 0 1024 20 7 1 4\nf7 0 1024 20 7 1 5\nf7 0 1024 20 7 1 10\n\ni1 0 2\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a divider sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Divider.orc and Divider.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 44100\nksmps    = 1\nnchnls   = 1\n\n\ninstr    1 ; Inverts waveform between alternate zero crossings\n\nilevl    = p4                               ; Output level\nimix     = p5                               ; Mix: 0=Dry 1=Inverted\nkcount   init 1                             ; Initialize counter\n\nain      soundin  \"Sample1\"\n\nktrig    trigger  ain, 0, 0                 ; Detect alternate zero crossings\nif       ktrig = 0 goto out                 ; If no zero cross, skip to output\nif       kcount = 1 goto 2                  ; Flip count 1/2\nkgate1   = 1                                ; Set gate to 1\nkcount   = 1                                ; Set count to 1...\ngoto     out                                ; ...then go to output\n2:\nkgate1   =-1                                ; Set gate to -1\nkcount   = 2                                ; Set count to 2\nout:                                        ; Output section\naout     = ain*(1 - imix) + ain*kgate1*imix ; Gate input signals to splice\nout      aout*ilevl                         ; Level and output\n\nendin\n\n</CsInstruments>\n<CsScore>\n;Mix: 0=Dry 1=Inverted\n\n;     Strt  Leng  Levl  Mix\ni01   0.00  1.50  1.00  0.50\ni01   2.00  .     .     1.00\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a rev sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from rev5.orc and rev5.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\n\n\n;1 in 1 out\n\n; FILE SKIP IORIG IGAIN REVTIMESTRETCH\ninstr          1\nifile          =         p4\niskip          =         p5\niorig          =         p6\nigain          =         p7\nistretch       =         p8\nirvt1          =         .2*istretch\nirvt2          =         .5*istretch\nirvt3          =         2.1*istretch\nirvt4          =         3.06*istretch\n\nirev           =         1-iorig\n\n     araw      soundin   ifile,iskip\n     araw      =         araw*igain\n     ar1       alpass    araw,irvt1,.04\n     ar2       alpass    ar1,irvt2,.035\n     ar3       alpass    ar2,irvt3,.065\n     ar4       alpass    ar3,irvt4,.0491\n     arl1      tone      ar1,10000\n     arl2      tone      ar2,6000\n     arl3      tone      ar3,3000\n     arl4      tone      ar4,1000\n     arev      =         arl1+arl2+arl3+arl4\n               out       (irev*arev)+(iorig*araw)\nendin\n\n</CsInstruments>\n<CsScore>\ni1 0 8.366735 1 0 .6 1.\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a phasorsample sound using phaser effect and sample playback", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from phasorsample.orc and phasorsample.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n\ninstr 1\n \n aindex line 0, p3, 1               ; RISES FROM 0 TO 1 IN THE TOTAL DURATION\n asig table aindex*32768, 1         ; READ TABLE 1 (WITH RAW VALUES) \n out asig                           ; OUTPUT \n\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 65536 -1 \"hellorcb.aif\" 0 4 0      ;GEN-01 STATEMENT (ACCESSES 2 SEC FILE \"TSE-U\")\n\n\n;       st      dur     \n\ni1     0        1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a width sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Width.orc and Width.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 4410\nksmps    = 10\nnchnls   = 2\n\n\ninstr    1 ; Stereo Width Expander.\n\nilevl    = p4 ; Output level\niwidth   = p5 ; Stereo width: -1=Mono 0=Normal +1=Wide\nifreq    = p6 ; Bass cut frequency\n\na1, a2   soundin  \"StereoSample\"\n\nahp1     atone  a1, ifreq\nahp2     atone  a2, ifreq\naout1    = (iwidth >= 0 ? a1 - ahp2*iwidth : a1 + a2*int(iwidth))\naout2    = (iwidth >= 0 ? a2 - ahp1*iwidth : a2 + a1*int(iwidth))\nouts1    aout1*ilevl\nouts2    aout2*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\n;     Strt  Leng  Levl  Width Freq\ni01   0.00  1.50  1.00 -1.00  100 ; Mono\ni01   2.00  .     .    -0.50  .   ; Narrow\ni01   4.00  .     .     0.00  .   ; Normal stereo\ni01   6.00  .     .     0.50  .   ; Wide\ni01   8.00  .     .     1.00  .   ; Very wide\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a tuning sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from tuning1.orc and tuning1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; tuning.orc  \n; instrument used in \n; Erich Neuwirth \n; Musical Temperaments                                 \n; Springer Verlag\n; ISBN 3-211-83040-5\n; the instrument has the wave shape sin(x)/(const-cos(x))\n; the constant is frequency dependent\n\n\ngilowavf  init      100\ngihiwavf  init      1000\ngiloenvf  init      100\ngihienvf  init      1000\ngilowavv  init      1.03\ngihiwavv  init      1.5\ngiloenvv  init      1.75\ngihienvv  init      1\ngiattime  init      65/1024\ngireltime init      68/1024\ngiattend  init      0.868\ngirelstart init     0.921\ngidecup   init      girelstart-giattend\ngidechump init      0.102\n\n          instr 1             ; sin(t)/(a-cos(t))\n   \niwavlin   =         p5\niwavlin   =         (iwavlin < gilowavf ? gilowavf : iwavlin)\niwavlin   =         (iwavlin > gihiwavf ? gihiwavf : iwavlin)\niwavlin   =         (iwavlin-gilowavf)/(gihiwavf-gilowavf)\niwavlin   =         gilowavv + iwavlin*(gihiwavv-gilowavv)\n      \nienvlin   =         p5\nienvlin   =         (ienvlin < giloenvf ? giloenvf : ienvlin)\nienvlin   =         (ienvlin > gihienvf ? gihienvf : ienvlin)\nienvlin   =         (ienvlin-giloenvf)/(gihienvf-giloenvf)\nienvlin   =         giloenvv + ienvlin*(gihienvv-giloenvv)\n      \n\niwav      =         iwavlin\nienv      =         ienvlin\n   \niwavconst =         exp(log(iwav*iwav-1)/2)\n   \nax        phasor    p5                       ; PHASE FOR WAVE FREQUENCY\nay        phasor    p5,0.25 shifted phase for wave frequency to get cosine\na1        table     ax,1,1                   ; SINE \na2        table     ay,1,1                   ; COSINE\nawav      =         p4*iwavconst*a1/(iwav-a2) ; WAVEFORM STANDARDIZED FOR VOLUME p4 \n                                             \n \nkdur      =         p3\nkx        phasor    1/kdur                   ; ONE CYCLE PER NOTE \nkenvshort table     kx,8,1\n\nkt        =         kdur*kx                  ; TIME FOR WHOLE NOTE\n\nktatt     =         kt/ienv                  ; SLOWER PHASE FOR ATTACK \nkdectime  =         kdur-giattime*ienv-gireltime\nktdec     =         (kt-ienv*giattime)/kdectime\nktdec     =         ( ktdec < 0 ? 0 : ktdec )\nktdec     =         ( ktdec > 1 ? 1 : ktdec )\nktrel     =         kt-kdur+gireltime\n   \n\nkatt      table     ktatt,5,1\n\nkdecfact  =         kdectime/(1-giattime*ienv-gireltime)  \nkdecfact  =         (kdecfact > 1 ? 1 : kdecfact)\nkdec1     table     ktdec,6,1  \nkdec2     =         (kdecfact*ktdec*gidecup)+giattend\nkdec      =         kdec2+kdec1*kdecfact*gidechump\n   \nkrel      table     ktrel,7,1 \nkrel      =         krel*(giattend+gidecup*kdecfact)\n\nkenvlong  =         katt\nkenvlong  =         (kt > ienv*giattime ? kdec : kenvlong)\nkenvlong  =         (kt > kdur - gireltime ? krel : kenvlong)\n   \nkenv      =         (kdectime > 0 ? kenvlong : kenvshort)\n\n          out       kenv*awav\n   \n          endin\n\n</CsInstruments>\n<CsScore>\n;Erich Neuwirth <neuwirth@smc.univie.ac.at>\n;Computer Supported Didactics Working Group, Univ. Vienna\n;Visit our SunSITE at http://sunsite.univie.ac.at\n;tuning.sco                        \n\nf1 0 4096 10 1                     ; use GEN10 to compute a sine wave\nf4 0 1024 7 0 23 0.948 15 1.000 17 0.973 10 0.869 503 1.000 388 0.921 28 0.697 10 0.408 17 0.092 13 0 ; master envelope\nf5 0 1024 7 0 23 0.948 15 1.000 17 0.973 10 0.869 0 0.0 959 0 ; attack\nf6 0 1024 7 0.0  570 1.0 454 0.0  ; decay hump \nf7 0 1024 7 1.0 28 0.757 10 0.443 17 0.010 13 0 956 0 ; release shape\nf8 0 1024 7 0.0 177 0.948 115 1.000 131 0.973 77 0.869 216 0.658 77 0.385 131 0.087 100 0  ; envelope for short notes\n\n\ns\n  i1      0    0.5   8000   264\n  i1      0.5  0.5   8000   330\n  i1      1    0.5   8000   396\n\n  i1      1.5  1   8000   264\n  i1      1.5  1   8000   330\n  i1      1.5  1   8000   396\n\n  i1      2.5  0.5 8000   792\n  i1      3    1   8000   792\n  i1      4    0.5 8000   660\n  i1      4.5  1   8000   660\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a logic sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac Logic_out.aiff\n</CsOptions>\n<CsInstruments>\n\nsr       = 44100\nkr       = 44100\nksmps    = 1\nnchnls   = 2\n\n\ninstr    1 ; AND/NAND gate - Complementary outputs\n\nilevl    = p4                          ; Output level\n\nain1     soundin  \"../scores/samples/apoc.aiff\"\nain2     soundin  \"../scores/samples/female.aiff\"\n\nkin1     downsamp  ain1                ; Convert to kr\nkin2     downsamp  ain2                ; Convert to kr\nk1       = ( kin1 > 0 ? 1 : 0 )        ; See if above zero crossing line\nk2       = ( kin2 > 0 ? 1 : 0 )        ; See if above zero crossing line\nif       k1 + k2 == 2 goto and1        ; If both above, goto and1\ngoto     and2\nand1:\naand     = 1                           ; Set AND gate to 1...\ngoto     out                           ; ...then goto out\nand2:\naand     = 0                           ; Set AND gate to 1\nout:\nouts1    aand*(ain1 + ain2)            ; AND gate signals and output L\nouts2    (1 - aand)*(ain1 + ain2)      ; NAND gate signals and output R\n\nendin\n\ninstr    2 ; Exclusive OR gate - Complementary outputs\n\nilevl    = p4                          ; Output level\n\nain1     soundin  \"../scores/samples/apoc.aiff\"\nain2     soundin  \"../scores/samples/apoc.aiff\"\n\nkin1     downsamp  ain1                ; Convert to kr\nkin2     downsamp  ain2                ; Convert to kr\nk1       = ( kin1 > 0 ? 1 : 0 )        ; See if above zero crossing line\nk2       = ( kin2 > 0 ? 1 : 0 )        ; See if above zero crossing line\nif       k1 + k2 == 0 goto xor1        ; If both below, goto xor1\nif       k1 + k2 == 1 goto xor2        ; If 1 below goto xor2\nxor1:                                  ; If neither below, also go to xor1\naexor    = 0                           ; Set Exclusive OR gate to 0...\ngoto     out                           ; ...then goto out\nxor2:\naexor    = 1                           ; Set Exclusive OR gate to 1\nout:\nouts1    aexor*ain1 + (1 - aexor)*ain2 ; Gate signals and output L\nouts2    (1 - aexor)*ain1 + aexor*ain2 ; Gate signals and output R\n\nendin\n\n</CsInstruments>\n<CsScore>\n;AND/NAND\n;     Strt  Leng  Levl\ni01   0.00  1.50  1.00\n\n;Exclusive OR\n;     Strt  Leng  Levl\ni02   2.00  1.50  1.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 60_22_1c.orc and 60_22_1c.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:      60_22_1C.ORC\n; synthesis:  phase vocoder(60)\n;             ktimpnt variable(22)\n;             pointer control by LINE, snap1.pvc(1C)\n; coded:      jpg 12/93\n\n\n\n\ninstr 1; *****************************************************************\nidur = p3\n\n   ktimpnt   line   .71, idur, .75\n   aout      pvoc   ktimpnt, 1.0, \"snap1.pvc\"\n             out    aout\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:   60_22_1C.SCO\n; coded:   jpg 12/93\n\n\n; score ******************************************************************\n;         idur\n\ni1   0    10      ; 10 s/.04 s   250 times larger\n\ne\n\n\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a envelopecopy sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from EnvelopeCopy.orc and EnvelopeCopy.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 1\n\n\ninstr    1 ; Replaces envelope of one sound with that of another\n\nilevl    = p4                            ; Output level\nkenv1    init 1                          ; Initialize output 1\nkenv2    init 1                          ; Initialize output 2\n\nain1     soundin  \"Sample1\"              ; Carrier\nain2     soundin  \"Sample2\"              ; Modulator\n\nkin1     downsamp  ain1                  ; Convert to kr\nkin1     mirror  kin1, 0, 32767          ; Full wave rectify\nif       kin1 > kenv1 goto up1           ; See if input larger than output\nkenv1    = kenv1 - ((32767 - kin1)/1000) ; Release\ngoto     out1\nup1:\nkenv1    = kin1                          ; Attack\nout1:\naout1    = ain1*(32767/(kenv1 + 1))      ; De-envelope\nkin2     downsamp  ain2                  ; Convert to kr\nkin2     mirror  kin2, 0, 32767          ; Full wave rectify\nif       kin2 > kenv2 goto up2           ; See if input larger than output\nkenv2    = kenv2 - ((32767 - kin2)/1000) ; Release\ngoto     out2\nup2:\nkenv2    = kin2                          ; Attack\nout2:\naout2    = aout1*(kenv2/32767)           ; Apply new envelope\nout      aout2*ilevl                     ; Level and output\n\nendin\n</CsInstruments>\n<CsScore>\n;     Strt  Leng  Levl\ni01   0.00  1.50  1.00\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a lorenz sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from lorenz2.orc and lorenz2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1    \n\n\n          instr 1\n\n; LORENZ EQUATIONS SYSTEM AT A-RATE WITH ALL PARAMETERS TIME-VARIABLE \n\n\nipi       init      6.283184\namix      init      0\n\n; p4 p5 i p6 = initial values for control parameters \n; p7 = time differential (not less than 0.02 - may be improved using Runge-Kutta\n;    integration methode but it is very time consuming )\n; p8 amplitude\n; p9 zoom factor (a kind of temporal window applied to trajectories, values of \n;    aprox. 5 are equivalent-almost- to downing p7 at the price of\n;    a bit slowing down computing time...)\n; p10 p11 p12 = deviation value for p6 p7 p8 \n;    (It is implemented with a simple line statement, but\n;    improving it is straightforward)\n\n\nkcontzoom init      0\nkzoom     init      p9\n\niprof     init      p8\nidt       init      p7\n\n; NEWTON INTEGRATION METHODE\n\nadx       init      0                        ; DIFERENTIALS\nady       init      0\nadz       init      0\nax        init      .6                       ; VALUES\nay        init      .6\naz        init      .6\n\n; aa, ab AND ac HOLDS FOR THE VALUES OF CONTROL PARAMETERS \n\naa        line      p4,p3,p4+p10\nab        line      p5,p3,p5+p11\nac        line      p6,p3,p6+p12\n\naa        init      p4\nab        init      p5\nac        init      p6\n\nloop1: \nadx       =         aa*(ay-ax)\nady       =         ax*(ab-az)-ay\nadz       =         ax*ay-ac*az\nax        =         ax+(idt*adx)\nay        =         ay+(idt*ady)\naz        =         az+(idt*adz)\n\nkcontzoom =         kcontzoom+1\n\n          if        kcontzoom>=kzoom kgoto sortida\n          if        kcontzoom!=kzoom kgoto loop1\n\nsortida:\namix      =         ax*iprof\n\n          out       amix\n\nkcontzoom =         0\n\n          endin\n\n</CsInstruments>\n<CsScore>\n; istart idur A1 B1 C1   Time (dT) Amplitude KZoom A2 B2 C2\ni1 0 .5 22 28 2.667 .01  600  3    5 0 0\ns\ni1 0 3 26 28 2.667  .01  600  4    0 10 0\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a mixer sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from MIXER1.ORC and MIXER1.SCO\n; Original files preserved in same directory\n\n     sr             =         44100\n     kr             =         4410\n     ksmps          =         10\n     nchnls         =         2\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;         MASTER MIXER AND PANNER                       ;\n;                                                       ;\n;         P3 = DURATION                                 ;\n;         P4 = AMPLITUDE FACTOR FOR SIGNAL              ;\n;      P5 = PANNING FUNCTION FOR SIGNAL                 ;\n;      P6 = ENVLPX ATTACK FOR SIGNAL                    ;\n;      P7 = ENVLPX DECAY FOR SIGNAL                     ;\n;      P8 = SOUNDIN FILE NUMBER                         ;\n;      P9 = SKIPTIME                                    ;\n;                                                       ;\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n                    instr     1\n     a1             soundin   p8,p9\n     kenv           envlpx    p4,p6,p3,p7,5,1,.01\n     asig           =         a1*kenv\n     kramp          oscil1i   0.0,1,p3,p5\n     kfacl          =         sqrt (kramp)\n     kfacr          =         sqrt (1-kramp)\n     alft           =         asig * kfacl  \n     arght          =         asig * kfacr  \n                    outs      alft,arght\n                    endin\n\n</CsInstruments>\n<CsScore>\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;         MASTER MIXER AND PANNER SCORE                 ;\n;                                                       ;\n;         P3 = DURATION                                 ;\n;         P4 = AMPLITUDE FACTOR FOR SIGNAL              ;\n;      P5 = PANNING FUNCTION FOR SIGNAL      ;\n;      P6 = ENVLPX ATTACK FOR SIGNAL         ;\n;      P7 = ENVLPX DECAY FOR SIGNAL               ;\n;      P8 = SOUNDIN FILE NUMBER              ;\n;      P9 = SKIPTIME                    ;\n;                                                       ;\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;         FUNCTIONS\n;\n;    ALL LEFT\nf1 0.0 512 7 1 512 1\n;    ALL RIGHT\nf2 0.0 512 7 0 512 0\n;    MIDDLE\nf3 0.0 512 7 .5 512 .5\n;    LEFT TO RIGHT\nf4 0.0 513 7 1 512 0 1 0\n;    RIGHT TO LEFT\nf5 0.0 513 7 0 512 1 1 1\n;    LEFT TO RIGHT TO LEFT\nf6 0.0 513 7 1 256 0 256 1 1 1\n;    RIGHT TO LEFT TO RIGHT\nf7 0.0 513 7 0 256 1 256 0 1 0\n;    ALL OVER THE PLACE\nf8 0.0 513 7 .5 63 .95 50 0 50 .3 50 .85 50 .80 50 .03 50 1 50 .12 50 .10 50 .5\n;    ALSO ALL OVER THE PLACE\nf9 0.0 513 7 .5 63 .95 50 .02 50 .3 50 .85 50 .80 50 .06 50 .98 50 .03 50 .10 50 .5\n;    ALL LEFT THEN ALL RIGHT\nf10 0.0 513 7 1 256 1 1 0 256 0\n;\n;    INSTRUMENT CARDS\n;\ni1    0.00   3.00  0.50  4  0.010   0.010  5  0.0000\ni1    2.00   3.00  0.70  5  0.010   0.010  5  0.1000\ni1    5.00   3.00  0.30  8  0.010   0.010  5  0.3000\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a testone sound using test/demonstration", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from testone2.orc and testone2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n                                             \n          instr 12       \naph       phasor    100                      ; PHASES 0-1 100 TIMES/SECOND\nilength   =         ftlen(p4)\naph       =         aph*ilength\na1        table     aph, p4\nkph       downsamp  aph\nk1        downsamp  a1\n          out       a1*20000\n          printks   \"address=%6.4f\\t value=%6.4f\\n\", .01, kph, k1, 0, 0\n          display   a1, .01\n          endin\n\n          instr 13       \naph       phasor    100                      ; PHASES 0-1 100 TIMES/SECOND\nilength   =         ftlen(p4)\naph       =         aph*ilength\na1        tablei    aph, p4\nkph       downsamp  aph\nk1        downsamp  a1\n          out       a1*20000\n          printks   \"address=%6.4f\\t value=%6.4f\\n\", .01, kph, k1, 0, 0\n          display   a1, .01\n          endin\n\n</CsInstruments>\n<CsScore>\nf1\t0\t4096\t10\t1 ;sine\nf2\t0\t1024\t10\t1 ;sine\nf3\t0\t128\t\t10\t1 ;sine\nf4\t0\t16\t\t10\t1 ;sine\nf5\t0\t8\t\t10\t1 ;sine\n\ni12\t  0\t\t1\t1\ni12\t  2\t\t1\t2\t\t\t\t\t\t\t\t \ni12\t  4\t\t1\t3\t\t\t\t\t\t\t\t \ni12\t  6\t\t1\t4\ni12\t  8\t\t1\t5\ns\ni13\t  0\t\t1\t1\ni13\t  2\t\t1\t2\t\t\t\t\t\t\t\t \ni13\t  4\t\t1\t3\t\t\t\t\t\t\t\t \ni13\t  6\t\t1\t4\ni13\t  8\t\t1\t5\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a cannon sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from cannon.orc and cannon.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\ninstr 5\n     a1   linrand   20000\n     out  a1\nendin\n\ninstr 4\n     a1   trirand   20000\n     out  a1\nendin\n\ninstr 3\n     a1   gauss     20000\n     out  a1\nendin\n\ninstr 2\n     a1   weibull   250, .5\n     out  a1\nendin\n\ninstr 1\n     a1   betarand 20000, .5, .5\n     out  a1\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 21 1\nf2 0 1024 21 2 1\nf3 0 1024 21 3 1\nf4 0 1024 21 4 1\nf5 0 1024 21 5 1\nf6 0 1024 21 6 1\nf7 0 1024 21 7 1\nf8 0 1024 21 8 1\nf9 0 1024 21 9 1 1 2\nf10 0 1024 21 10 1 2\nf11 0 1024 21 11 1\n\ni1 0 2\ns\ni2 1 2\ns\ni3 1 2\ns\ni4 1 2\ns\ni5 1 2\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pm6.orc and pm6.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n;\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\n          instr 1             ; square (4 masses) plate, all masses grounded\n; coded by Josep M Comajuncosas / gelida@intercom.es\n;\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\n\n; SET INITIAL POSITION AND VELOCITY OF THE MASS\niv0       =         0\nix0       =         10000\n\n; SET K, Z AND M\nik        =         p4\niz        =         p5\nim2       =         25\nim3       =         31\nim4       =         27\nim5       =         29\n\n; NORMALIZE (DON'T TOUCH THIS!)\nik        =         ik/(sr*sr)\niz        =         iz/(1000000000*sr)       ; Z GIVEN IN N*s/(kg*10e-9)\nim2       =         im2/1000000000           ; MASS GIVEN IN kg*10e-9\nim3       =         im3/1000000000\nim4       =         im4/1000000000\nim5       =         im5/1000000000\n\nax2       init      ix0\naxprev2   init      ix0-1000*iv0/sr\n\n\nax3       init      0\nax4       init      0\nax5       init      0\naxprev3   init      0\naxprev4   init      0\naxprev5   init      0\n\naf1       =         ik*(ax2) + iz*((ax2-axprev2))+ ik*(ax3) + iz*((ax3-axprev3)) + ik*(ax4) + iz*((ax4-axprev4)) + ik*(ax5) + iz*((ax5-axprev5))\naf2       =         -af1 + ik*(ax3-ax2) + iz*((ax3-axprev3)-(ax2-axprev2)) + ik*(ax5-ax2) + iz*((ax5-axprev5)-(ax2-axprev2))\naf3       =         -af1 - af2 + ik*(ax4-ax3) + iz*((ax4-axprev4)-(ax3-axprev3))\naf4       =         -af1 - af3 + ik*(ax5-ax4) + iz*((ax5-axprev5)-(ax4-axprev4))\naf5       =         -af1 - af4 - af2\n\n\nanext2    =         af2/im2 + 2*ax2-axprev2\nanext3    =         af3/im3 + 2*ax3-axprev3\nanext4    =         af4/im4 + 2*ax4-axprev4\nanext5    =         af5/im5 + 2*ax5-axprev5\n\n          out       ax3\n\naxprev2   =         ax2\naxprev3   =         ax3\naxprev4   =         ax4\naxprev5   =         ax5\n\nax2       =         anext2\nax3       =         anext3\nax4       =         anext4\nax5       =         anext5\n\n          endin\n\n</CsInstruments>\n<CsScore>\n;      k  damping\ni1 0 2 .01  100\ni1 2 2 .3  100\ni1 4 2 .8  200\ni1 6 2 .5  50\ni1 8 4 .05  10\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a function sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Function.orc and Function.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 4410\nksmps    = 10\nnchnls   = 1\n\n\ninstr    1 ; Log function distortion\n\nain      soundin  \"Sample2\"\n\na2       = (ain + 32767)/16384 ; Scale and DC shift\nalog     = log(a2)             ; Log function\nout      alog*16384            ; Scale output\n\nendin\n\ninstr    2 ; Polynominal function distortion\n\nain      soundin  \"Sample1\"\n\nain      = ain/32767           ; Scale input to +/-1\napoly    = ain - (ain*ain*ain) ; Polynominal function\nout      apoly*85196           ; Scale output\n\nendin\n\ninstr    3 ; x*2 - x^2 function (Even harmonic distortion)\n\nain      soundin  \"Sample2\"\n\nain      = ain/32767           ; Scale input to +/-1\napoly    = ain*2 - ain*ain     ; x*2 - x^2 function\nout      apoly*32767/3         ; Scale output\n\nendin\n\ninstr    4 ; x*3 - x^3 distortion (Compresses Signal)\n\nain      soundin  \"Sample1\"\n\nain      = ain/32767           ; Scale input to +/-1\napoly    = ain*3 - ain*ain*ain ; x*3 - x^3 function\nout      apoly*16384           ; Scale output\n\nendin\n\n</CsInstruments>\n<CsScore>\n;     Strt  Leng\ni01   0.00  1.50\n\n;     Strt  Leng\ni02   2.00  1.50\n\n;     Strt  Leng\ni03   4.00  1.50\n\n;     Strt  Leng\ni04   6.00  1.50\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a gates sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Gates.orc and Gates.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 44100\nksmps    = 1\nnchnls   = 1\n\n\ninstr    1 ; Gate - passes signal over threshold\n\nilevl    = p4       ; Level\nithresh  = p5*32768 ; Threshold\n\nain      soundin  \"Sample1\"\n\nkin      downsamp  ain\nkpos     limit  kin, 0, 32768\nkneg     limit  kin,-32768, 0\nkgate1   = (kpos > ithresh ? kpos : 0)\nkgate2   = (kneg <-ithresh ? kneg : 0)\nkgate    = kgate1 + kgate2\nagate    upsamp  kgate\nout      agate*ilevl\n\nendin\n\ninstr    2 ; Gate - passes signal under threshold\n\nilevl    = p4/p5    ; Level scaled to compensate for clipping\nithresh  = p5*32768 ; Threshold\n\nain      soundin  \"Sample2\"\n\nkin      downsamp  ain\nkpos     limit  kin, 0, 32768\nkneg     limit  kin,-32768, 0\nkgate1   = (kpos < ithresh ? kpos : 0)\nkgate2   = (kneg >-ithresh ? kneg : 0)\nkgate    = kgate1 + kgate2\nagate    upsamp  kgate\nout      agate*ilevl\n\nendin\n\ninstr    3 ; Gate - passes loudest input\n\nilevl    = p4 ; Output level\n\nain1     soundin  \"Sample1\"\nain2     soundin  \"Sample2\"\n\nkin1     downsamp  ain1\nkin2     downsamp  ain2\nkpos1    limit  kin1, 0, 32768\nkneg1    limit  kin1,-32768, 0\nkpos2    limit  kin2, 0, 32768\nkneg2    limit  kin2,-32768, 0\nkgate1   = (kpos1 > kpos2 ? kpos1 : kpos2)\nkgate2   = (kneg1 < kneg2 ? kneg1 : kneg2)\nkgate    = kgate1 + kgate2\nagate    upsamp  kgate\nout      agate*ilevl\n\nendin\n\ninstr    4 ; Gate - passes quietest input\n\nilevl    = p4 ; Output level\n\nain1     soundin  \"Sample1\"\nain2     soundin  \"Sample2\"\n\nkin1     downsamp  ain1\nkin2     downsamp  ain2\nkpos1    limit  kin1, 0, 32768\nkneg1    limit  kin1,-32768, 0\nkpos2    limit  kin2, 0, 32768\nkneg2    limit  kin2,-32768, 0\nkgate1   = (kpos1 < kpos2 ? kpos1 : kpos2)\nkgate2   = (kneg1 > kneg2 ? kneg1 : kneg2)\nkgate    = kgate1 + kgate2\nagate    upsamp  kgate\nout      agate*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\n;Passes signal over threshold\n;     Strt  Leng  Levl  Thresh\ni01   0.00  1.50  1.00  0.50\n\n;Passes signal under threshold\n;     Strt  Leng  Levl  Thresh\ni02   2.00  1.50  1.00  0.25\n\n;Passes loudest input\n;     Strt  Leng  Levl\ni03   4.00  1.50  1.00\n\n;Passes quietest input\n;     Strt  Leng  Levl\ni04   6.00  1.50  1.00\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pm7.orc and pm7.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10                       ; DONÂ´T CHANGE IT!\nnchnls    =         1\n\n\n;\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\n          instr 1             ; HAMMER ACTION SIMULATOR\n;\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\n\n; SET INITIAL POSITION AND VELOCITY OF THE MASS\niv0       =         0\nix0       =         25000\n\n; SET K, Z AND M\nik        =         p4\niz        =         p5\nim2       =         30\nim3       =         22\n\n; NORMALIZE (DON'T TOUCH THIS!)\nik        =         ik/(sr*sr)\niz        =         iz/(1000000000*sr)       ; Z GIVEN IN N*s/(kg*10e-9)\nim2       =         im2/1000000000           ; MASS GIVEN IN kg*10e-9\nim3       =         im3/1000000000           ; MASS GIVEN IN kg*10e-9\n\nkx3       init      ix0\nkxprev3   init      ix0-1000*iv0/sr\n\nkx2       init      0\nkxprev2   init      0\n\nkf1       =         ik*(kx2) + iz*((kx2-kxprev2))\n          if        kx3 > kx2 goto nolink\nkf2       =         -kf1 + ik*(kx3-kx2) + iz*((kx3-kxprev3)-(kx2-kxprev2))\nkf3       =         -kf2 + ik*(-kx3) + iz*(-(kx3-kxprev3))\n          goto      next\n\nnolink:\nkf2       =         -kf1\nkf3       =         ik*(-kx3) + iz*(-(kx3-kxprev3))\n\nnext:\nknext2    =         kf2/im2 + 2*kx2-kxprev2\nknext3    =         kf3/im3 + 2*kx3-kxprev3\n\n          aout      upsamp knext2  \n          out       aout\n\nkxprev2   =         kx2\nkxprev3   =         kx3\nkx2       =         knext2\nkx3       =         knext3\n          endin\n\n</CsInstruments>\n<CsScore>\n;      k  damping\ni1 0 2 .1  300\ni1 2 2 .05 500\ni1 4 2 .2  200\ni1 6 6 .01  50\ni1 12 25 .03  5\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pm5.orc and pm5.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10                       ; ESSENTIAL FOR THIS INSTRUMENT. DONÂ´T CHANGE IT!\nnchnls    =         1\n\n;pm5.orc\n\ngimaxn    =         20                       ;THE MAXIMUM NUMBER OF DISCRETE MASSES YOUÂ´LL USE\n; ALLOCATE SOME zak SPACE\n          zakinit   1,4*gimaxn               ; WE SHOULD NEED A 4-DIMENSIONAL ARRAY HERE \n; (ACTUAL, PREVIOUS AND NEXT POSITIONS, AND ACTUAL FORCES)\n\n\n;\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\n; strange plucked string. 20 masses! (be patient)\n          instr 1             ; AS pm4 WITH ARBITRARY MASSES AND POSITIONS\n; coded by Josep M Comajuncosas / Barcelona - jan.Â´98\n; gelida@intercom.es\n; variables to play with : inm (<=gimaxn), k (0 to 1), z\n;\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\ninm       =         20                       ; 98 EFFECTIVE MASSES (BOTH GROUNDS ACT LIKE INFINITE MASSES)\nkndx      init      1\n\n; SET K AND Z\nik        =         p4\niz        =         p5\n\n; NORMALIZE (DON'T TOUCH THIS!)\nik        =         ik/(sr*sr)\niz        =         iz/(1000000000*sr)\n\nimaxx     =         2000\nimaxm     =         40\nkskip     init      0\n          if        kskip == 1 kgoto noinitveloc\n\n; INITIALIZE POSITIONS WITH A WAVEFORM (f2)\n; INITIAL VELOCITIES ARE SET TO 0\nloop0:\nkiprevx   table     kndx/inm, 2, 1\n          zkw       imaxx*(kiprevx), kndx\n          zkw       imaxx*(kiprevx), inm + kndx\n\nkndx      =         kndx +1\n          if        kndx < inm -1 goto loop0\nkndx      =         0\nkskip     =         1\n\nnoinitveloc:\n\n; CALCULATE ACTUAL FORCES AND POSITIONS OF MASSES\n\n; \"MASS\" ON THE LEFT - GROUND\nkrightx   zkr       kndx +1\nkprevrightx zkr     kndx + inm +1\nkf        =         ik*(krightx) + iz*((krightx-kprevrightx))\n          zkw       kf, kndx + 3*inm\nkndx      =         kndx + 1\n\n; CENTRAL MASSES\nloop1:\n\n; INITIALIZE MASSES (f1)\nkm        tablei    kndx/inm, 1, 1\nkm        =         imaxm*(km+1)/2           ; FOR A TABLE IN (-1,1) - MASSES MUST BE > 0!\n;km       =         imaxm*km; for a table in (0,1)\nkm        =         km/1000000000; donÂ´t touch!\n\nkx        zkr       kndx\nkprevx    zkr       kndx + inm\nkrightx   zkr       kndx +1\nkprevrightx zkr     kndx + inm +1\nkleftf    zkr       kndx + 3*inm -1\n\nkf        =         -kleftf + ik*(krightx-kx) + iz*((krightx-kprevrightx)-(kx-kprevx))\nknextx    =         kf/km + 2*kx-kprevx\n          zkw       kf, kndx + 3*inm\n          zkw       knextx, kndx + 2*inm\n\nkndx      =         kndx + 1\n          if        kndx < inm-1 goto loop1\n\n; \"MASS\" ON THE RIGHT - GROUND\nkx        zkr       kndx \nkprevx    zkr       kndx + inm\nkleftf    zkr       kndx + 3*inm -1\nkf        =         -kleftf + ik*(-kx) + iz*(-(kx-kprevx))\n          zkw       kf, kndx + 3*inm\n\n; UPDATE VARIABLES FOR NEXT PASS\nkndx      =         1\nloop2:\nkx        zkr       kndx\nknextx    zkr       kndx + 2*inm\n\n          zkw       kx, kndx + inm\n          zkw       knextx, kndx\n          zkw       0, kndx + 2*inm          ; THIS SHOULDÂ´T BE NECESSARY (?)\n          zkw       0, kndx + 3*inm          ; ID. (?)\n\nkndx      =         kndx + 1\n          if        kndx < inm -1 goto loop2\n\n          kout      zkr int(inm/2)\n          aout      upsamp kout\n          out       aout\n\nkndx      =         0\n          endin\n\n          instr 2\n          zkcl      0, 4*gimaxn              ; SORRY FOR THE TRICK !\n          endin\n\n; i fer turnon 2,0 i a 2 zkcl -> turnoff?\n; o bÃ© zkcl turnon 2,p3 turnoff tot a instr 1, amb gip4 gip5\n\n</CsInstruments>\n<CsScore>\nf1 0 1025 7 -1 1024 1; for a linear mass distribution\n;f1 0 256 7 -1 1024 21 1; random values...\n\nf2 0 256 11 50; initial pulse to excite the string\n\n;         k  damping\n; for lower damping values the instruments gets crazy (?) \ni2 0 .01\ni1 .02 2 .4  1000\ns\ni2 0 .01\ni1 .02 2 .3  300\ns\ni2 0 .01\ni1 .02 15 .5  100\ns\ni2 0 .01\ni1 .02 10 .6  200\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pm4.orc and pm4.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10                       ; DONÂ´T CHANGE IT!\nnchnls    =         1\n\n\ngimaxn    =         20\n; ALLOCATE SOME zak SPACE\n          zakinit   1,4*gimaxn               ; WE SHOULD NEED A 4-DIMENSIONAL ARRAY HERE \n; (ACTUAL, PREVIOUS AND NEXT POSITIONS, AND ACTUAL FORCES)\n; imaxn IS THE MAXIMUM NUMBER OF DISCRETE MASSES YOUÂ´LL USE\n\n\n;\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\n          instr 1             ; STRING WITH ARBITRARY N MASSES. CONSTANT LINEAR DENSITY\n; coded by Josep M Comajuncosas / gelida@intercom.es\n;\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\n\ninm       =         20                       ; 18 EFFECTIVE MASSES (BOTH GROUNDS ACT LIKE INFINITE MASSES)\nkndx      init      0\n\n; SET INITIAL POSITION AND VELOCITY OF THE MASS\n          ziw       15, 3 + inm              ; INITIALIZE ONE POSITION - HERE, THE PREVIOUS POSITION OF THE 4th MASS\n          ziw       15, 3                    ; INITIALIZE ONE POSITION - HERE, THE ACTUAL POSITION OF THE 4th MASS\n\n; SET K, Z AND M\nik        =         p4\niz        =         p5\nim        =         30\n\n; NORMALIZE (DON'T TOUCH THIS!)\nik        =         ik/(sr*sr)\niz        =         iz/(1000000000*sr)       ; Z GIVEN IN N*s/(kg*10e-9)\nim        =         im/1000000000            ; MASS GIVEN IN kg*10e-9\n\n\n; CALCULATE ACTUAL FORCES AND POSITIONS OF MASSES\n\n; \"MASS\" ON THE LEFT - GROUND\nkrightx   zkr       kndx +1\nkprevrightx zkr     kndx + inm +1\nkf        =         ik*(krightx) + iz*((krightx-kprevrightx))\n          zkw       kf, kndx + 3*inm\nkndx      =         kndx + 1\n\n; CENTRAL MASSES\nloop1:\nkx        zkr       kndx\nkprevx    zkr       kndx + inm\nkrightx   zkr       kndx +1\nkprevrightx zkr     kndx + inm +1\nkleftf    zkr       kndx + 3*inm -1\n\nkf        =         -kleftf + ik*(krightx-kx) + iz*((krightx-kprevrightx)-(kx-kprevx))\nknextx    =         kf/im + 2*kx-kprevx\n          zkw       kf, kndx + 3*inm\n          zkw       knextx, kndx + 2*inm\n\nkndx      =         kndx + 1\n          if        kndx < inm-1 goto loop1\n\n; \"MASS\" ON THE RIGHT - GROUND\nkx        zkr       kndx \nkprevx    zkr       kndx + inm\nkleftf    zkr       kndx + 3*inm -1\nkf        =         -kleftf + ik*(-kx) + iz*(-(kx-kprevx))\n          zkw       kf, kndx + 3*inm\n\n; UPDATE VARIABLES FOR NEXT PASS\nkndx      =         1\nloop2:\nkx        zkr       kndx\nknextx    zkr       kndx + 2*inm\n\n          zkw       kx, kndx + inm\n          zkw       knextx, kndx\n          zkw       0, kndx + 2*inm          ; THIS SHOULDÂ´T BE NECESSARY (?)\n          zkw       0, kndx + 3*inm          ; ID. (?)\n\nkndx      =         kndx + 1\n          if        kndx < inm -1 goto loop2\n\n          kout      zkr 3\n          aout      upsamp kout              ; IÂ´M AFRAID THIS IS THE BEST WAY TO DO IT...\n          out       aout\n\nkndx      =         0\n          endin\n\n          instr 2\n          zkcl      0, 4*gimaxn              ; SORRY FOR THE TRICK !\n          endin\n\n</CsInstruments>\n<CsScore>\n;         k  damping\ni2 0 .01\ni1 .02 2 .4  1300\ns\ni2 0 .01\ni1 .02 2 .3  1100\ns\ni2 0 .01\ni1 .02 2 .5  1800\ns\ni2 0 .01\ni1 .02 2 .6  600\ns\ni2 0 .01\ni1 .02 5 .2  500\ns\ni2 0 .01\ni1 .02 10 .5  300\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 88_01_2.orc and 88_01_2.sco\n; Original files preserved in same directory\n\nsr =    1\nkr  =   1\nksmps = 1\nnchnls= 1\n\n; ************************************************************************\n; ACCCI:     88_01_2.ORC\n; timbre:    none\n; synthesis: calculation of a function, writing as soundfile to disk\n; source:    endless.orc, M.I.T.(1993)\n; note:      F(kx) = exp(-4.8283*(1-cos(2*pi*(kx-255.5)/511)))\n; coded:     jpg 9/93\n\n\n\n\ninstr 1; *****************************************************************\nipi    =     3.14159\nisize  =     p3-1          ; since sr=1, p3 has number of locs to generate\nkx     init  0\n\n   aval  =        exp(-4.8283*(1-cos(2*ipi*(kx-(isize*.5))/isize)))\n   kx    =        kx+1\n         display  aval,p3*.5\n         display  aval,p3\n         out      aval * 32000   ; 1 < aval < -1  use whole range of amps\n\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:       88_01_2.SCO\n; coded:       jpg 9/93\n\n; score ******************************************************************\n;  start  table length\ni1 0      2049\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 60_22_2.orc and 60_22_2.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:      60_22_2.ORC\n; synthesis:  phase vocoder(60)\n;             ktimpnt variable(22)\n;             pointer control by EXPON, santur1.pvc(2)\n; coded:      jpg 12/93\n\n\n\n\ninstr 1; *****************************************************************\nidur    = p3\nifildur = 5\n\n   ktimpnt   expon  .1, idur, ifildur\n   aout      pvoc   ktimpnt, 1.0, \"santur1.pvc\"\n             out    aout\nendin\n\n\ninstr 2; *****************************************************************\nidur    = p3\nifildur = 5\n\n   ktimpnt   expon  ifildur, idur, .1\n   aout      pvoc   ktimpnt, 1.0, \"santur1.pvc\"\n             out    aout\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:   60_22_2.SCO\n; coded:   jpg 12/93\n\n\n; score ******************************************************************\n;         idur\ni1    0     5  ; forward up\ni2    5    10  ; and backwards down\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pm3.orc and pm3.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n;\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\n        instr 1         ; Two masses, both ends. Scheme : (grnd)<-->m2<-->m3<-->(grnd)\n;coded by Josep M Comajuncosas / gelida@intercom.es\n;\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\n\n; SET INITIAL POSITION AND VELOCITY OF THE MASS\niv0     =       0\nix0     =       10000\n\n; SET K, Z AND M\nik      =       p4\niz      =       p5\nim2     =       30\nim3     =       30\n\n; NORMALIZE (DON'T TOUCH THIS!)\nik      =       ik/(sr*sr)\niz      =       iz/(1000000000*sr)  ; Z GIVEN IN N*s/(kg*10e-9)\nim2     =       im2/1000000000; mass given in kg*10e-9\nim3     =       im3/1000000000; mass given in kg*10e-9\n\nax2     init    ix0\naxprev2 init    ix0-1000*iv0/sr\n\nax3     init    0\naxprev3 init    0\n\naf1     =       ik*(ax2) + iz*((ax2-axprev2))\naf2     =       -af1 + ik*(ax3-ax2) + iz*((ax3-axprev3)-(ax2-axprev2))\naf3     =       -af2 + ik*(-ax3) + iz*(-(ax3-axprev3))\n\nanext2  =       af2/im2 + 2*ax2-axprev2\nanext3  =       af3/im3 + 2*ax3-axprev3\n\n        out     ax3\n\naxprev2 =       ax2\naxprev3 =       ax3\nax2     =       anext2\nax3     =       anext3\n        endin\n\n\n</CsInstruments>\n<CsScore>\n;      k  damping\ni1 0 2 .1  5000\ni1 2 2 .3  1000\ni1 4 2 .8  200\ni1 6 2 .5  50\ni1 8 2 .9  10\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a threshold sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Threshold.orc and Threshold.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 1\n\n\ninstr    1 ; Gate - passes signal over threshold\n\nilevl    = p4       ; Level\nithresh  = p5*32768 ; Threshold\n\nain      soundin  \"Sample1\"\nkin      downsamp  ain\n\nkpos     limit  kin, 0, 32768\nkneg     limit  kin,-32768, 0\n\nkgate1   = (kpos > ithresh ? kpos : 0)\nkgate2   = (kneg <-ithresh ? kneg : 0)\n\nkgate    = kgate1 + kgate2\nagate    upsamp  kgate\n\nout      agate*ilevl\n\nendin\n\ninstr    2 ; Gate - passes signal under threshold\n\nilevl    = p4/p5    ; Level scaled to compensate for clipping\nithresh  = p5*32768 ; Threshold\n\nain      soundin  \"Sample1\"\nkin      downsamp  ain\n\nkpos     limit  kin, 0, 32768\nkneg     limit  kin,-32768, 0\n\nkgate1   = (kpos < ithresh ? kpos : 0)\nkgate2   = (kneg >-ithresh ? kneg : 0)\n\nkgate    = kgate1 + kgate2\nagate    upsamp  kgate\n\nout      agate*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\n;passes signal over threshold\n\n;   Strt  Leng  Levl  Thresh\ni1  0.00  1.47  1.00  0.25\n\n;passes signal under threshold\n\n;   Strt  Leng  Levl  Thresh\ni2  2.00  1.47  1.00  0.25\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pm2.orc and pm2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n;\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\n        instr 1         ;   : m1<-->m2<-->(grnd)\n; coded by Josep M Comajuncosas / gelida@intercom.es\n;\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\n\ni2pi2   =       39.47841760436; (2pi)^2\n\n; SET INITIAL POSITION AND VELOCITY OF THE MASS\niv0     =       0\nix0     =       10000\n\n; SET FREQUENCY, Z AND M\n;ifreq  =       cpspch(p4)\nifreq   =       500\niz      =       p5\nim1     =       30\nim2     =       30\n                                    \n; NORMALIZE (DON'T TOUCH THIS!)\niz      =       iz/(1000000000*sr)  ; z given in N*s/(kg*10e-9)\nim1     =       im1/1000000000; mass given in kg*10e-9\nim2     =       im2/1000000000; mass given in kg*10e-9\n\n; CALCULATE K ACCORDING TO GIVEN FREQ\nik      =       i2pi2*ifreq*ifreq*im1\nik      =       ik/(sr*sr)\n\nax1     init    ix0\naxprev1 init    ix0-1000*iv0/sr\n\nax2     init    0\naxprev2 init    0\n\naf1     =       ik*(ax2-ax1) + iz*((ax2-axprev2)-(ax1-axprev1))\naf2     =       -af1 + ik*(-ax2) + iz*(-(ax2-axprev2))\n\nanext1  =       af1/im1 + 2*ax1-axprev1\nanext2  =       af2/im2 + 2*ax2-axprev2\n\n        out     anext2\n\naxprev1 =       ax1\naxprev2 =       ax2\nax1     =       anext1\nax2     =       anext2\n        endin\n\n\n</CsInstruments>\n<CsScore>\n;      freq  damping\ni1 0 2 8.00  5000\ni1 2 2 8.00  1000\ni1 4 2 8.00  200\ni1 6 2 8.00  50\ni1 8 2 8.00  10\ne\ns\ni1 0 2 6.00  100\ni1 2 2 7.00  100\ni1 4 2 8.00  100\ni1 6 2 9.00  100\ni1 8 2 10.00 100\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 60_22_1.orc and 60_22_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:      60_22_1.ORC\n; synthesis:  phase vocoder(60)\n;             ktimpnt variable(22)\n;             pointer control by LINE, santur1.pvc(1)\n; coded:      jpg 12/93\n\n\n\ninstr 1; *****************************************************************\nidur = p3\n\n   ktimpnt   line   0, idur, 5                ; original file is 5 seconds\n\n   aout      pvoc   ktimpnt, 1.0, \"santur1.pvc\"\n             out    aout\nendin\n\ninstr 2; *****************************************************************\nidur = p3\n\n   ktimpnt   line   5, idur, 0                        ; play it backwards\n\n   aout      pvoc   ktimpnt, 1.0, \"santur1.pvc\"\n             out    aout\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:   60_22_1.SCO\n; coded:   jpg 12/93\n\n; score ******************************************************************\n;         idur\ni1    0    5      ; original re-synthesized\ni2    7    5      ; backwards\ni1   15    15     ; blown up to 3 * original length\ni1   35     2.5   ; compressed to 1/2 of original length\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 60_23_1.orc and 60_23_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:      60_23_1.ORC\n; synthesis:  phase vocoder(60)\n;             kfmod variable(23)\n;             transposition control by EXPON, santur1.pvc(1)\n; coded:      jpg 12/93\n\n\n\n\ninstr 1; *****************************************************************\nidur    = p3\nitarget = p4\nioct    =  octpch(p5)\n\n   ktimpnt   line   0, idur, 5\n   kfmod     expon  .1, idur, .1+itarget\n   aout      pvoc   ktimpnt, cpsoct(ioct-.3*kfmod)/440, \"santur1.pvc\"\n             out    aout/3\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:   60_23_1.SCO\n; coded:   jpg 12/93\n\n\n; GEN functions **********************************************************\n; carrier\nf11   0 8193 10 1               ; sinus\n\n\n; score ******************************************************************\n;           idur  itarget     ipch\ni1    0.0     5      3        10.00\ni1    6.0     1      1         9.11\ni1     +      .      .        10.00\ni1     .      .      .        10.02\ne\n\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a lorenz sound", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from LORENZ.ORC and LORENZ.SCO\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t44100\nksmps\t=\t\t1\nnchnls\t=\t\t1\n\n\n\t\tinstr \t1\n\n; LORENZ EQUATIONS SYSTEM AT A-RATE WITH ALL PARAMETERS TIME-VARIABLE\n\n\nipi \t\tinit 6.283184\namix \tinit 0\n\n;p4 p5 i p6 = INITIAL VALUES FOR CONTROL PARAMETERS\n;p7 = TIME DIFFERENTIAL (NOT LESS THAN 0.02 - MAY BE IMPROVED USING RUNGE-KUTTA\n;\t   INTEGRATION METHODE BUT IT IS VERY TIME CONSUMING )\n;p8 AMPLITUDE\n;p9 ZOOM FACTOR (A KIND OF TEMPORAL WINDOW APPLIED TO TRAJECTORIES, VALUES OF\n;\t\t\t APROX. 5 ARE EQUIVALENT-ALMOST- TO DOWNING P7 AT THE PRICE OF\n;\t\t\t A BIT SLOWING DOWN COMPUTING TIME...)\n;p10 p11 p12 = DEVIATION VALUE FOR p6 p7 p8\n;\t\t\t (IT IS IMPLEMENTED WITH A SIMPLE LINE STATEMENT, BUT\n;\t\t\t  IMPROVING IT IS STRAIGHTFORWARD)\n\n\nkcontzoom init 0\nkzoom \tinit p9\niprof \tinit p8\nidt \t\tinit p7\n\n; NEWTON INTEGRATION METHODE\n\nadx \t\tinit 0\t\t;DIFERENTIALS\nady \t\tinit 0\nadz \t\tinit 0\nax \t\tinit .6\t  \t;VALUES\nay \t\tinit .6\naz \t\tinit .6\n\n;AA, AB AND AC HOLDS FOR THE VALUES OF CONTROL PARAMETERS\n\n\t  aa line p4,p3,p4+p10\n\t  ab line p5,p3,p5+p11\n\t  ac line p6,p3,p6+p12\n\naa init p4\nab init p5\nac init p6\n\nloop1: adx=aa*(ay-ax)\n\t  ady=ax*(ab-az)-ay\n\t  adz=ax*ay-ac*az\n\t  ax=ax+(idt*adx)\n\t  ay=ay+(idt*ady)\n\t  az=az+(idt*adz)\n\nkcontzoom=kcontzoom+1\n\nif kcontzoom>=kzoom kgoto sortida\nif kcontzoom!=kzoom kgoto loop1\n\nsortida:amix = ax*iprof\n\nout amix\n\nkcontzoom=0\n\nendin\n\n\n\n\n</CsInstruments>\n<CsScore>\n; SCORE******************************************************************\n;  P2     P3   P4   P5    P6     P7         P8         P9     P10 P11 P12\n;  istart idur A1   B1    C1     Time (dT)  Amplitude  KZoom  A2  B2  C2\ni1  0     .5    22   28   2.667      .01       600     3      5   0    0\n;i1  0     3    26   28   2.667      .01       600     4      0   10    0\n\n;e\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pm8.orc and pm8.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         44100\nksmps     =         1                        ; ESSENTIAL FOR THIS INSTRUMENT. DONÂ´T CHANGE IT!\nnchnls    =         1\n\n; pm5.orc\n\ngimaxn    =         20                       ;THE MAXIMUM NUMBER OF DISCRETE MASSES YOUÂ´LL USE\n; ALLOCATE SOME zak SPACE\n          zakinit   1,4*gimaxn               ; WE SHOULD NEED A 4-DIMENSIONAL ARRAY HERE \n; (ACTUAL, PREVIOUS AND NEXT POSITIONS, AND ACTUAL FORCES)\n\n\n;\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\n; strange strucked string. 20 masses! (be patient)\n          instr 1             ; AS pm5 WITH A HAMMER ACTION LINK (THE LAST ONE)\n; coded by Josep M Comajuncosas / Barcelona - jan.Â´98\n; gelida@intercom.es\n; variables to play with : inm (<=gimaxn), k (0 to 1), z\n;\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\ninm       =         20                       ; 98 EFFECTIVE MASSES (BOTH GROUNDS ACT LIKE INFINITE MASSES)\nkndx      init      1\n\n; SET K AND Z\nik        =         p4\niz        =         p5\n\n; NORMALIZE (DON'T TOUCH THIS!)\nik        =         ik/(sr*sr)\niz        =         iz/(1000000000*sr)\n\nimaxx     =         2000\nimaxm     =         40\nimhammer  =         20\n\nkskip     init      0\n          if        kskip == 1 kgoto noinitveloc\n\n; INITIALIZE POSITIONS WITH A WAVEFORM (f2)\n; INITIAL VELOCITIES ARE SET TO 0\nloop0:\nkiprevx   table     kndx/inm, 2, 1\n          zkw       imaxx*(kiprevx), kndx\n          zkw       imaxx*(kiprevx), inm + kndx\n\n\nkndx      =         kndx +1\n          if        kndx < inm -1 goto loop0\nkndx      =         0\nkskip     =         1\n\nnoinitveloc:\n\n; CALCULATE ACTUAL FORCES AND POSITIONS OF MASSES\n\n; \"MASS\" ON THE LEFT - GROUND\n\nkrightx   zkr       kndx +1\nkprevrightx zkr     kndx + inm +1\nkf        =         ik*(krightx) + iz*((krightx-kprevrightx))\n          zkw       kf, kndx + 3*inm\nkndx      =         kndx + 1\n\n; CENTRAL MASSES\nloop1:\n\n; INITIALIZE MASSES (f1)\nkm        tablei    kndx/inm, 1, 1\nkm        =         imaxm*(km+1)/2           ; FOR A TABLE IN (-1,1) - MASSES MUST BE > 0!\n;km       =         imaxm*km                 ; FOR A TABLE IN (0,1)\nkm        =         km/1000000000            ; DONÂ´T TOUCH!\n\nkx        zkr       kndx\nkprevx    zkr       kndx + inm\nkrightx   zkr       kndx +1\nkprevrightx zkr     kndx + inm +1\nkleftf    zkr       kndx + 3*inm -1\n\nkf        =         -kleftf + ik*(krightx-kx) + iz*((krightx-kprevrightx)-(kx-kprevx))\nknextx    =         kf/km + 2*kx-kprevx\n          zkw       kf, kndx + 3*inm\n          zkw       knextx, kndx + 2*inm\n\nkndx      =         kndx + 1\n          if        kndx < inm-2 goto loop1\n\n; LAST MASS,HAMMER-TYPE LINK & GROUND \n\nkm        tablei    kndx/inm, 1, 1\nkm        =         imaxm*(km+1)/2           ; FOR A TABLE IN (-1,1) - MASSES MUST BE > 0!\n;km       =         imaxm*km                 ; FOR A TABLE IN (0,1)\nkm        =         km/1000000000            ; DONÂ´T TOUCH!\n                                        \nkleftx    =         kx\nkx        =         krightx\nkprevx    zkr       kndx + inm\nkrightx   zkr       kndx +1\nkprevrightx zkr     kndx + inm +1\nkleftf    =         kf\n          if        kx > kleftx goto nolink\nkf        =         -kleftf + ik*(krightx-kx) + iz*((krightx-kprevrightx)-(kx-kprevx))\nkflast    =         -kf + ik*(-krightx) + iz*(-(krightx-kprevrightx))\n          goto      next\n\nnolink:\nkf        =         -kleftf\nkflast    =         ik*(-krightx) + iz*(-(krightx-kprevrightx))\n\nnext:\nknextx    =         kf/km + 2*kx-kprevx\nklastx    =         kflast/imhammer + 2*krightx-kprevrightx\n\n\n; UPDATE VARIABLES FOR NEXT PASS\nkndx      =         1\nloop2:\nkx        zkr       kndx\nknextx    zkr       kndx + 2*inm\n\n          zkw       kx, kndx + inm\n          zkw       knextx, kndx\n          zkw       0, kndx + 2*inm          ; THIS SHOULDÂ´T BE NECESSARY (?)\n          zkw       0, kndx + 3*inm          ; ID. (?)\n\nkndx      =         kndx + 1\n          if        kndx < inm -1 goto loop2\n\n          kout      zkr int(inm/2)\n          aout      upsamp kout\n          out       aout\n\nkndx      =         0\n          endin\n\n          instr 2\n          zkcl      0, 4*gimaxn              ; SORRY FOR THE TRICK !\n          endin\n\n;i fer turnon 2,0 i a 2 zkcl -> turnoff?\n; o bÃ© zkcl turnon 2,p3 turnoff tot a instr 1, amb gip4 gip5\n\n</CsInstruments>\n<CsScore>\nf1 0 1025 7 -1 1024 1; for a linear mass distribution\n;f1 0 256 7 -1 1024 21 1; random values...\n\nf2 0 256 11 50; initial pulse to excite the string\n\n;         k  damping\n; for lower damping values the instruments gets crazy (?) \ni2 0 .01\ni1 .02 2 .4  1000\ns\ni2 0 .01\ni1 .02 2 .3  300\ns\ni2 0 .01\ni1 .02 15 .5  100\ns\ni2 0 .01\ni1 .02 10 .6  200\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for itabamp   =         4 using panning and generalized buzz generator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from panster.orc and panster.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n;JEAN-MICHEL DARREMONT\n;   GBUZZST.ORC\n\n\n;p4 = AMP TAB\n;p5 = FREQ TAB\n;p6 = NB HARMONICS\n;p7 = LOWEST HARMONIC\n;p8 = HARMONICS AMP RATE FACTOR TAB (1 => EQUAL RATE FOR ALL HARMONICS)\n;f9 = COSINE TAB\n;f3 = PAN TAB\n;f10= REV TAB\n\n          instr     1\n\nitabamp   =         4\nitabfreq  =         5\nitabharmamprate =   8\n\n\nkamp      oscil1i   0,p4,p3,itabamp\nkfreq     oscil1i   0,p5,p3,itabfreq\nknbharm   =         p6\nklowharm  =         p7\n          \nkharmamprate oscil1i 0,p8,p3,itabharmamprate\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\nkpan      oscil1i    0,1,p3,3 ;p3=dur, pantab=3\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\nidel      =         .005\nkdclic    linseg     0, idel,1, p3-(100*idel),1,idel,0\n\nasig      gbuzz     kamp, kfreq, knbharm, klowharm, kharmamprate, 9\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n          outs      asig*kdclic*kpan, asig*kdclic*(1-kpan)\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n          endin\n\n</CsInstruments>\n<CsScore>\n;JEAN-MICHEL DARREMONT\n;;SCORE\n;AMP \nf 4 0 1024 7 \n10000 1024 10000 \n\n;FREQ \nf 5 0 1024 7 \n115.0 51 105.5941 51 105.0 52 105.495 51 106.3861 51 107.4752 51 108.0693 51\n109.1584 52 111.7327 51 113.2178 51 113.7129 51 113.8119 51 113.7129 52\n109.8515 51 109.4554 51 109.4554 51 110.0495 51 112.3267 52 113.6139 51\n114.604 51 115.0 \n\n;HARMONICS DECREASE RATE \nf 8 0 1024 7 \n0 51 40 51 139 52 267 51 495 51 554 51 554 51 515 52 129 51 119 51 129 51 178\n51 327 52 584 51 693 51 752 51 861 51 950 52 1000 51 941 51 0 \n\n;COSINUS WAVE \nf 9 0 16385 11 \n1 1 \n;PAN TABLE \nf 3 0 4096 7 \n1.0 205 0.9604 205 0.8614 204 0.7327 205 0.505 205 0.4455 205 0.4455 205\n0.4851 204 0.8713 205 0.8812 205 0.8713 205 0.8218 205 0.6733 204 0.4158 205\n0.3069 205 0.2475 205 0.1386 205 0.0495 204 0.0 205 0.0594 205 1.0 \n\n;p1 p2 p3 p4 p5 p6 p7 p8 \ni 1 0 10 3000 64 128 1 0.95 \ni 1 0 10 3000 64.032 128 1 0.95 \ni 1 0 10 3000 64.064 128 1 0.95 \ni 1 0 10 3000 64.096 128 1 0.95 \ni 1 0 10 3000 64.128 128 1 0.95 \ne \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating generalized buzz generator and resonant filter and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 50_51_1.orc and 50_51_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     50_51_1.ORC\n; synthesis: subtractive synthesis(50)\n;            spectrum proportional to amplitude(51)\n; source:    Dodge (1985)\n; coded:     jpg 11/93\n\n\n\n\ninstr 1; *****************************************************************\nidur   = p3\niamp   = p4\nifq    = cpspch(p5)\nirise  = .2\nidec   = .2\ninmh    = sr/2/ifq\niscale = .1\n\n   kenv    linen  iamp, irise, idur, idec\n   abuzz   gbuzz  kenv, ifq, inmh, 1, .9, 5\n   a1      reson  abuzz, 0, kenv * iscale, 2\n           out    a1\n\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     50_51_1.SCO\n; coded:     jpg 11/93\n\n; GEN functions **********************************************************\n; envelopes\nf5  0   8192  11   1\n\n\n; score ******************************************************************\nt 0 80\n\n;    start idur  iamp   ipch\ni1    0     1    4000   7.00\ni1    +     .    6000   .\ni1    .     .    8000   .\ni1    .     .    8000   7.04\ni1    .     .    8000   7.07\ni1    .     .    .      .\ni1    .     .    7000   7.04 \ni1    .     .    4000   7.00\n\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for k1 \t\t= \t\t100 using granular synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from xincode.orc and xincode.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\nk1 \t\t= \t\t100\na1 \t\t= \t\t100\na2\t\tgrain\tk1, a1, a1, 0, 0, .001, 1, 1, .01\n\t\tout \t\ta2\n\t\tendin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\n\ni1 0 1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a gtest sound using test/demonstration and granular synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from gtest.orc and gtest.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\na2\t\tgrain\t10000, 1000, 10, 100, 100, .05, 1, 2, .05\n\t\tout\t\ta2\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\nf2 0 1024 20 6\n\ni1 0 2\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for insnd     =         10 using granular synthesis and random noise and sample-and-hold random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from grainsamp.orc and grainsamp.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n;  bug - it has to be the randh.  It used to work fine.\n;  rand workis fine too.  In this case, explosion at the onset!\n\n; Rick\n\n          \n          instr 1\ninsnd     =         10\nibasfrq   =         sr / ftlen(insnd)        ; USE ORIGINAL SAMPLE RATE OF insnd FILE\n; kamp    expseg    4000, p3/2, 4000, p3/2, 8000\nkamp      randh     8000, 20\nkpitch    line      ibasfrq, p3, ibasfrq * 4\nkdens     line      500, p3, 25\nkaoff     line      0, p3, 8000\nkpoff     line      0, p3, ibasfrq * .5\nkgdur     line      .4, p3, .01\nimaxgdur  =         .5\nasig      grain     kamp, kpitch, kdens, kaoff, kpoff, kgdur, insnd, 5, imaxgdur, 0\n          out       asig\n          endin\n\n</CsInstruments>\n<CsScore>\nf5  0 512  20 2                  ; Hanning window\nf10 0 131072 1  \"hellorcb.aif\" 0 4 0\n\ni1 0 15\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kamp\t\tlinseg\t0, p3/4, 4000, 3*p3/4, 0 using granular synthesis and reverb effect and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from granrev1.orc and granrev1.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t1\n\n\n\n\t\tinstr 1\nkamp\t\tlinseg\t0, p3/4, 4000, 3*p3/4, 0\nkp\t\texpon\t1, p3, .5\na1\t\tgrain\tkamp, 1000*kp, 500, 0, 10,.05, 1, 2, .1\na2\t\tgrain\tkamp, 2000*kp, 500, 0, 10,.05, 1, 2, .1\na3\t\tgrain\tkamp, 1600*kp, 500, 0, 10,.05, 1, 2, .1\ngasnd\t=\t\ta1+a2+a3\n\t\tout\t\tgasnd/2\n\t\tendin\n\n\t\tinstr 2\naout\t\treverb\tgasnd, 2\nkamp\t\tline\t\t1, p3, 0\n\t\tout\t\taout/4\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\nf2 0 1024 20 6\n\ni2 0 4\n\ni1 0 2\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1 \t\tgrain\t4000, 1000, 10, 100, 100, .2, 1, 2, .2 using granular synthesis and pitch-synchronous granular synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from grain3.orc and grain3.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\na1 \t\tgrain\t4000, 1000, 10, 100, 100, .2, 1, 2, .2\na2 \t\tgrain\t4000, 600, 80, 100, 100, .2, 1, 2, .2\na3 \t\tgrain\t4000, 200, 130, 100, 100, .2, 1, 2, .2\n\t\tout \ta1+a2+a3\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\nf2 0 1024 20 3\n\ni1 0 2\n;i1 0 1\n;i1 0 1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kamp\t\tline\t\t0, p3, 20000 using granular synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from graint9.orc and graint9.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\nkamp\t\tline\t\t0, p3, 20000\nagr\t\tgrain\t30000, 0, 100, 500, 10, .05, 1, 2, 1\nout\t\tagr\n\t\tendin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\nf2 0 1024 20 6\n\ni1 0 3\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for agr\t\tgrain\t20000, 0, 1000, 0, 10, .05, 1, 2, 2 using granular synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from graint8.orc and graint8.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\nagr\t\tgrain\t20000, 0, 1000, 0, 10, .05, 1, 2, 2\nout\t\tagr\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\nf2 0 1024 20 6\n\ni1 0 3\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kamp\t\tline\t\t0, p3, 20000 using granular synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from graint1.orc and graint1.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\nkamp\t\tline\t\t0, p3, 20000\nagr\t\tgrain\tkamp, 0, 1000, 0, 10, .005, 1, 2, 2\nout\t\tagr\n\t\tendin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\nf2 0 1024 20 6\n\ni1 0 3\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifqc      =         p5 using granular synthesis and random noise and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from granlr.orc and granlr.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n          instr 1\nifqc      =         p5\nkdnsenv   linseg    10, p3/2, 100, p3/2, 10\nkdurenv   linseg    .04, p3/2, .4,  p3/2, .04\nkampenv   linseg    0, .002, 1, p3-.004, 1, .002, 0\n\n; krand1  rand      30\nkdens     =         kdnsenv                  ; + krand1/3\n                              \n;                   XAMP  XPITCH  XDENS  KAMPOFF  KPITCHOFF  KGDUR       IGFN  IWFN  IMGDUR\naoutl     grain     p4,   ifqc,  kdens,  200,     210,    kdurenv,    p6,   2,     1\naoutr     grain     p4,   ifqc,  kdens,  200,     190,    kdurenv,    p6,   2,     1\n          outs      aoutl*kampenv, aoutr*kampenv\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\n\nf3 0 8192  7 1 8192 -1\nf2 0 2048  1 10 0 6 0\n\nt 0 400\n\n;  Start  Dur  Amp   Pitch  Table\ni1   0    8    3000  440    1      \ni1   0    8    2000  1100   1\ni1   0    8    1500  330    1\ni1   4    12   4000  220    1\ni1   8    12   4000  160    1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kfreq\tline\t\t1, p3, 6000 using granular synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from graint3.orc and graint3.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\nkfreq\tline\t\t1, p3, 6000\nagr\t\tgrain\t20000, 0, kfreq, 0, 10, .05, 1, 2, 2\nout\t\tagr\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\nf2 0 1024 20 6\n\ni1 0 3\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for agr\t\tgrain\t2000, 20000, 1000, 0, 4, .05, 1, 2, 1s using granular synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from graint2.orc and graint2.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\nagr\t\tgrain\t2000, 20000, 1000, 0, 4, .05, 1, 2, 1s\n\t\tout\t\tagr\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\nf2 0 1024 20 6\n\ni1 0 3\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for agrl\t\tgrain\t20000, 0, 1000, 0, 10, .1, 1, 2, 2 using granular synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from graint6.orc and graint6.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\nagrl\t\tgrain\t20000, 0, 1000, 0, 10, .1, 1, 2, 2\n\t\tout\t\tagrl\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\nf2 0 1024 20 6\n\ni1 0 3\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kamp      linseg    0, p3/4, 2000, 3*p3/4, 0 using granular synthesis and reverb effect and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from grainstd.orc and grainstd.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n          \n          instr 1\nkamp      linseg    0, p3/4, 2000, 3*p3/4, 0\nkp        expon     1, p3, .5\na1        grain     kamp, 1000*kp, 500, 0, 10,.05, 1, 2, .1\na2        grain     kamp, 2000*kp, 500, 0, 10,.05, 1, 2, .1\na3        grain     kamp, 1600*kp, 500, 0, 10,.05, 1, 2, .1\ngasnd     =         a1+a2+a3\n          out       gasnd/2\n          endin\n\n          instr 2\naout      reverb    gasnd, 2\nkamp      line      1, p3, 0\n          out       aout/4\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\nf2 0 1024 20 6\n\ni2 0 4\n\ni1 0 2\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for agrs\t\tgrain\t20000, 0, 1000, 0, 10, .005, 1, 2, 2 using granular synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from graint7.orc and graint7.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\nagrs\t\tgrain\t20000, 0, 1000, 0, 10, .005, 1, 2, 2\n\t\tout\t\tagrs\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\nf2 0 1024 20 6\n\ni1 0 3\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iflen \t= \t\t1.3113 using granular synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from graint10.orc and graint10.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\niflen \t= \t\t1.3113\nagr\t\tgrain\t2000, 30000, 1/iflen, 2/iflen, 40, .1, 1, 2, 1\n\t\tout \t\tagr\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 32768 1 5 0 1 1\n;f1 0 0 1 4 0 1 1\nf2 0 1024 20 6\n\ni1 0 3\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kdens\tline\t\t1, p3, 2000 using granular synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from graint5.orc and graint5.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\nkdens\tline\t\t1, p3, 2000\nagr\t\tgrain\t5000, 0, 1000, 0, kdens, .005, 1, 2, 2\n\t\tout\t\tagr\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\nf2 0 1024 20 6\n\ni1 0 3\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kfreqoff\tline\t\t0, p3, 1000 using granular synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from graint4.orc and graint4.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\nkfreqoff\tline\t\t0, p3, 1000\nagr\t\tgrain\t10000, 0, 1000, kfreqoff, 20, .05, 1, 2, 2\n\t\tout\t\tagr\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\nf2 0 1024 20 6\n\ni1 0 3\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a fofgrain sound using granular synthesis and FOF formant synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fofgrain.orc and fofgrain.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n          \n        instr 1\na1      fof     15000, 200, 650, 0, 40, .003, .02, .007, 5, 1, 2, p3\n\n; a1    fof     15000, 100, 300, 0, 40, .003, .02, .007, 5, 1, 2, p3\n        out     a1\n        endin\n\n        instr 2\na1      grain   15000, 650, 200, 0, 0, .02, 1, 3, .02, 1\n\n; a1    grain   15000, 300, 100, 0, 0, .02, 1, 3, .02, 1\n        out     a1\n        endin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\nf2 0 1024 19 0.5 0.5 270 0.5\nf3 0 1024 7  0 124 1 900 0\n\ni1 0 .5\ni2 .6 .5\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         1/1.45 using granular synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from granproc.orc and granproc.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n          \n          instr 1\nidur      =         1/1.45\na1        grain     10000, idur, 15, 0, idur/2,1, 1, 2, 1\n          out       a1\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 32768 1 5 .01 1 1\nf2 0 1024 20 2\nf0 .25\nf0 .5\nf0 1\nf0 1.5\nf0 2\nf0 2.5\nf0 3\nf0 3.5\n\ni1 0 4\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur\t\t=\t\t1 / 1.45 using granular synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from anagrain.orc and anagrain.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t1\t\t\n\n\t\t\n\t\tinstr 1\n\t\t\nidur\t\t=\t\t1 / 1.45\na1\t\tgrain\t30000, idur, 15, 0, idur/2,1, 1, 2, 1\n\t\tout\t\ta1\n\t\t\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1  0  32768   1  16  .01  1  1\n\nf2  0   1024  20   2\n\ni1  0  4\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifqc=p5 using granular synthesis and random noise and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from granulr1.orc and granulr1.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n\n\t\tinstr 1\nifqc=p5\nkdnsenv \tlinseg\t10, p3/2, 100, p3/2, 10\nkdurenv \tlinseg  \t.04, p3/2, .4,  p3/2, .04\nkampenv \tlinseg  \t0, .002, 1, p3-.004, 1, .002, 0\n\n krand1 \trand \t30\nkdens \t= \t\tkdnsenv + krand1/3\n\t\t\t\t\t\t\n;\t\t\t\tXAMP  XPITCH  XDENS  KAMPOFF  KPITCHOFF  KGDUR\t   IGFN  IWFN\tIMGDUR\naoutl \tgrain\tp4,\t ifqc,  kdens,\t 200,\t210,\t   kdurenv,\tp6,\t 2,\t   1\naoutr \tgrain\tp4,\t ifqc,  kdens,\t 200,\t190,\t   kdurenv,\tp6,\t 2,\t   1\n\t\touts \taoutl*kampenv, aoutr*kampenv\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\nf2 0 8192 20 1 \nf3 0 8192  7 1 8192 -1\n\n;  Start  Dur  Amp   Pitch  Table\ni1   0    8    3000  440    1      \ni1   0    8    2000  1100   1\ni1   4    8    4000  220    3\ni1   4    8    4000  1220   3\ni1   8    8    4000  1260   3\ni1   8    8    4000  60    1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using granular synthesis and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from grain33.orc and grain33.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n; ORCHESTRA\n;----------------------------------------------------------------------------------\n; YOUR BASIC GRANULAR SYNTHESIS\n;----------------------------------------------------------------------------------\n                    \n          instr     1\nidur      =         p3\niamp      =         p4\nifqc      =         cpspch(p5)\nigrtab    =         p6\niwintab   =         p7\nifrng     =         p8\nidens     =         p9\nifade     =         p10\nigdur     =         .2\nkamp      linseg    0, ifade, 1, idur-2*ifade, 1, ifade, 0\n;                   AMP  FQC   DENSE  AMPOFF PITCHOFF    GRDUR  GRTABLE WINTABLE  MAXGRDUR\naoutl     grain     p4,  ifqc, idens, 100,   ifqc*ifrng, igdur, igrtab, iwintab,  5\naoutr     grain     p4,  ifqc, idens, 100,   ifqc*ifrng, igdur, igrtab, iwintab,  5\n          outs      aoutl*kamp, aoutr*kamp\n          endin\n\n</CsInstruments>\n<CsScore>\n; SCORE\nf2 0 1024  7 0 224 1 800 0\nf3 0 8192  7 1 8192 -1\nf4 0 1024  7 0 512 1 512 0\nf5 0 1024 10 1 .3 .1 0 .2 .02 0 .1 .04       ; THIS ONE SOUNDS SORT OF VOCAL.\nf6 0 1024 10 1 0 .5 0 .33 0 .25 0 .2 0 .167  ; THIS ONE SOUNDS SQUARE WAVE HOLLOW.\n\n;  Start  Dur  Amp   Freq  GrTab  WinTab  FqcRng  Dens  Fade\ni1   0.0  6.5  700   9.00  5      4       .210    200   1.8\ni1   5.2  3.5  800   7.08  .      4       .110    100   0.8\ni1   8.1  5.2  600   7.10  .      4       .112    100   0.9\ni1  14.2  6.6  900   8.03  .      4       .021    150   1.6\ni1  21.3  4.5  1000  9.00  .      4       .031    150   1.2\ni1  26.5 13.5  1100  6.09  .      4       .121    150   1.5\ni1  30.7  9.3  900   8.05  .      4       .014    150   2.5\ni1  34.2  5.8  700  10.02  .      4       .14     150   1.6\n\n;  Start  Dur  Amp   Freq  GrTab  WinTab  FqcRng  Dens  Fade\ni1   3.0  6.7  700   8.02  6      4       .140    200   1.8\ni1   7.2  5.5  800   9.08  .      4       .010    100   0.8\ni1  10.1  5.2  600   7.11  .      4       .112    100   0.9\ni1  15.2  6.6  900   8.02  .      4       .21     150   1.6\ni1  22.3  8.5  1000  9.02  .      4       .031    150   1.2\ni1  27.5 12.5  1100 10.01  .      4       .121    150   1.5\ni1  31.7  8.3  900   8.05  .      4       .014    150   2.5\ni1  36.2  3.8  700   9.02  .      4       .34     150   1.6\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ims       =         100 using granular synthesis and reverb effect and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from granular.orc and granular.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n          \n          instr 1\nims       =         100\nifr       =         2*1.3113\na1        linseg    2000, 5, 100, p3 - 5, 100\nk1        linseg    .0005, 5, .3, p3 -  5, .3\na3        grain     4000,ifr, a1, 0, 0, k1, 3, 2, .4\n          out       a3\ngafx1     =         a3\n          endin\n\n          instr 2\na1        line      100, p3, 0\nk1        line      20000, p3, 0   \na2        grain     k1, 4000+p4, a1, 0, 100, .005, 1, 2, .005\n          out       a2\ngafx2     =         a2\n          endin\n\n          instr 3\na1        linseg    0, p3/2, 50, p3/2, 0\nk1        line      1000, p3, 20000\na2        grain     k1, 3000, a1, 1000, 1000, .01, 1, 4, .01\n          out       a2\ngafx3     =         a2\n          endin\n\n          instr 4\nk1        line      .01, p3, .0001\na1        line      100, p3, 0\na2        grain     15000, 3000, a1, 1000, 10, k1, 1, 2, .01\n          out       a2\ngafx4     =         a2\n          endin\n\n          instr 5\nifr       =         4*1.3113\na1        =         4\na2        grain     3000, p4*ifr, a1, 3000, ifr / 2, .3, 3, 4, .3\n          out       a2\ngafx5     =         a2\n          endin\n\n          instr 6\nk1        line      .001, p3, .01\na1        line      10, p3, 100\na2        grain     15000, 3000+p4, a1, 1000, 10, k1, 1, 2, .01\n          out       a2\ngafx6     =         a2\n          endin\n\n          instr 99\nafx       =         (gafx1+gafx2+gafx3+gafx4+gafx5+gafx6)/12\na1        reverb    afx, 2\n          out       a1\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\nf2 0 8192 20 6\nf3 0 65536 1 5 0 4 0\nf4 0 8192 7 0 192 1 8000 0\nf5 0 8192 8  0.010000 3822 0.810000 4370 0.000000\nf6 0 8192 8  0.930000 3770 0.010000 4422 0.960000\nf7 0 8192 8  0.930000 8192 0.010000\nf8 0 8192 8  0.000000 8192 1.000000\n\nt 0 30\n\n;i99 0 12\n;i2 0 2 0\n\ni2 0 1.5 0\ni2 2 1.5 -1000\ni3 3.5 2.5\ni2 4 1.5 2000\ns\nf0 1\ns\nt 0 30\ni2 0 2 0\ni2 1.5 2 -500\ni2 2.5 2 500\ni3 2.2 2\ni2 4 1 0\ni4 0 2\ns\nf 0 .5\ns\nt 0 30\ni2 0 2 0\ni2 1.5 2 -500\ni2 2.5 2 500\ni3 2.2 2\ni2 4 1 0\ni4 0 2\ns\nf0 2\ns\ni1 0 12\ni5 4 6 1\ni5 8 4 1\ni5 10 2 2\n\n;i6 11 .4 0\n;i6 11.75 .4 -500\n;i6 12.75 .4 -1000\n;i4 13.5  1.5\n;i4 15 .5\n;i6 15.75 .4 -1000\n;i4 16.75 .5\n;i6 17.5 1.5 -500\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kamp\t\tlinseg\t0, p3/2, 30000, p3/2, 0 using granular synthesis and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from grainex.orc and grainex.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\nnchnls\t=\t\t1\n\n\ninstr 1\nkamp\t\tlinseg\t0, p3/2, 30000, p3/2, 0\nagrain\tgrain\tkamp, 0, 1000, 0, 10, .005, 1, 2, .005\n\t\tout\t\tagrain\n\t\tendin\n\ninstr 2\nkfreq\tlinseg\t0, p3/2, 10000, p3/2, 0\nagrain\tgrain\t30000, 0, kfreq, 0, 100, .005, 1, 2, .005\n\t\tout\t\tagrain\n\t\tendin\n\ninstr 3\nkpoff\tlinseg\t0, p3/2, 2000, p3/2, 0\nagrain\tgrain\t30000, 0, 1000, kpoff, 5, .05, 1, 2, .005\n\t\tout\t\tagrain\n\t\tendin\n\ninstr 4\nkdns\t\tline\t\t0, p3, 2000\nagrain\tgrain\t3000, 0, 1000, 0, kdns, .05, 1, 2, .005\n\t\tout\t\tagrain\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\nf2 0 1024 20 6\nf3 0 32768 1 1 .01 1 1\n\ni1 0 2\ne\ni2 0 2\ns\ni3 0 2\ns\ni4 0 2\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kratio =      p4    ; Ratio using high-precision oscillator and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from newport.orc and newport.sco\n; Original files preserved in same directory\n\nsr     =       44100  ; Sample rate\nkr     =       4410   ; Kontrol rate\nksmps  =       10     ; Samples per kontrol period\nnchnls =       2      ; Number of channels\n\n; ORCHESTRA\n       zakinit 50, 50 ; Initialize the zak system\n\n; Sends out a ratio signal on the appropriate channel\n       instr  1\n\nkratio =      p4    ; Ratio\nioutch =      p5    ; Output channel\n\n       zkw    kratio, ioutch  ; Write k-rate zak array\n\n       endin\n\n; Instrument 2 reads it's pitch from instrument 1 zak channel\n       instr 2\n\niamp   =      p4  ; Amplitude\nifqc   =      p5  ; Base frequency\nirt    =      p6  ; Initial ratio\niinch  =      p7  ; Input zak channel\n\nkrt1   zkr    iinch         ; Read the zak channel\nkrt    port   krt1, .2, irt ; Portamento glide for .2 seconds\n\naoutl  poscil iamp, ifqc*krt*1.002, 1 ; Run the oscillator\naoutr  poscil iamp, ifqc*krt*0.998, 1 ; How about some stereo?\n\n       outs  aoutl, aoutr\n\n       endin\n\n</CsInstruments>\n<CsScore>\n\n\n; SCORE\nf1      0       8192    9       1 1 0 2.5 .5 0 3.5 .333 0 4.5 .25 0 5.5 .20\n\n;inst   start   dur   ratio  OutCh\ni1      0       8     1.125  1\ni1      0       8     1.875  2\ni1      0       8     1.5    3\n;\ni1      8       8     1.2    1\ni1      8       8     1.7778 2\ni1      8       8     1.5    3\n;\ni1     16       8     1.125  1\ni1     16       8     1.875  2\ni1     16       8     1.5    3\n\n; Just turn on instr 2 and leave it on\n; use instr 1 to change the ratios.\n;inst   start   dur   amp     freq  InitRatio  InCh\ni2      0       24    10000   220   1.125      1\ni2      0       24    10000   110   1.875      2\ni2      0       24    10000   110   1.5        3\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating FM synthesis and interpolating FM synthesis and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Fm1.orc and Fm1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; =================== Simple FM Instrument ======================== ;\n; ================ with swept modulation index ==================== ;\n\n\n                                                                            \n          instr     1                                                     \niamp      =         ampdb(p4)                          ; p4 = AMPLITUDE IN dB\nkamp      linseg    0,p3*.1,iamp,p3*.8,iamp,p3*.1,0    ; p5 = OSCILLATOR FREQ IN Hz\nkind      linseg    p8,p3*.7,p9,p3*.3,p8               ; p6 = CARRIER FREQ RATIO\na1        foscili   kamp,p5,p6,p7,kind,1               ; p7 = MOD FREQ RATIO \n          out       a1                                 ; p8 = START MOD SWEEP\n          endin                                        ; p9 = PEAK MOD SWEEP\n\n</CsInstruments>\n<CsScore>\n; =========== Testing Modulation Index and C:M Ratios =========== ;\n; =================  Example Csound Note List  ================== ;\n \nf1      0     2048      10     1\n\n; =============================================================== ;\n;    Start    Dur      Amp    Pitch Carrier  Mod    Start   Peak\n;    in Sec   in Sec   in Db  in Hz Ratio    Ratio  Index   Index\n; =============================================================== ;\n\ni1      0      30      86     55      1       1      0        20\ni1     30      30      86     55      1       1      0        40\ni1     60      30      86     55      1       1      0        80\ni1     90      30      86     55      1       1      0       160\ni1    120      30      86     55      1       1      0       320\ns\ni1      0      30      86     55      1       1      0       640\ni1     30      30      86     55      1       1      0      1280\ni1     60      30      86     55      1       1      0      2560\ni1     90      30      86     55      1       1      0      5120\ni1    120      30      86     55      1       1      0     10240\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for icar    \t=       \t1 using FM synthesis and interpolating FM synthesis and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Fm2.orc and Fm2.sco\n; Original files preserved in same directory\n\nsr      \t=       \t44100\nkr      \t=       \t4410\nksmps   \t=       \t10\nnchnls\t=\t\t1\n\n; =================== A Simple FM Instrument ====================== ;\n; ================ with swept modulation index ==================== ;\n; ================   Non Sinusoidal Waveforms   =================== ;\n\n\n\n\t\tinstr \t1\nicar    \t=       \t1\nimod    \t=       \t1\nifreq   \t=       \t55                              ; FUNCTION f1 (SINE WAVE: 2K)\niamp    \t=       \tampdb(86)                       ; FUNCTION f2\nkamp    \tlinseg  \t0,p3*.1,iamp,p3*.8,iamp,p3*.1,0 ; FUNCTION f3\nkind    \tline    \tp5,p3,p6                        ; FUNCTION f4\na1      \tfoscili \tkamp,ifreq,icar,imod,kind,p4    ; p4=ALTERNATE WAVEFORM\n   \t\tout     \ta1                              ; p5=SWEPT MODULATION INDEX BEGIN\n\t\tendin                                     ; p6=SWEPT MODULATION INDEX PEAK\n\n</CsInstruments>\n<CsScore>\n; =============================================================== ;\n; =========== Testing Modulation Index and C:M Ratios =========== ;\n; =============================================================== ;\n \nf1      0     1024      10     1\nf2      0     1024      10    10  8  0  6  0  4  0  1\nf3      0     1024      10    10  0  5  5  0  4  3  0  1\nf4      0    1024     10    10  0  9  0  0  8  0  7  0  4  0  2  0  1  0\n\n; =========================================== ;\n;    Start    Dur      Func   Start   End\n;    in Sec   in Sec   Table  Index   Index\n; =========================================== ;\n\ni1      0      5       1      40      0\ni1     10      .       2      80      0\ni1     20      .       3     120      0\ni1     30      .       4     240      0\ns\ni1      0      5       1      40     10\ni1     10      .       2      80     20\ni1     20      .       3     120     30\ni1     30      .       4     240     40\ns\ni1      0      2       1      40      0\ni1      2      .       2      80      0\ni1      4      .       3     120      0\ni1      6      .       4     160      0\ns\ni1      0      2       1     200      0\ni1      2      .       2     300      0\ni1      4      .       3     500      0\ni1      6      .       4     800      0\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         .18 using drum sound and interpolating FM synthesis and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from WDRUM.ORC and WDRUM.SCO\n; Original files preserved in same directory\n\n     sr        =         44100\n     kr        =         4410\n     ksmps     =         10\n     nchnls    =         1 \n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;         FM WOOD DRUM ORCHESTRA FILE                   ;\n;                                                       ;\n;         P3 = DURATION        P4 = AMPLITUDE           ;\n;         P5 = PITCH IN PCH                             ;\n;                                                       ;\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n               instr     1\n     idur      =         .18\n          if   p3 < .18  igoto reset\n               igoto     index\nreset:    idur =         p3\nindex:    kndx envlpx    1,.001,.002,.001,2,1,.001\n     kamp      envlpx    p4,.001,idur,(idur*.92),2,1,.001\n     asig      foscili   kamp,cpspch(p5),1,4.5,kndx,1\n               out       asig\n               endin\n\n</CsInstruments>\n<CsScore>\n;        FM WOOD DRUM SCORE FILE \n;\n;       SINE WAVE\nf1 0.0 512 10 1\n;       LINEAR RISE\nf2 0.0 513 7  0 513 1\n;       LINEAR FALL\nf3 0.0 513 7  1 513 0\n;       EXPONENTIAL RISE\nf4 0.0 513 5 .001 513 1 \n;       EXPONENTIAL RISE\nf5 0.0 513 5 1 513 .001 \n;\n;       INSTRUMENT CARDS\ni1 0.00 0.12 10000 8.11\ni1 0.50 0.12 10000 8.10\ni1 1.50 0.12 10000 9.05\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a shuffler sound using interpolating oscillator and sample-and-hold random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Shuffler.orc and Shuffler.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 1\n\n\ninstr    1 ; Divides Sample1 into equal slices then replays in random order\n\nilevl    = p4*32767                  ; Output level\nirate    = p5                        ; Rate\nistep    = p6/2                      ; Number of slices\nileng    = ftsr(1)/ftlen(1)          ; Sample1 length\niseed    = rnd(1)                    ; Generate random seed value\n\nkrnd     randh  istep, irate, iseed  ; Generate random steps\nkrnd     = int(krnd + istep)/istep*2 ; Quantise steps\nkramp    oscili  1/irate, irate, 2   ; Generate index ramp\nkenv     oscili  1, irate, 3         ; Generate envelope\nkind     = (krnd + kramp)*ileng      ; Calculate and scale index\nasamp    table3  kind, 1, 1, 0, 1    ; Index Sample1\nout      asamp*kenv*ilevl            ; Level, envelope and output\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 32768 1 \"Sample1\" 0 4 0 ; Sample\nf2 0 8193 -7 0 8192 1             ; Index ramp\nf3 0 8193 -7 0 296 1 7600 1 296 0 ; Envelope trapezoid\n\n;   Strt  Leng  Levl  Rate  Steps\ni1  0.00  2.00  1.00  3.71  21.0\ni1  2.00  .     .     45.7  1000\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1        oscili    30000,p4,1 using interpolating oscillator and anti-tone control filter and exponential segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from atonex.orc and atonex.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr     1\n\n\na1        oscili    30000,p4,1\nkenv      expseg    p4,p3/2,3000,p3/2,p4\na1        atonex    a1,kenv,8\n          out       a1\n          endin\n\n\n\n\n\n</CsInstruments>\n<CsScore>\nf1 0 2048 11 80 0 1\n\ni1 0 5 100 \ni1 5 5 80 \ni1 10 5 440\n\n  \n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for BASS DRUM coded by Radu Grigorovici using drum sound and interpolating oscillator and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bdrum9.orc and bdrum9.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         44100\nksmps     =         1\nnchnls    =         2\n\n;ORC\ninstr     1                   ; BASS DRUM coded by Radu Grigorovici\nidur      =         p3\niamp      =         p4\nkamp1     linseg    p4/8, p3/16, 2*p4/3, 3*p3/16, 5*p4/6, p3/4, p4, p3/4, 5*p4/6, 3*p3/16, p4/2, p3/16, 0\nkamp2     linseg    0, p3/16, p4/2, 3*p3/16, p4/4, p3/4, p4/8, p3/4, p4/16, 3*p3/16, p4/32, p3/16, 0\nkfre      linseg    4000, p3/32, 220, p3-p3/16, 55,     3*p3/32, 20\nkcut      expseg    1, p3, 0.1\na11       oscili    kamp1, kfre, 1\na21       rand      kamp2\na22       butterlp  a21, 1000*kcut\na31       oscili    kamp1, 35, 1\na32       =         a31/8\na4        =         a11+a22+a32\na5        balance   a4, a11\n          outs      a5, a5\nendin\n\n</CsInstruments>\n<CsScore>\n\n\n;SCO\nf1 0  2048 10 1\n\nt 0 130\n\ni1 0 0.25 30000\ni1 1 . .\ni1 2 . .\ni1 3 . .\ni1 3.50 . .\ni1 3.75 . .\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1  \t\t= \t\tp6*p4                        ; IMAX using FM synthesis and interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Fm5.orc and Fm5.sco\n; Original files preserved in same directory\n\nsr    \t= \t\t44100\nkr    \t= \t\t4410\nksmps \t= \t\t10\nnchnls    =         1\n\n; =========================================================================== ;\n; This instrument implements double carrier fm to impart a formant at 1500 Hz ;\n; p4 = freq in Hz   p5 = amp   p6 = modulation index  p7 = fc2 amp factor     ;\n; =========================================================================== ;\n\n\n\t\tinstr \t1\ni1  \t\t= \t\tp6*p4                        ; IMAX\ni2  \t\t= \t\tp7                           ; FACTOR FOR REDUCING AMP OF fc2\ni3  \t\t= \t\tint((1500/p4)+.5)            ; FORMANT AT FREQ OF HARMONIC CLOSEST TO 1500 Hz\ni3  \t\t= \t\ti3 * p4                      ; fc2\ni4  \t\t= \t\tp4                           ; fc1\nampenv1 \tlinen   \ti1,p3*.1,p3,p3*.9\nampenv2 \tlinen   \tp5,.01,p3,.01\nampenv3 \tlinen   \tampenv2*.2,.04,p3,.04\na1      \toscili  \tampenv1,i4,1\na2      \toscili  \tampenv2,a1+p4,1\na3      \t=       \ti2*a1\na4      \toscili  \tampenv3,a3+i3,1\n\t\tout     \ta2+a4\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 512 9 1 1 0\n\ni1    0.0     0.1    261     10000   2.6     .2\ni1    0.5     0.5    440\ni1    1.5     1.5    880\ni1    4.0     3.0    261\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Circular Pan using arpeggio and panning and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from CircularPan.orc and CircularPan.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 2\n\n\ninstr    1 ; Circular Pan\n\nilevl    = p4     ; Output level\nirate    = p5     ; Pan rate\nilr      = p6/2   ; Left to Right depth\nifb      = p7/2   ; Front to Back depth\nipos     = p8/360 ; Start position in degrees: 0/360=Nearest\nidir     = p9/2   ; Direction\n\nain      soundin  \"Marimba.aif\"\n\nklfo1    oscili  ilr, irate, 1, ipos + idir ; L to R sine\nklfo1    = klfo1 + .5                       ; Scale\nklfo2    oscili  ifb, irate, 1, ipos + .75  ; F to B cosine\nklfo2    = 1 - (klfo2 + ifb)                ; Scale\nain      = ain*klfo2                        ; F to B modulation\nal       = ain*sqrt(klfo1)                  ; L pan\nar       = ain*sqrt(1 - klfo1)              ; R pan\nouts     al*ilevl, ar*ilevl                 ; Level and output\n\nendin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 10 1 ; Sine\n\n;Start (position) in degrees: 0/360=Nearest\n\n;   Strt  Leng  Levl  Rate  L-R   F-B   Start Direction\ni1  0.00  1.47  1.00  0.68  1.00  1.00  0     0\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for seed                p7 using interpolating oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from seed.orc and seed.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\nseed                p7\nk1        gauss_k   p5\nk2        gauss_k   p6\naenv      linseg    1, p3-.05, 1, .05, 0, .01, 0\na1        oscili    p4/2, 333, 1\na2        oscili    p4/2, 333+k1, 1\na3        oscili    p4/2, 333+k2, 1\n          out       (a1+a2+a3)*aenv\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\n\ni1 0 2  1000  3000 5  10000\ni1 4 2  1000  3000 5  5000\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1        oscili    10000,p4,1 using interpolating oscillator and exponential segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from lowres.orc and lowres.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n\n          instr     1\n\n\na1        oscili    10000,p4,1\nkenv      expseg    10,p3/2,500,p3/2,10\na1        lowres     a1,kenv,p5\n          out       a1\n          endin\n\n\n\n\n</CsInstruments>\n<CsScore>\nf1 0 2048 11 80 0 .9\n\ni1 0 5 100 2\ni1 5 5 30 15\ni1 10 5 200 7\n\n  \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Variable ramp VCO using interpolating oscillator and analog-style oscillator and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from VCO-Ramp.orc and VCO-Ramp.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 4410\nksmps    = 10\nnchnls   = 1\n\n\ninstr    1 ; Variable ramp VCO\n\nilevl    = p4*32767   ; Output level\nifreq    = cpspch(p5) ; Pitch\nishape   = p6         ; Ramp shape\n\naramp    oscili  1, ifreq, 1\naramp1   limit  aramp, 0, ishape\naramp2   limit  aramp, ishape, 1\naramp3   = aramp1*(1/ishape) - (aramp2 - ishape)*1/(1 - ishape)\naout     = (aramp3 - .5)*2\nout      aout*ilevl\n\nendin\n</CsInstruments>\n<CsScore>\nf01 0 8193 -7 0 8192 1 ; Ramp\n\n;     Strt  Leng  Levl  Pitch Shape\ni01   0.00  1.00  1.00  06.00 0.25\ni01   +     .     .     .     0.50\ni01   +     .     .     .     0.75\ni01   +     .     .     .     0.999\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Variable ramp VCO using interpolating oscillator and analog-style oscillator and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from VCORamp.orc and VCORamp.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Variable ramp VCO\n\nilevl    = p4*32767   ; Output level\nifreq    = cpspch(p5) ; Pitch\nishape   = p6         ; Ramp shape\n\naramp    oscili  1, ifreq, 1\naramp1   limit  aramp, 0, ishape\naramp2   limit  aramp, ishape, 1\n\naramp3   = aramp1*(1/ishape) - (aramp2 - ishape)*1/(1 - ishape)\naout     = (aramp3 - .5)*2\nout      aout*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 -7 0 8192 1 ; Ramp\n\n;   Strt  Leng  Levl  Pitch Shape\ni1  0.00  1.00  1.00  08.00 0.25\ni1  +     .     .     .     0.50\ni1  +     .     .     .     0.75\ni1  +     .     .     .     0.999\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Variable Pulse VCO using interpolating oscillator and analog-style oscillator and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from VCO-Pulse.orc and VCO-Pulse.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 4410\nksmps    = 10\nnchnls   = 1\n\n\ninstr    1 ; Variable Pulse VCO\n\nilevl    = p4*32767   ; Output level\nifreq    = cpspch(p5) ; Pitch\nishape   = p6         ; Pulsewidth\n\nasaw     oscili  1, ifreq, 1\nasaw1    limit  asaw, 0, ishape\nasaw2    limit  asaw, ishape, 1\naramp    = asaw1*(.5/ishape) + (asaw2 - ishape)*(.5/(1 - ishape))\napulse   table  aramp, 2, 1\nout      apulse*ilevl\n\nendin\n</CsInstruments>\n<CsScore>\nf01 0 8193 -7 0 8192 1             ; Ramp\nf02 0 4096 7 1 2048 1 0 -1 2048 -1 ; Square\n\n;     Strt  Leng  Levl  Pitch Pulsewidth\ni01   0.00  1.00  1.00  06.00 0.25\ni01   +     .     .     .     0.50\ni01   +     .     .     .     0.75\ni01   +     .     .     .     0.999\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for FOR THE WAVES using interpolating oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from WAVES.ORC and WAVES.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n; INSTRUMENT FOR THE WAVES\n\n\n;p4            =         freq expressed in octave.point.decimal notation\n;p5            =         amp\n\n               instr     1\ni1             =         cpsoct(p4)                              ;CONVERT OCT.NOTATION TO HZ\na1             oscili    p5,i1,1                                 ;USE OSCILI FOR CLEAN SOUND\naenv           linseg    0,p3/2,1,p3/2,0,.01,0                   ;TACK ON GUARD POINTS TO AVOID CLICKS\nout            aenv*a1                                           ;MULTIPLY AUDIO SIGNAL BY AMP ENVELOPE\n               endin\n\n\n</CsInstruments>\n<CsScore>\n; SCORE FOR THE WAVES\n\nf1 0 512 9 1 1 0\n\n;       start   dur     freq    amp\ni1      0       3.5     8.00    10000\ni1      .       .       7.99    .\ni1      .       .       8.01    .\ni1      3       4.2     7.51    .\ni1      .       .       7.50    .\ni1      .       .       7.49    .\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for seed      p7 using interpolating oscillator and amplitude balance and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from strset.orc and strset.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n\n; strset.orc\n\n          strset    1,\"hellorcb.aif\"\n          strset    2, \"brass.aif\"\n          \nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n          \n          instr 1\n          seed      p7\nk1        gauss     p5\nk2        gauss     p6\naenv      linseg    1, p3-.05, 1, .05, 0, .01, 0\na1        oscili    p4/2, 333, 1\na2        oscili    p4/2, 333+k1, 1\na3        oscili    p4/2, 333+k2, 1\na4        soundin   p8\namix      =         (a4*(a1+a2+a3))*aenv\namix      balance   amix, a4\n          out       amix\n            \n          endin\n\n</CsInstruments>\n<CsScore>\n; strset.sco\n\nf1 0 1024 10 1\n\ni1 0 2  1000  3000 5  10000  1\ni1 4 2  1000  3000 5  10000  2\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for 4-way vector mixer with LFOs using interpolating oscillator and linear segments and disk streaming", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from VectorMix.orc and VectorMix.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 4410\nksmps    = 10\nnchnls   = 1\n\n\ninstr    1 ; 4-way vector mixer with LFOs\n\nilevl    = p4 ; Output level\nirate1   = p5 ; X LFO rate\nirate2   = p6 ; Y LFO rate\n\nkdclick  linseg  0, .002, 1, p3 - .004, 1, .002, 0\nalfo1    oscili  1, irate1, 1\nalfo2    oscili  1, irate2, 1\nain1     diskin  \"Sample1\", 1, 0, 1\nain2     diskin  \"Sample2\", 1, 0, 1\nain3     diskin  \"Sample1\", 1, 0, 1\nain4     diskin  \"Sample2\", 1, 0, 1\naout1    = ain1*alfo1 + ain2*(1 - alfo1)\naout2    = ain3*alfo1 + ain4*(1 - alfo1)\naout     = aout1*alfo2 + aout2*(1 - alfo2)\nout      aout*kdclick*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\nf01 0 4097 -7 0 2048 1 2048 0 ; Unipolar triangle\n\n;     Strt  Leng  Levl  RateX RateY\ni01   0.00  4.00  1.00  3.37  1.21\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Variable Pulse VCO using interpolating oscillator and analog-style oscillator and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from VCOPulse.orc and VCOPulse.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Variable Pulse VCO\n\nilevl    = p4*32767   ; Output level\nifreq    = cpspch(p5) ; Pitch\nishape   = p6         ; Pulsewidth\n\nasaw     oscili  1, ifreq, 1\nasaw1    limit  asaw, 0, ishape\nasaw2    limit  asaw, ishape, 1\n\naramp    = asaw1*(.5/ishape) + (asaw2 - ishape)*(.5/(1 - ishape))\n\napulse   table  aramp, 2, 1\n\nout      apulse*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 -7 0 8192 1             ; Ramp\nf2 0 4096 7 1 2048 1 0 -1 2048 -1 ; Square\n\n;   Strt  Leng  Levl  Pitch Pulsewidth\ni1  0.00  1.00  1.00  06.00 0.25\ni1  +     .     .     .     0.50\ni1  +     .     .     .     0.75\ni1  +     .     .     .     0.999\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1        oscili    30000,p4,1 using interpolating oscillator and tone control filter and exponential segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from tonex.orc and tonex.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr     1\n\n\na1        oscili    30000,p4,1\nkenv      expseg    p4,p3/2,11000,p3/2,p4\na1        tonex     a1,kenv,8\n          out       a1\n          endin\n\n\n\n\n</CsInstruments>\n<CsScore>\nf1 0 2048 11 80 0 .9\n\ni1 0 5 100 \ni1 5 5 80 \ni1 10 5 440\n\n  \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Advances through Sample by repeating slices using interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Slicer.orc and Slicer.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 1\n\n\ninstr    1 ; Advances through Sample by repeating slices\n\nilevl    = p4*32767                     ; Output level\nirate    = p5                           ; Slicing rate\nishift   = p6                           ; Distance traversed through Sample1\nistep    = irate*p3                     ; Number of steps\nileng    = ftsr(1)/ftlen(1)             ; Sample1 length\n\nkstep    oscili  istep, 1/p3, 2         ; Generate ramp at 1/p3\nkstep    = (int(kstep))/(istep - 1)     ; Quantise ramp\nkramp    oscili  1/irate, irate, 2      ; Generate ramp at irate\nkenv     oscili  1, irate, 3            ; Generate envelope\nkind     = (kstep*ishift + kramp)*ileng ; Calculate and scale index\nasamp    table3  kind, 1, 1, 0, 1       ; Sample1 indexing\naout     = asamp*kenv*ilevl             ; Calculate and scale output\nout      aout                           ; Output\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 32768 1 \"Sample1\" 0 4 0 ; Sample1\nf2 0 8193 -7 0 8192 1           ; Index ramp\nf3 0 8193 -7 0 96 1 8000 1 96 0 ; Envelope trapezoid\n\n;   Strt  Leng  Levl  Rate  Traversed: 1=100%\ni1  0.00  4.00  1.00  12.0  1.00\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for START I13 AFTER .5 SEC (NOT) using interpolating oscillator and linear segments and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n;<CsOptions>\n\n;</CsOptions>\n<CsInstruments>\nsr             =              44100\nkr             =              441\nksmps          =              100\nnchnls         =              1\n\ninstr 1\n     ; START I13 AFTER .5 SEC (NOT)\n               schedule       13, .5, 2.33, 550, 0\nendin\n\ninstr 2\n     ; START I3 AFTER 1 SEC \n     ;   SINCE THIS DOESN'T WORK, IT STARTS AFTER 4.0 INSTEAD OF 5.0 SECS\n     ; IT SHOULD BE TURNED OFF AFTER 2.33 SECS, BUT HANGS UNTIL NEXT SCORE EVENT\n               schedwhen      1, 13, 1, 2.33, 440\nendin\n\ninstr 13\n     ; ITIME IS ACTUAL START TIME, P2 IS THE INTENDED, \n     ; AND P4=P3, P5=P4 IF STARTED BY SCHEDWHEN\n               itime          times     \n               print          itime, p2, p3, p4, p5\n\n     ; SINCE P4 WON'T ALWAYS BE CORRECT, WE SET A START PITCH HERE\n     kpitch    line           440, p3, p4\n     ; NOW WE'RE NAUGHTY TO RUB IN THE POINT: THIS LINSEG CONTINUES BEYOND P3\n     ; - BUT THE ERROR SHOWS EVEN IF YOU REMOVE THE LAST \", .5, 20000\" ARGS\n     kamp      linseg         25000, p3-.1, 25000, .1, 0, .5, 20000\n     ar        oscili         kamp, kpitch, 1\n               out            ar\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 4096 10 1\n\ni1 0 3.5\ni2 4 6\nf0 10\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kamp \t= \t\tp4\t\t\t\t\t; OVERALL AMPLITUDE. using interpolating oscillator and white noise and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Scrape.orc and Scrape.sco\n; Original files preserved in same directory\n\nsr\t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\nnchnls \t= \t\t1\n\n;************************************** orchestra ; Scrape.orc\n; Damian Keller. June 1997.\n; Scraping floors. Gaussian noise is shaped by a sine function.\n\n\t\t\t\t\t\t\t\t\t\n\t\tinstr 1\nkamp \t= \t\tp4\t\t\t\t\t; OVERALL AMPLITUDE.\nidur \t= \t\tp3\t\t\t\t\t; DURATION\n; CONTROL\nkramp\tlinseg \t1, idur, 0\t\t\t; INTENSITY.\nkrate\tlinseg\t2, idur, .2\t\t\t; RATE OF SCRAPING\n\t\t\t\n; SOURCE: GAUSSIAN NOISE.\na1\t\tgauss_a kramp\t\t\t\n\t\t\t\t\t\t\n; WINDOWED WITH SINE.\na2\t\toscili\t1, krate, 1\t\t \na3\t\t= \t\ta1 * a2 * kamp\n    \t\tout \t\ta3\t\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n;************************************** score *****************************************\n; Scrape.sco\n\n; sine weights control spectral regions.\nf1 0 513 10 1 \n\n;       st  dur     amp     \ni1      0   10      30000\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for k1             linen     p4,p6,p3,p7 using interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from INTRO.ORC and INTRO.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n; INTRO.O - A SIMPLE ORCHESTRA WITH ONE INSTRUMENT.  THIS INSTRUMENT \n; CONSISTS OF ONE OSCILLATOR WITH AMPLITUDE DEFINED BY A LINEN STATEMENT\n\n\n; p3           =         DURATION OF A NOTE\n; p4           =         MAN AMPLITUDE FOR LINEN STATEMENT\n; p5           =         FREQUENCY IN HZ\n; p6           =         ATTACK TIME IN SECONDS\n; p7           =         DECAY TIME IN SECONDS\n\n               instr     1\nk1             linen     p4,p6,p3,p7\na1             oscili    k1,p5,1\n               out       a1\n               endin\n\n</CsInstruments>\n<CsScore>\n; INTRO.S - A SIMPLE SCORE USING INSTRUMENT 1 FROM INTRO.O\n\n; WAVEFORM FOR THE OSCILLATOR - A SINE WAVE\n\nf1 0 1024       9       1       1       0\n\n;       start   dur     amp     freq    attack  decay\ni1      1       3.5     10000   263.6   .5      1.5\ni1      2       .       .       349.2   .       .\ni1      3       .       .       392.2   2.0     .1\ni1      4       .       .       523.2   .       .\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Crossfades between 2 inputs at audio or LFO rates using cross-synthesis and interpolating oscillator and marimba physical model", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Crossfade.orc and Crossfade.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Crossfades between 2 inputs at audio or LFO rates\n\nilevl    = p4 ; Output level\nirate    = p5 ; Rate\nitabl    = p6 ; Waveshape\n\nain1     soundin  \"oboe.mf.C4B4.aiff\"\nain2     soundin  \"Marimba.aif\"\naosc     oscili  1, irate, itabl\naout     = ain1*aosc + ain2*(1 - aosc)\nout      aout*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 10 1                        ; Sine\nf2 0 8193 7 0 8192 1                  ; Linear Ramp\nf3 0 8193 7 1 4080 1 16 0 4080 0 16 1 ; Switcher\n\n;   Strt  Leng  Levl  Rate  Table\ni1  0.00  1.47  1.00  8.00  3\ni1  2.00  .     .     0.68  2\ni1  4.00  .     .     500   1\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a sine sound using interpolating oscillator and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from sine.orc and sine.sco\n; Original files preserved in same directory\n\nsr        =         44100          \nkr        =         4410       \nksmps     =         10    \nnchnls    =         1         \n\n;*******************************************************\n;;         basic orchestra file                          \n;;                                                       \n;;         p3 = duration        p4 = amplitude           \n;;         p5 = pitch in pch                             \n;;                                                       \n;;*******************************************************;          \ninstr     1         \nasig      oscili    p4,cpspch(p5),1                 \n          out       asig              \n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0.0 512 10 1\ni1 0.0 1.0 10000 8.09\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kx, ky    xyin      .1, 0, 320, 0, 240 using test/demonstration and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from xyintest.orc and xyintest.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr     1\nkx, ky    xyin      .1, 0, 320, 0, 240\n;         display   ky,1\naout      oscili    ky * 500, 200 + kx, 1\n          out       aout\n          endin\n\n</CsInstruments>\n<CsScore>\nf1   0    4097 10   1\n\ni1   0    15\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1        oscili    30000,p4,1 using interpolating oscillator and resonant filter bank and exponential segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from resonx.orc and resonx.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr     1\n\n\na1        oscili    30000,p4,1\nkenv      expseg    p4,p3/2,11000,p3/2,p4\na1        resonx    a1,kenv,400,4,1\n          out       a1*2\n          endin\n\n\n\n\n</CsInstruments>\n<CsScore>\nf1 0 2048 11 80 0 .9\n\ni1 0 5 100 \ni1 5 5 80 \ni1 10 5 440\n\n  \n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1        oscili    5000,p4,1 using interpolating oscillator and exponential segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from lowresx.orc and lowresx.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n\n          instr     1\n\n\na1        oscili    5000,p4,1\nkenv      expseg    10,p3/2,500,p3/2,10\na1        lowresx    a1,kenv,p5,4\n          out       a1\n          endin\n\n\n\n\n</CsInstruments>\n<CsScore>\nf1 0 2048 11 80 0 .9\n\ni1 0 5 100 .5\ni1 5 5 30 .8\ni1 10 5 200 .4\n\n  \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp      =         p4 using interpolating oscillator and Hilbert transform and disk streaming", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from hilbert.orc and hilbert.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n; ------------------------------------------------------------------\n;  SSB.ORC\n;  AN IMPLEMENTATION OF A HILBERT-TRANSFORMER FREQUENCY SHIFTER.\n;  Roger Klaveness , March 1999\n\n\n\ngisintab  ftgen     0,0,4096,10,1\n\n          zakinit   2,1\n\n; DISKIN STEREO\n          instr 1\n\niamp      =         p4\nipitch    =         p5  \nifil      =         p6\nioffset   =         p7 \nizakl     =         p8\nizakr     =         p9\n\nal,ar     diskin    ifil,ipitch ,ioffset\n          zaw       iamp*al,izakl\n          zaw       iamp*ar,izakr\n\n          endin\n\n; DISKIN MONO\n          instr 2\n\niamp      =         p4\nipitch    =         p5  \nifil      =         p6\nioffset   =         p7 \nizak      =         p8\n\nadisk     diskin    ifil,ipitch ,ioffset\n          zaw       iamp*adisk,izak\n\n          endin\n\n\n; SSB INSTRUMENT\n          instr 10\nidur      =         p3 \niamp      =         p4\nienvtab   =         p5\nipitchtab =         p6 \nizak      =         p7\n\nkenv      oscili    iamp,1/idur,ienvtab \nkpitch    oscili    1,1/idur,ipitchtab ;sin\n\nasinmod   oscili    1,kpitch,gisintab\nacosmod   oscili    1,kpitch,gisintab,0.25\n\nain       zar       izak\n\n;------------------------------------------------------------------\n; HILBERT TRANSFORM, 11-ORDER FIR\n \nigain     =         1.570796327\n\naxv0      init      0\naxv1      init      0\naxv2      init      0\naxv3      init      0\naxv4      init      0\naxv5      init      0\naxv6      init      0\naxv7      init      0\naxv8      init      0\naxv9      init      0\naxv10     init      0\n\naxv0      =         axv1\naxv1      =         axv2\naxv2      =         axv3\naxv3      =         axv4\naxv4      =         axv5\naxv5      =         axv6\naxv6      =         axv7\naxv7      =         axv8\naxv8      =         axv9\naxv9      =         axv10\naxv10     =         ain/igain;\n\nahilb     =         .0160000000 * (axv0 - axv10) + .1326173942 * (axv2 - axv8) + .9121478174 * (axv4 - axv6)\n;----------------------------------------------------------------------------------------------------------------\n\namod1     =         ahilb*asinmod\namod2     =         ain*acosmod\n\n          outs      amod2-amod1,amod1+amod2\n\n\n          endin\n\n</CsInstruments>\n<CsScore>\n; ------------------------------------------------------------------\n; ssb.sco\n\nf1 0 1024 -10 1 2 4 1 3 ;ssb-pitch\n;f1   0   256 -7 5 128 3000 128 0 ;ssb-pitch\nf2   0   256 -7 0 28 1 200 1 28   0 ;amp\n\n; diskin\n;       amp pitch fil offset zakl zakr\ni1 0 30 1   1     5   0      1    2\n\n;ssb\n;   start dur amp envtab pitchtab zak\ni10 0     30  1   2      1        1\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 40_02_1.orc and 40_02_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:      40_02_1.ORC\n; timbre:     clarinet-like\n; synthesis:  waveshaping(40)\n;             basic instrument with duration dependent envelope(02)\n; source:     Risset(1969)\n;             #150 Serial Excerpt with Clarinet-like Sounds by Nonlinearity\n; coded:      jpg 8/93\n\n\ninstr 1; *****************************************************************\nidur  = p3\niamp  = p4\nifqc  = cpspch(p5)\n\nidec  =  .64                             ; idec for idur > .75\nif idur >.75 igoto start\nidec  =  idur - .085                     ; idec for idur <= .75\n\nstart:\n        aenv    linen    255, .085, idur, idec      ; envelope\n        a1      oscili   aenv, ifqc, 1              ; sinus\n        a1      tablei   a1  + 256, 31              ; transfer function\n                out      a1 * iamp                  ; scale to amplitude\nendin\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:   40_02_1.SCO\n; source:  Risset (1969)\n;          #150 Serial Excerpt with Clarinet-like Sounds by Nonlinearity\n; coded:   jpg 8/93\n\n\n; GEN functions **********************************************************\nf1   0 2048 10 1                           ; sinus\n\nf31  0  512  7 -1 200 -.5 112 .5 200 1     ; transfer function waveshaper\n\n\n\n; score ******************************************************************\n\n;           idur   iamp   ipch\ni1  0.000   0.750  8000   7.04\ni1  0.750   0.250  .      7.07\ni1  1.000   1.000  .      8.00\ni1  2.000   0.200  .      8.02\ni1  2.200   0.200  .      8.04\ni1  2.400   0.200  .      8.05\ni1  2.600   0.200  .      9.00\ni1  2.800   0.200  .      9.04\ni1  3.000   0.250  .      9.05\ni1  3.250   0.250  .      9.00\ni1  3.500   0.250  .      8.05\ni1  3.750   0.250  .      8.00\ni1  4.000   1.000  .      7.04\ni1  5.000   0.125  .      7.07\ni1  5.125   0.125  .      8.00\ni1  5.250   0.125  .      8.02\ni1  5.375   0.125  .      8.04\ni1  5.500   0.125  .      8.05\ni1  5.625   0.125  .      9.00\ni1  5.750   0.125  .      9.04\ni1  5.875   0.125  .      9.05\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a octavematching sound using interpolating oscillator and white noise and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from OctaveMatching.orc and OctaveMatching.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2 \n\n\n;****************************************   OCTAVE MATCHING   ****************************************\n; EXPERIMENTS ON OCTAVE MATCHING USUALLY INDICATE A PREFERENCE FOR RATIOS THAT ARE GREATER THAN 2.0. \n; THIS PREFERENCE FOR STRETCHED OCTAVES IS NOT WELL UNDERSTOOD. IT IS ONLY PARTLY RELATED TO OUR EXPER-\n; IENCE WITH HEARING STRETCH-TUNED PIANOS. MORE LIKELY, IT IS RELATED TO THE PHENOMENON WE ENCOUNTERED\n; IN \"INFLUENCE OF MASKING NOISE ON PITCH\"., ALTHOUGH IN THAT DEMONSTRATION THE TONES ARE PRESENTED AL-\n; TERNATELY RATHER THAN SIMULTANEOUSLY.\n; IN THIS DEMONSTRATION, A 500HZ TONE OF ONE SECOND DURATION ALTERNATES WITH ANOTHER TONE THAT VARIES\n; FROM 985 TO 1035HZ IN STEPS OF 5HZ. WHICH ONE SOUNDS LIKE A CORRECT OCTAVE? MOST LISTENERS WILL PRO-\n; BABLY SELECT A TONE SOMEWHERE AROUND 1010HZ.\n\n;*******************************************   HEADER   **********************************************\n\n\n \n \n instr         1\n\n iamp          =         ampdb(p4)                ;P4 = AMPLITUDE IN DB \n ifreq         =         p5                       ;P5 = FREQUENCY\n \n k1            linen     iamp,.03,p3,.03         \n a1            oscili    k1,ifreq,1             \n               outs      a1,a1\n endin  \n\n\n</CsInstruments>\n<CsScore>\n\nf1 0 1024 10 1  0 .4 .1 .2                                       ;SIMPLE TONE\n\n\n\n;*****************************************    OCTAVE MATCHING   **************************************\n\n;   p1      p2      p3    p4       p5      \n;  inst    strt    dur    amp     freq\n    i1     1.0     1.0    80      500\n    i1     2.5     1.0    80      985\n    i1     4.0     1.0    80      500\n    i1     5.5     1.0    80      990\n    i1     7.0     1.0    80      500\n    i1     8.5     1.0    80      995\n    i1    10.0     1.0    80      500\n    i1    11.5     1.0    80     1000\n    i1    13.0     1.0    80      500\n    i1    14.5     1.0    80     1005\n    i1    16.0     1.0    80      500\n    i1    17.5     1.0    80     1010\n    i1    19.0     1.0    80      500\n    i1    20.5     1.0    80     1015\n    i1    22.0     1.0    80      500\n    i1    23.5     1.0    80     1020\n    i1    25.0     1.0    80      500\n    i1    26.5     1.0    80     1025\n    i1    28.0     1.0    80      500\n    i1    29.5     1.0    80     1030\n    i1    31.0     1.0    80      500\n    i1    32.5     1.0    80     1035\n    e\n     \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ,2,3,4 using interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FORM.ORC and FORM.SCO\n; Original files preserved in same directory\n\nsr                  =         44100\nkr                  =         4410\nksmps               =         10\nnchnls              =         1\n\n;HOWARD FREDRICS\n;7:41PM  2/23/1989\n;MUS329J\n;\n;====================================================================;\n;                       FORMANT INSTRUMENT                          ;\n;====================================================================;\n;\n;                               HEADER\n;\n\n;=========================================================================;\n;                           PARAMETER FIELDS                         \n;\n;\n; P1   =       INSTRUMENT #\n; P2   =       START TIME\n; P3   =       DURATION IN SECONDS     (IDUR)\n; P4   =       MAX PEAK AMP OF NOTE    (IPKAMP)\n; P5   =       FUNDAMENTAL FREQUENCY   (IFUND)\n; P6   =       FORMANT FREQUENCY (CPS) (IWISHFORM)\n; P7   =       MAX FREQ. MOD. INDEX    (INDEX)\n; P8   =       FM M:C RATIO FOR FUND   (IRATIO)\n; P9   =       ATTACK TIME IN SEC.     (ITAK)\n; P10  =       DECAY TIME IN SEC.      (IDEC)\n; P11  =       RELATIVE AMP OF FORMANT (IFORMAMP)\n; P12  =       INITIAL P3 (TO BE USED IN CONVERTING ATT & DEC FROM BEATS TO SECS.\n; P13  =       DUMMY P-FIELD\n;=========================================================================;\n;\n;                              INITIALIZATION BLOCK\n;\n        instr       1,2,3,4\n        idummy      =         p13                 ;DUMMY P-FIELD TO SUPPRESS WARNING\n        ioctmid     =         3+(p5/12)           ;FUNDAMENTAL (P5) CONVERTED FROM MIDI NN TO OCT (YES, I LIKE MIDI NOTE NUMBERS...GETTING CAUGHT IN THE RAIN....(R.HOLMES)\n        ifund       =         cpsoct(ioctmid)     ;FUNDAMENTAL CONVERTED FROM OCT TO CPS\n        iwishform   =         p6                  ;DESIRED FORMANT FREQUENCY IN CPS\n        iactform    =         int((iwishform/ifund)+.5)*ifund    ;FORMANT FREQ. SHIFTED TO NEAREST INTEGER HARMONIC\n        iratio      =         p8                  ;M:C RATIO FOR FUND (WHERE FUND[CARRIER] RATIO ALWAYS = 1)\n        imod        =         ifund*iratio        ;FMOD IS A MULTIPLE OF THE FUND[CARRIER]\n        index       =         p7*imod             ;FMI FOR FUNDAMENTAL\n        ifindex     =         p11*index           ;FMI FOR FORMANT AS FUNCTION OF REL AMPLITUDE\n        ifunfordex  =         index/ifindex       ;CAUSE FORMANT INDEX TO BE VARIED ALONG WITH FUND INDEX\n        ipkamp      =         p4                  ;PEAK AMP IS TO BE ENTERED IN VALS 0-1.  VAL LATER SCALED TO 16 BIT DAC\n        iformamp    =         p11                 ;RELATIVE FORMANT WEIGHT IN VALS 0-1\n        ifundamp    =         (1-p11)             ;RELATIVE FUND WEIGHTING AS REMAINING FACTOR OF VAL BETWEEN 0-1\n        idur        =         p3                  ;DURATION IN SECS\n        itempo      =         idur/p12            ;RATIO OF SECS/BEATS\n        itak        =         p9*itempo           ;ATTACK TIME\n        idec        =         p10*itempo          ;DECAY TIME\n        imodtak     =         itak*1.5            ;ATTACK FOR MOD GATE\n        imoddec     =         idec*.8             ;DECAY FOR MOD GATE\n;\n;===========================================================================\n;\n;                              PERFORMANCE BLOCK\n;\n;\n        kmgate      linen     1,imodtak,idur,imoddec        ;LINEAR ENVELOPE FOR MODULATOR\n        amod        oscili    index*kmgate,imod,1           ;MODULATOR SIGNAL\n        kgate       linen     ipkamp,itak,idur,idec         ;LINEAR ENVELOPE\n        afund       oscili    kgate*ifundamp,ifund+amod,1   ;FUNDAMENTAL SIGNAL\n        aform       oscili    kgate*iformamp,iactform+(ifunfordex*amod),1       ;FORMANT SIGNAL\n                    out       (afund+aform)*32767           ;SEND IT OUT SCALED TO 16 BIT DAC\n                    endin\n        \n\n</CsInstruments>\n<CsScore>\n;HOWARD FREDRICS\n;7:41PM  2/23/1989\n;MUS329J\n;\n;====================================================================;\n;                       FORMANT SCORE                          \n;====================================================================;\n;\n; TEMPO IN BEATS/MIN\nt00     60      5       60      5       120\n; SIMPLE SINE FUNCTION\nf01     0       512    10       1\n; Ramp\nf02     0       513     7       0       512     1\n; EXPONENTIAL RISE\n;f03     0       513     5       .001    512     1\n; QUARTER SINE WAVE IN 128 LOCS + EXTENDED GUARD POINT\n;f04     0       129     9       .25     1       0\n; QUARTER COSINE\n;f05     0       129     9       .25     1       90\n; TRIANGULAR WAVE\n;f06     0       512     10      1   0 .111   0  .04    0  .02    0 .012\n; SAWTOOTH WAVE\n;f07     0       512     10      1  .5   .3 .25   .2 .167  .14 .125 .111\n; SQUARE WAVE\n;f08     0       512     10      1   0   .3   0   .2    0  .14    0 .111\n; NARROW PULSE\n;f09     0       512     10      1 1  1   1 .7 .5 .3 .1\n; EXPONENTIAL RISE AND DECAY\n;f10     0       513     5       .1      32      1       480     .01\n; REVERSE PYRAMID\n;f11     0       513     7       1       256     0       256     1\n;=========================================================================;\n;                           PARAMETER FIELDS                         \n; P1   =       INSTRUMENT #\n; P2   =       START TIME\n; P3   =       DURATION IN SECONDS     (IDUR)\n; P4   =       MAX PEAK AMP OF NOTE    (IPKAMP)\n; P5   =       FUNDAMENTAL FREQUENCY   (IFUND)\n; P6   =       FORMANT FREQUENCY       (IFORM)\n; P7   =       MAX FREQ. MOD. INDEX    (INDEX)\n; P8   =       FM M:C RATIO FOR FUND   (IRATIO)\n; P9   =       ATTACK TIME IN SEC.     (ITAK)\n; P10  =       DECAY TIME IN SEC.      (IDEC)\n; P11  =       RELATIVE AMP OF FORMANT (IFORMAMP)\n; P12  =       INITIAL P3              (TO BE USED IN CONVERTING ATT & DEC FROM BEATS TO SECS.\n; P13  =       DUMMY P-FIELD\n;\n;ins    strt    dur     amp     fund    form    index   ratio   att     dec     famp    b/s     dummy\n;---    ----    ---     ---     ----    ----    -----   -----   ---     ---     ---     ---     -----\ni1      0       1       .8      60      1000    5       2       .1      .2      .3      np13    0\ni1      1       .5      .       50      .       .       .       .       .       .       .       pp3\ni1      +       .       .       52\ni1      +       2       .       52      2000    .       .       .5      .       .       2\ne\n       \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for SURFACE GENERATOR using interpolating oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from wts3.orc and wts3.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n          instr 1             ; SURFACE GENERATOR\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\np3        =         .01\ngisize    =         256                      ; NUMBER AND SIZE OF THE TABLES\ngifn0     =         301\nkrow      init      0\n\n; FILL isize TABLES OF SIZE isize TO CREATE THE SURFACE\nloop:\niftnum    =         gifn0+i(krow)\niafno     ftgen     iftnum, 0, gisize , 9, 1, 1, 90 ; X = COS()\n\nkrow      =         krow + 1\n          if        krow >= gisize + 2 goto end\n          reinit    loop\n\nend:\n          endin\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n          instr 2             ; ORBIT & WAVEFORM GENERATOR\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\ninote     =         p4\niamp      =         20000\n\n; SET A SPIRAL OF KRADIUS TO INDEX THE SURFACE\n\nkradius   linseg    .05, p3/2, .45, p3/2, .05\nkx        oscili    kradius, inote, 1        ; SINE\nky        oscili    kradius, inote, 1, 1/4   ; COSINE\n\n; NOTICE THAT THE SPIRAL IS CENTERED AT (.5,.5)\n; BECAUSE fn1 GOES FROM 0 TO 1\n; MAP THE ORBIT THROUGH THE SURFACE\n; TABLE INDEXES\n\nkfnup     =         int(1+ky*gisize) + gifn0\nkfndown   =         int(ky*gisize)   + gifn0\nkndxleft  =         int(kx*gisize)\nkndxright =         int(1+kx*gisize)\n\n;         igoto     end                      ; MAYBE YOUÂ´LL NEED IT IN 3.46 ...\n\n;         table     read\n\nazuplf    tablera   kfnup,   kndxleft,  0\nazdownlf  tablera   kfndown, kndxleft,  0\nazuprg    tablera   kfnup,   kndxright, 0\nazdownrg  tablera   kfndown, kndxright, 0\n\n; 2D LINEAR INTERPOLATION\n\nax        upsamp    frac(kx*gisize)\nay        upsamp    frac(ky*gisize)\n\naz        =         (1-ax)*ay*azuplf+(1-ax)*(1-ay)*azdownlf+ax*ay*azuprg+ax*(1-ay)*azdownrg\n\n; FINAL OUTPUT & ENDIN\n\n          out       iamp*az\n\nend:\n          endin\n\n\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 19 1 1 0 1; a sine wave from 0 to 1\ni1 0 1\ns\ni2 0 3 100\ni2 3 3 200\ni2 6 6 400\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kamp \t= \t\tp4 \t\t\t\t\t; AMPLITUDE using interpolating oscillator and white noise and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from BubbleSine.orc and BubbleSine.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\t\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t1\n\n;*********************************** orchestra ****************************************\n; BubbleSine.orc\n; Damian Keller. June 1997.\n; White noise controls phase through sine table. Bubble-like sound.\n;**************************************************************************************\n\t\t\t\t\t\t\t\t\t\n\t\tinstr 1\nkamp \t= \t\tp4 \t\t\t\t\t; AMPLITUDE\nkfreq\t= \t\tp5 \t\t\t\t\t; TIME PERIOD: RATE.\nkrise\t= \t\t.02\t\t\t\t\t; FREQUENCY RANGE.\n\t\t\nkdamp\tlinseg \t1, p3, 0\n\t\n; INDEX.\naindex \tphasor \tkfreq * kdamp\naindex1\t= \t\taindex * ftlen(2)\n\t\t\n; CONTROL.\t\na1\t\ttablei \taindex1, 2\t\t\t; f 2 IS A WHITE NOISE TABLE.\na2\t\t= \t\ta1 * (kamp * krise)\n\n; SOUND.\t\na3\t\toscili\tkamp, a2, 1\t\t\t; a2: PHASE THROUGH SINE FUNCTION.\n\t\n\t\tout \t\ta3\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n;**************************************** score ****************************************\n; BubbleSine.sco\n\nf1 \t0 513 10 1\t\t\t; SINE\nf2\t0 513 21 1 1\t\t; WHITE NOISE\n\ni1\t0 \t5\t30000\t.5\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur\t\t=\t    \tp3\t\t  \t\t; DURATION using interpolating oscillator and analog-style oscillator and buzz/pulse generator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from oscsync.orc and oscsync.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n\n;---------------------------------------------------------------\n; VCO WITH SYNC\n;---------------------------------------------------------------\n\t\tinstr     11\n\nidur\t\t=\t    \tp3\t\t  \t\t; DURATION\niamp\t\t=\t    \tp4\t\t  \t\t; AMPLITUDE\nifqc\t\t=\t    \tcpspch(p5)\t  \t; FREQUENCY\nifqc2\t=\t    \tifqc*p6\t  \t\t; FREQUENCY OF PSEUDO SYNCHED OSCILLATOR WRT BASE FREQUENCY\nifco\t\t=\t    \tp7*ifqc/500  \t\t; FILTER CUT-OFF FREQUENCY BASED, HIGHER PITCHES GET A HIGHER CUT OFF\n\nkrez\t\tinit    \tp8\t\t  \t\t; KREZ IS NOT CHANGING\nkfco\t\texpseg  \t100+.01*ifco, .2*idur, ifco+100, .5*idur, ifco*.1+100, .3*idur, .001*ifco+100 \t; FILTER ENVELOPE\nkamp\t\tlinseg  \t0, .01*idur, iamp, .2*idur, .8*iamp, .49*idur, .5*iamp, .2*idur, 0\t\t  \t; AMP ENVELOPE\n\nasaw2\tinit    \t0\n\napulse1\tbuzz    \t1, ifqc, sr/2/ifqc, 1\t\t; BAND-LIMITED IMPULSE TRAIN\napulse2\tbuzz    \t1, ifqc2, sr/2/ifqc2, 1\t\t; BAND-LIMITED IMPULSE TRAIN\n\nasaw\t\tinteg   \tapulse1\t\t\t\t\t; INTEGRATE THE PULSE FOR A SQUARE WAVE\n\naamp1\toscili  \t1, ifqc,  3\t\t\t\t; TURN ON THE GATE IN SYNC WITH THE IMPULSES\naamp2\toscili  \t1, ifqc2, 3\n\nasaw2\t=\t   \t(apulse1 + apulse2*aamp2*(1-aamp1))*(1.2-asaw2) + (1-ifqc/sr)*asaw2 \nasaw3\t=\t   \t1-asaw2\t\t\t\t\t\t\t\t; BASICALLY DON'T ADD TWO IMPULSES\n\naout\t\trezzy   \tasaw3, kfco, krez\n\n\t\touts    \taout*kamp, aout*kamp\n\n\t\tendin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 16384 10 1                          ; SINE\nf3 0 1024  -7 1 12 1 0 0 1000 0 0 1 12 1 ; PULSE: WIDER PULSES MAKE SOFTER SYNCS.\n\n; SYNTH WITH SYNC\n;   STA  DUR  AMP   PITCH  SYNCFQC  FCO   REZ\ni11 0    .5   20000 8.00   1.498   5000  20\ni11 +    .    .     7.07   .        .     .\ni11 .    .    .     8.05   .        .     .\ni11 .    .    .     9.00   .        .     .\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 01_01_1b.orc and 01_01_1b.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     01_01_1B.ORC\n; timbre:    electronic piano-like\n; synthesis: additive with same units(02)\n;            basic instrument(01) \n; source:    #301 Piano-like Excerpt, Risset(1969)\n; coded:     jpg 8/93\n\n\ninstr 1; *****************************************************************\nidur  =  p3\nifq1  =  p4\nif1   =  p5\niamp  =  p6\nif2   =  p7\n\n    a2  oscili  iamp, 1/idur, if2       ; envelope varies with note length\n    a1  oscili  a2, ifq1, if1           ; & harmonic richness with pitch\n        out     a1\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     01_01_1B.SCO\n; source:    #301 Piano-like Excerpt, Risset(1969)\n; coded:     jpg 8/93\n\n\n; GEN functions **********************************************************\n; carriers\n;                  f11 is for ifq1 < 250 Hz: ten weighted sinusoids\nf11 0  1024 10    .158 .316 1     1   .282 .112 .063 .079 .126 .071\n;                f12 is for ifq1 > 250 Hz: seven weighted sinusoids\nf12 0  1024 10   1     .282  .089  .1 .071 .089 .050\n\n; envelopes\nf31 0  1024   7  0   20  .99   380  .4  400  .2  224  0 ; duration < .2sec\nf51 0  1025   5  .0156 3 1 1021  .0156                  ; duration > .2sec\n\n\n\n; score ******************************************************************\n\n\nt 0 150  ; tempo is 150 beats per minute:\n         ; durations below change according to ratio 60/150 = idur * .4\n\n;   start  idur  ifq1  if1   iamp  if2\ni1   0     1.66   104   11   3000   51       ; time 0: pedal on ...\ni1   .      .     175\ni1   .      .     233\ni1   .      .     277   12\ni1   .      .     330\n\ni1   0.5    1.16  207   11   2500   51\ni1   .      .     349   12\ni1   .      .     440\ni1   .      .     554                        ; time 1.66: pedal off\n\ni1   1.66   .34   104   11   3000   31\ni1   1.66   .     175\ni1   1.66   .     233  \ni1   1.66   .     277   12\ni1   1.66   .     330 \n\ni1   2      1     207   11   4000   51\ni1   .      .     349   12\ni1   .      .     440\ni1   .      .     554\n\ni1   3      2     104   11   2500            ; time 3: pedal on ...\ni1   .      .     147\ni1   .      .     165\ni1   .      .     196\ni1   .      .     233\n\ni1   4      1     207   11   3000\ni1   .      .     294   12\ni1   .      .     330\ni1   .      .     392\ni1   .      .     494                        ; time 5: pedal off\n\ns\n; section 2: da capo of section 1\n\nt 0 150  ; tempo is 150 beats per minute:\n         ; durations below change according to ratio 60/150 = idur * .4\n\n;   start  idur  ifq1  if1   iamp  if2\ni1   0     1.66   104   11   3000   51       ; time 0: pedal on ...\ni1   .      .     175\ni1   .      .     233\ni1   .      .     277   12\ni1   .      .     330\n\ni1   0.5    1.16  207   11   2500   51\ni1   .      .     349   12\ni1   .      .     440\ni1   .      .     554                        ; time 1.66: pedal off\n\ni1   1.66   .34   104   11   3000   31\ni1   1.66   .     175\ni1   1.66   .     233\ni1   1.66   .     277   12\ni1   1.66   .     330\n\ni1   2      1     207   11   4000   51\ni1   .      .     349   12\ni1   .      .     440\ni1   .      .     554\n\ni1   3      2     104   11   2500            ; time 3: pedal on ...\ni1   .      .     147\ni1   .      .     165\ni1   .      .     196\ni1   .      .     233\n\ni1   4      1     207   11   3000\ni1   .      .     294   12\ni1   .      .     330\ni1   .      .     392\ni1   .      .     494                        ; time 5: pedal off\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and linear envelope and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 02_44_2b.orc and 02_44_2b.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:      02_44_2B.ORC\n; synthesis:  additive, same building blocks(02)\n;             continuous pitch control and amp control(44)\n; source:     endless.orc   MIT 1993\n; notes:      Prior to running this, make sure that the soundfile\n;             with the bell-shaped function that controls the amplitudes\n;             has been created: 88_01_2.\n; coded:      jpg 10/93\n\n\ninstr 1; *****************************************************************\nidur   =  p3\niamp   =  p4\nifq    =  p5\nicycle =  p6\n\nif (ifq >= 20) igoto    continue\nifq  =   cpspch (p5)    ; optional: p5 in oct.pch\ncontinue:\n   kphase  phasor  1/icycle     ; speed at which tables are scanned\n   kenvlp  linen   iamp, 1, idur, 1\n\n   kamp1   table   kphase,71,1,0,1\n   kcps1   tablei  kphase,51,1,0,1\n   asig1   oscili  kamp1,kcps1*ifq,1\n\n   kamp2   table   kphase+.1,71,1,0,1\n   kcps2   tablei  kphase+.1,51,1,0,1\n   asig2   oscili  kamp2,kcps2*ifq,1\n\n   kamp3   table   kphase+.2,71,1,0,1\n   kcps3   tablei  kphase+.2,51,1,0,1\n   asig3   oscili  kamp3,kcps3*ifq,1\n\n   kamp4   table   kphase+.3,71,1,0,1\n   kcps4   tablei  kphase+.3,51,1,0,1\n   asig4   oscili  kamp4,kcps4*ifq,1\n\n   kamp5   table   kphase+.4,71,1,0,1\n   kcps5   tablei  kphase+.4,51,1,0,1\n   asig5   oscili  kamp5,kcps5*ifq,1\n\n   kamp6   table   kphase+.5,71,1,0,1\n   kcps6   tablei  kphase+.5,51,1,0,1\n   asig6   oscili  kamp6,kcps6*ifq,1\n\n   kamp7   table   kphase+.6,71,1,0,1\n   kcps7   tablei  kphase+.6,51,1,0,1\n   asig7   oscili  kamp7,kcps7*ifq,1\n\n   kamp8   table   kphase+.7,71,1,0,1\n   kcps8   tablei  kphase+.7,51,1,0,1\n   asig8   oscili  kamp8,kcps8*ifq,1\n\n   kamp9   table   kphase+.8,71,1,0,1\n   kcps9   tablei  kphase+.8,51,1,0,1\n   asig9   oscili  kamp9,kcps9*ifq,1\n\n   kamp10  table   kphase+.9,71,1,0,1\n   kcps10  tablei  kphase+.9,51,1,0,1\n   asig10  oscili  kamp10,kcps10*ifq,1\n\n   asum =  asig1+asig2+asig3+asig4+asig5+asig6+asig7+asig8+asig9+asig10\n           out     asum*kenvlp         ; apply envelope    \nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:      02_44_2B.SCO\n; source:     endless.sco   MIT,1993\n; coded:      jpg, 10/93\n\n; GEN functions **********************************************************\n; carrier\nf1     0       512    10       1\nf31    0       513     7       0       512     1\nf51    0       513     5       1       512     .0009766\nf71    0      2049     1       \"Sflib/88_01_2.TAB\"       0      0     0\n;    p4 of f71(GEN 01) is positive: soundfile amps are post-normalized\n;    p4 negative: rescaling is skipped\n\n\n; score ******************************************************************\n\n; pitch studies\n\n;      idur   iamp    ifq    icycle time\ni1   0  20   10000   32000    100\ni1  21   .       .   16000      .\ni1  42   .       .    8000      .\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Stereo Harmoniser with Cross Feedback using interpolating oscillator and delay effect and delay line read", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Harmoniser.orc and Harmoniser.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 2\n\n\ninstr    1 ; Stereo Harmoniser with Cross Feedback\n\nilevl    = p4                              ; Output level\nishift1  = p5/120                          ; L Shift in 1/100th semitones +/-\nidelay1  = p6/1000                         ; L Delay in ms\nifdbk1   = p7                              ; L feedback\nishift2  = p8/120                          ; R Shift in 1/100th semitones +/-\nidelay2  = p9/1000                         ; R Delay in ms\nifdbk2   = p10                             ; R feedback\nifdbkx   = p11                             ; X feedback\nidelay   = p12/1000                        ; Base delay time in ms\nimix     = p13                             ; Mix: 0=Dry 1=Harmonized\nimin     = 1/kr                            ; Minimum delay\np3       = p3 + idelay                     ; Compensate for base delay\nafdbk1   init 0                            ; Initialize L feedback\nafdbk2   init 0                            ; Initialize R feedback\n\nain      soundin  \"Piano.aif\"\n\nain1     = ain + afdbk1*ifdbk1 + afdbk2*ifdbkx\nain2     = ain + afdbk2*ifdbk2 + afdbk1*ifdbkx\nasaw1    oscili  idelay, ishift1, 1        ; L Saw   0 degrees\nasaw2    oscili  idelay, ishift1, 1, .5    ; L Saw 180 degrees\nasaw3    oscili  idelay, ishift2, 1        ; R Saw   0 degrees\nasaw4    oscili  idelay, ishift2, 1, .5    ; R Saw 180 degrees\nax       delayr   imin + idelay            ; Create delay line\natap1    deltap3  imin + asaw1             ; L Tap 1\natap2    deltap3  imin + asaw2             ; L Tap 2\n         delayw   ain1                     ; Write L input into delay\nay       delayr   imin + idelay            ; Create delay line\natap3    deltap3  imin + asaw3             ; R Tap 1\natap4    deltap3  imin + asaw4             ; R Tap 2\n         delayw   ain2                     ; Write R input into delay\nawin1    oscili  1, ishift1, 2             ; L Window   0 degrees\nawin2    oscili  1, ishift1, 2, .5         ; L Window 180 degrees\nawin3    oscili  1, ishift2, 2             ; R Window   0 degrees\nawin4    oscili  1, ishift2, 2, .5         ; R Window 180 degrees\nahrm1    = atap1*awin1 + atap2*awin2       ; Sum L taps\nahrm2    = atap3*awin3 + atap4*awin4       ; Sum R taps\nadelay1  delay  ahrm1, idelay1             ; L Delay\nadelay2  delay  ahrm2, idelay2             ; R Delay\nafdbk1   = adelay1                         ; L feedback\nafdbk2   = adelay2                         ; R feedback\naout1    = ahrm1*imix + ain*(1 - imix)     ; L mix\naout2    = ahrm2*imix + ain*(1 - imix)     ; R mix\nouts1    aout1*ilevl                       ; L level and output\nouts2    aout2*ilevl                       ; R level and output\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 4097 7 1 4096 0             ; Ramp\n;f2 0 4097 7 0 2048 1 2048 0     ; Up/down ramp window\nf2 0 4097 7 0 512 1 1536 1 512 0 ; Trapezoid window\n\n;Shift in +-1/100 semitones\n;Delay and Base in ms\n;Mix: 0=Dry 1=Harmomized\n\n;                     -------L--------  -------R--------\n;   Strt  Leng  Levl  Shift Delay Fdbk  Shift Delay Fdbk  Xfdbk Base  Mix\ni1  0.00  4.00  1.00  0013  075   0.00 -0019  080   0.00  0.50  50    0.50\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for SOUND GENERATING INSTRUMENT using interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from autorun.orc and autorun.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         441\nksmps     =         100\nnchnls    =         2\n\n;====================================================================\n; AUTORUN.ORC\n;--------------------------------------------------------------------\n\ngiwave    =         1\n\n;====================================================================\ninstr 1  ; EXAMPLE EVENT GENERATING INSTRUMENT: A SIMPLE FRACTAL LOOP\n;--------------------------------------------------------------------\n;ihold                                                  ; RUN FOREVER\n                                                       ;\nkx1       init      0                                  ;\nkx2       init      0                                  ;\n                                                       ;\nidur      =         1.5                                ;\nispeed    =         6                                  ;\n                                                       ;\nktime     phasor    ispeed                             ; TIMER FOR\nktrig     trigger   ktime, 0.5, 0                      ; EVENT GENERATION\nif   (ktrig<0.5)    goto noevent                       ;\n                                                       ;\nkx1       =         kx1 * kx1 - 1.74                   ; SOME SIMPLE FRACTAL\nkx2       =         kx2 * kx2 - 1.7499                 ; PARAMETER GENERATION\nkamp      =         0.05 + (kx2+2) / 4 * 0.9           ;\nkcps      =         200 + 100 * kx1 / 2                ;\n                                                       ;\nigoto     noevent                                      ; DON'T SCHEDULE\ninitsched:                                             ; AT FIRST INIT\n          schedule  2, 0, idur, i(kamp), i(kcps)       ;\nreinit    initsched                                    ; REINIT SCHEDULE\n                                                       ; FOR EACH EVENT\nnoevent:                                               ;\n                                                       ;\nendin                                                  ;\n\n;====================================================================\ninstr 2                                                ; SOUND GENERATING INSTRUMENT\n;--------------------------------------------------------------------\n\nkenv      expon     1, 1, 0.01\nkamp      =         20000*p4*kenv\nasig      oscili    kamp, p5, giwave\n          outs      asig, asig\n\nendin\n;--------------------------------------------------------------------\n\n\n</CsInstruments>\n<CsScore>\n;====================================================================\n; AUTORUN.SCO\n;--------------------------------------------------------------------\n\nf 1 0 1024 -10 1 0.5 0.1 0.2 0.3\n;f 0 30        ; RUN FOR ... SECONDS\ni 1 0 30       ; START REALTIME COMPOSING INSTRUMENT\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipitch\t=    \tcpspch(p5)\t\t\t; PITCH. using interpolating oscillator and random noise and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FracAddress.orc and FracAddress.sco\n; Original files preserved in same directory\n\nsr\t\t= \t\t44100\nkr\t\t= \t\t4410\nksmps\t= \t\t10\nnchnls\t= \t\t1\n\n;*************************************** orchestra *************************************\n; FracAddress.orc\n; Damian Keller. May 1997.\n; Synthesis by fractional addressing.\n; Reference: Hartmann, W.R. (1987) ÃDigital waveform generation by fractional \n; addressingÃ. J. of Acoust. Soc. of America, 82(6), 1883-1891.\n;***************************************************************************************\n\n\t\t\n\t\tinstr 1\n\t\t\t\t\t\t\t\t\t\nipitch\t=    \tcpspch(p5)\t\t\t; PITCH.\niamp \t= \t\tp4\t\t\t\t\t; AMPLITUDE.\nidur \t= \t\tp3\t\t\t\t\t; DURATION.\n\t\n; ADD IS AN OFFSET ON THE POINTER TO THE ADDRESSES IN ft1.\n; SMALL AMOUNT OF NOISE WILL INTRODUCE CORRELATED NOISE.\n; MOVING OFFSETS WILL GENERATE MOVING SPECTRA.\n\naline\tline \t.5, idur, .001\t\t\t; aline: FROM 0 TO .5 CONTROLS AMPLITUDE,\naindex\toscili\taline, ipitch, 1\t\t; aindex CONTROLS FREQUENCY.\t\t \nadd\t\tline \t.5, idur, .001\t\t\n; ADD RAND\t\t.01\nasig\t\ttablei\t(add + aindex), 1, 1\n\t\tout\t\tasig * iamp\t\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n;************************************** score *****************************************\n; FracAddress.sco\n\nf1\t0 512 10 1\t\t\t; SINE TABLE\n\n;  time dur\tamp\t \tpitch\ni1\t0\t5\t10000\t5.00\ni1\t5\t5\t8000\t6.05\ni1\t10\t10\t5000\t8.00\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating FM synthesis and interpolating oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Fm3.orc and Fm3.sco\n; Original files preserved in same directory\n\nsr      \t= \t\t44100\nkr      \t= \t\t4410\nksmps   \t= \t\t10\nnchnls  \t= \t\t1\n\n; =================== A Simple FM Instrument ====================== ;\n; ================ with swept modulation index ==================== ;\n\n\n\t\tinstr \t1\niamp    \t=       \tampdb(p4)               ; p4=CARRIER AMPLITUDE IN dB\nifreq   \t=       \tp5                      ; p5=BASE FREQUENCY\nicar    \t=       \tp6*ifreq                ; p6=CARRIER FREQUENCY RATIO\nimod    \t=       \tp7*ifreq                ; p7=MODULATOR FREQUENCY RATIO\nindx    \t=       \tampdb(p8)               ; p8=MODULATION INDEX\nkind    \tlinseg  \t0,p3*.5,indx,p3*.5,0    ; SWEEPING MODULATION INDEX\namod    \toscili  \tkind,imod,1\nkamp    \tlinseg  \t0,p3*.01,iamp,p3*.98,iamp,p3*.01,0\nacar    \toscili  \tkamp,icar+amod,1\n  \t\tout     \tacar\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n; =============================================================== ;\n; ===== f1 defines a 2K (2048 point) sine wave using Gen10 ====== ;\n; =============================================================== ;\n\nf1      0     2048      10     1\n\n; ========================================================= ;\n;    Start    Dur      Amp    Pitch Carrier  Mod    Peak\n;    in Sec   in Sec   in Db  in Hz Ratio    Ratio  Index\n; ========================================================= ;\n\ni1      0      2        86    110      1      1      70\ni1      2.5    .        86      .      1      2       .\ni1      5      .        86      .      1      4       .\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur  iamp1 if1 ifq1   if2   ifq3 if3 using interpolating oscillator and interpolating random and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 80_01_1.orc and 80_01_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     80_01_1.ORC\n; timbre:    flute-like\n; synthesis: other instruments(80)\n;            twin instruments(1)\n;            i1: LFO on amplitude, i2: LFO on frequency(1)\n; source:    #100 Flute-like Melody, Risset(1969)\n; coded:     jpg 8/93\n\n\n\n\ninstr  1; ****************************************************************\nidur  = p3\nif1   = p5  ; oscili 1: waveform\nifq1  = p6\nif2   = p7  ; oscili 2: envelope\nifq3  = p8\nif3   = p9  ; oscili 3\niampr = p4  ; randi\nifqr  = p7\n\n; initializing a variable idc to .6 or .74\nif if3 = 12 igoto dc1\nidc = .6\ngoto start\n\ndc1: idc = .74\n     goto start\n\nstart:\n        a4   randi   iampr/100, ifqr     ;small value amp & fq\n        a4   =       a4 + iampr          ;band limited noise\n\n        a3   oscili  a4, ifq3, if3       ;DC bias function, LFO\n        a3   =       a3 + idc            ;amplitude modulation input\n\n        a2   oscili  a3, 1/idur, if2     ;envelope\n\n        a1   oscili  a2, ifq1, if1       ;carrier: 3 waveforms & AM\n             out     a1 * 10             ;scaling up & out\nendin\n\ninstr  2; ****************************************************************\nidur  = p3\nif1   = p4\niamp2 = p5 ;FM\nif2   = p6\niamp3 = p7 ;AM\nif3   = p8\n\n        a3   oscili  iamp3, 1/idur, if3  ;k3: AM control\n        a2   oscili  iamp2, 1/idur, if2  ;k2: FM control\n        a1   oscili  a3, a2, if1         ;sinus wave\n             out     a1 * 10\n\nendin\n\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     80_01_1.SCO\n; coded:     jpg 8/93\n\n; GEN functions **********************************************************\n; carriers: instrument 1\nf1 0 2048 10 1                                   ; fundamental\nf2 0 2048 10 1 .2 .08 .07                        ; four harmonics\nf3 0 2048 10 1 .4 .2 .1 .1 .05                   ; six harmonics\n\n; envelopes: instrument 1 & 2\nf4  0 512 7 0 1 0 49 .2 90  .6 40 .99 25  .9 45 .5  50 .25 50 .12 50 .06\n            50 .02 62 0\nf5  0 512 7 0 1 0 49 .2 100 .6 50 .99 150 .2 162 0\nf6  0 512 7 0 1 0 49 .2 200 .5 100 .2 162 0\nf7  0 512 7 0 1 0 79 .5 60  .5 20 .99 120 .4 140 .6 92 0\nf8  0 512 7 0 1 0 149 .4 200 .99 50 .5 50 .24 62 0\n\n; pitch envelope functions: instrument 2\nf9  0 512 7  0 1 .895  511 .99 ; gen07 line segments    10% rise\nf10 0 512 7  0 1 .99   511 .99 ;                         0% rise\n\n; DC bias functions\nf12 0 512 9 1 .26 0            ; fundamental at .26\nf13 0 512 9 1 .3 0             ; fundamental at .3\n\n\n; score ******************************************************************\n\n; instr 1  idur  iamp1 if1 ifq1   if2   ifq3 if3\n;                                 ifqr                -- FM --  -- AM --\n; instr 2  idur                                   if1 iamp2 if2 iamp3 if3\ni2   .88    .12                                    1    988 10   1200  8\ni1  1      2       800  2  1109    5    4.16  12\ni2  1       .7                                     1   1107 10    300  8\ni1  3       .9     300  2   784    4    4.16  13\ni2  4.5     .15                                    1   1397 10   1200  4\ni2  4.85    .15                                    1    992  9   1200  8\ni2  5.01    .7                                     1   1100  9    300  8\ni1  5.01   2      1200  2  1109    6    4.16  13\ni1  7       .2     400  2   784    7    4.16  13\ni1  7.2     .3     300  2   698    5    4.16  13\ni1  7.51   1       300  3   370    6    4.16  13\ni2  7.5     .5                                     1    368  9    150  8\ni1  8.5     .5     400  3   415    5    4.16  13\ni1  9       .12    900  2  1396    4    4.16  13\ni1  9.1    1.2     900  2  1568    4    4.16  13\ni1  10.25  1       900  3   277    7    3.23  13\ni2  10.25  1                                       1    275 10    200  6\ni1  11.35   .36    500  2   329    5    3.57  13\ni1  11.72   .36    800  2   528    5    3.57  13\ni2  12.09   .2                                     1   2217  9    950  6\ni1  12.10   .15    700  1  1975    5    3.57  13\ni1  12.25  2.5     999  1  2217    4    3.57  13\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a primarysecondarybeats sound using interpolating oscillator and linear envelope and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from PrimarySecondaryBeats.orc and PrimarySecondaryBeats.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2 \n\n\n;*********************************   PRIMARY AND SECONDARY BEATS   ***********************************\n; IF TWO PURE TONES HAVE SLIGHTLY DIFFERENT FREQUENCIES F1 AND F2 = F1 + (DELTA)F, THE PHASE DIFFERENCE-\n; (PHETA)2 - (PHETA)1 CHANGES CONTINUOSLY WITH TIME. THE AMPLITUDE OF THE RESULTANT TONE VARIES BETWEEN\n; A1 + A2 AND A1 - A2, WHERE A1 AND A2 ARE THE INDIVIDUAL AMPLITUDES. THESE SLOW PERIODIC VARIATIONS IN\n; AMPLITUDE AT FREQUENCY (DELTA)F ARE CALLED \"BEATS\", OR PERHAPS WE SHOULD SAY \"PRIMARY BEATS\", TO DIS-\n; TINGUISH THEM FROM SECOND-ORDER BEATS, THAT WILL BE DESCRIBED IN THE NEXT PARAGRAPH. BEATS ARE EASILY \n; HEARD WHEN (DELTA)F IS LESS THAN 10HZ, AND MAY BE PERCEIVED UP TO ABOUT 15HZ.\n; A SENSATION OF BEATS ALSO OCCURS WHEN THE FREQUENCIES OF TWO TONES F1 AND F2 ARE NEARLY, BUT NOT\n; QUITE, IN A SIMPLE RATIO. IF F2 = 2F1 + (*) 'MISTUNED OCTAVE', BEATS ARE HEARD AT A FREQUENCY (*). \n; IN GENERAL, WHEN F2 = (N/M)F1 + (*), M(*) BEATS OCCUR EACH SECOND. THESE ARE CALLED \"SECOND-ORDER \n; BEATS\" OR \"BEATS OF MISTUNED CONSANCES\", BECAUSE THE RELATIONSHIP F2 = (N/M)F1, WHERE N  AND M ARE \n; INTERGERS, DEFINES CONSTANT MUSICAL INTERVALS, SUCH AS A PERFECT FIFTH (3/2), A PERFECT FOURTH (4/3),\n; A MAJOR THIRD (5/4), ETC.\n; PRIMARY BEATS CAN BE EASILY UNDERSTOOD AS AN EXAMPLE OF LINEAR SUPERPOSITION IN THE EAR. SECOND-ORDER\n; BEATS BETWEEN PURE TONES ARE NOT QUITE SO EASY TO EXPLAIN, HOWEVER HELMHOLTZ (1877) ADOPTED AN EX-\n; PLANATION BASED ON COMBINATION TONES., BUT AN EXPLANATION BY MEANS OF AURAL HARMONICS WAS FAVORED \n; BY OTHERS, INCLUDING WEGEL AND LANE (1924). THIS THEORY, WHICH EXPLAINS SECOND-ORDER BEATS AS RESULT-\n; ING FROM PRIMARY BEATS BETWEEN AURAL HARMONICS OF F1 AND F2, PREDICTS THE CORRECT FREQUENCY MF2 - NF1\n; BUT CANNOT EXPLAIN WHY THE AURAL HARMONICS THEMSELVES ARE NOT HEARD (LAWRENCE AND YANTIS, 1957).\n; AN EXPLANATION WHICH DOES NOT REQUIRE NONLINEAR DISTORTION IN THE EAR IS FAVORED BY PLOMP (1966) AND\n; OTHERS. ACCORDING TO THIS THEORY, THE EAR RECOGNIZES PERIODIC VARIATIONS IN WAVEFORM, PROBABLY AS A \n; PERIODICITY IN NERVE IMPULSES EVOKED WHEN THE DISPLACEMENT OF THE BASILAR MEMBRANE EXCEEDS A CRITICAL\n; VALUE. THIS IMPLIES THAT SIMPLE TONES CAN INTERFERE OVER MUCH LARGER FREQUENCY DIFFERENCES THAN THE\n; CRITICAL BANDWIDTH, AND ALSO THAT THE EAR CAN DTECT CHANGING PHASE ( EVEN THOUGH IT IS A POOR DETEC-\n; TOR OF PHASE IN THE STEADY STATE).\n; BEATS OF MISTUNED CONSONANCES HAVE LONG BEEN USED BY PIANO TUNERS, FOR EXAMPLE, TO TUNE FIFTHS, \n; FOURTHS, AND EVEN OCTAVES ON THE PIANO. VIOLINISTS ALSO MAKE USE OF THEM IN TUNING THEIR INSTRUMENTS.\n; IN THE CASE OF MUSICAL TONES, HOWEVER, PRIMARY BEATS BETWEEN HARMONICS OCCUR AT THE SAME RATE AS \n; SECOND-ORDER BEATS, AND THE TWO TYPES OF BEATS CANNOT BE DISTINGUISHED.\n; IN THE FIRST EXAMPLE, PURE TONES HAVING FREQUENCIES OF 1000 AND 1004HZ ARE PRESENTED TOGETHER, GIVING\n; RISE TO PRIMARY BEATS AT A 4-HZ RATE.\n; IN THE NEXT EXAMPLE, TONES WITH FREQUENCIES OF 2004HZ, 1502HZ, AND 1334.67HZ ARE COMBINED WITH A \n; 1000HZ TONE TO GIVE SECONDARY BEATS AT A 4-HZ RATE (N/M = 2/1, 3/2, AND 4/3, RESPECTIVELY). COMPARE \n; THE APPARENT STRENGTHS OF THE BEATS IN EACH CASE.\n  ;*****************************************   HEADER   *************************************************\n\n\n \n \n instr         1\n\n iamp          =         ampdb(p4)                ;P4 = AMPLITUDE IN DB \n ifreq         =         p5                       ;P5 = FREQUENCY\n \n k1            linen     iamp,.03,p3,.03         \n a1            oscili    k1,ifreq,1             \n               outs      a1,a1\n endin  \n\n\n</CsInstruments>\n<CsScore>\nf1 0 512 10 1  \n\n\n;************************************   CIRCULARITY in PITCH JUDGEMENT   *******************************\n;   p1      p2      p3     p4      p5      \n;  inst    strt    dur    amp    ifreq\n    i1      1.0    3.0     80    1000.00\n    i1      5.0    3.0     80    1004.00\n    i1      9.0    3.0     78    1000.00\n    i1      9.0    3.0     78    1004.00\n    s\n;************************************   CONSTANT BEAT FREQUENCY OF 4Hz   ******************************\n;   p1      p2      p3     p4      p5      \n;  inst    strt    dur    amp    ifreq\n    i1      1.0    3.0     80    1000.00\n    i1      5.0    3.0     80    2004.00\n    i1      9.0    3.0     78    1000.00\n    i1      9.0    3.0     78    2004.00\n    s\n;   p1      p2      p3     p4      p5      \n;  inst    strt    dur    amp    ifreq\n    i1      1.0    3.0     80    1000.00\n    i1      5.0    3.0     80    1502.00\n    i1      9.0    3.0     78    1000.00\n    i1      9.0    3.0     78    1502.00\n    s\n;   p1      p2      p3     p4      p5      \n;  inst    strt    dur    amp    ifreq\n    i1      1.0    3.0     80    1000.00\n    i1      5.0    3.0     80    1334.67\n    i1      9.0    3.0     78    1000.00\n    i1      9.0    3.0     78    1334.67\n    e\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp          =         ampdb(p4) using interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from CancelledHarmonics.orc and CancelledHarmonics.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\n\n;************************************   CANCELLED HARMONICS   ***************************************\n\n; THIS DEMONSTRATION ILLUSTRATES FOURIER ANALYSIS OF A COMPLEX TONE CONSISTING OF 20 HARMONICS OF A\n; 200HZ FUNDAMENTAL. IT ALSO ILLUSTRATES HOW OUR AUDITORY SYSTEM, LIKE OUR OTHER SENSES, HAS THE ABI-\n; LITY TO LISTEN TO COMPLEX SOUNDS IN DIFFERENT MODES. WHEN WE LISTEN \"ANALYTICALLY OR IN AN ISOLATIVE\n; WAY\", WE HEAR THE DIFFERENT COMPONENTS SEPARATELY; WHEN WE LISTEN \"HOLISTICALLY\",WE FOCUS ON THE \n; WHOLE SOUND AND PAY LITTLE ATTENTION TO THE COMPONENTS. \n; A COMPEX TONE IS PRESENTED TO THE LISTENER(S), FOLLOWED BY SEVERAL CANCELLATIONS AND RESTORATIONS OF\n; A PARTICULAR HARMONIC. THIS IS DONE FOR HARMONICS 1 THROUGH 10.\n\n;***************************************   HEADER   **************************************************\n\n\n\n\n instr         1\n\n iamp          =         ampdb(p4)               \n ifunc         =         p5\n        \n\n a1            oscili    iamp,200,ifunc         \n               outs      a1,a1\n endin  \n\n</CsInstruments>\n<CsScore>\n\n\n ;HARMONICS   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19  20\n\n f1 0 512 10 .5  .5  .5  .5  .5  .5  .5  .7  .7  .7  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  \n f2 0 512 10  0  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  \n f3 0 512 10 .5   0  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  \n f4 0 512 10 .5  .5   0  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  \n f5 0 512 10 .5  .5  .5   0  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  \n f6 0 512 10 .5  .5  .5  .5   0  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  \n f7 0 512 10 .5  .5  .5  .5  .5   0  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  \n f8 0 512 10 .5  .5  .5  .5  .5  .5   0  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  \n f9 0 512 10 .5  .5  .5  .5  .5  .5  .5   0  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  \nf10 0 512 10 .5  .5  .5  .5  .5  .5  .5  .5   0  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  \nf11 0 512 10 .5  .5  .5  .5  .5  .5  .5  .5  .5   0  .5  .5  .5  .5  .5  .5  .5  .5  .5  .5  \n\n\n\n;***********************************   CANCELLED HARMONICS   *****************************************\n;   p1      p2      p3    p4       p5      \n;  inst    strt    dur    amp     ifunc     \n    i1     1.0     1.0    76        1\n    i1     2.0     1.0    76        2\n    i1     3.0     1.0    76        1\n    i1     4.0     1.0    76        2\n    i1     5.0     1.0    76        1\n    i1     6.0     1.0    76        2\n    i1     7.0     1.0    76        1\ns   \n    i1     1.0     1.0    76        1\n    i1     2.0     1.0    76        3\n    i1     3.0     1.0    76        1\n    i1     4.0     1.0    76        3\n    i1     5.0     1.0    76        1\n    i1     6.0     1.0    76        3\n    i1     7.0     1.0    76        1\ns\n    i1     1.0     1.0    76        1\n    i1     2.0     1.0    76        4\n    i1     3.0     1.0    76        1\n    i1     4.0     1.0    76        4\n    i1     5.0     1.0    76        1\n    i1     6.0     1.0    76        4\n    i1     7.0     1.0    76        1\ns\n    i1     1.0     1.0    76        1\n    i1     2.0     1.0    76        5\n    i1     3.0     1.0    76        1\n    i1     4.0     1.0    76        5\n    i1     5.0     1.0    76        1\n    i1     6.0     1.0    76        5\n    i1     7.0     1.0    76        1\ns\n    i1     1.0     1.0    76        1\n    i1     2.0     1.0    76        6\n    i1     3.0     1.0    76        1\n    i1     4.0     1.0    76        6\n    i1     5.0     1.0    76        1\n    i1     6.0     1.0    76        6\n    i1     7.0     1.0    76        1\ns\n    i1     1.0     1.0    76        1\n    i1     2.0     1.0    76        7\n    i1     3.0     1.0    76        1\n    i1     4.0     1.0    76        7\n    i1     5.0     1.0    76        1\n    i1     6.0     1.0    76        7\n    i1     7.0     1.0    76        1\ns\n    i1     1.0     1.0    76        1\n    i1     2.0     1.0    76        8\n    i1     3.0     1.0    76        1\n    i1     4.0     1.0    76        8\n    i1     5.0     1.0    76        1\n    i1     6.0     1.0    76        8\n    i1     7.0     1.0    76        1\ns\n    i1     1.0     1.0    76        1\n    i1     2.0     1.0    76        9\n    i1     3.0     1.0    76        1\n    i1     4.0     1.0    76        9\n    i1     5.0     1.0    76        1\n    i1     6.0     1.0    76        9\n    i1     7.0     1.0    76        1\ns\n    i1     1.0     1.0    76        1\n    i1     2.0     1.0    76       10\n    i1     3.0     1.0    76        1\n    i1     4.0     1.0    76       10\n    i1     5.0     1.0    76        1\n    i1     6.0     1.0    76       10\n    i1     7.0     1.0    76        1\ns\n    i1     1.0     1.0    76        1\n    i1     2.0     1.0    76       11\n    i1     3.0     1.0    76        1\n    i1     4.0     1.0    76       11\n    i1     5.0     1.0    76        1\n    i1     6.0     1.0    76       11\n    i1     7.0     1.0    76        1\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for TEKNO BASS CODED BY RADU GRIGOROVICI using drum sound and interpolating oscillator and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bdrum8.orc and bdrum8.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         44100\nksmps          =         1\nnchnls         =         2\n\ngasig          init      0\n\ninstr          1                             ;TEKNO BASS CODED BY RADU GRIGOROVICI\nidur           =         p3\niamp           =         p4\nifre           =         cpspch(p5)\nkamp           linseg    0, 0.01, p4, p3/3, p4, p3/3, p4/4, p3/3-0.1, 0\nkcut           linseg    10000, p3, 1000\nkres           linseg    880, p3, 440\nkres2          linseg    220, p3, 110\nasig1          oscili    kamp, ifre, 1\nasig2          butterlp  asig1, kcut\nasig3          reson     asig2, kres, 110\nasig4          balance   asig3, asig2\nasig5          =         asig4/2\n               outs      asig5, asig5\nendin\n\ninstr          2                             ;TEKNO BASS DRUM CODED BY RADU GRIGOROVICI\nidur           =p3\niamp           =p4\nkamp           linseg    0, 0.001, p4, 2*p3/3, p4, p3/3-0.01, 0\nkpch           expseg    330, p3, 0.001\nkcut           expseg    440, p3, 0.001\nkres           expseg    440, p3, 0.001\nasig0          oscili    kamp, kpch+110, 1\nasig1          rand      kamp\nasig2          =         asig1+asig0\nasig3          butterlp  asig2, kcut*10\nasig4          reson     asig3, kres+440, 220\nasig5          balance   asig4, asig0\nasig6          =         asig5/2\n               outs      asig6, asig6\nendin\n\ninstr          3                             ;TEKNO HIGHS CODED BY RADU GRIGOROVICI\nidur           =         p3\niamp           =         p4\nkamp           linseg    0, 0.001, p4, p3-0.01, 0\nkpch           expseg    12000, p3, 8000\nkcut           expseg    12000, p3, 8000\nkres           expseg    12000, p3, 8000\nasig1          rand      kamp\nasig2          =         asig1\nasig3          butterbp  asig2, kcut, 880\nasig4          reson     asig3, kres, 880\nasig5          balance   asig4, asig1\nasig6          =         asig5/2\nouts           asig6, asig6\nendin\n\n\n\n</CsInstruments>\n<CsScore>\nf1 0  1024   8  1  256 .2  128 0 256 -.2 256  -1\n\nt 0 144\n\n;inst start dur amp   frec \ni1 0.00 0.25 14000 6.0\ni1 0.50 0.25 . 7.0\ni1 0.75 0.25 . 6.0\ni1 1.25 0.25 . 7.0\ni1 1.50 0.25 . 6.0\ni1 2.00 0.25 . 7.0\ni1 2.50 0.25 . 6.0\ni1 3.00 0.25 . 6.10\ni1 3.50 0.25 . 7.0\n\n;inst start dur amp\ni2 0.00 0.5 16000\ni2 1.00 . .\ni2 2.00 . .\ni2 3.00 . .\n\n;inst start dur amp\ni3 0.00 0.25 16000\ni3 0.50 0.5 16000\ni3 1.00 0.25 16000\ni3 1.50 0.5 16000\ni3 2.00 0.25 16000\ni3 2.25 0.25 16000\ni3 2.50 0.5 16000\ni3 3.00 0.25 16000\ni3 3.50 0.5 16000\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for k1             linseg    p5,p3*.4,p5,p3*.6,p5*.9 using interpolating oscillator and Karplus-Strong plucked string and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from BLAST2.ORC and BLAST2.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n;4-13-89 TEST OF CPS PITCH CONVERSION\n\ninstr 1\na1             pluck     p4,cpspch(p5),cpspch(p5),0,1,0,0        ;P4=AMP, P5=FREQ\nout            a1\nendin\n\ninstr          2\nk1             linseg    p5,p3*.4,p5,p3*.6,p5*.9\na1             pluck     p4,cpspch(p5),cpspch(p5),0,1,0,0\nout            a1\nendin\n\ninstr          3\nk1             randi     3,5  ;trem freq from rand\nk2             oscili    20,k1,2  ;trem oscili w/rand freq - #2 f unit\nk3             linseg    p4*.1,p3*.7,p4,p3*.3,p4*.90             ;AMP SEG\nk4             linseg    p5*1.02,p3*.05,p5*.96,p3*.95,p5         ;FREQ SEG\na1             oscili    k3,k4+k2,1\nout            a1\nendin\n\n</CsInstruments>\n<CsScore>\n\n;blast2.sco\n\nf 1 0 4097 9 1 1 0 ; 3 1.3603 0  5 1.6176 0  7 1.1176 0  9 1.2058 0  11 1.0735 0  13 1.1103 0  15 1.0235 0 ; 17 .0367 0 18 .0073 0 19 .0029 0 20 .0058 0 21 .0044 0\nf 2 0 4097 9 1 1 0\n\n\n\ni2 0 2 4000 2.90\ni2 . . .    2.91\ni2 . . .    2.92\ni2 . . .    2.93\ni2 0 2 .    2.94\ni2 0 2 .    2.95\ni2 0 2 .    2.96\ni2 0 2 .    2.97\ni2 . . .    2.98\ni2 0 2 .    2.99\n\ni2 1.9  .2  4000 2.905\ni2 .    .   .    2.915\ni2 .    .   .    2.925\ni2 .    .   .    2.935\ni2 1.90 .2  .    2.945\ni2 1.90 .2  .    2.955\ni2 1.90 .2  .    2.965\ni2 .    .   .    2.975\ni2 .    .   .    2.985\ni2 1.90 .2  .    2.995\n\ni2 2 2 4000 2.80\ni2 . . .    2.81\ni2 . . .    2.82\ni2 . . .    2.83\ni2 2 2 .    2.84\ni2 2 2 .    2.85\ni2 2 2 .    2.86\ni2 2 2 .    2.87\ni2 . . .    2.88\ni2 2 2 .    2.89\n\ni2 3.9  .2  4000 2.905\ni2 .    .   .    2.915\ni2 .    .   .    2.925\ni2 .    .   .    2.935\ni2 .    .2  .    2.945\ni2 .    .2  .    2.955\ni2 .    .2  .    2.965\ni2 .    .   .    2.975\ni2 .    .   .    2.985\ni2 1.90 .2  .    2.995\n\ni2 4   2 4000 3.70\ni2 .   . .    3.71\ni2 .   . .    3.72\ni2 .   . .    3.73\ni2 .   2 .    3.74\ni2 .   2 .    3.75\ni2 .   2 .    3.76\ni2 .   2 .    3.77\ni2 .   . .    3.78\ni2 4   2 .    3.79\n\ni2 5.9  .2  4000 2.905\ni2 .    .   .    2.915\ni2 .    .   .    2.925\ni2 .    .   .    2.935\ni2 .    .2  .    2.945\ni2 .    .2  .    2.955\ni2 .    .2  .    2.965\ni2 .    .   .    2.975\ni2 .    .   .    2.985\ni2 5.90 .2  .    2.995\n\n\n\ni2 6 2 4000 2.90\ni2 . . .    2.91\ni2 . . .    2.92\ni2 . . .    2.93\ni2 . 2 .    2.94\ni2 . 2 .    2.95\ni2 . 2 .    2.96\ni2 . 2 .    2.97\ni2 . . .    2.98\ni2 . 2 .    2.99\n\ni2 7.6  5 4000 1.90\ni2 .    . .    1.91\ni2 .    . .    1.92\ni2 .    . .    1.93\ni2 .    . .    1.94\ni2 .    . .    1.95\ni2 .    . .    1.96\ni2 .    . .    1.97\ni2 .    . .    1.98\ni2 7.60 5 .    1.99\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for and instr2-6/ using interpolating oscillator and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 02_41_2.orc and 02_41_2.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     02_41_2.ORC\n; timbre:    brass\n; synthesis: additive, with equivalent parallel units(02)\n;            basic instrument with added random frequency variation(41)\n; source:    #200 Brass-like Sounds through Independent Control of\n;            Harmonics, Risset(1969) /instr 1 and instr2-6/\n; coded:     jpg 8/93\n\n\ninstr 1; *****************************************************************\nidur  =  p3\niamp  =  p4\nifq1  =  p5\nif2   =  p6            ; function number for envelope\nifundr=  p7 * .04      ; 4% of fundamental\n\n        afqr   randi   ifundr, 20            ;random frequency fluctuations\n        aenv   oscili  iamp, 1/idur, if2     ;envelope\n        a1     oscili  aenv, ifq1 + afqr, 1  ;carrier\n               out     a1\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:    02_41_2.SCO\n; source:   #200 Brass-like Sounds through Independent Control of\n;           Harmonics, Risset(1969) \n; coded:    jpg 8/93\n\n\n\n; GEN functions **********************************************************\n; waveforms\nf1  0 1024 10 1     ;sinus\n; envelopes\nf31 0 1024 7  0 20 .001  32 .282  28 .112 778 .178 88 .159 54 .008 24 .001\nf32 0 1024 7  0 38 .001 830 .5    40 .355  72 .016 44 .001\nf33 0 1024 7  0 46 .001 824 .56  144 .001\nf34 0 1024 7  0 20 .001  18 .005 798 .224  26 .224 54 .178 108 .001\nf35 0 1024 7  0 20 .001  22 .009  24 .089  24 .022 56 .022 306 .112 76\n                      .178 162 .071 246 .062  88 .001\n; These envelopes reach maximum amplitudes of:  .282, .5, .56, .224, .178\n; Total possible value is 1.744\n\n;score *******************************************************************\n; instr 1  idur  iamp ifq1   if2   ifundr\n\ni1  0       .4   2000  784    31    784             ;******* note 1 ******\ni1  .       .    .    1568    32                    ;**** 5 harmonics ****\ni1  .       .    .    2352    33\ni1  .       .    .    3136    34\ni1  .       .    .    3920    35\n\ni1  1       .7   2500  830    31    830            ;******* note 2 *******\ni1  .       .    .    1660    32                   ;***** 5 harmonics ****\ni1  .       .    .    2490    33\ni1  .       .    .    3320    34\ni1  .       .    .    4150    35\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for SURFACE GENERATOR using interpolating oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from wts4.orc and wts4.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n          instr 1             ; SURFACE GENERATOR\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\np3        =         .01\ngisize    =         256                      ; NUMBER AND SIZE OF THE TABLES\ngifn0     =         301\nkrow      init      0\n\n; FILL isize TABLES OF SIZE isize TO CREATE THE SURFACE\nloop:\niftnum    =         gifn0+i(krow)\niafno     ftgen     iftnum, 0, gisize+1 , 9, 1, 1, 90 ; X=COS()\n\nkrow      =         krow + 1\n          if        krow >= gisize + 2 goto end\n          reinit    loop\n\nend:\n          endin\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n          instr 2             ; ORBIT & WAVEFORM GENERATOR\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\ninote     =         p4\niamp      =         20000\n\n; SET A CIRCULAR ORBIT TO INDEX THE SURFACE\n\nkradius   linseg    .05, p3/2, .5, p3/2, .05\nkx        oscili    kradius, inote, 1        ; SINE (-1 TO 1 COMPENSATED WITH TABLE XOFF)\nky        oscili    kradius, inote, 2, 1/4   ; COSINE (0 TO 1 HERE)\n\n; MAP THE ORBIT THROUGH THE SURFACE\n; TABLE INDEXES\n\nkfn       =         int(ky*gisize/2) + gifn0\nkndx      =         kx\n\n;         igoto     end\n\n;         table     read\n\naz        tableikt  kndx,kfn, 1,.5, 1\n\n; FINAL OUTPUT & ENDIN\n          out       iamp*az\n\nend:\n          endin\n\n\n\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 10 1; a sine wave from -1 to 1 for table index\nf2 0 8193 19 1 1 0 1; a sine wave from 0 to 1 for table number\n\ni1 0 1\ns\ni2 0 3 100\ni2 3 3 200\ni2 6 6 400\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur     iamp  ifq1 if1  if2   ifq3 using interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 01_10_1.orc and 01_10_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     01_10_1.ORC\n; synthesis: simple(01),\n;            LFO modulating amplitude of basic instrument(10)\n; coded:     jpg 10/93\n\n\ninstr  1; ****************************************************************\nidur  = p3\niamp  = p4\nifq1  = p5  ; frequency of note event\nif1   = p6  ; choose waveform\nif2   = p7  ; choose envelope shape\nifq3  = p8  ; LFO frequency\n\n        a3   oscili  iamp, ifq3, 1       ; vibrato\n\n        a2   oscili  a3, 1/idur, if2     ; envelope\n\n        a1   oscili  a2, ifq1, if1       ; waveform\n             out     a1 * 10             \nendin\n\n\n</CsInstruments>\n<CsScore>\n; **********************************************************************\n; ACCCI:     01_10_1.SCO\n; coded:     jpg 10/93\n\n; **********************************************************************\n; GEN functions\n; waveforms\nf1 0 2048 10 1                                   ; fundamental\nf2 0 2048 10 1 .2 .08 .07                        ; four harmonics\nf3 0 2048 10 1 .4 .2 .1 .1 .05                   ; six harmonics\n\n; envelopes\nf4  0 512 7 0 1 0 49 .2 90  .6 40 .99 25  .9 45 .5  50 .25 50 .12 50 .06\n            50 .02 62 0\nf5  0 512 7 0 1 0 49 .2 100 .6 50 .99 150 .2 162 0\nf6  0 512 7 0 1 0 49 .2 200 .5 100 .2 162 0\nf7  0 512 7 0 1 0 79 .5 60  .5 20 .99 120 .4 140 .6 92 0\nf8  0 512 7 0 1 0 149 .4 200 .99 50 .5 50 .24 62 0\n\n\n; **********************************************************************\n; score                                   LFO\n; instr 1  idur     iamp  ifq1 if1  if2   ifq3\ni1  1      1.5       800  1109  1    5     4     ; 3 different waveforms\ni1  3      1.5       800  1109  2    5     4\ni1  5      1.5       800  1109  3    5     4\n\ns\n\ni1  1      1.5       800  1109  1    4     4     ; 5 different envelopes\ni1  3      1.5       800  .     .    5     4\ni1  5      1.5       800  .     .    6     4\ni1  7      1.5       800  .     .    7     4\ni1  9      1.5       800  .     .    8     4\n\ns\n\ni1  1      1.5       800  1109  1    8     1     ; 5 different LFO rates\ni1  3      1.5       800  .     .    8     2\ni1  5      1.5       800  .     .    8     3\ni1  7      1.5       800  .     .    8     4\ni1  9      1.5       800  .     .    8     5\n\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Flanger with stereo outputs using flanger effect and interpolating oscillator and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Flanger.orc and Flanger.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 2\n\n\ninstr    1 ; Flanger with stereo outputs\n\nilevl    = p4       ; Output level\nidelay   = p5/1000  ; Delay in ms\nidepth   = p6/2000  ; LFO depth in ms\nirate1   = p7       ; L LFO rate\nirate2   = p8       ; R LFO rate\niphse    = p9/360   ; R LFO phase\niwave    = p10      ; LFO waveform\nifdbk1   = p11      ; L feedback\nifdbk2   = p12      ; R feedback\nidry     = p13*.707 ; Dry output level\nimax     = idelay + idepth + .1\n\nain      soundin  \"Piano.aif\"\n\nalfo1    oscili  idepth, irate1, iwave\nalfo1    = alfo1 + idepth\nalfo2    oscili  idepth, irate2, iwave, iphse\nalfo2    = alfo2 + idepth\naflng1   flanger  ain, alfo1 + idelay, ifdbk1, imax\naflng2   flanger  ain, alfo2 + idelay, ifdbk2, imax\nouts1    (ain*idry + aflng1)*ilevl\nouts2    (ain*idry + aflng2)*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 10 1                ; Sine\nf2 0 8193 7 -1 4096 1 4096 -1 ; Triangle\nf3 0 8193 10 1 0 0 0 0 0 .14  ; Fast and slow sines\n\n;Delay and Depth in ms  Phase in degrees\n\n;                           ------------LFOs------------\n;   Strt  Leng  Levl  Delay Depth RateL RateR Phase Wave  FdbkL FdbkR Dry\ni1  0.00  1.47  0.75  0.50  5.50  1.00  1.00  180   2    -0.75  0.75  0.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for SURFACE GENERATOR using interpolating oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from wts5.orc and wts5.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n          instr 1             ; SURFACE GENERATOR\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\np3        =         .01\ngisize    =         256                      ; NUMBER AND SIZE OF THE TABLES\ngifn0     =         301\nkrow      init      0\n\n; FILL isize TABLES OF SIZE isize TO CREATE THE SURFACE\nloop:\niftnum    =         gifn0+i(krow)\niafno     ftgen     iftnum, 0, gisize+1 , 9, 1, 1, 90 ; X=COS()\n\nkrow      =         krow + 1\n          if        krow >= gisize + 2 goto end\n          reinit    loop\n\nend:\n          endin\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n          instr 2             ; ORBIT & WAVEFORM GENERATOR\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\ninote     =         p4\niamp      =         20000\n\n; SET A SPIRAL OF kradius TO INDEX THE SURFACE\n\nkradius   linseg    .05, p3/2, .5, p3/2, .05\nkx        oscili    kradius, inote, 1        ; SINE\nky        oscili    kradius, inote, 2, 1/4   ; COSINE\n\n; MAP THE ORBIT THROUGH THE SURFACE\n; TABLE INDEXES\n\nkfndown   =         int(ky*gisize) + gifn0 \nkfnup     =         int(1+ky*gisize) + gifn0\nkndx      =         kx                       ; NORMALIZED 0 TO 1\n\n          igoto     end\n\n;         table     read\n\nazdown    tableikt  kndx,kfndown, 1, .5, 1\nazup      tableikt  kndx,kfnup,   1, .5, 1\n\n\n; LINEAR INTERPOLATION\n\nay        upsamp    frac(ky*gisize)\n\naz        =         (1-ay)*azdown + ay*azup\n\n; FINAL OUTPUT & ENDIN\n          out       iamp*az\n\nend:\n          endin\n\n\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 10 1; a sine wave from -1 to 1 for table index\nf2 0 8193 19 1 1 0 1; a sine wave from 0 to 1 for table number\n\ni1 0 1\ns\ni2 0 3 100\ni2 3 3 200\ni2 6 6 400\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for SPECTRALIZER, A PSYCHOACUSTIC EXCITER. using interpolating oscillator and Butterworth highpass filter and reverb effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from ENHANCE.ORC and ENHANCE.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         1\n\n;JOSEP M COMAJUNCOSAS\n;CSOUND ACTIVIST\n;gelida@lix.intercom.es\n\n;ORC:\n\ngarev     init      0\n\n;***************************************************************************\n\n          instr 1; SPECTRALIZER, A PSYCHOACUSTIC EXCITER.\n                 ; 2ND AND 3RD HARM EQUALLY WEIGHTED (STOLEN FROM A WAVELAB PLUG-IN ;-) )\n\n;***************************************************************************\n                                             \nimaxamp   =         3000                     ; 32768 MAX. IMAXAMP GIVES FULL EFFECT\nihpfreq   =         p6\nidens     =         p5\nimix      =         .3                       ; RETAIN 30% OF THE ORIGINAL SIGNAL\nifreq     =         cpspch(p4)\naenv      linen     1, .4, p3, .4*p3\nasig      oscili    aenv, ifreq, 3           ; PUT HERE YOUR SIGNAL NORMALIZED\n\nalpfilt   tone      asig, sr/6               ; KIND OF ANTI-ALIAS ...; <- IMPROVE THIS\natreble   butterhp  alpfilt , ihpfreq        ; DONÂ´T AFFECT FREQS BELOW IHPFREQ;\n                                             ;   <-WOULD BE BETTER A ATONE?\nanorm     balance   atreble, asig ; restitute original power; <-is this the\n                                             ;  BEST WAY TO DO IT?\n\nawsh      =         anorm*ftlen(2)/2*idens   ;IDENS FURTHER SCALES THE EFFECT\nahm       tablei    awsh , 2 , 0 , ftlen(2)/2 ; WAVESHAPE (SPLIT INTO 2 & 3RD\n                                             ; HARM.)\n\naout      balance   (imix*asig + (1-imix)*ahm), asig * imaxamp ; <- WHAT HAPPENS\n                                             ; WITH FINAL AMPLITUDE...?\n          out       .2*aout\ngarev     =         0\ngarev     =         garev + aout\nendin\n\n\n;***************************************************************************\n\n          instr 2 ; PHASE-MODULATOR, FROM CLM DOCS\n                  ; VERY SIMILAR TO INSTR 1. IÂ´M NOT SURE WHERE THE PHASE MODULATION IS...\n\n;***************************************************************************\n\nimaxamp   =         3000                     ; 32768 MAX. IMAXAMP GIVES FULL EFFECT\nifreq     =         cpspch(p4)\nimaxmod   =         p5                       ; KEEP THIS VALUE SMALL\n\naenv      linen     1, .4, p3, .4*p3\nafmindx   =         imaxmod * aenv\nasig      oscili    aenv, ifreq, 3           ;PUT HERE YOUR SIGNAL NORMALIZED\n\nasin1     tablei    asig*ftlen(1)/2 , 1 , 0 , ftlen(1)/2\namod      =         afmindx * asin1\nasin2     tablei    (.25*asig + amod)*ftlen(1)/2 , 1 , 0 , ftlen(1)/2  \n                                             ; AS LONG AS FN1 = SIN THE SIGNAL WILL BE ALIASED...\n\naout      balance   asin2 , asig * imaxamp\n          out       .2*aout\ngarev     =         0\ngarev     =         garev + aout\n          endin\n\n          instr 3 ; SOME REVERB\nasig      reverb2   garev , 5, .8\n          out       .5 * asig\n\n          endin\n\n\n</CsInstruments>\n<CsScore>\n;SCO:\n\nf1 0 32769 10 1\t\t\t; A SINUNSOID\nf2 0 32769 13 1 1 0 0 0 1 0 1\t; SPLIT INTO 2ND AND 3RD HARM\nf3 0  8193 10 8 0 4 0 2 0 1\t; A SIMPLE WAVEFORM...\n\ni3 0.08 35\n; HERE BLADE RUNNER'S LEIT MOTIV...\ni1   0 4  9.00 .3 3000\ni1   3 2  9.02 .4 3000\ni1   4 5  8.09 .5 1000\ni1   8 6  8.07 .2 2000\n\ni2 15    4.5  9.00 .5\ni2 18.5  1.5  9.02 .6\ni2 19    4.5  9.05 .7\ni2 22.5   .8  9.04 .4\ni2 22.75  .8  9.02 .4\ni2 23    6    9.04 .4\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 02_43_1.orc and 02_43_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 2\n\n; ************************************************************************\n; ACCCI:      02_43_1.ORC\n; timbre:     tibetan chant\n; synthesis:  additive same units(02)\n;             basic instrument with minimal differences in frequency(43)\n;             arpeggio instrument by Risset\n; source:     Phase6, Lorrain(1980); risset1.orc, MIT(1993)\n; coded:      jpg 9/93\n\n\ninstr 1; *****************************************************************\nidur  = p3\niamp  = p4/9\nifq   = p5\nioff1 = p6\nioff2 = 2*p6\nioff3 = 3*p6\nioff4 = 4*p6\nirise = p7\nidec  = p8\n\n   ae  linen   iamp,irise,idur,idec   \n\n   a1  oscili  ae, ifq, 1\n   a2  oscili  ae, ifq+ioff1, 1  ; nine oscillators with the same ae\n   a3  oscili  ae, ifq+ioff2, 1  ; and waveform, but slightly different\n   a4  oscili  ae, ifq+ioff3, 1  ; frequencies create harmonic arpeggio \n   a5  oscili  ae, ifq+ioff4, 1\n   a6  oscili  ae, ifq-ioff1, 1\n   a7  oscili  ae, ifq-ioff2, 1\n   a8  oscili  ae, ifq-ioff3, 1\n   a9  oscili  ae, ifq-ioff4, 1\n       outs1   a1+a2+a3+a4+a5+a6+a7+a8+a9\n\nendin\n\n\ninstr 2; *****************************************************************\nidur  = p3\niamp  = p4/9\nifq   = p5\nioff1 = p6\nioff2 = 2*p6\nioff3 = 3*p6\nioff4 = 4*p6\nirise = p7\nidec  = p8\n\n   ae  linen   iamp,irise,idur,idec   \n\n   a1  oscili  ae, ifq, 1\n   a2  oscili  ae, ifq+ioff1, 1  ; nine oscillators with the same ae\n   a3  oscili  ae, ifq+ioff2, 1  ; and waveform, but slightly different\n   a4  oscili  ae, ifq+ioff3, 1  ; frequencies create harmonic arpeggio\n   a5  oscili  ae, ifq+ioff4, 1\n   a6  oscili  ae, ifq-ioff1, 1\n   a7  oscili  ae, ifq-ioff2, 1\n   a8  oscili  ae, ifq-ioff3, 1\n   a9  oscili  ae, ifq-ioff4, 1\n       outs2   a1+a2+a3+a4+a5+a6+a7+a8+a9\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:      02_43_1.SCO\n; coded:      jpg 9/93\n\n\n; GEN functions **********************************************************\n\n; carrier\nf1 0 1024 10 .3 0 0 0 .1 .1 .1 .1 .1 .1\n\n\n; score ******************************************************************\n\n;    start   idur  iamp   ifq     ioff   irise   idec\ni1     0      35   8000   110     .03     .07     21     ; 1st envelope\ni2     5      20   9600    55     .02     .04     12     ;\ni2    20      15   8000   220     .05         1.5    3      ;\ni1    20      20   9600   110     .04         2      4      ;\ni1    28      30   8000   220     .04         3      6      ;  2nd env.\ni2    32      26   9600   110     .025        2.6    5.2    ;\ni1    32.1    23   8000   110     .03         2.3    4.6    ;\ni2    36      22   8000    55     .01     .04     13     ; 1st envelope\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and interpolating random and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 20_20_6.orc and 20_20_6.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     20_20_6.ORC\n; synthesis: FM(20),\n;            double-carrier FM, dynamic spectral evolution (20)\n;            FM-soprano (5)\n; source:    Chowning(1980)\n; coded:     jpg 10/93, adapted rp's sopink.orc: MIT(1993)\n\n\ninstr 1; *****************************************************************\n        idur    =       p3\n        iampfac =       .5                      ; range 0 < AMPFAC < 1\n        ifenv   =       49                      ; amp rise function\n        ifport  =       31                      ; port function\n        ifffq   =       32                      ; formant frequency lookup\n        iffamp  =       33                      ; formant amp lookup\n        iffimax =       42                      ; formant imax lookup\n        ifcimax =       41                      ; carrier imax lookup\n        irange  =       3                       ; max range of 3 octaves\n        ibase   =       octpch(7.07)            ; lowest note = g3\n        icaroct =       octpch(p5)              ; p5 in true decimal\n        icarhz  =       cpspch(p5)              ; p5 in Hz\n\n        ; ipoint points at p5-dependent location of a table with 512 locs\n        ipoint  =       (icaroct-ibase)/irange*511.999\n\n        ifmthz  table   ipoint,ifffq            ; relative pos. of formant\n        ifmthz  =       ifmthz*3000             ; map onto frequency range\n        ifmthz  =       int(ifmthz/icarhz+.5)*icarhz ; as nearest harmonic\n\n        ifmtfac table   ipoint,iffamp           ; relative amp. of formant\n        ifmtfac =       ifmtfac*.1              ; max value = .1\n        ifndfac =       1-ifmtfac               ; relative amp. of fund\n\n        ifmtndx table   ipoint,iffimax          ; relative index of formant\n        ifmtndx =       ifmtndx*5               ; max value = 5\n\n        ifndndx table   ipoint,ifcimax          ; relative index of fund\n        ifndndx =       ifndndx*.25             ; max value = .25\n\n        ifndamp =       ifndfac * sqrt(iampfac)            ; AMPFAC**.5\n        ifmtamp =       ifmtfac * iampfac * sqrt(iampfac)  ; AMPFAC**1.5\n\n        imodhz  =       icarhz                  ; calculate modulator and\n        ipkdev1 =       ifndndx*imodhz          ; peak deviation\n\n; compute vibrato parameters:\n        ; change base of log:   log 2(hz) = log e(hz)/log e(2)\n        ilog2pch =      log(icarhz)/log(2)\n        ivibwth  =      .002*ilog2pch           ; relate width to fund pch\n        ivibhz   =      5                       ; from 5 to 6.5 hz average\n        irandhz  =      125                     ; same as Morril-trumpet\n        iportdev =      .05                     ; \"     \"       \"      \"\n;************************* performance\n; vibrato generator\n        krand   randi   ivibwth,irandhz         ; random contribution\n        kvibwth linen   ivibwth,.6,p3,.1        ; gate vibrato width\n        kvib    oscili  kvibwth,ivibhz,1        ;\n        kport   oscil1  0,iportdev,.2,ifport    ; initial portamento\n        kv      =       1+kvib+kport+krand      ; vibrato factor ca. 1\n\n; modulating signal\n        kdyn    linseg  0,.03,1,idur-.03-.01,.9,.01,0  ; dynamic index\n        adev1   oscili  ipkdev1,imodhz*kv,1     ; modulator\n        adev2   =       adev1*ifmtndx/ifndndx   ; rescale for formant\n\n; carrier signals\n        afundhz =       (icarhz+adev1)*kv       ; vib the modulated fund...\n        aformhz =       (ifmthz+adev2)*kv       ; ...and modulated formant\n\n        afund   linen   ifndamp,.1,p3,.08\n        afund   oscili  afund,afundhz,1\n        aform   envlpx  ifmtamp,.1,p3,.08,ifenv,1,.01\n        aform   oscili  aform,aformhz,1\n\n        asig    =       (afund+aform)*p4        ; scale to peak amp here\n                out     asig\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     20_20_6.SCO\n; coded:     jpg 10/93\n\n\n; GEN functions **********************************************************\n\n; carriers\nf1        0   512    10     1\n\n; envelopes\n; portamento function\nf31        0   513     7    -1   200     1   100     0   212     0\n; fmt freq lookup function\nf32        0   513     7     1    80     1   200    .9   200    .6    32\n; fmt amplitude factor lookup function\nf33        0   513     7    .4   100    .2   412     1\n; index 1 lookup function\nf41        0   513     7     1   100     1   112    .4   300   .15\n; index 2 lookup function\nf42        0   513     7     1   100    .5    80   .25   132    .5   100\n; fmt amplitude rise function\nf49        0   513     7     0   256    .2   256     1\n\n\n; score ******************************************************************\nt 0 40\n\n; p6 = 0 < ampfac < 1                  \n;             idur      iamp    ipch  \ni1      0      .5      12000    9.01     \ni1      .4     .5       7000    8.09  \ni1      .8     .4       6000    8.05  \ni1     1.2    1.5      12000    8.08  \ni1     3.0     .5       8000    8.07\ni1     3.4    1.0      18000    9.06  \ni1     4.8     .5      14000    9.07  \ni1     5.2     .45     10000    9.03  \ni1     5.6     .5       4000    8.11  \ni1     6.0    1.4       8000    9.02  \ni1     7.4     .5      12000    8.10  \ni1     7.8    2        14000    9.01  \n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for 3D Sample Wave Terrain using sample playback and interpolating oscillator and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from SampleTerrain.orc and SampleTerrain.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 1\n\n\ninstr    1 ; 3D Sample Wave Terrain\n\nilevl    = p4*32767                    ; Output level\nipitch   = (p5 < 10 ? cpspch(p5) : p5) ; Pitch in cpspch or Hz\niposx1   = p6                          ; X position start\niposx2   = p7                          ; X position finish\niposy1   = p8                          ; Y position start\niposy2   = p9                          ; Y position finish\niradi1   = p10/1000                    ; Radius start (scaled)\niradi2   = p11/1000                    ; Radius end (scaled)\niratex   = p12                         ; X random rate\niratey   = p13                         ; Y random rate\nidpth    = p14/1000                    ; Random depth (scaled)\n\nkx       line  iposx1, p3, iposx2      ; X position\nky       line  iposy1, p3, iposy2      ; Y position\nkrad     line  iradi1, p3, iradi2      ; Radius\nkrndx    randi  idpth, iratex          ; X random position modulation\nkrndy    randi  idpth, iratey          ; Y random position modulation\nksin     oscili  krad, ipitch, 3       ; X indexing osc (sine)\nkcos     oscili  krad, ipitch, 3, .25  ; Y indexing osc (cosine)\nkindx    = kx + ksin + krndx           ; Add X indexes together\nkindy    = ky + kcos + krndy           ; Add Y indexes together\nax       tablei  kindx, 1, 1, 0, 1     ; X indexing\nay       tablei  kindy, 2, 1, 0, 1     ; Y indexing\nout      ax*ay*ilevl                   ; Output\n\nendin\n\n</CsInstruments>\n<CsScore>\n;Terrain Tables\nf1 0 32768 1 \"Sample1\" 0 4 0 ; X Sample1\nf2 0 65536 1 \"Sample2\" 0 4 0 ; Y Sample1\n\n;Index Table\nf3 0 8193 10 1 ; Sine\n\n;   Strt  Leng  Levl  Pitch Xpos1 Xpos2 Ypos1 Ypos2 Radi1 Radi2 Xrate Yrate Depth\ni1  0.00  16.0  4.00  110.0 0.25  0.35  0.10  0.75  0.00  0.25  2.35  1.11  0.10\ni1  .     .     2.00  220.5 0.10  0.33  1.00  0.33  0.00  0.25  1.25  0.77  0.10\ni1  .     .     1.00  440.3 0.50  0.77  0.80  0.74  0.01  0.10  2.23  3.14  0.10\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 20_20_4.orc and 20_20_4.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     20_20_4.ORC\n; synthesis: FM(20),\n;            double-carrier FM, dynamic spectral evolution (20)\n;            synthesizing a formant region (1)\n; source:    Chowning(1973)\n; notes:     I am using the brass settings of 20_10_3.ORC\n; coded:     jpg 10/93\n\n\ninstr 1; *****************************************************************\nidur   = p3\niamp   = p4/2\nifenv  = 31                    ; brass settings:\nifdyn  = 31                    ; amp and index envelope as 20_10_3\nifq1   = p5\nifqmod = p5\nimax1  = p6\nimax2  = p7\nimin   = 2\niform  = 2100                   ; fixed formant region at about 2100 Hz\nifq2   = int((iform/ifq1) + .5)*ifq1       ; make formant p5 dependent\n\n   kenv  oscili   iamp, 1/idur, ifenv                   ; envelope\n\n   kdyn  oscili   ifq2*(imax2-imin), 1/idur, ifdyn      ; index\n   kdyn  =        (ifq2*imin)+kdyn                      ; add minimum value\n   amod  oscili   kdyn, ifqmod, 1                       ; modulator\n\n   a1    oscili   kenv, ifq1+amod, 1                    ; carrier 1\n   a2    oscili   kenv*2, ifq2+(amod*(imax2/imax1)),1   ; carrier 2\n         out      a1+a2\n\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     20_20_4.SCO\n; coded:     jpg 8/92\n\n\n; GEN functions **********************************************************\n; carriers\nf1  0  512  10  1\n\n; envelopes\nf31 0 513 7 0 85 1  85 .75  258 .59 85 0      ; amplitude & index envelope\n\n; score ******************************************************************\n\n;    idur iamp   ifq1 imax1 imax2\ni1  0  1  8000    300   3    1.5\ni1  2  1  .       200   .    .\ni1  4  1  .       400   .    .\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for k1             linseg    p5,p3.4,p5,p3.6,p5*.9 using interpolating oscillator and Karplus-Strong plucked string and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from BLAST1.ORC and BLAST1.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n\ninstr          1\na1             pluck     p4,cpspch(p5),cpspch(p5),0,1,0,0        ;P4=AMP, P5=FREQ\nout            a1\nendin\n\ninstr 2\nk1             linseg    p5,p3.4,p5,p3.6,p5*.9\na1             pluck     p4,cpspch(p5),cpspch(p5),0,1,0,0\nout            a1\nendin\n\ninstr 3\nk1             randi     3,5  ;trem freq from rand\nk2             oscili    20,k1,2  ;trem oscili w/rand freq - #2 f unit\nk3             linseg    p4*.1,p3*.7,p4,p3*.3,p4*.90                  ;AMP SEG\nk4             linseg    p5*1.02,p3*.05,p5*.96,p3*.95,p5              ;FREQ SEG\na1             oscili    k3,k4+k2,1\nout            a1\nendin\n\n\n</CsInstruments>\n<CsScore>\nf 1 0 4097 9 1 1 0 ; 3 1.3603 0  5 1.6176 0  7 1.1176 0  9 1.2058 0  11 1.0735 0  13 1.1103 0  15 1.0235 0 ; 17 .0367 0 18 .0073 0 19 .0029 0 20 .0058 0 21 .0044 0\nf 2 0 4097 9 1 1 0\n\ni2 0 22  4000 3.060\ni2 . . .      3.061\ni2 . . .      3.062\ni2 . . .      3.063\ni2 . . .      3.064\ni2 . . .      3.065\ni2 . . .      3.066\ni2 . . .      3.067\ni2 . . .      3.068\ni2 . 22 .     3.069\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 33_50_1.orc and 33_50_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:      33_50_1.ORC\n; synthesis:  Amplitude Modulation(33)\n;             \"classical\" AM(50)\n; coded:      jpg 10/93\n\n\ninstr 1; *****************************************************************\nidur  = p3\niamp  = p4/2  ; holding amplitude within range specified by p4\nifqc  = p5\nifc   = p6\nimod  = p7    ; normalized modulation index\nifqm  = p8\nifm   = p9\nife   = 51\n\n   amod   oscili  imod*iamp, ifqm, ifm      ; modulator\n   a1     =       amod + iamp * (2-imod)    ; mix & scale\n\n   aenv   oscili  a1, 1/idur, ife           ; envelope\n   a2     oscili  aenv, ifqc, ifc           ; carrier\n\n          out     a2\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     33_50_1.SCO\n; coded:     jpg 10/93\n\n\n; GEN functions **********************************************************\n; carrier & modulator\nf1 0 512 10 1  ; sinus\n\n; envelope\nf51 0 513  5     1   50     5000       462   1\n\n; score ******************************************************************\n\n;     idur iamp ifqc ifc imod  ifqm  ifm      ; increasing\ni1  0   1  8000  400  1   0     100    1      ; modulation in steps of 0.2\ni1  +   .  .     .    .   0.2   .      .      ; from 0 to 1\ni1  .   .  .     .    .   0.4   .      .\ni1  .   .  .     .    .   0.6   .      .\ni1  .   .  .     .    .   0.8   .      .\ni1  .   .  .     .    .   1     .      .      \n\ns\n\ni1  0   1  8000  400  1   1     150    1      ; various modulators\ni1  +   .  .     .    .   .     200    .     \ni1  .   .  .     .    .   .     300    .\ni1  .   .  .     .    .   .     400    .\ni1  .   .  .     .    .   .     800    .\ni1  .   .  .     .    .   .    1200    .      \n\n\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur  iamp ifq1    irise   idec   ifundr using interpolating oscillator and interpolating random and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 02_41_1.orc and 02_41_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     02_41_1.ORC\n; timbre:    brass\n; synthesis: additive, same building blocks units(02)\n;            basic instrument with added random frequency variation(41)\n; source:    #200 Brass-like Sounds through Independent Control of\n;            Harmonics, Risset(1969) /i1 and 17/\n; coded:     jpg 8/93\n\n\ninstr 1; *****************************************************************\nidur  =  p3\niamp  =  p4\nifq1  =  p5\nirise =  p6            ; steep rise  (.5 to 3 ms)\nidec  =  p7            ; steep decay (4 to 11 ms)\nifundr=  p8 * .06      ; 6% of fundamental\n\n        afqr   randi   ifundr, 10\n        aenv   linen   iamp, irise, idur, idec\n        a1     oscili  aenv, ifq1 + afqr, 1\n               out     a1 * 8\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:    02_41_1.SCO\n; coded:    jpg 8/93\n\n\n; GEN functions **********************************************************\n; waveform\nf1 0 1024 9 1 1 0                ; sinus with amplitude 1, start phase 0\n\n\n;score *******************************************************************\n; instr 1  idur  iamp ifq1    irise   idec   ifundr\n\ni1  0      .17    200  554    .0006  .0112     554     ;*** first note ***\ni1  0      .17    160 1108    .0006  .0088      .      ;*** 9 harmonics **\ni1  0      .17    350 1662    .00096 .0068      .\ni1  0      .15    310 2216    .00112 .0064      .\ni1  0      .14    160 2770    .00192 .0052      .\ni1  0      .14    200 3324    .00216 .0048      .\ni1  0      .14     99 3878    .00256 .0048      .\ni1  0      .14    200 4432    .0024  .0048      .\ni1  0      .14     80 4986    .0028  .0048      .\n\ni1  2      .15     50  293    .0008  .0112     293    ;*** second note ***\ni1  2      .15     80  586    .0008  .0112      .     ;*** 14 harmonics **\ni1  2      .15    100  879    .00096 .0068      .\ni1  2      .15    175 1172    .00136 .0064      .\ni1  2      .15    180 1465    .002   .0052      .\ni1  2.01   .15    150 1758    .0024  .0048      .\ni1  2.01   .15    100 2051    .0028  .0048      .\ni1  2.01   .13     80 2344    .0028  .0048      .\ni1  2.01   .14     50 2637    .0032  .008       .\ni1  2.01   .14     80 2930    .0032  .008       .\ni1  2.01   .14    140 3223    .0036  .008       .\ni1  2.01   .13     90 3516    .0036  .008       .\ni1  2.01   .13     45 3809    .0032  .008       .\ni1  2.01   .13     25 4102    .0032  .0072      .\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for SURFACE GENERATOR using interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from wts7.orc and wts7.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n          instr 1             ; SURFACE GENERATOR\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\np3        =         .01\ngisize    =         256                      ; NUMBER AND SIZE OF THE TABLES\ngifn0     =         301\nkrow      init      0\n\n; FILL isize TABLES OF SIZE isize TO CREATE THE SURFACE\n\niafno     ftgen     3, 0, gisize+1 , 10, 1   ; SEE MY DOCS\n\nloop:\nirow      =         i(krow)\niycomp    tablei    irow, 3\niftnum    =         gifn0+i(krow)\niafno     ftgen     iftnum, 0, gisize+1 , -10, iycomp\n\nkrow      =         krow + 1\n          if        krow >= gisize + 2 goto end\n          reinit    loop\n\nend:\n          endin\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n          instr 2             ; ORBIT & WAVEFORM GENERATOR\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\ninote     =         p4\niamp      =         20000\n\n; SET A SPIRAL OF kradius TO INDEX THE SURFACE\n\nkradius   linen     .5, .25, p3, p3-.25\nkx        oscili    kradius, inote, 1        ; SINE\nky        oscili    kradius, inote, 2, 1/4   ; COSINE\n\n; MAP THE ORBIT THROUGH THE SURFACE\n; TABLE INDEXES\n\nkfndown   =         int(ky*gisize) + gifn0 \nkfnup     =         int(1+ky*gisize) + gifn0\nkndx      =         kx                       ; NORMALIZED 0 TO 1\n\n          igoto     end\n\n;         table     read\n\nazdown    tableikt  kndx,kfndown, 1, .5, 1\nazup      tableikt  kndx,kfnup,   1, .5, 1\n\n\n; LINEAR INTERPOLATION\n\nay        upsamp    frac(ky*gisize)\n\naz        =         (1-ay)*azdown + ay*azup\n\n; FINAL OUTPUT & ENDIN\n          out       iamp*az\n\nend:\n          endin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 10 1; a sine wave from -1 to 1 for table index\nf2 0 8193 19 1 1 0 1; a sine wave from 0 to 1 for table number\n\ni1 0 1\ns\ni2 0 3 100\ni2 3 3 200\ni2 6 6 400\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for SURFACE GENERATOR using interpolating oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from wts6.orc and wts6.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n          instr 1             ; SURFACE GENERATOR\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\np3        =         .01\ngisize    =         256                      ; NUMBER AND SIZE OF THE TABLES\ngifn0     =         301\nkrow      init      0\n\n; FILL isize TABLES OF SIZE isize TO CREATE THE SURFACE\nloop:\n          iftnum    = gifn0+i(krow)\niafno     ftgen     iftnum, 0, gisize+1 , 9, 1, 1, 90*iftnum/gisize\n\nkrow      =         krow + 1\n          if        krow >= gisize + 2 goto end\n          reinit    loop\n\nend:\n          endin\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n          instr 2             ; ORBIT & WAVEFORM GENERATOR\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\ninote     =         p4\niamp      =         20000\n\n; SET A SPIRAL OF kradius TO INDEX THE SURFACE\n\nkradius   linseg    .05, p3/2, .5, p3/2, .05\nkx        oscili    kradius, inote, 1        ; SINE\nky        oscili    kradius, inote, 2, 1/4   ; COSINE\n                                             \n; MAP THE ORBIT THROUGH THE SURFACE\n; TABLE INDEXES\n\nkfndown   =         int(ky*gisize) + gifn0\nkfnup     =         int(1+ky*gisize) + gifn0\nkndx      =         kx                       ; NORMALIZED 0 TO 1\n\n          igoto     end\n\n;         table     read\n\nazdown    tableikt  kndx,kfndown, 1, .5, 1\nazup      tableikt  kndx,kfnup,   1, .5, 1\n\n\n; LINEAR INTERPOLATION\n\nay        upsamp    frac(ky*gisize)\naz        =         (1-ay)*azdown + ay*azup\n\n; FINAL OUTPUT & ENDIN\n;         out       iamp*az\n          out       iamp*azdown\n\nend:\n               endin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 10 1; a sine wave from -1 to 1 for table index\nf2 0 8193 19 1 1 0 1; a sine wave from 0 to 1 for table number\n\ni1 0 1\ns\ni2 0 3 100\ni2 3 3 200\ni2 6 6 400\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Exponential (CR) ADSR envelope with k-rate times using interpolating oscillator and ADSR envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from ADSR-Exp.orc and ADSR-Exp.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 4410\nksmps    = 10\nnchnls   = 1\n\n\ninstr    1 ; Exponential (CR) ADSR envelope with k-rate times\n\nilevl    = p4*32767                ; Output level\nkatk     = (p5 < .001 ? .001 : p5) ; Attack time >1ms\nkdec     = (p6 < .001 ? .001 : p6) ; Decay time >1ms\nksusl    init p7                   ; Sustain level\nkrel     = (p8 < .001 ? .001 : p8) ; Release time >1ms\nksus     = p3 - katk - kdec - krel\nkrate    = 1/(katk + kdec + ksus + krel)\nk1       = katk\nk2       = k1 + kdec\nk3       = k2 + ksus\nk4       = k3 + krel\naramp    oscili  k4, krate, 1\na1       limit  aramp, 0, k1\na2       limit  aramp, k1, k2\na3       limit  aramp, k2, k3\na4       limit  aramp, k3, k4\naramp    = .25*(a1*(1/katk) + (a2-k1)*(1/kdec) + (a3-k2)*(1/ksus) + (a4-k3)*(1/krel))\nadsr1    tablei  aramp, 2, 1\natk      tablei  aramp, 3, 1\nadsr2    tablei  aramp, 4, 1\nadsr3    = adsr1*ksusl + adsr2*(1 - ksusl)\nout      (adsr3 - atk)*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 -7 0 8192 1                       ; Ramp\nf2 0 8193 -5 1 6144 1 2048 .0001            ; DSR(Sustain=1)\nf3 0 8193 -5 1 2048 .0001 6144 .0001        ; -A\nf4 0 8193 -5 1 2048 1 2048 .0001 4096 .0001 ; DSR(Sustain=0)\n\n;     Strt  Leng  Levl  AtkT  DecT  SusL  RelT\ni01   0.00  1.00  1.00  0.25  0.25  0.00  0.25\ni01   1.00  1.00  1.00  0.00  0.50  0.75  0.25\ni01   2.00  1.00  1.00  0.00  0.75  0.00  0.25\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur     iamp  ifq1 if1  if2    iperc  ifqr using interpolating oscillator and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 01_12_1.orc and 01_12_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     01_12_1.ORC\n; synthesis: simple(01), basic instrument + random amp variation(12)\n; coded:     jpg 10/93\n\n\ninstr  1; ****************************************************************\nidur  = p3\niamp  = p4\nifq1  = p5\nif1   = p6\nif2   = p7\niperc = p8  ; random amplitude in percent of iamp\nifqr  = p9  ; frequency of new random numbers\n\n        a3   randi    (iamp/100)*iperc, ifqr  ; % of amplitude variation\n\n        a2   oscili   a3+iamp, 1/idur, if2    ; envelope\n\n        a1   oscili   a2, ifq1, if1           ; waveform\n             out      a1\nendin\n\n</CsInstruments>\n<CsScore>\n; **********************************************************************\n; ACCCI:     01_12_1.SCO\n; coded:     jpg 10/93\n\n; **********************************************************************\n; GEN functions\n; waveform\nf1 0 2048 10 1 .4 .2 .1 .1 .05                   ; six harmonics\n\n; envelopes\nf31 0 512 7 0 1 0 49 .2 100 .6 50 .99 150 .2 162 0\n\n\n\n; **********************************************************************\n; score                                       RANDI\n; instr 1  idur     iamp  ifq1 if1  if2    iperc  ifqr\ni1  1      1.5      8000  1109  1    31      1     40\ni1  4       .        .    .     .    .      50     .\ni1  7       .        .    .     .    .      80     .\ni1 10       .        .    .     .    .     200     .\ni1 13       .        .    .     .    .     300     .\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and interpolating random and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 20_20_5.orc and 20_20_5.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     20_20_5.ORC\n; synthesis: FM(20),\n;            double-carrier FM, dynamic spectral evolution (20)\n;            trumpet (5)\n; source:    Morrill(1977)\n; coded:     jpg 10/93\n\n\ninstr 1; *****************************************************************\nidur      = p3\niamp      = p4/1.2\nifq1      = p5\nimax1     = p6\nifq2      = p7\nimax2     = p8\nifqm      = ifq1\niratio    = imax2/imax1\n\nivibwidth = .007      ; vibrato generator\nirandev   = .007\nifqr      = 125\nivibrate  = 7\niportdev  = .03\n\n; vibrato signal\n\n   kwidth  linseg   0, .6, ivibwidth, idur - .6 - .2, ivibwidth, .2, 0\n   kv1     randi    irandev, ifqr\n   kv2     oscili   kwidth, ivibrate, 1\n   kv3     oscili   iportdev, 1/idur, 31\n   kv      =        (1+kv1)*(1+kv2)*(1+kv3)\n\n; double-carrier, single modulator instrument\n\n   kdyn    linseg   0, .03, 1, idur - .03 - .01, .9, .01, 0\n   amod    oscili   kdyn*ifqm*imax1, ifqm*kv, 1\n\n   kamp1   linseg   0, .03, 1, idur - .03 - .15, .9, .15, 0\n   a1      oscili   kamp1*iamp, amod+(ifq1*kv), 1\n\n   kamp2   linseg   0, .03, 1, idur - .03 - .3, .9, .3, 0\n   a2      oscili   kamp2*iamp*.2, (amod*iratio)+(ifq2*kv), 1\n\n           out      a1+a2\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     20_20_5.SCO\n; coded:     jpg 10/93\n\n\n; GEN functions **********************************************************\n; carriers\nf1  0  512  10  1\n\n; envelopes\nf31 0  512  -7  -1 150 .1 110 0 252 0      ; portamento deviation function\n\n\n; score ******************************************************************\n\n;    idur iamp ifq1  imax1 ifq2  imax2\n\ni1  0  1  8000  250   2.66  1500  1.8\ni1  2  2  .      .     .     .     .\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ,2,3 using interpolating oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from THICK.ORC and THICK.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n; THICK.O\n\n; THIS INSTRUMENT PRODUCES \"THICKENED\" SINE TONES BY ADDING TOGETHER\n; FIVE CLOSELY-TUNED SINE TONES.\n; TO CREATE A BEATING EFFECT BETWEEN THE FREQUENCIES OF THE COMPONENT\n; OSCILLATORS, ADD OR SUBTRACT A SMALL FREQUENCY DEPENDANT NUMBER TO P4.\n\n\n\ninstr          1,2,3\n\n                                             ; P4 = FREQUENCY IN OCTAVE.DECIMAL NOTATION\n                                             ; P5 = AMPLITUDE\n\ni1             =         cpsoct(p4)          ; CONVERTS FREQ FROM OCTAVE.DECIMAL TO HZ\n\n                                             ; CREATE TWO FREQUENCY COMPONENTS ABOVE THE NOTE\n                                             ; INDICATED BY MULTIPLYING THE OCTAVE.DECIMAL\n                                             ; SPECIFICATION OF THE NOTE BY SMALL CONSTANTS\n                                             ; AND ADDING THE RESULT TO THE HZ VALUE OF I1.\n\ni2             =         i1+(p4*.13)\ni3             =         i1+(p4*.23)\n\n                                             ; CREATE TWO BEATING COMPONENTS BELOW THE NOTE\n                                             ; IN THE SAME WAY\ni4             =         i1-(p4*.19)\ni5             =         i1-(p4*.11)\n\na1             oscili    p5,i1,1                       ; F1 IS A SINE FUNCTION\na2             oscili    p5,i2,1\na3             oscili    p5,i3,1\na4             oscili    p5,i4,1\na5             oscili    p5,i5,1\n\naout           =         a1+a2+a3+a4+a5\n\naenv           linseg    0,p3/2,1,p3/2,0,.01,0         ; THE \"TEEPEE\" ENVELOPE FOR THE TONE\n\nout            aenv*aout\n               endin\n\n</CsInstruments>\n<CsScore>\n; Thick.s\n\nf1 0 1024 9 1 1 0\n\n;       start   dur     freq    amp\ni1      1       3       6.1     2500\ni.      +       .       7.2\ni.      +       .       8.3\ni.      +       .       9.4\ns\ni1      1       4       6.3     1500\ni2      1       4       2.1     1500\ni3      1       4       9.9     1500\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a binauralbeats sound using interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from BinauralBeats.orc and BinauralBeats.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2 \n\n\n;*************************************   BINAURAL BEATS   ****************************************\n; AN IMPORTANT ISSUE IN THE STUDY OF SOUND LOCALIZATION CONCERNS THE EAR'S ABILITY TO PROCESS\n; PHASE DIFFERENCES IN THE EARS. ONE WAY TO STUDY THIS PHENOMENON IS TO PRESENT TWO SINUSOIDS OF\n; SLIGHTLY DIFFERENT FREQUENCIES, ONE TO EACH EAR. AT LOW FREQUENCIES THE SOUND MAY APPEAR TO \n; FLUCTUATE OR BEAT SLOWLY AT A RATE EQUAL TO THE FREQUENCY DIFFERENCE BETWEEN THE TWO TONES.\n; NOTE THAT THESE \"BINAURAL BEATS\" ARE QUITE UNLIKE THE PHYSICAL BEATS THAT CAN BE HEARD BY A SIN-\n; GLE EAR. THERE, THE SMALL DIFFERENCE IN THE TWO FREQUENCIES CAUSES THE PHYSICAL STIMULUS TO WAX \n; AND WANE IN INTENSITY; IF THIS FLUCTUATION IS SLOW ENOUGH, IT IS EXPERIENCED AS A BEATING SENSA-\n; TION. WITH BINAURAL BEATS, HOWEVER, THE INTERACTION BETWEEN THE TWO TONES OCCURS BECAUSE OF \n; SOME KIND OF INTERACTION IN THE NERVOUS SYSTEM OF THE INPUTS FROM EACH EAR.\n; ONE MIGHT EXPECT THAT THESE BINAURAL BEATS WOULD OCCUR ONLY AT LOW FREQUENCIES, SINCE AT HIGHER\n; FREQUENCIES IT IS DIFFICULT TO IMAGINE THAT THE NERVOUS SYSTEM CAN PRESERVE THE TEMPORAL STRUC-\n; TURE OF THE WAVEFORM AT EACH EAR, A CONDITION THAT MUST BE MET FOR THEIR INTERACTION TO BE NOTICE-\n; ABLE. THIS CONJECTURE IS SUPPORTED BY QUANTITATIVE MEASUREMENTS (LICKLIDER, WEBSTER, AND HEDLUN, \n; 1950). THEY FOUND THAT THE BEST BINAURAL BEATS  OCCURED AT FREQUENCY SEPARATIONS OF ABOUT 30HZ NEAR\n; 400HZ AND MUCH SMALLER FREQUENCY SEPARATIONS AT THE HIGHER FREQUENCIES. NO BINAURAL BEATS ARE EVI-\n; DENT ABOVE 1500HZ. TOBIAS (1965) FOUND THAT MEN APPEAR TO PERCEIVE BINAURAL BEATS AT HIGHER FRE-\n; QUENCY THAN WOMAN, BUT THIS NEEDS MORE EXPLORATION.\n; IN THIS DEMONSTRATION A 250HZ TONE IS PRESENTED TO THE RIGHT EAR, WHILE 251HZ TONE IS PRESENTED TO\n; THE LEFT EAR.   \n;*****************************************   HEADER   *************************************************\n\n\n \n \n instr         1\n\n iamp          =         ampdb(p4)                ;P4 = AMPLITUDE IN DB \n ifreq         =         p5                       ;P5 = FREQUENCY\n                                                  ;P6 = PANNING FUNCTION FOR SIGNAL\n\n k1            linen     iamp,.05,p3,.05         \n a1            oscili    k1,ifreq,1             \n k2            oscili    1,p3,p6\n kleft         =         sqrt (k2)\n kright        =         sqrt (1-k2)\n aleft         =         a1 * kleft\n aright        =         a1 * kright\n               outs      aleft,aright \n endin  \n\n\n</CsInstruments>\n<CsScore>\nf1 0 512 10 1  \n;    ALL RIGHT\nf2 0 512 7 1 512 1\n;    ALL LEFT\nf3 0 512 7 0 512 0\n\n\n;*****************************************   BINAURAL BEATS   *****************************************\n;   p1      p2      p3     p4      p5        p6      \n;  inst    strt    dur    amp    ifreq     panfunc\n    i1      1.0    30.0    80     250        2\n    i1      4.0    23.0    80     251        3\n    e\n    \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a spatialpan sound using panning and interpolating oscillator and modal synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from SpatialPan.orc and SpatialPan.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 2\n\n\ninstr    1 ; Spatial Panning inspired by Red Sound's Federation BPM FX Pro\n\nilevl    = p4      ; Output level\nicut1    = p5      ; Low/Mid crossover frequency\nicut2    = p6      ; Mid/High crossover frequency\nirate1   = p7      ; Low rate\nirate2   = p8      ; Mid rate\nirate3   = p9      ; High rate\niphse1   = p10/360 ; Low phase\niphse2   = p11/360 ; Mid phase\niphse3   = p12/360 ; High phase\nimode    = p13     ; Mode: 1=Normal 2=Mid/High inverted\n\nain      soundin  \"sample1\"\n\napan1    oscili  1, irate1, 1, iphse1        ; LFO1\napan2    oscili  1, irate2, 1, iphse2        ; LFO2\napan3    oscili  1, irate3, 1, iphse3        ; LFO3\napan1    = sqrt(apan1)                       ; L pan1\napan2    = sqrt(apan2)                       ; L pan2\napan3    = sqrt(apan3)                       ; L pan3\napan4    = sqrt(1 - apan1)                   ; R pan1\napan5    = sqrt(1 - apan2)                   ; R pan2\napan6    = sqrt(1 - apan3)                   ; R pan3\nalo      tone  ain, icut1                    ; Low frequency signal\natm      tone  ain, icut2                    ; Not used (low + mid)\namd      atone  atm, icut1                   ; Mid frequency signal\nahi      atone  ain, icut2                   ; High frequency signal\nif       imode == 2 goto invert              ; Select normal or inverse phase\namix1    = alo*apan1 + amd*apan2 + ahi*apan3 ; L panning - normal\ngoto normal\ninvert:\namix1    = alo*apan1 - amd*apan2 - ahi*apan3 ; L panning - inverted\nnormal:\namix2    = alo*apan4 + amd*apan5 + ahi*apan6 ; R panning\nouts1    amix1*ilevl                         ; L level and output\nouts2    amix2*ilevl                         ; R level and output\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 10 1 ; Sine\n\n;Mode: 1=Normal 2=Invert          Low   Mid   High  Low   Mid   High\n;   Strt  Leng  Levl  LoFrq HiFrq Rate  Rate  Rate  Phase Phase Phase Mode\ni1  0.00  1.47  1.00  250   2500  0.68  0.68  0.68  0     120   240   2\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 02_01_3.orc and 02_01_3.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 2 \n\n; ************************************************************************\n; ACCCI:     02_01_3.ORC\n; timbre:    gong\n; synthesis: additive same units(02)\n;            basic instrument(01)\n; source:    #420  Gong-like Sounds, Risset(1969)\n; coded:     jpg 8/93\n\n\ninstr 1; *****************************************************************\nidur  = p3\nifq1  = p4\niamp  = p5\n\n   a2    oscili  iamp, 1/idur, 51\n   a1    oscili  a2, ifq1, 11\n         outs     a1, a1\nendin\n\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     02_01_3.SCO\n; source:    #420  Gong-like Sounds, Risset(1969)\n; coded:     jpg 8/93\n\n\n; GEN functions **********************************************************\n; waveform\nf11  0   512   9  1  1  0\n\n; envelopes\nf51  0   513   5  128 512 1\n\n\n\n; score ******************************************************************\n;  start  idur   ifq1     iamp\n\ni1   0    10     240      3000         ; synchronous decay\ni1   .     .     277      2500\ni1   .     .     385      2000\ni1   .     .     605      3000\ni1   .     .     340      1000\ni1   .     .     670         .\ni1   .     .     812         .\n\n\ni1  11    10     240      3000         ; non-synchronous decay\ni1   .     9.6   277      2500\ni1   .     8.8   385      2000\ni1   .     1.6   605      3000\ni1   .     8.0   340      1000\ni1   .     5.2   670         .\ni1   .     4.0   812         .\n\n\ni1  22    8.0    242.5    3000         ; different frequencies\ni1   .    7.6    307.5    2500         ; non-synchronous decay\ni1   .    6.8    340.0    1000\ni1   .    4.8    384.0    2000\ni1   .    3.6    521.0    1000\ni1   .    2.8    802.0    1500\n\ni1  31    10     240      3000         ; 4 overlapping attacks\ni1   .     9.6   277      2500         ; beats\ni1   .     8.8   385      2000\ni1   .     1.6   605      3000\ni1   .     8.0   340      1000\ni1   .     5.2   670         .\ni1   .     4.0   812         .\n\ni1 32.8    8.8   241.25   2000\ni1   .     8.4   262.25   1500\ni1   .     4.0   357.5    2500\ni1   .     5.2   302.5    1000\ni1   .     4.4   315         .\ni1   .     7.6   385         .\ni1   .     6.4   482.5       .\n\ni1 33.2   11.6   242.5    3000\ni1   .    10.8   307.5    2500\ni1   .    10.4   340      1000\ni1   .     6.4   384      2000\ni1   .     4.8   512      1000\ni1   .     4.4   820      1500\n\ni1 38.8   13.6   240      1500\ni1   .    12.8   277      1250\ni1   .    12.0   385      1500\ni1   .    8.4    605       500\ni1   .    3.20   340      1000\ni1   .    6.40   670       500\ni1   .    4.40   812       500\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 40_60_1.orc and 40_60_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:      40_60_1.ORC\n; timbre:\n; synthesis:  waveshaping(40)\n;             polynomial function table for transfer function(60)\n;             general purpose waveshaper(1)\n; coded:      jpg 11/93\n\n\n; sinus and table waveshaper should be the same value\n; amplitude input of waveshaping oscillator is int(table length/2)\n; p6 'xamp' of GEN 13  is also int(table length/2)\n; odd function, always odd harmonics.. check Chebychev function type\n\ninstr 1; *****************************************************************\nidur  = p3\niamp  = p4\nifqc  = cpspch(p5)\nitf   = p6\n\n        a1      oscili   4096, ifqc, 1              ; sinus\n        a1      tablei   a1, itf                    ; transfer function\n        ; now:  -1 < a1 < 1\n\n        aenv    linen    iamp, .085, idur, .04      ; envelope\n                out      a1*aenv\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:   40_60_1.SCO\n; coded:   jpg 11/93\n\n\n; GEN functions **********************************************************\n; carrier\nf 1   0 8193 10 1               ; sinus\n\n; transfer function by GEN 13: use of Chebychev coefficients\n;                  xamp    xint    h0 h1 h2  ..... hn\nf 88  0  8193  13  4096     1      1  1\nf 89  0  8193  13  4096     1      1  1 1 2\nf 90  0  8193  13  4096     1      1  1 0 0 0 0 0 6 5 4  \n\n; score ******************************************************************\n\n;           idur   iamp   ipch  itf\ni1  0.000   0.750  8000   7.04   88\ni1  0.750   0.250  .      7.07   .\ni1  1.000   1.000  .      8.00   .\ni1  2.000   0.200  .      8.02   89\ni1  2.200   0.200  .      8.04   .\ni1  2.400   0.200  .      8.05   .\ni1  2.600   0.200  .      9.00   .\ni1  2.800   0.200  .      9.04   .\ni1  3.000   0.250  .      9.05   .\ni1  3.250   0.250  .      9.00   .\ni1  3.500   0.250  .      8.05   .\ni1  3.750   0.250  .      8.00   .\ni1  4.000   1.000  .      7.04   90\ni1  5.000   0.125  .      7.07   .\ni1  5.125   0.125  .      8.00   .\ni1  5.250   0.125  .      8.02   .\ni1  5.375   0.125  .      8.04   .\ni1  5.500   0.125  .      8.05   .\ni1  5.625   0.125  .      9.00   .\ni1  5.750   0.125  .      9.04   .\ni1  5.875   0.125  .      9.05   .\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a auralcombinationtones sound using interpolating oscillator and linear envelope and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from AuralCombinationTones.orc and AuralCombinationTones.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2 \n\n\n;*************************************   AURAL COMBINATION TONES   ***********************************\n; WHEN TWO OR MORE TONES ARE PRESENTED SIMULTANEOULS, VARIOS NONLINEAR PROCESSES IN THE EAR PRODUCE \n; COMBINATION TONES. THE MOST IMPORTANT COMBINATION TONES ARE THE \"DIFFERENCE TONES\" OF VARIOS ORDERS,\n; WITH FREQUENCIES F1 - N(F2 - F1), WHERE \"N\" IS AN INTERGER, AND F2 - F1.\n; TWO PROMINENT DIFFERENCE TONES ARE THE QUADRATIC DIFFERENCE TONE F2 - F1, OR SIMPLY THE \"DIFFERENCE\n; TONE\", AND THE CUBIC TONE 2F1 - F2. IF F1 REMAINS CONSTANT (AT 1000HZ IN THIS DEMONSTRATION) WHILE F2\n; THE CUBIC DIFFERENCE TONE MOVES IN THE OPPOSITE DIRECTION. AT LOW LEVELS (@ 50DB), THEY CAN BE HEARD \n; FROM ABOUT F2/F1 = 1.2 TO 1.4, BUT AT 80DB THEY ARE AUDIBLE OVER NEARLY AN ENTIRE OCTAVE (F2/F1 = 1 \n; TO 2. IN THIS CASE, QUADRATIC AND CUBIC DIFFERENCE TONES CROSS OVER AT 1.5.\n; IN THIS DEMONSTRATION, WHICH FOLLOWS NO. 19 ON THE \"HARVARD TAPES,\" TONES WITH FREQUENCIES OF 1000 \n; AND 1200HZ ARE FIRST PRESENTED. WHEN AN 804HZ TONE IS ADDED, IT BEATS WITH THE 800HZ (QUADRATIC) DIF-\n; FERENCE TONE. \n; NEXT, THE FREQUENCY OF THE UPPER TONE IS SLOWLY INCREASED FROM F2 = 1200 TO 1600HZ AND BACK AGAIN. \n; YOU SHOULD HEAR THE CUBIC DIFFERENCE TONE MOVING OPPOSITE TO F2, SOON JOINED BY THE QUADRATIC DIF-\n; FERENCE TONE, WHICH FIRST BECOMES AUDIBLE AT A LOW PITCH AND MOVES IN THE SAME DIRECTION AS F2. THEY \n; SHOULD CROSS OVER WHEN F2 = 1500HZ.\n; OVER PART OF THE FREQUENCY RANGE, THE QUARTIC DIFFERENCE TONE 3F1 - F2 MAY BE AUDIBLE.\n;*****************************************   HEADER   *************************************************\n\n\n \n \n instr         1\n\n iamp          =         ampdb(p4)                ;P4 = AMPLITUDE IN DB \n ifreq         =         p5                       ;P5 = FREQUENCY\n \n k1            linen     iamp,.03,p3,.03         \n a1            oscili    k1,ifreq,1             \n               outs      a1,a1\n endin  \n\n instr         2\n\n iamp          =         ampdb(p4)                ;P4 = AMPLITUDE IN DB \n \n k1            linen     iamp,.03,p3,.03         \n a2            linseg    1200,21,1600,21,1200\n a1            oscili    k1,a2,1             \n               outs      a1,a1\n endin  \n\n</CsInstruments>\n<CsScore>\nf1 0 512 10 1  \n\n\n;************************************   AURAL COMBINATION TONES   ************************************\n;   p1      p2      p3     p4      p5      \n;  inst    strt    dur    amp    ifreq\n    i1      1.0    23.0    80    1000.00\n    i1      1.0    23.0    80    1200.00\n    i1      4.0    3.0     78     804.00\n    i1     10.0    3.0     78     804.00\n    i1     16.0    3.0     78     804.00\n    s\n;*********************************   F2 VARIES FROM 1200 TO 1600HZ   *********************************\n;   p1      p2      p3     p4      p5      \n;  inst    strt    dur    amp    ifreq\n    i1     1.0     45     80     1000\n    i2     1.0     42     80\n    e         \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 40_01_1.orc and 40_01_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:      40_01_1.ORC\n; synthesis:  waveshaping(40)\n;             linear function table for transfer function(01)\n;             variable transfer function(1)\n; coded:      jpg 11/93\n\n\ninstr 1; *****************************************************************\nidur  = p3\niamp  = p4\nifqc  = cpspch(p5)\nitf   = p6\n\n        aenv    linen    255, .1, idur, .5          ; envelope\n        a1      oscili   aenv, ifqc, 1              ; sinus\n        a1      tablei   a1  + 256, itf             ; transfer function\n                out      a1 * iamp                  ; scale to amplitude\n\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:   40_01_1.SCO\n; coded:   jpg 8/93\n\n\n; GEN functions **********************************************************\n; carrier\nf1   0 2048 10 1               ; sinus\n\n; transfer function\nf31  0  512 -7  -1  512  1                                      ; f(x) = x\nf32  0  512 -7  -1  256  0  50 .2 1 0 205 1         ; linear discontinuous\nf33  0  512 -7  0  103 -.2 103 -1 100 1 206 0   ; linear with sharp points\nf80  0  513  3  -1  1    0 0 1                         ; even: f(x) = x**2\nf81  0  512  3  -1  1    0 0 0 1                        ; odd: f(x) = x**3\n\n\n; score ******************************************************************\n\n;           idur   iamp   ipch  itf\ni1    0      2     8000   7.00  31\ni1    +      .     .      .     32\ni1    .      .     .      .     33\ni1    .      .     .      .     80\ni1    .      .     .      .     81\n\ns\n\n\ni1    0      .5    5000   7.00  33\ni1    0      .     .      8.00  . \ni1    0      .     .      9.04  .\ni1    0      .     .      8.07  .\ni1    0      .     .      8.11  .\n\ns \n\ni1    0      2     5000   7.00  33\ni1    0      .     .      8.00  . \ni1    0      .     .      9.04  .\ni1    0      .     .      8.07  .\ni1    0      .     .      8.11  .\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and amplitude balance and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 33_10_2.orc and 33_10_2.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:      33_10_2.ORC\n; synthesis:  Amplitude Modulation(33)\n;             ring modulation, exterior soundfile (10)\n;             santur1.aiff(2)\n; coded:      jpg 2/94\n\n\ninstr 1; *****************************************************************\nidur    =  p3\niamp    =  p4\nifqm    =  p5\nifm     =  p6\nistsec  =  p7\n   \n   a1    soundin  \"Sflib/santur1.aiff\", istsec   ; carrier is santur\n   a2    line     .171, idur, .171               ; control signal\n   a1    balance  a1, a2                         ; normalize a1\n   \n   amod  oscili   iamp, ifqm, ifm                ; modulator\n   aenv  linen    1, .1, idur, 1                 ; envelope\n         out      a1*amod*aenv                   ; ring modulation\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     33_10_2.SCO\n; coded:     jpg 2/94\n\n\n; GEN functions **********************************************************\n; for both oscillators\nf1 0 512 10 1                   ; one sinus\nf2 0 512 10 5 4 3 2 1           ; five harmonics\n\n\n; score ******************************************************************\n\n;    idur iamp  ifqm  ifm istsec      \ni1  0  5  8000   200   1    0      ; audio range: split frequencies\ni1  +  2  .      100   .    3      ;  \"\ni1  .  2  .      50    .    2      ;  \"\ni1  .  2  .      10    .    1      ; sub audio: vibrato effect\ni1  .  2  .      5     .    0      ;               \"\n\ns  \n; section 2: five harmonics modulator\n\ni1  2  2  8000   200   2    3      ; more inharmonics; noise\ni1  +  .  .      100   .    3\ni1  .  3  .      50    .    2\ni1  .  4  .      10    .    1      ; vibrato effect\ni1  .  5  .      5     .    0\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and linear envelope and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 02_44_2.orc and 02_44_2.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:      02_44_2.ORC\n; synthesis:  additive, same building blocks(02)\n;             continuous pitch control and amp control(44)\n; source:     endless.orc   MIT 1993\n; notes:      Prior to running this, make sure that the table \n;             with the bell-shaped function that controls the amplitudes\n;             has been created: 88_01_2.TAB\n; coded:      jpg 10/93\n\n\ninstr 1; *****************************************************************\nidur   =  p3\niamp   =  p4\nifq    =  p5\nicycle =  p6\n\nif (ifq >= 20) igoto    continue\nifq  =   cpspch (p5)    ; optional: p5 in oct.pch\ncontinue:\n   kphase  phasor  1/icycle     ; speed at which tables are scanned\n   kenvlp  linen   iamp, 1, idur, 1\n\n   kamp1   table   kphase,71,1,0,1\n   kcps1   tablei  kphase,51,1,0,1\n   asig1   oscili  kamp1,kcps1*ifq,1\n\n   kamp2   table   kphase+.1,71,1,0,1\n   kcps2   tablei  kphase+.1,51,1,0,1\n   asig2   oscili  kamp2,kcps2*ifq,1\n\n   kamp3   table   kphase+.2,71,1,0,1\n   kcps3   tablei  kphase+.2,51,1,0,1\n   asig3   oscili  kamp3,kcps3*ifq,1\n\n   kamp4   table   kphase+.3,71,1,0,1\n   kcps4   tablei  kphase+.3,51,1,0,1\n   asig4   oscili  kamp4,kcps4*ifq,1\n\n   kamp5   table   kphase+.4,71,1,0,1\n   kcps5   tablei  kphase+.4,51,1,0,1\n   asig5   oscili  kamp5,kcps5*ifq,1\n\n   kamp6   table   kphase+.5,71,1,0,1\n   kcps6   tablei  kphase+.5,51,1,0,1\n   asig6   oscili  kamp6,kcps6*ifq,1\n\n   kamp7   table   kphase+.6,71,1,0,1\n   kcps7   tablei  kphase+.6,51,1,0,1\n   asig7   oscili  kamp7,kcps7*ifq,1\n\n   kamp8   table   kphase+.7,71,1,0,1\n   kcps8   tablei  kphase+.7,51,1,0,1\n   asig8   oscili  kamp8,kcps8*ifq,1\n\n   kamp9   table   kphase+.8,71,1,0,1\n   kcps9   tablei  kphase+.8,51,1,0,1\n   asig9   oscili  kamp9,kcps9*ifq,1\n\n   kamp10  table   kphase+.9,71,1,0,1\n   kcps10  tablei  kphase+.9,51,1,0,1\n   asig10  oscili  kamp10,kcps10*ifq,1\n\n   asum =  asig1+asig2+asig3+asig4+asig5+asig6+asig7+asig8+asig9+asig10\n           out     asum*kenvlp         ; apply envelope    \nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:      02_44_2.SCO\n; source:     endless.sco   MIT,1993\n; coded:      jpg, 10/93\n\n; GEN functions **********************************************************\n; waveform\nf1     0       512    10       1\nf31    0       513     7       0       512     1\nf51    0       513     5       1       512     .0009766\nf71    0      2049     1       \"Sflib/88_01_2.TAB\"       0      0     0\n;    p4 of f71(GEN 01) is positive: soundfile amps are post-normalized\n;    p4 negative: rescaling is skipped\n\n\n; score ******************************************************************\n\n; cycle time studies\n\n;      idur   iamp   ifq    icycle time\ni1   0  20   10000  32000    100\ni1  21   .       .      .     50\ni1  42   .       .      .     25\n\ne\n\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for SYNTHESIS BY FUNCTIONAL ITERATIONS using interpolating oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from siniter.orc and siniter.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         44100\nksmps     =         1\nnchnls    =         1\n\n\n\n          instr 1\n          \n; SYNTHESIS BY FUNCTIONAL ITERATIONS\n; INSTRUMENT BASED ON AN ARTICLE BY DI SCIPIO & PRIGNANO\n; JOURNAL OF NEW MUSIC RESEARCH, VOL.25 (1996), PP. 31-46\n; CODED TO CSOUND BY JOSEP M COMAJUNCOSAS / 1998\n\nkcount    =         0                                       ; counter for iterations. Keep inb small to reduce processing time!\nifreq     =         cpspch(p4)\ninb       =         p5\nir1       =         p6\nirf       =         p7\nix1       =         p8\nixf       =         p9\nimaxvol   =         10000                                   ; youÂ´d better normalize it for r>3.14\n\narenv     linseg    0,.01,1,p3-.11,.6,.1,0\naosc      oscili    1, ifreq, 1\naosc      =         (1+ aosc)/2\nar        =         ir1 + (irf-ir1)*arenv*aosc              ; cyclic ar to get an arbitrary pitched wave\n\navibosc   oscili    1, 5, 1\navibosc   =         (1+avibosc)/2\naxenvibr  linseg    0, .5, 0, .5, 1, p3-1, 1                ; timbral modulation by changing initial conditions\nax        =         ix1+(ixf-ix1)*axenvibr*avibosc\n\niter: ax = sin(ar * ax)                                     ; doesnÂ´t really matter the function used... try others as well!\nkcount    =         kcount + 1\nif kcount < inb goto iter\nout: \n          out       20000* ax*arenv-10000\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\nt 0 250\n;          freq    niter  r0   rf    x0     xf\n;------------------------------------------------\ni1 0 1     7.00      1    .1  1      .1     .2\ni1 +  .    7.07      2    <    <     <      <\ni1 +  .    7.10      3    <    <     <      <\ni1 +  .    8.02      4    <    <     <      <\ni1 +  .    8.06      5    <    <     <      <\ni1 +  .    8.09      6    <    <     <      <\ni1 +  .    9.01      7    <    <     <      <\ni1 + .     8.06      8    1    3.2  .2     .8\ni1 +  .    8.03      7    <    <     <      <\ni1 +  .    7.11      6    <    <     <      <\ni1 +  .    7.07      5    <    <     <      <\ni1 +  .    7.04      4    <    <     <      <\ni1 +  .    7.00      3    <    <     <      <\ni1 +  .    6.00      2   2.5  3.5   .01    1\ni1 +  .    7.00      4    .1  1      .1     .2\ni1 +  .    7.07      5    <    <     <      <\ni1 +  .    7.10      6    <    <     <      <\ni1 +  .    8.02      7    <    <     <      <\ni1 +  .    8.06      8    <    <     <      <\ni1 +  .    8.09      9    <    <     <      <\ni1 +  .    9.01     10    <    <     <      <\ni1 + .     8.06     11    1    3.2  .2      .8\ni1 +  .    8.03     10    <    <     <      <\ni1 +  .    7.11      9    <    <     <      <\ni1 +  .    7.07      8    <    <     <      <\ni1 +  .    7.04      7    <    <     <      <\ni1 +  .    7.00      6    <    <     <      <\ni1 +  10   8.00      5   2.5  3.5   .01    1\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a cstil sound using interpolating oscillator and linear envelope and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from cstil12.orc and cstil12.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n;CSTIL12.ORC DEFINED PITCH-SPACE FILLED WITH GLISSANDO TEXTURES\n;USES 13 SCORE PARAMETERS AS FOLLOWS:\n;P3 - DURATION\n;P4 - AMPIITUDE\n;P5 - 1ST PCH, UPPER PITCH TRACE\n;P6 - 2ND PCH, UPPER PITCH TRACE\n;P7 - 1ST PCH, LOWER PITCH TRACE\n;P8 - 2ND PCH, LOWER PITCH TRACE\n;P9 - NUMBER OF SWEEPS PER SECOND\n;P10 - ENVELOPE RISE TIME\n;P11 - ENVELOPE DECAY TIME\n;P12 - POINTS TO HATCH TYPE 1 2 OR 3\n;P13 - SWITCH FOR 1 (SINGLE) OR 2 (DOUBLE) SWEEP\n\n\ninstr     1\nk1        line      cpspch(p5), p3, cpspch(p6)    ;UPPER GHOST LINE\nk2        line      cpspch(p7), p3, cpspch(p8)    ;LOWER GHOST LINE\nk3        oscili    k1-32, p9, p13,-1             ;P13: 1. IF SINGLESWEEP IS REQ'D\n                                                  ;     2. IF DOUBLESWEEP IS REQ'D: 2 IF DOUBLE SWEEP IS REQ'D\nk4        =         (k1-k2)-k3                    ;INVERSE (DOWN LINE)\nk5        linen     p4, p10, p3, p11              ;ENVELOPE\n\nif p12    = 1       goto uphatch\nif p12    = 2       goto downhatch\nif p12    = 3       goto mixhatch\n\nuphatch:\na1        oscili    k5, k2+k3, 3, -1\ngoto      out\n\ndownhatch:\na1        oscili    k5, k2+k4, 3, -1\ngoto      out\n\nmixhatch:\na1        oscili    k5/2, k2+k3, 3, -1\na2        oscili    k5/2, k2+k4, 3, -1\na1        = a1+a2\n\nout:      out       a1\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 65 7 0 64 1\nf2 0 129 7 0 64 1 64 0\nf3 0 2048 10 1 .5 .6  0 .4\n;PFIELDS\n;1   2         3         4         5         6         7         8         9         10        11        12        13\n\ni1   0         1         10000     8.03      8.03  8.00     8.00 4         .02       0         1         2\ni1   1         1         10000     8.03      9.03  8.00     9.00 4         0         0         1         2\ni1   2         2         10000     9.03      9.03  900 9.00 4         0         .02       1         2\ni1   4         1         15000     11.00          8.00  5.00     7.09 12        .02       0         3         1\ni1   5         1         15000     8.00      8.00  7.09     7.09 12        0         0         3         1\ni1   6         .5        15000     10.00          8.03  6.00     8.00 9         0         0         3         1\ni1   6.5         .5      15000     8.03      8.03  8.00     8.00 9         0         .02       3         1\ni1   7         .5        20000     9.03      8.09  7.03     8.06 6         .02       0         3         1\ni1   7.5       .5        20000     8.09      8.09  8.06     8.06 6         0         .02       3         1\ni1   0         8         8000 11.00          7.00 10.00     6.00 1         0.5       0.5       2         1\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         1/150 using interpolating oscillator and delay effect and one-sample delay", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from PNF.ORC and PNF.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         44100\nksmps     =         1\n\n\n          zakinit   2,2\n\n          instr 1\nidur      =         1/150\n          timout    0,idur,noise\n          turnoff\nnoise:\nkamp      linen     1,idur/5,idur,idur/5\nanoise    rand      kamp\n\n; ANOISE OSCILI KAMP,150,1; SEE HOW A PNF CORRUPTS\n; AN INNOCENT SINE WAVE ;-)\n\n          zaw       anoise,0\n          endin\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\ninstr 2; PASSIVE NONLINEAR FILTER\n;AFTER J.PIERCE & SCOTT V. DUYNE / US PATENT 5,703,313\n;CODED BY JOSEP M COMAJUNCOSAS /NOVÂ´98\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\niatt1     =         .998                                    ; attenuation\nifco1     =         -.058                                   ; freq dependent decay\n\naback     init      0\nafdbk     init      0\n\nanoise    zar       0\nainput1   =         anoise + aback\naout1     delay     ainput1,1/150\nalpf      filter2   aout1*iatt1, 1, 1, 1+ifco1, ifco1\n\n; PASSIVE NONLINEAR FILTER : A VARIABLE ALLPASS FILTER\n; REQUIRES SR = KR TO RUN THE CONDITIONAL\n\n; COMPUTE SOME PARAMETERS\nau        =         alpf - afdbk\n;au       =         adcrem - afdbk                          ; ??????sona millor!!!\nku        downsamp  au\nif ku < 0 goto or\nkstiff    =         p4\ngoto next\nor:\nkstiff    =         p5\nnext:\nafdbk     delay1    kstiff*au\n; THE FILTER ITSELF\nalpf2     biquad    alpf,kstiff,1,0,1,kstiff,0\n\nainput2   =         alpf2\naback     delay     ainput2,1/150\n\n          out       aout1*10000\n          zacl      0,2\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 10 1\n\ni1 0 1 \ni2 0 5.5 -.3 -.2\ns\ni1 0 1 \ni2 0 5.5 .35 .32\ns\ni1 0 1 \ni2 0 5.5 -.85 -.55\ns\ni1 0 1 \ni2 0 5.5 -.35 -.32\ns\ni1 0 1 \ni2 0 5.5 -.15 .15\ns\ni1 0 1 \ni2 0 5.5 .05 .65\ns\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 40_03_1.orc and 40_03_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls =2 \n\n; ************************************************************************\n; ACCCI:      40_03_1.ORC\n; synthesis:  Waveshaping(40)\n;             Waveshaper Using Ring Modulation(03)\n; source:     Dodge (p.145, 1985)\n; coded:      jpg 8/93\n\n\n\ninstr 1; *****************************************************************\nidur  =  p3\niamp  =  p4\nifq   =  cpspch(p5)\n\n   a1    oscili    iamp, 1/idur, 31            ; envelope\n   a2    oscili    a1, ifq, 1                  ; sinus of ring modulation\n\n   a3    linseg    1, .04, 0, idur-.04, 0      ; very short envelope\n   a4    oscili    a3, ifq*.7071, 1            ; sinus for waveshaper\n\n   ; inline code for transfer function:\n   ; f(x) = 1 + .841x - .707x**2 - .595x**3 + .5x**4 + .42x**5 -\n   ;                      .354x**6 - .279x**7 + .25x**8 + .21x**9\n\n   a5    =         a4*a4\n   a6    =         a5*a4\n   a7    =         a5*a5\n   a8    =         a7*a4\n   a9    =         a6*a6\n   a10   =         a9*a4\n   a11   =         a10*a4\n   a12   =         a11*a4\n\n   ; This is the polynomial representation of the transfer function\n\n  \na13=1+.841*a4-.707*a5-.595*a6+.5*a7+.42*a8-.354*a9-.297*a10+.25*a11+.21*a12\n\n   a14   =         a13*a2         ; ring modulation\n         outs       a14,a14\n\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:      40_03_1.SCO\n; coded:      jpg 8/93\n\n\n; GEN functions **********************************************************\n; carrier\nf1  0  512  10  1  ; sinus\n\n; envelope for sinus at ifq\nf31 0 512 7 0 16 .2 16 .38 16 .54 16 .68 16 .8 16 .9 16 .98 8 1 2 1 6 .96\n 64 .8313 32 .5704 80 .164 48 .0521 44 .0159 20 .0092 64 .005 32 0\n\n; score ******************************************************************\n\n;   start  idur   iamp   ipch\ni1   0.0   0.2    8000   6.00\ni1   +     0.25   .      6.05\ni1   .     .      .      7.00\ni1   .     0.2    .      7.05\ni1   .     0.2    .      8.00\ni1   .     0.2    .      8.05\ni1   .     0.2    .      9.00\ni1   .     0.2    .      8.07\ni1   .     0.1    .      8.00\ni1   .     0.25   .      7.07\ni1   .     0.25   .      7.00\ni1   .     0.25   .      6.07\ni1   .     0.25   .      6.00\n\ns\n\ni1   0.0   0.2    8000   8.00\ni1   +     0.25   .      8.05\ni1   .     .      .      9.00\ni1   .     0.2    .      9.05\ni1   .     0.2    .     10.00\ni1   .     0.2    .     10.05\ni1   .     0.2    .     11.00\ni1   .     0.2    .     10.07\ni1   .     0.1    .     10.00\ni1   .     0.25   .      9.07\ni1   .     0.25   .      9.00\ni1   .     0.25   .      8.07\ni1   .     0.25   .      8.00\ni1   .     0.2    .     11.00\ni1   .     0.2    .     10.07\ni1   .     0.1    .     10.00\ni1   .     0.25   .      9.07\ni1   .     0.25   .      9.00\ni1   .     0.25   .      8.07\ni1   .     0.25   .      8.00\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for WGSYNTH BY HANS MIKELSON 1998 using synthesizer and waveguide synthesis and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from wgsynth.orc and wgsynth.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t22050\nksmps\t=\t\t2\nnchnls\t=\t\t2\n\n;----------------------------------------------------------------------------------\n; WGSYNTH BY HANS MIKELSON 1998\n;----------------------------------------------------------------------------------\n; THIS WAVE GUIDE SYNTHESIS INSTRUMENT SOUNDS SOMEWHAT LIKE A BOWED STRING UNDER\n; CERTAIN CONDITIONS.  IT CONSISTS OF A TWO DELAY LINES WHOSE OUTPUTS ARE FILTERED\n; , COMPRESSED AND THEN FEDBACK INTO THE DELAY LINES.  THE FILTERED OUTPUT IS ALSO\n; INVERTED AND CROSS FEDBACK INTO THE OTHER DELAY LINE.\n;----------------------------------------------------------------------------------\n\n\t\tzakinit \t30,30\n\n       \tinstr  10\n\nidur    \t=        \tp3                      \t\t\t\t\t\t\t; Duration\niamp    \t=        \tp4                      \t\t\t\t\t\t\t; Amplitude\nitim1   \t=        \t1000/cpspch(p9)*(1+p12) \t\t\t\t\t\t\t; Time of primary waveguide delay\nitim2   \t=        \titim1*p10               \t\t\t\t\t\t\t; Time of secondary waveguide delay\niacct   \t=        \titim1*p6/4              \t\t\t\t\t\t\t; Accent peak\nifco1   \t=        \tp7/itim1*15000          \t\t\t\t\t\t\t; Cut off frequency is based on pitch & modifier\nifco2   \t=        \tifco1*p8                \t\t\t\t\t\t\t; Fco2 is based on Fco1 & modifier\nifdbk   \t=        \t(1+p5/sqrt(itim1))/2    \t\t\t\t\t\t\t; Lower notes get more feedback sqrt(frequency)\nipan    \t=        \tp11                     \t\t\t\t\t\t\t; Pan 0=left, .5=center, 1=right\nidec    \t=        \tp13*sqrt(itim1)         \t\t\t\t\t\t\t; Decay rate lower notes get longer decay to start\n                                         \t\t\t\t\t\t\t; the waveguide oscillating sooner.\nitabc   \t=        \t5                       \t\t\t\t\t\t\t; Compressor table\n\naflt1   \tinit     \t0                       \t\t\t\t\t\t\t; Used for feedback so they need to be inited here\naflt2   \tinit     \t0\n\nkamp    \tlinseg   \t0, .005, iamp, idur-.015, iamp, .01, 0                         \t; Declick envelope\nkfdbk \tlinseg   \tifdbk, .02, iacct*ifdbk, idec+.005, ifdbk, idur-.025-idec, ifdbk \t; Feedback accent envelope\nkampr   \toscili   \t1, cpspch(p9)/2.01, 2                  \t\t\t\t\t\t; Pulses of noise are used to stimulate\nasig    \trand     \t2000*kampr                             \t\t\t\t\t\t; The wave guide\nkfco1   \tlinseg   \tifco1, .05, ifco1*1.2, .1, ifco1*.8, p3-.15, ifco1*.4  \t\t\t; A frequency accent envelope\n\nkramp2  \tlinseg   \t0, .1, 0, .1, 1, idur-.2, 1  \t\t\t\t\t\t\t; Fade in the vibrato\nklfo2   \toscili  \tkramp2, 1.5, 1               \t\t\t\t\t\t\t; LFO2 adds some complexity to the vibrato rate\nklfo1   \toscili   \t.004*kramp2, 6+klfo2, 1      \t\t\t\t\t\t\t; LFO1 is for the vibrato\n\nktim1    \t=       \titim1*(1+klfo1)             \t\t\t\t\t\t\t; Generate delay times\nktim2    \t=       \titim2*(1+klfo1)    \n\n; COMPRESSORS\nkarms1   \trms      \taflt1                      \t\t\t\t\t\t\t; Find rms level\nkampn1   \t=        \tkarms1/60000               \t\t\t\t\t\t\t; Normalize rms level 0-1.\nkcomp1   \ttablei   \tkampn1,itabc,1,0           \t\t\t\t\t\t\t; Look up compression value in table\n\nkarms2   \trms      \taflt2                      \t\t\t\t\t\t\t; Find rms level\nkampn2   \t=        \tkarms2/60000               \t\t\t\t\t\t\t; Normalize rms level 0-1.\nkcomp2   \ttablei   \tkampn2,itabc,1,0           \t\t\t\t\t\t\t; Look up compression value in table\n\n; VARIABLE DELAY WAVEGUIDES\nadel1   \tvdelay    asig+kfdbk*aflt1*kcomp1-kfdbk*aflt2*kcomp2, ktim1, itim1*2 \t; Loop 1\nadel2   \tvdelay    asig-kfdbk*aflt1*kcomp1+kfdbk*aflt2*kcomp2, ktim2, itim2*2 \t; Loop 2\n\naflt1   \tbutterlp \tadel1, kfco1                \t\t\t\t\t\t\t; Filter before feeding back\naflt2   \tbutterlp \tadel2, ifco2\n\naout    \tbutterhp \taflt1/8, 40                 \t\t\t\t\t\t; Take off the DC offset  I have seen noise related\n                                             \t\t\t\t\t\t; to this opcode on an SGI\n\n        \touts     \taout*sqrt(ipan)*kamp, aout*sqrt(1-ipan)*kamp  \t\t; Pan, Declick and output\n\n        \tendin\n        \n\n</CsInstruments>\n<CsScore>\n;-----------------------------------------------------------------\n; WGSYNTH BY HANS MIKELSON\n; C SCALES\n;-----------------------------------------------------------------\nf1 0 1024 10  1\nf2 0 1024 -7  0 62 1 62 0 900 0\nf5 0 1024 8  1 256 1 256 .8 256 .2 256 .01\n;-----------------------------------------------------------------------------------\n;    STA   DUR  AMP  FDBACK  ACCENT  FCO1  FCO2  PITCH1  PITCH2  PAN  DETUNE  DECAY\n;-----------------------------------------------------------------------------------\n;i10  0.0   1    2    .5      1.5     4     1     5.00    1.3333  .5   .000    .02\n;i10  +     1    .    .       .       .     .     5.02    .       .    .       .\n;i10  .     1    .    .       .       .     .     5.04    .       .    .       .\n;i10  .     1    .    .       .       .     .     5.05    .       .    .       .\n;i10  .     1    .    .       .       .     .     5.07    .       .    .       .\n;i10  .     1    .    .       .       .     .     5.09    .       .    .       .\n;i10  .     1    .    .       .       .     .     5.11    .       .    .       .\n;i10  .     2    .    .       .       .     .     6.00    .       .    .       .\n;\ni10  0.0   .5   2    .5      1.5     4     1      6.07    1.3333  .5   .000    .02\ni10  +     1    .    .       .       .     .      7.00    .       .    .       .\ni10  .     2    .    .       .       .     .      7.03    .       .    .       .\n;i10  .     1    .    .       .       .     .     6.05    .       .    .       .\n;i10  .     1    .    .       .       .     .     6.07    .       .    .       .\n;i10  .     1    .    .       .       .     .     6.09    .       .    .       .\n;i10  .     1    .    .       .       .     .     6.11    .       .    .       .\n;i10  .     2    .    .       .       .     .     7.00    .       .    .       .\n;\n;i10 18.0   1    2    .5      1.5     4     1     7.00    1.3333  .5   .000    .02\n;i10  +     1    .    .       .       .     .     7.02    .       .    .       .\n;i10  .     1    .    .       .       .     .     7.04    .       .    .       .\n;i10  .     1    .    .       .       .     .     7.05    .       .    .       .\n;i10  .     1    .    .       .       .     .     7.07    .       .    .       .\n;i10  .     1    .    .       .       .     .     7.09    .       .    .       .\n;i10  .     1    .    .       .       .     .     7.11    .       .    .       .\n;i10  .     2    .    .       .       .     .     8.00    .       .    .       .\n;\n;\n;i10  6.0   2    1    1.3     4       8000  6000  6.00    1.5     1    .001    .02\n;i10  6.0   2    1    1.3     .       8000  6000  6.00    .       0    .004    .\n;i10  6.0   2    1    1.4     .       4000  3000  5.07    .       1    .003    .\n;i10  6.0   2    1    1.4     .       4000  3000  5.07    .       0   -.004    .\n;i10  6.0   2    1    1.15    .      16000 12000  7.00    .       1   -.002    .\n;i10  6.0   2    1    1.15    .      16000 12000  7.00    .       0    .004    .\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a dodsoprano sound using interpolating oscillator and interpolating random and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from dodSOPRANO.ORC and dodSOPRANO.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10                                    \nnchnls    =         1\n\n;********************************************************************** \n; chowning soprano instrument from dodge book, pp 120 - 121    rp     * \n;********************************************************************** \n                                            \n          instr   1,2,3,4                                              \n;**********************INITIALIZATION...\niamp      =         p6                       ;RANGE 0 < AMP < 1\nifenvfn   =         p7\niportfn   =         p8\nifmtfn1   =         p9\nifmtfn2   =         p10\nifmtfn3   =         p11\nifundfn   =         p12\nirange    =         3                        ; MAX RANGE OF 3 OCTAVES\nibase     =         octpch(7.07)             ; LOWEST NOTE = G3\nicaroct   =         octpch(p5)\nicarhz    =         cpspch(p5)\nipoint    =         (icaroct-ibase)/irange*511.999\n\nifmthz    table     ipoint,ifmtfn1           ; RELATIVE POS. OF FORMANT\nifmthz    =         ifmthz*3000              ; MAP ONTO FREQUENCY RANGE\nifmthz    =         int(ifmthz/icarhz+.5)*icarhz ; AS NEAREST HARMONIC\n\nifmtfac   table     ipoint,ifmtfn2           ; RELATIVE AMP. OF FORMANT\nifmtfac   =         ifmtfac*.1               ; MAX VALUE = .1\nifndfac   =         1-ifmtfac                ; RELATIVE AMP. OF FUND\n\nifmtndx   table     ipoint,ifmtfn3           ; RELATIVE INDEX OF FORMANT\nifmtndx   =         ifmtndx*5                ; MAX VALUE = 5\n\nifndndx   table     ipoint,ifundfn           ; RELATIVE INDEX OF FUND\nifndndx   =         ifndndx*.25              ; MAX VALUE = .25\n\nifndamp   =         ifndfac * sqrt(iamp)     ; AMP**.5 \nifmtamp   =         ifmtfac * iamp * sqrt(iamp) ; AMP**1.5\n\nimodhz    =         icarhz                   ; CALCULATE MODULATOR AND\nipkdev1   =         ifndndx*imodhz           ; PEAK DEVIATION\n\n; compute vibrato parameters:\nilog2pch  =         log(icarhz)/log(2)      \nivibwth   =         .002*ilog2pch            ; RELATE WIDTH TO FUND PCH\nivibhz    =         5                        ; FROM 5 TO 6.5 Hz AVERAGE\nirandhz   =         125                      ; FROM MORRILL TRUMPET DESIGN\niportdev  =         .05                      ;  \"     \"       \"      \"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n;************************* PERFORMANCE...\n; vibrato\nkrand     randi     ivibwth,irandhz\nkvibwth   linen     ivibwth,.6,p3,.1         ; GATE VIBRATO WIDTH\nkport     oscil1    0,iportdev,.2,iportfn    ; INITIAL PORTAMENTO\nkvib      oscili    kvibwth,ivibhz,1         ; Fn1 = SINE\nkv        =         1+kvib+kport+krand       ; VIBRATO FACTOR ALWAYS CA 1\n; fm\nadev1     oscili    ipkdev1,imodhz*kv,1      ; MODULATOR\nadev2     =         adev1*ifmtndx/ifndndx    ; RESCALE FOR FORMANT CARRIER\nafundhz   =         (icarhz+adev1)*kv        ; VIB THE MODULATED FUND...\naformhz   =         (ifmthz+adev2)*kv        ; ...AND MODULATED FORMANT\n\nafund     linen     ifndamp,.1,p3,.08\nafund     oscili    afund,afundhz,1\naform     envlpx    ifmtamp,.1,p3,.08,ifenvfn,1,.01  \naform     oscili    aform,aformhz,1\n\nasig      =         (afund+aform)*p4         ; SCALE TO PEAK AMP HERE\n          out       asig\n          endin\n\n</CsInstruments>\n<CsScore>\n; test score for chowning soprano instrument\nf01        0   512    10     1\n; fmt amplitude rise function\nf02        0   513     7     0   256    .2   256     1\n; portamento function\nf03        0   513     7    -1   200     1   100     0   212     0\n; fmt freq lookup function\nf04        0   513     7     1    80     1   200    .9   200    .6    32    .6\n; fmt amplitude factor lookup function\nf05        0   513     7    .4   100    .2   412     1\n; index 1 lookup function\nf06        0   513     7     1   100     1   112    .4   300   .15\n; index 2 lookup function\nf07        0   513     7     1   100    .5    80   .25   132    .5   100    .7\n   100    .4\n; play some notes\n; p4 = amp; p5 = fund; p6 = 0 < ampfac < 1; p7 = fmt env func\n; p8 = port func; p9 = fmt hz func; p10 = fmt amp func; p11, 12 = i1,i2 fns\ni01        0     1 20000  7.07    .5     2     3     4     5     6     7\ni01        1     .     .  8.04\ni01        2     .     .  9.01\ni01        3     .     .  9.10\ni01        4     2     . 10.07 \ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Stereo Frequency Shifter with delays using frequency and interpolating oscillator and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FreqShift.orc and FreqShift.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 44100\nksmps    = 1\nnchnls   = 2\n\n\ninstr    1 ; Stereo Frequency Shifter with delays\n\nilevl    = p4                              ; Output level\nishftl   = p5                              ; L shift (Hz)\nishftr   = p6                              ; R shift (Hz)\nidepth   = p7/2                            ; LFO depth (Hz)\nirate1   = p8                              ; L LFO rate (Hz)\nirate2   = p9                              ; R LFO rate (Hz)\niphse    = p10                             ; R LFO phase\niwave    = p11                             ; LFO waveform\nifdbk    = p12                             ; Feedback\nidell    = p13/1000                        ; L delay time (ms)\nidelr    = p14/1000                        ; R delay time (ms)\nifdel    = p15                             ; Delay feedback\nixfdel   = p16                             ; Delay cross-feedback\nimix     = p17                             ; Mix: 0=Input 1=Output\nafeedl   init 0                            ; L feedback initialize\nafeedr   init 0                            ; R feedback initialize\nafdell   init 0                            ; L delay initialize\nafdelr   init 0                            ; R delay initialize\n\n;al, ar   soundin  \"StereoSample2\"\nal       soundin  \"Sample1\"\nar       = al\n\nklfol    oscili  idepth, irate1, iwave     ; L LFO\nklfol    = klfol + idepth                  ; Make unipolar\nklfor    oscili  idepth, irate2, iwave     ; R LFO\nklfor    = klfor + idepth                  ; Make unipolar\na1l, a2l hilbert  al + afeedl + afdell     ; L hilbert transform\na1r, a2r hilbert  ar + afeedr + afdelr     ; R hilbert transform\nasinl    oscili  1, ishftl + klfol, 1      ; L sine\nacosl    oscili  1, ishftl + klfol, 1, .25 ; L cosine\nasinr    oscili  1, ishftr + klfor, 1      ; R sine\nacosr    oscili  1, ishftr + klfor, 1, .25 ; R cosine\nashiftl  = (a1l*acosl + a2l*asinl)*.8      ; L shift\nashiftr  = (a1r*acosr + a2r*asinr)*.8      ; R shift\nafeedl   = ashiftl*ifdbk                   ; L shift feedback\nafeedr   = ashiftr*ifdbk                   ; R shift feedback\nadelayl  delay  ashiftl, idell             ; L Delay\nadelayr  delay  ashiftr, idelr             ; R delay\nafdell   = adelayl*ifdel + adelayl*ixfdel  ; L Delay feedback\nafdelr   = adelayr*ifdel + adelayr*ixfdel  ; R Delay feedback\naoutl    = ashiftl*imix + al*(1 - imix)    ; L mix\naoutr    = ashiftr*imix + ar*(1 - imix)    ; R mix\nouts1    aoutl*ilevl                       ; L output\nouts2    aoutr*ilevl                       ; R output\n\nendin\n</CsInstruments>\n<CsScore>\nf01 0 8193 10 1                      ; Sine\nf02 0 8193 7 0 2048 -1 4096 1 2048 0 ; Triangle\nf03 0 8193 7 -1 8192 1               ; Ramp Up\nf04 0 8193 7 1 8192 -1               ; Ramp Down\n\n;   Strt  Leng  Levl  ShftL ShftR Depth RateL RateR Phase Wave  Fdbk  DelL  DelR  Fdbk  XFdbk Mix\ni1  0.00  5.91  0.90  0.16 -0.16  0.00  1.00  1.00  0.50  01    0.75  1000  1000  0.00  0.00  1.00 \ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1        =         cpspch(p4) using interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from RissetClarinet.orc and RissetClarinet.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n; RISSET'S WAVESHAPING CLARINET\n\n          instr 1\n\ni1        =         cpspch(p4)\ni2        =         .64\n          if        p3 > .75 igoto start\ni2        =         p3-.085\n\nstart:\na1        linen     255,.085,p3,i2\na1        oscili    a1,i1,3\na1        tablei    a1+256,1\n          out       p5*a1\n          endin\n\n</CsInstruments>\n<CsScore>\nf 1 0 512 7 -1 200 -.5 112 .5 200 1\nf 3 0 512 9 1 1 0\nf 0 2 \ns\n  i1 0.000 0.750 7.04 20000\n  i1 0.750 0.250 7.07 20000\n  i1 1.000 1.000 8.00 20000\n  i1 2.000 0.200 8.02 20000\n  i1 2.200 0.200 8.04 20000\n  i1 2.400 0.200 8.05 20000\n  i1 2.600 0.200 9.00 20000\n  i1 2.800 0.200 9.04 20000\n  i1 3.000 0.250 9.05 20000\n  i1 3.250 0.250 9.00 20000\n  i1 3.500 0.250 8.05 20000\n  i1 3.750 0.250 8.00 20000\n  i1 4.000 1.000 7.04 20000\n  i1 5.000 0.125 7.07 20000\n  i1 5.125 0.125 8.00 20000\n  i1 5.250 0.125 8.02 20000\n  i1 5.375 0.125 8.04 20000\n  i1 5.500 0.125 8.05 20000\n  i1 5.625 0.125 9.00 20000\n  i1 5.750 0.125 9.04 20000\n  i1 5.875 0.125 9.05 20000\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and amplitude balance and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 33_10_1.orc and 33_10_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:      33_10_1.ORC\n; synthesis:  Amplitude Modulation(33)\n;             ring modulation, exterior soundfile (10)\n;             speech1.aiff(1)\n; coded:      jpg 2/94\n\n\ninstr 1; *****************************************************************\nidur    =  p3\niamp    =  p4\nifqm    =  p5\nifm     =  p6\nistsec  =  p7\n   \n   a1    soundin  \"Sflib/speech1.aiff\", istsec   ; carrier is speech file\n   a2    line     .25, idur, .25                 ; control signal\n   a1    balance  a1, a2                         ; normalize a1\n   \n   amod  oscili   iamp, ifqm, ifm                ; modulator\n   aenv  linen    1, .1, idur, 1                 ; envelope\n         out      a1*amod*aenv                   ; ring modulation\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     33_10_1.SCO\n; coded:     jpg 2/94\n\n\n; GEN functions **********************************************************\n; for modulator\nf1 0 512 10 1                   ; one sinus\nf2 0 512 10 5 4 3 2 1           ; five harmonics\n\n\n; score ******************************************************************\n\n;    idur iamp  ifqm  ifm istsec      \ni1  0  5  8000   200   1    0      ; audio range: split frequencies\ni1  +  2  .      100   .    3      ;  \"\ni1  .  2  .      50    .    2      ;  \"\ni1  .  2  .      10    .    1      ; sub audio: vibrato effect\ni1  .  2  .      5     .    0      ;               \"\n\ns  \n; section 2: five harmonics modulator\n\ni1  2  2  8000   200   2    3      ; more inharmonics; noise\ni1  +  .  .      100   .    3\ni1  .  3  .      50    .    2\ni1  .  4  .      10    .    1      ; vibrato effect\ni1  .  5  .      5     .    0\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and random noise and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 03_01_1.orc and 03_01_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     03_01_1.ORC\n; timbre:    drum and snare drum\n; synthesis: additive different units(03)\n;            units: noise/inharm/fundamental (01)\n; source:    #400  Drum and Snare-drum like Sounds, Risset(1969)\n; coded:     jpg 8/93\n\n\n\ninstr 1; *****************************************************************\nidur  =  p3\niamp7 =  p4\nifq1  =  p5\niamp2 =  p6\niamp4 =  p7\nifq5  =  p8\nifq7  =  p9\n\n         a5     rand    iamp7, ifq7\n         a5     oscili  a5, 1/idur, 52\n         a5     oscili  a5, ifq5, 11\n\n         a3     oscili  iamp4, 1/idur, 52\n         a3     oscili  a3, ifq1, 13\n\n         a1     oscili  iamp2, 1/idur, 51\n         a1     oscili  a1, ifq1, 12\n\n                out     (a1+a3+a5) * 12\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ***********************************************************************\n; ACCCI:     03_01_1.SCO\n; coded:     jpg 8/93\n\n\n; GEN functions **********************************************************\n; waveforms\nf11  0  512  9   1  1  0\nf12  0  512  9  10  1  0\nf13  0  512  9  10  1  0  16  1  0  22  1  0  23  1  0\n\n; envelopes\nf51  0  513  5   256  512  1\nf52  0  513  5  4096  512  1\n\n; score ******************************************************************\n\n; section 1                                 c-fq  1/2 bwdth \n;   start  idur  iamp7  ifq1  iamp2  iamp4  ifq5  ifq7\ni1    .4    .2    1000    20   800     300  4000  1500\ni1    .8    .2\ni1   1.1    .15\ni1   1.2    .2\ni1   1.6    .2\ni1   1.9    .15\ni1   2.0    .2\ni1   2.4    .2\ni1   2.8    .2\ni1   3.1    .15\ni1   3.2    .2\ni1   3.6    .2\ni1   3.9    .15\ni1   4      .2\ni1   4.4\ni1   4.8\ni1   5.2\ni1   5.6\ni1   6      .      1300\n\n\ns\n; section 2               the noise unit is inactive (iamp7=0)\n;\n;   start  idur  iamp7  ifq1  iamp2  iamp4  ifq5  ifq7\ni1    .4    .3       0    12   1500    500   0   2.5\ni1    .8    .2       .    16\ni1   1.07   .2       .    12\ni1   1.2    .2       .    16\ni1   1.6    .3       .    12\ni1   2.0    .25      .    14\ni1   2.4    .23      .    15\ni1   2.6    .27\ni1   3.07   .23\ni1   3.2\ni1   3.6\ni1   4\n\n\ns\n; section 3\n;   start  idur  iamp7  ifq1  iamp2  iamp4  ifq5  ifq7\ni1    .4    .15   1000    20   800     300  4000  1500\ni1    .6    .20\ni1   1.07\ni1   1.2\ni1   1.6\ni1   2.0\ni1   2.4    .25\ni1   2.9    .15\ni1   3\ni1   3.1\ni1   3.2    .20\ni1   3.55   .15   700\ni1   3.6    .20\ni1   4      .15   800\ni1   4.06\ni1   4.13\ni1   4.20\ni1   4.27\ni1   4.33\ni1   4.40   .22  1200\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Linear ADSR envelope with k-rate slopes using interpolating oscillator and ADSR envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from ADSRLin.orc and ADSRLin.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Linear ADSR envelope with k-rate slopes\n\nilevl    = p4*32767 ; Output level\nkatk     = (p5 < .001 ? .001 : p5) ; Attack time >1ms\nkdec     = (p6 < .001 ? .001 : p6) ; Decay time >1ms\nksusl    init p7                   ; Sustain level\nkrel     = (p8 < .001 ? .001 : p8) ; Release time >1ms\nksus     = p3 - katk - kdec - krel\n\nkrate    = 1/(katk + kdec + ksus + krel)\n\nk1       = katk\nk2       = k1 + kdec\nk3       = k2 + ksus\nk4       = k3 + krel\n\naramp    oscili  k4, krate, 1\n\na1       limit  aramp, 0, k1\na2       limit  aramp, k1, k2\na3       limit  aramp, k2, k3\na4       limit  aramp, k3, k4\n\naramp    = .25*(a1*(1/katk) + (a2-k1)*(1/kdec) + (a3-k2)*(1/ksus) + (a4-k3)*(1/krel))\n\nadsr1    tablei  aramp, 2, 1\nadsr2    tablei  aramp, 3, 1\n\nadsr3    = adsr1*ksusl + adsr2*(1 - ksusl)\nout      adsr3*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 -7 0 8192 1               ; Ramp\nf2 0 8193 -7 0 2048 1 4096 1 2048 0 ; ADSR(Sustain=1)\nf3 0 8193 -7 0 2048 1 2048 0 4096 0 ; ADSR(Sustain=0)\n\n;     Strt  Leng  Levl  AtkT  DecT  SusL  RelT\ni1    0.00  1.00  1.00  0.10  0.25  0.00  0.10\ni1    1.00  1.00  1.00  0.00  0.50  0.75  0.25\ni1    2.00  1.00  1.00  0.00  0.25  0.00  0.25\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and linear segments and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 02_44_1.orc and 02_44_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:      02_44_1.ORC\n; synthesis:  additive, same building blocks(02)\n;             basic instrument with continuous pitch and amp control(44)\n; source:     #514   Part 2 of Endless Glissando, Risset(1969)\n; notes:      Prior to running this, the table controlling the amplitudes\n;             (bell-shaped function) needs to be created: 88_01_1.TAB\n; coded:      jpg 9/93\n\n\ninstr 1; *****************************************************************\nidur = p3\nifq  = p4\niamp = p5\n\n   a11   oscili   iamp,1/idur,71, 0    ; f71 reads soundfile with gen01\n   a22   oscili   ifq,1/idur,51, 0\n   a1    oscili   a11, a22,11\n\n   a11   oscili   iamp,1/idur,71, .1\n   a22   oscili   ifq,1/idur,51, .1\n   a2    oscili   a11, a22,11\n\n   a11   oscili   iamp,1/idur,71, .2\n   a22   oscili   ifq,1/idur,51, .2\n   a3    oscili   a11, a22,11\n\n   a11   oscili   iamp,1/idur,71, .3\n   a22   oscili   ifq,1/idur,51, .3\n   a4    oscili   a11, a22,11\n\n   a11   oscili   iamp,1/idur,71, .4\n   a22   oscili   ifq,1/idur,51, .4\n   a5    oscili   a11, a22,11\n\n   a11   oscili   iamp,1/idur,71, .5\n   a22   oscili   ifq,1/idur,51, .5\n   a6    oscili   a11, a22,11\n\n   a11   oscili   iamp,1/idur,71, .6\n   a22   oscili   ifq,1/idur,51, .6\n   a7    oscili   a11, a22,11\n\n   a11   oscili   iamp,1/idur,71, .7\n   a22   oscili   ifq,1/idur,51, .7\n   a8    oscili   a11, a22, 11\n\n   a11   oscili   iamp,1/idur,71, .8\n   a22   oscili   ifq,1/idur,51, .8\n   a9    oscili   a11, a22,11\n\n   a11   oscili   iamp,1/idur,71, .9\n   a22   oscili   ifq,1/idur,51, .9\n   a10   oscili   a11, a22,11\n\n   a1    =        a1+a2+a3+a4+a5+a6+a7+a8+a9+a10\n   a33   linseg   0, p3*.01,1, p3*.95,1, p3*.04, 0   ; envelope\n         out      a1*a33\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:      02_44_1.SCO\n; coded:      jpg 9/93\n\n; GEN functions **********************************************************\n; carrier\nf11  0  513  9  1 1 0\n\n; bell shaped control function         ; \"named\" soundfiles for GEN 01 are\nf71  0  513  1  \"Sflib/88_01_1.TAB\" 0 0 0     ; possible since Csound 1992\n                ; Using an earlier Csound version, one needs to adapt \n                ; this to fit the soundin.x mechanism.\n\n; exponential envelope\nf51  0  513  5  1024 512 1             ; post-normalized\n\n; score ******************************************************************\n;     idur  ifq   iamp\ni1  1 120   3900  10000\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 02_01_5b.orc and 02_01_5b.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 2\n\n; ************************************************************************\n; ACCCI:      02_01_5B.ORC\n; synthesis:  additive same units(02)\n;             basic instrument(01) \n; source:     #501   Spectral Analysis of a Chord, Risset(1969)\n; coded:      jpg 9/93\n\n\ninstr 1; *****************************************************************\nidur = p3\nifq  = p4\niamp = p5\n\n   a2   oscili   iamp, 1/idur, 51     ; left channel\n   a1   oscili   a2, ifq, 11\n        outs1    a1\nendin\n\ninstr 2; *****************************************************************\nidur = p3\nifq  = p4\niamp = p5\n\n   a2   oscili   iamp, 1/idur, 51     ; right channel\n   a1   oscili   a2, ifq, 11\n        outs2    a1\nendin \n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:      02_01_5B.SCO\n; source:     #501    Spectral Analysis of a Chord, Risset(1969)\n; coded:      jpg 9/93\n\n; GEN functions **********************************************************\n; wave\nf11 0 512 9 1 1 0\n\n; envelope\nf51 0 513  7  1 256  256  256    1 \n\n;score *******************************************************************\n;============================================================\n;  start  idur  ifq  iamp\ni2   1    7.5  9325  2500        ;(5)entries, diff is 2.5 sec\ni1   3.5  7.5  7460  2500\ni2   6     .   5595    .\ni1   8.5   .   3730    .\ni1  11     .   1865    .                                ;A#10\n\ni2   1.01 7.5  4940  2500\ni1   3.51 7.5  3952  2500\ni2   6.01  .   2964    .\ni1   8.51  .   1976    .\ni2  11.01  .    988    .                                   ;B9\n\n\n;=============================================================\ni1   4.75 3.75 5931  2500        ;(9)entries, diff is 1.25 sec\ni2   6    3.75 5272  2500\ni1   7.25  .   4613    .\ni2   8.5   .   3954    .\ni1   9.75  .   3295    .\ni2  10     .   2636    .\ni1  11.25  .   1977    .\ni2  12.5   .   1318    .\ni1  13.75  .    659    .                                   ;E9\n\ni2   4.76 3.75 3528  2500\ni2   6.01  .   3136    .\ni1   7.26 3.75 2744  2500\ni2   8.51  .   2352    .\ni1   9.76  .   1960    .\ni2  10.01  .   1568    .\ni1  11.26  .   1176    .\ni2  12.51  .    784    .\ni1  13.76  .    392    .                                   ;G8\n\n;=============================================================\n;   start idur  ifq  iamp\ni2   6.5   2   3234  2500          ;(11)entries, diff is 1 sec\ni1   7.5   2   2940  2500\ni2   8.5   .   2641    .\ni1   9.5   .   2352    .\ni2  10.5   .   2058    .\ni1  11.5   .   1764    .\ni2  12.5   .   1470    .\ni1  13.5   .   1176    .\ni2  14.5   .    882    .\ni1  15.5   .    588    .\ni2  16.5   .    294    .                                   ;D8\n\ni1   6.51  2   2288  2500\ni2   7.51  2   2080  2500\ni1   8.51  .   1872    .\ni2   9.51  .   1664    .\ni1  10.51  .   1456    .\ni2  11.51  .   1248    .\ni1  12.51  .   1040    .\ni2  13.51  .    832    .\ni1  14.51  .    624    .\ni2  15.51  .    416    .\ni1  16.51  .    208    .                                  ;G#7\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and FOF formant synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 45_01_6c.orc and 45_01_6c.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps =100\nnchnls = 1\n\n; *****************************************************************************\n; ACCCI:        45_01_6C.ORC\n; synthesis:    FOF (45)\n;               Tutorial FOF(01)\n;               FM of formant frequency(6C)\n;               ifmode = 1.\n; coded:        jpg 3/94\n\n\ninstr 1; **********************************************************************\nidur   = p3\nifqm   = 400\nimax   = 2\n\n   aform line 400, idur, 800              ; contour of formant\n   amod  oscili imax*ifqm, ifqm, 1        ; FM modulator stable at 400 Hz\n\n   ;                            koct                       ifna  idur ifmode\n   ;          xamp  xfund  xform  kband kris kdur kdec iolaps ifnb  iphs\n   a1 fof     15000, 5,aform+amod,0, 1, .003, .5,  .1,  3,  1,19,idur,0, 1\n      out     a1\n\nendin\n\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     45_01_6C.SCO\n; coded:     jpg 3/94\n\n\n; GEN functions **********************************************************\nf1  0 4096  10  1\nf19 0 1024  19 .5 .5 270 .5\n\n; score ******************************************************************\n\n;  istart idur\n\ni1  0      10\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and random noise and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 03_05_1.orc and 03_05_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     03_05_1.ORC\n; timbre:    drum, metallic\n; synthesis: additive different units(03)\n;            units: noise/inharm/inharm(05)\n; source:    #410 Percussive Drum-like Sounds, Risset(1969)\n; coded:     jpg 9/93\n\n\ninstr 1; *****************************************************************\nidur = p3\niamp = p4/3\nifq  = p5\nif1  = p6\nif2  = p7\n\n   a3     oscili  iamp, 1/idur, 52\n   a3     rand    a3, 400\n   a3     oscili  a3, 500, 11\n\n   a2     oscili  iamp, 1/idur, 52\n   a2     oscili  a2, ifq, if2\n\n   a1     oscili  iamp, 1/idur, 51\n   a1     oscili  a1, ifq, if1\n\n          out     (a1+a2+a3) * 6\n\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     03_05_1.SCO\n; coded:     jpg 9/93\n\n; GEN functions **********************************************************\n; waveforms\nf11  0   512   9  1  1  0\nf12  0   512   9  10 1 0  16 1.5 0  22 2.  0  23 1.5 0\nf13  0   512   9  25 1 0  29  .5 0  32  .2 0\nf14  0   512   9  16 1 0  20 1.  0  22 1   0  34 2   0  38 1 0   47 1 0\nf15  0   512   9  50 2 0  53 1   0  65 1   0  70 1   0  77 1 0  100 1 0\n\n; envelopes\nf51  0   513   5  4096 512 1 ; equals '1 512 .00024' after normalization\nf52  0   513   5   128 512 1 ; equals '1 512 .0078'\n\n; score ******************************************************************\n;        idur    iamp   ifq  if1  if2\ni1   1    0.8    1500    5    13   12\ni1   2    2.0\ni1   5    4\n\ni1  10     .8    1500    5    15   14\ni1  11    2.0\ni1  14.5  4\n\ns 2\n\ni1   1    0.8    1500   15    13   12\ni1   2    2.0\ni1   5    4.0\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and interpolating random and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 03_40_1.orc and 03_40_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:      03_40_1.ORC\n; timbre:     chaotic sinusoid field\n; synthesis:  additive with different units:\n;             units: various continuous pitch control functions applied\n;             to sinus or complex wave.\n; source:     #510   Siren-like Glissandi, Risset(1969)\n; coded:      jpg 9/93\n\n\ninstr 1; *****************************************************************\niamp1  = p4  ; unit 1\nifq1   = p5\nirate1 = p6\n iampr  = p7  ; unit 2\n ifqr   = p8\n ifq2   = p9\n irate2 = p10\niamp3  = p11  ; unit 3\nifq3   = p12\nirate3 = p13\n iamp4  = p14  ; unit 4\n ifq4   = p15\n irate4 = p16\n\n   a1   oscili   ifq1, irate1, 31           ; unit 1\n   a1   oscili   iamp1, a1, 11\n\n   a99  randi    iampr, ifqr                ; unit 2\n   a2   oscili   ifq2, irate2, 32\n   a2   oscili   a99, a2, 11\n\n   a3   oscili   ifq3, irate3, 33           ; unit 3\n   a3   oscili   iamp3, a3, 12\n\n   a4   oscili   ifq4, irate4, 34           ; unit 4\n   a4   oscili   iamp4, a4, 11\n\n   a5   =        a1+a2+a3+a4\n        out      a5*10\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:      03_40_1.SCO\n; coded:      jpg 9/93\n\n; GEN functions **********************************************************\n; waveforms\nf11  0  512  9  1 1 0\nf12  0  512  9  21 1 0  29 1 0  39 1 0\n; envelopes\nf31  0  512  7  .99   25 .99  206 .318 50 .318 206 .99 25 .99\nf32  0  512  7  .377 256 .99  256 .377\nf33  0  512  7   .5   15 .5   226 .9   30 .9   226 .5  15 .5\nf34  0  512  7  .333   8 .333 240 .999 16 .999 240 .333 8 .333\n\n; score ******************************************************************\n;       unit 1          unit 2              unit 3          unit 4\n;       amp1 fq1 rate1  ampr fqr fq2 rate2  amp3 fq3 rate3  amp4 fq4 rate4\ni1 0 24 450  880 .12    400  200 1660 .17     12 200 .05      70 2400 .33\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 02_40_1.orc and 02_40_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:        02_40_1.ORC\n; timbre:       machine-like, starship\n; synthesis:    additive(02),\n;               continuous pitch control by LFO (40)\n; source:       new\n; coded:        jpg 9/93\n\n\n\ninstr 1; *****************************************************************\niamp1   = p4/6\nifq1    = p5\nirate   = 1/p6\nioff2   = p7\nioff3   = p8\nioff4   = p9\nioff5   = p10\nioff6   = p11\n\n   ae    oscili   ifq1, irate, 35              ; pitch contour\n   a6    oscili   iamp1, ae,       11      ;\n   a5    oscili   iamp1, ae+ioff2, 11      ;\n   a4    oscili   iamp1, ae+ioff3, 11      ;  6 parallel oscillators\n   a3    oscili   iamp1, ae+ioff4, 11      ;     with medium frequency\n   a2    oscili   iamp1, ae+ioff5, 11      ;         offsets\n   a1    oscili   iamp1, ae+ioff6, 11      ;\n         out      a1+a2+a3+a4+a5+a6\n\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:      02_40_1.SCO\n; coded:      jpg 9/93\n\n; GEN functions **********************************************************\n; waveforms\nf11 0  512  9  1 1 0                                                ; sine\n\n; continuous pitch control function: LFO\nf35 0  512  7  .25  30 .25  110 .5  60 .25 10 .25 60 .5 20 .75 222 .5\n\n; score ******************************************************************\n\n;                 pitch control     frequency offsets\n;    idur iamp1   ifq1     irate    ioff2   ioff3   ioff4   ioff5    ioff6\ni1  0 20  8000    1000      20       4.5     9.4     23       39      84\n\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Virtual Mutronics Mutator. (sans VCAs) using interpolating oscillator and Moog VCF filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Mutator.orc and Mutator.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 2\n\n\ninstr    1 ; Virtual Mutronics Mutator. (sans VCAs)\n\nigain    = p4     ; Gain: >1=Overdrive\nifreq    = p5     ; Manual cutoff frequency (0 to 1)\nidepth   = p6/2   ; LFO depth\nirate1   = p7     ; L LFO rate\nirate2   = p8     ; R LFO rate\niphase   = p9/360 ; R LFO phase\niwave    = p10    ; LFO waveform\nirez     = p11    ; Resonance\n\nain      soundin  \"AllOfMe.aif\"\n\nain      = ain*igain                           ; Gain/Overdrive\nklfo1    oscili  idepth, irate1, iwave         ; L LFO\nklfo2    oscili  idepth, irate2, iwave, iphase ; R LFO\nklfo1    = klfo1 + idepth                      ; Make unipolar\nklfo2    = klfo2 + idepth                      ; Make unipolar\nkfreq1   table  klfo1 + ifreq, 1, 1            ; L lin/exp convertor\nkfreq2   table  klfo2 + ifreq, 1, 1            ; R lin/exp convertor\navcfl    moogvcf  ain, kfreq1, irez, 32768     ; L VCF\navcfr    moogvcf  ain, kfreq2, irez, 32768     ; R VCF\nouts1    avcfl                                 ; L Output\nouts2    avcfr                                 ; R Output\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 -5 20 8192 10000       ; Exponential convertor\nf2 0 8193 9 1 1 180              ; Sine\nf3 0 8193 7 0 4096 1 4096 0      ; Triangle\nf4 0 1025 7 1 512 1 0 0 512 0    ; Square\nf5 0 8193 7 0 8192 1             ; Ramp up\nf6 0 8193 10 1 0 0 0 0 0 0 0 0 1 ; Fast and slow sines\n\n;Freq/Depth=0<1, PhseR=0<360 degrees\n;                           ------------LFOs-------------\n;   Strt  Leng  Gain  Freq  Depth RateL RateR PhseR Waves Rez(0<1)\ni1  0.00  1.47  1.25  0.25  0.75  0.36  0.36  180   3     0.75\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 20_01_1.orc and 20_01_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     20_01_1.ORC\n; synthesis: FM(20),\n;            simple FM (01), basic design(1)\n; source:    Chowning (1973)\n; coded:     jpg 8/92\n\ninstr 1; *****************************************************************\nidur      = p3\niamp      = p4\nifq1      = p5\nif1       = 1\nimax      = p6\nifq2      = p7\nif2       = 1\n    amod    oscili    imax*ifq2, ifq2, if2     ; modulator\n    aenv    linen     iamp, .1, idur, .1       ; prevent clicks\n    a1      oscili    aenv, ifq1+amod, if1     ; carrier\n            out       a1\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     20_01_1.SCO\n; coded:     jpg 8/92\n\n; GEN functions **********************************************************\n; carrier\nf1 0 512 10 1\n\n; score ******************************************************************\n;      idur iamp   ifq1  imax  ifq2                             c:m = 1:1\ni1   1   1  8000   200    1     200\ni1   +   .  .      .      2     .\ni1   .   .  .      .      3     .\ni1   .   .  .      .      4     .\ni1   .   .  .      .      5     .\n\ns\n; section 2\n;      idur iamp   ifq1  imax  ifq2                             c:m = 1:2\ni1   1   1  8000   200    1     400\ni1   +   .  .      .      2     .\ni1   .   .  .      .      3     .\ni1   .   .  .      .      4     .\ni1   .   .  .      .      5     .\ns\n; section 3\n;      idur iamp   ifq1  imax  ifq2                             c:m = 1:3\ni1   1   1  8000   200    1     600\ni1   +   .  .      .      2     .\ni1   .   .  .      .      3     .\ni1   .   .  .      .      4     .\ni1   .   .  .      .      5     .\ns\n; section 4\n;      idur iamp   ifq1  imax  ifq2          c:m = 1:1, 1:2, 1:3, 1:4, 1:5\ni1   1   1  8000   200    1     200\ni1   +   .  .      .      .     400\ni1   .   .  .      .      .     600\ni1   .   .  .      .      .     800\ni1   .   .  .      .      .    1000\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Audio FM Of Sample. using FM synthesis and interpolating oscillator and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FM.orc and FM.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 4410\nksmps    = 10\nnchnls   = 1\n\n\ninstr    1 ; Audio FM Of Sample.\n\np3       = p3 + .1   ; Adjust length to compensate for delay\nilevl    = p4        ; Output level\nidepth   = p5/1000   ; Convert depth to ms\nifreq1   = p6        ; Start mod freq\nifreq2   = p7        ; End mod freq\niwave    = p8        ; Modulation waveform\nifm      = p9/100000 ; Self-modulation\n\nain      soundin  \"Sample1\"\n\nksweep   expseg  ifreq1, p3, ifreq2\nafm1     oscili  idepth, ksweep, iwave\nafm2     = ain*ifm\nax       delayr  .1\naout     deltapi .05 + afm1 + afm2\n         delayw  ain\nout      aout*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\nf01 0 8193 10 1                      ; Sine\nf02 0 8193 7 0 2048 1 4096 -1 2048 0 ; Tri\nf03 0 8193 7 1 4096 1 0 -1 4096 -1   ; Square\nf04 0 8193 7 -1 8192 1               ; Ramp\n\n;Max depth = 50ms\n\n;     Strt  Leng  Levl  Depth Freq1 Freq2 Wave  Self-mod\ni01   0.00  1.00  1.00  10.0  1.00  5000  01    0.00\ni01   2.00  .     .     0.00  10.0  10.0  01    1.00\ni01   4.00  .     .     25.0  0.10  9999  04    0.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 02_01_5.orc and 02_01_5.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 2\n\n; ************************************************************************\n; ACCCI:      02_01_5.ORC\n; synthesis:  additive same units(02)\n;             basic instrument(01) with special envelope !\n; source:     #500   Spectral Analysis of a Chord, Risset(1969)\n; coded:      jpg 9/93\n\n\ninstr 1; *****************************************************************\nidur = p3\nifq  = p4\niamp = p5\n\n   a2   oscili   iamp, 1/idur, 31     ; left channel\n   a2   =        a2 * a2\n   a1   oscili   a2, ifq, 11\n        outs1    a1\nendin\n\ninstr 2; *****************************************************************\nidur = p3\nifq  = p4\niamp = p5\n\n   a2   oscili   iamp, 1/idur, 31     ; right channel\n   a2   =        a2 * a2\n   a1   oscili   a2, ifq, 11\n        outs2    a1\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:      02_01_5.SCO\n; source:     #500    Spectral Analysis of a Chord, Risset(1969)\n; coded:      jpg 9/93\n\n; GEN functions **********************************************************\n; wave\nf11 0 512 9 1 1 0\n; envelope\nf31 0 512 7 0 256 1 256 0\n\n\n\n;score *******************************************************************\n\n\n;============================================================\n;  start  idur  ifq  iamp\ni2   1    7.5  9325   50         ;(5)entries, diff is 2.5 sec\ni1   3.5  7.5  7460   50\ni2   6     .   5595    .\ni1   8.5   .   3730    .\ni1  11     .   1865    .                                 ;A#10\n\ni2   1.01 7.5  4940   50\ni1   3.51 7.5  3952   50\ni2   6.01  .   2964    .\ni1   8.51  .   1976    .\ni2  11.01  .    988    .                                   ;B9\n\n;=============================================================\ni1   4.75 3.75 5931   50         ;(9)entries, diff is 1.25 sec\ni2   6    3.75 5272   50\ni1   7.25  .   4613    .\ni2   8.5   .   3954    .\ni1   9.75  .   3295    .\ni2  10     .   2636    .\ni1  11.25  .   1977    .\ni2  12.5   .   1318    .\ni1  13.75  .    659    .                                   ;E9\n\ni2   4.76 3.75 3528   50\ni2   6.01  .   3136    .\ni1   7.26 3.75 2744   50\ni2   8.51  .   2352    .\ni1   9.76  .   1960    .\ni2  10.01  .   1568    .\ni1  11.26  .   1176    .\ni2  12.51  .    784    .\ni1  13.76  .    392    .                                   ;G8\n\n;=============================================================\n;   start idur  ifq  iamp\ni2   6.5   2   3234   50           ;(11)entries, diff is 1 sec\ni1   7.5   2   2940   50\ni2   8.5   .   2641    .\ni1   9.5   .   2352    .\ni2  10.5   .   2058    .\ni1  11.5   .   1764    .\ni2  12.5   .   1470    .\ni1  13.5   .   1176    .\ni2  14.5   .    882    .\ni1  15.5   .    588    .\ni2  16.5   .    294    .                                   ;D8\n\ni1   6.51  2   2288   50\ni2   7.51  2   2080   50\ni1   8.51  .   1872    .\ni2   9.51  .   1664    .\ni1  10.51  .   1456    .\ni2  11.51  .   1248    .\ni1  12.51  .   1040    .\ni2  13.51  .    832    .\ni1  14.51  .    624    .\ni2  15.51  .    416    .\ni1  16.51  .    208    .                                  ;G#7\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and interpolating random and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 03_01_2a.orc and 03_01_2a.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     03_01_2A.ORC\n; timbre:    pitched drum instrument\n; synthesis: additive different units(03)\n;            units: noise/inharm/fundamental(01)\n; source:    risset2.orc  MIT(1993)\n; coded:     jpg 8/93\n\n\n\ninstr 1; *****************************************************************\nidur  =  p3\niamp7 =  p4\nifq1  =  p5\niamp2 =  p4 * .8\nifq3  =  p5 * .1\niamp4 =  p4 * .3\n\n         a5     randi   iamp7, 1500\n         a5     oscili  a5, 1/idur, 52\n         a5     oscili  a5, 4000, 1\n\n         a3     oscili  iamp4, 1/idur, 52\n         a3     oscili  a3, ifq3, 11\n\n         a1     oscili  iamp2, 1/idur, 51\n         a1     oscili  a1,    ifq1, 1\n\n                out     a1+a3+a5\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     03_01_2A.SCO\n; coded:     jpg 8/93\n\n\n; GEN functions **********************************************************\n; waveforms\nf1   0  2048  10  1\nf11  0   512   9  10 1  0  16  1.5  0  22  2  0  23  1.5  0\n\n; envelopes\nf51  0   513   5   256  512  1\nf52  0   513   5  4096  512  1\n\n\n\n; score ******************************************************************\nt0  60 10 120\n\n;  start  idur iamp7  ifq1\ni1   0     1   6000   100\ni1   +     .    .     200\ni1   .     .    .     300\ni1   .     .    .     400\ni1   .     .    .     500\ni1   .     .    .     600\ni1   .     .    .     700\ni1   .     .    .     800\ni1   .     .    .     900\ni1   .     .    .    1000\ns\n\nt0  480\n\ni1   0     1   6000  1000\ni1   +     .    .     900\ni1   .     .    .     800\ni1   .     .    .     700\ni1   .     .    .     600\ni1   .     .    .     500\ni1   .     .    .     400\ni1   .     .    .     300\ni1   .     .    .     200\ni1   .     .    .     100\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1\t\t=\t\t\t1/p3 using interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 327.ORC and 327.SCO\n; Original files preserved in same directory\n\nsr\t\t=\t\t\t44100\nkr\t\t=\t\t\t4410\nksmps\t=\t\t\t10\nnchnls\t=\t\t\t1\n\n; FIG 3.27.ORC\n\n\n\ninstr \t1\ni1\t\t=\t\t\t1/p3\ni2\t\t=\t\t\tp5/3\ni3\t\t=\t\t\tp4\n\na1\t\toscili\t\ti2,i1,1,0\na2\t\toscili\t\ti3,i1,2,0\na1\t\toscili\t\ta1,a2,3\na2\t\toscili\t\ti2,i1,1,.1\na3\t\toscili\t\ti3,i1,2,.1\na2\t\toscili\t\ta2,a3,3\na3\t\toscili\t\ti2,i1,1,.2\na4\t\toscili\t\ti3,i1,2,.2\na3\t\toscili\t\ta3,a4,3\na4\t\toscili\t\ti2,i1,1,.3\na5\t\toscili\t\ti3,i1,2,.3\na4\t\toscili\t\ta4,a5,3\na5\t\toscili\t\ti2,i1,1,.4\na6\t\toscili\t\ti3,i1,1,.4\na5\t\toscili\t\ta5,a6,3\na6\t\toscili\t\ti2,i1,1,.5\na7\t\toscili\t\ti3,i1,2,.5\na6\t\toscili\t\ta6,a7,3\na7\t\toscili\t\ti2,i1,1,.6\na8\t\toscili\t\ti3,i1,2,.6\na7\t\toscili\t\ta7,a8,3\na8\t\toscili\t\ti2,i1,1,.7\na9\t\toscili\t\ti3,i1,2,.7\na8\t\toscili\t\ta8,a9,3\na9\t\toscili\t\ti2,i1,1,.8\na10\t\toscili\t\ti3,i1,2,.8\na9\t\toscili\t\ta9,a10,3\na10\t\toscili\t\ti2,i1,1,.9\na11\t\toscili\t\ti3,i1,1,.9\na10\t\toscili\t\ta10,a11,3\n\t\tout\t\t\ta1+a2+a3+a4+a5+a6+a7+a8+a9+a10\nendin\n\n</CsInstruments>\n<CsScore>\n;C FIG 3.27.SCR\n;C MUST READ IN A FLOATING POINT FUNCTION GEN.100\n;C CREATED VIA 327FUNC.ORC 327FUNC.SCO\n\nf 1 0 512 1 100 0 4 0 \nf 2 0 512 5 1 512 .001\nf 3 0 512 9 1 1 0\nf 0 1 \nf 0 2 \nf 0 3 \nf 0 5 \nf 0 8 \nf 0 13 \nf 0 21 \nf 0 34 \nf 0 55 \nf 0 89 \n  i1 0.000 120.000 3900 8000\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for if1 iamp2 if2 iamp3 if3 using interpolating oscillator and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 80_01_1c.orc and 80_01_1c.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     80_01_1C.ORC\n; timbre:    flute-like\n; synthesis: other instruments(80)\n;            twin instruments(1)\n; note:      playing only i2: LFO on frequency\n; source:    #100 Flute-like Melody, Risset(1969)\n; coded:     jpg 8/93\n\n\n\ninstr  2; ****************************************************************\nidur  = p3\nif1   = p4\niamp2 = p5 ;FM\nif2   = p6\niamp3 = p7 ;AM\nif3   = p8\n\n        a3   oscili  iamp3, 1/idur, if3  ;k3: AM control\n        a2   oscili  iamp2, 1/idur, if2  ;k2: FM control\n        a1   oscili  a3, a2, if1         ;sinus wave\n             out     a1 * 10\n\nendin\n\n\n\n\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     80_01_1C.SCO\n; note:      plays instrument 2 only\n; coded:     jpg 8/93\n\n\n; GEN functions **********************************************************\n; waveforms: Instrument 1\nf1 0 2048 10 1                                   ; fundamental\nf2 0 2048 10 1 .2 .08 .07                        ; four harmonics\nf3 0 2048 10 1 .4 .2 .1 .1 .05                   ; six harmonics\n\n; amplitude envelope functions: instrument 1 & 2\nf4  0 512 7 0 1 0 49 .2 90  .6 40 .99 25  .9 45 .5  50 .25 50 .12 50 .06\n            50 .02 62 0\nf5  0 512 7 0 1 0 49 .2 100 .6 50 .99 150 .2 162 0\nf6  0 512 7 0 1 0 49 .2 200 .5 100 .2 162 0\nf7  0 512 7 0 1 0 79 .5 60  .5 20 .99 120 .4 140 .6 92 0\nf8  0 512 7 0 1 0 149 .4 200 .99 50 .5 50 .24 62 0\n\n; pitch envelope functions: instrument 2\nf9  0 512 7  0 1 .895  511 .99 ; gen07 line segments    10% rise\nf10 0 512 7  0 1 .99   511 .99 ;                         0% rise\n\n; DC bias functions\nf12 0 512 9 1 .26 0            ; fundamental at .26\nf13 0 512 9 1 .3 0             ; fundamental at .3\n\n\n; score ******************************************************************\n;                      -- FM --  -- AM --\n; instr 2          if1 iamp2 if2 iamp3 if3\ni2   .88    .12     1    988 10   1200  8\ni2  1       .7      1   1107 10    300  8\ni2  4.5     .15     1   1397 10   1200  4\ni2  4.85    .15     1    992  9   1200  8\ni2  5.01    .7      1   1100  9    300  8\ni2  7.5     .5      1    368  9    150  8\ni2  10.25  1        1    275 10    200  6\ni2  12.09   .2      1   2217  9    950  6\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur  iamp1 if1 ifq1   if2   ifq3 if3 using interpolating oscillator and interpolating random and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 80_01_1b.orc and 80_01_1b.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     80_01_1B.ORC\n; timbre:    flute-like\n; synthesis: other instruments(80)\n;            twin instruments(1)\n; note:      playing only i1: LFO on amplitude\n; source:    #100 Flute-like Melody, Risset(1969)\n; coded:     jpg 8/93\n\n\n\ninstr  1; ****************************************************************\nidur  = p3\nif1   = p5  ; oscili 1: waveform\nifq1  = p6\nif2   = p7  ; oscili 2: envelope\nifq3  = p8\nif3   = p9  ; oscili 3\niampr = p4  ; randi\nifqr  = p7\n\n; initializing a variable idc to .6 or .74\nif if3 = 12 igoto dc1\nidc = .6\ngoto start\n\ndc1: idc = .74\n     goto start\n\nstart:\n        a4   randi   iampr/100, ifqr     ;small value amp & fq\n        a4   =       a4 + iampr          ;band limited noise\n\n        a3   oscili  a4, ifq3, if3       ;DC bias function, LFO\n        a3   =       a3 + idc            ;amplitude modulation input\n\n        a2   oscili  a3, 1/idur, if2     ;envelope\n\n        a1   oscili  a2, ifq1, if1       ;carrier: 3 waveforms & AM\n             out     a1 * 10             ;scaling up & out\nendin\n\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     80_01_1B.SCO\n; note:      plays instrument 1 only\n; coded:     jpg 8/93\n\n\n; GEN functions **********************************************************\n; waveforms: instrument 1\nf1 0 2048 10 1                                   ; fundamental\nf2 0 2048 10 1 .2 .08 .07                        ; four harmonics\nf3 0 2048 10 1 .4 .2 .1 .1 .05                   ; six harmonics\n\n; amplitude envelope functions: instrument 1 & 2\nf4  0 512 7 0 1 0 49 .2 90  .6 40 .99 25  .9 45 .5  50 .25 50 .12 50 .06\n            50 .02 62 0\nf5  0 512 7 0 1 0 49 .2 100 .6 50 .99 150 .2 162 0\nf6  0 512 7 0 1 0 49 .2 200 .5 100 .2 162 0\nf7  0 512 7 0 1 0 79 .5 60  .5 20 .99 120 .4 140 .6 92 0\nf8  0 512 7 0 1 0 149 .4 200 .99 50 .5 50 .24 62 0\n\n; pitch envelope functions: instrument 2\nf9  0 512 7  0 1 .895  511 .99 ; gen07 line segments    10% rise\nf10 0 512 7  0 1 .99   511 .99 ;                         0% rise\n\n; DC bias functions\nf12 0 512 9 1 .26 0            ; fundamental at .26\nf13 0 512 9 1 .3 0             ; fundamental at .3\n\n\n; score ******************************************************************\n\n; instr 1  idur  iamp1 if1 ifq1   if2   ifq3 if3\n;                                 ifqr\ni1  1      2       800  2  1109    5    4.16  12\ni1  3       .9     300  2   784    4    4.16  13\ni1  5.01   2      1200  2  1109    6    4.16  13\ni1  7       .2     400  2   784    7    4.16  13\ni1  7.2     .3     300  2   698    5    4.16  13\ni1  7.51   1       300  3   370    6    4.16  13\ni1  8.5     .5     400  3   415    5    4.16  13\ni1  9       .12    900  2  1396    4    4.16  13\ni1  9.1    1.2     900  2  1568    4    4.16  13\ni1  10.25  1       900  3   277    7    3.23  13\ni1  11.35   .36    500  2   329    5    3.57  13\ni1  11.72   .36    800  2   528    5    3.57  13\ni1  12.10   .15    700  1  1975    5    3.57  13\ni1  12.25  2.5     999  1  2217    4    3.57  13\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ,2,3,4 using bell sound and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from RissetBell.orc and RissetBell.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n; RISSET'S INSTRUMENT DESIGN FO A BELL-LIKE SOUND\n\n\n          instr 1,2,3,4\n\n; p3      =         duration\n; p4      =         freq in Hz\n; p5      =         amplitude\n\n; PEAK AMPS OF THE PARTIALS ARE A FUNCTION OF THE AMP OF THE LOWEST PARTIAL\n\ni1        =         p5\ni2        =         p5*0.67\ni3        =         p5*1.35\ni4        =         p5*1.80\ni5        =         p5*2.67\ni6        =         p5*1.67\ni7        =         p5*1.46\ni8        =         p5*1.33\ni9        =         p5*1.33\ni10       =         p5*0.75\ni11       =         p5*1.33\n\n; DURATIONS OF THE PARTIALS ARE A FUNCTION OF THE DURATION OF THE LOWEST PARTIAL\n                    \ni12       =         p3\ni13       =         p3*.9\ni14       =         p3*.65\ni15       =         p3*.55\ni16       =         p3*.325\ni17       =         p3*.35\ni18       =         p3*.25\ni19       =         p3*.2\ni20       =         p3*.15\ni21       =         p3*.1\ni22       =         p3*.075\n\n; FREQUENCIES OF THE PARTIALS ARE A FUNCTION OF THE FREQUENCY OF THE FUNDAMENTAL\n\ni23       =         p4*.56\ni24       =         (p4*.56)+1\ni25       =         p4*.92\ni26       =         (p4*.92)+1.7\ni27       =         p4*1.19\ni28       =         p4*1.7\ni29       =         p4*2\ni30       =         p4*2.74\ni31       =         p4*3\ni32       =         p4*3.75\ni33       =         p4*4.07\n\n; THE INSTRUMENT CONSISTS OF PAIRS Of oscil1/oscili\n; WHERE OSCIL1 PROVIDES THE ENVELOPE OF THE PARTIAL\n; AND OSCILI THE PARTIAL ITSELF\n\nk1        oscil1    0,i1,i12,1\na1        oscili    k1,i23,2\n\nk2        oscil1    0,i2,i13,1\na2        oscili    k1,i24,2\n\nk3        oscil1    0,i3,i14,1\na3        oscili    k1,i25,2\n\nk4        oscil1    0,i4,i15,1\na4        oscili    k1,i26,2\n\nk5        oscil1    0,i5,i16,1\na5        oscili    k1,i27,2\n\nk6        oscil1    0,i6,i17,1\na6        oscili    k1,i28,2\n\nk7        oscil1    0,i7,i18,1\na7        oscili    k1,i29,2\n\nk8        oscil1    0,i8,i19,1\na8        oscili    k1,i30,2\n\nk9        oscil1    0,i9,i20,1\na9        oscili    k1,i31,2\n\nk10       oscil1    0,i10,i21,1\na10       oscili    k1,i32,2\n\nk11       oscil1    0,i11,i22,1\na11       oscili    k1,i33,2\n\n          out       a1+a2+a3+a4+a5+a6+a7+a8+a9+a10+a11\n\n          endin\n\n</CsInstruments>\n<CsScore>\n; Risset's score for a bell-like sound\n\n; Amplitude envelope with extended guard point\n        f1 0 513 5 1024 512 1\n\n; Waveform for fundamental and partials\n        f2 0 512 9 1 1 0\n\n;       start   dur     freq    amp\ni1      1       4       633     2500\ni.      +       .       211\ni.      +       .       999\ns\ni1      1       4       633     1500\ni2      1       4       211     1500\ni3      1       4       999     1500\ni4      1       4       80      1500\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1             reverb    ga1*.04,2,0 using interpolating oscillator and reverb effect and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from MORL2.ORC and MORL2.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n; DEXTER MORRILL'S TRUMPET\n\ninstr          1\ni1             =         p5                            ; AMP FOR CAR1\ni2             =         p5*.2                         ; AMP FOR CAR2\ni3             =         cpspch(p4)                    ; CAR 1\ni4             =         int(3800/i3+.5)*i3            ; CAR 2\n                                                       ; MOD1 = I3\n                                                       ; MOD2 = I3\ni5             =         i3*2.66                       ; INDEX MOD 1\ni6             =         i3*1.8                        ; INDEX MOD 2\ni7             =         (p3<.33 ? .02 : .03)\ni8             =         (p3<.33 ? .1   : .3)  ; a2s\ni10            =         p3-(i7+i8)\na1             randi     .007,125\nif             p3 < .8   goto novib                    ; NO VIBRATO IF THE NOTE IS SHORTER THAN .8 SEC\na2             linseg    0,.6,.007,p3-.8,.007,.2,0\na3             oscili    a2,7,1\ngoto           vib\nnovib:\na3             =         0\nvib:\na4             linseg    -.03,.06,.003,.01,0,p3-.07,0  ; CFDEV\na5             =         (1+a1)*(1+a3)*(1+a4)          ; AA\n                                                       ;\n                                                       ; CARRIER 1 CODE\n                                                       ;\na6             linseg    0,.03,1,p3-.04,.9,.01,0\na7             =         a6*i5                         ; INV1\na8             oscili    a7,i3*a5,1\na9             linseg    0,.03,1,p3-.18,.9,.15,0\na10            =         a9*i1                         ; AENV 1\na11            =         (i3*a5)+a8\na12            oscili    a10,a11,1                     ; CAR1 OSC\n                                                       ;\n                                                       ; CARRIER 2 CODE\n                                                       ;\na13            linseg    0,.03,1,p3-.04,.9,.01,0\na14            =         a13*i6\na15            oscili    a14,i3*a5,1\na16            linseg    0,i7,1,i8,.9,i10,0\na17            =         a16*i2\na18            =         (i4*a5)+a15\na19            oscili    a17,a18,1                     ; CAR 2 OSC\nga1            =         a12+a19\nendin\n\ninstr 2\na1             reverb    ga1*.04,2,0\na2             =         ga1+a1\nout            a2\nga1            init      0\nga1            =         0\nendin     \n\n\n</CsInstruments>\n<CsScore>\nf1 0 512 9 1 1 0\n\ni1 0.000 2.000 8.00 20000\n\ni2 0.000 3.000\ns\ni1 0.000 0.750 6.05 20000\ni. 0.750 0.250 6.02\ni. 1.000 1.000 6.04\ni. 2.000 0.250 7.01\ni. 2.250 .     7.09\ni. 2.500 .     7.01\ni. 2.750 .     7.04\ni. 3.000 2.000 8.03\ni. 5.000 0.500 9.08\ni. 5.500 .     9.05\ni. 6.000\ni. 6.500 0.750 6.11\ni. 7.250 0.250 6.07\n\ni2 0.000 9.000\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a experiment sound using interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Experiment2.orc and Experiment2.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\n\n;*************************************   BINAURAL LATERIZATION   ************************************\n; THE MOST IMPORTANT BENEFIT WE DERIVE FROM BINAURAL HEARING IS THE SENSE OF LOCALIZTION OF THE SOUND\n; SOURCE. ALTHOUGH SOME DEGREE OF LOCALIZATION IS POSSIBLE IN MONOAURAL LISTENING, BINAURAL LISTENING \n; GREATLY ENHANCES OUR ABILITY TO SENSE THE DIRECTION OF THE SOUND SOURCE.\n; ALTHOUGH LOCALIZATION ALSO INCLUDES UP-DOWN AND FRONT AND BACK DISCRIMINATION, MOST ATTENTION IS FO-=\n; CUSED ON SIDE TO SIDE DISCRIMINATION OR \"LATERIZATION\". WHEN WE LISTEN WITH HEADPHONES , WE LOSE \n; FRONT-BACK INFORMATION, SO THAT LATERIZATION BECOMES EXAGERATED; THE IMAGE OF THE SOUND SOURCE AP-\n; PEARS TO SWITCH FROM ONE SIDE OF THE HEAD TO THE OTHER BY MOVING 'THROUGH THE HEAD', OR THE SOUND \n; SOURCE APPERAS TO BE 'IN THE HEAD'.\n; LORD RALIEGH (1907) WAS ONE OF THE FIRST TO RECOGNIZE THE IMPORTANCE OF TIME AND INTENSITY CUES AT\n; LOW FREQUENCY AND HIGH FREQUENCY, RESPECTIVELY. LOW-FREQUENCY SOUNDS ARE LATERALIZED MAINLY ON THE \n; BASIS OF INTERAURAL TIME DIFFERENCE, WHEREAS HIGH-FREQUENCY SOUNDS ARE LOCALIZED MAINLY ON THE BASIS \n; OF INTERAURAL INTENSITY DIFFERENCES.\n; IN THE FIRST EXAMPLE, 2 MILLISECOND PULSE (HEARD AS A \"CLICK\" IS PRESENTED WITH AN INTERAURAL \n; TIME DIFFERENCE THAT CYCLES , SO THAT THE SOUND SOURCE OF THE CLICK APPEARS TO MOVE BETWEEN LEFT\n; AND RIGHT. THIS EXPERIMENT WILL TRY TO DEFINE THE THRESHOLD OF MOVEMENT BY VARYING THE TIME DIFFERENCE\n; WITH VERY SMALL VALUES. LISTENER SHOULD WEAR HEADPHONES VS. USING A SPEAKER SYSTEM.\n;*****************************************   HEADER   ********************************************           \n\n instr         1\n\n iamp          =         ampdb(p4)                     ;P4 = AMPLITUDE IN DB \n ifreq         =         p5                            ;P5 = FREQUENCY\n ifunc         =         p7                            ;P6 = PANNING FUNCTION FOR SIGNAL\n idur          =         p3                            ;P7 = FUNCTION\n\n k1            linen     iamp,0,p3,0         \n a1            oscili    k1,ifreq,ifunc        \n k2            oscili    1,p3,p6\n kleft         =         sqrt (k2)\n kright        =         sqrt (1-k2)\n aleft         =         a1 * kleft\n aright        =         a1 * kright\n               outs      aleft,aright \n endin  \n\n\n</CsInstruments>\n<CsScore>\nf1 0 512 10 1 .5 0 .2                                            ; SIMPLE TONE\nf2 0 512 7 1 512 1                                               ; PANNED RIGHT\nf3 0 512 7 0 512 0                                               ; PANNED LEFT\n\n;*************************************   BINAURAL LATERIZATION   ***************************************\n\n;***********************************  INTERAURAL TIME DIFFERENCE   ******************************************\n;   p1      p2        p3    p4        p5         p6        p7      \n;  inst    strt      dur    amp      ifreq     panfunc   ifunc\n    i1     1.0       .002    85       2000        2         1\n    i1     1.00020   .002    85       2000        3         1\n    i1     1.5       .002    85       2000        2         1\n    i1     1.5       .002    85       2000        3         1     \n    s\n    i1     1.0       .002    85       2000        2         1\n    i1     1.0       .002    85       2000        3         1     \n    i1     1.5       .002    85       2000        3         1\n    i1     1.50020   .002    85       2000        2         1\n    s     \n    i1     1.0       .002    85       2000        2         1\n    i1     1.00009   .002    85       2000        3         1\n    i1     1.5       .002    85       2000        2         1\n    i1     1.5       .002    85       2000        3         1     \n    s\n    i1     1.0       .002    85       2000        2         1\n    i1     1.0       .002    85       2000        3         1     \n    i1     1.5       .002    85       2000        3         1\n    i1     1.50009   .002    85       2000        2         1\n    s     \n    i1     1.0       .002    85       2000        2         1\n    i1     1.00008   .002    85       2000        3         1\n    i1     1.5       .002    85       2000        2         1\n    i1     1.5       .002    85       2000        3         1     \n    s\n    i1     1.0       .002    85       2000        2         1\n    i1     1.0       .002    85       2000        3         1     \n    i1     1.5       .002    85       2000        3         1\n    i1     1.50008   .002    85       2000        2         1\n    s     \n    i1     1.0       .002    85       2000        2         1\n    i1     1.00006   .002    85       2000        3         1\n    i1     1.5       .002    85       2000        2         1\n    i1     1.5       .002    85       2000        3         1     \n    s\n    i1     1.0       .002    85       2000        2         1\n    i1     1.0       .002    85       2000        3         1     \n    i1     1.5       .002    85       2000        3         1\n    i1     1.50006   .002    85       2000        2         1\n    s     \n    i1     1.0       .002    85       2000        2         1\n    i1     1.00004   .002    85       2000        3         1\n    i1     1.5       .002    85       2000        2         1\n    i1     1.5       .002    85       2000        3         1     \n    s\n    i1     1.0       .002    85       2000        2         1\n    i1     1.0       .002    85       2000        3         1     \n    i1     1.5       .002    85       2000        3         1\n    i1     1.50004   .002    85       2000        2         1\n    s     \n    i1     1.0       .002    85       2000        2         1\n    i1     1.00003   .002    85       2000        3         1\n    i1     1.5       .002    85       2000        2         1\n    i1     1.5       .002    85       2000        3         1     \n    s\n    i1     1.0       .002    85       2000        2         1\n    i1     1.0       .002    85       2000        3         1     \n    i1     1.5       .002    85       2000        3         1\n    i1     1.50003   .002    85       2000        2         1\n    s     \n    i1     1.0       .002    85       2000        2         1\n    i1     1.00002   .002    85       2000        3         1\n    i1     1.5       .002    85       2000        2         1\n    i1     1.5       .002    85       2000        3         1     \n    s\n    i1     1.0       .002    85       2000        2         1\n    i1     1.0       .002    85       2000        3         1     \n    i1     1.5       .002    85       2000        3         1\n    i1     1.50002   .002    85       2000        2         1\n    e     \n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1 \t\texpseg \t.001,p7,1,p3-p7,.001 using ring modulation and interpolating oscillator and exponential segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Ringmod.orc and Ringmod.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t1\n\n\n\n\t\tinstr \t1\na1 \t\texpseg \t.001,p7,1,p3-p7,.001\na1 \t\toscili \ta1,p4,3\n\na2 \t\toscili \tp5,p6,2\n\t\tout \t\ta1*a2\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf 2 0 512 7 0 43 1 171 1 84 -1 171 -1 43 0\nf 3 0 512 9 1 1 0\n  i1 0.000 0.150 424 20000 1000 0.010\n  i1 0.150 0.300 727 20000 1000 0.010\n  i1 0.450 0.300 1524 20000 2000 0.010\n  i1 0.750 0.600 1136 20000 2000 0.010\n  i1 1.350 0.600 1342 20000 2000 0.010\n  i1 1.950 3.600 424 20000 1000 2.300\n  i1 5.550 0.150 727 20000 1000 0.010\n  i1 5.700 0.300 1524 20000 2000 0.010\n  i1 6.000 0.300 1136 20000 2000 0.010\n  i1 6.300 0.600 1342 20000 2000 0.010\n  i1 6.900 0.600 424 20000 1000 0.010\n  i1 7.500 3.600 727 20000 1000 2.300\n  i1 11.100 0.150 1524 20000 2000 0.010\n  i1 11.250 0.300 1136 20000 2000 0.010\n  i1 11.550 0.300 1342 20000 2000 0.010\n  i1 11.850 0.600 424 20000 1000 0.010\n  i1 12.450 0.600 727 20000 1000 0.010\n  i1 13.050 3.600 1524 20000 2000 2.300\n  i1 16.650 0.150 1136 20000 2000 0.010\n  i1 16.800 0.300 1342 20000 2000 0.010\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1        =         1/p3 using interpolating oscillator and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 326B.ORC and 326B.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; FIG 3.26A.ORC\n\ninstr     1\ni1        =         1/p3\ni2        =         cpspch(p4)\ni3        =         p5/2\ni4        =         p5/6\ni5        =         p5/2.5\n\nk1        oscili    i3,i1,2\na1        randi     k1,p6\na1        oscili    a1,4000,3\n\na2        oscili    i4,i1,2\na2        oscili    a2,i2*.1,4\n\na3        oscili    i5,i1,1\na3        oscili    a3,i2,3\n\n          out       a1+a2+a3\n\nendin\n\n</CsInstruments>\n<CsScore>\nc fig 3.26s.scr\nf 1 0 512 5 1 512 .004\nf 2 0 512 5 1 512 .00012\nf 3 0 512 9 1 1 0\nf 4 0 512 9 10 1 0 16 1.5 0 22 2 0 23 1.5 0\n  i1 0.000 0.100 6.05 24000 1000\n  i1 0.100 0.100 6.05 24000 1000\n  i1 0.200 0.100 6.05 24000 1000\n  i1 0.300 0.100 6.05 24000 1000\n  i1 0.400 0.100 6.05 24000 1000\n  i1 0.500 0.100 6.05 24000 1000\n  i1 0.600 0.100 6.05 24000 1000\n  i1 0.700 0.100 6.05 24000 1000\n  i1 0.800 0.100 6.05 24000 1000\n  i1 0.900 0.100 6.05 24000 1000\n  i1 1.000 0.200 6.05 24000 1000\n  i1 1.200 0.200 6.05 24000 1000\n  i1 1.400 0.200 6.05 24000 1000\n  i1 1.600 0.200 6.05 24000 1000\n  i1 1.800 0.200 6.05 24000 1000\n  i1 2.000 0.250 6.05 24000 1000\n  i1 2.250 0.250 6.05 24000 1000\n  i1 2.500 0.250 6.05 24000 1000\n  i1 2.750 0.250 6.05 24000 1000\n  i1 3.000 0.500 6.05 24000 1000\n  i1 3.500 0.500 6.05 24000 1000\n  i1 4.000 1.000 6.05 24000 1000\n  i1 5.000 2.000 6.05 24000 1000\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 02_01_4.orc and 02_01_4.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ***********************************************************************\n; ACCCI:     02_01_4.ORC\n; timbre:    bell\n; synthesis: additive same units(02)\n;            basic instrument(01)\n; source:    #410  Percussive Drum-like and Bell-like Sounds,\n;            Risset(1969)\n; coded:     jpg 8/93\n\n\ninstr 1; ****************************************************************\nidur  = p3\niamp  = p4\nifq1  = p5 * p6\n\n   a2    oscili  iamp, 1/idur, 51\n   a1    oscili  a2, ifq1, 11\n         out     a1\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ***********************************************************************\n; ACCCI:     02_01_4.SCO\n; source:    #410 Percussive Drum-like and Bell-like Sounds, Risset(1969)\n; coded:     jpg 8/93\n\n\n; GEN functions *********************************************************\n; waveform\nf11  0   512   9  1  1  0\n\n; envelopes\nf51  0   513   5  256 512 1\n\n\n; score *****************************************************************\n;  start  idur   iamp  ifq1  irat\ni1   1     3.0   2000   329   1.0              ; #410: section 3\ni1   1     2.8      .     .   2.0\ni1   1     2.7      .     .   2.4\ni1   1     2.4      .     .   3.0\ni1   1     2.2   3000     .   4.5\ni1   1     1.5      .     .   5.33\ni1   1     1.5      .     .   6\n\ns2\n\ni1   1     4.0   4000   329   1.0              ; #410: section 4\ni1   1     3.5      .     .   2.0\ni1   1     3.2      .     .   2.5\ni1   1     2.9      .     .   3.36\n\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Harmonic sweep generator. using interpolating oscillator and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Harmonics.orc and Harmonics.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 4410\nksmps    = 10\nnchnls   = 1\n\n\ninstr    1 ; Harmonic sweep generator.\n\nilevl    = p4*32768   ; Output level\nipitch   = cpspch(p5) ; Pitch\nitabl1   = p6         ; Start harmonic\nitabl2   = p7         ; End harmonic\nidet     = p8         ; Detune\n\nk1       line  1, p3, 0\na1       oscili  .5, ipitch + idet, 50, -1\na2       tablei  a1, itabl1, 1, .5\na3       tablei  a1, itabl2, 1, .5\naout     = a2*k1 + a3*(1 - k1)\nout      aout*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\nf01 0 1025 13 1 1 0 1\nf02 0 1025 13 1 1 0 1 1\nf03 0 1025 13 1 1 0 1 0 1\nf04 0 1025 13 1 1 0 1 0 0 1\nf05 0 1025 13 1 1 0 1 0 0 0 1\nf06 0 1025 13 1 1 0 1 0 0 0 0 1\nf07 0 1025 13 1 1 0 1 0 0 0 0 0 1\nf08 0 1025 13 1 1 0 1 0 0 0 0 0 0 1\nf09 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 1\nf10 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 1\nf11 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 1\nf12 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 1\nf13 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 1\nf14 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 1\nf15 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf16 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf17 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf18 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf19 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf20 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf21 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf22 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf23 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf24 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf25 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf26 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf27 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf28 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf29 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf30 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\n\nf50 0 1025 10 1 ; Sine\n\nt 0 120\n\n;     Strt  Leng  Levl  Pitch Tabl1 Tabl2 Detune\ni01   0.00  1.00  1.00  06.00 1     2     0.00\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     <     .\ni01   +     .     .     .     <     30    .\ni01   +     .     .     .     30    1     .\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and random noise and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 01_11_1.orc and 01_11_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     01_11_1.ORC\n; synthesis: simple(01),\n;            LFO modulating amplitude of basic instrument + % random\n;            amplitude variation (11)\n; coded:     jpg 10/93\n\n\ninstr  1; ****************************************************************\nidur  = p3\niamp  = p4\nifq1  = p5\nif1   = p6\nif2   = p7\nifq3  = p8\niperc = p9  ; random amplitude in percent of iamp\nifqr  = p10 ; frequency of bingo\n\n        a4   randi   (iamp/100)*iperc,ifqr ; % random amplitude variation\n\n        a3   oscili  a4+iamp, ifq3, 1      ; LFO modulating amplitude\n\n        a2   oscili  a3, 1/idur, if2       ; envelope\n\n        a1   oscili  a2, ifq1, if1         ; waveform\n             out     a1\nendin\n\n</CsInstruments>\n<CsScore>\n; **********************************************************************\n; ACCCI:     01_11_1.SCO\n; coded:     jpg 10/93\n\n; **********************************************************************\n; GEN functions\n; waveform\nf1 0 2048 10 1 .4 .2 .1 .1 .05                   ; six harmonics\n\n; envelope\nf31 0 512 7 0 1 0 49 .8 100 .9 50 .7 150 .2 162 0\n\n\n; **********************************************************************\n; score                                   LFO     RAND\n; instr 1  idur     iamp ifq1  if1  if2   ifq3    iperc  ifqr\ni1  1      1.5      8000 1109   1    31     4        1     40\ni1  3       .       .    .      .     .     .       50     .\ni1  6       .       .    .      .     .     .       80     .\ni1  9       .       .    .      .     .     .        1    110\ni1 12       .       .    .      .     .     .       50     .\ni1 15       .       .    .      .     .     .       80     .\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 02_01_6.orc and 02_01_6.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     02_01_6.ORC\n; timbre:    bell\n; synthesis: additive with same units(02)\n;            basic instrument(01)\n;            additive bell by Risset(6)\n; source:    #430  3 approximations to a Bell-like Sound, Risset(1969)\n;            also: risset3.orc  M.I.T.(1993)\n; coded:     jpg 8/93\n\n\n\ninstr 1; *****************************************************************\n\nidur1  = p3\nidur2  = p3*.9\nidur3  = p3*.65\nidur4  = p3*.55      ; Durations of the partials are a function of\nidur5  = p3*.325     ; the duration of the lowest partial\nidur6  = p3*.35\nidur7  = p3*.25\nidur8  = p3*.2\nidur9  = p3*.15\nidur10 = p3*.1\nidur11 = p3*.075\n\niamp1  = p4\niamp2  = p4*0.67\niamp3  = p4*1.35\niamp4  = p4*1.80\niamp5  = p4*2.67\niamp6  = p4*1.67\niamp7  = p4*1.46\niamp8  = p4*1.33     ; Peak amps of the partials\niamp9  = p4*1.33     ; are a function of the amp\niamp10 = p4*0.75     ; of the lowest partial\niamp11 = p4*1.33\n\nifq1  = p5*.56\nifq2  = (p5*.56)+1\nifq3  = p5*.92          ; Frequencies of the partials are a function of\nifq4  = (p5*.92)+1.7    ; the frequency of the fundamental\nifq5  = p5*1.19\nifq6  = p5*1.7\nifq7  = p5*2\nifq8  = p5*2.74\nifq9  = p5*3\nifq10 = p5*3.75\nifq11 = p5*4.07\n\n; The instrument consists of pairs of oscil1i/oscili\n; where oscil1i provides the envelope of the partial\n; and oscili the partial itself\n\n        k1     oscil1i    0, iamp1, idur1, 51\n        a1     oscili     k1, ifq1, 11\n\n        k2     oscil1i    0, iamp2, idur2, 51\n        a2     oscili     k2, ifq2, 11\n\n        k3     oscil1i    0, iamp3, idur3, 51\n        a3     oscili     k3, ifq3, 11\n\n        k4     oscil1i    0, iamp4, idur4, 51\n        a4     oscili     k4, ifq4, 11\n\n        k5     oscil1i    0, iamp5, idur5, 51\n        a5     oscili     k5, ifq5, 11\n\n        k6     oscil1i    0, iamp6, idur6, 51\n        a6     oscili     k6, ifq6, 11\n\n        k7     oscil1i    0, iamp7, idur7, 51\n        a7     oscili     k7, ifq7, 11\n\n        k8     oscil1i    0, iamp8, idur8, 51\n        a8     oscili     k8, ifq8, 11\n\n        k9     oscil1i    0, iamp9, idur9, 51\n        a9     oscili     k9, ifq9, 11\n\n        k10    oscil1i    0, iamp10, idur10, 51\n        a10    oscili     k10, ifq10, 11\n\n        k11    oscil1i    0, iamp11, idur11, 51\n        a11    oscili     k11, ifq11, 11\n\n               out        a1+a2+a3+a4+a5+a6+a7+a8+a9+a10+a11\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     02_01_6.SCO\n; coded:     jpg 8/93\n\n\n; GEN functions **********************************************************\n; waveform\nf11  0  1025   9    1 1 0\n\n; envelopes\nf51  0   513   5   4096  512  1\n\n\n; score ******************************************************************\n;  start  idur  iamp  ifq  \ni1   0      4   2500  999  ; 224\n\ni1   +      4   .     633     \ni1   .      .   .     211     \ni1   .      .   .     999\n\ns\n\ni1   1     20   1500  633   \ni1   +      4   .     211     \ni1   .      .   .     999     \ni1   .      .   .      80     \n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifreq   =       p5 using interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from ENDLESS.ORC and ENDLESS.SCO\n; Original files preserved in same directory\n\n        sr          =         44100\n        kr          =         4410\n        ksmps  =         10\n        nchnls =         1\n\n;==========================================================================;\n;                 DODGE/RISSET ENDLESS GLISSANDO INSTRUMENT                ;\n;                                                                          ;\n; AN IMPLEMENTATION OF JEAN CLAUDE RISSET'S SYNTHESIS DESIGN FOR THE       ;\n; \"ENDLESS GLISSANDO,\" REPRINTED IN THE DODGE/JERSE TEXTBOOK.              ;\n; NOTE: YOU MUST RUN THE BELLFUNC.ORC TO GENERATE SOUNDIN.10 (USED IN      ;\n; ENDLESS.SCO) FIRST.                                                      ;\n; RUSSELL PINKSTON                                                         ;\n;==========================================================================;\n\n                instr   1\n        ifreq   =       p5\n                if      (ifreq >= 20) igoto continue        \n        ifreq   =       cpspch(p5)              ;p5 must be in oct.pch\ncontinue:\n        kphase  phasor  1/p6\n        kenvlp  linen   p4,1,p3,1\n\n        kamp1   table   kphase,3,1,0,1 \n        kcps1   tablei  kphase,4,1,0,1\n        asig1   oscili  kamp1,kcps1*ifreq,1\n\n        kamp2   table   kphase+.1,3,1,0,1 \n        kcps2   tablei  kphase+.1,4,1,0,1\n        asig2   oscili  kamp2,kcps2*ifreq,1\n\n        kamp3   table   kphase+.2,3,1,0,1 \n        kcps3   tablei  kphase+.2,4,1,0,1\n        asig3   oscili  kamp3,kcps3*ifreq,1\n\n        kamp4   table   kphase+.3,3,1,0,1 \n        kcps4   tablei  kphase+.3,4,1,0,1\n        asig4   oscili  kamp4,kcps4*ifreq,1\n\n        kamp5   table   kphase+.4,3,1,0,1 \n        kcps5   tablei  kphase+.4,4,1,0,1\n        asig5   oscili  kamp5,kcps5*ifreq,1\n\n        kamp6   table   kphase+.5,3,1,0,1 \n        kcps6   tablei  kphase+.5,4,1,0,1\n        asig6   oscili  kamp6,kcps6*ifreq,1\n\n        kamp7   table   kphase+.6,3,1,0,1 \n        kcps7   tablei  kphase+.6,4,1,0,1\n        asig7   oscili  kamp7,kcps7*ifreq,1\n\n        kamp8   table   kphase+.7,3,1,0,1 \n        kcps8   tablei  kphase+.7,4,1,0,1\n        asig8   oscili  kamp8,kcps8*ifreq,1\n\n        kamp9   table   kphase+.8,3,1,0,1 \n        kcps9   tablei  kphase+.8,4,1,0,1\n        asig9   oscili  kamp9,kcps9*ifreq,1\n\n        kamp10  table   kphase+.9,3,1,0,1 \n        kcps10  tablei  kphase+.9,4,1,0,1\n        asig10  oscili  kamp10,kcps10*ifreq,1\n\n        asum    =       asig1+asig2+asig3+asig4+asig5+asig6+asig7+asig8+asig9+asig10\n        \n                out     asum*kenvlp\n\n                endin\n\n</CsInstruments>\n<CsScore>\n; GENERATE 15 SECONDS OF ENDLESS GLISSANDO WITH A 120 SECOND CYCLE TIME\nf01     0       512     10      1\nf02     0       513     7       0       512     1\nf03     0       2049    1       \"bellfunc.aif\"      0 0 0\nf04     0       513     5       1       512     .0009766\ni01     0        15     15000   6000    120\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and random noise and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 03_01_2b.orc and 03_01_2b.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n;************************************************************************\n; ACCCI:     03_01_2B.ORC\n; modified:  changed randi to rand: brighter noise quality    \n; timbre:    pitched noise instrument, drum like\n; synthesis: additive different units(03)\n;            units: noise/inharm/fundamental\n; coded:     jpg 9/93\n\n\n\ninstr 1; *****************************************************************\nidur  =  p3\niamp7 =  p4\nifq1  =  p5\niamp2 =  p4 * .8\nifq3  =  p5 * .1\niamp4 =  p4 * .3\n\n         a5     rand    iamp7, 1500        \n         a5     oscili  a5, 1/idur, 52\n         a5     oscili  a5, 4000, 1\n\n         a3     oscili  iamp4, 1/idur, 52\n         a3     oscili  a3, ifq3, 11\n\n         a1     oscili  iamp2, 1/idur, 51\n         a1     oscili  a1,    ifq1, 1\n\n                out     a1+a3+a5\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     03_01_2B.SCO\n; source:    risset2.sco,  M.I.T.(1993)\n; coded:     jpg 8/93\n\n\n; GEN functions **********************************************************\n; waveforms\nf1   0  2048  10  1\nf11  0   512   9  10 1  0  16  1.5  0  22  2  0  23  1.5  0\n\n; envelopes\nf51  0   513   5   256  512  1\nf52  0   513   5  4096  512  1\n\n\n\n; score ******************************************************************\nt0  60 10 120\n\n;  start  idur iamp7  ifq1\ni1   0     1   6000   100\ni1   +     .    .     200\ni1   .     .    .     300\ni1   .     .    .     400\ni1   .     .    .     500\ni1   .     .    .     600\ni1   .     .    .     700\ni1   .     .    .     800\ni1   .     .    .     900\ni1   .     .    .    1000\ns\n\nt0  480\n\ni1   0     1   6000  1000\ni1   +     .    .     900\ni1   .     .    .     800\ni1   .     .    .     700\ni1   .     .    .     600\ni1   .     .    .     500\ni1   .     .    .     400\ni1   .     .    .     300\ni1   .     .    .     200\ni1   .     .    .     100\n\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Dual Flanger with normal and cross feedback using flanger effect and interpolating oscillator and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FlangerX.orc and FlangerX.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 2\n\n\ninstr    1 ; Dual Flanger with normal and cross feedback\n\nilevl    = p4       ; Output level\nidelay   = p5/1000  ; Delay in ms\nidepth   = p6/2000  ; LFO depth in ms\nirate1   = p7       ; L LFO rate\nirate2   = p8       ; R LFO rate\niphase   = p9/360   ; R LFO phase\niwave    = p10      ; LFO waveform\nifdbk1   = p11      ; L feedback\nifdbk2   = p12      ; R feedback\nixfdbk   = p13      ; X feedback\nidry     = p14*.707 ; Dry output level\nimax     = idepth + idelay + .1\nadel1    init 0\nadel2    init 0\n\nain      soundin  \"Piano.aif\"\n\nasig1    = ain + ixfdbk*adel2\nasig2    = ain + ixfdbk*adel1\nalfo1    oscili  idepth, irate1, iwave\nalfo1    = alfo1 + idepth\nalfo2    oscili  idepth, irate2, iwave, iphase\nalfo2    = alfo2 + idepth\naflange1 flanger  asig1, alfo1 + idelay, ifdbk1, imax\naflange2 flanger  asig2, alfo2 + idelay, ifdbk2, imax\nouts1    (aflange1 + ain*idry)*ilevl\nouts2    (aflange2 + ain*idry)*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 10 1                    ; Sine\nf2 0 8193 7 -1 4096 1 4096 -1     ; Tri\nf3 0 8193 10 1 0 0 0 0 0 0 0 0 .1 ; Slow and fast sines\n\n;Depth and delay in ms. LFO Phase in degrees\n\n;                           ------------LFOs------------  -----Feedback----\n;   Strt  Leng  Levl  Delay Depth RateL rateR Phase Wave  Fdbk1 Fdbk2 XFdbk Dry\ni1  0.00  1.47  1.00  0.25  3.75  0.68  0.68  090   3    -0.75 -0.75 +0.75  0.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1             reverb    ga1*.04,2,0 using interpolating oscillator and reverb effect and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from MORL1.ORC and MORL1.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n; DEXTER MORRILL'S TRUMPET\n\ninstr          1\ni1             =         p5                       ; AMP FOR CAR1\ni2             =         p5*.2                    ; AMP FOR CAR2\ni3             =         cpspch(p4)               ; CAR 1\ni4             =         int(1500/i3+.5)*i3       ; CAR 2\n                                                  ; MOD1 = I3\n                                                  ; MOD2 = I3\ni5             =         i3*2.66                  ; INDEX MOD 1\ni6             =         i3*1.8                   ; INDEX MOD 2\ni7             =         (p3<.33 ? .02 : .03)\ni8             =         (p3<.33 ? .1   : .3)     ; A2S\ni10            =         p3-(i7+i8)\na1             randi     .007,125\nif             p3 < .8   goto novib               ; NO VIBRATO IF THE NOTE IS SHORTER THAN .8 SEC\na2             linseg    0,.6,.007,p3-.8,.007,.2,0\na3             oscili    a2,7,1\n               goto      vib\nnovib:\na3             =         0\nvib:\na4             linseg    -.03,.06,.003,.01,0,p3-.07,0       ; CFDEV\na5             =         (1+a1)*(1+a3)*(1+a4)               ; AA\n                                                            ;\n                                                            ; CARRIER 1 CODE\n                                                            ;\na6             linseg    0,.03,1,p3-.04,.9,.01,0\na7             =         a6*i5                              ; INV1\na8             oscili    a7,i3*a5,1\na9             linseg    0,.03,1,p3-.18,.9,.15,0\na10            =         a9*i1                              ; AENV 1\na11            =         (i3*a5)+a8\na12            oscili    a10,a11,1                          ; CAR1 OSC\n                                                            ;\n                                                            ; CARRIER 2 CODE\n                                                            ;\na13            linseg    0,.03,1,p3-.04,.9,.01,0\na14            =         a13*i6\na15            oscili    a14,i3*a5,1\na16            linseg    0,i7,1,i8,.9,i10,0\na17            =         a16*i2\na18            =         (i4*a5)+a15\na19            oscili    a17,a18,1                          ; CAR 2 OSC\nga1            =         a12+a19\nendin\n\ninstr          2\na1             reverb    ga1*.04,2,0\na2             =         ga1+a1\nout            a2\nga1            init      0\nga1            =         0\nendin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 512 9 1 1 0\n\ni1 0.000 2.000 8.00 20000\n\ni2 0.000 3.000\ns\ni1 0.000 0.750 6.05 20000\ni. 0.750 0.250 6.02\ni. 1.000 1.000 6.04\ni. 2.000 0.250 7.01\ni. 2.250 .     7.09\ni. 2.500 .     7.01\ni. 2.750 .     7.04\ni. 3.000 2.000 8.03\ni. 5.000 0.500 9.08\ni. 5.500 .     9.05\ni. 6.000\ni. 6.500 0.750 6.11\ni. 7.250 0.250 6.07\n\ni2 0.000 9.000\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for p4      =         freq of fundamental (Hz) using arpeggio and interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Arpeggio.orc and Arpeggio.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; ================arpeggio.o=================\n; This instrument, designed by Risset, produces an arpeggiation in the\n; harmonic series.  One can hear very clearly the individual harmonics\n; come into phase.  The phenomenon of beating is again the means for\n; doing this.  See the relavent passage in Chapter 3 (pp. 101-102) Dodge.\n\n\n          instr 1\n\n; p4      =         freq of fundamental (Hz)\n; p5      =         amp\n; p6      =         initial offset of freq - .03 Hz\n\n; INIT VALUES CORRESPOND TO FREQ. OFFSETS FOR OSCILLATORS BASED ON ORIGINAL p6\n\ni1        =         p6\ni2        =         2*p6\ni3        =         3*p6\ni4        =         4*p6\n                    \nampenv    linen     p5,.01,p3,.02            ; A SIMPLE ENVELOPE TO PREVENT CLICKING.\n                                             \na1        oscili    ampenv,p4,1              ; NINE OSCILLATORS WITH THE SAME AMPLITUDE ENV\na2        oscili    ampenv,p4+i1,1           ; AND WAVEFORM, BUT SLIGHTLY DIFFERENT\na3        oscili    ampenv,p4+i2,1           ; FREQUENCIES TO CREATE THE BEATING EFFECT\na4        oscili    ampenv,p4+i3,1\na5        oscili    ampenv,p4+i4,1\na6        oscili    ampenv,p4-i1,1\na7        oscili    ampenv,p4-i2,1\na8        oscili    ampenv,p4-i3,1\na9        oscili    ampenv,p4-i4,1\n\n          out       a1+a2+a3+a4+a5+a6+a7+a8+a9\n          endin\n\n\n</CsInstruments>\n<CsScore>\n; Risset's arpeggio score\n\nf1 0 1024 10 1 0 0 0 .7 .7 .7 .7 .7 .7\n\n\n;       start   dur     freq    amp     offset\n\ni1      1       10      96      2500    .03\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for VCO WITH Sync using interpolating oscillator and analog-style oscillator and buzz/pulse generator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from OscilSync.orc and OscilSync.sco\n; Original files preserved in same directory\n\nsr        =         44100     ; sr MUST EQUAL kr FOR THIS ORCHESTRA\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n;ORCHESTRA\n\n;---------------------------------------------------------------\n; VCO WITH Sync\n;---------------------------------------------------------------\n          instr   11\n\nidur      =         p3                       ; DURATION\niamp      =         p4                       ; AMPLITUDE\nifqc      =         cpspch(p5)               ; FREQUENCY\nifqc2     =         ifqc*p6                  ; FREQUENCY OF PSEUDO SYNCHED OSCILLATOR WRT BASE FREQUENCY\nifco      =         p7*ifqc/500              ; FILTER CUT-OFF FREQUENCY BASED, HIGHER PITCHES GET A HIGHER CUT OFF\n\nkrez      init      p8                       ; krez IS NOT CHANGING\nkfco      expseg    100+.01*ifco, .2*idur, ifco+100, .5*idur, ifco*.1+100,.3*idur, .001*ifco+100 ; FILTER ENVELOPE\nkamp      linseg    0, .01*idur, iamp, .2*idur, .8*iamp, .49*idur, .5*iamp, .2*idur, 0 ; AMP ENVELOPE\n\nasaw2     init      0\n\napulse1   buzz      1, ifqc, sr/2/ifqc, 1    ; BAND-LIMITED IMPULSE TRAIN\napulse2   buzz      1, ifqc2, sr/2/ifqc2, 1  ; BAND-LIMITED IMPULSE TRAIN\n\nasaw      integ     apulse1                  ; INTEGRATE THE PULSE FOR A SQUARE WAVE\n\naamp1     oscili    1, ifqc,  3              ; TURN ON THE GATE IN SYNC WITH THE IMPULSES\naamp2     oscili    1, ifqc2, 3\n\nasaw2     =         (apulse1 + apulse2*aamp2*(1-aamp1))*(1.2-asaw2) + (1-ifqc/sr)*asaw2 ; BASICALLY DON'T ADD TWO IMPULSES\n\n;aout     rezzy     asaw2-.5, kfco, krez\n\n          outs      (asaw2-.5)*iamp, (asaw2-.5)*iamp\n          \n          endin\n\n</CsInstruments>\n<CsScore>\n; SCORE\nf1 0 16384 10 1                          ; Sine\nf3 0 1024  -7 1 12 1 0 0 1000 0 0 1 12 1 ; Pulse: Wider pulses make softer syncs.\n\n; Synth with sync\n;   Sta  Dur  Amp   Pitch  SyncFqc  Fco   Rez\ni11 0    1    20000 6.00   .9      5000  20\ni11 +    .    .     7.00   .        .     .\ni11 .    .    .     8.00   .        .     .\ni11 .    .    .     9.00   .        .     .\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 02_01_7.orc and 02_01_7.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     02_01_7.ORC\n; synthesis: additive with same units via parallel score file calls(02),\n;            basic instrument(01)\n;            experiments (7)\n; source:    #300  Linear  and  Exponential  Decay  Experiments,\n;            Risset(1969)\n; coded:     jpg 8/93\n\n\n\ninstr  1; ****************************************************************\nidur  =  p3\nifq1  =  p4\nif1   =  p5\niamp  =  p6\nif2   =  p7\n\n   a2  oscili iamp, 1/idur, if2    ; if2 chooses lin or exp decay\n   a1  oscili a2, ifq1, if1        ; if1 chooses waveform\n       out    a1\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     02_01_7.SCO\n; coded:     jpg 8/93\n\n\n; GEN functions **********************************************************\n; waveform\nf31 0  1024  7   0 128 10 256 10 256 -10 256 -10 128 0    ;ca. square wave\nf11 0  1024 10   1 .5 .3  .2 .15 .12               ;six weighted sinusoids\nf12 0  1024 10   1 .2 .05                        ;three weighted sinusoids\n\n; envelopes\nf32 0  512   7  .99 512 0\nf51 0  513   5  256   512  1\n\n\n; dependency harmonic content and decay time is compared \n; alternating straight 440 frequency with beats, i.e. slightly detuned\n\n\n; score ******************************************************************\n\n;   start  idur  ifq1  if1  iamp   if2\n\ni1    0      .1   440   31  10000   51      ; section 1\ni1    0     1.8   .     11   3500\ni1    0     3     .     12   2000\n\ni1    4      .1   443   31  10000   51      ; section 2\ni1    4     1.8   440   11   3500\ni1    4     3     441   12   2000\n\n\n\ni1    8      .1   440   12  10000   51      ; section 3\ni1    8     1.8   .     11   3500\ni1    8     3     .     31   2000\n\ni1   12      .1   443   12  10000   51      ; section 4\ni1   12     1.8   440   11   3500\ni1   12     3     441   31   2000\n\n\n\ni1   16      .1   440   31  10000   51      ; section 5\ni1   16     1     .     11   3500\ni1   16     3.8   .     12   2000\n\ni1   20      .1   448   31  10000   51      ; section 6\ni1   20     1     440   11   3500\ni1   20     3.8   444   12   2000\n\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1             =         1/p3 using interpolating oscillator and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 326A.ORC and 326A.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n; FIG 3.26A.ORC\n\ninstr          1\ni1             =         1/p3\ni2             =         cpspch(p4)\ni3             =         p5/2\ni4             =         p5/6\ni5             =         p5/2.5\n\nk1             oscili    i3,i1,2\na1             randi     k1,p6\na1             oscili    a1,4000,3\n\na2             oscili    i4,i1,2\na2             oscili    a2,i2*.1,4\n\na3             oscili    i5,i1,1\na3             oscili    a3,i2,3\n\nout            a1+a2+a3\n\nendin\n\n</CsInstruments>\n<CsScore>\nc fig 3.26s.scr\nf 1 0 512 5 1 512 .004\nf 2 0 512 5 1 512 .00012\nf 3 0 512 9 1 1 0\nf 4 0 512 9 10 1 0 16 1.5 0 22 2 0 23 1.5 0\n  i1 0.000 0.250 5.00 24000 1000\n  i1 0.250 0.250 5.00 24000 1000\n  i1 0.500 0.250 5.00 24000 1000\n  i1 0.750 0.250 5.00 24000 1000\n  i1 1.000 0.250 6.00 24000 1000\n  i1 1.250 0.250 6.00 24000 1000\n  i1 1.500 0.250 6.00 24000 1000\n  i1 1.750 0.250 6.00 24000 1000\n  i1 2.000 0.250 7.00 24000 1000\n  i1 2.250 0.250 7.00 24000 1000\n  i1 2.500 0.250 7.00 24000 1000\n  i1 2.750 0.250 7.00 24000 1000\n  i1 3.000 0.250 8.00 24000 1000\n  i1 3.250 0.250 8.00 24000 1000\n  i1 3.500 0.250 8.00 24000 1000\n  i1 3.750 0.250 8.00 24000 1000\n  i1 4.000 0.250 9.00 24000 1000\n  i1 4.250 0.250 9.00 24000 1000\n  i1 4.500 0.250 9.00 24000 1000\n  i1 4.750 0.250 9.00 24000 1000\n  i1 5.000 0.250 10.00 24000 1000\n  i1 5.250 0.250 10.00 24000 1000\n  i1 5.500 0.250 10.00 24000 1000\n  i1 5.750 0.250 10.00 24000 1000\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1\t\t=\t\t1.5\t\t\t\t\t; UPPER LIMIT FOR ON/OFF using interpolating oscillator and random noise and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from SWITCH.ORC and SWITCH.SCO\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t1\n\n; Steven Grosmark\n; NYU Computer Music Studio\n; rand-switch.orc\n\n; p4\t\t=\t\tPITCH\n; p5\t\t=\t\tMAX AMP\n; p6\t\t=\t\tRAND SEED\n\n\n\t\tinstr 1\ni1\t\t=\t\t1.5\t\t\t\t\t; UPPER LIMIT FOR ON/OFF\ni2\t\t=\t\t1.7/i1\t\t\t\t; CONSTANT FOR LOG\ni3\t\t=\t\tp4\t\t\t\t\t; PITCH\ni4\t\t=\t\tp6\t\t\t\t\t; RAND # SEED\ni5\t\t=\t\t1/p3\t\t\t\t\t; FREQ FOR SINE\ni6\t\t=\t\ti3 * .1\t\t\t\t; DEVIATION\n\nk1\t\trandi\t10,5,i4\t\t\t\t; FREQ OF ON/OFF SWITCH\nk2\t\t=\t\tabs(k1)\t\t\t\t; ONLY POSITIVE #'S ALLOWED\nk3\t\trandh\ti1,k2,i4\t\t\t\t; ON/OFF SWITCH\nk4\t\t=\t\tabs(k3)\t\t\t\t; ONLY POSITIVE #'S\nk5\t\t=\t\tint(k4)\t\t\t\t; ON FROM 1 -=> i1\nk6\t\t=\t\tk5*((k4-1)*i2)\t\t\t; ON/OFF NOW FROM 0 TO 1.7\nk7\t\toscili\t1,k2,2\t\t\t\t; ENVELOPE - f2 = 1/2 SINE\nk8\t\t=\t\tk5*k7*p5*(log(k6+1))\n\n; or k9\tlinseg\t1,p3,i6\n; or k11\t=\t\ti3\n\nk9\t\tlinseg\t.1,p3/2,.4,p3/2,.1\n\nk11\t\t=\t\ti3-(k9*i3)\n\na1\t\toscili\tk8,k11,1\n\t\tout\t\ta1\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n; Steven Grosmark\n; Switch.sco\n\nf1 0 512 9 1 1 0\nf2 0 512 9 .5 1 0\n\ni1 .5 30 1319 15000 .2\ni.  . .  1760  .    .3\ni.  . .  2349  .    .4\ni.  . .  3136  .    .7\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Pseudo 6-Stage Stereo Phaser using notch filters using phaser effect and stereo processing and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from StereoPhaser.orc and StereoPhaser.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 4410\nksmps    = 10\nnchnls   = 2\n\n \ninstr    1 ; Pseudo 6-Stage Stereo Phaser using notch filters\n\nilevl    = p4*1.18                       ; Output level\niratel   = p5                            ; L LFO rate\nirater   = p6                            ; R LFO rate\niph      = p7/360                        ; R LFO phase in degrees\niwave    = p8                            ; LFO waveform\niq       = p9                            ; Q\n\nain      soundin  \"Sample2\"\n\nklfol    oscili  .40, iratel, iwave      ; L LFO\nklfor    oscili  .40, irater, iwave, iph ; R LFO\nklfo1    table  klfol + .40, 1, 1        ; Convert to exponential\nklfo2    table  klfol + .50, 1, 1        ; Convert to exponential\nklfo3    table  klfol + .60, 1, 1        ; Convert to exponential\nklfo4    table  klfor + .40, 1, 1        ; Convert to exponential\nklfo5    table  klfor + .50, 1, 1        ; Convert to exponential\nklfo6    table  klfor + .60, 1, 1        ; Convert to exponential\nanl      pareq  ain, klfo1, 0, iq, 0     ; L Notch 1\nanl      pareq  anl, klfo2, 0, iq, 0     ; L Notch 2\nanl      pareq  anl, klfo3, 0, iq, 0     ; L Notch 3\nanr      pareq  ain, klfo4, 0, iq, 0     ; R Notch 1\nanr      pareq  anr, klfo5, 0, iq, 0     ; R Notch 2\nanr      pareq  anr, klfo6, 0, iq, 0     ; R Notch 3\nouts     anl*ilevl, anr*ilevl            ; Level and output\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 -5 50 8192 14500   ; Exponential curve\n\nf2 0 8193 -7 0 4096 1 4096 0 ; Triangle\nf3 0 8193 19 1 1 0 1         ; Sine\nf4 0 8193 -7 0 8192 1        ; Ramp\n\n;   Strt  Leng  Levl  RateL RateR Phase Wave  Q\ni1  0.00  1.47  1.00  0.68  0.68  090   2     0.71\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for inum\tnotnum using test/demonstration and interpolating oscillator and delay effect", "input": "", "output": ";******************************************************\n;** Unified orc/sco file example with realtime flags **\n;******************************************************\n\n<CsoundSynthesizer>\n\n<CsOptions>\n;***** command line flags ******\n;------- no display    midi in     DirectX audio out   buffer length    number of console text-lines\n;         -d            -+K0         -+X1                 -b800            -+j500\n</CsOptions>\n\n\n<CsInstruments>\n\n;** <<< orc/sco for DirectCsound test >>>\n;** In this file flags are set in the\"CsOption\" area.\n;** To run this example, simply drag this file to the csound.exe icon\n;** \n;** Then answer to the console requests about the midi port number \n;** and the DirectSound device number. Try to play the midi keyboard. \n;** If all is OK (i.e. if you can hear the notes you play) then\n;** close csound and rerun it suppressing the console message display\n;** by modifying the CsOption area in the followig way\n;** \n;** -+O -m0 -+X -+K -b100 test.orc test.sco \n;** \n;** Notice that the latency delay is hugely reduced respect previous versions\n;** of RTsound. If you have a PENTIUM II processor you can reduce the buffer\n;** by typing a smaller number referring to -b flag (try with 100 or less)\n\n\n\tsr = 44100  \n\tkr = 441\n\tksmps = 100\n\tnchnls = 1\t\n\n\tinstr\t1\ninum\tnotnum\nicps\tcpsmidi\niamp\tampmidi\t4000\nkmp\tlinenr\tiamp, 0, .8, .01 \na1\toscili\tkmp, icps, 1\n\tout\ta1      \n\tendin\n\n\n</CsInstruments>\n\n\n<CsScore>\n\nf0 15\nf1 0 128 10 1 0 1 0 1 0 1  ; audio function\n\ne\n\n</CsScore>\n\n\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 33_01_2.orc and 33_01_2.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     33_01_2.ORC\n; timbre:    gong\n; synthesis: Amplitude Modulation(33)\n;            ring modulation, multiplier(01)\n;            sinus and block(2)\n; source:    #550  Ring-modulation Chord with Gong-like Resonance\n;            Risset(1969)\n; coded:     jpg 9/93\n\n\ninstr 1; *****************************************************************\nidur  = p3            ; ring modulation chord\niamp  = p4\nirise = p5\nidec  = p6\nifqc  = p7\nifqm  = p8\n\n   a1    envlpx   iamp, irise, 1/idur, idec, 51, 1, .01\n   a1    oscili   a1, ifqc, 11                            ; sinus\n   a2    oscili   1, ifqm, 31                             ; block\n         out      a1*a2                                   ; ring\nendin\n\ninstr 2; *****************************************************************\nidur = p3             ; gong resonance\niamp = p4\nifq  = p5\n\n   a1    oscili   iamp, 1/idur, 52\n   a1    oscili   a1, ifq, 11\n         out      a1\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:    33_01_2.SCO\n; source:   550.sco  Ring-modulation Chord with Gong-like Resonance\n;           Risset(1969)\n; coded:    jpg 9/93\n\n; GEN functions **********************************************************\nf11  0  512  9  1 1 0\nf31  0  512  7  0 42 1 172 1 84 -1 172 -1 42 0\nf51  0  513  5  .01 512 1\nf52  0  513  5  512 512 1 ; post-normalized\n\n; score ******************************************************************\n;               envlpx           osc1   osc2       difference\n;  start  idur  iamp irise idec  ifqc   ifqm      \ni1    .5    .6  2000   .01   .6   424   1000    ; -576   +1424 \ni1    .6    .6    .    .     .    727     .     ; -273   +1727\ni1    .9    .6    .    .     .   1542   2000    ; -458   +3542\ni1   1.1    .6    .    .     .   1136     .     ; -864   +3136\ni1   1.4    .6    .    .     .   1342     .     ; -658   +3342 \n\ni1    .9   3.6    .   2.3   1.2   424   1000    ; same frequencies,\ni1   1     3.5    .   3.2    .    727     .     ; but longer durations\ni1   1.3   3.2    .   1.9    .   1542   2000    ; and long, slow rise  \ni1   1.5   3      .   1.6    .   1136     .      \ni1   1.8   2.7    .   1.4    .   1342     .      \n\n;  start  idur   iamp   ifq\ni2   4    10     4000   273   ; fundamental\ni2   4     7.5   2000   455   ; 1.6667\ni2   4     4.5   2000   576   ; 2.10989\ni2   4     6.5   1500   648   ; 2.37363\ni2   4     4     1501   864   ; 3.16484\n\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1        =         1/p3 using interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 328.ORC and 328.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; FIG 3.27.ORC\n\n\n\ninstr     1\ni1        =         1/p3\ni2        =         p5/3\ni3        =         p4\n\na1        oscili    i2,i1,1,0\na2        oscili    i3,2*2*i1,2,0\na1        oscili    a1,a2,3\na2        oscili    i2,i1,1,.1\na3        oscili    i3,2*i1,2,.1\na2        oscili    a2,a3,3\na3        oscili    i2,i1,1,.2\na4        oscili    i3,2*i1,2,.2\na3        oscili    a3,a4,3\na4        oscili    i2,i1,1,.3\na5        oscili    i3,2*i1,2,.3\na4        oscili    a4,a5,3\na5        oscili    i2,i1,1,.4\na6        oscili    i3,2*i1,1,.4\na5        oscili    a5,a6,3\na6        oscili    i2,i1,1,.5\na7        oscili    i3,2*i1,2,.5\na6        oscili    a6,a7,3\na7        oscili    i2,i1,1,.6\na8        oscili    i3,2*i1,2,.6\na7        oscili    a7,a8,3\na8        oscili    i2,i1,1,.7\na9        oscili    i3,2*i1,2,.7\na8        oscili    a8,a9,3\na9        oscili    i2,i1,1,.8\na10       oscili    i3,2*i1,2,.8\na9        oscili    a9,a10,3\na10       oscili    i2,i1,1,.9\na11       oscili    i3,2*i1,1,.9\na10       oscili    a10,a11,3\n          out       a1+a2+a3+a4+a5+a6+a7+a8+a9+a10\nendin\n\n</CsInstruments>\n<CsScore>\n;c fig 3.27.scr\nf 1 0 512 1 100 0 4 0\nf 2 0 512 5 1 512 .001\nf 3 0 512 9 1 1 0\nf 0 1 \nf 0 2 \nf 0 3 \nf 0 5 \nf 0 8 \nf 0 13 \nf 0 21 \nf 0 34 \nf 0 55 \nf 0 89 \n  i1 0.000 120.000 3900 8000\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur    iampr ifqr      iamp1  irate using interpolating oscillator and interpolating random and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 01_41_1.orc and 01_41_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:        01_41_1.ORC\n; synthesis:    simple(01)\n;               basic instrument with continuous pitch control function\n;               (LFO) and RANDI instead of envelope(41)\n; source:       #511  Glissandi with constant frequency differences\n;               between voices, Risset(1969)\n; coded:        jpg 9/93\n\n\ninstr 1; *****************************************************************\niampr   = p4\nifqr    = p5\niamp1   = p6 ; f33 and iamp1 point to instantaneous frequency\nirate   = p7\n\n   a1    randi    iampr, ifqr\n   a2    oscili   iamp1, irate,  33   ;two octs down\n   a2    oscili   a1,   a2,      11   ;sinus\n         out      a2*10\nendin\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:      01_41_1.SCO\n; source:     511.sco  Glissandi with constant frequency differences\n;             between voices, Risset(1969)\n; coded:      jpg 9/93\n\n; GEN functions **********************************************************\n; waveforms\nf11 0  512  9  1 1 0                                                ; sine\nf31 0  512  7  0 128 10 256 -10 128 0                           ; sawtooth\n; continuous pitch control functions\nf32 0  512  7  .999 50 .999 412 .85 50 .85                    ; third down\nf33 0  512  7  .999 20 .999 472 .235 20 .235              ; ~two octs down\nf34 0  512  7  .999 25 .999 462 .06  25 .06                   ; sixth down\nf35 0  512  7  .25  30 .25  110 .5  60 .25 10 .25 60 .5 20 .75 222 .5\n\n; score ******************************************************************\n;                   RANDI             LFO\n;                 amp control     pitch control\n;instr 1  idur    iampr ifqr      iamp1  irate\ni1  1     6.5     800   80       1000     3\ni1  3     .       800  150        750     .\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a pitch intensity sound using pitch and interpolating oscillator and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from PITCH_INTENSITY.orc and PITCH_INTENSITY.sco\n; Original files preserved in same directory\n\n sr            =         44100\n kr            =         4410\n ksmps         =         10\n nchnls        =         1 \n\n \n;*************************************   PITCH AND INTENSITY   ***********************************\n\n; SINE WAVES WILL BE PRESENTED AT 6 DIFFERENT FREQUENCIES TO THE LISTENER(S) IN ORDER TO ILLUSTRATE\n; THE AFFECT OF INTENSITY ON THE LISTENER(S) PERCEPTION OF PITCH. THE FREQUENCIES ARE AS FOLLOWS:\n; 200HZ, 500HZ, 1000HZ, 3000HZ, 4000HZ, 8000HZ. THE ENVELOPE FOR EACH TONE BURST WILL BE A SIMPLE\n; GATE WITH A 5MS. DELAY AND RELEASE. EACH TONE WILL HAVE A DURATION OF 500MS. THE SIX PAIR OF TONES\n; ARE PRESENTED AT EACH FREQUENCY SUCH THAT THE SECOND TONE WILL BE 40DB HIGHER THAN THE FIRST. A\n; NOTICABLE PITCH CHANGE SHOULD BE AUDIBLE.  \n \n \n;******************************************   HEADER   *******************************************  \n \n \n \n instr         1\n \n iamp          =         ampdb(p4)           ;P4 = AMPLITUDE IN DB                                    \n iamp          =         ampdb(p4)                \n \n \n k1            linen     iamp,.05,p3,.05         \n a1            oscili    k1,p5,1             \n               out       a1\n endin  \n\n</CsInstruments>\n<CsScore>\n\nf1 0 32768 10 1                                                  ; SINE WAVE\n\n\n\n\n\n\n;*************************************   PITCH AND INTENSITY  **************************************\n\n;**************************************   CALIBRATION TONE   ***************************************\n;   p1      p2      p3    p4       p5      \n;  inst    strt    dur    amp     freq \n    i1      0       8     45       200\ns\n\n;   p1      p2      p3    p4       p5      \n;  inst    strt    dur    amp     freq     \n    i1      1      .5     45       200     \n    i1      1.75   .5     85       200     \n    i1      3.25   .5     45       500     \n    i1      4.00   .5     85       500     \n    i1      5.50   .5     45      1000     \n    i1      6.25   .5     85      1000     \n    i1      7.75   .5     45      3000     \n    i1      8.50   .5     85      3000     \n    i1     10.00   .5     45      4000     \n    i1     10.75   .5     85      4000     \n    i1     12.25   .5     45      8000    \n    i1     13.00   .5     85      8000     \n endin\n    \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for afm1      init      0 using FM synthesis and interpolating oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fmfeed1a.orc and fmfeed1a.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\nafm1      init      0\nafm2      init      0    \nisine     =         1\nicaramp   =         p4\nicarfreq  =         p5\nifeedscale =        p6   \nkamp      linseg    0, p3*.01,1, p3*.98, 1,p3*.01,0\nkfeedamp  linseg    0, p3*.03,1, p3*.97, 0\nkfeedampinv linseg  1, p3*.03,0, p3*.97, 1\nafm1      oscili    icaramp, (icarfreq+afm2)+kfeedampinv,isine\nafm2      =         (afm1*ifeedscale)*kfeedamp\nasig      =         afm1*kamp\n;         display   afm1, .25\n;         display   afm2, .25\n          out       asig\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 4096 10 1\n\ni1 0 6  5000 200    .02\ns\ni1 0 6  5000 200    .03\ns\ni1 0 6  5000 200    .04\ns\ni1 0 6  5000 200    .05\ns\ni1 0 6  5000 200    .06\ns\ni1 0 6  5000 200    .07\ns\ni1 0 6  5000 200    .08\ns\ni1 0 6  5000 200    .09\ns\ni1 0 6  5000 200    .1\ns\ni1 0 6  5000 200    .11\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for k1     linseg  0,p3*.8,1,p3*.2,0 using FM synthesis and interpolating oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from altfm.orc and altfm.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n        instr   1\n k1     linseg  0,p3*.8,1,p3*.2,0\n a1     oscili  p6, p5, p4\n a2     oscili  30000, p5 + (a1*k1), p4\n        out     a2\n        endin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\nf2 0 1024 7 -1 512 1 512 -1\nf3 0 1024 20 2\nf4 0 1024 8 0 256 1 512 -1 256 0\nf5 0 1024 8 1 512 -1 512 1\nf6 0 1024 7 0 256 1 256 0 256 -1 256 0\n\ni1 0 4   1     100  3000  ;sine waves\ni1 + .   2     .     500  ;triangle waves\ni1 + .   3  .   .     ;hanning window??!\ni1 + .   4  .   .     ;sineish spline\ni1 + .   5  .   .     ;cosineish spline\ni1 + .   6  .   .     ;segmented sine ( 4 parts)\ne\ni1 0 3   1     100  ;sine waves\ni1 + .   5      .   ;cosineish spline\ni1 . .   1     200  ;sine waves\ni1 . .   5      .   ;cosineish spline\ni1 . .   1     300  ;sine waves\ni1 . .   5      .   ;cosineish spline\ni1 . .   1     500  ;sine waves\ni1 . .   5      .   ;cosineish spline\ni1 . .   1     800  ;sine waves\ni1 . .   5      .   ;cosineish spline\ni1 . .   1 1300  ;sine waves\ni1 . .   5      .   ;cosineish spline\ni1 . .   1 2100  ;sine waves\ni1 . .   5      .   ;cosineish spline\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for p4\t\t=\t\tFREQ IN Hz. using interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from DUBCAR.ORC and DUBCAR.SCO\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t1\n\n; dubcar.orc\n\n; THIS INSTRUMENT IMPLEMENTS DOUBLE CARRIER FM TO IMPART A FORMANT AT 1500 Hz.\n\n\n\t\tinstr 1\n\n; p4\t\t=\t\tFREQ IN Hz.\n; p5\t\t=\t\tAMP\n; p6\t\t=\t\tMODULATION INDEX\n; p7\t\t=\t\tfc2 AMP FACTOR\n\ni1\t\t=\t\tp6*p4\t\t\t\t; IMAX\ni2\t\t=\t\tp7\t\t\t\t\t; FACTOR FOR REDUCING AMP OF fc2\ni3\t\t=\t\tint((1500/p4)+.5)\t\t; FORMANT AT FREQ OF HARMONIC CLOSEST TO 1500 Hz\ni3\t\t=\t\ti3 * p4\t\t\t\t; fc2\ni4\t\t=\t\tp4\t\t\t\t\t; fc1\n\nampenv1\tlinen\ti1,p3*.1,p3,p3*.9\nampenv2\tlinen\tp5,.01,p3,.01\nampenv3\tlinen\tampenv2*.2,.04,p3,.04\n\na1\t\toscili\tampenv1,i4,1\na2\t\toscili\tampenv2,a1+p4,1\na3\t\t=\t\ti2*a1\na4\t\toscili\tampenv3,a3+i3,1\n\t\tout\t\ta2+a4\n\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n; dubcar.s\n\n; This is a sample score for the double carrier instrument\n\n; sine wave\nf1 0 512 9 1 1 0\n\nf0 1\ni1      0       .1      261     10000   2.6     .2\ni1      .5      .5      440     .       .       .\ni1      1.5     1.5     880     .       .       .\ni1      4       3       261     .       .       .\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and reverb effect and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 20_10_5.orc and 20_10_5.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 2\n\n; ************************************************************************\n; ACCCI:     20_10_5.ORC\n; synthesis: FM(20),\n;            FM with dynamic spectral evolution (10)\n;            variable FM instrument(5)\n; source:    M.R.Spruit(1993)\n; coded:     jpg 1/94\n\n\ninstr 1; *****************************************************************\nidur   = p3\niamp   = p4\nifqc   = p5\nifqm   = p6\nimax   = p7\nibegae = p8          ; initial value of EXPSEG amplitude envelope\nibegkdyn = p9        ; initial value of LINSEG modulation index\nibreakp = idur/p10   ; breakpoint time of both envelopes\nimid   = p11         ; breakpoint amplitude value\niend   = p12         ; end value of both envelopes\nirtv   = p13         ; reverberated / source\nileft  = p14         ; ratio left channel\n\n   ae    expseg      0.0001, ibreakp, imid, idur-ibreakp, 0.0001\n   ae    =           ae*iamp\n\n   adyn  linseg      ibegkdyn, ibreakp, 1-imid, idur-ibreakp, 0\n   adyn  =           adyn*ifqm*imax\n\n   amod  oscili      adyn, ifqm, 1      ; modulator\n   asig  oscili      ae, amod+ifqc, 1   ; carrier\n\n   arev  init 0\n   arev  reverb      asig*irtv, idur    ; part reverberated\n   adry  =           asig*(1-irtv)      ; rest unreverberated\n   amix  =           arev+adry          ; mix\n\n   a1    =          amix*ileft          ; left\n   a2    =          amix*(1-ileft)      ; right\n\n         outs       a1, a2\n\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     20_10_5.SCO\n; coded:     jpg 1/94\n\n; network info *********************************** parameter limits ******\n; p1  = instrument number                         ,min-max : 1-1\n; p2  = start                                     ,min-max : 0.00-600.00\n; p3  = duration                                  ,min-max : 0.10-5.00\n; p4  = amplitude                                 ,min-max : 2000-5000\n; p5  = carrier frequency                         ,min-max : 20-5000\n; p6  = modulator frequency                       ,min-max : 0-361\n; p7  = IMAX                                      ,min-max : 0.0-25.0\n; p8  = begin value\n; p9  = begin value modulation index              ,min-max : 0.000-1.000\n; p10 = a breakpoint ration (p10/ibreakp)         ,min-max : 1-50\n; p11 = breakpoint amplitude; 1-p11 for LINSEG    ,min-max : 0.000-1.000\n; p12 = end value\n; p13 = reverberated / unreverberated             ,min-max : 0.10-0.90\n; p14 = left/ right                               ,min-max : 0.10-0.90\n\n; # of events:  13\n; # of cycli:  2\n; duration:  15 seconds\n; generation time:  00:00:24\n\n\n; GEN functions **********************************************************\n; carriers\nf1  0  512  10  1\n\n; score ******************************************************************\n;      start     idur      iamp       ifqc      ifqm     imax     ibeg\n;ibegkdyn    ibreakp  imid      iend      irtv      ileft\n\ni1      0.00      4.99      3066       259       360       0.1     0.000\n 0.004        46     0.866      0         0.23      0.18\ni1      4.99      2.58      3508       514        71       0.1     0.000\n 0.010        49     0.966      0         0.21      0.25\ni1      7.58      1.21      3695      4844       274       0.1     0.000\n 0.012         2     0.926      0         0.31      0.89\ni1      8.79      3.27      2098      2193        31       0.2     0.000\n 0.015        26     0.049      0         0.75      0.52\ni1     12.07      0.18      4493      3830       323       0.2     0.000\n 0.018        16     0.366      0         0.74      0.23\ni1     12.26      2.73      3099       205        27       0.3     0.000\n 0.022        47     0.889      0         0.23      0.12\n\n; second cycle ***********************************************************\n\ni1      0.00      0.69      4509      1585       355       0.7     0.000\n 0.049         7     0.369      0         0.52      0.12\ni1      0.69      4.05      2504      1192        65       0.8     0.000\n 0.059        37     0.472      0         0.57      0.24\ni1      4.75      1.17      4601      2328       282       1.0     0.000\n 0.070        32     0.269      0         0.84      0.80\ni1      5.93      3.33      2056      2123        22       1.2     0.000\n 0.085        27     0.079      0         0.83      0.50\ni1      9.26      0.10      4557      3724       334       1.4     0.000\n 0.102        17     0.322      0         0.84      0.30\ni1      9.36      4.94      3194        47        40       1.7     0.000\n 0.122        48     0.956      0         0.25      0.25\ni1     14.30      0.69      3566       610       312       2.1     0.000\n 0.147        49     0.995      0         0.34      0.45\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for k         init  32 using drum sound and interpolating oscillator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from DrumFilt.orc and DrumFilt.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;         BASIC DRUM FILE                               ;\n;                                                       ;\n;         p3 = DURATION        p4 = AMPLITUDE           ;\n;         p5 = PITCH IN PCH                             ;\n;                                                       ;\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n     \n          instr 1\nk         init  32\ninibw     =         30\nkbwchg    oscil1    0.0,30,.2,2\nkbw       =         kbwchg + inibw\nloop:\nasnd      oscili    (p4*.2),cpspch(p5),1\narnd      rand      p4,-1\nafltr1    reson     arnd,cpspch(p5),kbw,2\nafltr2    reson     afltr1,0,100,2\nafltr     balance   afltr2,arnd\n     \n          if        (k <= 0) kgoto continue\nk         =         k - 1\n            kgoto   loop\ncontinue:\nadrum     =         afltr + asnd\nasig      envlpx    adrum,.1,.2,.1,2,1,.01\n          out       asig\n          endin\n\n</CsInstruments>\n<CsScore>\n;       SINE WAVE\nf1 0.0 512 10 1\n;       LINEAR RISE\nf2 0.0 513 7  0 513 1\n;       LINEAR FALL\nf3 0.0 513 7  1 513 0\n;       EXPONENTIAL RISE\nf4 0.0 513 5 .001 513 1\n;       EXPONENTIAL RISE\nf5 0.0 513 5 1 513 .001\n;\n;       INSTRUMENT CARDS\ni1 0.000 1.000 28000 5.11\ni1 0.001 0.998  2800 6.11\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1        =         1/p3 using interpolating oscillator and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FIG3_26.ORC and FIG3_26.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n;=======================================================================;\n; FIG3_26         Drum Instrument based on Risset  (Dodge p. 93-94)     ;\n;                 Coded by Thomas Dimeo                                 ;\n;                 Brooklyn College Computer Music Studio                ;\n;=======================================================================;\n         instr      1\ni1        =         1/p3\ni2        =         cpspch(p5)\ni3        =         p4/2\ni4        =         p4/6\ni5        =         p4/2.5\n\nk1        oscili    i3,i1,2\na1        randi     k1,400\na1        oscili    a1,500,3\na2        oscili    i4,i1,2\na2        oscili    a2,i2/10,4\na3        oscili    i5,i1,1\na3        oscili    a3,i2,3\n          out       a1+a2+a3\n          endin\n\n</CsInstruments>\n<CsScore>\n;=======================================================================;\n; FIG3_26         Score for Drum Instrument based on Risset             ;\n;=======================================================================;\n; exponential decay 1\nf1    0    512    5   1  512  .004\n; exponential decay 2\nf2    0    512    5   1  512  .00012\n; sine\nf3    0    512    9   1    1   0\n; inharmonic\nf4    0    512    9   10   1   0   16  1.5  0  22  2   0   23  1.5  0\n;=======================================================================;\n; FIG3_26             p4       p5                                       ;\n;                     amp      pch                                      ;\n;=======================================================================;\ni1    0.00    0.25    24000    5.00\ni1    0.25    0.25    24000    5.00\ni1    0.50    0.25    24000    5.00\ni1    0.75    0.25    24000    5.00\ni1    1.00    0.25    24000    6.00\ni1    1.25    0.25    24000    6.00\ni1    1.50    0.25    24000    6.00\ni1    1.75    0.25    24000    6.00\ni1    2.00    0.25    24000    7.00\ni1    2.25    0.25    24000    7.00\ni1    2.50    0.25    24000    7.00\ni1    2.75    0.25    24000    7.00\ni1    3.00    0.25    24000    8.00\ni1    3.25    0.25    24000    8.00\ni1    3.50    0.25    24000    8.00\ni1    3.75    0.25    24000    8.00\ni1    4.00    0.25    24000    9.00\ni1    4.25    0.25    24000    9.00\ni1    4.50    0.25    24000    9.00\ni1    4.75    0.25    24000    9.00\ni1    5.00    0.25    24000   10.00\ni1    5.25    0.25    24000   10.00\ni1    5.50    0.25    24000   10.00\ni1    5.75    0.25    24000   10.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 33_01_1.orc and 33_01_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:      33_01_1.ORC\n; synthesis:  Amplitude Modulation(33)\n;             ring modulation, multiplier(01)\n; coded:      jpg 10/93\n\n\ninstr 1; *****************************************************************\nidur  =  p3\niamp  =  p4\nifqc  =  p5\nifc   =  p6\nifqm  =  p7\nifm   =  p8\nife   =  31\n\n   kenv  oscili   iamp, 1/idur, ife     ; envelope\n   a1    oscili   kenv, ifqc, ifc       ; carrier is sinus or complex\n\n   a2    oscili   1, ifqm, ifm          ; modulator\n\n         out      a1*a2                 ; multiplier as ring modulator\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     33_01_1.SCO\n; coded:     jpg 10/93\n\n\n; GEN functions **********************************************************\n; for both oscillators\nf1 0 512 10 1              ; one sinus\nf2 0 512 10 1 1 1          ; three harmonics\n\n; envelope\nf31 0  512 7  0 51 1 29 .9 120 .8 50 .6 50 .5 20 .3 30 .1 162 0\n\n; score ******************************************************************\n\n;    idur iamp  ifqc ifc   ifqm ifm     \ni1  0  1  8000  800  1      50  1  ;         750 (800) 850            Hz\ni1  3  .  .     .    1     111  2  ; 467/578/689 (800) 911/1022/1133  Hz \ni1  6  .  .     .    2     107  1  ; 693(800)807,1493(1600)1707, ...  Hz    \n\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and resonant filter and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 50_11_1.orc and 50_11_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 2 \n\n; ************************************************************************\n; ACCCI:     50_11_1.ORC\n; timbre:    bands of noise\n; synthesis: subtractive synthesis(50)\n;            continuous control cf and bw(11)\n;            glissandoing noise bands(1)\n; source:    Dodge (1985)\n; coded:     jpg 11/93\n\n\n\n\ninstr 1; *****************************************************************\nidur     = p3\niamp     = p4\nimincfq  = cpspch(p5)\nimaxcfq  = cpspch(p6)\niratio   = imaxcfq/imincfq\niminbw   = p7\nirangebw = p8\n\n   kcfq    expon  1, idur, iratio          ; control center frequency\n   kcfq    =      kcfq*imincfq\n\n   kbw     oscili irangebw, 1/idur, 31     ; control bw\n   kbw     =      (kbw+iminbw)*kcfq\n\n   anoise  rand   iamp                     ; white noise\n   a1      reson  anoise,  kcfq, kbw, 2    ; filter\n   a1      linen  a1, .1, idur, .1  \n           outs    a1, a1\n\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     50_11_1.SCO\n; coded:     jpg 11/93\n\n; GEN functions **********************************************************\n; envelopes\nf31  0   512   7   0    512  1\n\n\n; score ******************************************************************\n\n;                       center freq....  bandwidth......\n;    start idur  iamp   iminpch imaxpch  iminbw irangebw\ni1    0     4    8000   7.00    8.06      .05      .45\ni1    4     4    8000   7.07   10.00      .05      .45\ni1    8     6   10000  12.00    5.00      .05      .3\n\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ;   SIMPLE WAVESHAPING EXAMPLE. using interpolating oscillator and linear envelope and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from WVSHP.ORC and WVSHP.SCO\n; Original files preserved in same directory\n\n          sr        =         44100\n          kr        =         4410\n          ksmps     =         10        \n          nchnls    =         1\n\n\n\n\n          instr     1\n;\n;   SIMPLE WAVESHAPING EXAMPLE.\n;\n;   P3 - DURATION.\n;   P4 - AMPLITUDE, BETWEEN 0 (OFF) AND 1 (FULL SCALE).\n;   P5 - PITCH (8.00 = MIDDLE C)\n;   \n          inot      =         cpspch(p5)\n          k1        linen     p4*0.5, p3, p3, 0\n          k2        linen     p4*0.5, 0, p3, p3\n          k3        linen     20000, .1, p3,3\n          a1        oscili    k1, inot, 2\n          a2        tablei    a1, 1, 1, .5\n          a4        oscili    k2, inot, 2\n          a5        tablei    a4, 4, 1, .5\n\n          a3        oscili    1,inot/4, 3\n          out       (a2+a5) * a3 *k3\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 1025 13 1 1 0 1 0 1 0 1 0 1 0\nf2 0 8193 10 1\nf3 0 8193 9 1 1 90\nf4 0 1025 13 1 1 0 0 1 0 1 0 1 0 1\n;1111111111111111111111111\n\n\ni1     0.0 8 .95  8.00\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Exponential ADSR envelope with k-rate times using interpolating oscillator and ADSR envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from ADSRExp.orc and ADSRExp.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Exponential ADSR envelope with k-rate times\n\nilevl    = p4*32767 ; Output level\nkatk     = (p5 < .001 ? .001 : p5) ; Attack time >1ms\nkdec     = (p6 < .001 ? .001 : p6) ; Decay time >1ms\nksusl    init p7                   ; Sustain level\nkrel     = (p8 < .001 ? .001 : p8) ; Release time >1ms\nksus     = p3 - katk - kdec - krel\n\nkrate    = 1/(katk + kdec + ksus + krel)\n\nk1       = katk\nk2       = k1 + kdec\nk3       = k2 + ksus\nk4       = k3 + krel\n\naramp    oscili  k4, krate, 1\n\na1       limit  aramp, 0, k1\na2       limit  aramp, k1, k2\na3       limit  aramp, k2, k3\na4       limit  aramp, k3, k4\n\naramp    = .25*(a1*(1/katk) + (a2-k1)*(1/kdec) + (a3-k2)*(1/ksus) + (a4-k3)*(1/krel))\n\nadsr1    tablei  aramp, 2, 1\natk      tablei  aramp, 3, 1\nadsr2    tablei  aramp, 4, 1\n\nadsr3    = adsr1*ksusl + adsr2*(1 - ksusl)\nout      (adsr3 - atk)*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 -7 0 8192 1                       ; Ramp\nf2 0 8193 -5 1 6144 1 2048 .0001            ; DSR(Sustain=1)\nf3 0 8193 -5 1 2048 .0001 6144 .0001        ; -A\nf4 0 8193 -5 1 2048 1 2048 .0001 4096 .0001 ; DSR(Sustain=0)\n\n;     Strt  Leng  Levl  AtkT  DecT  SusL  RelT\ni1    0.00  1.00  1.00  0.25  0.25  0.00  0.25\ni1    1.00  1.00  1.00  0.00  0.50  0.75  0.25\ni1    2.00  1.00  1.00  0.00  0.75  0.00  0.25\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a triads sound using interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from TRIADS.ORC and TRIADS.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n; TRIADS.ORC BY MARK DAL PORTO\n\n; TRIAD COMPARISON ORCHESTRA USING DIFFERENT TUNINGS\n; TUNINGS USED:  EQUAL, MEANTONE (QUARTER-COMMA), JUST, AND PYTHAGORAN\n\n\ninstr          1\nkenv           linen     10000, .05, p3, .1       ; SIMPLE ENVELOPE FOR EACH NOTE\nasig           oscili    kenv, p4, 1              ; P4=FREQUENCY\n               out       asig\nendin                                             ; END OF INSTRUMENT AND ORCHESTRA\n\n</CsInstruments>\n<CsScore>\n; TRIADS.SCO BY MARK DAL PORTO\n\n; TRIAD COMPARISON SCORE USING DIFFERENT TUNINGS\n\n; SCALE USED FOR MEANTONE (QUARTER-COMMA), JUST, AND PYTHAGORAN TUNINGS:  \n; C,DB,EB,E,F#,G,A,BB\n\n; WAVEFORM USED FOR TRIADS:  A SAWTOOTH WITH 16 HARMONICS\nf1 0 512 10\n1 .5 .333 .25 .2 .167 .143 .125 .111 .1 .09 .083 .077 .07 .066 .062\n\n; THE FOLLOWING SCORE COMPARES C AND F# MAJOR AND MINOR TRIADS \n; USING THE EQUAL, MEANTONE, JUST, AND PYTHAGORAN TUNING SYSTEMS\n;============================================================================\n; SECTION 1 - COMPARISON OF C MAJOR TRIADS\n; EQUAL TEMPERAMENT\ni1   0   2.5   392.00   ; P4=FREQUENCY; NOTE IS G4\ni1   0   2.5   329.63   ; E4 \ni1   0   2.5   261.63   ; C4\n; MEANTONE TEMPERAMENT\ni1   3   2.5   391.21   ; G4\ni1   3   2.5   327.03   ; E4\ni1   3   2.5   261.63   ; C4\n; JUST TEMPERAMENT\ni1   6   2.5   392.44   ; G4\ni1   6   2.5   327.03   ; E4\ni1   6   2.5   261.63   ; C4\n; PYTHAGORAN TEMPERAMENT\ni1   9   2.5   392.44   ; G4\ni1   9   2.5   331.11   ; E4\ni1   9   2.5   261.63   ; C4\n;---------------------------------------------------------------------------\n; COMPARISON OF C MINOR TRIADS\n; EQUAL TEMPERAMENT\ni1  12   2.5   392.00   ; NOTE IS G4\ni1  12   2.5   311.13   ; Eb4 \ni1  12   2.5   261.63   ; C4\n; MEANTONE TEMPERAMENT\ni1  15   2.5   391.21   ; G4\ni1  15   2.5   312.98   ; Eb4\ni1  15   2.5   261.63   ; C4\n; JUST TEMPERAMENT\ni1  18   2.5   392.44   ; G4\ni1  18   2.5   313.96   ; Eb4\ni1  18   2.5   261.63   ; C4\n; PYTHAGORAN TEMPERAMENT\ni1  21   3.0   392.44   ; G4\ni1  21   3.0   310.08   ; Eb4\ni1  21   3.0   261.63   ; C4\nf0  27                  ; CREATES 3 SECONDS OF SILENCE\ns                       ; END OF SECTION 1 - BEGINS NEW STARTING TIME OF \"0\"\n;============================================================================\n; SECTION 2 - COMPARISON OF F# MAJOR TRIADS\n; EQUAL TEMPERAMENT\ni1   0   2.5   554.37   ; P4=FREQUENCY; NOTE IS C#5\ni1   0   2.5   466.16   ; A#4 \ni1   0   2.5   369.99   ; F#4 \n; MEANTONE TEMPERAMENT\ni1   3   2.5   559.88   ; Db5\ni1   3   2.5   468.02   ; Bb4\ni1   3   2.5   365.62   ; F#4\n; JUST TEMPERAMENT\ni1   6   2.5   558.14   ; Db5\ni1   6   2.5   470.93   ; Bb4\ni1   6   2.5   367.92   ; F#4\n; PYTHAGORAN TEMPERAMENT\ni1   9   2.5   551.24   ; Db5\ni1   9   2.5   465.12   ; Bb4\ni1   9   2.5   372.50   ; F#4\n;---------------------------------------------------------------------------\n; COMPARISON OF F# MINOR TRIADS\n; EQUAL TEMPERAMENT\ni1  12   2.5   554.37   ; note is C#5\ni1  12   2.5   440.00   ; A4 \ni1  12   2.5   369.99   ; F#4 \n; MEANTONE TEMPERAMENT\ni1  15   2.5   559.88   ; Db5\ni1  15   2.5   437.41   ; A4\ni1  15   2.5   365.62   ; F#4\n; JUST TEMPERAMENT\ni1  18   2.5   558.14   ; Db5\ni1  18   2.5   436.05   ; A4\ni1  18   2.5   367.92   ; F#4\n; PYTHAGORAN TEMPERAMENT\ni1  21   3.0   551.24   ; Db5\ni1  21   3.0   441.49   ; A4\ni1  21   3.0   372.50   ; F#4\n\ne                       ; END OF SECTION 2 AND SCORE\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 20_10_4.orc and 20_10_4.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     20_10_4.ORC\n; synthesis: FM(20),\n;            FM with dynamic spectral evolution (10)\n;            clarinet settings(3)\n; source:    Chowning (1973)\n; coded:     jpg 8/92\n\n\ninstr 1; *****************************************************************\nidur   = p3\niamp   = p4\nifenv  = 51                    ; clarinet settings:\nifdyn  = 52                    ; amp and index envelope see flow chart\nifq1   = cpspch(p5)*3          ; N1:N2 is 3:2, imax=5\nif1    = 1                     ; duration ca. .5 sec\nifq2   = cpspch(p5)*2\nif2    = 1\nimax   = p6\nimin   = 2\n\n   aenv  oscili   iamp, 1/idur, ifenv                ; envelope\n\n   adyn  oscili   ifq2*(imax-imin), 1/idur, ifdyn    ; index\n   adyn  =        (ifq2*imin)+adyn                   ; add minimum value\n   amod  oscili   adyn, ifq2, if2                    ; modulator\n\n   a1    oscili   aenv, ifq1+amod, if1               ; carrier\n         out      a1\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     20_10_4.SCO\n; coded:     jpg 8/92\n\n\n; GEN functions **********************************************************\n; carriers\nf1  0  512  10  1\n\n; envelopes\nf51 0 1024  5  .0001 200 1 674 1 150 .0001       ; amplitude envelope\nf52 0 1024  5  1 1024 .0001                      ; index envelope\n\n\n; score ******************************************************************\n\n;    idur iamp   pch imax\ni1  0 .5  8000   8.00   4        ; scale by clarinet\ni1  +  .  .      8.02   .\ni1  .  .  .      8.04   .\ni1  .  .  .      8.05   .\ni1  .  .  .      8.07   .\ni1  .  .  .      8.09   .\ni1  .  .  .      8.11   .\ni1  .  .  .      9.00   .\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Barberpole flanger using interpolating oscillator and modal synthesis and marimba physical model", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Barberpole.orc and Barberpole.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Barberpole flanger\n\nilevl    = p4*.25                           ; Output level\nidepth   = p5/1000                          ; Depth in ms\nirate    = p6                               ; Rate\nifeed    = p7                               ; Feedback\nimode    = p8 + 1                           ; Mode: 0=Up 1=Down\n\nain      soundin  \"Marimba.aif\"\n\nasaw1    oscili  idepth, irate, imode       ; Saw 0 degrees\nasaw2    oscili  idepth, irate, imode, .25  ; Saw 90 degrees\nasaw3    oscili  idepth, irate, imode, .5   ; Saw 180 degrees\nasaw4    oscili  idepth, irate, imode, .75  ; Saw 270 degrees\n\nasin1    oscili  1, irate, 3                ; 1/2 Sine 0 degrees\nasin2    oscili  1, irate, 3, .25           ; 1/2 Sine 90 degrees\nasin3    oscili  1, irate, 3, .5            ; 1/2 Sine 180 degrees\nasin4    oscili  1, irate, 3, .75           ; 1/2 Sine 270 degrees\n\nadel1    flanger  ain, asaw1, ifeed, idepth ; Flanger 1\nadel2    flanger  ain, asaw2, ifeed, idepth ; Flanger 2\nadel3    flanger  ain, asaw3, ifeed, idepth ; Flanger 3\nadel4    flanger  ain, asaw4, ifeed, idepth ; Flanger 4\n\naflange  = adel1*asin1 + adel2*asin2 + adel3*asin3 + adel4*asin4\naflange  dcblock  aflange\nadirect  = ain*(asin1 + asin2 + asin3 + asin4)\n\nout      aflange*ilevl + adirect*ilevl      ; Output\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 4097 -7 1 4096 0 ; Ramp down\nf2 0 4097 -7 0 4096 1 ; Ramp up\nf3 0 4097 19 .5 1 0 0 ; Half Sine\n\n;Mode: 1=Up  2=Down\n\n;     Strt  Leng  Levl  Depth Rate  Fdbk  Mode\ni1    0.00  1.47  0.75  5.00  1.00  0.75  1\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Synthesis by Functional Iterations using interpolating oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from iter.orc and iter.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n          \n          instr 1\n; Synthesis by Functional Iterations\n; instrument based on an article by Di Scipio & Prignano\n; Journal of New Music Research, vol.25 (1996), pp. 31-46\n\nkcount    =         0                        ; COUNTER FOR ITERATIONS. KEEP inb SMALL TO REDUCE PROCESSING TIME!\nifreq     =         cpspch(p4)\ninb       =         p5\nir1       =         p6\nirf       =         p7\nix1       =         p8\nixf       =         p9\nimaxvol   =         10000                    ; YOUÂ´D BETTER NORMALIZE IT FOR R>3.14\n\narenv     linseg    0,.01,1,p3-.11,.6,.1,0\naosc      oscili    1, ifreq, 1\naosc      =         (1+ aosc)/2\nar        =         ir1 + (irf-ir1)*arenv*aosc ; CYCLIC AR TO GET AN ARBITRARY PITCHED WAVE\n\navibosc   oscili    1, 5, 1\navibosc   =         (1+avibosc)/2\naxenvibr  linseg    0, .5, 0, .5, 1, p3-1, 1 ; TIMBRAL MODULATION BY CHANGING INITIAL CONDITIONS\nax        =         ix1+(ixf-ix1)*axenvibr*avibosc\n\niter: ax  =         sin(ar * ax)             ; DOESNÂ´T REALLY MATTER THE FUNCTION USED... TRY OTHERS AS WELL!\nkcount    =         kcount + 1\n          if        kcount < inb goto iter\nout: \n          out       20000* ax*arenv-10000\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\nt 0 250\n;             freq niter   r0   rf     x0    xf\ni1 0 1    7.00      1    .1  1      .1      .2\ni1 +  .    7.07      2    <    <     <      <\ni1 +  .    7.10      3    <    <     <      <\ni1 +  .    8.02      4    <    <     <      <\ni1 +  .    8.06      5    <    <     <      <\ni1 +  .    8.09      6    <    <     <      <\ni1 +  .    9.01      7    <    <     <      <\ni1 + .     8.06      8    1    3.2  .2     .8\ni1 +  .    8.03      7    <    <     <      <\ni1 +  .    7.11      6    <    <     <      <\ni1 +  .    7.07      5    <    <     <      <\ni1 +  .    7.04      4    <    <     <      <\ni1 +  .    7.00      3    <    <     <      <\ni1 +  .    6.00      2   2.5  3.5   .01   1\ni1 +  .    7.00      4    .1  1      .1      .2\ni1 +  .    7.07      5    <    <     <      <\ni1 +  .    7.10      6    <    <     <      <\ni1 +  .    8.02      7    <    <     <      <\ni1 +  .    8.06      8    <    <     <      <\ni1 +  .    8.09      9    <    <     <      <\ni1 +  .    9.01     10   <    <     <      <\ni1 + .     8.06     11   1    3.2  .2     .8\ni1 +  .    8.03     10   <    <     <      <\ni1 +  .    7.11      9    <    <     <      <\ni1 +  .    7.07      8    <    <     <      <\ni1 +  .    7.04      7    <    <     <      <\ni1 +  .    7.00      6    <    <     <      <\ni1 +  10 8.00      5   2.5  3.5   .01   1\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifc         =              p4*p9 using FM synthesis and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from arnotFM.ORC and arnotFM.SCO\n; Original files preserved in same directory\n\nsr                  =              44100\nkr                  =              4410\nksmps               =              10\nnchnls              =              1\n\n; BASIC CHOWNING FM INSTRUMENT\n; JOHN M. ARNOTT II\n; 2/16/90\n\n\n\n\n; p3=duration   p4=fundamental  p5=amplitude p6=fn#1    p7=peakIndex\n; p8=fn#2       p9=carrierfact p10=modfactor \n\n                    instr          1\n\n        ifc         =              p4*p9\n        ifm         =              p4*p10\n        kindex      oscil1i        0,p7,p3,p8\n        kgate       oscil1i        0,p5,p3,p6\n        amodsig     oscili         kindex*ifm, ifm, 1\n        asig        oscili         kgate, ifc+amodsig, 1\n                    out            asig \n                    endin      \n\n\n\n        \n\n</CsInstruments>\n<CsScore>\n; JOHN M. ARNOTT II\n; FM TONES USING A SIMPLE FM ORCHESTRA AND SPECIFIC FCARDS.\n; 1 BEAT/SECOND\n\nt00     60\n\n; SINE\nf01     0       512     10       1\n; EXPONENTIAL DECAY\nf02     0       513     5       1       512     .001    1       .001\n; ENVELOPE F1 FOR PART C\nf03     0       512     6       .8      64      1       64      1      128\n                                .5      128     .2      32      .13     32\n                                .1      32      .05     32      0\n; ENVELOPE F2 FOR PART C\nf04     0       512     7       1       120     0\n; ENVELOPE FOR PART D\nf05     0       512     7       0       100     1       100     .7      220     .7      98      0\n\n\n; FM\n;p1      P2      P3      P4      P5      P6      P7      P8     P9      P10\n;BELL\ni01     0       8       263     10000   2       10      2       5       7\n;WOOD DRUM\ni01     8      0.2      .       .       3       25      4       1.45    1\n;BRASS\ni01     10     0.6      .       .       5       5       5       1       1\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a hyperflanger sound using flanger effect and interpolating oscillator and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from HyperFlanger.orc and HyperFlanger.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 4410\nksmps    = 10\nnchnls   = 1\n\n \ninstr    1 ; 'Hyperflanger': 4 flangers in series with staggered delays\n\nilevl    = p4*.09                         ; Output level\nidely    = p5                             ; Manual delay (0 to 1)\nidpth    = p6/2                           ; LFO depth (0 to 1)\nirate    = p7                             ; LFO rate (Hz)\niwave    = p8                             ; LFO waveform\n\nain      soundin  \"Sample1\"\n\nalfo     oscili  idpth, irate, iwave      ; Generate LFO\nalfo     = alfo + idpth                   ; Make single ended              \nalfo     tablei  alfo + idely, 1, 1       ; Convert to exponential\nalfo     = 1/alfo                         ; Convert to delay time\naflng1   flanger  ain, alfo, 0, 1         ; Delay 1\naflng1   = aflng1 + ain                   ; Sum with input\naflng2   flanger  aflng1, alfo*1.25, 0, 1 ; Delay 2\naflng2   = aflng2 + aflng1                ; Sum with input\naflng3   flanger  aflng2, alfo*1.50, 0, 1 ; Delay 3\naflng3   = aflng3 + aflng2                ; Sum with input\naflng4   flanger  aflng3, alfo*1.75, 0, 1 ; Delay 4\naflng4   = aflng4 + aflng3                ; Sum with input\nout      aflng4*ilevl                     ; Level and output\n\n\nendin\n</CsInstruments>\n<CsScore>\nf01 0 8193 -5 100 8192 7500        ; Exponential convertor\nf02 0 8193 10 1                    ; Sine\nf03 0 8193 7 -1 4096 1 4096 -1     ; Triangle\nf04 0 8193 10 1 0 0 0 0 0 0 0 0 .1 ; Fast and slow sines\nf05 0 33 21 1                      ; Random\n\n;Delay and Depth: 0 to 1\n\n;     Strt  Leng  Levl  Delay Depth Rate  Wave\ni01   0.00  1.50  1.00  0.25  0.50  0.67  03\ni01   2.00  .     .     0.00  1.00  1.00  05\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Audio FM Of Sample. using FM synthesis and interpolating oscillator and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from cookFM.orc and cookFM.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Audio FM Of Sample.\n\np3       = p3 + .1   ; Adjust length to compensate for delay\nilevl    = p4        ; Output level\nidepth   = p5/1000   ; Convert depth to ms\nifreq1   = p6        ; Start mod freq\nifreq2   = p7        ; End mod freq\niwave    = p8        ; Modulation waveform\nifm      = p9/100000 ; Self-modulation\n\nain      soundin  \"Piano.aif\"\n\nksweep   expseg  ifreq1, p3, ifreq2\nafm1     oscili  idepth, ksweep, iwave\nafm2     = ain*ifm\nax       delayr  .1\naout     deltapi .05 + afm1 + afm2\n         delayw  ain\nout      aout*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 10 1                      ; Sine\nf2 0 8193 7 0 2048 1 4096 -1 2048 0 ; Tri\nf3 0 8193 7 1 4096 1 0 -1 4096 -1   ; Square\nf4 0 8193 7 -1 8192 1               ; Ramp\n\n;Max depth = 50ms\n\n;   Strt  Leng  Levl  Depth Freq1 Freq2 Wave  Auto-Mod\ni1  0.00  1.47  1.00  10.0  1.00  5000  2     0.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp          =         ampdb(p4) using pitch and interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from VirtualPitch.orc and VirtualPitch.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n\n;*****************************************   VIRTUAL PITCH   ****************************************\n\n;  One of the most remarkable properties of the auditory system is its ability to extract pitch from\n; complex tones. When the complex tone consists of a given number of harmonically related partials, \n; the pitch corresponds to the 'missing fundamental'. This pitch is often referred to as \"pitch of \n; the missing fundamental\", \"virtual pitch\", or \"musical pitch\".\n; A complex tone consisting of 10 harmonics of 200Hz having equal amplitude will be presented to the l\n; listener(s), first with all harmonics, then without the fundamental, then without the two lowest \n; harmonics,etc. Does the pitch of the complex tone change?\n\n\n;******************************************   HEADER   *********************************************\n \n\n instr         1\n\n iamp          =         ampdb(p4)               \n ifunc         =         p6\n \n k1            linen     iamp,.02,p3,.02         \n a1            oscili    k1,p5,ifunc             \n               out       a1\n endin  \n\n</CsInstruments>\n<CsScore>\n\nf1 0 512 10 .5 .5 .5 .5 .5 .5 .5 .5 .5 .5              ; FUNDAMENTAL WITH 9 HARMONICS\nf2 0 512 10  0 .5 .5 .5 .5 .5 .5 .5 .5 .5              ; MISSING FUDAMENTAL\nf3 0 512 10  0  0 .5 .5 .5 .5 .5 .5 .5 .5              ; MISSING FUDAMENTAL AND 2ND HARMONIC\nf4 0 512 10  0  0   0 .5 .5 .5 .5 .5 .5 .5             ; MISSING FUNDAMENTAL AND 2ND AND 3RD\nf5 0 512 10  0  0   0  0 .5 .5 .5 .5 .5 .5             ; MISSING FUNDAMENTAL AND 2ND - 4TH\nf6 0 512 10  0  0   0  0  0 .5 .5 .5 .5 .5             ; MISSING FUNDAMENTAL AND 2ND - 5TH\nf7 0 512 10  0  0   0  0  0  0 .5 .5 .5 .5             ; MISSING FUNDAMENTAL AND 2ND - 6TH\nf8 0 512 10  0  0   0  0  0  0  0 .5 .5 .5             ; MISSING FUNDAMENTAL AND 2ND - 7TH\nf9 0 512 10  0  0   0  0  0  0  0  0 .5 .5             ; MISSING FUNDAMENTAL AND 2ND - 8TH \nf10 0 512 10  0  0  0  0  0  0  0  0  0 .5             ; MISSING FUNDAMENTAL AND 2ND - 9TH \n\n\n;************************************   VIRTUAL PITCH   ****************************************\n;   p1      p2      p3    p4       p5       p6      \n;  inst    strt    dur   iamp     freq     ifunc\n    i1     1.00    .75    80      200       1\n    i1     2.00    .75    80      200       2\n    i1     3.00    .75    80      200       3\n    i1     4.00    .75    80      200       4\n    i1     5.00    .75    80      200       5\n    i1     6.00    .75    80      200       6\n    i1     7.00    .75    80      200       7\n endin\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 02_01_6b.orc and 02_01_6b.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     02_01_6B.ORC\n; timbre:    bell\n; synthesis: additive with same units(02)\n;            basic instrument(01)\n;            additive bell with EXPON \n; coded:     jpg 8/93\n\n\n\ninstr 1; *****************************************************************\nidur  = p3\niamp  = p4/11  ; scale iamp to the number of oscillators\nifqc  = p5\n\n   ae1    expon   iamp,         idur,       1\n   ae2    expon   (iamp* .67), (idur*.9  ), 1\n   ae3    expon   iamp,        (idur*.65 ), 1\n   ae4    expon   (iamp*1.8 ), (idur*.55 ), 1\n   ae5    expon   (iamp*2.67), (idur*.325), 1\n   ae6    expon   (iamp*1.67), (idur*.35 ), 1\n   ae7    expon   (iamp*1.46), (idur*.25 ), 1\n   ae8    expon   (iamp*1.33), (idur*.2  ), 1\n   ae9    expon   (iamp*1.33), (idur*.15 ), 1\n   ae10   expon   iamp,        (idur*.1  ), 1\n   ae11   expon   (iamp*1.33), (idur*.075), 1\n\n   a1    oscili    ae1, (ifqc* .56), 11\n   a2    oscili    ae2, (ifqc* .56+1),11\n   a3    oscili    ae3, (ifqc* .92), 11\n   a4    oscili    ae4, (ifqc* .92+1.7),11\n   a5    oscili    ae5, (ifqc*1.19), 11\n   a6    oscili    ae6, (ifqc*1.7 ), 11\n   a7    oscili    ae7, (ifqc*2   ), 11\n   a8    oscili    ae8, (ifqc*2.74), 11\n   a9    oscili    ae9, (ifqc*3   ), 11\n   a10   oscili    ae10,(ifqc*3.76), 11\n   a11   oscili    ae11,(ifqc*4.07), 11\n\n       out       a1+a2+a3+a4+a5+a6+a7+a8+a9+a10+a11\n\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     02_01_6B.SCO\n; coded:     jpg 8/93\n\n\n; GEN functions **********************************************************\n; waveform\nf11  0  1024   9    1 1 0\n\n\n; score ******************************************************************\n\n;      idur  iamp    ifqc\ni1   0  20   20000    440\ni1   +   4   .        633     \ni1   .   .   .        211     \ni1   .   .   .        999\n\ns\n\ni1   1   20   1500    633   \ni1   +    4   .       211     \ni1   .    .   .       999     \ni1   .    .   .        80 \n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 20_10_1.orc and 20_10_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     20_10_1.ORC\n; synthesis: FM(20),\n;            FM with dynamic spectral evolution (10)\n;            bell settings(1)\n; source:    Chowning (1973)\n; coded:     jpg 8/92\n\n\ninstr 1; *****************************************************************\nidur   = p3\niamp   = p4\nifenv  = 51                    ; bell settings:\nifdyn  = 52                    ; amp and index envelopes are exponential\nifq1   = cpspch(p5)*5          ; decreasing, N1:N2 is 5:7, imax=10\nif1    = 1                     ; duration = 15 sec\nifq2   = cpspch(p5)*7\nif2    = 1\nimax   = 10\n\n   aenv  oscili  iamp, 1/idur, ifenv             ; envelope\n\n   adyn  oscili  ifq2*imax, 1/idur, ifdyn        ; dynamic\n   amod  oscili  adyn, ifq2, if2                 ; modulator\n\n   a1    oscili  aenv, ifq1+amod, if1            ; carrier\n         out     a1\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     20_10_1.SCO\n; coded:     jpg 8/92\n\n\n; GEN functions **********************************************************\n; carrier\nf1  0  512  10  1\n\n; envelopes\nf51 0 513 5 1 513 .0001\nf52 0 513 5 1 513 .001\n\n\n; score ******************************************************************\n\n;       idur iamp  ifq1\ni1   0   15  8000  5.07\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 20_10_3.orc and 20_10_3.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     20_10_3.ORC\n; synthesis: FM(20),\n;            FM with dynamic spectral evolution (10)\n;            brass settings(3)\n; coded:     jpg 8/92\n\n\ninstr 1; *****************************************************************\nidur   = p3\niamp   = p4\nifenv  = 31                    ; brass settings:\nifdyn  = 31                    ; amp and index envelope see flow chart\nifq1   = cpspch(p5)            ; N1:N2 is 1:1, imax=5\nif1    = 1                     ; duration ca. .6 sec\nifq2   = cpspch(p5)\nif2    = 1\nimax   = 5\n\n   aenv  oscili   iamp, 1/idur, ifenv             ; envelope\n\n   adyn  oscili   ifq2*imax, 1/idur, ifdyn        ; dynamic\n   amod  oscili   adyn, ifq2, if2                 ; modulator\n\n   a1    oscili   aenv, ifq1+amod, if1            ; carrier\n         out      a1\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     20_10_3.SCO\n; coded:     jpg 8/92\n\n\n; GEN functions **********************************************************\n; carriers\nf1  0  512  10  1\n\n; envelopes\nf31 0 513 7 0 80 1  80 .85  290 .8 63 0      ; amplitude & index envelope\n\n\n; score ******************************************************************\n\n;    idur  iamp   pch\ni1  0 .6  20000  8.00    ; scale in brass...\ni1  +  .  .      8.02\ni1  .  .  .      8.04\ni1  .  .  .      8.05\ni1  .  .  .      8.07\ni1  .  .  .      8.09\ni1  .  .  .      8.11\ni1  .  .  .      9.00\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for CIRCULAR ALGORHYTHM using interpolating oscillator and reverb effect and amplitude balance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from circle.orc and circle.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n\n          instr     1\n     \n; CIRCULAR ALGORHYTHM\n     \na1   soundin p4,p5       ; THE SIGNAL SOURCE CAN BE REPLACED WITH ANYTHING...:]\nk1   oscili p6,p7,1\nk2   oscili p6,p7,2\na2   reverb a1,.5   ; THIS LINE CAN BE REPLACE WITH ANY OF THE NEWER REVERB OPCODES...\na2 = a2 * .3   ; YOU CAN ALSO CHOOSE TO USE THE BALANCE OPCODE HERE\nk3   oscili p8,p9,3\n     a3 = ((a1*k1)+(a2*k3))*k2\n     a4 = ((a1*k1)+(a2*k3))*(1-k2)\n\n; ENVELOPE SELECTION TO BE APPLIED TO THE SOURCE  \n    if p10 = 1 goto noclick\n     if p10 = 2     goto taper\n     if p10 = 3     goto hairpin\n     if p10 = 4     goto cresc\n     if p10 = 5     goto dim\n\n     noclick:\n          kenv linseg 0,.01,p11,p3-.02,p11,.01,0  ;noclick\n          a3 = a3*kenv\n          a4 = a4*kenv\n          goto out\n     taper:\n          kenv linseg 0,.01,p11,(p3*.75)-.01,p11,p3*.25,0   ;taper\n          a3 = a3*kenv\n          a4 = a4*kenv\n          goto out\n     hairpin:\n          kenv linseg 0,p3*.5,p11,p3*.5,0    ;hairpin\n          a3 = a3*kenv\n          a4 = a4*kenv\n          goto out\n     cresc:\n          kenv linseg 0,p3-.01,p11,.01,0     ;cresc\n          a3 = a3*kenv\n          a4 = a4*kenv\n          goto out\n     dim:\n          kenv linseg 0,.01,p11,p3-.01,0     ;dim\n          a3 = a3*kenv\n          a4 = a4*kenv\n     out:\n     outs1 a3  \n     outs2 a4\nendin\n\n</CsInstruments>\n<CsScore>\n;--------------------------------------------------------------------- \n;FTABLES TO CREATE CIRCULAR DATA FOR ORCHESTRA PROCESSING \n;--------------------------------------------------------------------- \nf1   0    8192 7    1    2048 1 2048 1 2048 0 2048 1\nf2   0    8192 7    0    2048 .5 2048 1 2048 .5 2048 0\nf3   0    8192 7    0    2048 0 2048 0 2048 1 2048 0\n;-------------------------------------------------------------------- \n;    p2   p3   p4   p5   p6   p7   p8   p9   p10  p11\n;    SNDIN# SKIP AMPREV FREQ  AMPPAN FREQ.ENV.VOL.REVPAN.AMPPAN\n;-------------------------------------------------------------------- \ni1   0    10     \"speech1.aif\"   0    1    .1   1    .1   0    1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for DUMB DRUM 1 (KICK/TOM) using drum sound and interpolating oscillator and Moog VCF filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from winklerdrum.orc and winklerdrum.sco\n; Original files preserved in same directory\n\n     sr        =         44100\n     kr        =         22050\n     ksmps     =         2\n     nchnls    =         1\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;;;COPYRIGHT 1998 PAUL M. WINKLER, ZARMZARM@HOTMAIL.COM\n;****++++\n;**** LAST MODIFIED: WED JUL 21 07:05:31 1999\n;****----\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n\n\n                                                  ; ATTEMPTS AT SIMULATING ANALOG DRUM SYNTHS.\n\n\ninstr 1                                           ; DUMB DRUM 1 (KICK/TOM)\n                                                  ; SELF-RESONATING LOWPASS FILTER\n  idur         =         p3\n  icutoff      =         p4\n  ires         =         3                        ; SELF-RESONATES AT 1\n  iscale       =         100000 / (ires)          ; NOT ACCURATE, BUT BALLPARK.\n;  NOTE THAT LARGER RESONANCES MAKE SOUND LOUDER, RICHER, AND FATTER.\n;  SUGGESTED RANGE: 1 TO 3 FOR DEEP STUFF, UP TO 200 FOR VERY SYNTHY.\n;   TRY AS LOW AS .7 FOR SHORT-DECAY, NON-OSCILLATING THUDS, BUT THEN AMPLITUDE MUST\n;   BE SERIOUSLY BOOSTED.\n  asig         osciln         1, 1/idur, 1, 1         \n                                                  ; SHOULD USE A BETTER PULSE SIGNAL, IT'S TOO \"TICKY\".\n  kcutoff      linseg         icutoff, idur, 0    ; ENV. FOR FILTER\n  aout         moogvcf        asig, kcutoff, ires\n               out            aout * iscale\nendin \n\n\ninstr 2                                           ; DUMB DRUM 2 (kick/bass)\n\n                                                  ; SINE OSCILLATOR\n  idur         =              p3\n  ipitch       =              p4\n  iamp         =              p5\n  kenv         linseg         iamp, idur, .01     ; CHANGE TO LINSEG TO GET\n                                                  ; A TOTAL DRUM-N-BASS BASS SOUND.  WITH EXPSEG, DECAY OF AT LEAST\n                                                  ; 0.5 IS NICE; WITH LINSEG, AS LOW AS .1\n  asig         oscili         kenv, ipitch, 2\n               out            asig\n\nendin\n\n</CsInstruments>\n<CsScore>\n;SCO\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;;COPYRIGHT 1998 PAUL M. WINKLER, ZARMZARM@HOTMAIL.COM\n;****++++\n;**** LAST MODIFIED: TUE AUG 24 14:39:34 1999\n;****----\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n\nf1      0       1024    2       1       0    ; IMPULSE... WORKS BUT SOUNDS BAD\nf2      0       32769   10      1            ; SINE WAVE\n\nt 0 80\ni1      0       .25   100\ni1      +       .       >\ni1      +       .       >\ni1      +       .       >\ni1      +       .       >\ni1      +       .       >\ni1      +       .       >\ni1      +       .       >\ni1      +       .       >\ni1      +       .       >\ni1      +       .       50\n\ns\nt 0 100\ni2      2       .1     100 30000\ni2      3       .       >       .\ni2      4       .       >       .\ni2      5       .       >       .\ni2      6       .       >       .\ni2      7       .       >       .\ni2      8       .       >       .\ni2      9       .       >       .\ni2      10      .       >       .\ni2      11      .       >       .\ni2      12      .       30      .\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 20_10_2.orc and 20_10_2.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     20_10_2.ORC\n; synthesis: FM(20),\n;            FM with dynamic spectral evolution (10)\n;            wood-drum settings(2)\n; source:    Chowning(1973)\n; coded:     jpg 8/92\n\ninstr 1; *****************************************************************\nidur   = p3\niamp   = p4\nifenv  = 51                    ; wood drum settings:\nifdyn  = 31                    ; amp and index envelopes see flow chart\nifq1   = cpspch(p5)*16         ; N1:N2 is 80:55 = 16:11, imax=25\nif1    = 1                     ; duration = .2 sec\nifq2   = cpspch(p5)*11\nif2    = 1\nimax   = 25\n\n   aenv  oscili   iamp, 1/idur, ifenv             ; envelope\n\n   adyn  oscili   ifq2*imax, 1/idur, ifdyn        ; dynamic\n   amod  oscili   adyn, ifq2, if2                 ; modulator\n\n   a1    oscili   aenv, ifq1+amod, if1            ; carrier\n         out      a1\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     20_10_2.SCO\n; coded:     jpg 8/92\n\n; GEN functions **********************************************************\n; carriers\nf1  0  512  10  1\n; envelopes\nf31 0 512 7   1 64 0  448 0                ; index envelope\nf51 0 513 5  .8 113 1   10   1 390 .0001   ; amplitude envelope\n\n; score ******************************************************************\n;    idur  iamp   pch\ni1  0 .2   8000   3.00    ; scale in wood drum...\ni1  +  .   .      3.02\ni1  .  .   .      3.04\ni1  .  .   .      3.05\ni1  .  .   .      3.07\ni1  .  .   .      3.09\ni1  .  .   .      3.11\ni1  .  .   .      4.00\ns\ni1  2 .2   8000   2.00    ; an octave lower\ni1  +  .   .      2.02\ni1  .  .   .      2.04\ni1  .  .   .      2.05\ni1  .  .   .      2.07\ni1  .  .   .      2.09\ni1  .  .   .      2.11\ni1  .  .   .      3.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur  iamp ifq1   irise  idec using interpolating oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 02_13_1b.orc and 02_13_1b.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     02_13_1B.ORC\n; timbre:    brass\n; synthesis: additive with equal units(02),\n;            basic unit with modified envelopes(13)\n; source:    #210 Simplified Brass-like Sounds,  Risset(1969)\n; coded:     jpg 8/93\n\n\ninstr 1; *****************************************************************\nidur  =  p3\niamp  =  p4\nifq1  =  p5\nirise =  p6/128\nidec  =  p7/128\nisum  =  p6 + p7\n\n; ratios of maxamps of partials / range\niratio2 = .2/67\niratio3 = .3/60\niratio4 = .4/57\niratio5 = .5/55\niratio6 = .6/54\niratio7 = .7/54\n\n; constants from slope formula\niconst2 = .054\niconst3 = .049\niconst4 = .3\niconst5 = .409\niconst6 = .511\niconst7 = .596\n\n; partials\nifq2 = ifq1 * 2\nifq3 = ifq1 * 3\nifq4 = ifq1 * 4\nifq5 = ifq1 * 5\nifq6 = ifq1 * 6\nifq7 = ifq1 * 7\n\n        ae     linseg  0,irise*100,.99,irise*10,.65,irise*18,.8,idur-isum,.6,idec*44,.3,idec*45,0\n\n        aamp1  =       iamp * ae\n        aamp2  =       ((iratio2 * aamp1) - iconst2) * 1000\n        aamp3  =       ((iratio3 * aamp1) - iconst3) * 2000\n        aamp4  =       ((iratio4 * aamp1) - iconst4) * 1900\n        aamp5  =       ((iratio5 * aamp1) - iconst5) * 1250\n        aamp6  =       ((iratio6 * aamp1) - iconst6) * 1000\n        aamp7  =       ((iratio7 * aamp1) - iconst7) *  850\n\n        a1     oscili  aamp1, ifq1, 1\n        a2     oscili  aamp2, ifq2, 1\n        a3     oscili  aamp3, ifq3, 1\n        a4     oscili  aamp4, ifq4, 1\n        a5     oscili  aamp5, ifq5, 1\n        a6     oscili  aamp6, ifq6, 1\n        a7     oscili  aamp7, ifq7, 1\n               out     a1+a2+a3+a4+a5+a6+a7\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:    02_13_1B.SCO\n; coded:    jpg 8/93\n\n\n; GEN functions **********************************************************\n; waveforms\nf1  0 512 9 1 1 0    ;sinus\n\n\n;score *******************************************************************\n\n; instr 1  idur  iamp ifq1   irise  idec\n\ni1    0      .3   45   554   .05   .01      \ni1     .5    .    50\ni1    1      .    55\ni1    1.5    .    80\ni1    2      .    60\ni1    2.5    .    65\ni1    3      .    70\ni1    3.5    .    75\ni1    4      .    80\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifq\t\t=\t\tcpspch(p4+4) using test/demonstration and interpolating oscillator and exponential segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from sonetest.orc and sonetest.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n\n\t\tinstr 1\n\nifq\t\t=\t\tcpspch(p4+4)\nisones\t=\t\tp5\n\nasones \texpseg \t.1,.1,isones,p3-.11,isones,.01,.1 \n\nares1 \tpow \tasones/ifq, 3, 1\nires2 \tpow \t10,-12\n\nadb\t\t=\t\t10*((log((ares1)/ires2))/log(10))\nampenv\t=\t\tampdb(adb)\namp\t\t=\t\tampenv\n\nasig \toscili \tamp,ifq,1\n\n\t\touts \tasig, asig\n\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n;------------sonetest.sco------------------------------- \n\nf1 0 1024 10 1\n\n;sones --- !According to the equation these might sound equally loud! \n\ni1 0 1 1.00 2.816\ni1 1.5 1 2.00\ni1 3 1 3.00\ni1 4.5 1 4.00\ni1 6 1 5.00\ni1 7.5 1 6.00\ni1 9 1 7.00\ni1 10 1 8.00\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 01_42_1.orc and 01_42_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:        01_42_1.ORC\n; synthesis:    simple(01)\n;               basic instrument with small scale FM for vibrato (42)\n; source:       Dodge(1985)\n; coded:        jpg 10/93\n\n\ninstr 1; *****************************************************************\nidur   =  p3\niamp   =  p4\nifqc   =  p5\nifc    =  p6\niwidth =  p7\nirate  =  p8\nifm    =  p9\n\n    amod   oscili   iwidth, irate, ifm           ; LFO modulator\n    amod   =        ifqc + amod\n    aenv   linen    iamp, .1, idur, .1           ; prevent clicks    \n    a1     oscili   aenv, amod, ifc              ; carrier waveform\n           out      a1\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     01_42_1.SCO\n; coded:     jpg 10/93\n\n\n; GEN functions **********************************************************\n; waveform\nf1 0 512 10 1       ; sinus\n\n\n; score ******************************************************************\n\n;  st idur  iamp  ifqc  ifc     iwidth  irate  ifm\ni1  0   1   8000   800    1        8       5     1\ni1  3   1   .      .      .       16       .     .\ni1  6   1   .      .      .       24       .     .\n\ni1  9   1   .      .      .        8       2     .\ni1 12   1   .      .      .       16       .     .\ni1 15   1   .      .      .       24       .     .\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for CHANGE THIS!! using granular synthesis and interpolating oscillator and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Stoc_grain.orc and Stoc_grain.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n\n \n          ;S TOCHASTIC---GRANULATOR\n\n          instr 1\n\n          \n          ; CHANGE THIS!!\n\niseed     =         .8765          \n\n          \n          ; STOCHASTIC GENERATORS, DON'T TOUCH!!!\n\nkpdur     rand      1,iseed*.243 \nkpfreq    rand      1,iseed*.734 \nkpint     rand      1,iseed*.452 \nkppan     rand      1,iseed*.634 \nkpjou     rand      1,iseed*.824 \nkpphs     rand      1,iseed*.951\n\n\n          ; VARIABLES, REPLACE P BY WHATEVER\n\nkgfs      =         p4        ; MAXIMUM FREQUENCY (HZ)\nkgfi      =         p5        ; MINIMUM FREQUECY (HZ)\n\nkgvs      =         p6        ; MAXIMUM SPEED(GRAIN/SECOND) (HZ)\nkgvi      =         p7        ; MINIMUM SPEED (HZ)\n\nkgis      =         p8        ; (MAXIMUM INTENSITY) (0-->16000)\nkgii      =         p9        ; (MINIMUM INTENSITY)\nkgps      =         p10       ; (PANNING SPREAD, 0=CENTER 1=RANDOM PANNING) \nkgjs      =         p11       ; (DENSITY (PROBABILITY THAT THE GRAIN IS PLAYED 0->1)\n\n\n\n          ; MATHEMATICAL CONVERSIONS DON'T TOUCH!!!!\n\n\nkidur     =         1/exp(log((kgvi))+abs((kpdur))*(log((kgvs))-log((kgvi))))\n\n          chicoutimi:\n\nidur      =         int(i(kidur)*kr)/kr\nifreq     =         exp(log(i(kgfi))+abs(i(kpfreq))*(log(i(kgfs))-log(i(kgfi))))\niint      =         exp(log(i(kgii))+abs(i(kpint))*(log(i(kgis))-log(i(kgii))))\nipan      =         i(kppan)\nijou      =         abs(i(kpjou))\nidens     =         i(kgjs)\niphs      =         abs(i(kpphs))\nispa      =         i(kgps)\niamp      =         (ijou < idens?iint:0)\n\n          timout    0,abs(idur),montreal\n\n          reinit    chicoutimi\n\n\n          montreal:\n\naind      line      0,idur,1\naenv      tablei    aind,2,1,0,0 \nasig      oscili    iamp*aenv,ifreq,1,iphs\n\n          outs      asig*(1+ipan*ispa),asig*(1-ipan*ispa)  \n          endin\n\n\n\n\n\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\t;WAVE OF THE GRAIN\nf2 0 8192 20 2\t;ENVELOPE OF THE GRAIN\n\n\ni1 \t0 2  100\t10\t\t100\t20\t16000\t10000\t1 .5\ni1 \t2 2  100\t500\t\t100\t200\t16000\t1000\t0 .1\ni1 \t4 4  200\t1000\t50\t300\t8000\t7000\t1 1\ni1 \t6 2  300\t400\t\t90\t100\t8000\t100\t\t0 .8\ni1 \t8 2  1000\t10000\t50\t100\t16000\t100\t\t1 .2\ni1 10 2  10\t\t20000\t200\t300\t16000\t15000\t0 .3\ni1 12 2  800\t1000\t10\t20\t16000\t10000\t1 .5\ni1 14 2  400\t500\t\t100\t200\t16000\t1000\t0 .1\ni1 16 4  300\t1500\t150\t300\t8000\t7000\t1 1\ni1 18 2  100\t700\t\t75\t100\t8000\t100\t\t0 .8\ni1 20 2  9000\t10000\t300\t400\t16000\t100\t\t1 .2\ni1 22 2  10000\t20000\t50\t500\t16000\t15000\t0 .3\nE\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Harmonic sweep generator. using parameter sweep and interpolating oscillator and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from HarmonicSweep.orc and HarmonicSweep.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Harmonic sweep generator.\n\nilevl    = p4*32768   ; Output level\nipitch   = cpspch(p5) ; Pitch\nitabl1   = p6         ; Start harmonic\nitabl2   = p7         ; End harmonic\nidet     = p8         ; Detune\n\nk1       line  1, p3, 0\na1       oscili  .5, ipitch + idet, 50, -1\na2       tablei  a1, itabl1, 1, .5\na3       tablei  a1, itabl2, 1, .5\naout     =\t\ta2*k1 + a3*(1 - k1)\nout      aout*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\n f1 0 1025 13 1 1 0 1\n f2 0 1025 13 1 1 0 1 1\n f3 0 1025 13 1 1 0 1 0 1\n f4 0 1025 13 1 1 0 1 0 0 1\n f5 0 1025 13 1 1 0 1 0 0 0 1\n f6 0 1025 13 1 1 0 1 0 0 0 0 1\n f7 0 1025 13 1 1 0 1 0 0 0 0 0 1\n f8 0 1025 13 1 1 0 1 0 0 0 0 0 0 1\n f9 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 1\nf10 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 1\nf11 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 1\nf12 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 1\nf13 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 1\nf14 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 1\nf15 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf16 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf17 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf18 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf19 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf20 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf21 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf22 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf23 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf24 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf25 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf26 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf27 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf28 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf29 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\nf30 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1\n\nf50 0 1025 10 1 ; Sine\n\nt 0 120\n\n;     Strt  Leng  Levl  Pitch Tabl1 Tabl2 Detune\ni1    0.00  1.00  1.00  06.00 1     2     0.00\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     <     .\ni1    +     .     .     .     <     30    .\ni1    +     .     .     .     30    1     .\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur   =         p3            ; Duration using interpolating oscillator and panning and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from newterr.orc and newterr.sco\n; Original files preserved in same directory\n\nsr      =        44100                      ; Sample rate\nkr      =        4410                       ; Kontrol rate\nksmps   =        10                         ; Samples/Kontrol period\nnchnls  =        2                          ; Normal stereo\n\n;ORC\n; Coded by Hans Mikelson October 1999\n\n        zakinit  50,50                      ; May need this later\n\n;---------------------------------------------------------\n; Terrain Lead 1\n;---------------------------------------------------------\n       instr     1\n\nidur   =         p3            ; Duration\niamp   =         p4            ; Amplitude\nifqc   =         cpspch(p5)    ; Pitch to frequency\nipanl  =         sqrt(p6)      ; Pan left\nipanr  =         sqrt(1-p6)    ; Pan right\niplsf  =         p7            ; Frequency modifier\niwahrt =         p8            ; Wah rate\niwahtb =         p9            ; Wah table\nipbnd  =         p10           ; Pitch Bend Table\n\nkpbnd  oscili    1, 1/idur, ipbnd                      ; Pitch bend\nkwrt   linseg    1, idur*.3, 1.5, idur*.7, .2          ; Pulse width rate\nkdclk  linseg    0, idur*.3, 1, idur*.4, 1, idur*.3, 0 ; Declick\n\nasin   oscili    1, iplsf, 1         ; Sine wave pulse frequency\nar     =         asin*asin           ; Make it positive\n\narmp   oscili    100, iwahrt*kwrt, iwahtb ; PWM\nayi    oscili    ar*armp, iplsf, 1   ; Y\nayf    =         .1/(.1+ayi*ayi)     ; Sort of a square pulse wave at this point\n\nasig   oscili    1, ifqc*kpbnd, 1    ; Sine oscillator with pitch bend\n\n       outs      ayf*iamp*asig*kdclk*ipanl, ayf*iamp*asig*kdclk*ipanr ; Output the sound\n\n       endin\n\n</CsInstruments>\n<CsScore>\n\n\n;SCO\nf1  0 65537 10 1\n\nf20 0 1025  5  .01 512 1 513 .01\nf21 0 1025  7  .01 512 1 513 .01\nf22 0 1025  10 .8 .5 .1 .2\n\nf11 0 1025 -5  .5  256 1  256 4   256 2  257 2\nf12 0 1025 -5  1   256 1  256 2   256 2  257 .25\nf13 0 1025 -5  .75 256 1  256 1   256 .5 257 1\nf14 0 1025 -5  2   256 .5 256 1   256 1  257 2\nf15 0 1025 -5  1   256 2  256 2   256 2  257 2\n\nt 0 20\n\n;    Sta     Dur  Amp    Pitch  Pan  PlsFqc WahRate  WahTable  PtchBend\ni1   0       16   8000   7.06   .5   80     .5       20        13\ni1   8       15   6000   8.00   0    32     .2       21        11\ni1   11      17  13000   7.00   1    10     .4       22        12\ni1   12      16  12000   8.07   .3   30     .2       20        14\ni1   16      20  11000   9.05   .8   120    .3       21        15\ni1   18      23   7000   10.03  .5   25     .1       22        11\ni1   20      22   5000   7.00   .5   46     .4       20        12\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 60_01_2.orc and 60_01_2.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:      60_01_2.ORC\n; synthesis:  phase vocoder(60)\n;             testfiles(01)\n;             4 partials, .2 seconds(2)\n; coded:      jpg 8/93\n\n\ninstr 1; *****************************************************************\niamp  = p4/4\n\n   a1  oscili  iamp, 1000, 11\n   a2  oscili  iamp, 2200, 11\n   a3  oscili  iamp, 4400, 11\n   a4  oscili  iamp, 8000, 11\n\n   a1  =       a1+a2+a3+a4\n       out     a1\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:   60_01_1.SCO\n; coded:   jpg 8/93\n\n\n; GEN functions **********************************************************\n; carrier\nf11   0 2048 10 1               ;  sinus\n\n\n; score ******************************************************************\n\n;     idur  iamp\ni1  0  .2   8000\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for if1 iamp2 irate if2  iamp3 if3 using interpolating oscillator and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 01_40_1.orc and 01_40_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr   = 441\nksmps =100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     01_40_1.ORC\n; synthesis: simple(01),\n;            basic instrument with continuous pitch control mechanism:\n;            optional LFO modulation of frequency(40)\n; coded:     jpg 10/93\n\n\n\ninstr  1; ****************************************************************\nidur  = p3\nif1   = p4            ; chooses waveform\niamp2 = p5        ; determines frequency of note event together with if2\nirate = p6/idur   ; repetition rate of LFO\nif2   = p7            ; chooses frequency control function\niamp3 = p8        ; amplitude of note\nif3   = p9            ; chooses envelope shape\n\n        a3   oscili  iamp3, 1/idur, if3         ; envelope\n        a2   oscili  iamp2, irate, if2          ; LFO modulation of pitch\n        a1   oscili  a3, a2, if1                ; waveform\n             out     a1\n\nendin\n\n</CsInstruments>\n<CsScore>\n; **********************************************************************\n; ACCCI:     01_40_1.SCO\n; coded:     jpg 10/93\n\n; **********************************************************************\n; GEN functions\n; waveforms\nf1   0 2048 10  1 .4 .2 .1 .1 .05                  ; six harmonics\nf2   0 1024 10  1                                  ; sinus\nf41  0  512  7  0 128 10 256 -10 128 0             ; sawtooth\n\n; envelope\nf31  0 512 7 0 1 0 79 .5 60  .5 20 .99 120 .4 140 .6 92 0\n\n; pitch control functions (LFO)\nf32  0 512 7   .895  512   .99     ; gen07 line segments    10% rise\nf33  0 512 7  1      512  1        ;                         0% rise\nf34  0 512 7   .99   512   .99     ;                         0% rise\nf35  0 512 7  1      512   .5      ;                        oct down\nf36  0 512 7  1 102 1 102 .8 102 .85 102 .7 104 .2    ; more complex\n\nf37 0  512  7  .999 50 .999 412 .85 50 .85              ; third down\nf38 0  512  7  .999 20 .999 472 .235 20 .235         ; ~two octs down\nf39 0  512  7  .999 25 .999 462 .06  25 .06              ; sixth down\nf40 0  512  7  .25  30 .25  110 .5  60 .25 10 .25 60 .5 20 .75 222 .5\n\n; **********************************************************************\n; score\n;                         freq LFO           amp\n; instr 1            if1 iamp2 irate if2  iamp3 if3\ni1   1  .5           1     988   1    32  8000  31\ni1   2  .            .      .    .    33     .   .   ; pitch control is if2\ni1   3  .            .      .    .    34     .   .\ni1   4  3            .      .    .    35     .   .\ni1   +  .            .      .    .    36     .   .\n\ns\n; section 2: carrier is sinus, LFO is f37 at 4 times a note\n; instr 1            if1 iamp2 irate if2  iamp3 if3\ni1   0 18             2   208    4    37   8000  31\n\ns\n; section 3: carrier sawtooth, LFO is f40 at 2.2 times a note\n; instr 1            if1 iamp2 irate if2  iamp3 if3\ni1   0 18            41   1864  2.2    40   8000  31\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a pitch duration sound using pitch and interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from PITCH_DURATION.orc and PITCH_DURATION.sco\n; Original files preserved in same directory\n\n sr            =         44100\n kr            =         4410\n ksmps         =         10\n nchnls        =         1 \n\n\n;*************************************    PITCH AND DURATION     ***********************************\n\n; SINE WAVES WILL BE PRESENTED AT 3 DIFFERENT FREQUENCIES TO THE LISTENER(S) IN ORDER TO ILLUSTRATE\n; THE RELATIONSHIP BETWEEN PITCH SALIENCE AND DURATION. THE FREQUENCIES ARE AS FOLLOWS: 300HZ,\n; 1000HZ, AND 3000HZ. EACH TONE WILL BE PRESENTED IN BURSTS OF 1, 2, 4, 8, 16, 32, 64, AND 128 PER-\n; IODS. YOU SHOULD PERCEIVE A CHANGE FROM A CLICK TO A TONE.\n\n\n;******************************************   HEADER   *********************************************\n\n \n \n \n instr         1\n \n idel          =         p6                       ;P4 = AMPLITUDE IN DB                                   \n irel          =         p7                       ;P5 = FREQUENCY\n isus          =         p3 - (idel + irel)       ;P6 = ATTACK OF ENVELOPE\n iamp          =         ampdb(p4)                ;P7 = RELEASE OF ENVELOPE\n \n k1            linen     iamp,p6,p3,p7    \n a1            oscili    k1,p5,1             \n               out a1\n endin  \n \n\n</CsInstruments>\n<CsScore>\n\n\nf1 0 32768 10 1                                                  ; SINE WAVE\n\n\n\n\n\n\n;*************************************  PITCH AND DURATION  ****************************************\n;   p1      p2      p3    p4       p5       p6      p7\n;  inst    strt    dur    amp     freq     atk     rel\n    i1    1.00    .003    66       300      0       0\n    i1    1.253   .006    66       300      0       0  \n    i1    1.509   .013    66       300      0       0\n    i1    1.772   .024    66       300      0       0  \n    i1    2.046   .053    66       300      0       0\n    i1    2.349   .106    66       300      0       0  \n    i1    2.705   .213    66       300      0       0\n    i1    3.168   .426    66       300      0       0  \ns\n;   p1      p2      p3    p4       p5       p6      p7\n;  inst    strt    dur    amp     freq     atk     rel\n    i1    1.00    .001    70      1000      0       0\n    i1    1.253   .002    70      1000      0       0  \n    i1    1.509   .004    70      1000      0       0\n    i1    1.772   .008    70      1000      0       0  \n    i1    2.046   .016    70      1000      0       0\n    i1    2.349   .032    70      1000      0       0  \n    i1    2.705   .064    70      1000      0       0\n    i1    3.168   .128    70      1000      0       0  \ns\n;   p1      p2      p3     p4       p5       p6      p7\n;  inst    strt    dur     amp     freq     atk     rel\n    i1    1.00    .0003    63      3000      0       0\n    i1    1.253   .0006    63      3000      0       0  \n    i1    1.509   .0013    63      3000      0       0\n    i1    1.772   .0024    63      3000      0       0  \n    i1    2.046   .0053    63      3000      0       0\n    i1    2.349   .0106    63      3000      0       0  \n    i1    2.705   .0213    63      3000      0       0\n    i1    3.168   .0426    63      3000      0       0  \nendin\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 01_01_5.orc and 01_01_5.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:      01_01_5.ORC\n; synthesis:  simple(01)\n;             basic instrument(01),\n;             envelope through ENVLPX unit generator(5)\n; coded:      jpg 10/93\n\n\ninstr 1; *****************************************************************\nidur   = p3\niamp   = p4\nifq    = p5\nif1    = p6\nirise  = p7\nidec   = p8\nif2    = p9\niatss  = p10\niatdec = p11\n\n   a2    envlpx   iamp, irise, idur, idec, if2, iatss, iatdec\n   a1    oscili   a2, ifq, if1\n         out      a1\nendin\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     01_01_5.SCO\n; coded:     jpg 10/93\n\n; GEN functions **********************************************************\n; carrier\nf1 0 512 10 1\n\n; envelope for rise shape\nf51 0  513   5    .00195  512  1 ;   exponential increase over 512 points\n\n\n; score ******************************************************************\n\n;  start  idur  iamp    ifq  if1    irise idec if2 iatss iatdec\ni1   0     1    8000   440   1       .2   .3   51   1     .01\ni1   2     4    .        .   .       .    .     .   1     .1   \ni1   7     .    .        .   .       .    .     .   1     .2  ; noisy cut\ni1  12     .    .        .   .       .    .     .   1     1.5 ; noisy cut\ni1  17     .    .        .   .       .    .     .   2     .01 ; good effect\ni1  22     .    .        .   .       .    .     .  .9     .01    \n\ns\n; section 2: idur = 2 sec \ni1   5     1    8000   330   1       .2   .3   51   1     .01\ni1   7     2    .        .   .       .    .     .   1     .1\ni1  10     .    .        .   .       .    .     .   1     .2   ; noisy cut\ni1  13     .    .        .   .       .    .     .   1     1.5  ; noisy cut\ni1  16     .    .        .   .       .    .     .   2     .01  ; stress\ni1  19     .    .        .   .       .    .     .  .9     .01    \n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for SURFACE GENERATOR using interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from wts8.orc and wts8.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n          instr 1             ; SURFACE GENERATOR\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\np3        =         .01\ngisize    =         256                      ; NUMBER AND SIZE OF THE TABLES\ngifn0     =         301\nkrow      init      0\n\n; FILL isize TABLES OF SIZE isize TO CREATE THE SURFACE\n\niafno     ftgen     3, 0, gisize+1 , 19, .5, 1, 0, 1\n\nloop:\nirow      =         i(krow)\nimult     tablei    irow, 3\niftnum    =         gifn0+i(krow)\niafno     ftgen     iftnum, 0, gisize+1 , 11, 50, 1, imult\n\nkrow      =         krow + 1\n          if        krow >= gisize + 2 goto end\n          reinit    loop\n\nend:\n          endin\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n          instr 2             ; ORBIT & WAVEFORM GENERATOR\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\ninote     =         p4\niamp      =         20000\n\n; SET A SPIRAL OF kradius TO INDEX THE SURFACE\n\nkradius   linen     .5, .5, p3, p3-1\nkx        oscili    kradius, inote, 1        ; SINE\nky        oscili    kradius, inote, 2, 1/4   ; COSINE\n\n; MAP THE ORBIT THROUGH THE SURFACE\n; TABLE INDEXES\n\nkfndown   =         int(ky*gisize) + gifn0 \nkfnup     =         int(1+ky*gisize) + gifn0\nkndx      =         kx                       ; NORMALIZED 0 TO 1\n\n          igoto     end\n\n;         table     read\n\nazdown    tableikt  kndx,kfndown, 1, .5, 1\nazup      tableikt  kndx,kfnup,   1, .5, 1\n\n\n; LINEAR INTERPOLATION\n\nay        upsamp    frac(ky*gisize)\n\naz        =         (1-ay)*azdown + ay*azup\n\n; FINAL OUTPUT & ENDIN\n          out       iamp*az\n\nend:\n          endin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 10 1; a sine wave from -1 to 1 for table index\nf2 0 8193 19 1 1 0 1; a sine wave from 0 to 1 for table number\n\ni1 0 1\ns\ni2 0 3 100\ni2 3 3 200\ni2 6 6 400\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for SURFACE GENERATOR using interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from wts9.orc and wts9.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n          instr 1             ; SURFACE GENERATOR\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\np3        =         .01\ngisize    =         256                      ; NUMBER AND SIZE OF THE TABLES\ngifn0     =         301\nkrow      init      0\n\n; FILL isize TABLES OF SIZE isize TO CREATE THE SURFACE\n\n; GENERATE TABLES TO CONTROL THE STRENGHT OF PARTIALS GENERATED\n;STRENGTH FOR PARTIAL 1\niafno     ftgen     3, 0, gisize, 7, 1, gisize/2, 1, gisize/4, 0, gisize/4, 0\n\n; STRENGTH FOR PARTIALS 3, 5 & 7\niafno     ftgen     4, 0, gisize, 7, 0, gisize/4, 0, gisize/4, 1, gisize/4, 0, gisize/4, 0\n\n; STRENGTH FOR PARTIALS 2, 4 & 6\niafno     ftgen     5, 0, gisize, 7, 0, gisize/2, 0, gisize/4, 1, gisize/4, 1\n\nloop:\nirow      =         i(krow)\nip1       tablei    irow, 3\nip2       tablei    irow, 4\nip3       tablei    irow, 5\n\niftnum    =         gifn0+i(krow)\niafno     ftgen     iftnum, 0, gisize+1 , 13, 1, 1, 0, ip1, ip2, ip3, ip2, ip3, ip2, ip3\n\nkrow      =         krow + 1\n          if        krow >= gisize goto end\n          reinit    loop\n\nend:\n          endin\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n          instr 2             ; ORBIT & WAVEFORM GENERATOR\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\ninote     =         p4\niamp      =         20000\n\n; SET AN ASCENDING ELLIPSE TO INDEX THE SURFACE\n\nkx        oscili    .5, inote, 1             ; SINE\nkycosine  oscili    .05, inote, 2, 1/4       ; COSINE\nkyline    line      .1, p3, .9\nky        =         kycosine + kyline\n\n; MAP THE ORBIT THROUGH THE SURFACE\n; TABLE INDEXES\n\nkfndown   =         int(ky*gisize) + gifn0 \nkfnup     =         int(1+ky*gisize) + gifn0\nkndx      =         kx                       ; NORMALIZED 0 TO 1\n\n          igoto     end\n\n;         table     read\n\nazdown    tableikt  kndx,kfndown, 1, .5, 1\nazup      tableikt  kndx,kfnup,   1, .5, 1\n\n\n; LINEAR INTERPOLATION\n\nay        upsamp    frac(ky*gisize)\n\naz        =         (1-ay)*azdown + ay*azup\n\n; FINAL OUTPUT & ENDIN\n          out       iamp*az\n\nend:\n          endin\n\n\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 10 1; a sine wave from -1 to 1 for table index\nf2 0 8193 19 1 1 0 1; a sine wave from 0 to 1 for table number\n\ni1 0 1\ns\ni2 0  6 100\ni2 6  6 200\ni2 12 6 400\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 01_01_4.orc and 01_01_4.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:      01_01_4.ORC\n; synthesis:  simple(01)\n;             basic instrument(01),\n;             envelope through LINEN unit generator(4)\n; coded:      jpg 10/93\n\n\ninstr 1; *****************************************************************\nidur   = p3\niamp   = p4\nifq    = p5\nif1    = p6\nirise  = p7\nidec   = p8\n\n   a2    linen    iamp, irise, idur, idec\n   a1    oscili   a2, ifq, if1\n         out      a1\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     01_01_4.SCO\n; coded:     jpg 10/93\n\n; GEN functions **********************************************************\n; waveform\nf1 0 512 10 1\n\n; score ******************************************************************\n\n;  start  idur  iamp    ifq  if1    irise idec\ni1   0     1     8000   440   1      .2    .3\ni1   2     1     .      .     .      .1    .1\ni1   4     1     .      220   .      .05   .2\ni1   6     1     .      .     .      .3    .4     ; string like\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp          =         ampdb(p4) using FM synthesis and interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from AsymOfMaskingPulsedTones.orc and AsymOfMaskingPulsedTones.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\n\n;******************   ASYMMETRY OF MASKING BY PULSED TONES   ********************\n; A PURE TONE MASKS TONES OF HIGHER FREQUENCY MORE EFFECTIVELY THAN TONES OF LOW-\n; FREQUENCY. THIS MAYBE EXPLAINED BY REFERENCE TO THE SIMPLIFIED RESPONSE OF THE\n; BASILAR MEMBTRANE FOR TWO PURE TONES A AND B.\n; THIS DEMONSTRATION USES TONES OF 1200HZ AND 2000HZ, PRESENTED AS 200MS TONE\n; BURSTS SEPARATED BY 100MS. THE TEST TONE, WHICH APPEARS EVERY OTHER PULSE, DE-\n; CREASES IN 10 STEPS OF 5DB, EXCEPT THE FIRST STEP WHICH IS 15DB.\n\n                  \n                  \n;                      MASKER\n;    *******  *******  *******  *******\n;    *     *  *     *  *     *  *     *   \n;*****     ****     ****     ****     *******\n;              200MS        100MS\n\n\n\n;                   TEST TONE                  \n;             *******           *******  \n;             *     *           *     *\n; *************     *************     *******\n;              200MS\n              \n              \n              \n;*********************************   HEADER   *********************************           \n\n\n instr         1\n\n iamp          =         ampdb(p4)               \n k1            linen     iamp,.01,p3,.01\n a1            oscili    k1,p5,1             \n               outs      a1,a1\n endin  \n\n\n              \n\n\n</CsInstruments>\n<CsScore>\n\n\nf1 0 512 10 1 \n\n;**********************   ASYMMETRY OF MASKING BY PULSED TONES   *****************************************\n;   p1      p2      p3    p4       p5      \n;  inst    strt    dur    amp     freq\n    i1     1.0     .2     75      1200\n    i1     1.3     .2     75      1200\n    i1     1.3     .2     75      2000\n    i1     1.6     .2     75      1200\n    i1     1.9     .2     75      1200    \n    i1     1.9     .2     60      2000\n    i1     2.2     .2     75      1200\n    i1     2.5     .2     75      1200\n    i1     2.5     .2     55      2000\n    i1     2.8     .2     75      1200\n    i1     3.1     .2     75      1200\n    i1     3.1     .2     50      2000\n    i1     3.4     .2     75      1200\n    i1     3.7     .2     75      1200\n    i1     3.7     .2     45      2000\n    i1     4.0     .2     75      1200\n    i1     4.3     .2     75      1200\n    i1     4.3     .2     40      2000\n    i1     4.6     .2     75      1200\n    i1     4.9     .2     75      1200\n    i1     4.9     .2     35      2000\n    i1     5.2     .2     75      1200\n    i1     5.5     .2     75      1200\n    i1     5.5     .2     30      2000\n    i1     5.8     .2     75      1200\n    i1     6.1     .2     75      1200\n    i1     6.1     .2     25      2000\n    i1     6.4     .2     75      1200\n    i1     6.7     .2     75      1200\n    i1     6.7     .2     20      2000\n    i1     7.0     .2     75      1200\n    i1     7.3     .2     75      1200\n    i1     7.3     .2     15      2000\n    s\n;   p1      p2      p3    p4       p5      \n;  inst    strt    dur    amp     freq\n    i1     1.0     .2     75      2000\n    i1     1.3     .2     75      2000\n    i1     1.3     .2     75      1200\n    i1     1.6     .2     75      2000\n    i1     1.9     .2     75      2000    \n    i1     1.9     .2     60      1200\n    i1     2.2     .2     75      2000\n    i1     2.5     .2     75      2000\n    i1     2.5     .2     55      1200\n    i1     2.8     .2     75      2000\n    i1     3.1     .2     75      2000\n    i1     3.1     .2     50      1200\n    i1     3.4     .2     75      2000\n    i1     3.7     .2     75      2000\n    i1     3.7     .2     45      1200\n    i1     4.0     .2     75      2000\n    i1     4.3     .2     75      2000\n    i1     4.3     .2     40      1200\n    i1     4.6     .2     75      2000\n    i1     4.9     .2     75      2000\n    i1     4.9     .2     35      1200\n    i1     5.2     .2     75      2000\n    i1     5.5     .2     75      2000\n    i1     5.5     .2     30      1200\n    i1     5.8     .2     75      2000\n    i1     6.1     .2     75      2000\n    i1     6.1     .2     25      1200\n    i1     6.4     .2     75      2000\n    i1     6.7     .2     75      2000\n    i1     6.7     .2     20      1200\n    i1     7.0     .2     75      2000\n    i1     7.3     .2     75      2000\n    i1     7.3     .2     15      1200\n    e\n    \n         \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur  iamp ifq1   irise  idec using interpolating oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 02_13_1.orc and 02_13_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     02_13_1.ORC\n; timbre:    brass\n; synthesis: additive with equal basic units(02)\n;            basic instrument with various ratios and constants applied\n;            to the envelope(13)\n; source:    #210 Simplified Brass-like Sounds,  Risset(1969)\n; coded:     jpg 8/93\n\n\ninstr 1; *****************************************************************\nidur  =  p3\niamp  =  p4\nifq1  =  p5\nirise =  p6/128\nidec  =  p7/128\nisum  =  p6 + p7\n\n; ratios of maxamps of partials / range\niratio2 = .2/67\niratio3 = .3/60\niratio4 = .4/57\niratio5 = .5/55\niratio6 = .6/54\niratio7 = .7/54\n\n; constants from slope formula\niconst2 = .054\niconst3 = .049\niconst4 = .3\niconst5 = .409\niconst6 = .511\niconst7 = .596\n\n; partials\nifq2 = ifq1 * 2\nifq3 = ifq1 * 3\nifq4 = ifq1 * 4\nifq5 = ifq1 * 5\nifq6 = ifq1 * 6\nifq7 = ifq1 * 7\n\n; start\n\n        ae   linseg  0, irise*100, 45/88, idur-isum, 1, idec*128, 0\n\n        aamp1  =       iamp * ae\n        aamp2  =       ((iratio2 * aamp1) - iconst2) * 1000\n        aamp3  =       ((iratio3 * aamp1) - iconst3) * 2000\n        aamp4  =       ((iratio4 * aamp1) - iconst4) * 1900\n        aamp5  =       ((iratio5 * aamp1) - iconst5) * 1250\n        aamp6  =       ((iratio6 * aamp1) - iconst6) * 1000\n        aamp7  =       ((iratio7 * aamp1) - iconst7) *  850\n\n        a1     oscili  aamp1, ifq1, 1\n        a2     oscili  aamp2, ifq2, 1\n        a3     oscili  aamp3, ifq3, 1\n        a4     oscili  aamp4, ifq4, 1\n        a5     oscili  aamp5, ifq5, 1\n        a6     oscili  aamp6, ifq6, 1\n        a7     oscili  aamp7, ifq7, 1\n\n               out     a1+a2+a3+a4+a5+a6+a7\nendin\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:    02_13_1.SCO\n; coded:    jpg 8/93\n\n\n; GEN functions **********************************************************\n; waveform\nf1  0 512 9 1 1 0    ;sinus\n\n\n;score *******************************************************************\n; instr 1  idur  iamp ifq1   irise  idec\n\ni1    0     5     80   554    .05   .25      ; section 1\n\ns\n\ni1    1      .6   50   682    .05   .15      ; section 2\ni1    2      .    60\ni1    3      .    80\ni1    4      .    90\ni1    5      .   100   .      .     .2\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for INITIALIZATION using drum sound and interpolating oscillator and amplitude balance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from RissetDrum.orc and RissetDrum.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; drum.o\n; This is the Csound code for the Drum Instrument based on\n; Risset's Introductory Catalog of Computer Synthesized Sounds\n; see pp.93-94 and figure 3.26 in \"Computer Music\" - Dodge\n\n\n          instr 1\n                                             ; INITIALIZATION\ni1        =         1/p3                     ; ONCE PER DURATION - FOR ENVELOPES\ni2        =         cpspch(p4)               ; CONVERT OCT. POINT PCH-CLASS NOTATION TO Hz\ni3        =         p5/2                     ; THESE THREE ASSIGNMENTS BALANCE THE THREE\ni4        =         p5/6                     ; BRANCHES OF THE DRUM INSTRUMENT\ni5        =         p5/2.5\n\n                                             ; BRANCH 1 - NOISE\na1        oscili    i3,i1,2                  ; GENERATE STEEP EXPONENTIAL ENVELOPE\na1        randi     a1,p6                    ; GENERATE BAND OF NOISE WITH FREQ. GIVEN BY p6\na1        oscili    a1,500,4                 ; USE NOISE BAND FOR AMP INPUT - RING MOD.\n\n                                             ; BRANCH 2 - INHARM\na2        oscili    i4,i1,2                  ; STEEP ENVELOPE WITH LOWER AMPLITUDE THAN a1\na2        oscili    a2,i2*.1,3               ; GENERATE INHARMONIC PARTIALS - 1,1.6,2.2,2.3\n\n                                             ; BRANCH 3 - FUND\na3        oscili    i5,i1,1                  ; DECAY OF f1 IS LESS STEEP THAN f2\na3        oscili    a3,i2,4                  ; GENERATES FUNDAMENTAL TONE\n\n                                             ; GLOBAL ENVELOPE TO PREVENT CLICKING\na4        linseg    1,p3-.05,1,.05,0,.01,0\n          out       a4*(a1+a2+a3)\n          endin\n\n</CsInstruments>\n<CsScore>\n; Risset's score for drum sound\n\n; amp envelopes\n\nf1 0 512 5 1 512 .004\nf2 0 512 5 1 512 .00012\n\n; waveforms\n\nf3 0 512 9 10 1 0 16 1.5 0 22 2 0 23 1.5 0\nf4 0 512 9 1 1 0\n\n;       start   dur     freq    amp     cps(noise)\n\ni1      1.00    1       6.0     24000   400\ni1      2.00    1       .       27000   .\ni1      2.01    .3      .       25000   .\ni1      2.33    .       .       26000   .\ni1      2.66    .       .       22000   .\ni1      3.00    .5      .       24000   .\ni1      3.50    .       .       .       .\ni1      4.06    .       .       5000    .\ni1      4.12    .       .       <       .\ni1      4.18    .       .       <       .\ni1      4.25    .       .       <       .\ni1      4.31    .       .       <       .\ni1      4.37    .       .       <       .\ni1      4.45    .       .       <       .\ni1      4.50    .       .       <       .\ni1      4.56    .       .       <       .\ni1      4.62    .       .       <       .\ni1      4.69    .       .       <       .\ni1      4.75    .       .       <       .\ni1      4.81    .       .       <       .\ni1      4.87    .       .       <       .\ni1      4.93    .       .       <       .\ni1      5.00    2       .       30000   .\ni1      5.01    3       .       22000   .\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifreq     =         p4 using synthesizer and interpolating oscillator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fltsynth.orc and fltsynth.sco\n; Original files preserved in same directory\n\nsr        =         44100     ; SAMPLE RATE\nkr        =         4410      ; CONTROL RATE\nksmps     =         10\nnchnls    =         1         ; NUMBER OF CHANNELS\n\n                              \n; FUNDA-FREQ AMP HZ-DETUNE BANDWIDTH\n          instr 1\nifreq     =         p4\niamp      =         10000\nidetune   =         ifreq * p6               ; SPECIFY DETUNE AS PERCENTAGE OF FREQ\nibw       =         ifreq * p7               ; SPECIFY BANDWIDTH AS PERCENTAGE OF FREQ\n                                                            \nampenv    linen     iamp,.01,p3,.02 \nk2        line      p4*8,p3,ifreq\nk4        port      ifreq,p3/4\na1        oscili    1.0,k4,1\nadetune   oscili    1.0,k4+idetune,1\na2        reson     (a1+adetune)/2,k2,ibw,0\n\n; ADDED STATEMENT FOR SHARPER RESONANT PEAK\na2        reson     a2,k2,ibw,0\n\najust     balance   a2, a1      \n\n; NOTE: APPLY ENVELOPE AFTER balance TO AVOID CLICK            \n          out       ajust*ampenv\n\n          endin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 7 0 1024 1 ; SAWTOOTH\n\n;notelist1:\n\ni1 0 .15 27.5 .7 .02 .05\ni1 .3 .45 100 .7 .02 .05\ni1 .6 .45 200 .7 .02 .05\ni1 .9 .45 100 .7 .02 .05\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for START    DURATION    VOLUME using FFT processing and interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from DIFFTONE.ORC and DIFFTONE.SCO\n; Original files preserved in same directory\n\nsr             =         44100     ; SAMPLE RATE\nkr             =         4410                \nksmps          =         10\nnchnls         =         1         ; NUMBER OF CHANNELS\n\n; DIFFTONE.ORC (COMPUTER ORCHESTRA FOR GENERATING \"DIFFERENCE\" TONES)\n; BY MARK DAL PORTO\n\n;=========================================================================;\n; DIFFERENCE TONES ARE AURAL COMBINATION TONES THAT RESULT WHEN TWO       ; \n; COMBINED FREQUENCIES PRODUCE A LOWER SOUNDING PITCH OR PITCHES.  THIS   ;\n; ACOUSTIC PHENOMENA WAS REPORTEDLY DISCOVERED BY THE ITALIAN COMPOSER    ;\n; AND VIOLINIST TARTINI AROUND 1714.  THE TWO MOST PROMINENT DIFFERENCE   ;\n; TONES ARE THE QUADRATIC DIFFERENCE TONE (UPPER FREQUENCY MINUS LOWER    ;\n; FREQUENCY) AND THE CUBIC DIFFERENCE TONE (LOWER FREQUENCY*2 MINUS UPPER ;\n; FREQUENCY).  THESE LOWER PITCHES, ALTHOUGH HEARD, ARE NOT ACTUALLY      ;\n; PHYSICALLY PRESENT IN THE MUSICAL SPECTRUM.  THEY RESULT BY MEANS OF A  ;\n; NON-LINEAR PROCESS THAT TAKES PLACE IN OUR INNER EAR.                   ;\n;=========================================================================;\n\n\ninstr          1 \n;-------------------------------------------------------------------------;\n; THE FOLLOWING \"EXPSEG\" CREATES A GLISSANDO FROM C6 TO C7 AND BACK TO C6 ;\n;-------------------------------------------------------------------------;\nkgliss         expseg    1046.5, p3*.5, 2093, p3*.5, 1046.5      ;P3=DURATION   \n\n;-------------------------------------------------------------------------;\n; THE FOLLOWING \"LINEN\" IS THE ENVELOPE SHAPE FOR THE NOTES PLAYED        ;\n;-------------------------------------------------------------------------; \n  kamp         linen     p4, p3*.025, p3, p3*.05                 ;P4=AMP\n\n;-------------------------------------------------------------------------;\n; THE FOLLOWING \"OSCILI\" IS THE DIGITAL OSCILLATOR THAT PLAYS THE         ;\n; GLISSANDO                                                               ;\n;-------------------------------------------------------------------------;    \nagliss         oscili    kamp, kgliss, 1 \n        \n;-------------------------------------------------------------------------;\n; THE FOLLOWING \"OSCILI\" IS THE DIGITAL OSCILLATOR THAT PLAYS THE LOWER   ;\n; SUSTAINED NOTE OR \"PEDAL\" TONE (C6)                                     ;\n;-------------------------------------------------------------------------;    \napedal         oscili    kamp, 1046.5, 1\n               out       agliss+apedal\n               endin                         ; END OF INSTRUMENT AND ORCHESTRA\n\n;*************************************************************************;\n; DID YOU HEAR THE LOWER SLIDING QUADRATIC AND CUBIC DIFFERENCE TONES     ;\n; CREATED BY THESE TWO OSCILLATORS?                                       ;\n;*************************************************************************;\n\n; NOTE:  FOR FURTHER INFORMATION ON DIFFERENCE TONES, SEE ROSSING'S\n; \"THE SCIENCE OF SOUND AND MUSIC\" (2ND ED.), PP. 151-152\n\n</CsInstruments>\n<CsScore>\n; DIFFTONE.SCO (COMPUTER SCORE FOR GENERATING \"DIFFERENCE\" TONES)\n; BY MARK DAL PORTO          \n\nf1 0 512 10 1                 ; USES GEN10 TO COMPUTE A SINE WAVE\n\n;=========================================================================;\n; THE FOLLOWING INSTRUMENT USES 2 OSCILLATORS - ONE CREATES A GLISSANDO   ;\n; FROM C6 TO C7 AND BACK TO C6, THE OTHER IS A LOWER SUSTAINED \"PEDAL\"    ;\n; NOTE ON C6.  THE RESULTANT SOUND CREATES A NON-LINEAR EFFECT IN OUR     ;\n; EARS CAUSING US TO HEAR QUADRATIC AND CUBIC DIFFERENCE TONES.           ;\n;=========================================================================;\n\n; INSTRUMENT    START    DURATION    VOLUME\n          \ni1               0         20        15000   \n\ne                             ; INDICATES THE END OF THE SCORE\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for p3           =         dur using interpolating oscillator and interpolating random and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from GLSNSE.ORC and GLSNSE.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n; GLSNSE.O\n; CSOUND CODE FOR RANDOM RING MODULATING INSTRUMENT DESCRIBED IN SECTION\n; 3.11B AND FIGURE. 3.25 OF \"COMPUTER MUSIC\" - DODGE\n\n\n               instr     1\n\n; p3           =         dur\n; p4           =         pitch\n; p5           =         amp\n; p6           =         bw%\n; p7           =         gliss interval (in octave.point.decimal notation)\n\nifreq          =         cpspch(p4)          ; CONVERT PITCH TO HZ\niband          =         p6*ifreq            ; BANDWIDTH AS A PERCENTAGE OF STARTING FREQUENCY\nioct           =         octpch(p4)          ; CONVERT PITCH TO OCTAVE.POINT.DECIMAL NOTATION\nigliss         =         p7                  ; GLISS INTERVAL IN OCTAVE NOTATION\n\namp            randi     p5,iband\naenv           linen     amp,.01,p3,.05\nagliss         linseg    0,p3,igliss\nafreq          =         cpsoct     (ioct+agliss)\n\naout           oscili    aenv,afreq,1\n               out       aout\n               endin\n\n</CsInstruments>\n<CsScore>\n; GLSNSE.S\n; SCORE FOR THE RING MODULATING INSTRUMENT IN SECTION 3.11B AND FIGURE 3.25 OF\n; \"COMPUTER MUSIC\" - DODGE\n\nf0 11\nf1 0 1024 9 1 1 0\n\n;       start   dur     pitch   amp     bw%     gliss_interval\ni1      1       4      28.00    25000   .01     .81\ni1      6       4      28.10    25000   .01    -.81\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp          =         ampdb(p4) using pitch and interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from VirtPitchRandHarm.orc and VirtPitchRandHarm.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\n\n;*****************************   VIRTUAL PITCH WITH RANDOM HARMONICS   **************************\n\n; THIS DEMONSTRATION COMPARES THE VIRTUAL PITCH AND THE TIMBRE OF COMPLEX TONES WITH LOW AND HIGH HAR-\n; MONICS OF A MISSING FUNDAMENTAL. WITHIN THREE GROUPS (LOW,MEDIUM,HIGH HARMONICS) THE HARMONIC NUMBER\n; ARE RANDOMLY CHOSEN. THE WESTMINISTER CHIME MELODY IS CLEARLY RECOGNIZABLE IN ALL THREE CASES. THIS \n; SHOWS THAT THE VIRTUAL-PITCH MELODY IS NOT BASED ON AURAL TRACKING OF A PARTICULAR HARMONIC IN THE\n; SUCCESSIVE COMPLEX-TONE STIMULI.\n; THE TUNE OF THE WESTMINISTER CHIME IS PLAYED WITH TONE COMPLEXES OF THREE RANDOM SUCCESSIVE HARMON-\n; ICS. IN THE FIRST PRESENTATION HARMONIC NUMBERS ARE LIMITED BETWEEN 2 AND 6, THEN BETWEEN 5 AND 9,\n; AND FINALLY BETWEEN 8 AND 12.\n\n;*****************************************   HEADER   **********************************************\n\n\n\n\n instr         1\n\n iamp          =         ampdb(p4)               \n ifunc         =         p6\n k1            linen     iamp,.03,p3,.03         \n a1            oscili    k1,p5,ifunc             \n               outs      a1,a1\n endin  \n \n \n \n\n</CsInstruments>\n<CsScore>\n\nf1 0 512 10 0 .5 .5 .5 0 0                                       ;HARMONICS 2,3,4\nf2 0 512 10 0 0 .5 .5 .5 0                                       ;HARMONICS 3,4,5\nf3 0 512 10 0 0 0 .5 .5 .5                                       ;HARMONICS 4,5,6\nf4 0 512 10 0 0 0 0 .5 .5 .5 0 0                                 ;HARMONICS 5,6,7\nf5 0 512 10 0 0 0 0 0 .5 .5 .5 0                                 ;HARMONICS 6,7,8\nf6 0 512 10 0 0 0 0 0 0 .5 .5 .5                                 ;HARMONICS 7,8,9 \nf7 0 512 10 0 0 0 0 0 0 0 .5 .5 .5 0 0                           ;HARMONICS 8,9,10\nf8 0 512 10 0 0 0 0 0 0 0 0 .5 .5 .5 0                           ;HARMONICS 9,10,11\nf9 0 512 10 0 0 0 0 0 0 0 0 0 .5 .5 .5                           ;HARMONICS 10,11,12 \n\n\n;***********************   MASKING SPECTRAL AND VIRTUAL PITCH  *********************************\n\n;****************************   RANDOM HARMONICS 2 - 6   ***************************************\nt 0 75\n;   p1      p2      p3    p4       p5       p6     \n;  inst    strt    isus   amp     ifc      ifunc     \n    i1     1.00     .5    76      261.63     1\n    i1     2.00     .5    76      329.63     3\n    i1     3.00     .5    76      293.66     1\n    i1     4.00     .75   76      196.00     2\n    i1     5.50     .5    76      261.63     2\n    i1     6.50     .5    76      293.66     3\n    i1     7.50     .5    76      329.63     1\n    i1     8.50     .75   76      261.63     2\n    i1    10.00     .5    76      329.63     1\n    i1    11.00     .5    76      293.66     3\n    i1    12.00     .5    76      261.63     2\n    i1    13.00     .75   76      196.00     2\n    i1    14.50     .5    76      261.63     1\n    i1    15.50     .5    76      293.66     1\n    i1    16.50     .5    76      329.63     3\n    i1    17.50     .75    76     261.63     1\ns\n;****************************   RANDOM HARMONICS 5 - 9   ***************************************\n    \nt 0 75\n;   p1      p2      p3    p4       p5       p6     \n;  inst    strt    isus   amp     ifc      ifunc     \n    i1     1.00     .5    76      261.63     4\n    i1     2.00     .5    76      329.63     6\n    i1     3.00     .5    76      293.66     5\n    i1     4.00     .75   76      196.00     5\n    i1     5.50     .5    76      261.63     5\n    i1     6.50     .5    76      293.66     4\n    i1     7.50     .5    76      329.63     6\n    i1     8.50     .75   76      261.63     4\n    i1    10.00     .5    76      329.63     5\n    i1    11.00     .5    76      293.66     6\n    i1    12.00     .5    76      261.63     4\n    i1    13.00     .75   76      196.00     4\n    i1    14.50     .5    76      261.63     5\n    i1    15.50     .5    76      293.66     4\n    i1    16.50     .5    76      329.63     6\n    i1    17.50     .75    76     261.63     6\ns    \n;****************************   RANDOM HARMONICS 8 - 12   ***************************************\n    \nt 0 75\n;   p1      p2      p3    p4       p5       p6     \n;  inst    strt    isus   amp     ifc      ifunc     \n    i1     1.00     .5    76      261.63     9\n    i1     2.00     .5    76      329.63     7\n    i1     3.00     .5    76      293.66     7\n    i1     4.00     .75   76      196.00     8\n    i1     5.50     .5    76      261.63     9\n    i1     6.50     .5    76      293.66     7\n    i1     7.50     .5    76      329.63     8\n    i1     8.50     .75   76      261.63     8\n    i1    10.00     .5    76      329.63     9\n    i1    11.00     .5    76      293.66     7\n    i1    12.00     .5    76      261.63     9\n    i1    13.00     .75   76      196.00     7\n    i1    14.50     .5    76      261.63     7\n    i1    15.50     .5    76      293.66     8\n    i1    16.50     .5    76      329.63     9\n    i1    17.50     .75    76     261.63     7\n    \ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifq\t\t=\t\tcpspch(p4+4) using interpolating oscillator and exponential segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from sone.orc and sone.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t441\nksmps\t=\t\t100\nnchnls\t=\t\t2\n\n;-------SONETEST.ORC--------------------------- \n\n\n\t\tinstr 1\n\nifq\t\t=\t\tcpspch(p4+4)\nisones\t=\t\tp5\nasones\texpseg\t.1, .1, isones, p3-.11, isones, .01, .1\nares1\tpow\t\tasones/ifq, 3, 1\nires2\tpow\t\t10, -12\nadb\t\t=\t\t10 * ((log((ares1) / ires2)) /log(10))\nampenv\t=\t\tampdb(adb)\namp\t\t=\t\tampenv\nasig\toscili\tamp, ifq, 1\n\n\t\touts\tasig, asig\n\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n;------------sonetest.sco------------------------------- \n\nf1 0 1024 10 1\n\n;\tsones --- !According to the equation these should sound equally loud!\ni1 0 1 1.00 2.816\ni1 1.5 1 2.00\ni1 3 1 3.00\ni1 4.5 1 4.00\ni1 6 1 5.00\ni1 7.5 1 6.00\ni1 9 1 7.00\ni1 10 1 8.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and delay effect and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 01_01_1.orc and 01_01_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr   = 441\nksmps =100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     01_01_1.ORC\n; synthesis: simple(01),\n;            basic instrument(01)\n;            general purpose(1)\n; coded:     jpg 8/93\n\n\n\ninstr  1; ****************************************************************\nidur  =  p3\niamp  =  p4\nifq1  =  p5\nif1   =  p6 ; free choice of envelope\nif2   =  p7 ; and waveform\n\n   a2  oscili  iamp, 1/idur, if2\n   a1  oscili  a2, ifq1, if1\n       out     a1\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     01_01_1.SCO\n; coded:     jpg 8/93\n\n; This instrument demonstrates a substantial number of\n; different waveforms & envelopes\n\n; GEN functions **********************************************************\n; waveforms\nf1 0  2048 10   1                                      ; fundamental\nf2 0  1024 10   1 .2 .05                               ; three harmonics\nf3 0  2048 10   1 .2 .08 .07                           ; four harmonics\nf4 0  2048 10   1 .4 .2 .1 .1 .05                      ; six harmonics\nf5 0  1024 10   1 .5 .3  .2 .15 .12                    ; six harmonics\nf6 0  1024 10   1 1 1 .3 .3 .3 1 1 1 1                 ; ten harmonics\nf7 0  1024 10   1 2 3 4 5 6 5 4 3 2 1                  ; eleven harmonics\nf8 0  1024 10   1 2 3 5 8 13 1 2 3 5 8 13              ; fibonacci twice\nf9 0  1024 10   .8 1.2 1.2 .8 .8 1.2 1.3 .8 .1 .3 0    ; ca. alternating\n\nf10 0 1024  9   1 1 0  1 1 .05                         ; phase diff\nf11 0 1024  9   10 1 0 11 1 0 12 1 0 13 1 0 14 1 0     \n                15 1 0 16 1 0 17 1 0 18 1 0 19 1 0     ; start at 10th\n; linear waveforms\nf41 0 1024  7   0 128 10 256 10 256 -10 256 -10 128 0  ; 50% pulse(square)\nf42 0 1024  7   0 6   1 500  1 12 -1   500 -1  6 0     ; steeper square\nf43 0 1024  7   0 6   1 200  1 12 -1   800 -1  6 0     ; 20% pulse\nf44 0 1024  7   0 6   1 100  1 12 -1   900 -1  6 0     ; 10% pulse\nf45 0 1024  7   0 500 1 24 -1 500 0                    ; sawtooth\nf46 0 1024  7   0 256 1 256 0 256 -1 256 0             ; triangle\n\n; linear envelopes\nf32 0 512  7 0 12 .99 500 0\nf33 0 512  7 0 1 0 49 .2 90  .6 40 .99 25  .9 45 .5  50 .25 50 .12 50 .06\n             50 .02 62 0\nf34 0 512  7 0 1 0 49 .2 100 .6 50 .99 150 .2 162 0\nf35 0 512 -7 0 1 0 49 .2 200 .5 100 .2 162 0           ; softer \nf36 0 512  7 0 1 0 79 .5 60  .5 20 .99 120 .4 140 .6 92 0\nf37 0 512  7 0 1 0 149 .4 200 .99 50 .5 50 .24 62 0\n\n; exponential envelopes: post-normalized (2**10)\nf51 0  513   5  1024  512 1                                  ; plucked\nf52 0  513   5  1 12 1024 500 1                              ; percussive\nf53 0  513   5  1 256 1024 256 1                             ; 50/50\nf54 0  513   5  1 100 250 100 500 100 750 100 1024 112 1     ; five steps\nf55 0  513   5  1 100 1024 100 1 112 1 100 1024 100 1        ; twin peaks\nf56 0  513   5  1 1 100 20 12 1024 400 1                     ; 1/5th delay\nf57 0  513   5  1 1 125 20 12 1024 375 1                     ; 1/4th delay\nf58 0  513   5  1 500 1024 12 1                              ; reverse f52\nf59 0  513   5  1 48 1024 300 900 164 1                      ; moderate\n\n; score ******************************************************************\n;                           wav   env\n;   start  idur  iamp ifq1  if1   if2\ni1    0     2    8000  440   1     59     ; carriers with percussive env\ni1    6     .    .     .     2     .\ni1   12     .    .     .     3     .\ni1   18     .    .     .     4     .\ni1   24     .    .     .     5     .\ni1   30     .    .     .     6     .\ni1   36     .    .     .     7     .\ni1   42     .    .     .     8     .\ni1   48     .    .     .     9     .\n\ni1   54     .    .     220  10     .\ni1   60     .    .     .    11     .     ; periodicity and pitch\n \ni1   66     .    .     .    41     .     ; linear waveforms\ni1   72     .    .     .    42     .\ni1   78     .    .     .    43     .\ni1   84     .    .     .    44     .\ni1   90     .    .     .    45     .\ni1   96     .    .     .    46     .\n   \ns\n\ni1   10     2    8000  330   42    32     ; linear envelopes\ni1   16     .    .     .     .     33\ni1   22     .    .     .     .     34\ni1   28     .    .     .     .     35\ni1   34     .    .     .     .     36\ni1   40     .    .     .     .     37\n\ns\n\ni1   10     2    8000  444   42    51     ; exponential envelopes\ni1   16     .    .     .     .     52\ni1   22     .    .     .     .     53\ni1   28     .    .     .     .     54\ni1   34     .    .     .     .     55\ni1   40     .    .     .     .     56\ni1   46     .    .     .     .     57\ni1   52     .    .     .     .     58\ni1   58     .    .     .     .     59\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ; INITS using interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from depletion.orc and depletion.sco\n; Original files preserved in same directory\n\nsr                  =         44100\nkr                  =         441\nksmps               =         100\nnchnls              =         1\n\n;; DEPLETION.ORC\n;; GRANT CHU COVELL\n;; gcovell@c-bridge.com\n;; 15 MARCH 1999\n\n\ninstr 1\n     ;; INITS\n     idur           =         p3\n     iseed          =         p4\n     seed           iseed\n     iorigtbllen    =         10\n     iftable        =         21\n     itablelen      =         iorigtbllen\n     iindex         =         0\n     \n     core:               \n          \n          ;; SELECT VALUE\n          iindex         unirand        ( itablelen ) \n          iindex         =              int ( iindex ) \n          ielement       table          iindex, iftable\n\n          ;; DEPLETE VALUE FROM TABLE\n          ioldindex      =              iindex              \n          loop:     \n               ival      table          ioldindex + 1, iftable\n                         tableiw        ival, ioldindex, iftable           \n               ioldindex =              ioldindex + 1\n                         \n               if ioldindex < itablelen goto loop           \n          itablelen      =              itablelen - 1\n\n          ;; FOR TESTING\n          ;; iidxval1    =              0\n          ;; testtable:\n          ;;   ival1     table          iidxval1, iftable\n          ;;             print          iidxval1, ival1, iindex\n          ;;   iidxval1  =              iidxval1 + 1\n          ;;   if iidxval1 < itablelen  goto testtable \n          \n          ;; THE TIMOUT LOOP  \n          timout         0, idur / iorigtbllen, do\n               \n    reinit core\n     \n     do:       \n          kshape         linen     1, 0.1, idur / iorigtbllen, 0.1\n          a1             oscili    5000, ielement, 1\n                         out       a1 * kshape\n\n     rireturn\n          \nendin\n\n</CsInstruments>\n<CsScore>\n;; DEPLETION.SCO\n;; GRANT CHU COVELL\n;; gcovell@c-bridge.com\n;; 15 MARCH 1999\n\n\nf1 0 8193 10 1\nf21 0 17 -2 400 410 420 430 440 450 460 470 480 490\n\ni1 0 20 2\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifreq       =         p5 using pitch and arpeggio and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from CircularPitch.orc and CircularPitch.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n;=========================================================================\n;           RISSET'S ENDLESS GLISSANDO INSTRUMENT              \n;   THIS CLASSIC INSTRUMENT IS DESCRIBED IN DODGE'S COMPUTER MUSIC TEXT  \n;                                             \n;  CODED BY PROFESSOR RUSSELL PINKSTON - UNIVERSITY OF TEXAS AT AUSTIN       \n;=========================================================================;\n; FROM THE CSOUND ANTHOLOGY OF INSTRUMENTS, ORCHESTRAS, AND SCORES (1990) ;\n;           COMPILED AND EDITED BY DR. RICHARD BOULANGER           ;\n;=========================================================================;\n\n\ninstr          1\n   ifreq       =         p5\n\nif      (ifreq >= 20)    igoto          continue\n\n   ifreq       =         cpspch(p5)               ;P5 MUST BE IN OCT.PCH\ncontinue:                                         ;ALL \"KAMP\" TABLES USE SOUNDIN.10\n   kphase      phasor    1/p6                     ;A FLOATING POINT BELL SHAPED\n   kenvlp      linen     p4,1,p3,1                ;FUNCTION SPECIFIED BY RISSET:\n                                                  ;EXP(-4.8283*(1-COS(2*PI*(X-255.5)/511)))\n   kamp1       table     kphase,3,1,0,1\n   kcps1       tablei    kphase,4,1,0,1\n   asig1       oscili    kamp1,kcps1*ifreq,1\n\n   kamp2       table     kphase+.1,3,1,0,1\n   kcps2       tablei    kphase+.1,4,1,0,1\n   asig2       oscili    kamp2,kcps2*ifreq,1\n\n   kamp3       table     kphase+.2,3,1,0,1\n   kcps3       tablei    kphase+.2,4,1,0,1\n   asig3       oscili    kamp3,kcps3*ifreq,1\n\n   kamp4       table     kphase+.3,3,1,0,1\n   kcps4       tablei    kphase+.3,4,1,0,1\n   asig4       oscili    kamp4,kcps4*ifreq,1\n\n   kamp5       table     kphase+.4,3,1,0,1\n   kcps5       tablei    kphase+.4,4,1,0,1\n   asig5       oscili    kamp5,kcps5*ifreq,1\n\n   kamp6       table     kphase+.5,3,1,0,1\n   kcps6       tablei    kphase+.5,4,1,0,1\n   asig6       oscili    kamp6,kcps6*ifreq,1\n\n   kamp7       table     kphase+.6,3,1,0,1\n   kcps7       tablei    kphase+.6,4,1,0,1\n   asig7       oscili    kamp7,kcps7*ifreq,1\n\n   kamp8       table     kphase+.7,3,1,0,1\n   kcps8       tablei    kphase+.7,4,1,0,1\n   asig8       oscili    kamp8,kcps8*ifreq,1\n\n   kamp9       table     kphase+.8,3,1,0,1\n   kcps9       tablei    kphase+.8,4,1,0,1\n   asig9       oscili    kamp9,kcps9*ifreq,1\n\n   kamp10      table     kphase+.9,3,1,0,1\n   kcps10      tablei    kphase+.9,4,1,0,1\n   asig10      oscili    kamp10,kcps10*ifreq,1\n\n   asum        =         asig1+asig2+asig3+asig4+asig5+asig6+asig7+asig8+asig9+asig10\n        \n               out       asum*kenvlp\n\nendin\n\n</CsInstruments>\n<CsScore>\n; GENERATE 240 SECONDS OF ENDLESS GLISSANDO WITH A 120 SECOND CYCLE TIME\n; FUNCTION 03 READS SOUNDIN.10 THE BELL SHAPED CURVE SPECIFIED BY RISSET IN DODGE\n\nf01     0       512    10     1                                  ;SINE WAVE\nf02     0       513     7     0       512    1                   ;EXPON CURVE\nf03     0       4096    1    10       0      6          0        ;SOUNDIN.10 - BELL SHAPED CURVE\nf04     0       513     5     1       512    .0009766            ;EXPON CURVE         \n\n; p1      p2    p3    p4       p5          p6\n;instr   strt   dur   amp    ifreq    phasor period \n i01      0    120   10000     5000        120\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iroll          =         600 using echo effect and interpolating oscillator and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from echo2.orc and echo2.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =        \t2\n\n\ngilp1          =         1/10\ngilp2          =         1/23\ngilp3          =         1/41\n; f1 0 8192 10 1\n; i1 0 dur echotime gain file skip\ninstr          1\niroll          =         600\nigain          =         p5\niecho          =         p4\nisp1           =         .237\nisp2           =         .1892\nidev           =         .005\nibase          =         idev*2.0\nidk            =         .015\n\naclean         linseg    1,p3-idk,1,idk,0\nain1,ain2      soundin   p6,p7\nain1           =         ain1 * igain\nain2           =         ain2 * igain\nalop1          tone      ain1, iroll\nalop2          tone      ain2, iroll\nadel1          delay     ain1, iecho\nadel2          delay     ain2, iecho\namix1          =         alop1+adel1\namix2          =         alop2+adel2\nadel1          oscili    idev, isp1, 1\nadel2          oscili    idev, isp2, 1\nadel1          =         adel1 + ibase\nadel2          =         adel2 + ibase\naddl1          delayr    .5\natap1          deltapi   adel1\n               delayw    amix1\naddl2          delayr    .5\natap2          deltapi   adel2\n               delayw    amix2\n\naleft          =         atap1 + amix1\naright         =         atap2 + amix2\n               outs      aleft*aclean, aright*aclean\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\ni1 0 2.0 0.131362 .5 1 0\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 01_01_2a.orc and 01_01_2a.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 2 \n\n; ************************************************************************\n; ACCCI:     01_01_2A.ORC\n; timbre:    from reed towards plucked chord, effect of changing envelopes\n; synthesis: simple(01), basic instrument(01)\n; source:    #250 Reedy and Plucked Tones, Choral Effect, Risset(1969)\n; coded:     jpg 8/93\n\n\ninstr 1; *****************************************************************\nidur  =  p3\niamp  =  p4\nifq1  =  p5\nif2   =  p6 ; controlling timbre with different envelopes\n\n         a2     oscili   iamp, 1/idur, if2\n         a1     oscili   a2,   ifq1,   11   ; 11 = complex weighted\n                outs     a1, a1\n\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     01_01_2A.SCO\n; timbre:    from reed towards plucked chord, effect of changing envelopes\n; source:    250.orc Reedy and Plucked Tones, Choral Effect, Risset(1969)\n; coded:     jpg 8/93\n\n\n; GEN functions **********************************************************\n; waveform\nf11 0  1024  10  .4 .3 .35 .5 .1 .2 .15 0 .02 .05 .03  ;  complex waveform\n                                             ;  with 10 weighted harmonics\n; envelopes\nf31 0  512   7  0 86  1    85 .8  85  .6 85 .7 85 .6 86 0\nf32 0  512   7  0 86   .7  85 .8  85 1   85 .5 85 .5 86 0\nf33 0  512  -7  0  1   .6 109 .9 150  .7 100 .8 80 .6 72 0\nf34 0  512  -7  0  1   .5 209 .6 230  .5 72 0 ; <minus> inhibits rescaling\nf35 0  512  -7  0  1   .6  19 .9 300 .3 192 0\nf36 0  512  -7  0  1   .5  39 .8 260 .2 212 0\n\n\n; score ******************************************************************\n\n; section 1      one single voice\n\n;   start  idur  iamp  ifq1  if2\n\ni1   1      .5   8000   486   31           ; 6 different envelopes\ni1   1.5    .25  .      615\ni1   +      .25  .      648\ni1   +      .5   .      729\ni1   +      .25  .      972\ni1   +      .    .      890\ni1   +      .    .      820\ni1   +      .    .      729\ni1   +      .5   .      820\ni1   +     2.0   .      729\n\ns\ni1   1      .5   8000   486   32\ni1   1.5    .25  .      615\ni1   +      .25  .      648\ni1   +      .5   .      729\ni1   +      .25  .      972\ni1   +      .    .      890\ni1   +      .    .      820\ni1   +      .    .      729\ni1   +      .5   .      820\ni1   +     2.0   .      729\n\ns\n\ni1   1      .5   8000   486   33\ni1   1.5    .25  .      615\ni1   +      .25  .      648\ni1   +      .5   .      729\ni1   +      .25  .      972\ni1   +      .    .      890\ni1   +      .    .      820\ni1   +      .    .      729\ni1   +      .5   .      820\ni1   +     2.0   .      729\n\ns\n\ni1   1      .5   8000   486   34\ni1   1.5    .25  .      615\ni1   +      .25  .      648\ni1   +      .5   .      729\ni1   +      .25  .      972\ni1   +      .    .      890\ni1   +      .    .      820\ni1   +      .    .      729\ni1   +      .5   .      820\ni1   +     2.0   .      729\n\ns\n\ni1   1      .5   8000   486   35\ni1   1.5    .25  .      615\ni1   +      .25  .      648\ni1   +      .5   .      729\ni1   +      .25  .      972\ni1   +      .    .      890\ni1   +      .    .      820\ni1   +      .    .      729\ni1   +      .5   .      820\ni1   +     2.0   .      729\n\ns\n\ni1   1      .5   8000   486   36\ni1   1.5    .25  .      615\ni1   +      .25  .      648\ni1   +      .5   .      729\ni1   +      .25  .      972\ni1   +      .    .      890\ni1   +      .    .      820\ni1   +      .    .      729\ni1   +      .5   .      820\ni1   +     2.0   .      729\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and chorus effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 01_01_2c.orc and 01_01_2c.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     01_01_2C.ORC\n; timbre:    reed-like: choral effect\n; synthesis: simple(01),\n;            basic instrument(01), chorus(2C)\n; source:    #250 Reedy Tones, Choral Effect Risset(1969)\n; coded:     jpg 8/93\n\n\ninstr 1; *****************************************************************\nidur  =  p3\niamp  =  p4\nifq1  =  p5\nif2   =  p6\n\n         a2     oscili   iamp, 1/idur, if2\n         a1     oscili   a2,   ifq1,   11     ; 11 = weighted complex\n                out      a1\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     01_01_2C.SCO\n; coded:     jpg 8/93\n\n\n; GEN functions **********************************************************\n; waveforms\nf11 0  1024  10  .4 .3 .35 .5 .1 .2 .15 0 .02 .05 .03;  complex waveform\n                                                     ;  with 10 harmonics\n; envelopes\nf31 0  512   7  0 86  1    85 .8  85  .6 85 .7 85 .6 86 0   ; smooth: reed\n\n; score ******************************************************************\n\n;  3 voices choral effect\n\n;   start  idur  iamp  ifq1  if2\n\ni1   1.0    .5  12000   486   31\ni1   1.03   .5   5000   492\ni1   1.08   .5   3000   473\n\ni1   1.5    .25 12000   615\ni1   1.53   .25  5000   610\ni1   1.58   .25  3000   629\n\ni1   1.75   .25 12000   648\ni1   1.78   .25  5000   660\ni1   1.83   .25  3000   625\n\ni1   2      .5  12000   729\ni1   2.03   .5   5000   719\ni1   2.08   .5   3000   741\n\ni1   2.5    .25 12000   972\ni1   2.53   .25  5000   990\ni1   2.58   .25  3000   950\n\ni1   2.75   .25 12000   890\ni1   2.78   .25  5000   880\ni1   2.83   .25  3000   884\n\ni1   3      .25 12000   820\ni1   3.03   .25  5000   830\ni1   3.08   .25  3000   809\n\ni1   3.25   .25 12000   820\ni1   3.28   .25  5000   835\ni1   3.33   .25  3000   807\n\ni1   3.5    .5  12000   820\ni1   3.53   .5   5000   848\ni1   3.58   .5   3000   800\n\ni1   4     2    12000   729\ni1   4.03  1.99  5000   722\n\ni1   4.08  1.92  3000   743\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a wgstring sound using string synthesis and ring modulation and waveguide synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from wgstring.orc and wgstring.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t22050\nksmps\t=\t\t2\nnchnls\t=\t\t2\n\n; WGSYNTH BY HANS MIKELSON 1998\n;----------------------------------------------------------------------------------\n; THIS WAVE GUIDE SYNTHESIS INSTRUMENT SOUNDS SOMEWHAT LIKE A BOWED STRING UNDER\n; CERTAIN CONDITIONS.  IT CONSISTS OF A TWO DELAY LINES WHOSE OUTPUTS ARE FILTERED\n; , COMPRESSED AND THEN FEDBACK INTO THE DELAY LINES.  THE FILTERED OUTPUT IS ALSO\n; INVERTED AND CROSS FEDBACK INTO THE OTHER DELAY LINE.\n;----------------------------------------------------------------------------------\n\n\n\t\tzakinit \t30,30\n\n       \tinstr  10\nidur    \t=        \tp3                      \t\t\t\t\t\t\t\t\t; Duration\niamp    \t=        \tp4                      \t\t\t\t\t\t\t\t\t; Amplitude\nitim1   \t=        \t1000/cpspch(p9)*(1+p12) \t\t\t\t\t\t\t\t\t; Time of primary waveguide delay\nitim2   \t=        \titim1*p10               \t\t\t\t\t\t\t\t\t; Time of secondary waveguide delay\niacct   \t=        \titim1*p6/4              \t\t\t\t\t\t\t\t\t; Accent peak\nifco1   \t=        \tp7/itim1*15000          \t\t\t\t\t\t\t\t\t; Cut off frequency is based on pitch & modifier\nifco2   \t=        \tifco1*p8                \t\t\t\t\t\t\t\t\t; Fco2 is based on Fco1 & modifier\nifdbk   \t=        \t(1+p5/sqrt(itim1))/2    \t\t\t\t\t\t\t\t\t; Lower notes get more feedback sqrt(frequency)\nipan    \t=        \tp11                     \t\t\t\t\t\t\t\t\t; Pan 0=left, .5=center, 1=right\nidec    \t=        \tp13*sqrt(itim1)         \t\t\t\t\t\t\t\t\t; Decay rate lower notes get longer decay to start\n                                         \t\t\t\t\t\t\t\t\t; the waveguide oscillating sooner.\nitabc   \t=        \t5                       \t\t\t\t\t\t\t\t\t; Compressor table\naflt1   \tinit     \t0                       \t\t\t\t\t\t\t\t\t; Used for feedback so they need to be inited here\naflt2   \tinit     \t0\nkamp    \tlinseg   \t0, .005, iamp, idur-.01, iamp, .005, 0   \t\t\t\t\t; Declick envelope\nkfdbk \tlinseg   \tifdbk, .02, iacct*ifdbk, idec+.005, ifdbk, idur-.025-idec, ifdbk ; Feedback accent envelope\nkampr   \toscili   \t1, cpspch(p9)/2.01, 2                  \t\t\t\t\t\t; Pulses of noise are used to stimulate\nasig    \trand     \t2000*kampr                             \t\t\t\t\t\t; The wave guide\nkfco1   \tlinseg   \tifco1, .05, ifco1*1.2, .1, ifco1*.8, p3-.15, ifco1*.4  \t\t; A frequency accent envelope\nkramp2  \tlinseg   \t0, .1, 0, .1, 1, idur-.2, 1  \t\t\t\t\t\t\t\t; Fade in the vibrato\nklfo2   \toscili   \tkramp2, 1.5, 1               \t\t\t\t\t\t\t\t; LFO2 adds some complexity to the vibrato rate\nklfo1   \toscili   \t.004*kramp2, 6+klfo2, 1      \t\t\t\t\t\t\t\t; LFO1 is for the vibrato\nktim1    \t=       \titim1*(1+klfo1)              \t\t\t\t\t\t\t\t; Generate delay times\nktim2    \t=       \titim2*(1+klfo1)\n; COMPRESSORS\nkarms1   \trms      \taflt1                      \t\t\t\t\t\t\t\t; Find rms level\nkampn1   \t=        \tkarms1/60000               \t\t\t\t\t\t\t\t; Normalize rms level 0-1.\nkcomp1   \ttablei   \tkampn1,itabc,1,0           \t\t\t\t\t\t\t\t; Look up compression value in table\nkarms2   \trms      \taflt2                      \t\t\t\t\t\t\t\t; Find rms level\nkampn2   \t=        \tkarms2/60000               \t\t\t\t\t\t\t\t; Normalize rms level 0-1.\nkcomp2   \ttablei   \tkampn2,itabc,1,0           \t\t\t\t\t\t\t\t; Look up compression value in table\n; VARIABLE DELAY WAVEGUIDES\nadel1   \tvdelay    asig+kfdbk*aflt1*kcomp1-kfdbk*aflt2*kcomp2, ktim1, itim1*2 \t\t; Loop 1\nadel2   \tvdelay    asig-kfdbk*aflt1*kcomp1+kfdbk*aflt2*kcomp2, ktim2, itim2*2 \t\t; Loop 2\naflt1   \tbutterlp \tadel1, kfco1                \t\t\t\t\t\t\t\t; Filter before feeding back\naflt2   \tbutterlp \tadel2, ifco2\naout    \tbutterhp \taflt1/8, 40                 \t\t\t\t\t\t\t\t; Take off the DC offset  I have seen noise related\n                                             \t\t\t\t\t\t\t\t; to this opcode on an SGI\n        \touts     \taout*sqrt(ipan)*kamp, aout*sqrt(1-ipan)*kamp  \t\t\t\t; Pan, Declick and output\n        \tendin\n\n</CsInstruments>\n<CsScore>\n; SCORE\n;-----------------------------------------------------------------\n; WGSYNTH BY HANS MIKELSON\n; C SCALES\n;-----------------------------------------------------------------\nf1 0 1024 10  1\nf2 0 1024 -7  0 62 1 62 0 900 0\nf5 0 1024 8  1 256 1 256 .8 256 .2 256 .01\n;----------------------------------------------------------------------------------\n;    STA   DUR  AMP  FDBACK  ACCENT  FCO1  FCO2  PITCH1  PITCH2  PAN  DETUNE DECAY\n;----------------------------------------------------------------------------------\ni10  0.0   1    2    .5      1.5     4     1     5.00    1.3333  .5   .000   .02\ni10  +     1    .    .       .       .     .     5.02    .       .    .      .\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Replaces natural envelope with new shape using interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Re-Envelope.orc and Re-Envelope.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 1\n\n\ninstr    1 ; Replaces natural envelope with new shape\n\nilevl    = p4                          ; Output level\nishape   = p5                          ; Envelope shape\ninumbr   = p6                          ; Number of envelope repeats\nkenv     init 0                        ; Initialize output\nkslope   init 0                        ; Initialize slope\n\nain      soundin  \"Sample1\"\n\nkin      downsamp  ain                 ; Convert to kr\nkin      mirror  kin, 0, 32767         ; Full wave rectify\nif       kin > kenv goto up            ; See if input exceeds output...\nkslope   = kslope + .1                 ; Increment slope\nkenv     = kenv - kslope               ; Ramp down\ngoto     out\nup:\nkslope   = 0                           ; Reset slope\nkenv     = kin                         ; Ramp up\nout:\nkenv1    oscili  1, inumbr/p3, ishape  ; Envelope\naout     = ain*(32767/kenv)            ; De-envelope\nout      aout*ilevl*kenv1              ; Re-envelope, level and output\n\nendin\n</CsInstruments>\n<CsScore>\nf01 0 1025 7 1 1024 1            ; De-Envelope\nf02 0 1025 7 1 1024 0            ; Linear fade out\nf03 0 1025 7 0 1024 1            ; Linear fade in\nf04 0 1025 7 0 512 1 512 0       ; Linear fade in/out\nf05 0 1025 5 1 1024 .001         ; Exponential fade out\nf06 0 1025 5 .001 1024 1         ; Exponential fade in\nf07 0 1025 5 .001 512 1 512 .001 ; Exponential fade in/out\nf08 0 1025 9 .5 1 0              ; 1/2 Sine\nf09 0 17 21 1                    ; Random 1\nf10 0 65 21 1                    ; Random 2\n\n;     Strt  Leng  Levl  Shape Repeat\ni01   0.00  1.50  1.00  03    01\ni01   2.00  .     .     02    .\ni01   4.00  .     .     05    08\ni01   6.00  .     .     08    01\ni01   8.00  .     .     09    .\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i14       =          2.7 using FOF formant synthesis and interpolating oscillator and FOF formant synthesis with glissando", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fof2.orc and fof2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n; fof2.orc\n; AN EXAMPLE OF VOCAL IMITATION WITH VOWEL CHANGES AND PITCH CHANGES\n\n\n          instr 1\ni14       =          2.7\ni15       =          .3\ni16       =         .7\ni17       =         .78\ni18       =         .18\n; FORMANT FUNCTIONS\nk40       linseg    325 ,p3*.3 ,600 ,p3*.1 ,370 ,p3*.6 ,238\nk41       linseg    700 ,p3*.3 ,1050 ,p3*.1 ,1450 ,p3*.6 ,1741\nk42       linseg    2550 ,p3*.3 ,2400 ,p3*.1 ,2300 ,p3*.6 ,2450\nk43       linseg    2850 ,p3*.3 ,2700 ,p3*.1 ,2500 ,p3*.6 ,2900\nk44       linseg    3100 ,p3*.3 ,3100 ,p3*.1 ,3100 ,p3*.6 ,4000\nk36       linseg    p8 ,p14-.1 ,p8 ,.1 ,p9 ,p15-.1 ,p9 ,.1 ,p10 ,p16-.1 ,p10 ,.1 ,p11 ,p17-.1,p11 ,.1 ,p12 ,p18-.1 ,p12 ,.1 ,p13 ,p19 ,p13 ; FUNDAMENTAL\ni1        =         1/(i14+i15+i16+i17+i18)  ; AMPLITUDE FACTOR FOR ALL FORMANTS\na1        linseg    0 ,.01 ,p4 ,p3-(.2+.01) ,p4 ,.2 ,0 ; ENV\n; VIBRATO AND RANDOM VARIATIONS OF FUNDAMENTAL\nk2        oscili     .02   ,5.1  ,1          ; VIBRATO\na2        randi     .01*.5  ,1/.05           ; FUNDAMENTAL FREQUENCY JITTER\na3        randi     .01*.5  ,1/.1111         ;\na4        randi     .01*.5  ,1/1.2186        ;\na5        =    k36* (1+k2) * (1+a2+a3+a4)    ; ADJUSTED FUNDAMENTAL FREQUENCY\n; FOF UNIT-GENERATORS\n;                   AMP FUND FMA..B OCT TEX  BAND DEBAT ATTEN OLPS FA..B DUR\na9        fof       i14 ,a5 ,k40  ,0 ,77   ,.003 ,.01 ,.007 ,10 ,1  ,1 ,p3\na10       fof       i15 ,a5 ,k41  ,0 ,88   ,.003 ,.01 ,.007 ,10 ,1  ,1 ,p3\na11       fof       i16 ,a5 ,k42  ,0 ,122  ,.003 ,.01 ,.007 ,10 ,1  ,1 ,p3\na12       fof       i17 ,a5 ,k43  ,0 ,127  ,.003 ,.01 ,.007 ,10 ,1  ,1 ,p3\na13       fof       i18 ,a5 ,k44  ,0 ,137  ,.003 ,.01 ,.007 ,10 ,1  ,1 ,p3\n; SUMMATION OF FORMANTS AND OUTPUT\na15       =         a9+a10+a11+a12+a13\n          outs      (a15*i1*a1)/2 ,(a15*i1*a1)/2\n          endin\n\n\n\n\n</CsInstruments>\n<CsScore>\n\nf1   0    4096 10   1\nt    0    60\ni1 0 7.5 25000 100 .01 .007 130 190 200 110 100 190 1.5 .7 2.9 .2 .2 2.\nf0 .01\ne\n\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 01_01_3.orc and 01_01_3.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     01_01_3.ORC\n; synthesis: simple(01),\n;            basic instrument(01)\n;            complex waveform created with GEN 10\n;            envelope are line functions taken from GEN 07 tables\n; source:    #300  Linear  and  Exponential  Decay  Experiments,\n;            Risset(1969)\n; coded:     jpg 8/93\n\n\ninstr  1; ****************************************************************\nidur  =  p3\niamp  =  p4\nifq1  =  p5\nif1   =  p6\nif2   =  p7\n\n   a2  oscili  iamp, 1/idur, if2   ;if2   chooses lin or exp decay\n   a1  oscili  a2, ifq1, if1       ;if1   chooses waveform\n       out     a1\n\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     01_01_3.SCO\n; source:    #300 Linear and Exponential Decay Experiments,\n;            Risset(1969)\n; coded:     jpg 8/93\n\n\n; GEN functions **********************************************************\n; waveforms\nf31 0  1024  7   0 128 10 256 10 256 -10 256 -10 128 0    ;ca. square wave\nf11 0  1024 10   1 .5 .3  .2 .15 .12               ;six weighted sinusoids\nf12 0  1024 10   1 .2 .05                        ;three weighted sinusoids\n\n; envelopes\nf32 0  8192   7  1      8192  0\nf51 0  8193   5  8192   8192  1\n\n; score ******************************************************************\n\n;   start  idur  iamp  ifq1  if1   if2\ni1    1     2    8000   440   11   32       ; middle\ni1    4     .    .      .     .    51\n\ni1    7     4    .      .     .    32       ; long\ni1   12     .    .      .     .    51\n\ni1   17     1    .      .     .    32       ; short\ni1   19     .    .      .     .    51\n\ni1   21     .51  .      .     .    32       ; shorter\ni1   23     .    .      .     .    51\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and delay effect and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 20_70_1.orc and 20_70_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     20_70_1.ORC\n; synthesis: FM(20),\n;            single-carrier, complex wave FM (70)\n;            string-like(1)\n; source:    Schottstaedt(1977), adapted from string.orc: MIT(1993)\n; coded:     jpg 10/93\n\n\n\ninstr 1; *****************************************************************\nidur    = p3\niamp    = p4\nifqc    = cpspch(p5)      ;S = fc +- ifm1 +- kfm2 +- lfm3\nifm1    = ifqc\nifm2    = ifqc*3\nifm3    = ifqc*4\nindx1   = 7.5/log(ifqc)    ;range from ca 2 to 1\nindx2   = 15/sqrt(ifqc)    ;range from ca 2.6 to .5\nindx3   = 1.25/sqrt(ifqc)  ;range from ca .2 to .038\n\nirise   = p6\nidec    = p7\ninoisdur= .1\nivibdel =  1\nivibwth = p9\nivibrte = p10\n\n        kvib    init    0\n                timout  0,ivibdel,transient   ; delay vibrato ivibdel sec\n        kvbctl  linen   1,.5,idur-ivibdel,.1  ; vibrato control envelope\n        krnd    randi   .0075,2               ; random deviation vib width\n        kvib    oscili  kvbctl*ivibwth+krnd,ivibrte*kvbctl,1   ; generator\n\ntransient:\n                timout  inoisdur,p3,continue  ; execute for .2 secs only\n        ktrans  linseg  1,inoisdur,0,1,0      ; transient envelope\n        anoise  randi   ktrans*iamp/4,.2*ifqc ; attack noise...\n        attack  oscili  anoise,2000,1         ; ...centered around 2kHz\n\n\ncontinue:\n        amod1   oscili  ifm1*(indx1+ktrans),ifm1,1\n        amod2   oscili  ifm2*(indx2+ktrans),ifm2,1\n        amod3   oscili  ifm3*(indx3+ktrans),ifm3,1\n        asig    oscili  iamp,(ifqc+amod1+amod2+amod3)*(1+kvib),1\n        asig    linen   asig+attack,irise,idur,idec\n                out     asig\n\n\n\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     20_70_1.SCO\n; notes:     melody taken from \"Kennedy's Children\" by E. Reitz\n; coded:     jpg 10/93\n\n\n; GEN functions **********************************************************\n\n; carrier\nf1     0       512     10      1\n\n\n; score ******************************************************************\nt 0 40\n\n;    start    idur      iamp    ipch irise idec  ivibdel ivibwth ivibrte\ni1      0      .5       8000    7.01  .2    .2     .75     .03     5.5\ni1      .8      .5       7000    6.09  .2    .2     .75     .03     5.5\ni1      1.2     2.5       6000    7.01  .2    .2     .75     .03     5.5\ne\nji1     1.2    1.5      12000    6.08  .2    .2     .75     .03     5.5\ni1     3.0     .5       8000    6.07  .2    .2     .75     .03     5.5\ni1     3.4    1.5      16000    7.06  .2    .2     .75     .03     5.5\ni1     4.8     .5      14000    7.07  .2    .2     .75     .03     5.5\ni1     5.2     .5      10000    7.03  .2    .2     .75     .03     5.5\ni1     5.6     .5       8000    6.11  .2    .2     .75     .03     5.5\ni1     6.0    1.5       8000    7.02  .2    .2     .75     .03     5.5\ni1     7.4     .5      12000    6.10  .2    .2     .75     .03     5.5\ni1     7.8    2        12000    7.01  .2    .2     .75     .03     5.5\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifreq     =         p5 using interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from risbel.orc and risbel.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n;=========================================================================; \n;    Risset's Endless Glissando Instrument\n;________________________________________________________________________ ; \n; This classic instrument is described in Dodge's Computer Music text ;\n;=========================================================================; \n; Coded by Professor Russell Pinkston - University of Texas at Austin ; \n;=========================================================================; \n; from the Csound Anthology of Instruments, Orchestras, and Scores (1990) ; \n;    compiled and edited by Dr. Richard Boulanger ;\n;=========================================================================; \n\n\n          instr 1\nifreq     =         p5\n\n          if        (ifreq >= 20) igoto continue\n\nifreq     =    cpspch(p5)                    ; p5 MUST BE IN OCT.PCH\ncontinue:                                    ; All \"kamp\" TABLES USE SOUNDIN.21\nkphase    phasor    1/p6                     ; A FLOATING POINT BELL SHAPED\nkenvlp    linen     p4,1,p3,1                ; FUNCTION SPECIFIED BY RISSET:\n                                             \n; exp(-4.8283*(1-cos(2*pi*(x-255.5)/511))) \nkamp1     table     kphase,3,1,0,1\nkcps1     tablei    kphase,4,1,0,1\nasig1     oscili    kamp1,kcps1*ifreq,1\n\nkamp2     table     kphase+.1,3,1,0,1\nkcps2     tablei    kphase+.1,4,1,0,1\nasig2     oscili    kamp2,kcps2*ifreq,1\n\nkamp3     table     kphase+.2,3,1,0,1\nkcps3     tablei    kphase+.2,4,1,0,1\nasig3     oscili    kamp3,kcps3*ifreq,1\n\nkamp4     table     kphase+.3,3,1,0,1\nkcps4     tablei    kphase+.3,4,1,0,1\nasig4     oscili    kamp4,kcps4*ifreq,1\n\nkamp5     table     kphase+.4,3,1,0,1\nkcps5     tablei    kphase+.4,4,1,0,1\nasig5     oscili    kamp5,kcps5*ifreq,1\n\nkamp6     table     kphase+.5,3,1,0,1\nkcps6     tablei    kphase+.5,4,1,0,1\nasig6     oscili    kamp6,kcps6*ifreq,1\n\nkamp7     table     kphase+.6,3,1,0,1\nkcps7     tablei    kphase+.6,4,1,0,1\nasig7     oscili    kamp7,kcps7*ifreq,1\n\nkamp8     table     kphase+.7,3,1,0,1\nkcps8     tablei    kphase+.7,4,1,0,1\nasig8     oscili    kamp8,kcps8*ifreq,1\n\nkamp9     table     kphase+.8,3,1,0,1\nkcps9     tablei    kphase+.8,4,1,0,1\nasig9     oscili    kamp9,kcps9*ifreq,1\n\nkamp10    table     kphase+.9,3,1,0,1\nkcps10    tablei    kphase+.9,4,1,0,1\nasig10    oscili    kamp10,kcps10*ifreq,1\n\nasum      =         asig1+asig2+asig3+asig4+asig5+asig6+asig7+asig8+asig9+asig10 \n\n          out  asum*kenvlp\n\n          endin\n\n</CsInstruments>\n<CsScore>\n;the sco file\n; Generate x seconds (ip2)of endless glissando with a x second cycle time (ip5)\n; Function 03 reads soundin.21 the bell shaped curve specified by Risset in Dodge\n\nf1   0    512  10   1\nf2   0    513   7   0    512  1\nf3   0    2048 1    21   0    6  0\nf4   0    513   5   1    512  .0009766\n\ni1   0    60   10000 5000 120\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator and interpolating random and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 10_02_2.orc and 10_02_2.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:        10_02_2.ORC\n; timbre:       noise spectra, control bandwidth(ifqr), center freq(ifq1)\n; synthesis:    Random Number Generation(10)\n;               RANDI(02)\n;               LINEN envelope on RANDI ring modulates an oscillator (2)\n; source:       Dodge(1985), p.92\n; coded:        jpg 8/92\n\n\ninstr 1; *****************************************************************\nidur = p3\niamp = p4\nifq1 = p5\nif1  = p6\nifqr = p7\nirise = .2\nidec  = .3\n\n   kenv  linen    iamp, irise, idur, idec      ; envelope\n   kran  randi    kenv, ifqr                   ; random numbers\n   a1    oscili   kran, ifq1, if1              ; applied to amplitude slot\n         out      a1\n\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     10_02_2.SCO\n; coded:     jpg 10/93\n\n\n; GEN functions **********************************************************\nf1  0  512  10  1       ;sinus\n\n\n; score ******************************************************************\n\n;    idur  iamp   ifq1  if1 ifqr ;control of pitched-ness in % can be added\n\ni1  0  1   8000  400    1   80\ni1  2  1   .     .      .   40\ni1  4  1   .     .      .   20\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for WAVESHAPER DRUM (P145) using interpolating oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 428.ORC and 428.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\ninstr          1\n; WAVESHAPER DRUM (P145)\ni1             =         1/p3\ni2             =         cpspch(p4)\n;\n;SCALING FACTOR CODE\n;\na1             oscili    p5,i1,2\na2             oscili    a1,i2,3\n;\n; AUDIO CODE\n;\na3             linseg    1,.04,0,p3-.04,0\na4             oscili    a3,i2*.7071,3\n;\n;\n; INLINE CODE FOR TRANSFER FUNCTION:\n; f(x)=1+.841x-.707x**2-.595x**3+.5x**4+.42x**5-.354x**6-.279x**7+.25x**8+.21x**9\n;\na5             =         a4*a4\na6             =         a5*a4\na7             =         a5*a5\na8             =         a7*a4\na9             =         a6*a6\na10            =         a9*a4\na11            =         a10*a4\na12            =         a11*a4\n;\na13            =         1+.841*a4-.707*a5-.595*a6+.5*a7+.42*a8-.354*a9-.297*a10+.25*a11+.21*a12\n;\na14            =         a13*a2\n;\nout            a14\n;\nendin\n\n</CsInstruments>\n<CsScore>\nf 1 0 512 7 1 102 0 410 0\nf 2 0 512 7 0 16 .2 16 .38 16 .54 16 .68 16 .8 16 .9 16 .98 8 1 2 1 6 .96 64 .8313 32 .5704 80 .164 48 .0521 44 .0159 20 .0092 64 .005 32 0\nf 3 0 512 9 1 1 0\n\n  i1 0.000  .2  6.00 20000\n  i1 +        .      6.05 20000\n  i1 .        .      7.00 20000\n  i1 .        .      7.05 20000\n  i1 .        .      8.00 20000\n  i1 .        .      8.05 20000\n  i1 .        .      9.00 20000\n  i1 .        .      8.07 20000\n  i1 .        .      8.00 20000\n  i1 .        .      7.07 20000\n  i1 .        .      7.00 20000\n  i1 .        .      6.07 20000\n  i1 .        .      6.00 20000\n\ns\nf0 1\ns\n\n  i1 0.000 0.750 6.00 20000\n  i1 0.750 0.250 6.05 20000\n  i1 1.000 1.000 7.00 20000\n  i1 2.000 0.200 7.05 20000\n  i1 2.200 0.200 8.00 20000\n  i1 2.400 0.200 8.05 20000\n  i1 2.600 0.200 9.00 20000\n  i1 2.800 0.200 8.07 20000\n  i1 3.000 2.000 8.00 20000\n  i1 5.000 0.250 7.07 20000\n  i1 5.250 0.250 7.00 20000\n  i1 5.500 0.250 6.07 20000\n  i1 5.750 0.250 6.00 20000\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         1/150 using interpolating oscillator and delay effect and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Apf.orc and Apf.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         44100\nksmps     =         1\nnchnls    =         1\n\n          zakinit   2,2\n\n          instr 1\nidur      =         1/150\n          timout    0,idur,noise\n          turnoff\nnoise:\nkamp      linen     1,idur/5,idur,idur/5\nanoise    rand      kamp\n; ANOISE OSCILI KAMP,150,1; SEE HOW A PNF CORRUPTS\n; AN INNOCENT SINE WAVE ;-)\n\n          zaw       anoise,0\n          endin\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\ninstr 2; ALLPASS DISPERSIVE FILTER\n;CODED BY JOSEP M COMAJUNCOSAS /FEBÂ´98\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\niatt1     =         .998                                    ; attenuation\nifco1     =         -.058                                   ; freq dependent decay\nistiff    =         p4\n\naback     init      0\n\nanoise    zar       0\nainput1   =         anoise + aback\naout1     delay     ainput1,1/150\nalpf      filter2   aout1*iatt1, 1, 1, 1+ifco1, ifco1\nalpf2     biquad    alpf,istiff,1,0,1,istiff,0\n\nainput2   =         alpf2\naback     delay     ainput2,1/150\n\n          out       aout1*10000\n          zacl      0,2\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 10 1\n\ni1 0 1 \ni2 0 5.5 -.3\ns\ni1 0 1 \ni2 0 5.5  .32\ns\ni1 0 1 \ni2 0 5.5  -.55\ns\ni1 0 1 \ni2 0 5.5 -.35 \ns\ni1 0 1 \ni2 0 5.5  .15\ns\ni1 0 1 \ni2 0 5.5 .05\ns\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1        oscil3    20000,p4,p5 using interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from cubic3.orc and cubic3.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n\n;UNIFIED ORC/SCO FILE EXAMPLE WITH REALTIME FLAGS\n; COMPARATION OF DIFFERENT TYPES OF INTERPOLATIONS\n\n\n          instr     1\n\na1        oscil3    20000,p4,p5\na2        oscili    20000,p4,p6\n          outs      a1,a2\n\n          endin\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n</CsInstruments>\n<CsScore>\nf1 0 4 10 1       ;SINE OF FOUR POINTS TO VIEW INTERPOLATION QUALITY.\nf2 0 2 9 1 1 90   ;SINE OF TWO POINTS TO VIEW INTERPOLATION QUALITY.\n\n; FOUR CICLES OF TWO-POINT SINE WITH CUBIC INTERPOLATION\nf3 0 8192 8 0 512 1 1024 -1 1024 1 1024 -1 1024 1 1024 -1 1024 1 1024 -1 512 0\n; FOUR CICLES OF TWO-POINT SINE WITH CUBIC SPLINE INTERPOLATION\nf4 0 8192 8 0 512 1 1024 -1 1024 1 1024 -1 1024 1 1024 -1 1024 1 1024 -1 512 0 \n\ni1 0   1 440 1 1\ni1 1.5 1 440 2 2\ni1 3   1 30 2 3\n\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i2             =         cpspch(p4) using drum sound and interpolating oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from WAVEDRUM.ORC and WAVEDRUM.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n;FIGURE 4.30\n;WAVESHAPER DRUM\n\n\ninstr          1\ni2             =         cpspch(p4)\n;\n; SCALING FACTOR CODE\n;\na1             linseg    0,.01,.5,.03,.5,.02,.7,p3-.21,.7,.15,1\n;\n; AUDIO CODE\n;\na2             linseg    0,.04,1,.02,.7,p3-.23,.6,.15,0\na4             oscili    a2,p4,1\n;\n;\n;\n; IN LINE CODE FOR TRANSFER FUNCTION:\n; f(x)         =         .03667*x^12+.02791*x^11-.09983*x^10-.07557*x^9+.11342*x^8+.08414*x^7\n;                        -.06547*x^6-.02972*x^5+.06308*x^4+.02060*x^3-.00508*x^2+.03052*x\na5             =         a4*a4\na6             =         a5*a4\na7             =         a5*a5\na8             =         a7*a4\na9             =         a6*a6\na10            =         a9*a4\na11            =         a10*a4\na12            =         a11*a4\na14            =         a12*a5                        ;x^11\n;\na13            =         20.48*a14-43.52*a12+12.8*a11+40.32*a10-16*a9-17.44*a8+7.2*a7+3.6*a6\na13            =         -1.8*a5-1.27*a4-.3+a13\n;\na1             =         a13*a1*p5\n;\nout            a1\n;\nendin\n\n</CsInstruments>\n<CsScore>\nf 1 0 512 9 1 1 0\n  i1 0.000 0.500 6.05 15000\n  i1 0.500 0.250 6.02 15000\n  i1 0.750 1.000 6.04 15000\n  i1 1.750 0.250 7.01 15000\n  i1 2.000 0.250 7.09 15000\n  i1 2.250 0.250 7.01 15000\n  i1 2.500 0.250 7.04 15000\n  i1 2.750 2.000 8.03 15000\n  i1 4.750 0.500 9.08 15000\n  i1 5.250 0.500 9.05 15000\n  i1 5.750 0.500 9.05 15000\n  i1 6.250 0.500 6.11 15000\n  i1 6.750 0.250 6.07 15000\n  i1 7.000 1.000 6.04 15000\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for -------------Stochastic---Granulator-------- using interpolating oscillator and granular synthesis and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from stoc.orc and stoc.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n          instr 1\n\n;-------------Stochastic---Granulator-------- \n;--------BEZKO<bezkorom@ere.umontreal.ca>----- \n;----------------------1996------------------ \n                                             \niseed     =         .8765                    ; CHANGE THIS!!\n\n; STOCHASTIC GENERATORS, DON'T TOUCH!!!\n\nkpdur     rand      1,iseed*.243\nkpfreq    rand      1,iseed*.734\nkpint     rand      1,iseed*.452\nkppan     rand      1,iseed*.634\nkpjou     rand      1,iseed*.824\nkpphs     rand      1,iseed*.951\n\n; VARIABLES, REPLACE P BY WHATEVER\n\nkgfs      =         p4                       ; MAXIMUM FREQUENCY (Hz)\nkgfi      =         p5                       ; MINIMUM FREQUECY (Hz)\n                                             \nkgvs      =         p6                       ; MAXIMUM SPEED(GRAIN/SECOND) (Hz) \nkgvi      =         p7                       ; MINIMUM SPEED (Hz)\nkgis      =         p8                       ; (MAXIMUM INTENSITY) (0-->16000)\nkgii      =         p9                       ; (MINIMUM INTENSITY)\nkgps      =         p10                      ; (PANNING SPREAD, 0=CENTER 1=RANDOM PANNING) \nkgjs      =         p11                      ; (DENSITY (PROBABILITY THAT THE GRAIN IS PLAYED 0->1) \n\n; MATHEMATICAL CONVERSIONS DON'T TOUCH!!!! \n\n\nkidur     =         1/exp(log((kgvi))+abs((kpdur))*(log((kgvs))-log((kgvi)))) \n\nchicoutimi:\n\n\n\nidur      =         int(i(kidur)*kr)/kr\nifreq     =         exp(log(i(kgfi))+abs(i(kpfreq))*(log(i(kgfs))-log(i(kgfi)))) \niint      =         exp(log(i(kgii))+abs(i(kpint))*(log(i(kgis))-log(i(kgii)))) \nipan      =         i(kppan)\nijou      =         abs(i(kpjou))\nidens     =         i(kgjs)\niphs      =         abs(i(kpphs))\nispa      =         i(kgps)\niamp      =         (ijou < idens?iint:0)\n\n          timout    0,abs(idur),montreal\n\n          reinit    chicoutimi\n\n\nmontreal:\naind      line      0,idur,1\naenv      tablei    aind,2,1,0,0\nasig      oscili    iamp*aenv,ifreq,1,iphs\n\n          outs      asig*(1+ipan*ispa),asig*(1-ipan*ispa) \n\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1;wave of the grain\nf2 0 8192 20 2;envelope of the grain\n\n\ni1 0 2 100 10 100 20 16000 10000 1 .5\ni1 2 2 100 500 100 200 16000 1000 0 .1\ni1 4 4 200 1000 50 300 8000 7000 1 1\ni1 6 2 300 400 90 100 8000 100 0 .8\ni1 8 2 1000 10000 50 100 16000 100 1 .2\ni1 10 2 10 20000 200 300 16000 15000 0 .3 \ni1 12 2 800 1000 10 20 16000 10000 1 .5\ni1 14 2 400 500 100 200 16000 1000 0 .1\ni1 16 4 300 1500 150 300 8000 7000 1 1\ni1 18 2 100 700 75 100 8000 100 0 .8\ni1 20 2 9000 10000 300 400 16000 100 1 .2 \ni1 22 2 10000 20000 50 500 16000 15000 0 .3 \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Linear ADSR envelope with k-rate slopes using interpolating oscillator and ADSR envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from ADSR-Lin.orc and ADSR-Lin.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 4410\nksmps    = 10\nnchnls   = 1\n\n\ninstr    1 ; Linear ADSR envelope with k-rate slopes\n\nilevl    = p4*32767                ; Output level\nkatk     = (p5 < .001 ? .001 : p5) ; Attack time >1ms\nkdec     = (p6 < .001 ? .001 : p6) ; Decay time >1ms\nksusl    init p7                   ; Sustain level\nkrel     = (p8 < .001 ? .001 : p8) ; Release time >1ms\nksus     = p3 - katk - kdec - krel\nkrate    = 1/(katk + kdec + ksus + krel)\nk1       = katk\nk2       = k1 + kdec\nk3       = k2 + ksus\nk4       = k3 + krel\naramp    oscili  k4, krate, 1\na1       limit  aramp, 0, k1\na2       limit  aramp, k1, k2\na3       limit  aramp, k2, k3\na4       limit  aramp, k3, k4\naramp    = .25*(a1*(1/katk) + (a2-k1)*(1/kdec) + (a3-k2)*(1/ksus) + (a4-k3)*(1/krel))\nadsr1    tablei  aramp, 2, 1\nadsr2    tablei  aramp, 3, 1\nadsr3    = adsr1*ksusl + adsr2*(1 - ksusl)\nout      adsr3*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 -7 0 8192 1               ; Ramp\nf2 0 8193 -7 0 2048 1 4096 1 2048 0 ; ADSR(Sustain=1)\nf3 0 8193 -7 0 2048 1 2048 0 4096 0 ; ADSR(Sustain=0)\n\n;     Strt  Leng  Levl  AtkT  DecT  SusL  RelT\ni01   0.00  1.00  1.00  0.10  0.25  0.00  0.10\ni01   1.00  1.00  1.00  0.00  0.50  0.75  0.25\ni01   2.00  1.00  1.00  0.00  0.25  0.00  0.25\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ,6,7,8 using interpolating oscillator and reverb effect and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from kimCOMB.ORC and kimCOMB.SCO\n; Original files preserved in same directory\n\nsr                  =         44100\nkr                  =         4410\nksmps               =         10\nnchnls              =         2\n\n;HAEYON KIM 10:54AM  5/02/1989\n;COMB TRUMPET ORCHESTRA\n;***************************************************;\n;P4=AMP P5=PCH P6=LOOP # PER SECOND P7=REVERB TIME  ;\n;P8=LOOP DATA SPACE                                 ;\n;***************************************************;\n\n\ninstr               5,6,7,8\n\n        ilpt        =         1/p6\n        irvt        =         p7\n        istor       =         p8\n        iamp        =         p4\n        ifc1        =         cpspch(p5)\n        ifc2        =         ifc1*6\n        ifm         =         ifc1\n        index1      =         2.66*ifm\n        iratio      =         1.8/2.6\n\n;VIBRATO AND PORTAMENTO\n\n        kvbct       linen     1,.02,1,.01         ;VIBRATO\n        kvib        oscili    kvbct*.007,7,1      ;VIBRATO GENERATOR\n        kvib        =         1+kvib\n        krand       randi     .007,125            ;RANDOM DEVIATION IN VIB WIDTH\n        krand       =         1+krand\n        kport       linen     .03,.01,1,.01       ;PORTAMENTO\n        kport       =         1+kport\n        kresult     =         kvib*krand*kport\nperform:\n        kamp        linseg    0,.03,index1,p3-0.3-.04,index1,0.05,0,1,0\n        amod        oscili    kamp,ifm*kresult,6\n        kamp        linseg    0,.0003,iamp,p3-0.3-.04,iamp,0.05,0,1,0\n        acar1       oscili    kamp,amod+ifc1*kresult,6\n        kamp        linseg    0,.0003,iamp*.2,p3-0.3-.04,iamp*.2,0.05,0,1,0\n        acar2       oscili    kamp,(amod*iratio)+(ifc2*kresult),6\n        asig1       =         acar1+acar2\ncontinue:\n        acomb       comb      asig1,irvt,ilpt,istor\n        adelsig     delay     asig1,ilpt\n        abal        balance   acomb,adelsig\n                    ;display  adelsig,.005\n                    ;display  acomb,.005\n                    ;display  abal,.005\n        kamp        linen     1,0.2,p3,0.05\n        asig2       =         abal*kamp\n                    outs      asig2,asig2\n                    endin\n\n</CsInstruments>\n<CsScore>\n;HAEYON KIM  10:57AM  5/02/1989\n;COMB TRUMPET SCORE\n;TEMPO = 60 BEATS/MIN\nt00    60\n; SIMPLE SINE FUNCTION\nf01     0       512    10       1\n;EXPONENTIAL RISE AND DECAY\nf02     0       513     5       .0001    256     1       256     .0001\n; TRIANGULAR WAVE\nf06     0       512     10      1   0 .111   0  .04    0  .02    0  .012\n; SAWTOOTH WAVE\nf07     0       512     10      1  .9  .8   .7   .6   .5  .4   .3   .2   .1\n; SQUARE WAVE\nf08     0       512     10      1   0   .3   0   .2    0  .14    0 .111\n; NARROW PULSE\nf09     0       512     10      1 1  1   1 .7 .5 .3 .1\n;====================================================================;\n;                Comb Trumpet Instrument                             ;\n;  p4=amp, p5=pch, p6=loop # per second, p7=reverb time, p8=lds      ;\n;====================================================================;\n;p1     p2      p3      p4      p5      p6      p7      p8\n\ni05     0       1.1     1000    7.00    50      2       0\ni05     0.1     1.0     2000    7.01    .       .       .\ni05     0.2     .8      4000    7.02    .       .       .\ni05     0.3     1.0     .       7.03    .       .       .\ni05     0.4     .8      .       7.04    200     .       .\ni05     0.5     .       .       7.05    .       1       .\ni05     0.6     .       .       7.04    .       .       .\ni05     0.7     .       .       7.03    .       .       .\ni05     0.8     .       .       7.02    .       .       .\ni05     0.9     .       .       7.01    1000    .       .\ni05     1.0     .       .       7.00    .       .       .\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iroll     =         600 using echo effect and interpolating oscillator and reverb effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Echo1.orc and Echo1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\ngilp1     =         1/10\ngilp2     =         1/23\ngilp3     =         1/41\n\n\n          instr 1\niroll     =         600\nigain     =         p5\niecho     =         p4\nisp1      =         .237\nisp2      =         .1892\nidev      =         .005\nibase     =         idev*2.0\nidk       =         .015\n\naclean    linseg    1,p3-idk,1,idk,0\nain1      soundin   p6,p7\nain1      =         ain1 * igain\nalop      tone      ain1, iroll\nadel      delay     ain1, iecho\namix      =         alop+adel\nadel1     oscili    idev, isp1, 1\nadel2     oscili    idev, isp2, 1\nadel1     =         adel1 + ibase\nadel2     =         adel2 + ibase\naddl1     delayr    .5\natap1     deltapi   adel1\natap2     deltapi   adel2\n          delayw    amix\namid      =         amix * .7\naleft     =         atap1 + amid\naright    =         atap2 + amid\n          outs      aleft*aclean, aright*aclean\n          endin\n\n</CsInstruments>\n<CsScore>\n; mono -> stereo reverb with feedback echo\n\nf1 0 8192 10 1\n\n;     dur echotime gain file skip\n\ni1  0 7   .2       1.0   5    0\ns\ni1  0 7   .5       1.0   5    0\ns\ni1  0 7    1       1.0   5    0\ns\ni1  0 7    2       1.0   5    0\ns\ni1  0 7   .05      1.0   5    0\ns\ni1  0 7   .005     1.0   5    0\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 01_01_2b.orc and 01_01_2b.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     01_01_2B.ORC\n; timbre:    plucked instrument\n; synthesis: simple(01),\n;            basic instrument(01)\n; source:    #250 Reedy and Plucked Tones, Choral Effect, Risset(1969)\n; coded:     jpg 8/93\n\n\n\ninstr 1; *****************************************************************\nidur  =  p3\niamp  =  p4\nifq1  =  p5\nidec  =  p6\n;                       ;xamp, irise,idur,idec,   ifn,   iatss,iatdec\n         a1     envlpx   iamp,  .01,idur,idec,    51,     1  ,  .01\n         a1     oscili   a1, ifq1, 11\n                out      a1\nendin\n\n\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     01_01_2B.SCO\n; source:    #250 Reedy and Plucked Tones, Choral Effect, Risset(1969)\n; coded:     jpg 8/93\n\n\n; GEN functions **********************************************************\n; waveforms\nf11 0  1024  10  .4 .3 .35 .5 .1 .2 .15 0 .02 .05 .03;  complex waveform\n                                                     ;  with 10 harmonics\n; envelope\nf51 0  513   5    .00195  512  1 ;   exponential increase over 512 points\n\n; score ******************************************************************\n;  start  idur  iamp  ifq1    idec\ni1  1      .5   8000   486      2 ;   plucked sounds\ni1  1.5    .25  .      615      1\ni1  1.75   .25  .      648\n\ni1  2     1     .      486      2\ni1  2     1     .      615      1.5\ni1  2     1     .      729\n\ni1  2.5    .5   .     1944      .9\ni1  2.75   .5   .     1728\ni1  3      .25  .     1640      .5\ni1  3.25   .25  .     1458\ni1  3.5    .5   .     1640      1\n\ni1  4      .9   .     1458      1\ni1  4      .8   .     1230\ni1  4      .9   .      731\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur\t\t=\t\tp3 using interpolating oscillator and Butterworth lowpass filter and Butterworth bandpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pink3.orc and pink3.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n\n\t\tinstr\t1\nisc\t\t=\t\t.6\t; SCALAR CHOSEN TO MATCH WHITE NOISE AMPLITUDE\n\nksw\t\texpseg\t30, p3, 18000 ; SWEEP FILTER FROM 30HZ TO 18000HZ\n\na1\t\tinit\t\t0\na2\t\tinit\t\t0\na3\t\tinit\t\t0\na4\t\tinit\t\t0\na5\t\tinit\t\t0\na6\t\tinit\t\t0\nanz\t\ttrirand\t30000\t\t\t\t; WHITE NOISE\na1\t\t=\t\t.997 * a1 + isc * .029591 * anz\na2\t\t=\t\t.985 * a2 + isc * .032534 * anz\na3\t\t=\t\t.950 * a3 + isc * .048056 * anz\na4\t\t=\t\t.850 * a4 + isc * .090579 * anz\na5\t\t=\t\t.620 * a5 + isc * .108990 * anz\na6\t\t=\t\t.250 * a6 + isc * .255784 * anz\napnz\t\t=\t\ta1 + a2 + a3 + a4 + a5 + a6\napnz\t\tbutterbp\tapnz, ksw, ksw * .05\t; SWEEP FILTER\napnz\t\tbutterlp\tapnz, ksw * 1.2\t\t; REMOVE HIGH END WHICH PASSES THRU\n\t\touts\t\tapnz, apnz\n\t\tendin\n\n\n; PINK NOISE INSTRUMENT\n\t\tinstr\t2\n\nidur\t\t=\t\tp3\niamp\t\t=\t\tp4\nifqc\t\t=\t\tcpspch(p5)\nifctab\t=\t\tp6\niswrt\t=\t\tp7\nifade\t=\t\tp8\n\n;krtrmp\texpseg\t.025, .1*idur, 2, .8*idur, 2, .1*idur, .025\n;krtrmp\texpseg\t.025, idur, 2\n\nkmaxf\texpseg\t.1, idur, 1\n\n;kfc1\toscili\t1, iswrt/idur*krtrmp, ifctab\nkfc1\t\toscili\t1, iswrt/idur, ifctab\nkfc\t\t=\t\tkfc1*kmaxf*ifqc/440\n\nisc\t\t=\t\t.6\t ; SCALAR CHOSEN TO MATCH WHITE NOISE AMPLITUDE\n\nanz\t\ttrirand\tiamp*20  ; WHITE NOISE\n\na1\t\tpareq\tanz, 625,\t  .7079, .707, 2\na3\t\tpareq\ta1,\t2500,  .3548, .707, 2\na5\t\tpareq\ta3,\t10000, .1778, .707, 2\napnz\t\tpareq\ta5,\t20000, .1259, .707, 2\n\napnz1\tbutterbp\tapnz, kfc, kfc*.05\t\t\t; SWEEP FILTER\napnz2\tbutterbp\tapnz, kfc*1.502, kfc*.05\t\t; SWEEP FILTER\napnz3\tbutterbp\tapnz, kfc*1.498, kfc*.05\t\t; SWEEP FILTER\n\nadclk\tlinseg\t0, ifade, 1, idur-2*ifade, 1, ifade, 0\n\n\t\touts\t\t(apnz1+apnz2)*adclk, (apnz1+apnz3)*adclk\n\n\t\tendin\n\n; NOISE INSTRUMENT\n\t\tinstr\t3\n\nidur\t\t=\t\tp3\niamp\t\t=\t\tp4\nifqc\t\t=\t\tcpspch(p5)\nifade\t=\t\t.1\n\nisc\t\t=\t\t.6\t ; SCALAR CHOSEN TO MATCH WHITE NOISE AMPLITUDE\n\nkfqc\t\texpseg\tifqc, idur, 100*ifqc\n\nanz\t\trand\t\tiamp\t  ; WHITE NOISE\nkdi\t\toscili\t.1, 4, 1\n;anz\t\tdiskin\t1, .7\n\na1\t\tpareq\tanz, ifqc*(1+kdi),\t .1, 20, 1\n\nadclk\tlinseg\t0, ifade, iamp, idur-2*ifade, iamp, ifade, 0\n\n\t\touts\t\ta1*adclk/1000, a1*adclk/1000\n\n\t\tendin\n\n; NOISE INSTRUMENT\n\t\tinstr\t4\n\nidur\t\t=\t\tp3\niamp\t\t=\t\tp4\nifqc\t\t=\t\tcpspch(p5)\nires\t\t=\t\tp6\nivol\t\t=\t\tp7\n\t\nisc\t\t=\t\t.6\t \t; SCALAR CHOSEN TO MATCH WHITE NOISE AMPLITUDE\n\nkfqc1   \texpseg\t100*ifqc, idur, ifqc\nkfqc2   \texpseg\t95*ifqc, idur, ifqc*1.05\nkfqc3   \texpseg\t105*ifqc, idur, ifqc*.95\n\nanz\t \trand\t\tiamp\t    ; WHITE NOISE\na1\t \tpareq\tanz, kfqc1, ivol, ires, 1\na2\t \tpareq\tanz, kfqc2, ivol, ires, 1\na3\t \tpareq\tanz, kfqc3, ivol, ires, 1\n\nadclk \texpseg\t1, .002, iamp, idur-.002, 1\n\n\t \touts\t\t(a1+a2)*adclk/3000, (a1+a3)*adclk/3000\n\n\t \tendin\n\n; NOISE DRUM\n\t  \tinstr\t5\n\nidur\t  \t=\t\tp3\t\t   ; DURATION\niamp\t  \t=\t\tp4\t\t   ; AMPLITUDE\nifqc\t  \t=\t\tcpspch(p5)   ; PITCH\niq\t  \t=\t\tp6\t\t   ; QUALITY FACTOR\nivol\t  \t=\t\tp7\t\t   ; VOLUME\niton\t  \t=\t\tp8\t\t   ; DRUM TONE\n\nkfqcl   \texpseg\t .1*ifqc, idur, 2*ifqc  \t; LOW SHELF FREQUENCY\nkq\t   \texpseg\t .1*ifqc, idur, 2*ifqc  \t; EQ SWEEP QUALITY\nkfqch   \texpseg\t 10*ifqc, idur, .5*ifqc \t; HIGH SHELF FREQUENCY\n\nanz\t \trand\t\tiamp\t    \t\t\t\t; WHITE NOISE\n\na1\t \tpareq\tanz, kfqcl, ivol,\tiq, 1 \t; LOW SHELF SWEEP\na2\t \tpareq\tanz, ifqc,  1/ivol, kq, 0 \t; EQ SWEEP\na3\t \tpareq\tanz, kfqch, ivol,\tiq, 2 \t; HIGH SHELF SWEEP\n\nadclk \texpseg\tiamp/10, .002, iamp, idur-.002, iamp/100 ; AMPLITUDE ENVELOPE\n\naout\t \t=\t\t((a2-a3)+(a2-a1)*iton) \t; MIX IT UP TO SOUND NICE\n\n\t \touts\t\taout*adclk/5000, aout*adclk/5000 ; SCALE, AMP AND OUTPUT\n\n\t \tendin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\n\n;  Sta  Dur  Amp   Pitch  Q    Cut/Boost  Tone\ni5 0    .2   9000  8.00   1    .1         1\ni5 +    .    .     8.00   1    .1         4\ni5 .    .    .     8.00   1    .1         6\ni5 .    .    .     8.00   1    .1         10\ni5 .    .2   9000  8.00   1    .1         8\ni5 .    .    .     7.00   1    .1         6\n;  Sta  Dur  Amp   Pitch  Q    Cut/Boost  Tone\ni5 .1   .2   9000  8.00   1    .1         1\ni5 +    .    .     8.00   1    .1         4\ni5 .    .    .     8.00   1    .1         6\ni5 .    .    .     8.00   1    .1         10\n;  Sta  Dur  Amp   Pitch  Q    Cut/Boost  Tone\ni5 .55  .1   9000  8.00   1    .1         1\ni5 +    .    .     8.00   1    .1         4\ni5 .    .    .     8.00   1    .1         6\ni5 .    .    .     8.00   1    .1         10\n\n\n;  Sta  Dur  Amp   Pitch  Q    Cut/Boost  Tone\ni5 1.6  .2   9000  8.00   1    .1         1\ni5 +    .    .     8.00   1    .1         4\ni5 .    .    .     8.00   1    .1         6\ni5 .    .    .     8.00   1    .1         10\ni5 .    .2   9000  8.00   1    .1         8\ni5 .    .    .     7.00   1    .1         6\n;  Sta  Dur  Amp   Pitch  Q    Cut/Boost  Tone\ni5 1.7  .2   9000  8.00   1    .1         1\ni5 +    .    .     8.00   1    .1         4\ni5 .    .    .     8.00   1    .1         6\ni5 .    .    .     8.00   1    .1         10\n\n;  Sta  Dur  Amp   Pitch  Q    Cut/Boost  Tone\ni5 3.2  .2   9000  8.00   1    .1         1\ni5 +    .    .     8.00   1    .1         4\ni5 .    .    .     6.07   1    .1         4\ni5 .    .    .     6.00   1    .1         2\ni5 .    .2   9000  8.00   1    .1         1\ni5 .    .    .     7.00   10   .2         4\ni5 .    .    .     6.07   20   .3         6\ni5 .    .    .     6.00   40   .4         10\n\ni5 4.1  .2   9000  7.00   10   .2         4\ni5 +    .    .     6.07   20   .3         6\ni5 .    .    .     6.00   40   .4         10\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur\t\t=\t\tp3 using interpolating oscillator and Butterworth lowpass filter and Butterworth bandpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pink2.orc and pink2.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n\n\t\tinstr\t1\nisc\t\t=\t\t.6\t; SCALAR CHOSEN TO MATCH WHITE NOISE AMPLITUDE\n\nksw\t\texpseg\t30, p3, 18000 ; SWEEP FILTER FROM 30HZ TO 18000HZ\n\na1\t\tinit\t\t0\na2\t\tinit\t\t0\na3\t\tinit\t\t0\na4\t\tinit\t\t0\na5\t\tinit\t\t0\na6\t\tinit\t\t0\nanz\t\ttrirand\t30000\t\t\t\t; WHITE NOISE\na1\t\t=\t\t.997 * a1 + isc * .029591 * anz\na2\t\t=\t\t.985 * a2 + isc * .032534 * anz\na3\t\t=\t\t.950 * a3 + isc * .048056 * anz\na4\t\t=\t\t.850 * a4 + isc * .090579 * anz\na5\t\t=\t\t.620 * a5 + isc * .108990 * anz\na6\t\t=\t\t.250 * a6 + isc * .255784 * anz\napnz\t\t=\t\ta1 + a2 + a3 + a4 + a5 + a6\napnz\t\tbutterbp\tapnz, ksw, ksw * .05\t; SWEEP FILTER\napnz\t\tbutterlp\tapnz, ksw * 1.2\t\t; REMOVE HIGH END WHICH PASSES THRU\n\t\touts\t\tapnz, apnz\n\t\tendin\n\n\n; PINK NOISE INSTRUMENT\n\t\tinstr\t2\n\nidur\t\t=\t\tp3\niamp\t\t=\t\tp4\nifqc\t\t=\t\tcpspch(p5)\nifctab\t=\t\tp6\niswrt\t=\t\tp7\nifade\t=\t\tp8\n\n;krtrmp\texpseg\t.025, .1*idur, 2, .8*idur, 2, .1*idur, .025\n;krtrmp\texpseg\t.025, idur, 2\n\nkmaxf\texpseg\t.1, idur, 1\n\n;kfc1\toscili\t1, iswrt/idur*krtrmp, ifctab\nkfc1\t\toscili\t1, iswrt/idur, ifctab\nkfc\t\t=\t\tkfc1*kmaxf*ifqc/440\n\nisc\t\t=\t\t.6\t ; SCALAR CHOSEN TO MATCH WHITE NOISE AMPLITUDE\n\nanz\t\ttrirand\tiamp*20  ; WHITE NOISE\n\na1\t\tpareq\tanz, 625,\t  .7079, .707, 2\na3\t\tpareq\ta1,\t2500,  .3548, .707, 2\na5\t\tpareq\ta3,\t10000, .1778, .707, 2\napnz\t\tpareq\ta5,\t20000, .1259, .707, 2\n\napnz1\tbutterbp\tapnz, kfc, kfc*.05\t\t\t; SWEEP FILTER\napnz2\tbutterbp\tapnz, kfc*1.502, kfc*.05\t\t; SWEEP FILTER\napnz3\tbutterbp\tapnz, kfc*1.498, kfc*.05\t\t; SWEEP FILTER\n\nadclk\tlinseg\t0, ifade, 1, idur-2*ifade, 1, ifade, 0\n\n\t\touts\t\t(apnz1+apnz2)*adclk, (apnz1+apnz3)*adclk\n\n\t\tendin\n\n; NOISE INSTRUMENT\n\t\tinstr\t3\n\nidur\t\t=\t\tp3\niamp\t\t=\t\tp4\nifqc\t\t=\t\tcpspch(p5)\nifade\t=\t\t.1\n\nisc\t\t=\t\t.6\t ; SCALAR CHOSEN TO MATCH WHITE NOISE AMPLITUDE\n\nkfqc\t\texpseg\tifqc, idur, 100*ifqc\n\nanz\t\trand\t\tiamp\t  ; WHITE NOISE\nkdi\t\toscili\t.1, 4, 1\n;anz\t\tdiskin\t1, .7\n\na1\t\tpareq\tanz, ifqc*(1+kdi),\t .1, 20, 1\n\nadclk\tlinseg\t0, ifade, iamp, idur-2*ifade, iamp, ifade, 0\n\n\t\touts\t\ta1*adclk/1000, a1*adclk/1000\n\n\t\tendin\n\n; NOISE INSTRUMENT\n\t\tinstr\t4\n\nidur\t\t=\t\tp3\niamp\t\t=\t\tp4\nifqc\t\t=\t\tcpspch(p5)\nires\t\t=\t\tp6\nivol\t\t=\t\tp7\n\t\nisc\t\t=\t\t.6\t \t; SCALAR CHOSEN TO MATCH WHITE NOISE AMPLITUDE\n\nkfqc1   \texpseg\t100*ifqc, idur, ifqc\nkfqc2   \texpseg\t95*ifqc, idur, ifqc*1.05\nkfqc3   \texpseg\t105*ifqc, idur, ifqc*.95\n\nanz\t \trand\t\tiamp\t    ; WHITE NOISE\na1\t \tpareq\tanz, kfqc1, ivol, ires, 1\na2\t \tpareq\tanz, kfqc2, ivol, ires, 1\na3\t \tpareq\tanz, kfqc3, ivol, ires, 1\n\nadclk \texpseg\t1, .002, iamp, idur-.002, 1\n\n\t \touts\t\t(a1+a2)*adclk/3000, (a1+a3)*adclk/3000\n\n\t \tendin\n\n; NOISE DRUM\n\t  \tinstr\t5\n\nidur\t  \t=\t\tp3\t\t   ; DURATION\niamp\t  \t=\t\tp4\t\t   ; AMPLITUDE\nifqc\t  \t=\t\tcpspch(p5)   ; PITCH\niq\t  \t=\t\tp6\t\t   ; QUALITY FACTOR\nivol\t  \t=\t\tp7\t\t   ; VOLUME\niton\t  \t=\t\tp8\t\t   ; DRUM TONE\n\nkfqcl   \texpseg\t .1*ifqc, idur, 2*ifqc  \t; LOW SHELF FREQUENCY\nkq\t   \texpseg\t .1*ifqc, idur, 2*ifqc  \t; EQ SWEEP QUALITY\nkfqch   \texpseg\t 10*ifqc, idur, .5*ifqc \t; HIGH SHELF FREQUENCY\n\nanz\t \trand\t\tiamp\t    \t\t\t\t; WHITE NOISE\n\na1\t \tpareq\tanz, kfqcl, ivol,\tiq, 1 \t; LOW SHELF SWEEP\na2\t \tpareq\tanz, ifqc,  1/ivol, kq, 0 \t; EQ SWEEP\na3\t \tpareq\tanz, kfqch, ivol,\tiq, 2 \t; HIGH SHELF SWEEP\n\nadclk \texpseg\tiamp/10, .002, iamp, idur-.002, iamp/100 ; AMPLITUDE ENVELOPE\n\naout\t \t=\t\t((a2-a3)+(a2-a1)*iton) \t; MIX IT UP TO SOUND NICE\n\n\t \touts\t\taout*adclk/5000, aout*adclk/5000 ; SCALE, AMP AND OUTPUT\n\n\t \tendin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\n\n;  Sta  Dur  Amp   Pitch  Q    Cut/Boost  Tone\ni5 0    .2   9000  8.00   1    .1         1\ni5 +    .    .     8.00   1    .1         4\ni5 .    .    .     8.00   1    .1         6\ni5 .    .    .     8.00   1    .1         10\n\ni5 .    .2   9000  8.00   1    .1         8\ni5 .    .    .     7.00   1    .1         6\n;i5 .    .    .     6.07   1    .1         4\n;i5 .    .    .     6.00   1    .1         2\n\n;i5 .    .2   9000  8.00   1    .1         1\n;i5 .    .    .     7.00   10   .2         4\n;i5 .    .    .     6.07   20   .3         6\n;i5 .    .    .     6.00   40   .4         10\n\n;  Sta  Dur  Amp   Pitch  Q    Cut/Boost  Tone\ni5 .1   .2   9000  8.00   1    .1         1\ni5 +    .    .     8.00   1    .1         4\ni5 .    .    .     8.00   1    .1         6\ni5 .    .    .     8.00   1    .1         10\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur   =      p3         ; Duration using interpolating oscillator and analog-style oscillator and panning", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from mikelfreakyfilt.orc and mikelfreakyfilt.sco\n; Original files preserved in same directory\n\nsr      =        44100                      ; Sample rate\nkr      =        44100                      ; Kontrol rate\nksmps   =        1                          ; Samples/Kontrol period\nnchnls  =        2                          ; Normal stereo\n\n; ORCHESTRA\n;---------------------------------------------------------\n; Runge-Kutta Filters\n; Coded by Hans Mikelson June, 2000\n;---------------------------------------------------------\n         zakinit  50, 50\n\n;------------------------------------------------------------\n; Envelope (Knob twisting simulation)\n;------------------------------------------------------------\n        instr  1\nidur   =      p3         ; Duration\niamp   =      p4         ; Amplitude\nilps   =      p5         ; Loops\niofst  =      p6         ; Offset\nitabl  =      p7         ; Table\nioutch =      p8         ; Output channel\niphase =      p9         ; Phase\n\nkout   oscili iamp, ilps/idur, itabl, iphase  ; Create the envelope\n        zkw    kout+iofst, ioutch      ; Send out to the zak channel\n       endin\n\n;---------------------------------------------------------\n; Runge-Kutta Freaky Filter\n;---------------------------------------------------------\n        instr  7\n\nidur   =      p3            ; Duration\niamp   =      p4            ; Amplitude\nkfco2  zkr    p5            ; Filter cutoff\nkq1    zkr    p6            ; Q\nih     =      .001          ; Diff eq step size\nipanl  =      sqrt(p8)      ; Pan left\nipanr  =      sqrt(1-p8)    ; Pan right\nifqc   =      cpspch(p9)    ; Pitch to frequency\nkpb    zkr    p10           ; Pentic bounce frequency\nkpa    zkr    p11           ; Pentic bounce amount\nkasym  zkr    p12           ; Q assymmetry amount\nkasep  zkr    p13           ; Q asymmetry separation\n\nkdclck linseg 0, .02, 1, idur-.04, 1, .02, 0 ; Declick envelope\nkfco1  expseg 1, idur, .1\nkfco   =      kfco1*kfco2\nkq     =      kq1*kfco^1.2*.1\nkfc    =      kfco/8/sr*44100\n\nay     init   0\nay1    init   0\nay2    init   0\nay3    init   0\naxs    init   0\navxs   init   0\nax     vco   1, ifqc, 2, 1, 1, 1        ; Square wave\n\n   ; R-K Section 1\n   afdbk =      kq*ay/(1+exp(-ay*3*kasep)*kasym)   ; Only oscillate in \none direction\n   ak11  =      ih*((ax-ay1)*kfc-afdbk)\n   ak21  =      ih*((ax-(ay1+.5*ak11))*kfc-afdbk)\n   ak31  =      ih*((ax-(ay1+.5*ak21))*kfc-afdbk)\n   ak41  =      ih*((ax-(ay1+ak31))*kfc-afdbk)\n   ay1   =      ay1+(ak11+2*ak21+2*ak31+ak41)/6\n\n   ; R-K Section 2\n   ak12  =      ih*((ay1-ay2)*kfc)\n   ak22  =      ih*((ay1-(ay2+.5*ak12))*kfc)\n   ak32  =      ih*((ay1-(ay2+.5*ak22))*kfc)\n   ak42  =      ih*((ay1-(ay2+ak32))*kfc)\n   ay2   =      ay2+(ak12+2*ak22+2*ak32+ak42)/6\n\n   ; Pentic bounce equation\n   ax3    =      -.1*ay*kpb\n   aaxs   =      (ax3*ax3*ax3*ax3*ax3+ay2)*1000*kpa     ; Update acceleration\n\n   ; R-K Section 3\n   ak13  =      ih*((ay2-ay3)*kfc+aaxs)\n   ak23  =      ih*((ay2-(ay3+.5*ak13))*kfc+aaxs)\n   ak33  =      ih*((ay2-(ay3+.5*ak23))*kfc+aaxs)\n   ak43  =      ih*((ay2-(ay3+ak33))*kfc+aaxs)\n   ay3   =      ay3+(ak13+2*ak23+2*ak33+ak43)/6\n\n   ; R-K Section 4\n   ak14  =      ih*((ay3-ay)*kfc)\n   ak24  =      ih*((ay3-(ay+.5*ak14))*kfc)\n   ak34  =      ih*((ay3-(ay+.5*ak24))*kfc)\n   ak44  =      ih*((ay3-(ay+ak34))*kfc)\n   ay    =      ay+(ak14+2*ak24+2*ak34+ak44)/6\n\naout   =      ay*iamp*kdclck*.07 ; Apply amp envelope and declick\n\n        outs   aout*ipanl, aout*ipanr  ; Output the sound\n\n        endin\n\n</CsInstruments>\n<CsScore>\n; SCORE\nf1 0 65536 10 1\nf2 0 1024  -7 1 1024 1 ; Constant\n\n; Envelope\n;   Sta   Dur  Amp   Loops  Offset  Table  OutCh  Phase\ni1  0     10.7 4000  1      6000    1      1      .75    ; Fco\ni1  0     .    1     .5     1.01    1      2      .      ; Q\ni1  0     .    .2    .6     1       1      3      .      ; Bounce Fqc\ni1  0     .    .2    .7     1       1      4      .      ; Bounce Amp\ni1  0     .    .8    .8     1       1      5      .      ; Assym Amt\ni1  0     .    .5    .9     1       1      6      .      ; Assym Sep\n\n; Filter Number 7\n;                                                      Penta-Bounce Assymetry\n;    Sta     Dur  Amp    Fco   Q    h      Pan  Pitch  Fqc  Amp      Amt  Sep\ni7   0.000   .2   30000  1     2    .001   .5   5.00   3    4        5    6\ni.   +       .    .      .     .    .      .    5.03   .    .        .    .\ni.   .       .    .      .     .    .      .    7.00   .    .        .    .\ni.   .       .1   .      .     .    .      .    5.07   .    .        .    .\ni.   .       .    .      .     .    .      .    5.00   .    .        .    .\ni.   .       .    .      .     .    .      .    6.02   .    .        .    .\ni.   .       .    .      .     .    .      .    5.03   .    .        .    .\ni.   .       .2   .      .     .    .      .    5.05   .    .        .    .\ni.   .       .    .      .     .    .      .    6.00   .    .        .    .\ni.   .       .    .      .     .    .      .    5.05   .    .        .    .\ni.   .       .    .      .     .    .      .    5.00   .    .        .    .\ni.   .       .    .      .     .    .      .    5.03   .    .        .    .\ni.   .       .1   .      .     .    .      .    7.02   .    .        .    .\ni.   .       .    .      .     .    .      .    5.00   .    .        .    .\ni.   .       .    .      .     .    .      .    7.00   .    .        .    .\ni.   .       .1   .      .     .    .      .    5.07   .    .        .    .\ni.   .       .    .      .     .    .      .    5.00   .    .        .    .\ni.   .       .    .      .     .    .      .    6.02   .    .        .    .\ni.   .       .    .      .     .    .      .    5.03   .    .        .    .\ni.   .       .2   .      .     .    .      .    5.05   .    .        .    .\ni.   .       .    .      .     .    .      .    6.00   .    .        .    .\ni.   .       .    .      .     .    .      .    5.05   .    .        .    .\ni.   .       .    .      .     .    .      .    5.00   .    .        .    .\ni.   .       .    .      .     .    .      .    5.03   .    .        .    .\ni.   .       .1   .      .     .    .      .    7.02   .    .        .    .\ni.   .       .    .      .     .    .      .    5.00   .    .        .    .\ni.   .       .    .      .     .    .      .    7.00   .    .        .    .\ni.   .       .1   .      .     .    .      .    5.07   .    .        .    .\ni.   .       .    .      .     .    .      .    5.00   .    .        .    .\ni.   .       .    .      .     .    .      .    6.02   .    .        .    .\ni.   .       .    .      .     .    .      .    5.03   .    .        .    .\ni.   .       .2   .      .     .    .      .    5.05   .    .        .    .\ni.   .       .    .      .     .    .      .    6.00   .    .        .    .\ni.   .       .    .      .     .    .      .    5.05   .    .        .    .\ni.   .       .    .      .     .    .      .    5.00   .    .        .    .\ni.   .       .    .      .     .    .      .    5.03   .    .        .    .\ni.   .       .1   .      .     .    .      .    7.02   .    .        .    .\ni.   .       .    .      .     .    .      .    5.00   .    .        .    .\ni.   .       .    .      .     .    .      .    7.00   .    .        .    .\ni.   .       .1   .      .     .    .      .    5.07   .    .        .    .\ni.   .       .    .      .     .    .      .    5.00   .    .        .    .\ni.   .       .    .      .     .    .      .    6.02   .    .        .    .\ni.   .       .    .      .     .    .      .    5.03   .    .        .    .\ni.   .       .2   .      .     .    .      .    5.05   .    .        .    .\ni.   .       .    .      .     .    .      .    6.00   .    .        .    .\ni.   .       .    .      .     .    .      .    5.05   .    .        .    .\ni.   .       .    .      .     .    .      .    7.02   .    .        .    .\ni.   .       .    .      .     .    .      .    5.03   .    .        .    .\ni.   .       .1   .      .     .    .      .    7.00   .    .        .    .\ni.   .       .    .      .     .    .      .    5.03   .    .        .    .\ni.   .       .    .      .     .    .      .    7.00   .    .        .    .\ni.   .       .1   .      .     .    .      .    5.07   .    .        .    .\ni.   .       .    .      .     .    .      .    5.00   .    .        .    .\ni.   .       .    .      .     .    .      .    6.02   .    .        .    .\ni.   .       .    .      .     .    .      .    5.03   .    .        .    .\ni.   .       .2   .      .     .    .      .    5.05   .    .        .    .\ni.   .       .    .      .     .    .      .    6.01   .    .        .    .\ni.   .       .    .      .     .    .      .    5.05   .    .        .    .\ni.   .       .    .      .     .    .      .    7.06   .    .        .    .\ni.   .       .    .      .     .    .      .    5.03   .    .        .    .\ni.   .       .1   .      .     .    .      .    7.02   .    .        .    .\ni.   .       .    .      .     .    .      .    5.06   .    .        .    .\ni.   .       .    .      .     .    .      .    7.00   .    .        .    .\ni.   .       .1   .      .     .    .      .    5.01   .    .        .    .\ni.   .       .    .      .     .    .      .    5.06   .    .        .    .\ni.   .       .    .      .     .    .      .    6.02   .    .        .    .\ni.   .       .    .      .     .    .      .    5.03   .    .        .    .\ni.   .       .2   .      .     .    .      .    7.05   .    .        .    .\ni.   .       .    .      .     .    .      .    6.00   .    .        .    .\ni.   .       .    .      .     .    .      .    5.05   .    .        .    .\ni.   .       .    .      .     .    .      .    5.10   .    .        .    .\ni.   .       .    .      .     .    .      .    7.03   .    .        .    .\ni.   .       .1   .      .     .    .      .    7.02   .    .        .    .\ni.   .       .    .      .     .    .      .    5.00   .    .        .    .\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a jnd sound using interpolating oscillator and linear envelope and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from JND.orc and JND.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2 \n\n\n;*********************************   FREQUENCY DIFFERENCE LIMEN   ************************************\n\n; THE ABILITY TO DISTINGUISH BETWEEN TWO NEARLY EQUAL STIMULI IS OFTEN CHARACTERIZED BY A \"DIFFERENCE\n; LIMEN \" OR \"JUST NOTICEABLE DIFFERENCE\"(JND). TWO STIMULI CANNOT BE DISTINGUISHED FROM ONE ANOTHER\n; IF THEY DIFFER BY LESS THAN JND. THE JND FOR PITCH HAS BEEN FOUND TO DEPEND ON THE FREQUENCY, THE \n; SOUND LEVEL, THE DURATION OF THE TONE, AND THE SUDDENNESS OF THE FREQUENCY CHANGE. TYPICALLY, IT\n; IS FOUND TO BE ABOUT 1/30 OF THE CRITICAL BANDWIDTH AT THE SAME FREQUENCY.\n; IN THIS DEMONSTRATION, 10 GROUPS OF 4 TONE PAIRS ARE PRESENTED. FOR EACH PAIR, THE SECOND TONE MAY\n; BE HIGHER (A) OR LOWER (B) THAN THE FIRST TONE. PAIRS ARE PRESENTED IN RANDOM ORDER WITHIN EACH\n; GROUP, AND THEFREQUENCY DIFFERENCE DECREASES BY 1 HZ IN SUCCESSIVE GROUPTHE TONES, 500MS LONG ARE\n; SEPARATED BY 250MS. FOLLOWING IS THE ORDER OF PAIRS WITHIN EACH GROUP, WHERE A REPRESENTS (F,F+ *F),\n; B REPRESENTS (F+ *F,F) AND F EQUALS 1000HZ.\n\n\n;  GROUP     *F (HZ)      KEY     \n;   1         10         A,B,A,A\n;   2          9         A,B,B,B\n;   3          8         B,A,A,B\n;   4          7         B,A,A,B\n;   5          6         A,B,A,B\n;   6          5         A,B,A,A\n;   7          4         B,B,A,A\n;   8          3         A,B,A,B\n;   9          2         B,B,B,A\n;  10          1         B,A,A,B\n\n;********************************************   HEADER   *********************************************\n\n \n \n instr         1\n\n iamp          =         ampdb(p4)                ;P4 = AMPLITUDE IN DB \n ifreq         =         p5                       ;P5 = FREQUENCY\n \n k1            linen     iamp,.01,p3,.01         \n a1            oscili    k1,ifreq,1             \n               outs      a1,a1\n endin  \n\n\n</CsInstruments>\n<CsScore>\n\nf1 0 1024 10 1  0 .4 .1 .2                        ;SIMPLE TONE\n\n;*******************************   JND SC   *************************************\n\n;******************************   GROUP 1   *************************************\n;   p1      p2      p3    p4       p5      \n;  inst    strt    dur    amp     freq\n    i1     0.00    .5     76     1000\n    i1      .75    .5     76     1010\n    i1     2.00    .5     76     1010\n    i1     2.75    .5     76     1000\n    i1     4.00    .5     76     1000\n    i1     4.75    .5     76     1010\n    i1     6.00    .5     76     1000\n    i1     6.75    .5     76     1010\ns       \n\n;******************************   GROUP 2   *************************************\n;   p1      p2      p3    p4       p5      \n;  inst    strt    dur    amp     freq\n    i1     2.00    .5     76     1000\n    i1     2.75    .5     76     1009\n    i1     4.00    .5     76     1009\n    i1     4.75    .5     76     1000\n    i1     6.00    .5     76     1009\n    i1     6.75    .5     76     1000\n    i1     8.00    .5     76     1009\n    i1     8.75    .5     76     1000\ns       \n\n;******************************   GROUP 3   *************************************\n;   p1      p2      p3    p4       p5      \n;  inst    strt    dur    amp     freq\n    i1     2.00    .5     76     1008\n    i1     2.75    .5     76     1000\n    i1     4.00    .5     76     1000\n    i1     4.75    .5     76     1008\n    i1     6.00    .5     76     1000\n    i1     6.75    .5     76     1008\n    i1     8.00    .5     76     1008\n    i1     8.75    .5     76     1000\ns       \n\n;******************************   GROUP 4   *************************************\n;   p1      p2      p3    p4       p5      \n;  inst    strt    dur    amp     freq\n    i1     2.00    .5     76     1007\n    i1     2.75    .5     76     1000\n    i1     4.00    .5     76     1000\n    i1     4.75    .5     76     1007\n    i1     6.00    .5     76     1000\n    i1     6.75    .5     76     1007\n    i1     8.00    .5     76     1007\n    i1     8.75    .5     76     1000\ns       \n\n;******************************   GROUP 5   *************************************\n;   p1      p2      p3    p4       p5      \n;  inst    strt    dur    amp     freq\n    i1     2.00    .5     76     1000\n    i1     2.75    .5     76     1006\n    i1     4.00    .5     76     1006\n    i1     4.75    .5     76     1000\n    i1     6.00    .5     76     1000\n    i1     6.75    .5     76     1006\n    i1     8.00    .5     76     1006\n    i1     8.75    .5     76     1000\ns       \n\n;******************************   GROUP 6   *************************************\n;   p1      p2      p3    p4       p5      \n;  inst    strt    dur    amp     freq\n    i1     2.00    .5     76     1000\n    i1     2.75    .5     76     1005\n    i1     4.00    .5     76     1005\n    i1     4.75    .5     76     1000\n    i1     6.00    .5     76     1000\n    i1     6.75    .5     76     1005\n    i1     8.00    .5     76     1000\n    i1     8.75    .5     76     1005\ns       \n\n;******************************   GROUP 7   *************************************\n;   p1      p2      p3    p4       p5      \n;  inst    strt    dur    amp     freq\n    i1     2.00    .5     76     1004\n    i1     2.75    .5     76     1000\n    i1     4.00    .5     76     1004\n    i1     4.75    .5     76     1000\n    i1     6.00    .5     76     1000\n    i1     6.75    .5     76     1004\n    i1     8.00    .5     76     1000\n    i1     8.75    .5     76     1004\ns       \n\n;******************************   GROUP 8   *************************************\n;   p1      p2      p3    p4       p5      \n;  inst    strt    dur    amp     freq\n    i1     2.00    .5     76     1000\n    i1     2.75    .5     76     1003\n    i1     4.00    .5     76     1003\n    i1     4.75    .5     76     1000\n    i1     6.00    .5     76     1000\n    i1     6.75    .5     76     1003\n    i1     8.00    .5     76     1003\n    i1     8.75    .5     76     1000\ns       \n\n;******************************   GROUP 9   *************************************\n;   p1      p2      p3    p4       p5      \n;  inst    strt    dur    amp     freq\n    i1     2.00    .5     76     1002\n    i1     2.75    .5     76     1000\n    i1     4.00    .5     76     1002\n    i1     4.75    .5     76     1000\n    i1     6.00    .5     76     1002\n    i1     6.75    .5     76     1000\n    i1     8.00    .5     76     1000\n    i1     8.75    .5     76     1002\ns       \n\n;******************************   GROUP 10   *************************************\n;   p1      p2      p3    p4       p5      \n;  inst    strt    dur    amp     freq\n    i1     2.00    .5     76     1001\n    i1     2.75    .5     76     1000\n    i1     4.00    .5     76     1000\n    i1     4.75    .5     76     1001\n    i1     6.00    .5     76     1000\n    i1     6.75    .5     76     1001\n    i1     8.00    .5     76     1001\n    i1     8.75    .5     76     1000\ne       \n                                     \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur\t\t=\t\tp3 using interpolating oscillator and Butterworth lowpass filter and Butterworth bandpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pink1.orc and pink1.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n\n\t\tinstr\t1\nisc\t\t=\t\t.6\t; SCALAR CHOSEN TO MATCH WHITE NOISE AMPLITUDE\n\nksw\t\texpseg\t30, p3, 18000 ; SWEEP FILTER FROM 30HZ TO 18000HZ\n\na1\t\tinit\t\t0\na2\t\tinit\t\t0\na3\t\tinit\t\t0\na4\t\tinit\t\t0\na5\t\tinit\t\t0\na6\t\tinit\t\t0\nanz\t\ttrirand\t30000\t\t\t\t; WHITE NOISE\na1\t\t=\t\t.997 * a1 + isc * .029591 * anz\na2\t\t=\t\t.985 * a2 + isc * .032534 * anz\na3\t\t=\t\t.950 * a3 + isc * .048056 * anz\na4\t\t=\t\t.850 * a4 + isc * .090579 * anz\na5\t\t=\t\t.620 * a5 + isc * .108990 * anz\na6\t\t=\t\t.250 * a6 + isc * .255784 * anz\napnz\t\t=\t\ta1 + a2 + a3 + a4 + a5 + a6\napnz\t\tbutterbp\tapnz, ksw, ksw * .05\t; SWEEP FILTER\napnz\t\tbutterlp\tapnz, ksw * 1.2\t\t; REMOVE HIGH END WHICH PASSES THRU\n\t\touts\t\tapnz, apnz\n\t\tendin\n\n\n; PINK NOISE INSTRUMENT\n\t\tinstr\t2\n\nidur\t\t=\t\tp3\niamp\t\t=\t\tp4\nifqc\t\t=\t\tcpspch(p5)\nifctab\t=\t\tp6\niswrt\t=\t\tp7\nifade\t=\t\tp8\n\n;krtrmp\texpseg\t.025, .1*idur, 2, .8*idur, 2, .1*idur, .025\n;krtrmp\texpseg\t.025, idur, 2\n\nkmaxf\texpseg\t.1, idur, 1\n\n;kfc1\toscili\t1, iswrt/idur*krtrmp, ifctab\nkfc1\t\toscili\t1, iswrt/idur, ifctab\nkfc\t\t=\t\tkfc1*kmaxf*ifqc/440\n\nisc\t\t=\t\t.6\t ; SCALAR CHOSEN TO MATCH WHITE NOISE AMPLITUDE\n\nanz\t\ttrirand\tiamp*20  ; WHITE NOISE\n\na1\t\tpareq\tanz, 625,\t  .7079, .707, 2\na3\t\tpareq\ta1,\t2500,  .3548, .707, 2\na5\t\tpareq\ta3,\t10000, .1778, .707, 2\napnz\t\tpareq\ta5,\t20000, .1259, .707, 2\n\napnz1\tbutterbp\tapnz, kfc, kfc*.05\t\t\t; SWEEP FILTER\napnz2\tbutterbp\tapnz, kfc*1.502, kfc*.05\t\t; SWEEP FILTER\napnz3\tbutterbp\tapnz, kfc*1.498, kfc*.05\t\t; SWEEP FILTER\n\nadclk\tlinseg\t0, ifade, 1, idur-2*ifade, 1, ifade, 0\n\n\t\touts\t\t(apnz1+apnz2)*adclk, (apnz1+apnz3)*adclk\n\n\t\tendin\n\n; NOISE INSTRUMENT\n\t\tinstr\t3\n\nidur\t\t=\t\tp3\niamp\t\t=\t\tp4\nifqc\t\t=\t\tcpspch(p5)\nifade\t=\t\t.1\n\nisc\t\t=\t\t.6\t ; SCALAR CHOSEN TO MATCH WHITE NOISE AMPLITUDE\n\nkfqc\t\texpseg\tifqc, idur, 100*ifqc\n\nanz\t\trand\t\tiamp\t  ; WHITE NOISE\nkdi\t\toscili\t.1, 4, 1\n;anz\t\tdiskin\t1, .7\n\na1\t\tpareq\tanz, ifqc*(1+kdi),\t .1, 20, 1\n\nadclk\tlinseg\t0, ifade, iamp, idur-2*ifade, iamp, ifade, 0\n\n\t\touts\t\ta1*adclk/1000, a1*adclk/1000\n\n\t\tendin\n\n; NOISE INSTRUMENT\n\t\tinstr\t4\n\nidur\t\t=\t\tp3\niamp\t\t=\t\tp4\nifqc\t\t=\t\tcpspch(p5)\nires\t\t=\t\tp6\nivol\t\t=\t\tp7\n\t\nisc\t\t=\t\t.6\t \t; SCALAR CHOSEN TO MATCH WHITE NOISE AMPLITUDE\n\nkfqc1   \texpseg\t100*ifqc, idur, ifqc\nkfqc2   \texpseg\t95*ifqc, idur, ifqc*1.05\nkfqc3   \texpseg\t105*ifqc, idur, ifqc*.95\n\nanz\t \trand\t\tiamp\t    ; WHITE NOISE\na1\t \tpareq\tanz, kfqc1, ivol, ires, 1\na2\t \tpareq\tanz, kfqc2, ivol, ires, 1\na3\t \tpareq\tanz, kfqc3, ivol, ires, 1\n\nadclk \texpseg\t1, .002, iamp, idur-.002, 1\n\n\t \touts\t\t(a1+a2)*adclk/3000, (a1+a3)*adclk/3000\n\n\t \tendin\n\n; NOISE DRUM\n\t  \tinstr\t5\n\nidur\t  \t=\t\tp3\t\t   ; DURATION\niamp\t  \t=\t\tp4\t\t   ; AMPLITUDE\nifqc\t  \t=\t\tcpspch(p5)   ; PITCH\niq\t  \t=\t\tp6\t\t   ; QUALITY FACTOR\nivol\t  \t=\t\tp7\t\t   ; VOLUME\niton\t  \t=\t\tp8\t\t   ; DRUM TONE\n\nkfqcl   \texpseg\t .1*ifqc, idur, 2*ifqc  \t; LOW SHELF FREQUENCY\nkq\t   \texpseg\t .1*ifqc, idur, 2*ifqc  \t; EQ SWEEP QUALITY\nkfqch   \texpseg\t 10*ifqc, idur, .5*ifqc \t; HIGH SHELF FREQUENCY\n\nanz\t \trand\t\tiamp\t    \t\t\t\t; WHITE NOISE\n\na1\t \tpareq\tanz, kfqcl, ivol,\tiq, 1 \t; LOW SHELF SWEEP\na2\t \tpareq\tanz, ifqc,  1/ivol, kq, 0 \t; EQ SWEEP\na3\t \tpareq\tanz, kfqch, ivol,\tiq, 2 \t; HIGH SHELF SWEEP\n\nadclk \texpseg\tiamp/10, .002, iamp, idur-.002, iamp/100 ; AMPLITUDE ENVELOPE\n\naout\t \t=\t\t((a2-a3)+(a2-a1)*iton) \t; MIX IT UP TO SOUND NICE\n\n\t \touts\t\taout*adclk/5000, aout*adclk/5000 ; SCALE, AMP AND OUTPUT\n\n\t \tendin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\n\nt0 0 100\n\n;  Sta  Dur  Amp   Pitch\n;i3 0    5.1  300   9.00\n\n;  Sta  Dur  Amp   Pitch  Q   Cut/Boost\ni4 0    .2   4000  6.00   1   .3\ni4 +    .2   .     7.00   .   .\ni4 .    .2   .     7.00   .   .\ni4 .    .2   .     7.00   .   .\ni4 .    .1   .     6.00   .   .\ni4 .    .1   .     7.00   .   .\ni4 .    .1   .     7.00   .   .\ni4 .    .1   .     7.00   .   .\ni4 .    .1   .     7.00   .   .\ni4 .    .1   .     7.00   .   .\ni4 .    .1   .     7.00   .   .\ni4 .    .1   .     7.00   .   .\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for 1 INSTRUMENTS using granular synthesis and interpolating oscillator and simple sine oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from granular4.orc and granular4.sco\n; Original files preserved in same directory\n\n     sr             =              44100\n     kr             =              2205      \n     ksmps          =              20\n     nchnls         =              2\n\n;HOWARD FREDRICS\n;MUS 329J\n;\n;=====================================================================\n;\n;                       ORCHESTRA HEADER\n;\n;\n;=====================================================================\n;\n;\n;=================================================================;\n;       PITCH CHANGING GRANULAR SYNTHESIS INSTRUMENT                                 \n;                                                                \n;       P4 = WAVE FUNCTION 1    P5 = WAVE FUNCTION 2     P6 = DESIRED PITCH IN MIDI (CONVERTED TO FREQ OF WAVEREADING)                       ;\n;       P7 = PEAK AMP P8=ATTACK P9=DECAY P10 = WAVEMIXER FREQ IN HZ                               \n;       P11=GRAINFREQ    P12 = VIBRATE    P13 = VIBWIDTH P14=REVTIME\n;       P15=DRY/WETMIX (PERCENTAGE 0-100) P16=TBLESIZE P17=DELAY TIME (MSEC)\n;                                                                  \n;=================================================================;\n;\n                    instr          1                             ;1 INSTRUMENTS\niwave1              =              p4                            ;SOUNDIN FUNCTION NUMBERS (GEN -1) \niwave2              =              p5\niwavemixer          =              p10                           ;WAVE MIXER FREQ IN HZ\nitblesize           =              p16                           ;WAVE TABLE SIZE\n;\nitak                =              p8                            ;ATTACK TIME FOR NOTE\nidec                =              p9                            ;DECAY TIME\nigrainenv           =              15                            ;GRAIN ENV IS FUNCTION 15\nigrainfreq          =              p11\n;\nimidinn             =              p6                            ;STORE MIDI NN IN VARIABLE FOR LATER USE\nioctmid             =              3+(imidinn/12)                ;THEORETICAL FUNDAMENTAL (P5) CONVERTED FROM MIDI NN TO OCT \nicpswave            =              cpsoct(ioctmid)               ;THEORETICAL FUNDAMENTAL CONVERTED FROM OCT TO CPS\nicpswave            =              (icpswave*(sr/itblesize))/4   ;CONVERT TO ACTUAL FREQ BASED ON SR/TABLESIZE \n;                                                                ;SO THAT ORC SR CAN BE VARIED\n;\nipkamp              =              p7/2                          ;PEAK 16 BIT AMP FOR TWO WAVES\n;\n;    \nivibrate            =              p12\nivibwidth           =              p13/(2*3.14159)               ;INDEX/2PI\n;\nirevtime            =              p14                           ;REV TIME IN SEC\nidrywet             =              p15/100                       ;DRY PERCENTAGE\nidelaytime          =              p17/1000                      ;DELAY TIME IN MS\nidelayfn            =              3\niloopstart          =              0\niloopend            =              p19\nilooplen            =              iloopend-iloopstart\n\n;\n;                       PERFORMANCE BLOCK\n;\nkport               init           1                                  ;INITIALIZE PORTAMENTO ENV\nkport               oscil1         itak+(p3-irevtime),1,idec,2        ;SLIGHT RAMP DOWN IN PITCH FOR EACH NOTE'S DECAY     \n;\nkgrainfreq          init           igrainfreq                         ;INITIALIZE KGRAINFREQ TO ITIME VALUE\nkrand               init           0                                  ;INIT FIRST RAND FACTOR TO 0\nkrand               randh          kgrainfreq/2,(krand +igrainfreq)   ;CHOOSE NEW GRAIN SIZE 1X PER GRAINENV\n;\nkgraingate          init           0                                  ;INITIALIZE GRAINENV TO 0\nkgraingate          oscili         1,igrainfreq+krand,igrainenv       ;GRAINENV IS A QUASI-GAUSIAN ENV WITH FREQ SLIGHTLY RANDOMIZED\n;\nkmastergate         linseg         0,itak,1,(p3-irevtime-itak-idec),1,idec,0,irevtime,0   ;FINAL OUTPUT ENVELOPE\nkmodphase           init           0                                  ;INITIALIZE PHASE\nkmodphs             oscili         ivibwidth,ivibrate,1               ;VIBRATO OSCILATOR\n;\n\nawave1phs           phasor         cpsoct(octcps(icpswave)+kmodphs)*kport  ;MOVING PHASE VALUES FOR WAVESHAPE OSCILS\nawave2phs           phasor         cpsoct(octcps(icpswave)+kmodphs)*kport\nkmix                oscili         1,iwavemixer+(krand/10),11              ;PYRAMID WITH RANDOM FREQ VARIATION\nkdelayenv           oscil1i        0,kmastergate,p3,idelayfn               ; VARIABLE DELAY ENVELOPE FOR SECOND WAVE\n;\nkindex1             init           0\nkindex2             init           0\nkprev1              =              kindex1\nkprev2              =              kindex2\naindex1             =              (awave1phs*ilooplen)+iloopstart\naindex2             =              (awave2phs*ilooplen)+iloopstart\nkindex1             downsamp       aindex1\nkindex2             downsamp       aindex2\n;asig1              tablei         awave1phs*itblesize,iwave1,0,0,1        ;CREATE WAVE OUTPUT OSCILLATORS\nasig1               tablei         aindex1,iwave1,0,0,1                    ;CREATE WAVE OUTPUT  \nasig2               tablei         aindex2,iwave2,0,0,1                    ;CREATE WAVE OUTPUT  \n;asig2              tablei         awave2phs*itblesize,iwave2,0,0,1 \nktempscale1         tablei         kindex1, igrainenv,0,0,1                ;LOOP RAMP FADE ENV\nktempscale2         tablei         kindex2, igrainenv,0,0,1                ;LOOP RAMP FADE ENV\nkscale1             =              (iloopstart>0 ? ktempscale1:1)  \nkscale2             =              (iloopstart>0 ? ktempscale2:1)  \nif             iloopstart > 0      goto noreinit\nif             kindex1 >=kprev1    goto noreinit\nif             kindex2 >=kprev2    goto noreinit\n                    reinit         startreinit\nstartreinit:\n   \niloopstart          =              p18\n   ilooplen         =              iloopend-iloopstart \n                    rireturn\n   aindex1          =              iloopstart + aindex1       \n   aindex2          =              iloopstart + aindex2       \nnoreinit:\nadeltime            upsamp         kdelayenv*idelaytime\n        adump       delayr         idelaytime                              ;        CENTER DELAY TIME\n        ad2         deltapi        adeltime\n                    delayw         asig2\n        asig2       =              ad2\nasig                =              kmastergate*(asig1*kmix*(kgraingate*ipkamp)*kscale1)   ;SPLIT UP OF CODE INTO TWO LINES (FIXES RT ERROR)\nasig                =              (asig+(kmastergate*(asig2*(1-kmix)*(kgraingate*ipkamp))))\n;\nadry                =              asig*idrywet\narev                reverb         asig*(1-idrywet),irevtime               ;REV SIGNAL\n;\nkrandpan            randi          1,(igrainfreq+krand)/20                 ;QUASI RANDOM PANNING BASED ON GRAIN FREQ\nklfac               =              sqrt(abs(krandpan))\nkrfac               =              sqrt(1-(abs(krandpan)))\n;\nouts                (adry+arev)*klfac,(adry+arev)*krfac ;output the panned/rev. sigs   \nendin\n\n\n\n          \n\n</CsInstruments>\n<CsScore>\n;HOWARD FREDRICS\n;3:13PM  4/03/1989\n;MUS329J\n;\n;====================================================================;\n;                       FINAL GRANULAR SYNTHESIS SCORE V.2                         ;\n;====================================================================;\n;\n;  TEMPO IN BEATS/MIN\nT0     60      \n; SIMPLE SINE FUNCTION\nf01     0       512    10       1 \n; RAMP DOWN\nf02     0       513    -7       1       512     .64\n;DELAY ENV\nf03      0        513     -7    .4      64      .5      128     1       128     .5      192     0      \n; PYRAMID\nf11     0       513     7       0       256     1       256     0\n; WAVE 1 FUNCTION\nf13     0       32768  1      222     0  4   0\n; WAVE 2 FUNCTION\nf14     0       32768   1   222     0  4\t0\n; GRAIN ENV FUNCTION\nf15     0       128     7       0       26      1       76      1       26      0\n;=========================================================================;\n;p1     p2      p3      p4      p5      p6      p7      p8      p9      p10      p11     p12     p13     p14     p15     p16     p17            p18     p19\n;ins    strt    dur    wave1    wave2   pit     amp     att     dec     mixfreq  grfr    vibrat  vibwid  rvtim   dry/wet tblsize delaytime      loopst  loopend\ni1        0       3    13           14           -14     60000   .01       .05     32      23     7         .01           0.1        99      32768  12      1  32768\ne\n\n\n\n\n\n\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ,6,7,8 using interpolating oscillator and interpolating FM synthesis and chorus effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from WEB3.ORC and WEB3.SCO\n; Original files preserved in same directory\n\nsr                  =         44100\nkr                  =         4410\nksmps               =         10\nnchnls              =         2\n\n;HOWARD FREDRICS\n;4:02PM  2/13/1989\n;MUS329J\n\n;====================================================================;\n;                       WEBERN ORCHESTRA                          \n;====================================================================;\n\n\n;=========================================================================;\n;                 SIMPLE GATING INSTRUMENT WITH CHORUS                    ;\n;                                                                         ;\n; P4=AMP      P5=PCH1       P6=PCH2       P7=RISEFAC      P8=DECFAC       ;\n; P9=OFN1    P10=OFN2      P11=GATEFN    P12=BEATHZ      P13=GATEHZ       ;\n;=========================================================================;\n                    instr     5,6,7,8\n\n   igatehz          =         (p13 == 0 ? 1/p3 : p13)            ;DEFAULT TO ONCE PER NOTE\n   ihalfamp         =         p4/2  \n   ipitch1          =         cpspch(p5)\n   ipitch2          =         cpspch(p6)       \n   ibeatfreq        =         p12\n   idetune2         =         ipitch2 + ibeatfreq\n\n   kgate            oscili    1,igatehz,p11                      ;P11 HAS GATING CONTROL FN#\n   kenvlp           linen     1,p3*p7,p3,p3*p8                   ;P7,P8 ARE RISE, DECAY FACS\n\n   asig1            oscili    p4,ipitch1,p9                      ;SOUND ONE\n   astraight2       oscili    ihalfamp,ipitch2,p10               ;STRAIGHT SOUND TWO\n   adetune2         oscili    ihalfamp,idetune2,p10              ;DETUNED SOUND TWO\n   asig2            =         astraight2 + adetune2              ;SOUND TWO\n\n   aout1            =         asig1 * kgate\n   aout2            =         asig2 * (1-kgate)\n   aoutsig          =         (aout1 + aout2) * kenvlp           ;OUTPUT THE SUM\n                \n                    outs      aoutsig,aoutsig\n                    endin\n;==========================================================================;\n;               BASIC FM INSTRUMENT WITH VARIABLE VIBRATO                  ;\n;                                                                          ;\n;  P4=AMP       P5=PCH(FUND)    P6=VIBDEL       P7=VIBRATE      P8=VIBWTH  ;\n;  P9=RISE      P10=DECAY       P11=MAX INDEX   P12=CAR FAC     P13=MODFAC ;\n;  P14=INDEX RISE  P15=INDEX DECAY  P16=LEFT CHANNL FACTOR P17=ORIGINAL P3 ;\n;  P18=VIBFN       P20=IRISEFN      P21=INRISEFN                           ;\n;==========================================================================;\n                    instr     9,10\n;------------------------------------------------;INITIALIZATION BLOCK:\n        kpitch      init      cpspch (p5)\n\n        itempo      =         p3/p17                             ;RATIO SECONDS/BEATS\n        idelay      =         p6 * itempo                        ;CONVERT BEATS TO SECS\n        irise       =         p9 * itempo\n        idecay      =         p10 * itempo\n        indxris     =         (p14 == 0 ? irise : p14 * itempo)\n        indxdec     =         (p15 == 0 ? idecay : p15 * itempo)\n        ivibfn      =         p18\n        irisefn     =         p20\n        inrisefn    =         (p21 == 0 ? irisefn : p21)\n          if       (p16 != 0) igoto panning                      ;IF A PANFAC, USE IT, ELSE\n        ilfac       =         .707                               ;DEFAULT IS MONO (SQRT(.5))\n        irfac       =         .707\n                    igoto     perform\npanning:\n        ilfac       =         sqrt(p16)\n        irfac       =         sqrt(1-p16)\n;------------------------------------------------     ;PERFORMANCE BLOCK:\nperform:\nif       (p7 == 0 || p8 == 0) goto continue\n        kontrol     oscil1    idelay,1,.2,2                      ;VIB CONTROL\n        kvib        oscili    p8*kontrol,p7*kontrol,ivibfn       ;VIBRATO UNIT\n        kpitch      =         cpsoct(octpch(p5)+kvib)            ;VARYING FUND PITCH IN HZ\ncontinue:\n        kamp        envlpx    p4,irise,p3,idecay,irisefn,1,.01   ;IRISEFN FOR SHAPE OF CELLO\n        kindex      envlpx    p11,indxris,p3,indxdec,inrisefn,1,.01\n\n        asig        foscili   kamp/3,kpitch,p12,p13,kindex,1     ;P12=CARFAC,P13=MODFAC\n                    outs      asig*ilfac,asig*irfac\n                    endin       \n\n</CsInstruments>\n<CsScore>\n; SAMPLE SCORE #3\n; TEMPO = 25 BEATS/MIN\nt00     25\n; SIMPLE SINE FUNCTION\nf01     0       512    10       1\n; RAMP\nf02     0       513     7       0       512     1\n; EXPONENTIAL RISE\n;f03     0       513     5       .001    512     1\n; QUARTER SINE WAVE IN 128 LOCS + EXTENDED GUARD POINT\n;f04     0       129     9       .25     1       0\n; QUARTER COSINE\n;f05     0       129     9       .25     1       90\n; TRIANGULAR WAVE\n;f06     0       512     10      1   0 .111   0  .04    0  .02    0 .012\n; SAWTOOTH WAVE\nf07     0       512     10      1  .5   .3 .25   .2 .167  .14 .125 .111\n; SQUARE WAVE\nf08     0       512     10      1   0   .3   0   .2    0  .14    0 .111\n; NARROW PULSE\nf09     0       512     10      1 1  1   1 .7 .5 .3 .1\n; EXPONENTIAL RISE AND DECAY\nf10     0       513     5       .1      128      1      384     .01\n; REVERSE PYRAMID\n;f11     0       513     7       1       256     0       256     1\n; TRILL SQUARE\nf12     0       513     7       0       1       .01     1       1       254     1       1       .01     2       0\n;CELLO EXPONENTIAL RISE FOR AMP\nf13     0       513     5       .001    51      1       102     .2      359     1\n;CELLO EXPONENTIAL RISE FOR INDEX\nf14     0       513     5       .001    102      1       102     .6      308     1\n;CELLO INV EXPONENTIAL RISE FOR AMP\nf15     0       513     5       .001    51      1       308     .2      153     .01\n;BELL EXPONENTIAL RISE FOR AMP\nf16     0       513     5       .001    25      1       77      .6      210     .6      100 .7 100 .4\n;BELL EXPONENTIAL RISE FOR AMP\nf17     0       513     5       .001    25      1       77      .4      210     .4      150 .5  50 .2\n\n\n;==========================================================================;\n;               BASIC FM INSTRUMENT WITH VARIABLE VIBRATO                  ;\n;                                                                          ;\n;  P4=AMP       P5=PCH(FUND)    P6=VIBDEL       P7=VIBRATE      P8=VIBWTH  ;\n;  P9=RISE     P10=DECAY       P11=MAX INDEX   P12=CAR FAC     P13=MOD FAC ;\n; P14=INDEX RISE  P15=INDEX DECAY  P16=LEFT CHANNEL FACTOR P17=ORIGINAL P3 P18=VIBFN;\n;  P20=IRISEFN P21=INRISEFN\n;==========================================================================;\n; CELLO LINE\n;p1     p2      p3   p4      p5   p6 p7 p8   p9  p10 p11 p12 p13 p14 p15 p16 p17  p18 p19  p20  p21\ni09     0       2.05 18000   6.03 .2 8 .083 1.9 .1   4   3   1   0   0  .8  np19  12  0    13   14\ni09     2       1.4  25000   8.00 .5 3 .005  .15 .2  1   .   .   .   .  .4  np19   1 pp3    2    2\ni09     3.34     .76 18000   6.11 .2 4 .02   .6 .1   3   1   1   .25 .3 .7  np19   .  .    13   14\ni09     4       1.5  16000   6.10 .5 4 .02   .4 .    .   .   .   .   .  .8  np19   .  .    .    .\ni09     9       3    20000   8.05 1  5 .015 1.5 1.5  5   3   1   .1  .1 .2  np19   .  .     2   14\ni09     15      .5   12000   8.09 .1 0 .    .4  .1   1   .   .   .45 .05 .4 np19   .  .    .    .\ni09     16.5    1    13500   9.02 .  . .    .4  .1   1.5 4   1   .   .   .3 np19   .  .    .    .\ni09     18      3    12000  10.01 1  3 .005 .08 .5    3   .   .   .1 2.1 .2 3      .  .    15   14\n;-------------------------------------------------------------------------------------------------\n;PIANO (BELLS) CHORDS\n;p1     p2      p3   p4      p5   p6 p7 p8   p9  p10 p11 p12 p13 p14 p15 p16 p17  p18 p19  p20  p21\ni10     3.5     2.5   9000   7.02 .1 0  0   1.5    .5  8   1   1.4 .5  1  .2  np19  1   0    16   17\ni10     3.5     2.7  10000   6.01 .  .  .   .    .   .   .    .  .   .  .3  np19  .   pp3  .    .\ni10     .       2.9  10500   5.05 .  .  .   .    .   .   .    .  .   .  .   np19  .   .    .    .\ni10     8.66    3.33 12000   7.03 .  .  .   2    .3  9   .    .  .   .  .2  np19  .   pp3  .    .\ni10     8.66    3.5  13000   5.04 .  .  .    .    .   .   .    .  .   .  .3  np19  .   .    .    .\ni10     13.33   3.66  9000   6.11 .  2  .005 .5   .5  8   .    .  .   .  .2  np19  .   .    .    .\ni10     13.33   3.75  9500   6.06 .  .  .    .   .   .   .    .  .   .  .3\ni10     13.33   3.8  10000   6.00 .  .  .    .   .   .   .    .  .   .  .   .\ni10     13.33   3.9  10500   5.10 .  .  .    .   .   .   .    .  .   .  .   3.9   .   .    .    .\n;-------------------------------------------------------------------------------------------------\n;PIANO LYRIC VOICE\n;                 SIMPLE GATING INSTRUMENT WITH CHORUS                    \n;                                                                         \n; P4=AMP      P5=PCH1       P6=PCH2       P7=RISEFAC      P8=DECFAC       \n; P9=OFN1    P10=OFN2      P11=GATEFN    P12=BEATHZ      P13=GATEHZ       \n;=========================================================================\n;p1     p2      p3      p4      p5      p6      p7  p8 p9 p10 p11 p12 p13\ni05     5.66   1.7      16000   7.06   7.06    .2  .3   8   9  10   1   .5\ni05     7.33    .7      18000   6.08   6.08    .1  .5   9   8  .    2   1.3\ni05     8      4        19000   7.07   7.07    .05 2    8   7  .    3   .25\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a freqresponseofear sound using frequency and interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FreqResponseOfEar.orc and FreqResponseOfEar.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2 \n\n\n;*********************************   FREQUENCY RESPONSE OF THE EAR   ***********************************\n; ALTHOUGH SOUNDS WITH A GREATER SOUND PRESSURE LEVEL USUALLY SOUND LOUDER, THIS IS NOT ALWAYS THE CASE.\n; THE SENSITIVITY OF THE EAR VARIES WITH THE FREQUENCY AND THE QUALITY OF THE SOUND. MANY YEARS AGO \n; FLETCHER AND MUNSON (1933) DETERMINED CURVES OF EQUAL LOUDNESS FOR PURE TONES (THAT IS, TONES OF A \n; SINGLE FREQUENCY). THESE CURVES OR SIMILAR CURVES CAN USUALLY BE FOUND IN ACOUSTIC TEXTBOOKS. THESE \n; DEMONSTRATE THE RELATIVE INSENSITIVITY OF THE EAR TO LOW INTENSITY LEVELS. HEARING SENSITIVITY REACH-\n; ES A MAXIMUM AROUND 4000HZ, WHICH IS NEAR THE FIRST RESONANCE FREQUENCY OF THE OUTER EAR CANAL, AND\n; AGAIN PEAKS AROUND 13KHZ, THE FREQUENCY OF THE SECOND RESONANCE.\n; IN THIS DEMONSTRATION, WE COMPARE THE THRESHOLDS OF AUDIBILITY (IN A ROOM) OF TONES HAVING FREQUEN-\n; CIES OF 125, 250, 500, 1000, 2000, 4000, AND 8000HZ. THE TONES ARE 100MS IN LENGTH AND DECREASE IN 10\n; STEPS OF -5DB.\n; FIRST ADJUST THE LEVEL OF THE CALIBRATION TONE SO THAT IT IS JUST AUDIBLE.\n;*****************************************   HEADER   *************************************************\n\n\n \n \n instr         1\n\n iamp          =         ampdb(p4)                ;P4 = AMPLITUDE IN DB \n ifreq         =         p5                       ;P5 = FREQUENCY\n \n k1            linen     iamp,.01,p3,.01         \n a1            oscili    k1,ifreq,1             \n               outs      a1,a1\n endin  \n\n\n</CsInstruments>\n<CsScore>\nf1 0 512 10 1                                                    ; Sine wave\n\n\n;************************************  FREQUENCY RESPONSE OF THE EAR   *******************************\n\n;   p1      p2      p3     p4      p5      \n;  inst    strt    dur    amp    ifreq             \n    i1     1.0     10     30     1000                            ; CALIBRATION TONE\n    s\n;***************************************   -5dB DECRIMENTS   **************************************\n\n;   p1      p2      p3     p4      p5      \n;  inst    strt    dur    amp    ifreq             \n    i1     1.0     .1     60      125\n    i1     1.4     .1     55      125\n    i1     1.8     .1     50      125\n    i1     2.2     .1     45      125\n    i1     2.6     .1     40      125\n    i1     3.0     .1     35      125\n    i1     3.4     .1     30      125\n    i1     3.8     .1     25      125\n    i1     4.2     .1     20      125\n    i1     4.6     .1     15      125\n    i1     5.0     .1     10      125\n    s     \n;   p1      p2      p3     p4      p5      \n;  inst    strt    dur    amp    ifreq             \n    i1     1.0     .1     60      250\n    i1     1.4     .1     55      250\n    i1     1.8     .1     50      250\n    i1     2.2     .1     45      250\n    i1     2.6     .1     40      250\n    i1     3.0     .1     35      250\n    i1     3.4     .1     30      250\n    i1     3.8     .1     25      250\n    i1     4.2     .1     20      250\n    i1     4.6     .1     15      250\n    i1     5.0     .1     10      250\n    s\n;   p1      p2      p3     p4      p5      \n;  inst    strt    dur    amp    ifreq             \n    i1     1.0     .1     60      500\n    i1     1.4     .1     55      500\n    i1     1.8     .1     50      500\n    i1     2.2     .1     45      500\n    i1     2.6     .1     40      500\n    i1     3.0     .1     35      500\n    i1     3.4     .1     30      500\n    i1     3.8     .1     25      500\n    i1     4.2     .1     20      500\n    i1     4.6     .1     15      500\n    i1     5.0     .1     10      500\n    s\n;   p1      p2      p3     p4      p5      \n;  inst    strt    dur    amp    ifreq             \n    i1     1.0     .1     60     1000\n    i1     1.4     .1     55     1000\n    i1     1.8     .1     50     1000\n    i1     2.2     .1     45     1000\n    i1     2.6     .1     40     1000\n    i1     3.0     .1     35     1000\n    i1     3.4     .1     30     1000\n    i1     3.8     .1     25     1000\n    i1     4.2     .1     20     1000\n    i1     4.6     .1     15     1000\n    i1     5.0     .1     10     1000\n    s\n;   p1      p2      p3     p4      p5      \n;  inst    strt    dur    amp    ifreq             \n    i1     1.0     .1     60     2000\n    i1     1.4     .1     55     2000\n    i1     1.8     .1     50     2000\n    i1     2.2     .1     45     2000\n    i1     2.6     .1     40     2000\n    i1     3.0     .1     35     2000\n    i1     3.4     .1     30     2000\n    i1     3.8     .1     25     2000\n    i1     4.2     .1     20     2000\n    i1     4.6     .1     15     2000\n    i1     5.0     .1     10     2000\n    s\n;   p1      p2      p3     p4      p5      \n;  inst    strt    dur    amp    ifreq             \n    i1     1.0     .1     60     4000\n    i1     1.4     .1     55     4000\n    i1     1.8     .1     50     4000\n    i1     2.2     .1     45     4000\n    i1     2.6     .1     40     4000\n    i1     3.0     .1     35     4000\n    i1     3.4     .1     30     4000\n    i1     3.8     .1     25     4000\n    i1     4.2     .1     20     4000\n    i1     4.6     .1     15     4000\n    i1     5.0     .1     10     4000\n    s\n;   p1      p2      p3     p4      p5      \n;  inst    strt    dur    amp    ifreq             \n    i1     1.0     .1     60     8000\n    i1     1.4     .1     55     8000\n    i1     1.8     .1     50     8000\n    i1     2.2     .1     45     8000\n    i1     2.6     .1     40     8000\n    i1     3.0     .1     35     8000\n    i1     3.4     .1     30     8000\n    i1     3.8     .1     25     8000\n    i1     4.2     .1     20     8000\n    i1     4.6     .1     15     8000\n    i1     5.0     .1     10     8000\n    e\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ,6,7,8 using interpolating oscillator and interpolating FM synthesis and chorus effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from WEB2.ORC and WEB2.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n; Howard Fredrics\n; 4:02PM  2/13/1989\n; mus329J\n\n;====================================================================;\n;                       Webern Orchestra                          \n;====================================================================;\n\n;=========================================================================;\n;                 Simple Gating Instrument with Chorus                    ;\n;                                                                         ;\n; p4=amp      p5=pch1       p6=pch2       p7=risefac      p8=decfac       ;\n; p9=ofn1    p10=ofn2      p11=gatefn    p12=beathz      p13=gatehz       ;\n;=========================================================================;\n          instr     5,6,7,8\n\nigatehz   =         (p13 == 0 ? 1/p3 : p13)  ; DEFAULT TO ONCE PER NOTE\nihalfamp  =         p4/2       ipitch1      =       cpspch(p5)\nipitch2   =         cpspch(p6)   ibeatfreq   =       p12\nidetune2  =         ipitch2 + ibeatfreq\n\nkgate     oscili    1,igatehz,p11            ; p11 HAS GATING CONTROL Fn#\nkenvlp    linen     1,p3*p7,p3,p3*p8         ; p7,p8 ARE RISE, DECAY FACS\n\nasig1     oscili    p4,ipitch1,p9            ; SOUND ONE\nastraight2 oscili   ihalfamp,ipitch2,p10     ; STRAIGHT SOUND TWO\nadetune2  oscili    ihalfamp,idetune2,p10    ; DETUNED SOUND TWO\nasig2     =         astraight2 + adetune2    ; SOUND TWO\n                                             \naout1     =         asig1 * kgate\naout2     =         asig2 * (1-kgate)\naoutsig   =         (aout1 + aout2) * kenvlp ; OUTPUT THE SUM\n                \n          outs      aoutsig,aoutsig\n          endin\n;==========================================================================;\n;               Basic FM Instrument with Variable Vibrato                  ;\n;                                                                          ;\n;  p4=amp       p5=pch(fund)    p6=vibdel       p7=vibrate      p8=vibwth  ;\n;  p9=rise      p10=decay       p11=max index   p12=car fac     p13=modfac ;\n;  p14=index rise  p15=index decay  p16=left channl factor p17=original p3 ;\n;  p18=vibfn       p20=irisefn      p21=inrisefn                           ;\n;==========================================================================;\n          instr   9,10\n;------------------------------------------------; INITIALIZATION BLOCK:\nkpitch    init cpspch (p5)\n                                             \nitempo    =         p3/p17                   ; RATIO SECONDS/BEATS\nidelay    =         p6 * itempo              ; CONVERT BEATS TO SECS\nirise     =         p9 * itempo\nidecay    =         p10 * itempo\nindxris   =         (p14 == 0 ? irise : p14 * itempo)\nindxdec   =         (p15 == 0 ? idecay : p15 * itempo)\nivibfn    =         p18\nirisefn   =         p20\ninrisefn  =         (p21 == 0 ? irisefn : p21)\n          if        (p16 != 0) igoto panning ; IF A PANFAC, USE IT, ELSE\nilfac     =         .707                     ; DEFAULT IS MONO (sqrt(.5))\nirfac     =         .707\n          igoto     perform\npanning:\nilfac     =         sqrt(p16)\nirfac     =         sqrt(1-p16)\n;------------------------------------------------; PERFORMANCE BLOCK:\nperform:\n          if        (p7 == 0 || p8 == 0) goto continue\nkontrol   oscil1    idelay,1,.2,2            ; VIB CONTROL\nkvib      oscili    p8*kontrol,p7*kontrol,ivibfn ; VIBRATO UNIT\nkpitch    =         cpsoct(octpch(p5)+kvib)  ; VARYING FUND PITCH IN Hz\ncontinue:\nkamp      envlpx    p4,irise,p3,idecay,irisefn,1,.01 ; irisefn FOR SHAPE OF CELLO\nkindex    envlpx    p11,indxris,p3,indxdec,inrisefn,1,.01\n\nasig      foscili   kamp/3,kpitch,p12,p13,kindex,1 ; p12=CARFAC,p13=MODFAC\n          outs      asig*ilfac,asig*irfac\n          endin       \n\n</CsInstruments>\n<CsScore>\n; Webern Score\n; Howard Fredrics\n; MUS329J\n;5:42PM  3/06/1989\n; Tempo = 25 beats/min\nt00     25\n; Tempo = 50 beats/min\n; t00     50\n; Simple Sine Function\nf01     0       512    10       1\n; Ramp\nf02     0       513     7       0       512     1\n; Exponential rise\n;f03     0       513     5       .001    512     1\n; Quarter Sine Wave in 128 locs + extended guard point\n;f04     0       129     9       .25     1       0\n; Quarter Cosine\n;f05     0       129     9       .25     1       90\n; Triangular Wave\n;f06     0       512     10      1   0 .111   0  .04    0  .02    0 .012\n; Sawtooth Wave\nf07     0       512     10      1  .5   .3 .25   .2 .167  .14 .125 .111\n; Square Wave\nf08     0       512     10      1   0   .3   0   .2    0  .14    0 .111\n; Narrow Pulse\nf09     0       512     10      1 1  1   1 .7 .5 .3 .1\n; Exponential rise and decay\nf10     0       513     5       .1      128      1      384     .01\n; Reverse pyramid\n;f11     0       513     7       1       256     .01       256     1\n; Trill Square\nf12     0       513     7       0       1       .01     1       1       254     1       1       .01     2       0\n;Cello Exponential Rise for Amp\nf13     0       513     5       .001    51      1       102     .2      359     1\n;Cello Exponential Rise for Index\nf14     0       513     5       .001    102      1       102     .6      308     1\n;Cello Inv Exponential Rise for Amp\nf15     0       513     5       .001    51      1       308     .2      153     .05\n;Bell Exponential Rise for Amp\nf16     0       513     5       .001    25      1       77      .6      210     .6      100 .7 100 .4\n;Bell Exponential Rise for Amp\nf17     0       513     5       .001    25      1       77      .4      210     .4      150 .5  50 .2\n\n;==========================================================================;\n;               Basic FM Instrument with Variable Vibrato                  ;\n;                                                                          ;\n;  p4=amp       p5=pch(fund)    p6=vibdel       p7=vibrate      p8=vibwth  ;\n;  p9=rise     p10=decay       p11=max index   p12=car fac     p13=mod fac ;\n; p14=index rise  p15=index decay  p16=left channel factor p17=original p3 p18=vibfn;\n;  p20=irisefn p21=inrisefn\n;==========================================================================;\n;p1     p2      p3   p4      p5   p6 p7 p8   p9  p10 p11 p12 p13 p14 p15 p16 p17  p18 p19  p20  p21\n\ni09     0       2.05 18000   6.03 .2 8 .083 1.9 .1   4   3   1   0   0  .8  np19  12  0    13   14\ni09     2       1.4  25000   8.00 .5 5 .005  .15 .2  1   .   .   .   .  .4  np19   1 pp3    2    2\ni09     3.34     .76 18000   6.11 .2 6 .02   .6 .1   3   1   1   .25 .3 .7  np19   .  .    13   14\ni09     4       1.5  16000   6.10 .5 5 .02   .4 .    .   .   .   .   .  .8  np19   .  .    .    .\ni09     9       3    20000   8.05 1  4 .015 1.5 1.5  5   3   1   .1  .1 .2  np19   .  .     2   14\ni09     15      .5   12000   8.09 .1 0 .    .4  .1   1   .   .   .45 .05 .4 np19   .  .    .    .\ni09     16.5    1    13500   9.02 .  . .    .4  .1   1.5 4   1   .   .   .3 np19   .  .    .    .\ni09     18      3    12000  10.01 1  5 .005 .08 .5    3   .   .   .1 2.1 .2 3      .  .    15   14\n;-------------------------------------------------------------------------------------------------\n;Piano Soprano Voice\n;p1     p2      p3   p4      p5   p6 p7 p8   p9  p10 p11 p12 p13 p14 p15 p16 p17  p18 p19  p20  p21\ni10     3.5     2.5   9000   7.02 .1 0  0   1.5    .5  6  1   1.4 .5  1  .2  np19  1   0    16   17\ni10     3.5     2.7  10000   6.01 .  .  .   .    .   .   .    .  .   .  .3  np19  .   pp3  .    .\ni10     .       2.9  10500   5.05 .  .  .   .    .   .   .    .  .   .  .   np19  .   .    .    .\ni10     8.66    3.33 12000   7.03 .  .  .   2    .3  9   .    .  .   .  .2  np19  .   pp3  .    .\ni10     8.66    3.5  13000   5.04 .  .  .    .    .   .   .    .  .   .  .3  np19  .   .    .    .\ni10     13.33   3.66  9000   6.11 .  2  .005 .5   .5  8   .    .  .   .  .2  np19  .   .    .    .\ni10     13.33   3.75  9500   6.06 .  .  .    .   .   .   .    .  .   .  .3\ni10     13.33   3.8  10000   6.00 .  .  .    .   .   .   .    .  .   .  .   .\ni10     13.33   3.9  10500   5.10 .  .  .    .   .   .   .    .  .   .  .   3.9   .   .    .    .\n;-------------------------------------------------------------------------------------------------\n;Piano Lyric Voice\n;                 Simple Gating Instrument with Chorus                    ;\n;                                                                         ;\n; p4=amp      p5=pch1       p6=pch2       p7=risefac      p8=decfac       ;\n; p9=ofn1    p10=ofn2      p11=gatefn    p12=beathz      p13=gatehz       ;\n;=========================================================================;\n;p1     p2      p3      p4      p5      p6      p7  p8 p9 p10 p11 p12 p13\ni05     5.66   1.7      16000   7.06   7.06    .2  .3   8   9  10   1   .5\ni05     7.33    .7      18000   6.08   6.08    .1  .5   9   8  .    2   1.3\ni05     8      4        19000   7.07   7.07    .02 .5   8   7  .    4   .25\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a carillon sound using interpolating oscillator and interpolating FM synthesis and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from carillon.orc and carillon.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; Csound orchestra code for carillon:\n; from Eastman orchestra library\n\n\n; CSOUND HEADER\n\n; Functions needed: 61 100\n; p fields:\n; p7 attack hardness (.9-1.4) ; p9 = brightness (.5-1.4)\n; p9 = % tremolo (c..07)      ; p10 = tremolo rate (c. 5.5-9.)\n\n          instr 34\n                                             \np4        =         (p4>0?p4:(abs(p4))/100)  ; FOR MICROTONES: -Q00.050 = QUARTER TONE ABOVE C\ni1        =         (p4<14.01? cpspch(p4):p4)\n;i2       =         octpch(p4)\ni2        =         octcps(i1)\ni3        =         (18-i2)*.1               ; c4=1.,c3=1.1,c5=.9, etc.\ni4        =         (i3+1)/2\ni4        =         (i4*p8<1.4?i4:1.4/p8)    ; PROTECTION AGAINST BOMB OUTS\ni5        =         ((12.75-i2)*.4*((p7+1)/2))+3.7 ; DURATION IS FREQUENCY DEPENDENT\ni5        =         (i5<p3?i5:p3)            ; FOR SHORTER NOTES\np5        =         p5*((p7+1)/2)*i4\np6        =         i3*p6/p7\np8        =         p8*i4\np10       =         i4*p10\n\na1        linseg    0,p6,1,((2/(p7+ 1 ))*.05)-p6,(3/(p7+2))*i4*.53,.1 *i5,i4*.26,.15 *i5,i4*.15,.25*i5,i4*.1,(.5 *i5)-.05,0,i5,0\na1        =         a1*p5\nk1        rms       a1\nk2        linseg    1000,p9,0,p3,0           ; USED ONLY TO AVOID TURNING INSTR OFF AT OUTSET\nk2        =         k2+k1\n          if        k2 > 20 kgoto contin\nturnoff\n\n; TREMOLO\np9        =         p9*i4\ncontin: \nk2        =         k1*p9                    ; % OF TREMOLO\na1        =         a1-k2\np10       =         p10*(1/i4)               ; FASTER TREMOLO FOR HIGHER NOTES\nk3        expon     1.2*p10,p3,.6*p10\n;k4       randi     .07*k3,2.1\nk4        randi     .09*k3,2.8\nk2        oscili    k2,k3+k4,100\n; RANDOM AMPLITUDE DEVIATION\n;k3       expseg    p7*.18,p9,p7*.09.i5-p6,.04\n;k3       randi     k3,50/i4\n;k3       expseg    p7*.19,p6,p7*.066,i5-p6,i4*.04\nk3        expseg    p7*.9,p6,p7*.073,i5-p6,i4*.046\nk3        randi     k3,30/i4\na1        =         a1+k2+(k3*a1)            ; TOTAL AMPLITUDE\n                                   \n; ATTACK CHIFF\nk2        expseg    p7*i3,i4*.1 *p6,i4,((p7+ 1)/2)*(.65 *p6),.004,p3,.002\nk2        randi     k2*.5*i1,999\nk2        =         k2+i1\nk3        expseg    p7*(p8*i2*300),p7*.7*p6,.01,p3,.01\na5        randi     k3,800                   ; 999 BEFORE\na5        =         a5+(p8*420*i2)\nk3        expseg    p7*.4,p7*.65 *p9,.001,p3,.0001\na5        oscili    k3*a1,a5,100             ; ATTACK CHIFF\n\n\n; PITCH OSCILLATORS: 3 FREQ.  MOD.  CARRIERS & 1 SINE WAVE OSCILLATOR (a4)\ni8        =         p7*p8*i4*(i2<9?1 :((12.3-i2)*.3))\nk4        oscil1i   p7*p8*p6,i8*.3,(i5-p6)*i8*.62,61 ;AMPLITUDE OF CARRIER 2\nk5        oscil1i   p7*p8*p6,p8*i4*.28,(i5-p6)*p8*i3*.23,61 ; AMPLITUDE OF CARRIER 3\n\n\n\n\nk6        linseg    .1,p6,.1,(.38*i5)-p6,.2,.6*i5,.05  ; AMPLITUDE FOR a4\nk6        =         p8 * k6\nk7        expseg    p7*i3*1.6,p6,i4*1.2*p8,i5,i4*p8 ; FILTER MULTIPIER FOR ATTACK CHIFF.\n\n\n; - - CARRIER 2\nk3        expseg    p7*3,p6,2.5,i4*.07 *i5,2.,i4 *.1 *i5,1.2,.8 *i5,.8\nk3        =         k3*p8*i4\na2        foscili   k4*a1, k2+.5,.504,.498,k3,100\na2        reson     a2,1.5*i1,k7*3.5*i1,1\n; - - CARRIER 3\nk3        expseg    p7*i4*2.8,p6,1.8,i3*p8*.06*i5,1.2,i3*p8*.09*i5,1.,p3,.1\nk3        =         k3*p8*i3\n                                             \ni6        =         (4*i1<sr/2?3.996:2.996)  ; FOLDOVER PROTECTION\ni7        =         (i1 <1800*(sr/20000)?1.:0) ; O = FOLDOVER PROTECTION\na3        foscili   k5*a1,k2+.7,i6,1.33,k3*i7,100\na3        reson     a3,5.33*i1,k7*2.8*i1,1\n\na4        oscili    k6*a1,1.22*k2,100\n; # - - CARRIER 1\nk3        expseg    p7*i4*2.8,p7*.7*p6,p7,1/p7*3*p6,2.2,.12*i5,1.6,.13*i5,1.2,.75*i5-p6,.3\nk3        =         k3*p8*i4\na1        foscili   a1-((k4+k5+k6)*a1),k2,1, 1.004,k3,100\na1        reson     a1,2.5*i1,k7*3.1*i1,1\n\na1        =         1.7*(a1+a2+a3+a4)        ; RESTORE GAIN LOST IN FILTERS\na1        =         a1+a5\n\n; STANDARD OUT STATEMENT\n\n          out       a1\n          endin\n\n</CsInstruments>\n<CsScore>\n; scorefile by John P. Lamar for \n; carillon from Eastman orchestra library\nf61 0 65 5 1. 64 .01 ;expo down\nf100 0 1024 10 1 ;sine wave\n;----p fields\n; p1 instrument\n; p2 start time\n; p3 duration\n; p4 pitch (in pch or cps if greater then 13.)\n; p5 amplitude\n; p6 attack time (c. .005-.012)\n; p7 attack hardness  range: .8-1.4)\n; p8 brightness (range: .5-1.4)\n; p9 %tremolo (c .07)\n; p10 tremolo rate (c.5.5-6)\n\n;p1  p2 p3 p4   p5    p6  p7  p8     p9  p10 \ni34 00 4  6.00  15000 .005 .8   1  .07  6\ni34 +  4  7.00 15000 .005 .8   1  .07  6\ni34 +  4  7.07 15000 .005 .8   1  .07  6\ni34 +  4  8.00 15000 .005 .8   1  .07  6\ni34 +  4  9.00 15000 .005 .8   1  .07  6\ni34 +  4 10.00 15000 .005 .8   1  .07  6\ni34 +  4 10.05 15000 .005 .8   1  .07  6\ni34 +  4 11.00 15000 .005 .8   1  .07  6\ns \nf0 2\n;various attacks hardness (p7)\n;p1  p2 p3 p4   p5    p6    p7    p8   p9  p10    \ni34 00 4  9.00 15000 .005  .80  1.25  .07  6\ni34 +  4  9.00 15000 .005  .90  1.25  .07  6\ni34 +  4  9.00 15000 .005  1.0  1.25  .07  6\ni34 +  4  9.00 15000 .005  1.15 1.25  .07  6\ni34 +  4  9.00 15000 .005  1.25 1.25  .07  6\ni34 +  4  9.00 15000 .005  1.50 1.25  .07  6\ns\nf0 2 \n;various brightness (p8)\ni34 00 4  9.00 15000 .005  1.0  0.50  .07  6\ni34 +  4  9.00 15000 .005  1.0  0.75  .07  6\ni34 +  4  9.00 15000 .005  1.0  1.00  .07  6\ni34 +  4  9.00 15000 .005  1.0  1.25  .07  6\ni34 +  4  9.00 15000 .005  1.0  1.40  .07  6\ns \nf0 2\n;various tremolo rates p(p9)\ni34 00 4  9.00 15000 .005  1.0  1.00  .07  3\ni34 +  4  9.00 15000 .005  1.0  1.00  .07  4\ni34 +  4  9.00 15000 .005  1.0  1.00  .07  5\ni34 +  4  9.00 15000 .005  1.0  1.00  .07  6\ns \nf0 2\n;various attack times (p6)\ni34 00 4  9.00 15000 .005  1.0  1.00  .07  5\ni34 +  4  9.00 15000 .007  1.0  1.00  .07  5\ni34 +  4  9.00 15000 .008  1.0  1.00  .07  5\ni34 +  4  9.00 15000 .009  1.0  1.00  .07  5\ni34 +  4  9.00 15000 .010  1.0  1.00  .07  5\ni34 +  4  9.00 15000 .012  1.0  1.00  .07  5\ni34 +  4  9.00 15000 .015  1.0  1.00  .07  5\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a markov sound using interpolating oscillator and stereo reverb and panning", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from markov.orc and markov.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n;THIS ORCHESTRA IS AN ATTEMPT AT REALISING PITCH AND ONSET-TIME\n;USING MARKOV PROCESSES.  THE CURRENT PROBLEM HAS TO DO\n;WITH CLICKING OF ENVELOPES    A.D. HANNA\n;MODIFIED ENVELOPES TO REDUCE POPPING M VIGORITO\n\n\n\nga1       init      0\n\n          instr     1\nitablesize =        32 ;PITCH TABLES 2 AND 3 ARE INDEXED FROM 0 TO 31\niratchoose =        p9 ;DETERMINES WHICH OF TWO TEMPOS ARE USED\n\nkdclick   linseg    0,.04,1,p3-.08,1,.04,0\n\n;A NEAT WAY TO REPRESENT MARKOV CHAINS.\n;CHOOSE BETWEEN TWO SUBSETS OF THE SET \"FURNITURE\"\nif (iratchoose == 0) igoto furniture.to.sit.on\nif (iratchoose == 1) igoto furniture.to.put.stuff.in\n\n;----------------------------------------------------------------------\nfurniture.to.sit.on:\n        ;BEING HERE DEPENDS ON OUTCOME OF p9\n\nkindex phasor p5*p6 \n        plantatulip:\nkenv      linen 1,.04,1/p5,1/p5*.5\n\ninotechoose =       p8\n        ;CHOOSE BETWEEN TWO PITCH TABLES\n        ;THE SECOND OF WHICH IS A TRANSPOSITION\n        ;OF THE FIRST IN THE ORDER OF 1 SEMITONE.\n        if (inotechoose == 1) igoto chair\n        if (inotechoose == 0) igoto sofa\n        \n        ;--------------------------------------------------\n        chair:  ;BEING HERE DEPENDS ON THE OUTCOME OF p9 AND p8\n                iipitch table i(kindex)*itablesize,2\n                igoto resume\n        \n        ;--------------------------------------------------\n        sofa:   ;BEING HERE DEPENDS ON THE OUTCOME OF p9 AND p8\n                iipitch table i(kindex)*itablesize,3\n                igoto resume\n\n        resume:\n        timout 0,1/p5,pluckatulip\n        reinit plantatulip\n\n;----------------------------------------------------------------------\nfurniture.to.put.stuff.in:\n        ;BEING HERE DEPENDS ON OUTCOME OF p9\n        kindex phasor (p5*p6)*1.125 ;varies phase of lfo vs beat \n        ;THUS CREATING MELODIC PATTERNS\n        plantadaisy:\nkenv      linen     1,.04,1/p5,1/p5*.5\n\n        inotechoose = p8\n        if (inotechoose == 1) igoto bookcase\n        if (inotechoose == 0) igoto wardrobe\n\n        ;-----------------------------------------------\n        bookcase:       ;BEING HERE DEPENDS ON THE OUTCOME OF p9 AND p8\n                        iipitch table i(kindex)*itablesize,2\n                        igoto continue\n\n        ;--------------------------------------------------\n        wardrobe:       ;BEING HERE DEPENDS ON THE OUTCOME OF p9 AND p8\n                        iipitch table i(kindex)*itablesize,3\n                        igoto continue\n\n        continue:\n        timout 0,1/p5,pluckatulip\n        reinit plantadaisy\n\npluckatulip:\n\na2        oscili    ampdb(p4)*kenv*kdclick,cpspch(iipitch+p7),1 ;p7 = OCTAVE TRANSPOSITION     \nga1       =         a2+ga1\n          outs      a2,a2\n\n          endin\n\n          instr     50                    \n\nkfreq     expseg    0.01,p3*.2,.4,p3*.2,1,p3*.2,1.5,p3*.2,.1,p3*.2,.05\nk1        oscili    .5,kfreq*p4,1 ;kfreq*p4=cps of pan\nk2        =         .5+k1\nk3        =         1-k2\na1        reverb2   ga1,2.1,.5\n          outs      k2*a1,a1*k3*(-1)\nga1       =         0\n          endin\n\n</CsInstruments>\n<CsScore>\n\n\n;SCORE\n\nf1 0 8192 10 1\nf2 0 64 -2 7.10 7.02 7.07 8.05 9.02 7.05 8.10 8.02 7.07 8.07 8.05 8.02 8.10\n9.02 7.07 9.07 8.00 7.02 8.02 8.10 7.07 7.05 8.00 8.02 9.02 9.02 8.10 7.07\n8.05 9.02 8.02 9.07 \nf3 0 64 -2 7.11 7.03 7.08 8.06 9.03 7.06 8.11 8.03 7.08 8.08 8.06 8.03 8.11\n9.03 7.08 9.08 8.01 7.03 8.03 8.11 7.08 7.06 8.01 8.03 9.03 9.03 8.11 7.06\n8.06 9.03 8.03 9.08 \n\n\n\n\ni50 0   28     10\n\n\n; ------- BEGIN OF FIELD 1 --- SECONDS: 0.00 - 28.00 --------\n;ins    time    dur     p4      p5      p6      p7      p8      p9\n\ni1      0       0.25    65      3.29    0.46    -1      0       1       \ni1      0.25    0.375   65      3.36    0.78    1       1       0       \ni1      0.625   1       65      6.95    0.39    1       1       1       \ni1      1.625   1.25    65      3.32    0.53    -1      1       0       \ni1      2.75    0.25    65      4.2     0.86    1       0       1       \ni1      3.75    1.25    65      7.36    0.15    1       0       0       \ni1      4.125   1       65      6.2     0.99    -1      0       0       \ni1      4.375   0.375   65      1.12    0.69    1       0       0       \ni1      4.75    0.25    65      4.28    0.42    -1      0       1       \ni1      5.75    0.375   65      1.69    0.18    1       0       1       \ni1      6.875   1       65      8.19    0.91    1       1       0       \ni1      7.875   1.25    65      3.28    0.34    -1      0       1       \ni1      8.25    0.25    65      3.3     0.11    1       0       0       \ni1      8.5     1.25    65      1.97    1       1       1       0       \ni1      8.875   1       65      2.82    0.11    -1      0       0       \ni1      9.875   0.375   65      3.4     0.21    1       1       0       \ni1      11      0.25    65      3.01    0.97    1       1       1       \ni1      12      0.375   65      5.54    0.18    -1      1       0       \ni1      12.375  1       65      1.44    0.98    1       1       1       \ni1      12.625  1.25    65      4.33    0.86    1       1       1       \ni1      13      0.25    65      6.15    0.77    -1      1       1       \ni1      14      1.25    65      6.48    0.24    1       1       0       \ni1      15.125  1       65      3.91    0.62    -1      1       1       \ni1      16.125  0.375   65      1.12    0.33    1       0       1       \ni1      16.5    0.25    65      7.43    0.73    1       1       1       \ni1      16.75   0.375   65      2.59    0.9     -1      0       0       \ni1      17.125  1       65      5.57    0.13    1       0       1       \ni1      18.125  1.25    65      4.08    0.77    1       0       0       \ni1      19.25   0.25    65      8.57    0.37    -1      0       1       \ni1      20.25   1.25    65      2.42    0.3     1       1       0       \ni1      20.625  1       65      4.24    0.52    1       0       1       \ni1      20.875  0.375   65      5.75    0.67    -1      1       1       \ni1      21.25   0.25    65      1.24    0.64    1       0       0       \ni1      22.25   0.375   65      8.26    0.75    1       1       0       \ni1      23.375  1       65      7.23    0.24    -1      0       0       \ni1      24.375  1.25    65      3.9     0.62    1       1       1       \ni1      24.75   0.25    65      6.14    0.58    -1      1       0       \ni1      25      1.25    65      7.11    0.96    1       0       0       \ni1      25.375  1       65      6.33    0.14    1       1       0       \ni1      26.375  0.375   65      8.53    0.92    -1      0       0       \ni1      27.5    0.25    65      7.9     0.4     1       0       1       \n\n; ------- END OF FIELD 1 --- NUMBER OF EVENTS: 41 -------\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for 1 INSTRUMENTS using granular synthesis and interpolating oscillator and simple sine oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from granular2.orc and granular2.sco\n; Original files preserved in same directory\n\n     sr             =              44100\n     kr             =              2205      \n     ksmps          =              20\n     nchnls         =              2\n\n;HOWARD FREDRICS\n;MUS 329J\n;\n;=====================================================================\n;\n;                       ORCHESTRA HEADER\n;\n;\n;=====================================================================\n;\n;\n;=================================================================;\n;       PITCH CHANGING GRANULAR SYNTHESIS INSTRUMENT                                 \n;                                                                \n;       P4 = WAVE FUNCTION 1    P5 = WAVE FUNCTION 2     P6 = DESIRED PITCH IN MIDI (CONVERTED TO FREQ OF WAVEREADING)                       ;\n;       P7 = PEAK AMP P8=ATTACK P9=DECAY P10 = WAVEMIXER FREQ IN HZ                               \n;       P11=GRAINFREQ    P12 = VIBRATE    P13 = VIBWIDTH P14=REVTIME\n;       P15=DRY/WETMIX (PERCENTAGE 0-100) P16=TBLESIZE P17=DELAY TIME (MSEC)\n;                                                                  \n;=================================================================;\n;\n                    instr          1                             ;1 INSTRUMENTS\niwave1              =              p4                            ;SOUNDIN FUNCTION NUMBERS (GEN -1) \niwave2              =              p5\niwavemixer          =              p10                           ;WAVE MIXER FREQ IN HZ\nitblesize           =              p16                           ;WAVE TABLE SIZE\n;\nitak                =              p8                            ;ATTACK TIME FOR NOTE\nidec                =              p9                            ;DECAY TIME\nigrainenv           =              15                            ;GRAIN ENV IS FUNCTION 15\nigrainfreq          =              p11\n;\nimidinn             =              p6                            ;STORE MIDI NN IN VARIABLE FOR LATER USE\nioctmid             =              3+(imidinn/12)                ;THEORETICAL FUNDAMENTAL (P5) CONVERTED FROM MIDI NN TO OCT \nicpswave            =              cpsoct(ioctmid)               ;THEORETICAL FUNDAMENTAL CONVERTED FROM OCT TO CPS\nicpswave            =              (icpswave*(sr/itblesize))/4   ;CONVERT TO ACTUAL FREQ BASED ON SR/TABLESIZE \n;                                                                ;SO THAT ORC SR CAN BE VARIED\n;\nipkamp              =              p7/2                          ;PEAK 16 BIT AMP FOR TWO WAVES\n;\n;    \nivibrate            =              p12\nivibwidth           =              p13/(2*3.14159)               ;INDEX/2PI\n;\nirevtime            =              p14                           ;REV TIME IN SEC\nidrywet             =              p15/100                       ;DRY PERCENTAGE\nidelaytime          =              p17/1000                      ;DELAY TIME IN MS\nidelayfn            =              3\niloopstart          =              0\niloopend            =              p19\nilooplen            =              iloopend-iloopstart\n\n;\n;                       PERFORMANCE BLOCK\n;\nkport               init           1                                  ;INITIALIZE PORTAMENTO ENV\nkport               oscil1         itak+(p3-irevtime),1,idec,2        ;SLIGHT RAMP DOWN IN PITCH FOR EACH NOTE'S DECAY     \n;\nkgrainfreq          init           igrainfreq                         ;INITIALIZE KGRAINFREQ TO ITIME VALUE\nkrand               init           0                                  ;INIT FIRST RAND FACTOR TO 0\nkrand               randh          kgrainfreq/2,(krand +igrainfreq)   ;CHOOSE NEW GRAIN SIZE 1X PER GRAINENV\n;\nkgraingate          init           0                                  ;INITIALIZE GRAINENV TO 0\nkgraingate          oscili         1,igrainfreq+krand,igrainenv       ;GRAINENV IS A QUASI-GAUSIAN ENV WITH FREQ SLIGHTLY RANDOMIZED\n;\nkmastergate         linseg         0,itak,1,(p3-irevtime-itak-idec),1,idec,0,irevtime,0   ;FINAL OUTPUT ENVELOPE\nkmodphase           init           0                                  ;INITIALIZE PHASE\nkmodphs             oscili         ivibwidth,ivibrate,1               ;VIBRATO OSCILATOR\n;\n\nawave1phs           phasor         cpsoct(octcps(icpswave)+kmodphs)*kport  ;MOVING PHASE VALUES FOR WAVESHAPE OSCILS\nawave2phs           phasor         cpsoct(octcps(icpswave)+kmodphs)*kport\nkmix                oscili         1,iwavemixer+(krand/10),11              ;PYRAMID WITH RANDOM FREQ VARIATION\nkdelayenv           oscil1i        0,kmastergate,p3,idelayfn               ; VARIABLE DELAY ENVELOPE FOR SECOND WAVE\n;\nkindex1             init           0\nkindex2             init           0\nkprev1              =              kindex1\nkprev2              =              kindex2\naindex1             =              (awave1phs*ilooplen)+iloopstart\naindex2             =              (awave2phs*ilooplen)+iloopstart\nkindex1             downsamp       aindex1\nkindex2             downsamp       aindex2\n;asig1              tablei         awave1phs*itblesize,iwave1,0,0,1        ;CREATE WAVE OUTPUT OSCILLATORS\nasig1               tablei         aindex1,iwave1,0,0,1                    ;CREATE WAVE OUTPUT  \nasig2               tablei         aindex2,iwave2,0,0,1                    ;CREATE WAVE OUTPUT  \n;asig2              tablei         awave2phs*itblesize,iwave2,0,0,1 \nktempscale1         tablei         kindex1, igrainenv,0,0,1                ;LOOP RAMP FADE ENV\nktempscale2         tablei         kindex2, igrainenv,0,0,1                ;LOOP RAMP FADE ENV\nkscale1             =              (iloopstart>0 ? ktempscale1:1)  \nkscale2             =              (iloopstart>0 ? ktempscale2:1)  \nif             iloopstart > 0      goto noreinit\nif             kindex1 >=kprev1    goto noreinit\nif             kindex2 >=kprev2    goto noreinit\n                    reinit         startreinit\nstartreinit:\n   \niloopstart          =              p18\n   ilooplen         =              iloopend-iloopstart \n                    rireturn\n   aindex1          =              iloopstart + aindex1       \n   aindex2          =              iloopstart + aindex2       \nnoreinit:\nadeltime            upsamp         kdelayenv*idelaytime\n        adump       delayr         idelaytime                              ;        CENTER DELAY TIME\n        ad2         deltapi        adeltime\n                    delayw         asig2\n        asig2       =              ad2\nasig                =              kmastergate*(asig1*kmix*(kgraingate*ipkamp)*kscale1)   ;SPLIT UP OF CODE INTO TWO LINES (FIXES RT ERROR)\nasig                =              (asig+(kmastergate*(asig2*(1-kmix)*(kgraingate*ipkamp))))\n;\nadry                =              asig*idrywet\narev                reverb         asig*(1-idrywet),irevtime               ;REV SIGNAL\n;\nkrandpan            randi          1,(igrainfreq+krand)/20                 ;QUASI RANDOM PANNING BASED ON GRAIN FREQ\nklfac               =              sqrt(abs(krandpan))\nkrfac               =              sqrt(1-(abs(krandpan)))\n;\nouts                (adry+arev)*klfac,(adry+arev)*krfac ;output the panned/rev. sigs   \nendin\n\n\n\n          \n\n</CsInstruments>\n<CsScore>\n;Howard Fredrics\n;3:13PM  4/03/1989\n;MUS329J\n;\n;====================================================================;\n;                       FINAL GRANULAR SYNTHESIS SCORE V.2                         ;\n;====================================================================;\n;\n;  TEMPO IN BEATS/MIN\nt0     60      \n; SIMPLE SINE FUNCTION\nf01     0       512    10       1 \n; RAMP DOWN\nf02     0       513    -7       1       512     .64\n;DELAY ENV\nf03      0        513     -7    .4      64      .5      128     1       128     .5      192     0      \n; PYRAMID\nf11     0       513     7       0       256     1       256     0\n; WAVE 1 FUNCTION\nf13     0       32768  1     222      0  4   0\n; WAVE 2 FUNCTION\nf14     0       32768   1  222      0  4 0\n; GRAIN ENV FUNCTION\nf15     0       128     7       0       26      1       76      1       26      0\n;=========================================================================;\n;p1     p2      p3      p4      p5      p6      p7      p8      p9      p10      p11     p12     p13     p14     p15     p16     p17            p18     p19\n;ins    strt    dur    wave1    wave2   pit     amp     att     dec     mixfreq  grfr    vibrat  vibwid  rvtim   dry/wet tblsize delaytime      loopst  loopend\ni1        0       5    13           14           -14     70000   .5       .3     32      23     7         .01           1.1        90      32768  12      1  32768\ne\n\n\n\n\n\n\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a eastmarimba sound using interpolating oscillator and interpolating FM synthesis and marimba physical model", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from eastmarimba.orc and eastmarimba.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t1\n\n; Eastman Intrument #1\n; 1. Instrument marimba:\n; CSOUND HEADER\n\n; Function Needed: 100\n; p fields:\n; p6 attack time (c..01-.04)\n; P7 attack hardness(1.  ord: range.75-1.5)\n; p8 brightness (1. ord: range:.25-1.5)\n\t\n\t\tinstr 30\np4\t\t=\t\t(p4>0?p4:(abs(p4))/100)\t; FOR MICROTONES;-800.050 = QUARTER TONE ABOVE c\ni1\t\t=\t\t(p4<13.01? cpspch(p4):p4)\ni2\t\t=\t\toctcps(i1)\ni99\t\t=\t\t1\np5\t\t=\t\tp5 *i99\np7\t\t=\t\tp7 * i99\np8\t\t=\t\tp8*i99\ni3\t\t=\t\t(16.25-i2)*.12\t\t\t; SCALAR\t; ef3 = 96,ef3=1.08,ef5=.84.\ni4\t\t=\t\t(i3+1)/2\t\t\t\t; SCALAR\n\np6\t\t=\t\tp6*i3\ni5\t\t=\t\t((12.15-i2)*.32*((p7+2)/3))+.12 ; DURATION & AMPLITUDE DEPEND UPON PITCH\np5\t\t=\t\tp5*((p7t1)/2)*(i3<1.?1.:i4)\t; & HARDNESS OF ATTACK\ni15\t\t=\t\tp7*p8*i3\t\t\t\t; SCALAR BASED ON PITCH, ATTACK HARDNESS & BRIGHTNESS\n\np8\t\t=\t\t(i2<11?p8:p8 - (abs(i2-13)*.1)) ; PROTECTION AGAINST BOMB OUTS\na1\t\tlinseg\t0,p6/p7,1,((2/(p7+1))*i4*.055)-p6,(3/(p7+2))*i4*.54,.1*i5,.27,.15 *i5,i4*.15,.25*i5,i4*.1,(.5 *i5)-.055,0,i5,0\na2\t\tlinseg\t1,p3-.025,1,.025,0\na1\t\t=\t\ta2*a1*p5\n\t\ttimout\t(i5 < p3?  i5 : p3),p3, test\n\t\tgoto\t\tcontin\ntest:\t\nk2\t\trms\t\ta1\n\t\tif\t\tk2 > 10 kgoto contin\nturnoff\n\n; RANDOM AMPLITUDE DEVIATION\ncontin: \nk1\t\texpseg\tp7 *.2,p6,p7 *.09,i2-p6,.06\nk1\t\trandi\tk1,39/p7\na1\t\t=\t\ta1 + (k1*a1)\t\t\t; TOTAL AMPLITUDE\n\n;***ATTACK CHIFF***\nk2\t\texpseg\tp7*p8*i4,((p7+1)/2)*(.77*p6),.002,p3,.001\nk2\t\trandi\tk2*.5,999\t\t\t\t; RANDOM FREQUENCY DEVIATION\n\nk3\t\texpseg\tp7*p8 *i3*2.2,p7 *.8*p6,.001,p3,.001 ; ENVELOPE FOR 38 INDEX\n\n; FREQUENCIES AND ENVELOPES OF THE INDIVIDUAL PARTIALS\n\t\tif\t\ti2>7.75 igoto treble\n; FREQUENCIES OF THE PARTIALS\n\n; 6 PARTIALS FOR LOW TONES (a3 & BELOW)\ni6\t\t=\t\t4.03\ni7\t\t=\t\t10.1\ni8\t\t=\t\t17.9\ni9\t\t=\t\t24.2*i1\ni10\t\t=\t\t33.5*i1\ni11\t\t=\t\t42.9*i1\n\t\tif\t\ti2 <6.75 igoto skip\ni6\t\t=\t\ti6-((12-6.75)*.02)\ni7\t\t=\t\ti7-((12-6.75)*.2)\ni8\t\t=\t\ti8-((12-6.75)*1.)\n\t\nskip:\ni6\t\t=\t\ti6*i1\ni7\t\t=\t\ti7*i1\ni8\t\t=\t\ti8*i1\ni12\t\t=\t\t1+(.8*(i2-6.75))\ni13\t\t=\t\t1+(.33*(i2-6.75))\ni14\t\t=\t\t1+(.6*i12)\ni15\t\t=\t\t7.85-12\n\ni16\t\t=\t\t.14\ni17\t\t=\t\t.18\ni18\t\t=\t\t.17\ni19\t\t=\t\t.22\ni20\t\t=\t\t.06\ni21\t\t=\t\t.12\ni22\t\t=\t\t 05.\ni23\t\t=\t\t.06\ni24\t\t=\t\t.02\n\t\tigoto\tdoit\n; - - - MIDRANGE : 4 PARTIALS FOR TONES BETWEEN bf3 AND a5\ntreble: \n\t\tif\t\ti2 > 9.75 igoto veryhi\n\t\tif\t\ti2> 8.75 goto higher\ni6\t\t=\t\t(4.01+(.03*(i2-7.75)))*i1 ; PARTIAL FREQUENCIES FOR a3-a4\ni7\t\t=\t\t(10. - (.9*(i2-7.75)))*i1\ni8\t\t=\t\t(16.9-(3.*(i2-7.75)))*i1\ni12\t\t=\t\t1+((i2-7.75)*.2)\ni13\t\t=\t\t1-((i2-7.75)*.12)\n\t\tigoto\tskip2\nhigher: \ni6\t\t=\t\t(4.04-(.74*(i2-8.75 )))*i1 ; PARTIAL FREQUENCIES FOR a4-a5\ni7\t\t=\t\t(9.1-(2.7*(i2-8.75)))*i1\ni8\t\t=\t\t(13.9-(2.8*(i2-8.75)))*i1\ni12\t\t=\t\t1+((9.75-i2)*.2)\ni13\t\t=\t\t.9\nskip2:\ni16\t\t=\t\t.15\ni17\t\t=\t\t.13\ni18\t\t=\t\t.13\ni19\t\t=\t\t.09\ni20\t\t=\t\t.07\ni21\t\t=\t\t.04\n\t\tigoto\tdoit\n; - - - - 3 PARTIALS FOR HIGHEST TONES (bfs AND ABOVE)\nveryhi:\t\t\t\t\t\t\t\t\ni6\t\t=\t\t(3.3-((i2-9.75)*.3))*i1\ni6\t\t=\t\t(i6<sr/2?i6:.75*(sr/2))\t; FOLDOVER PROTECTION\ni7\t\t=\t\t(6.4-((i2-9.75 )*.7))*i1\ni7\t\t= \t\t(i7<sr/2?i7:.85*(sr*2))\t; FOLDOVER PROTECTION\ni12\t\t=\t\t1\ni13\t\t=\t\t1\nil6\t\t=\t\t.14\ni17\t\t=\t\t.14\ni18\t\t=\t\t.11\ni9\t\t=\t\t.09\n \ndoit:\na2\t\texpseg\tp8*i16,i3*i17*i5,p8*.005\na2\t\t=\t\ti12*a2*a1\na1\t\t=\t\ta1-a2\na2\t\toscili\ta2,i6+(k2*i6),100,.05\t; partial 2\n\na3\t\texpseg\tp8*i8,i5*i3*i19,p8*.004\na3\t\t=\t\ti13*a3*a1\na1\t\t=\t\ta1-a3\na3\t\toscili\ta3,i7+(k2*i7),100,.11\t; partial 3\na2\t\t=\t\ta2+a3\n\t\tif\t\ti2 >9.75 kgoto fos\na3\t\texpseg\ti15*i20,i5*i15*i21,p8*.004\na3\t\t=\t\ti14*a3*a1\na1\t\t=\t\ta1-a3\na3\t\toscili\ta3,i8+(k2*i8),100,.15\t;partial4\na2\t\t=\t\ta2+a3\n\t\tif\t\ti2 > 7.75 kgoto fos\na3\t\texpseg\ti15*i22,i5*i15*i23,p8*.003\na3\t\t=\t\ti15*a3*a1\na1\t\t=\t\ta1-a3\na3\t\toscili\ta3,i9+(k2*i9),100,.21  ;partial 5\na2\t\t=\t\ta2+a3\n\t\tif\t\ti2 > 7.5 kgoto fos\na4\t\texpseg\ti15 *i24,i5*i15*i24,p8*.003\na4\t\t=\t\ti15*a4*a1\nal\t\t=\t\ta1-a4\na4\t\toscili\ta4,i10+(k2*i10),100,.24 ;partial 6\na2\t\t=\t\ta2+a4\n\nfos:\na1\t\tfoscili\tal,i1+(k2*i1),1,((p7+i4)/2)*1.2,p7*p8*i3 *k3,100\na1\t\t=\t\ta1+a2\n\n\n; STANDARD OUT STATEMENT\n\t\tout\t\ta1\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n; scorefile for Eastman marimba by John P. Lamar\n\nf100 0 1024 10 1 ;sine wave\n;----p fields\n; p1 instrument\n; p2 start time\n; p3 duration\n; p4 pitch (in pch or cps if greater then 13.)\n; p5 amplitude\n; p6 attack time (c. .01-.04)\n; p7 attack hardness ( 1. ord; range: .75-1.5)\n; p8 brightness ( 1.0 ord ; range: .24-1.24)\nt 0 240\n;p1  p2 p3 p4   p5 p6  p7 p8       \ni30 00 1 4.00 20 .01  1   1\ni30 +  1 4.07 20 .01  1   1\ni30 + 1  5.02 20 .01  1   1\ni30 + 1  5.03 20 .01  1   1\ni30 + 1  5.04 20 .01  1   1\ni30 + 1  5.05 20 .01  1   1\ni30 + 1  5.06 20 .01  1   1\ni30 + 1  5.07 20 .01  1   1\ni30 + 1  6.08 20 .01  1   1\ni30 + 1  7.00 20 .01  1   1\ni30 + 1  7.07 20 .01  1   1\ni30 + 1  8.00 20 .01  1   1\ni30 + 1  9.00 20 .01  1   1\ni30 + 1 10.00 20 .01  1   1\ni30 + 1 11.00 20 .01  1   1\ns\nt 0 240\n;p1  p2 p3 p4   p5 p6  p7  p8      \ni30 00 1 4.00 20 .01  1.5  1.25\ni30 + 1  4.07 20 .01  1.5  1.25\ni30 + 1  5.02 20 .01  1.5  1.25\ni30 + 1  5.03 20 .01  1.5  1.25\ni30 + 1  5.04 20 .01  1.5  1.25\ni30 + 1  5.05 20 .01  1.5  1.25\ni30 + 1  5.06 20 .01  1.5  1.25\ni30 + 1  5.07 20 .01  1.5  1.25\ni30 + 1  6.08 20 .01  1.5  1.25\ni30 + 1  7.00 20 .01  1.5  1.25\ni30 + 1  7.07 20 .01  1.5  1.25\ni30 + 1  8.00 20 .01  1.5  1.25\ni30 + 1  9.00 20 .01  1.5  1.25\ni30 + 1 10.00 20 .01  1.5  1.25\ni30 + 1 11.00 20 .01  1.5  1.25\ns\nt 0 240\n;p1  p2 p3 p4   p5 p6  p7  p8      \ni30 00 1 4.00 20 .04  1.5  1.25\ni30 + 1  4.07 20 .04  1.5  1.25\ni30 + 1  5.02 20 .04  1.5  1.25\ni30 + 1  5.03 20 .04  1.5  1.25\ni30 + 1  5.04 20 .04  1.5  1.25\ni30 + 1  5.05 20 .04  1.5  1.25\ni30 + 1  5.06 20 .04  1.5  1.25\ni30 + 1  5.07 20 .04  1.5  1.25\ni30 + 1  6.08 20 .04  1.5  1.25\ni30 + 1  7.00 20 .04  1.5  1.25\ni30 + 1  7.07 20 .04  1.5  1.25\ni30 + 1  8.00 20 .04  1.5  1.25\ni30 + 1  9.00 20 .04  1.5  1.25\ni30 + 1 10.00 20 .04  1.5  1.25\ni30 + 1 11.00 20 .04  1.5  1.25\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for 1 INSTRUMENTS using granular synthesis and interpolating oscillator and simple sine oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from granular3.orc and granular3.sco\n; Original files preserved in same directory\n\n     sr             =              44100\n     kr             =              2205      \n     ksmps          =              20\n     nchnls         =              2\n\n;HOWARD FREDRICS\n;MUS 329J\n;\n;=====================================================================\n;\n;                       ORCHESTRA HEADER\n;\n;\n;=====================================================================\n;\n;\n;=================================================================;\n;       PITCH CHANGING GRANULAR SYNTHESIS INSTRUMENT                                 \n;                                                                \n;       P4 = WAVE FUNCTION 1    P5 = WAVE FUNCTION 2     P6 = DESIRED PITCH IN MIDI (CONVERTED TO FREQ OF WAVEREADING)                       ;\n;       P7 = PEAK AMP P8=ATTACK P9=DECAY P10 = WAVEMIXER FREQ IN HZ                               \n;       P11=GRAINFREQ    P12 = VIBRATE    P13 = VIBWIDTH P14=REVTIME\n;       P15=DRY/WETMIX (PERCENTAGE 0-100) P16=TBLESIZE P17=DELAY TIME (MSEC)\n;                                                                  \n;=================================================================;\n;\n                    instr          1                             ;1 INSTRUMENTS\niwave1              =              p4                            ;SOUNDIN FUNCTION NUMBERS (GEN -1) \niwave2              =              p5\niwavemixer          =              p10                           ;WAVE MIXER FREQ IN HZ\nitblesize           =              p16                           ;WAVE TABLE SIZE\n;\nitak                =              p8                            ;ATTACK TIME FOR NOTE\nidec                =              p9                            ;DECAY TIME\nigrainenv           =              15                            ;GRAIN ENV IS FUNCTION 15\nigrainfreq          =              p11\n;\nimidinn             =              p6                            ;STORE MIDI NN IN VARIABLE FOR LATER USE\nioctmid             =              3+(imidinn/12)                ;THEORETICAL FUNDAMENTAL (P5) CONVERTED FROM MIDI NN TO OCT \nicpswave            =              cpsoct(ioctmid)               ;THEORETICAL FUNDAMENTAL CONVERTED FROM OCT TO CPS\nicpswave            =              (icpswave*(sr/itblesize))/4   ;CONVERT TO ACTUAL FREQ BASED ON SR/TABLESIZE \n;                                                                ;SO THAT ORC SR CAN BE VARIED\n;\nipkamp              =              p7/2                          ;PEAK 16 BIT AMP FOR TWO WAVES\n;\n;    \nivibrate            =              p12\nivibwidth           =              p13/(2*3.14159)               ;INDEX/2PI\n;\nirevtime            =              p14                           ;REV TIME IN SEC\nidrywet             =              p15/100                       ;DRY PERCENTAGE\nidelaytime          =              p17/1000                      ;DELAY TIME IN MS\nidelayfn            =              3\niloopstart          =              0\niloopend            =              p19\nilooplen            =              iloopend-iloopstart\n\n;\n;                       PERFORMANCE BLOCK\n;\nkport               init           1                                  ;INITIALIZE PORTAMENTO ENV\nkport               oscil1         itak+(p3-irevtime),1,idec,2        ;SLIGHT RAMP DOWN IN PITCH FOR EACH NOTE'S DECAY     \n;\nkgrainfreq          init           igrainfreq                         ;INITIALIZE KGRAINFREQ TO ITIME VALUE\nkrand               init           0                                  ;INIT FIRST RAND FACTOR TO 0\nkrand               randh          kgrainfreq/2,(krand +igrainfreq)   ;CHOOSE NEW GRAIN SIZE 1X PER GRAINENV\n;\nkgraingate          init           0                                  ;INITIALIZE GRAINENV TO 0\nkgraingate          oscili         1,igrainfreq+krand,igrainenv       ;GRAINENV IS A QUASI-GAUSIAN ENV WITH FREQ SLIGHTLY RANDOMIZED\n;\nkmastergate         linseg         0,itak,1,(p3-irevtime-itak-idec),1,idec,0,irevtime,0   ;FINAL OUTPUT ENVELOPE\nkmodphase           init           0                                  ;INITIALIZE PHASE\nkmodphs             oscili         ivibwidth,ivibrate,1               ;VIBRATO OSCILATOR\n;\n\nawave1phs           phasor         cpsoct(octcps(icpswave)+kmodphs)*kport  ;MOVING PHASE VALUES FOR WAVESHAPE OSCILS\nawave2phs           phasor         cpsoct(octcps(icpswave)+kmodphs)*kport\nkmix                oscili         1,iwavemixer+(krand/10),11              ;PYRAMID WITH RANDOM FREQ VARIATION\nkdelayenv           oscil1i        0,kmastergate,p3,idelayfn               ; VARIABLE DELAY ENVELOPE FOR SECOND WAVE\n;\nkindex1             init           0\nkindex2             init           0\nkprev1              =              kindex1\nkprev2              =              kindex2\naindex1             =              (awave1phs*ilooplen)+iloopstart\naindex2             =              (awave2phs*ilooplen)+iloopstart\nkindex1             downsamp       aindex1\nkindex2             downsamp       aindex2\n;asig1              tablei         awave1phs*itblesize,iwave1,0,0,1        ;CREATE WAVE OUTPUT OSCILLATORS\nasig1               tablei         aindex1,iwave1,0,0,1                    ;CREATE WAVE OUTPUT  \nasig2               tablei         aindex2,iwave2,0,0,1                    ;CREATE WAVE OUTPUT  \n;asig2              tablei         awave2phs*itblesize,iwave2,0,0,1 \nktempscale1         tablei         kindex1, igrainenv,0,0,1                ;LOOP RAMP FADE ENV\nktempscale2         tablei         kindex2, igrainenv,0,0,1                ;LOOP RAMP FADE ENV\nkscale1             =              (iloopstart>0 ? ktempscale1:1)  \nkscale2             =              (iloopstart>0 ? ktempscale2:1)  \nif             iloopstart > 0      goto noreinit\nif             kindex1 >=kprev1    goto noreinit\nif             kindex2 >=kprev2    goto noreinit\n                    reinit         startreinit\nstartreinit:\n   \niloopstart          =              p18\n   ilooplen         =              iloopend-iloopstart \n                    rireturn\n   aindex1          =              iloopstart + aindex1       \n   aindex2          =              iloopstart + aindex2       \nnoreinit:\nadeltime            upsamp         kdelayenv*idelaytime\n        adump       delayr         idelaytime                              ;        CENTER DELAY TIME\n        ad2         deltapi        adeltime\n                    delayw         asig2\n        asig2       =              ad2\nasig                =              kmastergate*(asig1*kmix*(kgraingate*ipkamp)*kscale1)   ;SPLIT UP OF CODE INTO TWO LINES (FIXES RT ERROR)\nasig                =              (asig+(kmastergate*(asig2*(1-kmix)*(kgraingate*ipkamp))))\n;\nadry                =              asig*idrywet\narev                reverb         asig*(1-idrywet),irevtime               ;REV SIGNAL\n;\nkrandpan            randi          1,(igrainfreq+krand)/20                 ;QUASI RANDOM PANNING BASED ON GRAIN FREQ\nklfac               =              sqrt(abs(krandpan))\nkrfac               =              sqrt(1-(abs(krandpan)))\n;\nouts                (adry+arev)*klfac,(adry+arev)*krfac ;output the panned/rev. sigs   \nendin\n\n\n\n          \n\n</CsInstruments>\n<CsScore>\n;HOWARD FREDRICS\n;3:13PM  4/03/1989\n;MUS329J\n;\n;====================================================================;\n;                       FINAL GRANULAR SYNTHESIS SCORE V.2                         ;\n;====================================================================;\n;\n;  TEMPO IN BEATS/MIN\nt0     60      \n; SIMPLE SINE FUNCTION\nf01     0       512    10       1 \n; RAMP DOWN\nf02     0       513    -7       1       512     .64\n;DELAY ENV\nf03      0        513     -7    .4      64      .5      128     1       128     .5      192     0      \n; PYRAMID\nf11     0       513     7       0       256     1       256     0\n; WAVE 1 FUNCTION\nf13     0       32768  1      222      0  4   0\n; WAVE 2 FUNCTION\nf14     0      32768   1   222      0 4 0\n; GRAIN ENV FUNCTION\nf15     0       128     7       0       26      1       76      1       26      0\n;=========================================================================;\n;p1     p2      p3      p4      p5      p6      p7      p8      p9      p10      p11     p12     p13     p14     p15     p16     p17            p18     p19\n;ins    strt    dur    wave1    wave2   pit     amp     att     dec     mixfreq  grfr    vibrat  vibwid  rvtim   dry/wet tblsize delaytime      loopst  loopend\ni1        0       3    13           14           -14     70000   .1       .3     32      23     7         .01           1.1        90      65536  12      1  65536\ne\n\n\n\n\n\n\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for sound generating instrument using interpolating oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n\n; normal realtime operation: (for DirectCSound, edit if necessary)\n;-+O -m0 -d -+X1 -+K -b140\n\n;====================================================================================\n; ALGOCOMP.CSD\n; A sample instrument for realtime algorithmic composition in CSound\n; Written by Peter Neubaecker <peter@neubaecker.de>\n;------------------------------------------------------------------------------------\n; \n; The purpose of this instrument is to generate algorithmic compositions\n; by Csound directly. There is one event-generating instrument and one\n; or more sound-generating instruments. There are multiple instances of the \n; sound-generating instruments allocated and indexed. The number of instances\n; correponds to the intended polyphony - but they can be allocated generously\n; as an inactive instance is very inexpensive in time. The event-generating\n; instrument knows these instances by index and communicates with them over\n; global table space. Each time the event-generating instrument assigns a new\n; duration to an instance, that instance initialises itself, reads its individual\n; parameters from the communication table, then runs and becomes inactive after \n; the given duration.\n; In this example, the event-generating instrument only writes initialisation\n; values for each sound-generating instance that are used by that instruments\n; like usual p-fields. But the event-generating instrument could also update  \n; the individal parameters continuously.\n; \n;------------------------------------------------------------------------------------\n\n</CsOptions>\n<CsScore>\n\n\n;====================================================================================\n; SCORE\n;------------------------------------------------------------------------------------\n\nf 1 0 1024 -10 1 0.5 0.1 0.2 0.3\n\nf 0 60        ; run for ... seconds\n\ni 1 0 1       ; start realtime composing instrument\n\ni 2.01 0 1    ; some instances of sound instruments\ni 2.02 0 1    ; allocate sufficient instances\ni 2.03 0 1    ; for overlapping notes\ni 2.04 0 1\ni 2.05 0 1    ; cave: fractional part of instrument number\ni 2.06 0 1    ; is necessary for allocation \ni 2.07 0 1    ; of multiple instances with ihold\ni 2.08 0 1\ni 2.09 0 1\ni 2.10 0 1\ni 2.11 0 1\ni 2.12 0 1\n\ne\n;------------------------------------------------------------------------------------\n\n</CsScore>\n<CsInstruments>\n\n;====================================================================================\n; ORCHESTRA\n;------------------------------------------------------------------------------------\n\n;====================================================================================\n; Initialisaton\n;------------------------------------------------------------------------------------\nsr          =    44100                         ;\nkr          =    441                           ;\nksmps       =    100                           ;\nnchnls      =    2                             ;\n                                               ;\ngindex      init 0                             ; Index for instrument instances\nzakinit     1,   300                           ; Create zak table space\ngiampoffs   =    100                           ; zak table offsets for parameters\ngicpsoffs   =    200                           ;\ngiwave      =    1                             ;\n                                               ;\n;------------------------------------------------------------------------------------\n\n\n\n;====================================================================================\ninstr 1          ; example event generating instrument: a simple fractal loop\n;------------------------------------------------------------------------------------\nihold                                          ; Run forever\n                                               ;\nicnt     =       12                            ; No. of instances allocated in score\nkindx    init    0.5                           ;\nkx1      init    0                             ;\nkx2      init    0                             ;\n                                               ;\nidur     =       1.5                           ;\nispeed   =       6                             ;\n                                               ;\nktime    phasor  ispeed                        ; Timer for event generation\nktrig    trigger ktime, 0.5, 0                 ;\nif (ktrig<0.5)   goto noevent                  ;\n                                               ;\nkx1      =       kx1 * kx1 - 1.74              ; Some simple fractal\nkx2      =       kx2 * kx2 - 1.7499            ; parameter generation\nkamp     =       0.05 + (kx2+2) / 4 * 0.9      ;\nkcps     =       200 + 100 * kx1 / 2           ;\n                                               ;\n         zkw     idur, kindx                   ; Write duration as start trigger\n         zkw     kamp, giampoffs + kindx       ; and parameters for new note\n         zkw     kcps, gicpsoffs + kindx       ; to zak table\n                                               ;\nkindx    =       kindx + 1                     ; Cycle through available \nkindx    =       (kindx > icnt ? 0.5 : kindx)  ; instrument instances\n                                               ; as allocated in score\nnoevent:                                       ;\n                                               ;\nendin                                          ;\n;------------------------------------------------------------------------------------\n\n\n\n;====================================================================================\ninstr 2           ; sound generating instrument\n;------------------------------------------------------------------------------------\nihold                                          ; Run forever\nindex    =        gindex + 0.5                 ; Assign unique instance index\ngindex   =        gindex + 1                   ; for individual parameter reading\nkamp0    init     -1                           ;\nknewdur  init     -1                           ;\n         igoto    inactive                     ; Don't init before being called\n                                               ;\nif (kamp0<0) goto inactive                     ;\n                                               ;\nnewinit:                                       ; NEW INIT AT EACH CALL\nidur     init     i(knewdur)                   ; Get duration from zak table value\n         ziw      -1, index                    ; and reset start trigger in zak table\nkamp0    init     1                            ; kamp0 will inactivate instrument\nkamp0    linseg   1, idur-0.02, 1, 0.02, 0     ; after given duration when kamp0 < 0\n                                               ; (HAS TO BE ramped down at end!)\n                                               ;\n;--------------------------------------------- ; Usual initialisation and\n                                               ; sound generating code goes here...\nkamp1    zkr      giampoffs + index            ; Get parameters from zak table\nkcps     zkr      gicpsoffs + index            ; instead of p-fields\n                                               ;\nkenv     expon    1, 1, 0.01                   ;\nkamp     =        20000*kamp0*kamp1*kenv       ;\naamp     interp   kamp                         ;\nasig     oscili   aamp, kcps, giwave           ;\n         outs     asig, asig                   ;\n                                               ;\n;--------------------------------------------- ;\n                                               ;\ninactive:                                      ;\nknewdur  zkr      index                        ; Check for new start\nif (knewdur <= 0) goto continue                ;\nreinit   newinit                               ; and reinitialize if new\ncontinue:                                      ;\n                                               ;\nendin                                          ;\n;------------------------------------------------------------------------------------\n\n\n</CsInstruments>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur\t\t=\t\tp3 using interpolating oscillator and Butterworth lowpass filter and Butterworth bandpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pink.orc and pink.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n\n\t\tinstr\t1\nisc\t\t=\t\t.6\t; SCALAR CHOSEN TO MATCH WHITE NOISE AMPLITUDE\n\nksw\t\texpseg\t30, p3, 18000 ; SWEEP FILTER FROM 30HZ TO 18000HZ\n\na1\t\tinit\t\t0\na2\t\tinit\t\t0\na3\t\tinit\t\t0\na4\t\tinit\t\t0\na5\t\tinit\t\t0\na6\t\tinit\t\t0\nanz\t\ttrirand\t30000\t\t\t\t; WHITE NOISE\na1\t\t=\t\t.997 * a1 + isc * .029591 * anz\na2\t\t=\t\t.985 * a2 + isc * .032534 * anz\na3\t\t=\t\t.950 * a3 + isc * .048056 * anz\na4\t\t=\t\t.850 * a4 + isc * .090579 * anz\na5\t\t=\t\t.620 * a5 + isc * .108990 * anz\na6\t\t=\t\t.250 * a6 + isc * .255784 * anz\napnz\t\t=\t\ta1 + a2 + a3 + a4 + a5 + a6\napnz\t\tbutterbp\tapnz, ksw, ksw * .05\t; SWEEP FILTER\napnz\t\tbutterlp\tapnz, ksw * 1.2\t\t; REMOVE HIGH END WHICH PASSES THRU\n\t\touts\t\tapnz, apnz\n\t\tendin\n\n\n; PINK NOISE INSTRUMENT\n\t\tinstr\t2\n\nidur\t\t=\t\tp3\niamp\t\t=\t\tp4\nifqc\t\t=\t\tcpspch(p5)\nifctab\t=\t\tp6\niswrt\t=\t\tp7\nifade\t=\t\tp8\n\n;krtrmp\texpseg\t.025, .1*idur, 2, .8*idur, 2, .1*idur, .025\n;krtrmp\texpseg\t.025, idur, 2\n\nkmaxf\texpseg\t.1, idur, 1\n\n;kfc1\toscili\t1, iswrt/idur*krtrmp, ifctab\nkfc1\t\toscili\t1, iswrt/idur, ifctab\nkfc\t\t=\t\tkfc1*kmaxf*ifqc/440\n\nisc\t\t=\t\t.6\t ; SCALAR CHOSEN TO MATCH WHITE NOISE AMPLITUDE\n\nanz\t\ttrirand\tiamp*20  ; WHITE NOISE\n\na1\t\tpareq\tanz, 625,\t  .7079, .707, 2\na3\t\tpareq\ta1,\t2500,  .3548, .707, 2\na5\t\tpareq\ta3,\t10000, .1778, .707, 2\napnz\t\tpareq\ta5,\t20000, .1259, .707, 2\n\napnz1\tbutterbp\tapnz, kfc, kfc*.05\t\t\t; SWEEP FILTER\napnz2\tbutterbp\tapnz, kfc*1.502, kfc*.05\t\t; SWEEP FILTER\napnz3\tbutterbp\tapnz, kfc*1.498, kfc*.05\t\t; SWEEP FILTER\n\nadclk\tlinseg\t0, ifade, 1, idur-2*ifade, 1, ifade, 0\n\n\t\touts\t\t(apnz1+apnz2)*adclk, (apnz1+apnz3)*adclk\n\n\t\tendin\n\n; NOISE INSTRUMENT\n\t\tinstr\t3\n\nidur\t\t=\t\tp3\niamp\t\t=\t\tp4\nifqc\t\t=\t\tcpspch(p5)\nifade\t=\t\t.1\n\nisc\t\t=\t\t.6\t ; SCALAR CHOSEN TO MATCH WHITE NOISE AMPLITUDE\n\nkfqc\t\texpseg\tifqc, idur, 100*ifqc\n\nanz\t\trand\t\tiamp\t  ; WHITE NOISE\nkdi\t\toscili\t.1, 4, 1\n;anz\t\tdiskin\t1, .7\n\na1\t\tpareq\tanz, ifqc*(1+kdi),\t .1, 20, 1\n\nadclk\tlinseg\t0, ifade, iamp, idur-2*ifade, iamp, ifade, 0\n\n\t\touts\t\ta1*adclk/1000, a1*adclk/1000\n\n\t\tendin\n\n; NOISE INSTRUMENT\n\t\tinstr\t4\n\nidur\t\t=\t\tp3\niamp\t\t=\t\tp4\nifqc\t\t=\t\tcpspch(p5)\nires\t\t=\t\tp6\nivol\t\t=\t\tp7\n\t\nisc\t\t=\t\t.6\t \t; SCALAR CHOSEN TO MATCH WHITE NOISE AMPLITUDE\n\nkfqc1   \texpseg\t100*ifqc, idur, ifqc\nkfqc2   \texpseg\t95*ifqc, idur, ifqc*1.05\nkfqc3   \texpseg\t105*ifqc, idur, ifqc*.95\n\nanz\t \trand\t\tiamp\t    ; WHITE NOISE\na1\t \tpareq\tanz, kfqc1, ivol, ires, 1\na2\t \tpareq\tanz, kfqc2, ivol, ires, 1\na3\t \tpareq\tanz, kfqc3, ivol, ires, 1\n\nadclk \texpseg\t1, .002, iamp, idur-.002, 1\n\n\t \touts\t\t(a1+a2)*adclk/3000, (a1+a3)*adclk/3000\n\n\t \tendin\n\n; NOISE DRUM\n\t  \tinstr\t5\n\nidur\t  \t=\t\tp3\t\t   ; DURATION\niamp\t  \t=\t\tp4\t\t   ; AMPLITUDE\nifqc\t  \t=\t\tcpspch(p5)   ; PITCH\niq\t  \t=\t\tp6\t\t   ; QUALITY FACTOR\nivol\t  \t=\t\tp7\t\t   ; VOLUME\niton\t  \t=\t\tp8\t\t   ; DRUM TONE\n\nkfqcl   \texpseg\t .1*ifqc, idur, 2*ifqc  \t; LOW SHELF FREQUENCY\nkq\t   \texpseg\t .1*ifqc, idur, 2*ifqc  \t; EQ SWEEP QUALITY\nkfqch   \texpseg\t 10*ifqc, idur, .5*ifqc \t; HIGH SHELF FREQUENCY\n\nanz\t \trand\t\tiamp\t    \t\t\t\t; WHITE NOISE\n\na1\t \tpareq\tanz, kfqcl, ivol,\tiq, 1 \t; LOW SHELF SWEEP\na2\t \tpareq\tanz, ifqc,  1/ivol, kq, 0 \t; EQ SWEEP\na3\t \tpareq\tanz, kfqch, ivol,\tiq, 2 \t; HIGH SHELF SWEEP\n\nadclk \texpseg\tiamp/10, .002, iamp, idur-.002, iamp/100 ; AMPLITUDE ENVELOPE\n\naout\t \t=\t\t((a2-a3)+(a2-a1)*iton) \t; MIX IT UP TO SOUND NICE\n\n\t \touts\t\taout*adclk/5000, aout*adclk/5000 ; SCALE, AMP AND OUTPUT\n\n\t \tendin\n\n\n</CsInstruments>\n<CsScore>\nf2 0 1025 -7 100 129 2000 128 10000 56 200 100 15000 100 300 200 2000 56 10000 256 500\nf3 0 1025 -5 100 1000 10000 25 100\nf4 0 1025 -5 400 513  10000 512 400\nf5 0 1025 -7 5000 25 200 1000 5000\n\nt0 0 100\n\n;  STA  DUR  AMP   PITCH  FQCTAB  SWEEP  FADE\ni2 0    16  10000  7.00   3       64     .01\ni2 4    12   .     5.00   3       24     .5\ni2 8    8    .     7.00   4       8      .3\ni2 12   4    .     8.00   5       2      .5\ns\nf6 0 1025 -7 200 50 440 925 440 50 200\n;  STA  DUR  AMP   PITCH  FQCTAB  SWEEP  FADE\ni2 4    2  10000  8.00   6       1      .1\ni2 6    2   .     9.00   .       .      .1\ni2 7    2   .     6.00   .       .      .1\ni2 8    2   .     9.00   .       .      .1\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Input Mono using effects processing and interpolating oscillator and Moog VCF filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 0MultiFX1.orc and 0MultiFX1.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 2\n\nzakinit  50, 1\n;----------------------------------------------------------------------------------\ninstr    01 ; Input Mono\nilevl    = p4 ; Output level\niout     = p5 ; Out\na1       soundin  p6\nzaw      a1*ilevl, iout\nendin\n;----------------------------------------------------------------------------------\ninstr    02 ; Input Stereo\nilevl    = p4 ; Output level\niout1    = p5 ; Out 1\niout2    = p6 ; Out 2\na1, a2   soundin  p7\nzaw      a1*ilevl, iout1\nzaw      a2*ilevl, iout2\nendin\n;----------------------------------------------------------------------------------\ninstr    03 ; Phaser\nilevl    = p4     ; Output level\nin1      = p5     ; In\niout     = p6     ; Out\nifreq    = p7     ; Initial frequency\nidepth   = p8/2   ; LFO depth\nirate    = p9     ; LFO rate\niphase   = p8/360 ; LFO phase in degrees\nifdbk    = p10    ; Feedback\ninum     = p11    ; Number of stages\nimix     = p12    ; Mix: 0=Input 1=Output\nain      zar  in1\nklfo     oscili  idepth, irate, 2, iphase\nklfo     = klfo + idepth\naphase   phaser1  ain, ifreq + klfo, inum, ifdbk\nzawm     (ain*(1 - imix) + aphase*imix)*ilevl, iout\nendin\n;----------------------------------------------------------------------------------\ninstr    04 ; Ring Modulator with Sweep Osc\nilevl    = p4 ; Output level\nin1      = p5 ; In\niout1    = p6 ; Out\nifreq1   = p7 ; Start frequency\nifreq2   = p8 ; End frequency\niwave    = p9 ; Waveform\nksweep   expseg  ifreq1, p3, ifreq2\nain      zar  in1\naosc     oscili  1, ksweep, iwave\nzaw      ain*aosc*ilevl, iout1\nendin\n;----------------------------------------------------------------------------------\ninstr    05 ; S&H Driven Reson Filter\nilevl    = p4/200\nin1      = p5\niout1    = p6\nifreq    = p7\nidpth    = p8/2\nirate    = p9\niseed    = rnd(1)\nk1       randh  idpth, irate, iseed\nk1       = k1 + idpth\nain      zar  in1\nares     reson  ain, ifreq + k1, (ifreq + k1)/16\nzaw      ares*ilevl, iout1\nendin\n;----------------------------------------------------------------------------------\ninstr    06 ; Moog VCF with LFO\nilevl    = p4  ; Output level\nin1      = p5  ; In\niout1    = p6  ; Out\nifreq    = p7  ; Freq\nidepth   = p8  ; LFO depth\nirate    = p9  ; LFO rate\niwave    = p10 ; LFO waveform\nirez     = p11 ; Resonance\nain      zar  in1\nalfo     oscili  idepth, irate, iwave\nalfo     = alfo + idepth\navcf     moogvcf  ain, ifreq + alfo, irez, 32767\nzaw      avcf*ilevl, iout1\nendin\n;----------------------------------------------------------------------------------\ninstr    07 ; Moog VCF with Envelope Follower.\nilevl    = p4 ; Output level\nin1      = p5 ; In\niout1    = p6 ; Out\nidepth   = p7 ; Sweep depth\nirez     = p8 ; Resonance\nain      zar  in1\na2       follow  ain, .025\na3       butterlp  a2, 25\navcf     moogvcf  ain, (a3/8)*idepth, irez, 32767\nzaw      avcf*ilevl, iout1\nendin\n;----------------------------------------------------------------------------------\ninstr    08 ; Flanger\nilevl    = p4      ; Output level\nin1      = p5      ; In\niout     = p6      ; Out\nidelay   = p7/1000 ; Delay in ms\nidepth   = p8/2000 ; LFO depth in ms\nirate    = p9      ; LFO rate\niwave    = p10     ; LFO waveform\nifdbk    = p11     ; Feedback\nidry     = p12     ; Dry signal level\nimax     = (idelay + idepth)*2\nain      zar  in1\nalfo     oscili  idepth, irate, iwave\nalfo     = alfo + idepth\naflng    flanger  ain, alfo + idelay, ifdbk, imax\naout     = (ain*idry + aflng)*ilevl\nzaw      aout, iout\nendin\n;----------------------------------------------------------------------------------\ninstr    09 ; 'Reson' filter bank\nilevl    = p4/1000                        ; Output level\nin1      = p5                             ; In\niout1    = p6                             ; Out\nipitch1  = (p07 < 20 ? cpspch(p07) : p07) ; Filter 1 freq\nipitch2  = (p08 < 20 ? cpspch(p08) : p08) ; Filter 2 freq\nipitch3  = (p09 < 20 ? cpspch(p09) : p09) ; Filter 3 freq\nipitch4  = (p10 < 20 ? cpspch(p10) : p10) ; Filter 4 freq\nipitch5  = (p11 < 20 ? cpspch(p11) : p11) ; Filter 5 freq\nipitch6  = (p12 < 20 ? cpspch(p12) : p12) ; Filter 6 freq\niband    = p13                            ; Filter bandwidth\nain      zar  in1\nares1    reson  ain, ipitch1, iband\nares2    reson  ain, ipitch2, iband\nares3    reson  ain, ipitch3, iband\nares4    reson  ain, ipitch4, iband\nares5    reson  ain, ipitch5, iband\nares6    reson  ain, ipitch6, iband\naout     sum  ares1, ares2, ares3, ares4, ares5, ares6\nzaw      aout*ilevl, iout1    \nendin\n;-------------------------------------------------------------------------------\ninstr    10 ; Mixer\nilevl    = p4                             ; Output level\nasig1    zar  p5                          ; Signal input 1\nasig2    zar  p6                          ; Signal input 2\nasig3    zar  p7                          ; Signal input 3\nasig4    zar  p8                          ; Signal input 4\namix     sum  asig1, asig2, asig3, asig4  ; Mix input signals\nzaw      amix*ilevl, p9                   ; Output\nendin\n;----------------------------------------------------------------------------------\ninstr    99 ; Stereo Output\nilevl    = p4\nin1      = p5\nin2      = p6\nkdclick  linseg  0, .002, ilevl, p3-.004, ilevl, .002, 0\na1       zar  in1\na2       zar  in2\nouts     a1*kdclick, a2*kdclick\nzacl     1, 50\nendin\n</CsInstruments>\n<CsScore>\n;-------------------------------------------------------------------------------\n;Mono Input\n;     Strt  Leng  Levl  Out   Input\ni01   0.00  1.47  1.00  01   \"Sample1\"\n;-------------------------------------------------------------------------------\n;Stereo Input\n;     Strt  Leng  Levl  OutL  OutR  Input\ni02   0.00  0.00  10.00  00    00   \"Sample1\"\n;-------------------------------------------------------------------------------\n;Phaser\n;     Strt  Leng  Levl  In    Out   Freq  Depth Rate  Phase Fdbk  Stage Mix\ni03   0.00  1.00  1.00  01    03    0100  7500  0.66  0180  0.50  06    0.50\n;-------------------------------------------------------------------------------\n;Ring Mod\n;     Strt  Leng  Levl  In    Out   Freq1 Freq2 Wave\ni04   0.00  0.00  1.00  00    00    20.0  2000  01\n;-------------------------------------------------------------------------------\n;StepReson\n;     Strt  Leng  Levl  In    Out   Freq  Depth Rate\ni05   0.00  1.47  0.75  01    05    0450  1000  16.0\ni05   0.00  1.47  0.75  01    06    0500  1000  17.0\n;-------------------------------------------------------------------------------\n;LFO Filter\n;     Strt  Leng  Levl  In    Out   Freq  Depth Rate  Wave  Rez\ni06   0.00  0.00  1.00  00    00    0100  2000  0.50  04    0.92\n;-------------------------------------------------------------------------------\n;Env Filter\n;     Strt  Leng  Levl  In    Out   Depth Rez\ni07   0.00  0.00  1.00  00    00    1.00  0.95\n;-------------------------------------------------------------------------------\n;Flanger\n;     Strt  Leng  Levl  In    Out   Delay Depth Rate  Wave  Fdbk  Dry\ni08   0.00  1.47  1.00  03    05    0.25  5.75  0.90  03    0.00  0.71\ni08   0.00  1.47  1.00  03    06    0.25  5.75  0.90  04    0.00  0.71\n;-------------------------------------------------------------------------------\n;Filter Bank\n;     Strt  Leng  Levl  In    Out   Ptch1 Ptch2 Ptch3 Ptch4 Ptch5 Ptch6 Band\ni09   0.00  0.00  1.00  00    00     0220  0342  0489  0568  0610  0720  10.0\ni09   0.00  0.00  1.00  00    00     0222  0340  0488  0566  0612  0425  10.0\n;-------------------------------------------------------------------------------\n;Mixer\n;     Strt  Leng  Levl  In    In    In    In    Out\ni10   0.00  0.00  1.00  00    00    00    00    00\n;-------------------------------------------------------------------------------\n; Output\n;     Strt  Leng  Levl  InL   InR\ni99   0.00  1.47  0.40  05    06\n;-------------------------------------------------------------------------------\nf01 0 8193 10 1                ; Sine\nf02 0 8193 9 1 1 180           ; Sine inv\nf03 0 8193 7 1 4096 -1 4096 1  ; Tri\nf04 0 8193 7 -1 4096 1 4096 -1 ; Tri inv\nf05 0 8193 10 1 0 0 0 0 0 .14  ; Fast and slow sines\nf10 0 8193 9 .5 1 0            ; 1/2 Sine\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for 1 INSTRUMENTS using granular synthesis and interpolating oscillator and simple sine oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from granularnd6.orc and granularnd6.sco\n; Original files preserved in same directory\n\nsr             =              44100\nkr             =              2205   \nksmps          =              20\nnchnls         =              2\n\n;HOWARD FREDRICS\n;5-30-93\n;\n;=====================================================================\n;\n;\n;\n;=====================================================================\n;\n;\n;=================================================================\n;       Pitch Changing Granular Synthesis Instrument                            \n;                                                                \n;       p4 = Wave Function 1    p5 = Wave Function 2     p6 = desired pitch in midi (converted to freq of wavereading)                       ;\n;       p7 = peak amp p8=attack p9=decay p10 = wavemixer freq in hz                               \n;       p11=grainfreq    p12 = vibrate    p13 = vibwidth p14=revtime\n;       p15=dry/wetmix (percentage 0-100) p16=tblesize p17=delay time (msec)\n;                                                                   \n;=================================================================\n;\n                instr         1                             ;1 INSTRUMENTS\niwave1         =              p4                            ;SOUNDIN FUNCTION NUMBERS (GEN -1) \niwave2         =              p5\niwavemixer     =              p10                           ;WAVE MIXER FREQ IN HZ\nitblesize      =              p16                           ;WAVE TABLE SIZE\n;\nitak           =              p8                            ;ATTACK TIME FOR NOTE\nidec           =              p9                            ;DECAY TIME\nigrainenv      =              15                            ;GRAIN ENV IS FUNCTION 15\nigrainfreq     =              p11\n;\nimidinn        =              p6                            ;STORE MIDI NN IN VARIABLE FOR LATER USE\nioctmid        =              3+(imidinn/12)                ;THEORETICAL FUNDAMENTAL (P5) CONVERTED FROM MIDI NN TO OCT \nicpswave       =              cpsoct(ioctmid)               ;THEORETICAL FUNDAMENTAL CONVERTED FROM OCT TO CPS\nicpswave       =              (icpswave*(sr/itblesize))/4   ;CONVERT TO ACTUAL FREQ BASED ON SR/TABLESIZE \n;                                                           ;SO THAT ORC SR CAN BE VARIED\n;\nipkamp         =              p7/2                          ;PEAK 16 BIT AMP FOR TWO WAVES\n;\n;    \nivibrate       =              p12\nivibwidth      =              p13/(2*3.14159)               ;INDEX/2PI\n;\nirevtime       =              p14                           ;REV TIME IN SEC\nidrywet        =              p15/100                       ;DRY PERCENTAGE\nidelaytime     =              p17/1000                      ;DELAY TIME IN MS\nidelayfn       =              3\niloopstart     =              0                                                                                                   ; initialize loop to 0 (reads p18 at startreinit:)\niloopend       =              p19\nilooplen       =              iloopend-iloopstart\n\n\n;\n;                       PERFORMANCE BLOCK\n;\nkport          init           1                                  ;INITIALIZE PORTAMENTO ENV\nkport          oscil1         itak+(p3-irevtime),1,idec,2        ;SLIGHT RAMP DOWN IN PITCH FOR EACH NOTE'S DECAY     \n;\nkgrainfreq     init           igrainfreq                         ;INITIALIZE KGRAINFREQ TO ITIME VALUE\nkrand          init           0                                  ;INIT FIRST RAND FACTOR TO 0\nkrand          randh          kgrainfreq/2,(krand +igrainfreq)   ;CHOOSE NEW GRAIN SIZE 1X PER GRAINENV\n;\nkgraingate     init           0                                  ;INITIALIZE GRAINENV TO 0\nkgraingate     oscili         1,igrainfreq+krand,igrainenv       ;GRAINENV IS A QUASI-GAUSIAN ENV WITH FREQ SLIGHTLY RANDOMIZED\n;\nkmastergate    linseg         0,itak,1,(p3-irevtime-itak-idec),1,idec,0,irevtime,0   ;FINAL OUTPUT ENVELOPE\nkmodphase      init           0                                  ;INITIALIZE PHASE\nkmodphs        oscili         ivibwidth,ivibrate,1               ;VIBRATO OSCILATOR\n;\n\n;RANDOM DISTRIBUTION OF GRAINS WITHIN WAVETABLE\nkdistribute    init           0\nkdistribute    randh          itblesize, (krand+igrainfreq)\n\n               display        kdistribute, igrainfreq\n\n\nawave1phs      phasor         cpsoct(octcps(icpswave)+kmodphs)*kport  ;MOVING PHASE VALUES FOR WAVESHAPE OSCILS\nawave2phs      phasor         cpsoct(octcps(icpswave)+kmodphs)*kport\nkmix           oscili         1,iwavemixer+(krand/10),11              ;PYRAMID WITH RANDOM FREQ VARIATION\nkdelayenv      oscil1i        0,kmastergate,p3,idelayfn               ; VARIABLE DELAY ENVELOPE FOR SECOND WAVE\n;\nkindex1        init           0\nkindex2        init           0\nkprev1         =              kindex1\nkprev2         =              kindex2\naindex1        =              (awave1phs*ilooplen)+iloopstart+(kdistribute-ilooplen)\naindex2        =              (awave2phs*ilooplen)+iloopstart+(kdistribute-ilooplen)\nkindex1        downsamp       aindex1\nkindex2        downsamp       aindex2\n               display        kindex1, igrainfreq\n;asig1         tablei         awave1phs*itblesize,iwave1,0,0,1        ;CREATE WAVE OUTPUT OSCILLATORS\nasig1          tablei         aindex1,iwave1,0,0,1                    ;CREATE WAVE OUTPUT  \nasig2          tablei         aindex2,iwave2,0,0,1                    ;CREATE WAVE OUTPUT  \n;asig2         tablei         awave2phs*itblesize,iwave2,0,0,1 \nktempscale1    tablei         kindex1, igrainenv,0,0,1                ;LOOP RAMP FADE ENV\nktempscale2    tablei         kindex2, igrainenv,0,0,1                ;LOOP RAMP FADE ENV\nkscale1        =              (iloopstart>0 ? ktempscale1:1)  \nkscale2        =              (iloopstart>0 ? ktempscale2:1)  \nif             iloopstart > 0 goto noreinit\nif        kindex1 >=kprev1    goto noreinit\nif        kindex2 >=kprev2    goto noreinit\n               reinit         startreinit\nstartreinit:\n   \niloopstart     =              p18\n   ilooplen    =              iloopend-iloopstart \n               rireturn\n   aindex1     =              iloopstart + aindex1+kdistribute       \n   aindex2     =              iloopstart + aindex2+kdistribute       \nnoreinit:\nadeltime       upsamp         kdelayenv*idelaytime\nadump          delayr         idelaytime                              ;        CENTER DELAY TIME\nad2            deltapi        adeltime\n               delayw         asig2\nasig2          =              ad2\nasig           =              kmastergate*(asig1*kmix*(kgraingate*ipkamp)*kscale1)   ;SPLIT UP OF CODE INTO TWO LINES (FIXES RT ERROR)\nasig           =              (asig+(kmastergate*(asig2*(1-kmix)*(kgraingate*ipkamp))))\n;\nadry           =              asig*idrywet\narev           reverb         asig*(1-idrywet),irevtime               ;REV SIGNAL\n;\nkrandpan       randi          1,(igrainfreq+krand)/20                 ;QUASI RANDOM PANNING BASED ON GRAIN FREQ\nklfac          =              sqrt(abs(krandpan))\nkrfac          =              sqrt(1-(abs(krandpan)))\n;\n               outs           (adry+arev)*klfac,(adry+arev)*krfac ;output the panned/rev. sigs   \nendin\n\n\n\n          \n\n</CsInstruments>\n<CsScore>\n;Howard Fredrics\n;3:13PM  4/03/1989\n;mus329J\n;\n;====================================================================;\n;                       Final Granular Synthesis Score v.2                         ;\n;====================================================================;\n;\n;  Tempo in beats/min\nt0     60      \n; Simple Sine Function\nf01     0       512    10       1 \n; Ramp down\nf02     0       513    -7       1       512     .64\n;Delay env\nf03      0        513     -7    .4      64      .5      128     1       128     .5      192     0      \n; pyramid\nf11     0       513     7       0       256     1       256     0\n; Wave 1 Function\nf13     0       16384  1      \"soundin.102\"      0     0 0\n; Wave 2 Function\nf14     0       16384   1   \"soundin.102\"       0      0 0\n; Grain Env Function\nf15     0       128     7       0       26      1       76      1       26      0\n; Fwd Env Function\nf16     0       128     7       0       64      1       64      0     \n ; win Env Function\nf17     0       128     7       0       64     1       64      0       \n;=========================================================================;\n;p1     p2      p3      p4      p5      p6      p7      p8      p9      p10      p11     p12     p13     p14     p15     p16     p17            p18     p19\n;ins    strt    dur    wave1    wave2   pit     amp     att     dec     mixfreq  grfr    vibrat  vibwid  rvtim   dry/wet tblsize delaytime      loopst  loopend\ni1        0       5    13       14      0   80000   .2    .2     1        32      7       .01      0.0     100  65536  50      0  65536 16 17\n\n\n\n\ne\n\n\n\n\n\n\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for 1 INSTRUMENTS using granular synthesis and interpolating oscillator and simple sine oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from granularnd5.orc and granularnd5.sco\n; Original files preserved in same directory\n\nsr             =              44100\nkr             =              2205   \nksmps          =              20\nnchnls         =              2\n\n;HOWARD FREDRICS\n;5-30-93\n;\n;=====================================================================\n;\n;\n;\n;=====================================================================\n;\n;\n;=================================================================\n;       Pitch Changing Granular Synthesis Instrument                            \n;                                                                \n;       p4 = Wave Function 1    p5 = Wave Function 2     p6 = desired pitch in midi (converted to freq of wavereading)                       ;\n;       p7 = peak amp p8=attack p9=decay p10 = wavemixer freq in hz                               \n;       p11=grainfreq    p12 = vibrate    p13 = vibwidth p14=revtime\n;       p15=dry/wetmix (percentage 0-100) p16=tblesize p17=delay time (msec)\n;                                                                   \n;=================================================================\n;\n                instr         1                             ;1 INSTRUMENTS\niwave1         =              p4                            ;SOUNDIN FUNCTION NUMBERS (GEN -1) \niwave2         =              p5\niwavemixer     =              p10                           ;WAVE MIXER FREQ IN HZ\nitblesize      =              p16                           ;WAVE TABLE SIZE\n;\nitak           =              p8                            ;ATTACK TIME FOR NOTE\nidec           =              p9                            ;DECAY TIME\nigrainenv      =              15                            ;GRAIN ENV IS FUNCTION 15\nigrainfreq     =              p11\n;\nimidinn        =              p6                            ;STORE MIDI NN IN VARIABLE FOR LATER USE\nioctmid        =              3+(imidinn/12)                ;THEORETICAL FUNDAMENTAL (P5) CONVERTED FROM MIDI NN TO OCT \nicpswave       =              cpsoct(ioctmid)               ;THEORETICAL FUNDAMENTAL CONVERTED FROM OCT TO CPS\nicpswave       =              (icpswave*(sr/itblesize))/4   ;CONVERT TO ACTUAL FREQ BASED ON SR/TABLESIZE \n;                                                           ;SO THAT ORC SR CAN BE VARIED\n;\nipkamp         =              p7/2                          ;PEAK 16 BIT AMP FOR TWO WAVES\n;\n;    \nivibrate       =              p12\nivibwidth      =              p13/(2*3.14159)               ;INDEX/2PI\n;\nirevtime       =              p14                           ;REV TIME IN SEC\nidrywet        =              p15/100                       ;DRY PERCENTAGE\nidelaytime     =              p17/1000                      ;DELAY TIME IN MS\nidelayfn       =              3\niloopstart     =              0                                                                                                   ; initialize loop to 0 (reads p18 at startreinit:)\niloopend       =              p19\nilooplen       =              iloopend-iloopstart\n\n\n;\n;                       PERFORMANCE BLOCK\n;\nkport          init           1                                  ;INITIALIZE PORTAMENTO ENV\nkport          oscil1         itak+(p3-irevtime),1,idec,2        ;SLIGHT RAMP DOWN IN PITCH FOR EACH NOTE'S DECAY     \n;\nkgrainfreq     init           igrainfreq                         ;INITIALIZE KGRAINFREQ TO ITIME VALUE\nkrand          init           0                                  ;INIT FIRST RAND FACTOR TO 0\nkrand          randh          kgrainfreq/2,(krand +igrainfreq)   ;CHOOSE NEW GRAIN SIZE 1X PER GRAINENV\n;\nkgraingate     init           0                                  ;INITIALIZE GRAINENV TO 0\nkgraingate     oscili         1,igrainfreq+krand,igrainenv       ;GRAINENV IS A QUASI-GAUSIAN ENV WITH FREQ SLIGHTLY RANDOMIZED\n;\nkmastergate    linseg         0,itak,1,(p3-irevtime-itak-idec),1,idec,0,irevtime,0   ;FINAL OUTPUT ENVELOPE\nkmodphase      init           0                                  ;INITIALIZE PHASE\nkmodphs        oscili         ivibwidth,ivibrate,1               ;VIBRATO OSCILATOR\n;\n\n;RANDOM DISTRIBUTION OF GRAINS WITHIN WAVETABLE\nkdistribute    init           0\nkdistribute    randh          itblesize, (krand+igrainfreq)\n\n               display        kdistribute, igrainfreq\n\n\nawave1phs      phasor         cpsoct(octcps(icpswave)+kmodphs)*kport  ;MOVING PHASE VALUES FOR WAVESHAPE OSCILS\nawave2phs      phasor         cpsoct(octcps(icpswave)+kmodphs)*kport\nkmix           oscili         1,iwavemixer+(krand/10),11              ;PYRAMID WITH RANDOM FREQ VARIATION\nkdelayenv      oscil1i        0,kmastergate,p3,idelayfn               ; VARIABLE DELAY ENVELOPE FOR SECOND WAVE\n;\nkindex1        init           0\nkindex2        init           0\nkprev1         =              kindex1\nkprev2         =              kindex2\naindex1        =              (awave1phs*ilooplen)+iloopstart+(kdistribute-ilooplen)\naindex2        =              (awave2phs*ilooplen)+iloopstart+(kdistribute-ilooplen)\nkindex1        downsamp       aindex1\nkindex2        downsamp       aindex2\n               display        kindex1, igrainfreq\n;asig1         tablei         awave1phs*itblesize,iwave1,0,0,1        ;CREATE WAVE OUTPUT OSCILLATORS\nasig1          tablei         aindex1,iwave1,0,0,1                    ;CREATE WAVE OUTPUT  \nasig2          tablei         aindex2,iwave2,0,0,1                    ;CREATE WAVE OUTPUT  \n;asig2         tablei         awave2phs*itblesize,iwave2,0,0,1 \nktempscale1    tablei         kindex1, igrainenv,0,0,1                ;LOOP RAMP FADE ENV\nktempscale2    tablei         kindex2, igrainenv,0,0,1                ;LOOP RAMP FADE ENV\nkscale1        =              (iloopstart>0 ? ktempscale1:1)  \nkscale2        =              (iloopstart>0 ? ktempscale2:1)  \nif             iloopstart > 0 goto noreinit\nif        kindex1 >=kprev1    goto noreinit\nif        kindex2 >=kprev2    goto noreinit\n               reinit         startreinit\nstartreinit:\n   \niloopstart     =              p18\n   ilooplen    =              iloopend-iloopstart \n               rireturn\n   aindex1     =              iloopstart + aindex1+kdistribute       \n   aindex2     =              iloopstart + aindex2+kdistribute       \nnoreinit:\nadeltime       upsamp         kdelayenv*idelaytime\nadump          delayr         idelaytime                              ;        CENTER DELAY TIME\nad2            deltapi        adeltime\n               delayw         asig2\nasig2          =              ad2\nasig           =              kmastergate*(asig1*kmix*(kgraingate*ipkamp)*kscale1)   ;SPLIT UP OF CODE INTO TWO LINES (FIXES RT ERROR)\nasig           =              (asig+(kmastergate*(asig2*(1-kmix)*(kgraingate*ipkamp))))\n;\nadry           =              asig*idrywet\narev           reverb         asig*(1-idrywet),irevtime               ;REV SIGNAL\n;\nkrandpan       randi          1,(igrainfreq+krand)/20                 ;QUASI RANDOM PANNING BASED ON GRAIN FREQ\nklfac          =              sqrt(abs(krandpan))\nkrfac          =              sqrt(1-(abs(krandpan)))\n;\n               outs           (adry+arev)*klfac,(adry+arev)*krfac ;output the panned/rev. sigs   \nendin\n\n\n\n          \n\n</CsInstruments>\n<CsScore>\n;Howard Fredrics\n;3:13PM  4/03/1989\n;mus329J\n;\n;====================================================================;\n;                       Final Granular Synthesis Score v.2                         ;\n;====================================================================;\n;\n;  Tempo in beats/min\nt0     60      \n; Simple Sine Function\nf01     0       512    10       1 \n; Ramp down\nf02     0       513    -7       1       512     .64\n;Delay env\nf03      0        513     -7    .4      64      .5      128     1       128     .5      192     0      \n; pyramid\nf11     0       513     7       0       256     1       256     0\n; Wave 1 Function\nf13     0      16384  1      \"soundin.102\"      0 \t0 0\n; Wave 2 Function\nf14     0      16384   1   \"soundin.102\"       0 \t0 0\n; Grain Env Function\nf15     0       128     7       0       26      1       76      1       26      0\n;=========================================================================;\n;p1     p2      p3      p4      p5      p6      p7      p8      p9      p10      p11     p12     p13     p14     p15     p16     p17            p18     p19\n;ins    strt    dur    wave1    wave2   pit     amp     att     dec     mixfreq  grfr    vibrat  vibwid  rvtim   dry/wet tblsize delaytime      loopst  loopend\ni1        0       5    13       14      0   80000   .2    .2     1        32      7       .01      0.0     100  65536  50      0  65536\n\n\n\n\ne\n\n\n\n\n\n\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ---------------------------------------------- using interpolating oscillator and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from TossaMoog.orc and TossaMoog.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n;----------------------------------------------\n;          moog.orc \n;        Code by \n;      Timo Tossavainen\n;        tt56361@uta.fi\n;----------------------------------------------\n\n;----------------------------------------------\n; ANALOGUISH BASSLINE SYNTH USING THE MOOG VCF\n;----------------------------------------------\n          instr     1\n;----------------------------------------------\n; p2      =         start\n; p3      =         duration\n;----------------------------------------------\n; p4      =         pitch\n; p5      =         vel\n; p6      =         cutoff (0..1)\n; p7      =         resonance (0..4)\n; p6      =         env to cutoff\n;----------------------------------------------\n\nimax      init      ampdb(90)\n\n; CONTROLLERS\n\nidur      =         p3\nkpit      =         p4\nkvel      =         p5\nkcut      =         p6\nkrez      =         p7\nkenvtof   =         p8\n\nkf        init      0\nkfb       init      0\nkscale    init      0\n\naout1     init      0                        ; MOOG VCF VARS\naout2     init      0\naout3     init      0\naout4     init      0\naout      init      0\nain1      init      0\nain2      init      0\nain3      init      0\nain4      init      0\n\n;---------- K UPDATE\n\nkenv      expon     1, idur, 0.1             ; ENVELOPE TO CUTOFF AND AMP\nkf        =         1.16 * (kcut + kenv * kenvtof) ; CUTOFF \nkf        =         (kf > 1.16 ? 1.16 : kf)  ; (limit <= 1.16)\nkfb       =         krez * (1.0 - 0.15 * kf * kf)  ; RESONANCE\nkscale    =         kf / 1.3                 ; ONEPOLE SCALING COEFF\n                                             \n;---------- A UPDATE\n\naosc      oscili    imax, cpspch(kpit), 1\n\n;---------- THE MOOG VCF ----\n\napi       =         aosc - (kfb * aout4)\n\nat1       =         kscale * api   \naout1     =         at1 + 0.3 * ain1 + (1.0 - kf) * aout1 ; pole 1\nain1      =         at1\nat2       =         kscale * aout1\naout2     =         at2 + 0.3 * ain2 + (1.0 - kf) * aout2 ; pole 2\nain2      =         at2\nat3       =         kscale * aout2\naout3     =         at3 + 0.3 * ain3 + (1.0 - kf) * aout3 ; pole 3\nain3      =         at3\nat4       =         kscale * aout3\naout4     =         at4 + 0.3 * ain4 + (1.0 - kf) * aout4 ; pole 4\nain4      =         at4\n\naout      =         aout4 * kenv;\n\n          out       aout\n          endin\n\n\n\n\n\n\n\n</CsInstruments>\n<CsScore>\n; moog.sco\n; by Timo Tossavainen, tt56361@uta.fi\n; saw table\n\nf1 0 4096 7 1 4096 -1\nt 0 160\n\n; score\n;ins beg  dur  pit   vel  cut  rez  env\ni1   0.0  0.6  7.03  0.9  0.02 3.6  0.01\ni1   0.5  0.6  6.07  .    .    .    .\ni1   1.0  0.6  7.00  .    .    .    .\ni1   1.5  0.6  7.03  .    .    .    0.02\ni1   2.0  0.6  7.03  .    .    .    .\ni1   2.5  0.6  6.07  .    .    .    .\ni1   3.0  0.6  7.00  .    0.02 .    0.03\ni1   3.5  0.6  7.03  .    .    .    .\n\ni1   4.0  0.6  7.03  0.9  0.02 3.6  0.04\ni1   4.5  0.6  6.08  .    .    .    .\ni1   5.0  0.6  7.00  .    0.03 .    .\ni1   5.5  0.6  7.03  .    .    .    .\ni1   6.0  0.6  7.03  .    0.05 .    .\ni1   6.5  0.6  6.08  .    .    .    .\ni1   7.0  0.6  7.00  .    0.07 .    .\ni1   7.5  0.6  7.03  .    .    .    .\n\ni1   8.0  0.6  7.05  0.9  0.1 3.6  0.08\ni1   8.5  0.6  6.08  .    0.11 .    .\ni1   9.0  0.6  7.00  .    0.12 .   0.1\ni1   9.5  0.6  7.05  .    0.13 .    .\ni1  10.0  0.6  7.05  .    0.15 .   0.15\ni1  10.5  0.6  6.08  .    0.16 .    .\ni1  11.0  0.6  7.00  .    0.17 .   0.2\ni1  11.5  0.6  7.05  .    0.18 .    .\n\ni1  12.0  0.6  7.03  0.9  0.2 3.6  0.3\ni1  12.5  0.6  6.08  .    .    .    .\ni1  13.0  0.6  7.00  .    .    .    .\ni1  13.5  0.6  7.03  .    0.4 3.65  .\ni1  14.0  0.6  7.02  .    .    .    .\ni1  14.5  0.6  6.07  .    0.45 .    .\ni1  15.0  0.6  6.10  .    .   3.7   .\ni1  15.5  0.6  7.02  .    0.6 3.8   .\n\ni1  16.0  0.6  7.03  0.9  0.7 3.9  0.3\ni1  16.5  0.6  6.07  .    .    .    .\ni1  17.0  0.6  7.00  .    .    .    .\ni1  17.5  0.6  7.03  .    .    .    .\ni1  18.0  0.6  7.03  .    .    .    .\ni1  18.5  0.6  6.07  .    0.6  .    .\ni1  19.0  0.6  7.00  .    0.55 .    .\ni1  19.5  0.6  7.03  .    0.50 .    .\n\ni1  20.0  0.6  7.03  0.9  0.45 3.95  0.3\ni1  20.5  0.6  6.08  .    0.40 .    .\ni1  21.0  0.6  7.00  .    0.37 .    .\ni1  21.5  0.6  7.03  .    0.34 .    .\ni1  22.0  0.6  7.03  .    0.30 .    .\ni1  22.5  0.6  6.08  .    0.27 .    .\ni1  23.0  0.6  7.00  .    0.24 .    .\ni1  23.5  0.6  7.03  .    0.20 .    .\n\ni1  24.0  0.6  7.05  0.9  0.19 4.0 0.3\ni1  24.5  0.6  6.08  .    0.17 .    .\ni1  25.0  0.6  7.00  .    0.16 .    .\ni1  25.5  0.6  7.05  .    0.15 .   0.25\ni1  26.0  0.6  7.05  .    0.14 .    .\ni1  26.5  0.6  6.08  .    0.13 .    .\ni1  27.0  0.6  7.00  .    0.12 .   0.1\ni1  27.5  0.6  7.05  .    0.11 .    .\n\ni1  28.0  0.6  7.03  0.9  0.10 3.9 0.1\ni1  28.5  0.6  6.08  .    0.09 .   0.08\ni1  29.0  0.6  7.00  .    0.08 .   0.06\ni1  29.5  0.6  7.03  .    0.07 .   0.05\ni1  30.0  0.6  7.02  .    0.06 .   0.04\ni1  30.5  0.6  6.07  .    0.05 .    .\ni1  31.0  0.6  6.10  .     .   .    .\ni1  31.5  0.6  6.02  .     .   .    .\n\ni1  32.0  5.0  6.00  0.9  0.06 .   0.04\ne\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for 1 INSTRUMENTS using granular synthesis and interpolating oscillator and simple sine oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from granularnd1.orc and granularnd1.sco\n; Original files preserved in same directory\n\nsr             =              44100\nkr             =              2205   \nksmps          =              20\nnchnls         =              2\n\n;HOWARD FREDRICS\n;5-30-93\n;\n;=====================================================================\n;\n;\n;\n;=====================================================================\n;\n;\n;=================================================================\n;       Pitch Changing Granular Synthesis Instrument                            \n;                                                                \n;       p4 = Wave Function 1    p5 = Wave Function 2     p6 = desired pitch in midi (converted to freq of wavereading)                       ;\n;       p7 = peak amp p8=attack p9=decay p10 = wavemixer freq in hz                               \n;       p11=grainfreq    p12 = vibrate    p13 = vibwidth p14=revtime\n;       p15=dry/wetmix (percentage 0-100) p16=tblesize p17=delay time (msec)\n;                                                                   \n;=================================================================\n;\n                instr         1                             ;1 INSTRUMENTS\niwave1         =              p4                            ;SOUNDIN FUNCTION NUMBERS (GEN -1) \niwave2         =              p5\niwavemixer     =              p10                           ;WAVE MIXER FREQ IN HZ\nitblesize      =              p16                           ;WAVE TABLE SIZE\n;\nitak           =              p8                            ;ATTACK TIME FOR NOTE\nidec           =              p9                            ;DECAY TIME\nigrainenv      =              15                            ;GRAIN ENV IS FUNCTION 15\nigrainfreq     =              p11\n;\nimidinn        =              p6                            ;STORE MIDI NN IN VARIABLE FOR LATER USE\nioctmid        =              3+(imidinn/12)                ;THEORETICAL FUNDAMENTAL (P5) CONVERTED FROM MIDI NN TO OCT \nicpswave       =              cpsoct(ioctmid)               ;THEORETICAL FUNDAMENTAL CONVERTED FROM OCT TO CPS\nicpswave       =              (icpswave*(sr/itblesize))/4   ;CONVERT TO ACTUAL FREQ BASED ON SR/TABLESIZE \n;                                                           ;SO THAT ORC SR CAN BE VARIED\n;\nipkamp         =              p7/2                          ;PEAK 16 BIT AMP FOR TWO WAVES\n;\n;    \nivibrate       =              p12\nivibwidth      =              p13/(2*3.14159)               ;INDEX/2PI\n;\nirevtime       =              p14                           ;REV TIME IN SEC\nidrywet        =              p15/100                       ;DRY PERCENTAGE\nidelaytime     =              p17/1000                      ;DELAY TIME IN MS\nidelayfn       =              3\niloopstart     =              0                                                                                                   ; initialize loop to 0 (reads p18 at startreinit:)\niloopend       =              p19\nilooplen       =              iloopend-iloopstart\n\n\n;\n;                       PERFORMANCE BLOCK\n;\nkport          init           1                                  ;INITIALIZE PORTAMENTO ENV\nkport          oscil1         itak+(p3-irevtime),1,idec,2        ;SLIGHT RAMP DOWN IN PITCH FOR EACH NOTE'S DECAY     \n;\nkgrainfreq     init           igrainfreq                         ;INITIALIZE KGRAINFREQ TO ITIME VALUE\nkrand          init           0                                  ;INIT FIRST RAND FACTOR TO 0\nkrand          randh          kgrainfreq/2,(krand +igrainfreq)   ;CHOOSE NEW GRAIN SIZE 1X PER GRAINENV\n;\nkgraingate     init           0                                  ;INITIALIZE GRAINENV TO 0\nkgraingate     oscili         1,igrainfreq+krand,igrainenv       ;GRAINENV IS A QUASI-GAUSIAN ENV WITH FREQ SLIGHTLY RANDOMIZED\n;\nkmastergate    linseg         0,itak,1,(p3-irevtime-itak-idec),1,idec,0,irevtime,0   ;FINAL OUTPUT ENVELOPE\nkmodphase      init           0                                  ;INITIALIZE PHASE\nkmodphs        oscili         ivibwidth,ivibrate,1               ;VIBRATO OSCILATOR\n;\n\n;RANDOM DISTRIBUTION OF GRAINS WITHIN WAVETABLE\nkdistribute    init           0\nkdistribute    randh          itblesize, (krand+igrainfreq)\n\n               display        kdistribute, igrainfreq\n\n\nawave1phs      phasor         cpsoct(octcps(icpswave)+kmodphs)*kport  ;MOVING PHASE VALUES FOR WAVESHAPE OSCILS\nawave2phs      phasor         cpsoct(octcps(icpswave)+kmodphs)*kport\nkmix           oscili         1,iwavemixer+(krand/10),11              ;PYRAMID WITH RANDOM FREQ VARIATION\nkdelayenv      oscil1i        0,kmastergate,p3,idelayfn               ; VARIABLE DELAY ENVELOPE FOR SECOND WAVE\n;\nkindex1        init           0\nkindex2        init           0\nkprev1         =              kindex1\nkprev2         =              kindex2\naindex1        =              (awave1phs*ilooplen)+iloopstart+(kdistribute-ilooplen)\naindex2        =              (awave2phs*ilooplen)+iloopstart+(kdistribute-ilooplen)\nkindex1        downsamp       aindex1\nkindex2        downsamp       aindex2\n               display        kindex1, igrainfreq\n;asig1         tablei         awave1phs*itblesize,iwave1,0,0,1        ;CREATE WAVE OUTPUT OSCILLATORS\nasig1          tablei         aindex1,iwave1,0,0,1                    ;CREATE WAVE OUTPUT  \nasig2          tablei         aindex2,iwave2,0,0,1                    ;CREATE WAVE OUTPUT  \n;asig2         tablei         awave2phs*itblesize,iwave2,0,0,1 \nktempscale1    tablei         kindex1, igrainenv,0,0,1                ;LOOP RAMP FADE ENV\nktempscale2    tablei         kindex2, igrainenv,0,0,1                ;LOOP RAMP FADE ENV\nkscale1        =              (iloopstart>0 ? ktempscale1:1)  \nkscale2        =              (iloopstart>0 ? ktempscale2:1)  \nif             iloopstart > 0 goto noreinit\nif        kindex1 >=kprev1    goto noreinit\nif        kindex2 >=kprev2    goto noreinit\n               reinit         startreinit\nstartreinit:\n   \niloopstart     =              p18\n   ilooplen    =              iloopend-iloopstart \n               rireturn\n   aindex1     =              iloopstart + aindex1+kdistribute       \n   aindex2     =              iloopstart + aindex2+kdistribute       \nnoreinit:\nadeltime       upsamp         kdelayenv*idelaytime\nadump          delayr         idelaytime                              ;        CENTER DELAY TIME\nad2            deltapi        adeltime\n               delayw         asig2\nasig2          =              ad2\nasig           =              kmastergate*(asig1*kmix*(kgraingate*ipkamp)*kscale1)   ;SPLIT UP OF CODE INTO TWO LINES (FIXES RT ERROR)\nasig           =              (asig+(kmastergate*(asig2*(1-kmix)*(kgraingate*ipkamp))))\n;\nadry           =              asig*idrywet\narev           reverb         asig*(1-idrywet),irevtime               ;REV SIGNAL\n;\nkrandpan       randi          1,(igrainfreq+krand)/20                 ;QUASI RANDOM PANNING BASED ON GRAIN FREQ\nklfac          =              sqrt(abs(krandpan))\nkrfac          =              sqrt(1-(abs(krandpan)))\n;\n               outs           (adry+arev)*klfac,(adry+arev)*krfac ;output the panned/rev. sigs   \nendin\n\n\n\n          \n\n</CsInstruments>\n<CsScore>\n;HOWARD FREDRICS\n;3:13PM  4/03/1989\n;MUS329J\n;\n;====================================================================;\n;                       FINAL GRANULAR SYNTHESIS SCORE V.2                         ;\n;====================================================================;\n;\n;  tempo in beats/min\nt0     60      \n; simple sine function\nf01     0       512    10       1 \n; ramp down\nf02     0       513    -7       1       512     .64\n;delay env\nf03      0        513     -7    .4      64      .5      128     1       128     .5      192     0      \n; pyramid\nf11     0       513     7       0       256     1       256     0\n; wave 1 function\nf13     0       65536  1      222      0     0 0\n; wave 2 function\nf14     0       65536   1  222      0   0 0\n; grain env function\nf15     0       128     7       0       26      1       76      1       26      0\n;=========================================================================;\n;p1     p2      p3      p4      p5      p6      p7      p8      p9      p10      p11     p12     p13     p14     p15     p16     p17            p18     p19\n;ins    strt    dur    wave1    wave2   pit     amp     att     dec     mixfreq  grfr    vibrat  vibwid  rvtim   dry/wet tblsize delaytime      loopst  loopend\ni1        0       5    13       14      0     90000   .01    .05     32        23      7       .01      1.1     90      65536  12      0  65535\ne\n\n\n\n\n\n\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for 1 INSTRUMENTS using granular synthesis and interpolating oscillator and simple sine oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from granularnd2.orc and granularnd2.sco\n; Original files preserved in same directory\n\nsr             =              44100\nkr             =              2205   \nksmps          =              20\nnchnls         =              2\n\n;HOWARD FREDRICS\n;5-30-93\n;\n;=====================================================================\n;\n;\n;\n;=====================================================================\n;\n;\n;=================================================================\n;       Pitch Changing Granular Synthesis Instrument                            \n;                                                                \n;       p4 = Wave Function 1    p5 = Wave Function 2     p6 = desired pitch in midi (converted to freq of wavereading)                       ;\n;       p7 = peak amp p8=attack p9=decay p10 = wavemixer freq in hz                               \n;       p11=grainfreq    p12 = vibrate    p13 = vibwidth p14=revtime\n;       p15=dry/wetmix (percentage 0-100) p16=tblesize p17=delay time (msec)\n;                                                                   \n;=================================================================\n;\n                instr         1                             ;1 INSTRUMENTS\niwave1         =              p4                            ;SOUNDIN FUNCTION NUMBERS (GEN -1) \niwave2         =              p5\niwavemixer     =              p10                           ;WAVE MIXER FREQ IN HZ\nitblesize      =              p16                           ;WAVE TABLE SIZE\n;\nitak           =              p8                            ;ATTACK TIME FOR NOTE\nidec           =              p9                            ;DECAY TIME\nigrainenv      =              15                            ;GRAIN ENV IS FUNCTION 15\nigrainfreq     =              p11\n;\nimidinn        =              p6                            ;STORE MIDI NN IN VARIABLE FOR LATER USE\nioctmid        =              3+(imidinn/12)                ;THEORETICAL FUNDAMENTAL (P5) CONVERTED FROM MIDI NN TO OCT \nicpswave       =              cpsoct(ioctmid)               ;THEORETICAL FUNDAMENTAL CONVERTED FROM OCT TO CPS\nicpswave       =              (icpswave*(sr/itblesize))/4   ;CONVERT TO ACTUAL FREQ BASED ON SR/TABLESIZE \n;                                                           ;SO THAT ORC SR CAN BE VARIED\n;\nipkamp         =              p7/2                          ;PEAK 16 BIT AMP FOR TWO WAVES\n;\n;    \nivibrate       =              p12\nivibwidth      =              p13/(2*3.14159)               ;INDEX/2PI\n;\nirevtime       =              p14                           ;REV TIME IN SEC\nidrywet        =              p15/100                       ;DRY PERCENTAGE\nidelaytime     =              p17/1000                      ;DELAY TIME IN MS\nidelayfn       =              3\niloopstart     =              0                                                                                                   ; initialize loop to 0 (reads p18 at startreinit:)\niloopend       =              p19\nilooplen       =              iloopend-iloopstart\n\n\n;\n;                       PERFORMANCE BLOCK\n;\nkport          init           1                                  ;INITIALIZE PORTAMENTO ENV\nkport          oscil1         itak+(p3-irevtime),1,idec,2        ;SLIGHT RAMP DOWN IN PITCH FOR EACH NOTE'S DECAY     \n;\nkgrainfreq     init           igrainfreq                         ;INITIALIZE KGRAINFREQ TO ITIME VALUE\nkrand          init           0                                  ;INIT FIRST RAND FACTOR TO 0\nkrand          randh          kgrainfreq/2,(krand +igrainfreq)   ;CHOOSE NEW GRAIN SIZE 1X PER GRAINENV\n;\nkgraingate     init           0                                  ;INITIALIZE GRAINENV TO 0\nkgraingate     oscili         1,igrainfreq+krand,igrainenv       ;GRAINENV IS A QUASI-GAUSIAN ENV WITH FREQ SLIGHTLY RANDOMIZED\n;\nkmastergate    linseg         0,itak,1,(p3-irevtime-itak-idec),1,idec,0,irevtime,0   ;FINAL OUTPUT ENVELOPE\nkmodphase      init           0                                  ;INITIALIZE PHASE\nkmodphs        oscili         ivibwidth,ivibrate,1               ;VIBRATO OSCILATOR\n;\n\n;RANDOM DISTRIBUTION OF GRAINS WITHIN WAVETABLE\nkdistribute    init           0\nkdistribute    randh          itblesize, (krand+igrainfreq)\n\n               display        kdistribute, igrainfreq\n\n\nawave1phs      phasor         cpsoct(octcps(icpswave)+kmodphs)*kport  ;MOVING PHASE VALUES FOR WAVESHAPE OSCILS\nawave2phs      phasor         cpsoct(octcps(icpswave)+kmodphs)*kport\nkmix           oscili         1,iwavemixer+(krand/10),11              ;PYRAMID WITH RANDOM FREQ VARIATION\nkdelayenv      oscil1i        0,kmastergate,p3,idelayfn               ; VARIABLE DELAY ENVELOPE FOR SECOND WAVE\n;\nkindex1        init           0\nkindex2        init           0\nkprev1         =              kindex1\nkprev2         =              kindex2\naindex1        =              (awave1phs*ilooplen)+iloopstart+(kdistribute-ilooplen)\naindex2        =              (awave2phs*ilooplen)+iloopstart+(kdistribute-ilooplen)\nkindex1        downsamp       aindex1\nkindex2        downsamp       aindex2\n               display        kindex1, igrainfreq\n;asig1         tablei         awave1phs*itblesize,iwave1,0,0,1        ;CREATE WAVE OUTPUT OSCILLATORS\nasig1          tablei         aindex1,iwave1,0,0,1                    ;CREATE WAVE OUTPUT  \nasig2          tablei         aindex2,iwave2,0,0,1                    ;CREATE WAVE OUTPUT  \n;asig2         tablei         awave2phs*itblesize,iwave2,0,0,1 \nktempscale1    tablei         kindex1, igrainenv,0,0,1                ;LOOP RAMP FADE ENV\nktempscale2    tablei         kindex2, igrainenv,0,0,1                ;LOOP RAMP FADE ENV\nkscale1        =              (iloopstart>0 ? ktempscale1:1)  \nkscale2        =              (iloopstart>0 ? ktempscale2:1)  \nif             iloopstart > 0 goto noreinit\nif        kindex1 >=kprev1    goto noreinit\nif        kindex2 >=kprev2    goto noreinit\n               reinit         startreinit\nstartreinit:\n   \niloopstart     =              p18\n   ilooplen    =              iloopend-iloopstart \n               rireturn\n   aindex1     =              iloopstart + aindex1+kdistribute       \n   aindex2     =              iloopstart + aindex2+kdistribute       \nnoreinit:\nadeltime       upsamp         kdelayenv*idelaytime\nadump          delayr         idelaytime                              ;        CENTER DELAY TIME\nad2            deltapi        adeltime\n               delayw         asig2\nasig2          =              ad2\nasig           =              kmastergate*(asig1*kmix*(kgraingate*ipkamp)*kscale1)   ;SPLIT UP OF CODE INTO TWO LINES (FIXES RT ERROR)\nasig           =              (asig+(kmastergate*(asig2*(1-kmix)*(kgraingate*ipkamp))))\n;\nadry           =              asig*idrywet\narev           reverb         asig*(1-idrywet),irevtime               ;REV SIGNAL\n;\nkrandpan       randi          1,(igrainfreq+krand)/20                 ;QUASI RANDOM PANNING BASED ON GRAIN FREQ\nklfac          =              sqrt(abs(krandpan))\nkrfac          =              sqrt(1-(abs(krandpan)))\n;\n               outs           (adry+arev)*klfac,(adry+arev)*krfac ;output the panned/rev. sigs   \nendin\n\n\n\n          \n\n</CsInstruments>\n<CsScore>\n;HOWARD FREDRICS\n;3:13PM  4/03/1989\n;MUS329J\n;\n;====================================================================;\n;                       FINAL GRANULAR SYNTHESIS SCORE V.2                         ;\n;====================================================================;\n;\n;  TEMPO IN BEATS/MIN\nt0     60      \n; SIMPLE SINE FUNCTION\nf01     0       512    10       1 \n; RAMP DOWN\nf02     0       513    -7       1       512     .64\n;DELAY ENV\nf03      0        513     -7    .4      64      .5      128     1       128     .5      192     0      \n; PYRAMID\nf11     0       513     7       0       256     1       256     0\n; WAVE 1 FUNCTION\nf13     0       8192  1      \"soundin.101\"      0    0 0\n; WAVE 2 FUNCTION\nf14     0       8192  1   \"soundin.101\"       0     0 0\n; GRAIN ENV FUNCTION\nf15     0       128     7       0       26      1       76      1       26      0\n;=========================================================================;\n;p1     p2      p3      p4      p5      p6      p7      p8      p9      p10      p11     p12     p13     p14     p15     p16     p17            p18     p19\n;ins    strt    dur    wave1    wave2   pit     amp     att     dec     mixfreq  grfr    vibrat  vibwid  rvtim   dry/wet tblsize delaytime      loopst  loopend\ni1        0       20    13       14      -4     90000   .01    .05     32        42      7       .01      0.0     100  65536  50      1  65536\ne\n\n\n\n\n\n\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Disk Input Mono using effects processing and interpolating oscillator and analog-style oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from CookMultiFX1.orc and CookMultiFX1.sco\n; Original files preserved in same directory\n\nsr      = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 2\n\nzakinit  30, 30\ngaecho   init 0\n;----------------------------------------------------------------------------------\ninstr    1 ; Disk Input Mono\nilevl    = p4 ; Output level\niout     = p5 ; Out\na1       soundin  \"Marimba.aif\"\nzaw      a1*ilevl, iout\nendin\n;----------------------------------------------------------------------------------\ninstr    2 ; Disk Input Stereo\nilevl    = p4 ; Output level\niout1    = p5 ; Out 1\niout2    = p6 ; Out 2\na1, a2   soundin  \"AllOfMeStereo.aif\"\nzaw      a1*ilevl, iout1\nzaw      a2*ilevl, iout2\nendin\n;----------------------------------------------------------------------------------\ninstr    4 ; Ring Modulator with Osc\nilevl    = p4 ; Output level\nin1      = p5 ; In\niout1    = p6 ; Out\nifreq1   = p7 ; Start frequency\nifreq2   = p8 ; End frequency\niwave    = p9 ; Waveform\nk1       expseg  ifreq1, p3, ifreq2\nain      zar  in1\na2       oscili  1, k1, iwave\nzaw      ain*a2*ilevl, iout1\nendin\n;----------------------------------------------------------------------------------\ninstr    5 ; S+H Using 'Reson' Filter\nilevl    = p4/200\nin1      = p5\niout1    = p6\nifreq    = p7\nidpth    = p8/2\nirate    = p9\niseed    = p10\nk1       randh  idpth, irate, iseed\nk1       = k1 + idpth\nain      zar  in1\nares     reson  ain, ifreq + k1, (ifreq + k1)/16\nzaw      ares*ilevl, iout1\nendin\n;----------------------------------------------------------------------------------\ninstr    6 ; Moog VCF with LFO\nilevl    = p4  ; Output level\nin1      = p5  ; In\niout1    = p6  ; Out\nifreq    = p7  ; Freq\nidepth   = p8  ; LFO depth\nirate    = p9  ; LFO rate\niwave    = p10 ; LFO waveform\nirez     = p11 ; Resonance\nain      zar  in1\nalfo     oscili  idepth, irate, iwave\nalfo     = alfo + idepth\navcf     moogvcf  ain, ifreq + alfo, irez, 32767\nzaw      avcf*ilevl, iout1\nendin\n;----------------------------------------------------------------------------------\ninstr    7 ; Moog VCF with Envelope Follower.\nilevl    = p4 ; Output level\nin1      = p5 ; In\niout1    = p6 ; Out\nidepth   = p7 ; Sweep depth\nirez     = p8 ; Resonance\nain      zar  in1\na2       follow  ain, .025\na3       butterlp  a2, 25\navcf     moogvcf  ain, (a3/8)*idepth, irez, 32767\nzaw      avcf*ilevl, iout1\nendin\n;----------------------------------------------------------------------------------\ninstr    8 ; Flanger\nilevl    = p4      ; Output level\nin1      = p5      ; In\niout     = p6      ; Out\nidelay   = p7/1000 ; Delay in ms\nirate    = p8      ; LFO rate\nidepth   = p9/2000 ; LFO depth in ms\niwave    = p10     ; LFO waveform\nifdbk    = p11     ; Feedback\nidry     = p12     ; Dry signal level\nimax     = (idelay + idepth)*2\nain      zar  in1\nalfo     oscili  idepth, irate, iwave\nalfo     = alfo + idepth\naflng    flanger  ain, alfo + idelay, ifdbk, imax\naout     = (ain*idry + aflng)*ilevl\nzaw      aout, iout\nendin\n;----------------------------------------------------------------------------------\ninstr     9 ; 'Reson' filter bank\nilevl    = p4/1000                        ; Output level\nin1      = p5                             ; In\niout1    = p6                             ; Out\nipitch1  = (p7 < 20 ? cpspch(p7) : p7)    ; Filter 1 freq\nipitch2  = (p8 < 20 ? cpspch(p8) : p8)    ; Filter 2 freq\nipitch3  = (p9 < 20 ? cpspch(p9) : p9)    ; Filter 3 freq\nipitch4  = (p10 < 20 ? cpspch(p10) : p10) ; Filter 4 freq\nipitch5  = (p11 < 20 ? cpspch(p11) : p11) ; Filter 5 freq\nipitch6  = (p12 < 20 ? cpspch(p12) : p12) ; Filter 6 freq\niband    = p13                            ; Filter bandwidth\nain      zar  in1\nares1    reson  ain, ipitch1, iband\nares2    reson  ain, ipitch2, iband\nares3    reson  ain, ipitch3, iband\nares4    reson  ain, ipitch4, iband\nares5    reson  ain, ipitch5, iband\nares6    reson  ain, ipitch6, iband\naout     = ares1 + ares2 + ares3 + ares4 + ares5 + ares6\nzaw      aout*ilevl, iout1    \nendin\n;----------------------------------------------------------------------------------\ninstr    99 ; Stereo Output\nilevl    = p4\nin1      = p5\nin2      = p6\nkdclik   linseg 0, .002, ilevl, p3-.004, ilevl, .002, 0\na1       zar  in1\na2       zar  in2\nouts     a1*kdclik, a2*kdclik\nzacl     1, 30\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 10 1                ; Sine\nf2 0 8193 9 1 1 180           ; Sine inv\nf3 0 8193 7 1 4096 -1 4096 1  ; Tri\nf4 0 8193 7 -1 4096 1 4096 -1 ; Tri inv\nf5 0 8193 10 1 0 0 0 0 0 .14  ; Fast and slow sines\n;--------------------------------------------------------------------------------\n; Mono Input\n;   Strt  Leng  Levl  Out\ni1  0.00  2.50  1.00  1\n;--------------------------------------------------------------------------------\n; Stereo Input\n;   Strt  Leng  Levl  OutL  OutR\n;i2 0.00  1.00  1.00  0     0\n;--------------------------------------------------------------------------------\n; Ring Modulator with VCO\n;   Strt  Leng  Levl  In    Out   Freq1 Freq2 Wave\n;i4 0.00  2.50  1.00  0     0     10    2000  1\n;--------------------------------------------------------------------------------\n; StepReson\n;   Strt  Leng  Levl  In    Out   Freq  Depth Rate  Seed\n;i5 0.00  2.50  0.50  0     0     500   500   16.0  0.50\n;i5 0.00  2.50  0.50  0     0     500   500   17.0  0.99999\n;--------------------------------------------------------------------------------\n; LFO Filter\n;   Strt  Leng  Levl  In    Out   Freq  Depth Rate  Wave  Rez\ni6  0.00  2.50  1.00  1     2     100   2000  0.50  4     0.92\n;--------------------------------------------------------------------------------\n; Env Filter\n;   Strt  Leng  Levl  In    Out   Depth Rez\n;i7 0.00  2.50  1.00  0     0     1.00  0.95\n;--------------------------------------------------------------------------------\n; Flanger - delay & depth in ms\n;   Strt  Leng  Levl  In    Out   Delay Rate  Depth Wave  Fdbk  Dry\ni8  0.00  2.50  1.00  2     5     0.25  0.25  8.00  1     0.90  0.00\ni8  0.00  2.50  1.00  2     6     0.25  0.25  8.00  2     0.90  0.00\n;--------------------------------------------------------------------------------\n; Filter Bank - pitches can be cps or '10.00'\n;   Strt  Leng  Levl  In    Out   Ptch1 Ptch2 Ptch3 Ptch4 Ptch5 Ptch6 Bandwidth\ni9  0.00  2.50  1.00  5     7     220   342   489   568   610   720   10\ni9  0.00  2.50  1.00  6     8     222   340   488   566   612   425   10\n;--------------------------------------------------------------------------------\n; Stereo Output Mixer\n;   Strt  Leng  Levl  InL   InR\ni99 0.00  2.50  0.50  5     6\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for 1 INSTRUMENTS using granular synthesis and interpolating oscillator and simple sine oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from granularnd3.orc and granularnd3.sco\n; Original files preserved in same directory\n\nsr             =              44100\nkr             =              2205   \nksmps          =              20\nnchnls         =              2\n\n;HOWARD FREDRICS\n;5-30-93\n;\n;=====================================================================\n;\n;\n;\n;=====================================================================\n;\n;\n;=================================================================\n;       Pitch Changing Granular Synthesis Instrument                            \n;                                                                \n;       p4 = Wave Function 1    p5 = Wave Function 2     p6 = desired pitch in midi (converted to freq of wavereading)                       ;\n;       p7 = peak amp p8=attack p9=decay p10 = wavemixer freq in hz                               \n;       p11=grainfreq    p12 = vibrate    p13 = vibwidth p14=revtime\n;       p15=dry/wetmix (percentage 0-100) p16=tblesize p17=delay time (msec)\n;                                                                   \n;=================================================================\n;\n                instr         1                             ;1 INSTRUMENTS\niwave1         =              p4                            ;SOUNDIN FUNCTION NUMBERS (GEN -1) \niwave2         =              p5\niwavemixer     =              p10                           ;WAVE MIXER FREQ IN HZ\nitblesize      =              p16                           ;WAVE TABLE SIZE\n;\nitak           =              p8                            ;ATTACK TIME FOR NOTE\nidec           =              p9                            ;DECAY TIME\nigrainenv      =              15                            ;GRAIN ENV IS FUNCTION 15\nigrainfreq     =              p11\n;\nimidinn        =              p6                            ;STORE MIDI NN IN VARIABLE FOR LATER USE\nioctmid        =              3+(imidinn/12)                ;THEORETICAL FUNDAMENTAL (P5) CONVERTED FROM MIDI NN TO OCT \nicpswave       =              cpsoct(ioctmid)               ;THEORETICAL FUNDAMENTAL CONVERTED FROM OCT TO CPS\nicpswave       =              (icpswave*(sr/itblesize))/4   ;CONVERT TO ACTUAL FREQ BASED ON SR/TABLESIZE \n;                                                           ;SO THAT ORC SR CAN BE VARIED\n;\nipkamp         =              p7/2                          ;PEAK 16 BIT AMP FOR TWO WAVES\n;\n;    \nivibrate       =              p12\nivibwidth      =              p13/(2*3.14159)               ;INDEX/2PI\n;\nirevtime       =              p14                           ;REV TIME IN SEC\nidrywet        =              p15/100                       ;DRY PERCENTAGE\nidelaytime     =              p17/1000                      ;DELAY TIME IN MS\nidelayfn       =              3\niloopstart     =              0                                                                                                   ; initialize loop to 0 (reads p18 at startreinit:)\niloopend       =              p19\nilooplen       =              iloopend-iloopstart\n\n\n;\n;                       PERFORMANCE BLOCK\n;\nkport          init           1                                  ;INITIALIZE PORTAMENTO ENV\nkport          oscil1         itak+(p3-irevtime),1,idec,2        ;SLIGHT RAMP DOWN IN PITCH FOR EACH NOTE'S DECAY     \n;\nkgrainfreq     init           igrainfreq                         ;INITIALIZE KGRAINFREQ TO ITIME VALUE\nkrand          init           0                                  ;INIT FIRST RAND FACTOR TO 0\nkrand          randh          kgrainfreq/2,(krand +igrainfreq)   ;CHOOSE NEW GRAIN SIZE 1X PER GRAINENV\n;\nkgraingate     init           0                                  ;INITIALIZE GRAINENV TO 0\nkgraingate     oscili         1,igrainfreq+krand,igrainenv       ;GRAINENV IS A QUASI-GAUSIAN ENV WITH FREQ SLIGHTLY RANDOMIZED\n;\nkmastergate    linseg         0,itak,1,(p3-irevtime-itak-idec),1,idec,0,irevtime,0   ;FINAL OUTPUT ENVELOPE\nkmodphase      init           0                                  ;INITIALIZE PHASE\nkmodphs        oscili         ivibwidth,ivibrate,1               ;VIBRATO OSCILATOR\n;\n\n;RANDOM DISTRIBUTION OF GRAINS WITHIN WAVETABLE\nkdistribute    init           0\nkdistribute    randh          itblesize, (krand+igrainfreq)\n\n               display        kdistribute, igrainfreq\n\n\nawave1phs      phasor         cpsoct(octcps(icpswave)+kmodphs)*kport  ;MOVING PHASE VALUES FOR WAVESHAPE OSCILS\nawave2phs      phasor         cpsoct(octcps(icpswave)+kmodphs)*kport\nkmix           oscili         1,iwavemixer+(krand/10),11              ;PYRAMID WITH RANDOM FREQ VARIATION\nkdelayenv      oscil1i        0,kmastergate,p3,idelayfn               ; VARIABLE DELAY ENVELOPE FOR SECOND WAVE\n;\nkindex1        init           0\nkindex2        init           0\nkprev1         =              kindex1\nkprev2         =              kindex2\naindex1        =              (awave1phs*ilooplen)+iloopstart+(kdistribute-ilooplen)\naindex2        =              (awave2phs*ilooplen)+iloopstart+(kdistribute-ilooplen)\nkindex1        downsamp       aindex1\nkindex2        downsamp       aindex2\n               display        kindex1, igrainfreq\n;asig1         tablei         awave1phs*itblesize,iwave1,0,0,1        ;CREATE WAVE OUTPUT OSCILLATORS\nasig1          tablei         aindex1,iwave1,0,0,1                    ;CREATE WAVE OUTPUT  \nasig2          tablei         aindex2,iwave2,0,0,1                    ;CREATE WAVE OUTPUT  \n;asig2         tablei         awave2phs*itblesize,iwave2,0,0,1 \nktempscale1    tablei         kindex1, igrainenv,0,0,1                ;LOOP RAMP FADE ENV\nktempscale2    tablei         kindex2, igrainenv,0,0,1                ;LOOP RAMP FADE ENV\nkscale1        =              (iloopstart>0 ? ktempscale1:1)  \nkscale2        =              (iloopstart>0 ? ktempscale2:1)  \nif             iloopstart > 0 goto noreinit\nif        kindex1 >=kprev1    goto noreinit\nif        kindex2 >=kprev2    goto noreinit\n               reinit         startreinit\nstartreinit:\n   \niloopstart     =              p18\n   ilooplen    =              iloopend-iloopstart \n               rireturn\n   aindex1     =              iloopstart + aindex1+kdistribute       \n   aindex2     =              iloopstart + aindex2+kdistribute       \nnoreinit:\nadeltime       upsamp         kdelayenv*idelaytime\nadump          delayr         idelaytime                              ;        CENTER DELAY TIME\nad2            deltapi        adeltime\n               delayw         asig2\nasig2          =              ad2\nasig           =              kmastergate*(asig1*kmix*(kgraingate*ipkamp)*kscale1)   ;SPLIT UP OF CODE INTO TWO LINES (FIXES RT ERROR)\nasig           =              (asig+(kmastergate*(asig2*(1-kmix)*(kgraingate*ipkamp))))\n;\nadry           =              asig*idrywet\narev           reverb         asig*(1-idrywet),irevtime               ;REV SIGNAL\n;\nkrandpan       randi          1,(igrainfreq+krand)/20                 ;QUASI RANDOM PANNING BASED ON GRAIN FREQ\nklfac          =              sqrt(abs(krandpan))\nkrfac          =              sqrt(1-(abs(krandpan)))\n;\n               outs           (adry+arev)*klfac,(adry+arev)*krfac ;output the panned/rev. sigs   \nendin\n\n\n\n          \n\n</CsInstruments>\n<CsScore>\n;HOWARD FREDRICS\n;3:13PM  4/03/1989\n;MUS329J\n;\n;====================================================================;\n;                       FINAL GRANULAR SYNTHESIS SCORE V.2                         ;\n;====================================================================;\n;\n;  TEMPO IN BEATS/MIN\nt0     60      \n; SIMPLE SINE FUNCTION\nf01     0       512    10       1 \n; RAMP DOWN\nf02     0       513    -7       1       512     .64\n;DELAY ENV\nf03      0        513     -7    .4      64      .5      128     1       128     .5      192     0      \n; PYRAMID\nf11     0       513     7       0       256     1       256     0\n; WAVE 1 FUNCTION\nf13     0       65536  1      \"SOUNDIN.1010\"      0    0 0\n; WAVE 2 FUNCTION\nf14     0        65536   1   \"SOUNDIN.1010\"       0    0 0\n; GRAIN ENV FUNCTION\nf15     0       128     7       0       26      1       76      1       26      0\n;=========================================================================;\n;p1     p2      p3      p4      p5      p6      p7      p8      p9      p10      p11     p12     p13     p14     p15     p16     p17            p18     p19\n;ins    strt    dur    wave1    wave2   pit     amp     att     dec     mixfreq  grfr    vibrat  vibwid  rvtim   dry/wet tblsize delaytime      loopst  loopend\ni1        0       10    13       14      -0    80000   .2    .2     1        24      7       .01      0.0     100  55536  50      1  55536\ne\n\n\n\n\n\n\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a bdrum sound using drum sound and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bdrum.orc and bdrum.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t1\n\n\n\n\ninstr 1\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; DRUM MODELER\n; BASED ON STOMPER ULTRA++ OSCILLATOR MODULE.\n; MORE ABOUT STOMPER AT HTTP://ZAP.BASE.ORG\n; PORTED TO CSOUND BY JOSEP M COMAJUNCOSAS/ AUGÂ´98\n; MODEL 1: 2 OSCILLATORS : KICKS\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\np3 \t\t= \t\t(p3 < .3 ? p3 :.3) \t\t; SET P3 TO THE LONGER OSC ENVELOPE TIME AND YOUÂ´LL SAVE TIME\n\n;SETTINGS FOR OSC1:\n\nidur1    \t= \t\t.3;\t\t   DURATION\nifreqst1 \t= \t\t200;\t   INITIAL FREQUENCY\nifreqnd1 \t= \t\t20;\t\t   FINAL FREQUENCY\niampst1  \t=   \t\t1;\t   INITIAL AMPLITUDE MULTIP.\niampnd1  \t=   \t\t0;\t   FINAL AMPLITUDE MULTIP.\niampenv1 \t= \t\t7.5858;\t   AMPLITUDE ENVELOPE SHAPING FACTOR (.01 TO 100)\nicpsenv1 \t=  \t\t.182;\t   FREQUENCY ENVELOPE SHAPING FACTOR (.01 TO 100)\nicurveshape1 = \t.8318 ; WAVEFORM SHAPING FACTOR (.01 TO 100)\n\n;SETTINGS FOR OSC2:\n\nidur2    \t= \t\t.003\nifreqst2 \t= \t\t6000\nifreqnd2 \t= \t\t0\niampst2  \t= \t\t1\niampnd2  \t=   \t\t0\niampenv2 \t= \t\t7.9433\nicpsenv2 \t= \t\t1.9055\nicurveshape2 = \t1\n\n;********************************************************\n;********************************************************\n; OSC 1\n;********************************************************\n;********************************************************\n\ntimout \t0, idur1, osc1\nkgoto \tskip1\n\n;;;;;;;;;;;;;;;;;;;;;\n; ENVELOPES\n;;;;;;;;;;;;;;;;;;;;;\n\nosc1:\nkphase1 \tphasor \t1/idur1\n\nkamp1 \tpow \t\tkphase1, iampenv1\nkamp1 \t= \t\t1 - kamp1\nkcps1 \tpow \t\tkphase1, icpsenv1\nkcps1 \t= \t\t(ifreqst1-ifreqnd1)*(1 - kcps1)+ifreqnd1\n\n;;;;;;;;;;;;;;;;;;;;;\n; OSCILLATOR\n;;;;;;;;;;;;;;;;;;;;;\n\nkdrum1 \toscili \tkamp1, kcps1,1\n\n;;;;;;;;;;;;;;;;;;;;;\n; VARIABLE WAVESHAPER\n;;;;;;;;;;;;;;;;;;;;;\n\nif \t\tkdrum1 \t< 0 goto neg1\nkshaper1 \tpow \t\tkdrum1, icurveshape1\ngoto \tout1\nneg1:\nkshaper1 \tpow \t\t-kdrum1, icurveshape1\nkshaper1 \t= \t\t(kshaper1 < 0 ? kshaper1:-kshaper1)\nout1:\nashaper1 \tupsamp \tkshaper1\n\t\tout \t\tashaper1*16000\n\n;********************************************************\n;********************************************************\n; OSC 2\n;********************************************************\n;********************************************************\nskip1:\n\ntimout \t0, idur2, osc2\nkgoto \tskip2\n\n;;;;;;;;;;;;;;;;;;;;;\n; ENVELOPES\n;;;;;;;;;;;;;;;;;;;;;\n\nosc2:\nkphase2 \tphasor \t1/idur2\n\nkamp2 \tpow \t\tkphase2, iampenv2\nkamp2 \t= \t\t1 - kamp2\nkcps2 \tpow \t\tkphase2, icpsenv2\nkcps2 \t= \t\t(ifreqst2-ifreqnd2)*(1 - kcps2)+ifreqnd2\n\n;;;;;;;;;;;;;;;;;;;;;\n; OSCILLATOR\n;;;;;;;;;;;;;;;;;;;;;\n\nkdrum2 \toscili \tkamp2, kcps2,1\n\n;;;;;;;;;;;;;;;;;;;;;\n; VARIABLE WAVESHAPER\n;;;;;;;;;;;;;;;;;;;;;\n\nif \t\tkdrum2 < 0 goto neg2\nkshaper2 \tpow \t\tkdrum2, icurveshape2\ngoto \tout2\nneg2:\nkshaper2 \tpow \t\t-kdrum2, icurveshape2\nkshaper2 \t= \t\t(kshaper2 < 0 ? kshaper2:-kshaper2)\nout2:\nashaper2 \tupsamp \tkshaper2\n\t\tout \t\tashaper2*16000\n\nskip2:\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n;f1 0 8193 11 200 1 1\nf1 0 8193 10 1 \n;f1  0 256   7 0 128 1 0 -1 128 0 \n \nt 0 170\ni1 0 1\ni1 + .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .5\ni1 . .\ni1 . 1\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .75\ni1 . .25\ni1 . .5\ni1 . .5\ne\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for DRUM MODELER using drum sound and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from comabdrum.orc and comabdrum.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\n\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\ninstr          1                   ; DRUM MODELER\n; BASED ON STOMPER ULTRA++ OSCILLATOR MODULE.\n; MORE ABOUT STOMPER AT http://zap.base.org\n; PORTED TO CSOUND BY JOSEP M COMAJUNCOSAS/ AUGÂ´98\n; MODEL 1: 2 OSCILLATORS : KICKS\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\np3             =         (p3 < .3 ? p3 :.3)       ; SET P3 TO THE LONGER OSC ENVELOPE TIME AND YOUÂ´LL SAVE TIME\n\n;SETTINGS FOR OSC1:\n\nidur1          =         .3                       ;DURATION\nifreqst1       =         200                      ;INITIAL FREQUENCY\nifreqnd1       =         20                       ;FINAL FREQUENCY\niampst1        =         1                        ;INITIAL AMPLITUDE MULTIP.\niampnd1        =         0                        ;FINAL AMPLITUDE MULTIP.\niampenv1       =         7.5858                   ;AMPLITUDE ENVELOPE SHAPING FACTOR (.01 TO 100)\nicpsenv1       =         .182                     ;FREQUENCY ENVELOPE SHAPING FACTOR (.01 TO 100)\nicurveshape1   =         .8318                    ;WAVEFORM SHAPING FACTOR (.01 TO 100)\n\n;SETTINGS FOR OSC2:\n\nidur2          =         .003\nifreqst2       =         6000\nifreqnd2       =         0\niampst2        =         1\niampnd2        =         0\niampenv2       =         7.9433\nicpsenv2       =         1.9055\nicurveshape2   =         1\n\n;********************************************************\n;********************************************************\n; OSC 1\n;********************************************************\n;********************************************************\n\n               timout    0, idur1, osc1\nkgoto          skip1\n\n;;;;;;;;;;;;;;;;;;;;;\n; ENVELOPES\n;;;;;;;;;;;;;;;;;;;;;\n\nosc1:\nkphase1        phasor    1/idur1\n\nkamp1          =         kphase1^iampenv1\nkamp1          =         1 - kamp1\nkcps1          =         kphase1^icpsenv1\nkcps1          =         (ifreqst1-ifreqnd1)*(1 - kcps1)+ifreqnd1\n\n;;;;;;;;;;;;;;;;;;;;;\n; OSCILLATOR\n;;;;;;;;;;;;;;;;;;;;;\n\nkdrum1         oscili    kamp1, kcps1,1\n\n;;;;;;;;;;;;;;;;;;;;;\n; VARIABLE WAVESHAPER\n;;;;;;;;;;;;;;;;;;;;;\n\nif        kdrum1 < 0     goto neg1\nkshaper1       =         kdrum1^icurveshape1\ngoto           out1\nneg1:\nkshaper1       =         -kdrum1^icurveshape1\nkshaper1       =         (kshaper1 < 0 ? kshaper1:-kshaper1)\nout1:\nashaper1       upsamp    kshaper1\n               out       ashaper1*16000\n\n;********************************************************\n;********************************************************\n; OSC 2\n;********************************************************\n;********************************************************\nskip1:\n\n               timout    0, idur2, osc2\nkgoto          skip2\n\n;;;;;;;;;;;;;;;;;;;;;\n; ENVELOPES\n;;;;;;;;;;;;;;;;;;;;;\n\nosc2:\nkphase2        phasor    1/idur2\n\nkamp2          =         kphase2^iampenv2\nkamp2          =         1 - kamp2\nkcps2          =         kphase2^icpsenv2\nkcps2          =         (ifreqst2-ifreqnd2)*(1 - kcps2)+ifreqnd2\n\n;;;;;;;;;;;;;;;;;;;;;\n; OSCILLATOR\n;;;;;;;;;;;;;;;;;;;;;\n\nkdrum2         oscili    kamp2, kcps2,1\n\n;;;;;;;;;;;;;;;;;;;;;\n; VARIABLE WAVESHAPER\n;;;;;;;;;;;;;;;;;;;;;\n\nif        kdrum2 < 0     goto neg2\nkshaper2       = kdrum2^icurveshape2\ngoto           out2\nneg2:\nkshaper2       =         -kdrum2^icurveshape2\nkshaper2       =         (kshaper2 < 0 ? kshaper2:-kshaper2)\nout2:\nashaper2       upsamp    kshaper2\n               out       ashaper2*16000\n\nskip2:\n     endin\n\n</CsInstruments>\n<CsScore>\n;f1 0 8193 11 200 1 1\nf1 0 8193 10 1 \n;f1  0 256   7 0 128 1 0 -1 128 0 \n \nt 0 170\ni1 0 1\ni1 + .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .5\ni1 . .\ni1 . 1\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .\ni1 . .75\ni1 . .25\ni1 . .5\ni1 . .5\ne\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a auditoryillusion sound using interpolating oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from AuditoryIllusion.orc and AuditoryIllusion.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\n\n;***********************************   AN AUDITORY ILLUSION   ************************************\n; PRESENTING CERTAIN TONE SEQUENCES TO BOTH EARS PRODUCES SOME INTERESTING AUDITORY ILLUSIONS, IN-\n; CLUDING THE ONE DEMONSTRATION, DESCRIBED BY DEUTSCH (1975).\n; TONES OF 400 AND 800HZ ALTERNATE IN BOTH EARS IN OPPOSITE PHASE; THAT IS, WHEN THE LEFT EAR RE-\n; CEIVES 400HZ, THE RIGHT EAR RECEIVES 800HZ. ABOUT 99% OF LISTENERS HEAR A SINGLE LOW-FREQUENCY \n; TONE IN ONE EAR AND A HIGH-FREQUENCY TONE IN THE OTHER EAR. QUITE REMARKABLY, WHEN THE HEAD-\n; PHONES ARE REVERSED, MOST LISTENERS HEAR THE HIGH TONE AND THE LOW TONE IN THE SAME EARS AS BE-\n; FORE (DEUTSCH, 1974).\n; RIGHT-HANDED SUBJECTS USUALLY HEAR THE HIGH TONE IN THEIR RIGHT EAR AND THE LOW TONE IN THEIR\n; LEFT EAR, REGARDLESS OF HOW THE HEADPHONES ARE ORIENTED. LEFT-HANDED SUBJECTS, ON THE OTHER HAND\n; ARE JUST AS LIKELY TO HEAR THE HIGH TONE IN THE RIGHT EAR AS IN THE LEFT. THIS IS BECAUSE IN \n; RIGHT-HANDED PEOPLE, THE LEFT HEMISPHERE IS DOMINANT (AND ITS PRIMARY AUDITORY INPUT IS FROM\n; THE RIGHT EAR), WHEREAS IN LEFT-HANDED PEOPLE, EITHER HEMISPHERE MAY BE DOMINANT. HIGH TONES ARE\n; PERCEIVED AS BEING HEARD AT THE EAR THAT FEEDS THE DOMINANT HEMISPHERE (DEUTSCH, 1975).              \n;*****************************************   HEADER   ********************************************           \n\n\n instr         1\n\n iamp          =         ampdb(p4)                ;P4 = AMPLITUDE IN DB \n ifreq         =         p5                       ;P5 = FREQUENCY\n                                                  ;P6 = PANNING FUNCTION FOR SIGNAL\n\n k1            linen     iamp,.05,p3,.05         \n a1            oscili    k1,ifreq,1             \n k2            oscili    1,p3,p6\n kleft         =         sqrt (k2)\n kright        =         sqrt (1-k2)\n aleft         =         a1 * kleft\n aright        =         a1 * kright\n               outs      aleft,aright \n endin  \n\n\n              \n\n\n</CsInstruments>\n<CsScore>\nf1 0 512 10 1                                                 ; SINE WAVE \nf2 0 512 7 1 512 1                                            ; PANNED RIGHT\nf3 0 512 7 0 512 0                                            ; PANNED LEFT\n\n;*************************************   AN AUDITORY ILLUSION   ***************************************\n;   p1      p2       p3    p4       p5         p6      \n;  inst    strt     dur    amp     ifreq     panfunc\n    i1     1.00    .25     74       400        3\n    i1     1.25    .25     74       800        2\n    i1     1.50    .25     74       400        3\n    i1     1.75    .25     74       800        2\n    i1     2.00    .25     74       400        3\n    i1     2.25    .25     74       800        2\n    i1     2.50    .25     74       400        3\n    i1     2.75    .25     74       800        2\n    i1     3.00    .25     74       400        3\n    i1     3.25    .25     74       800        2\n    i1     3.50    .25     74       400        3\n    i1     3.75    .25     74       800        2\n    i1     4.00    .25     74       400        3\n    i1     4.25    .25     74       800        2\n    i1     4.50    .25     74       400        3\n    i1     4.75    .25     74       800        2\n    i1     5.00    .25     74       400        3\n    i1     5.25    .25     74       800        2\n    i1     5.50    .25     74       400        3\n    i1     5.75    .25     74       800        2\n    i1     6.00    .25     74       400        3\n    i1     6.25    .25     74       800        2\n    i1     6.50    .25     74       400        3\n    i1     6.75    .25     74       800        2\n    i1     7.00    .25     74       400        3\n    i1     7.25    .25     74       800        2\n    i1     7.50    .25     74       400        3\n    i1     7.75    .25     74       800        2\n    i1     8.00    .25     74       400        3\n    i1     8.25    .25     74       800        2\n    i1     8.50    .25     74       400        3\n    i1     8.75    .25     74       800        2\n    i1     9.00    .25     74       400        3\n    i1     9.25    .25     74       800        2\n    i1     9.50    .25     74       400        3\n    i1     9.75    .25     74       800        2\n    i1    10.00    .25     74       400        3\n    i1    10.25    .25     74       800        2\n    i1    10.50    .25     74       400        3\n    i1    10.75    .25     74       800        2\n    i1    11.00    .25     74       400        3\n    i1    11.25    .25     74       800        2\n    i1    11.50    .25     74       400        3\n    i1    11.75    .25     74       800        2\n    i1    12.00    .25     74       400        3\n    i1    12.25    .25     74       800        2\n    i1    12.50    .25     74       400        3\n    i1    12.75    .25     74       800        2\n    i1    13.00    .25     74       400        3\n    i1    13.25    .25     74       800        2\n    i1    13.50    .25     74       400        3\n    i1    13.75    .25     74       800        2\n    i1    14.00    .25     74       400        3\n    i1    14.25    .25     74       800        2\n    i1    14.50    .25     74       400        3\n    i1    14.75    .25     74       800        2\n    i1    15.00    .25     74       400        3\n    i1    15.25    .25     74       800        2\n    i1    15.50    .25     74       400        3\n    i1    15.75    .25     74       800        2\n    i1    16.00    .25     74       400        3\n    i1    16.25    .25     74       800        2\n    i1    16.50    .25     74       400        3\n    i1    16.75    .25     74       800        2\n    i1    17.00    .25     74       400        3\n    i1    17.25    .25     74       800        2\n    i1    17.50    .25     74       400        3\n    i1    17.75    .25     74       800        2\n    i1    18.00    .25     74       400        3\n    i1    18.25    .25     74       800        2\n    i1    18.50    .25     74       400        3\n    i1    18.75    .25     74       800        2\n    i1    19.00    .25     74       400        3\n    i1    19.25    .25     74       800        2\n    i1    19.50    .25     74       400        3\n    i1    19.75    .25     74       800        2\n    i1    20.00    .25     74       400        3\n    i1    20.25    .25     74       800        2\n    i1    20.50    .25     74       400        3\n    i1    20.75    .25     74       800        2\n    i1    21.00    .25     74       400        3\n    i1    21.25    .25     74       800        2\n    i1    21.50    .25     74       400        3\n    i1    21.75    .25     74       800        2\n    i1    22.00    .25     74       400        3\n    i1    22.25    .25     74       800        2\n    i1    22.50    .25     74       400        3\n    i1    22.75    .25     74       800        2\n    i1    23.00    .25     74       400        3\n    i1    23.25    .25     74       800        2\n    i1    23.50    .25     74       400        3\n    i1    23.75    .25     74       800        2\n    i1    24.00    .25     74       400        3\n    i1    24.25    .25     74       800        2\n    i1    24.50    .25     74       400        3\n    i1    24.75    .25     74       800        2\n    i1    25.00    .25     74       400        3\n    i1    25.25    .25     74       800        2\n    i1    25.50    .25     74       400        3\n    i1    25.75    .25     74       800        2\n    i1    26.00    .25     74       400        3\n    i1    26.25    .25     74       800        2\n    i1    26.50    .25     74       400        3\n    i1    26.75    .25     74       800        2\n    i1    27.00    .25     74       400        3\n    i1    27.25    .25     74       800        2\n    i1    27.50    .25     74       400        3\n    i1    27.75    .25     74       800        2\n    i1    28.00    .25     74       400        3\n    i1    28.25    .25     74       800        2\n    i1    28.50    .25     74       400        3\n    i1    28.75    .25     74       800        2\n    i1    29.00    .25     74       400        3\n    i1    29.25    .25     74       800        2\n    i1    29.50    .25     74       400        3\n    i1    29.75    .25     74       800        2\n    i1    30.00    .25     74       400        3\n    i1    30.25    .25     74       800        2\n    i1    30.50    .25     74       400        3\n    i1    30.75    .25     74       800        2\n    e\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a week sound using interpolating random and linear segments and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from week12_3.orc and week12_3.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n \nist       =         cpspch(p5)               ; START PITCH\niend      =         cpspch(p5+1.00)          ; END PITCH\nkpitch    line      ist,p3,iend              ; GLISS FROM START TO END\nkenv      linseg    0,p3/2,p4,p3/2,0         ; UP-DOWN ENVELOPE \nkrand     randi     kpitch*.03,kr            ; A BAND OF FREQUENCIES\naindex    phasor    kpitch+krand             ; READ TABLE AT PITCH RATE\nasig      table     aindex*1024,1            ; INDEX TABLE\n          out       asig*kenv                ; OUTPUT SIGNAL\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 7 0 16 1 224 1 16 0 16 -1 224 -1 16 0 512 0   ; GEN 7 FUNCTION TABLE\n\n\n;      st      dur     amp        pitch\n\ni1     0        2     10000       8.00                  ; MIDDLE C PLAYED FOR 2 SECONDS\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a week sound using interpolating random and linear segments and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from week12_4.orc and Week12_4.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n \nist       =         cpspch(p5)                         ; START PITCH\niend      =         cpspch(p5+1.00)                    ; END PITCH\n\nkpitch    line      ist,p3,iend                        ; GLISS FROM START TO END\nkenv      linseg    0,p3/2,p4,p3/2,0                   ; UP-DOWN ENVELOPE \nkrand     randi     kpitch*.03,kr                      ; A BAND OF FREQUENCIES\naindex1   phasor    kpitch\naindex2   phasor    kpitch+2\naindex3   phasor    kpitch-2\naindex4   phasor    kpitch+5\naindex5   phasor    kpitch-5\nasig1     table     aindex1*1024,1;\nasig2     table     aindex2*1024,1;\nasig3     table     aindex3*1024,1;\nasig4     table     aindex4*1024,1;\nasig5     table     aindex5*1024,1;\nasig      =         (asig1+asig2+asig3+asig4+asig5)*.2\n\n          out       asig * kenv                        ; OUTPUT SIGNAL\n          \n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 7 0 16 1 224 1 16 0 16 -1 224 -1 16 0 512 0   ; GEN 7 FUNCTION TABLE\n\n\n;      st      dur     amp        pitch\n\ni1     0        2     10000       8.00                  ; MIDDLE C PLAYED FOR 2 SECONDS\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a rndfwdrev sound using interpolating random and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from RndFwdRev.orc and RndFwdRev.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 1\n\n\ninstr    1 ; Constant pitch random forward / reverse Sample indexer\n\nilevl    = p4*32767            ; Output level\nistart   = p5                  ; Initial position\nirate    = p6/kr               ; Replay rate: 1=Original Pitch\nirev     = p7                  ; Reversing rate\nkramp    init istart           ; Initialise ramp\n\niseed    = rnd(1)              ; Generate random seed value\nkrnd     randi  1, irev, iseed ; Generate random numbers\nif       krnd > 0 goto up      ; Goto 'up' 50% of the time, if not...\nkramp    = kramp + irate       ; ...Decrement ramp\ngoto     out\nup:\nkramp    = kramp - irate       ; Increment ramp\ngoto     out\nout:\nkind     mirror  kramp, 0, 1   ; Constrain ramp 0 < 1\nain      tablei  kind, 1, 1    ; Index Sample table\nout      ain*ilevl             ; Output and level\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 524288 1 \"monks.1\" 0 4 0 ; Sample1\n\n;   Strt  Leng  Levl  Init  Rate  Reverse\ni1  0.00  8.00  1.00  0.50  1.00  3.21\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for 8-way Interpolating Scanner (random crossfader) using sample playback and interpolating random and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from SampleScan.orc and SampleScan.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 4410\nksmps    = 10\nnchnls   = 1\n\n\ninstr    1 ; 8-way Interpolating Scanner (random crossfader)\n\nilevl    = p4 ; Output level\nirate    = p5 ; Random rate\n\nkdclick  linseg  0, .002, 1, p3-.004, 1, .002, 0\niseed    = rnd(1)\nkrnd     randi  .5, irate, iseed\nkrnd     = sqrt(krnd + .5)\nkrnd1    table  krnd, 1, 1, 0, 1\nkrnd2    table  krnd, 1, 1, .125, 1\nkrnd3    table  krnd, 1, 1, .250, 1\nkrnd4    table  krnd, 1, 1, .375, 1\nkrnd5    table  krnd, 1, 1, .500, 1\nkrnd6    table  krnd, 1, 1, .625, 1\nkrnd7    table  krnd, 1, 1, .750, 1\nkrnd8    table  krnd, 1, 1, .875, 1\nain1     diskin  \"Sample1\", 1, 0, 1\nain2     diskin  \"Sample2\", 1, 0, 1\nain3     diskin  \"Sample1\", 1, 0, 1\nain4     diskin  \"Sample2\", 1, 0, 1\nain5     diskin  \"Sample1\", 1, 0, 1\nain6     diskin  \"Sample2\", 1, 0, 1\nain7     diskin  \"Sample1\", 1, 0, 1\nain8     diskin  \"Sample2\", 1, 0, 1\nain1     = ain1*krnd1\nain2     = ain2*krnd2\nain3     = ain3*krnd3\nain4     = ain4*krnd4\nain5     = ain5*krnd5\nain6     = ain6*krnd6\nain7     = ain7*krnd7\nain8     = ain8*krnd8\naout     sum  ain1, ain2, ain3, ain4, ain5, ain6, ain7, ain8\nout      aout*kdclick*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 4096 -7 1 512 0 3072 0 512 1 ; 1/4 Linear crossfade\n\n;     Strt  Leng  Levl  Rate\ni01   0.00  4.00  1.00  8.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for icps      =         p4 using test/demonstration and Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from firsttest.orc and firsttest.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n; SIMPLE PLUCK WORKING ?\n          instr 1\nicps      =         p4\nkcps      =         icps\naout      pluck     15000, kcps, icps, 0, 1\n          outs      aout, aout\n          endin\n\n</CsInstruments>\n<CsScore>\n; simpletest.sco\n; just draw a bunch of gen 10s and pluck for ten seconds\nf1 0 1024 10 1\nf2 0 1024 10 2\nf3 0 1024 10 3\nf4 0 1024 10 4\ni1 0 10 100\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for itablesize =        12 using Karplus-Strong plucked string and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from tulips.orc and tulips.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n          \n; TULIPS\n\n          instr 1\nitablesize =        12        \nkindex    phasor    p5*p6                    ; VARIES PHASE OF LFO VS BEAT\n                                             ; THUS CREATING MELODIC PATTERNS\n\nplantatulip:\nkenv      linen     1,.001,1/p5,1/p5*.9\nipitch    table     i(kindex)*itablesize,2\n          timout    0,1/p5,pluckatulip\n          reinit    plantatulip\n               \npluckatulip:\na1        pluck    ampdb(p4)*kenv,cpspch(ipitch+p7),p8,0,1\n          outs      a1,a1\n          endin\n\n\n</CsInstruments>\n<CsScore>\n;TULIP SCORE\n\nf1 0 8192 10 1\nf2 0 16 -2 6.0 6.06 6.03 6.07 7.01 5.05 6.04 7.02 6.02 7.08 6.05 6.10\n;p4=amplitude\n;p5=cycle speed\n;p6=transposition\n;p8=pluck buffer size\n\ni1 0 20 70              4       1.1     0       400\ni1 2 18 70              2       1.15    -1      800\ni1 4 16 70              8       1.7     1       200\ni1 8 16 70              12      1.3     2       400\ni1 19 1 80              8       2.45    3.05    128\ni1 20 4 70              2       2.65    1.05    128\ni1 20 5 80              .25     1.45    3.05    128\ni1 25 5 80              .25     1.25    3.05    128\ni1 25 4 70              4       1.1     0       480\ni1 25 1 80              8       2.45    3.05    128\ni1 25 4 70              10      1.65    2.07    1000\ni1 25 4 70              11      1.55    2.08    1000\ni1 25 4 70              12      1.45    2.09    1000\ni1 29 1 70              8       1.3     4       4000\ni1 30 4 70              .25     51.3    3       200\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ,2,3,4,5 using echo effect and Karplus-Strong plucked string and reverb effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from kimECHO2.ORC and kimECHO2.SCO\n; Original files preserved in same directory\n\n        sr          =         44100\n        kr          =         4410\n        ksmps       =         10\n        nchnls      =         2\n\n;HAEYON KIM     5/15 1989\n;BEESORT ORCHESTRA\n;ECHO ORCHESTRA\n;PLUCK+ECHO INSTRUMENT\n;***************************************************************;\n;p3=dur(sec),p4=pch,p5=amp,p6=pch bend(oct),p7=roughness factor ;\n;p8=panning factor,p9=loop# per sec,p10=reverb  time            ;\n;***************************************************************;\n\n                    instr     1,2,3,4,5\n        iamp        =         (p5*5000/127)+500        ;ACTUAL540-5500/SCORE1-127\n        irvt        =         p10\n        ilpt        =         1/p9\n        ifreq       =         cpspch(p4)\n        ishft1      =         ifreq*0.9999\n        ishft2      =         ifreq*0.5555\n        ishft3      =         ifreq*1.0009\n        koctf       init      octcps(ifreq)\n        kocts1      init      octcps(ishft1)\n        kocts2      init      octcps(ishft2)\n        kocts3      init      octcps(ishft3)\n        kshape      oscil1    .17,p6,p3,4\n        kfreq       =         cpsoct(koctf+kshape)\n        kshft1      =         cpsoct(kocts1+kshape)\n        kshft2      =         cpsoct(kocts2+kshape)\n        kshft3      =         cpsoct(kocts3+kshape)\n\n          if       (p8 != 0)  igoto panning\n\n        ilfac       =         .707\n        irfac       =         .707\n\n                    igoto     perform\n\npanning:\n\n        ilfac       =         sqrt(p8)\n        irfac       =         sqrt(1-p8)\n\nperform:\n\n        ating       pluck     iamp*.3,kfreq, ifreq, 5,1\n        ating1      pluck     iamp*.3,kshft1,ishft1,13,1\n        ating2      pluck     iamp*.3,kshft2,ishft2,5,3,p7\n        ating3      pluck     iamp*.3,kshft3,ishft3,14,3,p7\n\ncontinue:\n\n        asum        =         ating+ating1+ating2+ating3\n        acomb       comb      asum,irvt,ilpt\n        asig        envlpx    acomb,.0001,p3,p3*.1,2,.888,.009\n                    outs      asig*ilfac,asig*irfac\n                    endin\n\n\n</CsInstruments>\n<CsScore>\n;HAEYON KIM     5/15 1989\n;BEESORT SCORE\n; SINE WAVE\nf01     0       512    10       1\n; RAMP\nf02     0       513     7       0       512     1\n; EXPONENTIAL RISE\nf03     0       513     5       1           512     .004\nf04     0       513     5       .001       512     1\nf05     0       513     9       10        1     0       16      1.5     0\n; GEN1 DRAW WAVES\nf06     0       32768     -1      1       0  4  0\nf07     0       32768     -1      2       0  4  0\nf08     0       32768     -1      6       0  4  0\nf09     0       32768     -1      7      0   4  0\nf10     0       32768     -1      5       0  4  0\n; REVERSE PYRAMID\nf11     0       513     7       1       256     0       256     1\n; TRIANGULAR WAVE\nf12     0       512     10      1   0  .111   0  .04    0  .02    0  .012\n; SAWTOOTH WAVE\nf13     0       512     10      1  .9  .8   .7   .6   .5  .4   .3   .2   .1\n; SQUARE WAVE\nf14     0       512     10      1   0   .3   0   .2    0  .14    0 .111\n; NARROW PULSE\nf15     0       512     10      1 1  1   1 .7 .5 .3 .1\n; EXPONENTIAL RISE AND DECAY\nf16     0       513     5       .1      32      1       480     .01\n; EXPONENTIAL RISE AND DECAY\nf17     0       513     5       .0001    256     1       256     .0001\n;***************************************************************;\n;p3=dur(sec),p4=pch,p5=amp,p6=pch bend(oct),p7=roughness factor ;\n;p8=panning,p9=loop# per second,p10=reverb  time                ;\n;***************************************************************;\n;SCORE (INSTR 1,2,3,4,5 )\n;p1  p2   p3   p4   p5   p6   p7   p8   p9   p10\n\ni1     0.00    0.5  7.00 100  0.00 0.01 0.002     10   2\ni1     0.25    0.5  7.06\ni1     0.37    0.5  7.05\ni1     0.62    0.5  7.06\ni1     0.75    0.5  7.05 .    .    .    0.888     5    1\ni1     1.00    0.5  7.00\ni1     1.25    0.5  7.06\ni1     1.37    0.5  7.05\ni1     1.62    0.5  7.06 .    -0.22     0.03 0.002     .    .\ni1     1.75    0.5  7.05\ni1     2.00    0.5  7.02\ni1     2.25    0.5  7.09 50   0.10 0.05 0.888     5    2\ni1     2.50    0.5  7.08\ni1     2.75    0.5  7.07 .    .    .    0.002     .    1\ni1     3.00    0.5  7.06\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for very simple feedback simulator using Karplus-Strong plucked string and enhanced plucked string and delay line read", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fdbk1.orc and fdbk1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n          instr 1; very simple feedback simulator\n; does feedback work this way???\n; coded by Josep M Comajuncosas / sept.Â´98\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n\nkfreq     init      1152\nkfdbk     linseg    .9, p3/5, 1.4, p3/5, .9, p3/5, 1.2, 2*p3/5, 1\nasig      pluck     1, 123, 123, 0, 1\n\natemp     delayr    1/20\n\nacomb     deltapi   1/kfreq\n\naiir      dcblock   asig + kfdbk*acomb\naiir      =         aiir - aiir*aiir*aiir/6\n\ndelayw    aiir\n\n          out       acomb*20000\n\n          endin\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n          instr 2; repluck feedback simulator?\n; coded by Josep M Comajuncosas / sept.Â´98\n; This instrument is an accident ;-)\n; but it gives wonderful noises !\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\nkenv      linseg    0 ,.05, 0 ,p3/3, 1, p3/3, 1, p3/3, 0\nkfreq     linseg    1152, p3/2, 673, p3/2, 451\nacomb     init      0\nkfdbk     linseg    .5, p3/5, 1.1, p3/5, .9, p3/5, 1.2, 2*p3/5, 1\nasig      repluck   .4, 1, 123, .7, .1, acomb\n\n\natemp     delayr    1/20\nacomb     deltapi   1/kfreq                  ; acomb ROUTED BACK TO REPLUCK\naiir      =         asig + kfdbk*acomb\n\n; CHEAP CLIPPER\nkiir      downsamp  aiir\nkiir      =         (kiir > 1 ? 1:kiir)\nkiir      =         (kiir < -1 ? -1:kiir) \naiir      upsamp    kiir\n\ndelayw    aiir\n\n; CHEAP CLIPPER (BIS)\nksig      downsamp  asig\nksig      =         (ksig > 1 ? 1:ksig)\nksig      =         (ksig < -1 ? -1:ksig) \nasig      upsamp    ksig\n\n          out       asig*20000*kenv\n\n          endin\n\n</CsInstruments>\n<CsScore>\n;f1 0 8192 21 1\nf1 0 8192 10 1\ni2 0 20\ns\ni1 1 30\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp      =         p4*4 using distortion effect and Karplus-Strong plucked string and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from distortion.orc and distortion.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\ngasig     init      0\n\n; PLUCK\n          instr 2\n\niamp      =         p4*4\nifqc      =         cpspch(p5)\nkamp      linseg    0, .002, p4, p3-.004, p4, .002, 0 \n\nasin1     pluck     kamp, ifqc, ifqc, p6, p7\ngasig     =         gasig + asin1\n\n          endin\n\n; TUBE AMP\n          instr 10\n\nasig      init      0\nkamp      linseg    0, .002, 1, p3-.004, 1, .002, 0\nigaini    =         p4\nigainf    =         p5\niduty     =         p6\nislope    =         p7\n\t\t\t\t\t\t\t\t\t\naold      =         asig\nasig      =         igaini*gasig/40000\t\t\t; DISTORTION EFFECT USING WAVESHAPING.\naclip     tablei    asig,5,1,.5    \t\t\t; A LAZY \"S\" CURVE, USE TABLE 6 FOR INCREASED\naclip     =         igainf*aclip*10000  \t\t; DISTORTION.\n\n; TUBE AMPLIFIERS SHOW A SHIFTED DUTY CYCLE WHICH I TRY TO EMULATE WITH \n; A DELAY LINE. THE SLOPE BIT IS JUST SOMETHING GOOFY I THOUGHT I WOULD ADD. \n\natemp     delayr    .1\nadel1     deltapi   (1-iduty*asig)/3000 + (1+islope*(asig-aold))/3000 \ndelayw    aclip\n\n          out       adel1*kamp\n\ngasig     =         0\n\n          endin\n\n</CsInstruments>\n<CsScore>\n; Sine Wave\nf1 0 8192 10 1\n; Triangle Wave\nf2 0 8192 7 -1 4096 1 4096 -1\n\n; Distortion Tables\n;---------------------------------------------------------------------- \n; Heavy Distortion\n;f5 0 8192 8 -.8 336 -.76 3000 -.7 1520 .7 3000 .76 336 .8 \n; Slight Distortion\n;f5 0 8192 8 -.8 336 -.78 800 -.7 5920 .7 800 .78 336 .8  ; Tube Distortion\n; Light\n;f5 0 8192 7 -.8 834 -.79 834 -.77 834 -.64 834 -.48 1520 .47 2000 .48 1336 .48\n; Heavy\nf5 0 8192 7 -.8 934 -.79 934 -.77 934 -.64 1034 -.48 520 .47 2300 .48 1536 .48\n\n; Tube Amp\n; Sta Dur PreGain PostGain DutyOffset SlopeShift \n\ni10 0 1.5 2    1    1    0\n\n; Pluck\n; Sta Dur Amp Fqc Func Meth\ni2 0.0 1.6 4000 7.00 0   1\ni2 0.2 1.4 3000 7.05 .   .\ni2 0.4 1.2 2600 8.00 .   .\ni2 0.6 1.0 3000 8.05 .   .\ni2 0.8 0.8 4000 7.00 0   1\ni2 1.0 0.6 3000 7.05 .   .\ni2 1.2 0.4 2600 8.00 .   .\ni2 1.4 0.2 3000 8.05 .   .\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Instrument 1 is for the impulse using plucked string and Karplus-Strong plucked string and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from newzakpluck.orc and newzakpluck.sco\n; Original files preserved in same directory\n\nsr     =      44100 ; sr=kr\nkr     =      44100\nksmps  =      1\nnchnls =      2\n\n; mikelson ORC\n      zakinit 50, 50 ; Initialize the zak system\n\n      instr  1             ; Instrument 1 is for the impulse\n\nioutch =      p4           ; Zak channel number\n\narnd  rand   1             ; Generate a noise signal\n      zaw    arnd, ioutch  ; Ouput to the zak channel\n\n      endin\n\n      instr 2              ; Instrument 2 implements feedback loop\n\niamp  =     p4             ; Amplitude\nitime =     1/cpspch(p5)   ; Convert pitch to time\niinch =     p6             ; Input channel\n\naflt init   0              ; Initially filtered signal is zero\n\nasig  zar   iinch          ; Read the zak channel\n\nadel delay asig+aflt, itime ; Mix the filtered signal with the original and delay\nalp  butterlp adel, 5000   ; Lowpass filter\naflt butterhp alp, 20      ; High pass filter\n\n     outs  aflt*iamp, aflt*iamp ; Amplify and output\n\n     endin\n\n</CsInstruments>\n<CsScore>\n\n\n; SCO\n;  Sta  Dur  OutCh\ni1 0    .02  1     ; Generate an impulse\n\n;  Sta  Dur  Amp    Fqc   InCh\ni2 0    1    20000  7.00  1     ; Do the pluck\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a myguitar sound using Karplus-Strong plucked string and resonant filter and amplitude balance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from MYGUITAR.ORC and MYGUITAR.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n                           \n                           \n;P4 AMPS ARE HERE DOUBLED\n; GUITAR\n          instr     1\nkamp      linseg    0.0, 0.015, p4*2, p3-0.065, p4*2, 0.05, 0.0\nasig      pluck     kamp, p5, p5, 0, 1\n;af1      reson     asig, 40, 40\naf1       reson     asig, 40, 40\naf2       reson     asig, 80, 60\naf3       reson     asig, 120, 100\naout      balance   0.8*af1+af2+0.4*af3+0.4*asig, asig\n          out       aout\n          endin\n\n; HAMMER/PULL\n          instr     2\nkamp      linseg    0.0, 0.015, p4*2, p3-0.065, p4*2, 0.05, 0.0\nkfreq     linseg    p5, p7*p3, p5, 0.005, p6, (1-p7)*p3-0.005, p6\nasig      pluck     kamp, kfreq, p5, 0, 1\naf1       reson     asig, 110, 80\naf2       reson     asig, 220, 100\naf3       reson     asig, 440, 80\naout      balance   0.6*af1+af2+0.6*af3+0.4*asig, asig\n          out       aout\n          endin\n\n; HARMONICS\n          instr 3\nkamp      linseg    0.0, 0.015, p4*2, p3-0.035, p4*2, 0.02, 0.0\nasig      pluck     kamp, p5, p5, 0, 6\n          out       asig\n          endin\n\n</CsInstruments>\n<CsScore>\ni1\t0\t0.4\t12000\t61.735\ni1\t0.2\t0.4\t12000\t246.94\ni1\t0.4\t0.4\t12000\t329.63\ni1\t0.6\t0.4\t12000\t103.83\ni1   0.8  0.4  12000     493.88\ni1\t1\t0.4\t12000\t329.63\ni1\t1.2\t0.4\t12000\t61.735\ni1\t1.4\t0.4\t12000\t123.47\ni1\t1.6\t0.4\t12000\t61.735\ni1\t1.8\t0.4\t12000\t246.94\ni1\t2\t0.4\t12000\t329.63\ni1\t2.2\t0.4\t12000\t103.83\ni1\t2.4\t0.4\t12000\t311.13\ni1\t2.6\t0.4\t12000\t246.94\ni1\t2.8\t0.4\t12000\t61.735\ni1\t3\t0.4\t12000\t329.63\ni1\t3.2\t0.4\t12000\t103.83\ni1\t3.4\t0.4\t12000\t311.13\ni1\t3.6\t0.4\t12000\t329.63\ni1\t3.8\t0.4\t12000\t103.83\ni1\t4\t0.4\t12000\t493.88\ni1\t4.2\t0.4\t12000\t369.99\ni1\t4.4\t0.4\t12000\t61.735\ni1\t4.6\t0.4\t12000\t123.47\ni1\t4.8\t0.4\t12000\t61.735\ni1\t5\t0.4\t12000\t415.3\ni1\t5.2\t0.4\t12000\t329.63\ni1\t5.4\t0.4\t12000\t61.735\ni1\t5.6\t0.4\t12000\t123.47\ni1\t5.8\t0.4\t12000\t61.735\ni1\t6\t0.2\t12000\t246.94\ni1\t6.2\t0.2\t12000\t329.63\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating Karplus-Strong plucked string and white noise and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 15_01_4.orc and 15_01_4.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 2\n\n; ************************************************************************\n; ACCCI:        15_01_4.ORC\n; timbre:       plucked string with bottle neck\n; synthesis:    Karplus-Strong algorithm(15)\n;               PLUCK with imeth=1 (01)\n;               Pitchbend mechanism, stereo (4)\n; coded:        jpg 8/92\n\n\ninstr 1; *****************************************************************\nidur   = p3\niamp   = p4\nifq    = cpspch(p5)   ; convert pitch to frequency, init pass\nibuf   = p6           ; buffer size\n\nif1    = p7           ; various random number sources are called\nif2    = p8           ; left and right channel use different sources !\nimeth  = 1            ; simple averaging\nigliss = p9/24        ; deviation width of pitch\n\n      kamp   linseg   iamp,8/10*idur,iamp,2/10*idur,0\n\n                      ; pitch bend control signal\n      kfq    expseg   1, 5/10*idur, 1-igliss, 5/10*idur, 1-igliss\n\n      a1     pluck    kamp, kfq*ifq, ibuf, if1, imeth\n      a2     pluck    kamp, kfq*ifq, ibuf, if2, imeth\n\n             outs     a1,a2           ; stereo\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     15_01_4.SCO\n; coded:     jpg 8/92\n\n\n; GEN functions **********************************************************\n; \"Sflib/10_02_1.aiff\" contains random noise with center frequency 'fqr'\n; changing each second...\n\n;       size GEN  inputfile            start\nf71  0  1024  1   \"Sflib/10_02_1.aiff\"    .2    0  0         ; fqr = 10000\nf72  0  1024  1   \"Sflib/10_02_1.aiff\"   1.2    0  0         ; fqr =  5000\nf73  0  1024  1   \"Sflib/10_02_1.aiff\"   2.2    0  0         ; fqr =  2500\nf74  0  1024  1   \"Sflib/10_02_1.aiff\"   3.2    0  0         ; fqr =  2000\nf75  0  1024  1   \"Sflib/10_02_1.aiff\"   4.2    0  0         ; fqr =  1000\nf76  0  1024  1   \"Sflib/10_02_1.aiff\"   5.2    0  0         ; fqr =   500\nf77  0  1024  1   \"Sflib/10_02_1.aiff\"   6.2    0  0         ; fqr =   250\nf78  0  1024  1   \"Sflib/10_02_1.aiff\"   7.2    0  0         ; fqr =   125\nf79  0  1024  1   \"Sflib/10_02_1.aiff\"   8.2    0  0         ; fqr =    50\nf80  0  1024  1   \"Sflib/10_02_1.aiff\"   9.2    0  0         ; fqr =    25\n\n\n; score ******************************************************************\n\n;            iamp    ipch  ibuf   if1    if2    igliss\ni1  0   .5   8000    8.00  1024   73     75       3         ; major second\ni1  1   .5   .       8.02  1024   73     75       4         ; no name\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating Karplus-Strong plucked string and white noise and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 15_01_3.orc and 15_01_3.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:        15_01_3.ORC\n; timbre:       plucked string\n; synthesis:    Karplus-Strong algorithm(15)\n;               PLUCK (01)\n;               LINSEG envelope,\n;               varying parameter if1: 10 different sources of random\n;               numbers, two different buffer sizes (3)\n; coded:        jpg 9/92\n\n\ninstr 1; *****************************************************************\nidur  = p3\niamp  = p4\nifq   = p5   ; frequency\nibuf  = p6   ; buffer size\nif1   = p7   ; various random number sources are called\nimeth = 1    ; simple averaging\n\n      kamp   linseg   iamp,8/10*idur,iamp,2/10*idur,0\n      a1     pluck    kamp, ifq, ibuf, if1, imeth\n             out      a1\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     15_01_3.SCO\n; coded:     jpg 8/92\n\n; GEN functions **********************************************************\n; \"Sflib/10_02_1.aiff contains random noise with center frequency 'fqr'\n; changing each second...\n\n;       size GEN  inputfile             start\nf71  0  1024  1   \"Sflib/10_02_1.aiff\"    .2    0  0         ; fqr = 10000\nf72  0  1024  1   \"Sflib/10_02_1.aiff\"   1.2    0  0         ; fqr =  5000\nf73  0  1024  1   \"Sflib/10_02_1.aiff\"   2.2    0  0         ; fqr =  2500\nf74  0  1024  1   \"Sflib/10_02_1.aiff\"   3.2    0  0         ; fqr =  2000\nf75  0  1024  1   \"Sflib/10_02_1.aiff\"   4.2    0  0         ; fqr =  1000\nf76  0  1024  1   \"Sflib/10_02_1.aiff\"   5.2    0  0         ; fqr =   500\nf77  0  1024  1   \"Sflib/10_02_1.aiff\"   6.2    0  0         ; fqr =   250\nf78  0  1024  1   \"Sflib/10_02_1.aiff\"   7.2    0  0         ; fqr =   125\nf79  0  1024  1   \"Sflib/10_02_1.aiff\"   8.2    0  0         ; fqr =    50\nf80  0  1024  1   \"Sflib/10_02_1.aiff\"   9.2    0  0         ; fqr =    25\n\n\n; score ******************************************************************\n\n;            iamp    ifq   ibuf  if1\ni1   0   1   8000    220   128   0       ; pluck-made random numbers\ni1   2   2   .       .     .\n\ns\n\n; section 2\n\n;            iamp    ifq   ibuf  if1\ni1   1   1   8000    220   128   71      ; random numbers from audio file\ni1   3   .   .       .     .     72\ni1   5   .   .       .     .     73\ni1   7   .   .       .     .     74\ni1   9   .   .       .     .     75\ni1  11   .   .       .     .     76\ni1  13   .   .       .     .     77\ni1  15   .   .       .     .     78\ni1  17   .   .       .     .     79\ni1  19   .   .       .     .     80\n\ns\n\n; section 3: changed ibuf to 1024\n\n;            iamp    ifq   ibuf  if1\ni1   1   1   8000    220   1024  71\ni1   3   .   .       .     .     72\ni1   5   .   .       .     .     73\ni1   7   .   .       .     .     74\ni1   9   .   .       .     .     75\ni1  11   .   .       .     .     76\ni1  13   .   .       .     .     77\ni1  15   .   .       .     .     78\ni1  17   .   .       .     .     79\ni1  19   .   .       .     .     80\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating Karplus-Strong plucked string and exponential segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 15_01_2.orc and 15_01_2.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:        15_01_2.ORC\n; timbre:       plucked string\n; synthesis:    Karplus-Strong algorithm(15)\n;               PLUCK with imeth=1 (01)\n;               EXPSEG envelope (3)\n; coded:        jpg 8/92\n\n\ninstr 1; *****************************************************************\nidur  = p3\niamp  = p4\nifq   = p5   ; frequency\nibuf  = p6   ; buffer size\nif1   = p7   ; various random number sources are called\nimeth = 1    ; simple averaging\n\n      kamp   expseg   iamp,8/10*idur,iamp, 2/10*idur,.0001\n      a1     pluck    kamp, ifq, ibuf, if1, imeth\n             out      a1\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     15_01_2.SCO\n; coded:     jpg 8/92\n\n; GEN functions **********************************************************\n\n;       size GEN  inputfile             start\nf71  0  1024  1   \"Sflib/10_02_1.aiff\"    .2    0  0         ; fqr = 10000\nf72  0  1024  1   \"Sflib/10_02_1.aiff\"   1.2    0  0         ; fqr =  5000\nf73  0  1024  1   \"Sflib/10_02_1.aiff\"   2.2    0  0         ; fqr =  2500\nf74  0  1024  1   \"Sflib/10_02_1.aiff\"   3.2    0  0         ; fqr =  2000\nf75  0  1024  1   \"Sflib/10_02_1.aiff\"   4.2    0  0         ; fqr =  1000\nf76  0  1024  1   \"Sflib/10_02_1.aiff\"   5.2    0  0         ; fqr =   500\nf77  0  1024  1   \"Sflib/10_02_1.aiff\"   6.2    0  0         ; fqr =   250\nf78  0  1024  1   \"Sflib/10_02_1.aiff\"   7.2    0  0         ; fqr =   125\nf79  0  1024  1   \"Sflib/10_02_1.aiff\"   8.2    0  0         ; fqr =    50\nf80  0  1024  1   \"Sflib/10_02_1.aiff\"   9.2    0  0         ; fqr =    25\n\n; score ******************************************************************\n;            iamp    ifq   ibuf  if1\ni1   0   1   8000    220   128    0      ; pluck-made random numbers\ni1   2   2   .       .     .      0\n\ns\n\n; section 2\n;            iamp    ifq   ibuf  if1\ni1   1   1   8000    220   128   71      ; random numbers from audio file\ni1   3   .   .       .     .     72\ni1   5   .   .       .     .     73\ni1   7   .   .       .     .     74\ni1   9   .   .       .     .     75\ni1  11   .   .       .     .     76\ni1  13   .   .       .     .     77\ni1  15   .   .       .     .     78\ni1  17   .   .       .     .     79\ni1  19   .   .       .     .     80\n\ns\n\n; section 3: changed ibuf to 1024\n;            iamp    ifq   ibuf  if\ni1   1   1   8000    220   1024  71\ni1   3   .   .       .     .     72\ni1   5   .   .       .     .     73\ni1   7   .   .       .     .     74\ni1   9   .   .       .     .     75\ni1  11   .   .       .     .     76\ni1  13   .   .       .     .     77\ni1  15   .   .       .     .     78\ni1  17   .   .       .     .     79\ni1  19   .   .       .     .     80\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ablock2 \tinit   \t0 using Karplus-Strong plucked string and resonant filter and amplitude balance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from river1.orc and river1.sco\n; Original files preserved in same directory\n\nsr \t\t\t= \t\t44100\nkr \t\t\t= \t\t4410\nksmps \t\t= \t\t10\nnchnls \t\t= \t\t1\n\n;----------------------------------------------------------------------\n; DOWN BY THE RIVER\n; BY HANS MIKELSON\n;----------------------------------------------------------------------\n\n\n;P4 AMPS ARE HERE DOUBLED\n; \t\t\tguitar\n\t\t\tinstr \t1\n\nablock2 \tinit   \t0\nablock3 \tinit   \t0\n\nkamp\t\tlinseg\t0.0, 0.015, p4*2, p3-0.065, p4*2, 0.05, 0.0\nablk\t\tpluck \tkamp, p5, p5, 0, 1\n\nablock2 \t=      \tablk-ablock3+.99*ablock2    ;THIS IS A DC BLOCKING FILTER\nablock3 \t=      \tablk                        ;USED TO PREVENT DRIFT AWAY FROM\nasig    \t=      \tablock2                     ;ZERO.\n\naf1\t\t\treson\tasig, 110, 80\naf2\t\t\treson\tasig, 220, 80\naf3\t\t\treson\tasig, 440, 80\n\nabalnc\t\tbalance 0.8*af1+af2+0.4*af3+0.4*asig, asig\n\n\t\t\tout \tabalnc\n\t\t\tendin\n\n; HAMMER/PULL\n\t\t\tinstr \t2\nkamp\t\tlinseg\t0.0, 0.015, p4*2, p3-0.065, p4*2, 0.05, 0.0\nkfreq\t\tlinseg\tp5, p7*p3, p5, 0.005, p6, (1-p7)*p3-0.005, p6\nasig\t\tpluck \tkamp, kfreq, p5, 0, 1\naf1\t\t\treson\tasig, 110, 80\naf2\t\t\treson\tasig, 220, 100\naf3\t\t\treson\tasig, 440, 80\naout\t\tbalance 0.6*af1+af2+0.6*af3+0.4*asig, asig\n\t\t\tout \taout\n\t\t\tendin\n\n; HARMONICS\n\t\t\tinstr \t3\nkamp\t\tlinseg \t0.0, 0.015, p4*2, p3-0.035, p4*2, 0.02, 0.0\nasig\t\tpluck\tkamp, p5, p5, 0, 6\n\t\t\tout \tasig\n\t\t\tendin\n\n\n</CsInstruments>\n<CsScore>\n; DOWN BY THE RIVER\n; BY HANS MIKELSON\n;       Start       Dur         Volume      Pitch\ni1      0           0.4         8000        61.735\ni1      0.2         0.4         10000       246.94\ni1      0.4         0.4         .           329.63\ni1      0.6         0.4         .           103.83\ni1      0.8         0.4         .           493.88\ni1      1           0.4         .           329.63\ni1      1.2         0.4         8000        61.735\ni1      1.4         0.4         10000       123.47\ni1      1.6         0.4         8000        61.735\ni1      1.8         0.4         10000       246.94\ni1      2           0.4         .           329.63\ni1      2.2         0.4         .           103.83\ni1      2.4         0.4         .           311.13\ni1      2.6         0.4         .           246.94\ni1      2.8         0.4         8000        61.735\ni1      3           0.4         10000       329.63\ni1      3.2         0.4         .           103.83\ni1      3.4         0.4         .           311.13\ni1      3.6         0.4         .           329.63\ni1      3.8         0.4         .           103.83\ni1      4           0.4         .           493.88\ni1      4.2         0.4         .           369.99\ni1      4.4         0.4         8000        61.735\ni1      4.6         0.4         .           123.47\ni1      4.8         0.4         .           61.735\ni1      5           0.4         10000       415.3\ni1      5.2         0.4         .           329.63\ni1      5.4         0.4         8000        61.735\ni1      5.6         0.4         .           123.47\ni1      5.8         0.4         8000        61.735\ni1      6           0.2         10000       246.94\ni1      6.2         0.2         .           329.63\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 15_01_1.orc and 15_01_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:        15_01_1.ORC\n; timbre:       plucked string\n; synthesis:    Karplus-Strong algorithm(15)\n;               PLUCK with imeth = 1 (01)\n;               pluck-made series(f0) versus\n;               self-made random numbers(f77) (1)\n; coded:        jpg 8/92\n\n\ninstr 1; *****************************************************************\niamp  = p4\nifq   = p5   ; frequency\nibuf  = 128  ; buffer size\nif1   = 0    ; f0: PLUCK produces its own random numbers\nimeth = 1    ; simple averaging\n\n      a1     pluck    iamp, ifq, ibuf, if1, imeth\n             out      a1\nendin\n\ninstr 2; *****************************************************************\niamp  = p4\nifq   = p5   ; frequency\nibuf  = 128  ; buffer size\nif1   = 77   ; f77 contains random numbers from a soundfile\nimeth = 1    ; simple averaging\n\n      a1     pluck    iamp, ifq, ibuf, if1, imeth\n             out      a1\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     15_01_1.SCO\n; coded:     jpg 8/92\n\n\n; GEN functions **********************************************************\n                                       ; \"Sflib/10_02_1.aiff\" should exist\nf77 0 1024 1 \"Sflib/10_02_1.aiff\" .2 0 0 ; start reading at .2 sec\n\n\n; score ******************************************************************\n\n;         iamp    ifq\ni1  0  1  8000    220\ni1  2  .  .       440\n\ni2  4  1  8000    220\ni2  6  .  .       440\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1        table     p4,3 using noise generation and Karplus-Strong plucked string and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from NOISE.ORC and NOISE.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n; PLUCKED MULTI-FOF WITH STEREO NOISE ORC\n\n\n\n\n          instr 1\ni1        table     p4,3\ni2        table     p5,4\ni3        table     p7,6 \ni4        table     p8,6\ni5        table     p10,6\ni6        table     p11,6\nk2        linseg    i1,p3,0\nk3        table     p5,4\nkbw1      table     p6,5 \nkbw2      table     p9,5 \nkcf1      line      i3,p3,i4\nkcf2      line      i5,p3,i6\naa        fof       k2,k3*1.00,250,0,40,.003,.02,.007,4,1,2,p3\nab        fof       k2,k3*1.01,250,0,40,.003,.02,.007,4,1,2,p3\nac        fof       k2,k3*1.02,250,0,40,.003,.02,.007,4,1,2,p3\nad        fof       k2,k3*0.99,250,0,40,.003,.02,.007,4,1,2,p3\nae        fof       k2,k3*0.98,250,0,40,.003,.02,.007,4,1,2,p3\naf        fof       k2,k3*0.97,250,0,40,.003,.02,.007,4,1,2,p3\nag        fof       k2,k3*0.96,250,0,40,.003,.02,.007,4,1,2,p3\nal        =         aa+ab+ac+ad+ae+af+ag\nap1       pluck     k2,i2,i2,0,1\nap2       pluck     k2,i2*1.005,i2*1.005,0,1\nas        rand      10000\nat1       reson     as,kcf1,kbw1\nat2       reson     as,kcf2,kbw2\nazl       balance   at1,ap1+al\nazr       balance   at2,ap2+al\n          outs      ap1+al+azr,ap2+al+azl\n          endin\n\n</CsInstruments>\n<CsScore>\n; SCO\nf1 0 4096 10 10 6 4 5 4 4 3 2 1\nf2 0 256 7 0 128 1 0 -1 128 0 \nf3 0 32 -2 3000 2750 2500 2250 2000\nf4 0 32 -2 150 149 148 147 146 145 144 190 120\nf5 0 16 -2 5000 2000 500 20 .05 \nf6 0 16 -2 10000 5000 2500 1250 625 312 156 78\n\n\nt 0 60\n;1 2 3 4 5 6 7 8 9 10 11\n;n b d a p wl d1 d2 wr u1 u2\ni1 0 1 3 7 0 3 2 3 1 2\ni1 1 2 4 0 1 1 0 2 2 0\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ablock2 \tinit   \t0 using Karplus-Strong plucked string and resonant filter and amplitude balance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from river2.orc and river2.sco\n; Original files preserved in same directory\n\nsr \t\t\t= \t\t44100\nkr \t\t\t= \t\t4410\nksmps \t\t= \t\t10\nnchnls \t\t= \t\t1\n\n;----------------------------------------------------------------------\n; DOWN BY THE RIVER\n; BY HANS MIKELSON\n;----------------------------------------------------------------------\n\n\n;P4 AMPS ARE HERE DOUBLED\n; \t\t\tguitar\n\t\t\tinstr \t1\n\nablock2 \tinit   \t0\nablock3 \tinit   \t0\n\nkamp\t\tlinseg\t0.0, 0.015, p4*2, p3-0.065, p4*2, 0.05, 0.0\nablk\t\tpluck \tkamp, p5, p5, 0, 1\n\nablock2 \t=      \tablk-ablock3+.99*ablock2    ;THIS IS A DC BLOCKING FILTER\nablock3 \t=      \tablk                        ;USED TO PREVENT DRIFT AWAY FROM\nasig    \t=      \tablock2                     ;ZERO.\n\naf1\t\t\treson\tasig, 110, 80\naf2\t\t\treson\tasig, 220, 80\naf3\t\t\treson\tasig, 440, 80\n\nabalnc\t\tbalance 0.8*af1+af2+0.4*af3+0.4*asig, asig\n\n\t\t\tout \tabalnc\n\t\t\tendin\n\n; HAMMER/PULL\n\t\t\tinstr \t2\nkamp\t\tlinseg\t0.0, 0.015, p4*2, p3-0.065, p4*2, 0.05, 0.0\nkfreq\t\tlinseg\tp5, p7*p3, p5, 0.005, p6, (1-p7)*p3-0.005, p6\nasig\t\tpluck \tkamp, kfreq, p5, 0, 1\naf1\t\t\treson\tasig, 110, 80\naf2\t\t\treson\tasig, 220, 100\naf3\t\t\treson\tasig, 440, 80\naout\t\tbalance 0.6*af1+af2+0.6*af3+0.4*asig, asig\n\t\t\tout \taout\n\t\t\tendin\n\n; HARMONICS\n\t\t\tinstr \t3\nkamp\t\tlinseg \t0.0, 0.015, p4*2, p3-0.035, p4*2, 0.02, 0.0\nasig\t\tpluck\tkamp, p5, p5, 0, 6\n\t\t\tout \tasig\n\t\t\tendin\n\n\n</CsInstruments>\n<CsScore>\ni1\t0\t0.4\t12000\t220\ni1\t0.2\t0.4\t12000\t251.8393\ni1\t0.4\t0.4\t12000\t275.5862\ni1\t0.6\t0.4\t12000\t230.1387\ni1\t0.8\t0.4\t12000\t315.4702\ni1\t1\t0.4\t12000\t275.5862\ni1\t1.2\t0.4\t12000\t220\ni1\t1.4\t0.4\t12000\t240.7446\ni1\t1.6\t0.4\t12000\t220\ni1\t1.8\t0.4\t12000\t251.8393\ni1\t2\t0.4\t12000\t432.4411\ni1\t2.2\t0.4\t12000\t395.1782\ni1\t2.4\t0.4\t12000\t263.4453\ni1\t2.6\t0.4\t12000\t251.8393\ni1\t2.8\t0.4\t12000\t220\ni1\t3\t0.4\t12000\t275.5862\ni1\t3.2\t0.4\t12000\t361.1263\ni1\t3.4\t0.4\t12000\t263.4453\ni1\t3.6\t0.4\t12000\t275.5862\ni1\t3.8\t0.4\t12000\t230.1387\ni1\t4\t0.4\t12000\t395.1782\ni1\t4.2\t0.4\t12000\t377.7388\ni1\t4.4\t0.4\t12000\t220\ni1\t4.6\t0.4\t12000\t240.7446\ni1\t4.8\t0.4\t12000\t220\ni1\t5\t0.4\t12000\t301.5722\ni1\t5.2\t0.4\t12000\t413.39\ni1\t5.4\t0.4\t12000\t220\ni1\t5.6\t0.4\t12000\t263.4453\ni1\t5.8\t0.4\t12000\t220\ni1\t6\t0.2\t12000\t251.8393\ni1\t6.2\t0.2\t12000\t275.5862\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ROLL YOUR OWN PLUCK INSTRUMENT using arpeggio and Karplus-Strong synthesis and Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from KARPLUS.ORC and KARPLUS.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n;=============================================================================\n;               Karplus Strong Algorithm Demonstration                       \n;                                                                            \n;This is a crude implementation of the Karplus-Strong Plucked String Algorithm\n;It simply fills a delay line with noise, then feeds the output through a tone\n;filter and back into the delay line.  The pitch produced is determined by the\n;length of the delay line, and the \"pluck\" effect caused by the lowpass filter\n;in the feedback loop, which gradually removes the high frequencies from the  \n;noise, eventually leaving nothing but the fundamental frequency of the line. \n;Study this to see how the basic algorithm works, but use Pluck in real life. \n;RP                                                                           \n;=============================================================================\n          instr     1\n; ROLL YOUR OWN PLUCK INSTRUMENT\nicps      =         cpspch(p5)               ; DESIRED PITCH IN PCH\nasig      init      0                        ; INITIALIZE ASIG VARIABLE\nkcount    init      1/icps*kr                ; AND LOOP COUNTER (SEE BELOW)\n\n;---------------------- USE A DELAY LINE OF LENGTH 1/cps:\n\nadel      delayr  1/icps                     ; DELAY OF 1/cps SECONDS\nasig      tone    adel,sr/2                  ; FILTER THE OUTPUT\n\n;---------------------- BUT AT THE FIRST k, FILL THE DELAY LINE WITH NOISE:\n\n          if        (kcount < 0) kgoto continue ; SKIP OVER AFTER LINE FILLED\nkloop:                                       ; LOOP TO FILL DELAY\nasig      rand      p4,-1                    ; WITH WHITE NOISE\nkcount    =         kcount - 1               ; DECREMENT LOOP COUNTER\n;-----------------------------------------------------------------------------\n\ncontinue:\n          delayw    asig                     ; DELAY LINE INPUT (ALWAYS GET HERE)\n\n          if        (kcount   >= 0) kgoto kloop ; LOOP ONLY KCOUNT TIMES AT START \n\n          out       asig\n          endin\n\n</CsInstruments>\n<CsScore>\n;Test score for Karplus Strong Demo Instrument\ni01     0       2       30000   6.00\ni01     +       .       .       7.00\ni01     +       .       .       8.00\ni01     +       .       .       9.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Instrument 1 is for the impulse using plucked string and Karplus-Strong plucked string and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from zakpluck.orc and zakpluck.sco\n; Original files preserved in same directory\n\nsr     =      44100 ; sr=kr\nkr     =      44100\nksmps  =      1\nnchnls =      2\n\n; MIKELSON ORC\n      zakinit 50, 50          ; Initialize the zak system\n\n      instr  1                ; Instrument 1 is for the impulse\n\nioutch =      p4           ; Zak channel number\n\narnd  rand   1             ; Generate a noise signal\n      zaw    arnd, ioutch  ; Ouput to the zak channel\n\n      endin\n\n      instr 2              ; Instrument 2 implements feedback loop\n\niamp  =     p4             ; Amplitude\nitime =     1/cpspch(p5)   ; Convert pitch to time\niinch =     p6             ; Input channel\n\naflt init   0              ; Initially filtered signal is zero\n\nasig  zar   iinch          ; Read the zak channel\n\nadel delay asig+aflt, itime ; Mix the filtered signal with the original and delay\nalp  butterlp adel, 5000   ; Lowpass filter\naflt butterhp alp, 20      ; High pass filter\n\n     outs  aflt*iamp, aflt*iamp ; Amplify and output\n\n     endin\n\n</CsInstruments>\n<CsScore>\n\n\n; SCO\n;  Sta  Dur  OutCh\ni1 0    .02  1     ; Generate an impulse\n\n;  Sta  Dur  Amp    Fqc   InCh\ni2 0    1    20000  7.00  1     ; Do the pluck\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1        pluck     p4,p5,p5,0,4,p6,p7 using Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pkmeth.orc and pkmeth.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\na1        pluck     p4,p5,p5,0,1,0,0         ; p4=AMP, p5=FREQ\n          out       a1\n          endin\n                                             \n          instr 2\na1        pluck     p4,p5,p5,0,2,p6,0        ; p4=AMP, p5=FREQ, p6=SMOOTHFAC\n          out       a1\n          endin\n\n          instr 3\na1        pluck     p4,p5,p5,0,3,p6,0        ; p4=AMP, p5=FREQ, p6=GRAINFAC\n          out       a1\n          endin\n\n          instr 4\na1        pluck     p4,p5,p5,0,4,p6,p7\n          out       a1\n          endin\n\n          instr 5\na1        pluck     p4,p5,p5,0,5,p6,p7\n          out       a1\n          endin\n\n          instr 6\na1        pluck     p4,p5,p5,0,6,0,0\n          out       a1\n          endin\n\n</CsInstruments>\n<CsScore>\ni1 0 1 3000 80\ni1 1 1 3000  160\ni1 2 1  3000 240\ni1 3 1  3000 320\ni1 4 1 3000  400\ni1 5 1 3000 480\ni1 6 1 3000 540\ni1 7 1 3000  620\ni1 8 1  3000  700\ni1 9 1 3000  780\n\ni2 10 1 3000 80 1\ni2 11 1   3000 160 1.1\ni2 12 1   3000 240 1.2\ni2 13 1   3000 320 1.3\ni2 14 1        400 1.4\ni2 15 1        480 1.5\ni2 16 1        540 1.6\ni2 17 1        620 1.7\ni2 18 1        700 1.8\ni2 19 1   3000 800 1.9\ni2 20 1        900 2.\ni2 21 1        240 3\ni2 22 1        240 4\ni2 23 1        240 5\ni2 24 1        240 6\ni2 25 1        240 7\ni2 26 1        240 8\ni2 27 1        240 9\ni2 28 1        240 10\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating Karplus-Strong plucked string and sample-and-hold random and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 10_03_1.orc and 10_03_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:        10_03_1.ORC\n; timbre:       various controlled noise spectra\n; synthesis:    Random Number Generation(10)\n;               RANDH(03)\n;               LINEN envelope(1)\n; notes:        serves to produce input files for PLUCK\n; coded:        jpg 10/93\n\n\ninstr 1; *****************************************************************\nidur  = p3\niamp  = p4\nifr   = p5\nirise = .4\nidec  = .4\n\n   k1    linen     iamp, irise, idur, idec\n   a1    randh     k1, ifr\n         out       a1\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     10_03_1.SCO\n; coded:     jpg 10/93\n\n\n; score ******************************************************************\n;                 RANDH\n;       idur  iampr    ifr\ni1   0   1     8000  10000\ni1   +   .      .     5000\ni1   .   .      .     2500\ni1   .   .      .     2000\ni1   .   .      .     1000\ni1   .   .      .      500\ni1   .   .      .      250\ni1   .   .      .      125\ni1   .   .      .       50\ni1   .   .      .       25\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1\t\tpluck\tp4,p5,p5,0,1,0,0\t\t; p4=AMP, p5=FREQ using Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from plk1.orc and plk1.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls    =         1\n\n\n\t\tinstr 1\na1\t\tpluck\tp4,p5,p5,0,1,0,0\t\t; p4=AMP, p5=FREQ\n\t\tout\t\ta1\n\t\tendin\n\t\t\t\t\t\t\t\t\t\n\t\tinstr 2\na1\t\tpluck\tp4,p5,p5,0,2,p6,0\t\t; p4=AMP, p5=FREQ p6=SMOOTHFAC\n\t\tout\t\ta1\n\t\tendin\n\n\t\tinstr 3\na1\t\tpluck\tp4,p5,p5,0,3,p6,0\t\t; p4=AMP, p5=FREQ, p6=GRAINFAC\n\t\tout\t\ta1\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n; miller test pluck score #1 - 11pm 3.22\n;lotsa plucks here!\n\ni1 0 .0928798 12000 80\ns\ni1 .1 .1 3000 160\ni1 .6 .1 4000 240\ni1 1.1  .1 5000 320\ni1 1.6 .1 7000 400\ni1 2.10 .1 6000 480\ni1 2.60 .1 8000 560\n\ni2 3 5 2000 1000 5\ni2 5 6 3000 2000 4\ni2 7 7 4000 3000 3\ni2 9 8 5000 4000 2\ni2 11 2 7000 5000 1\ni2 13 3 6000 6000 6\ni2 15 5 8000 7000 7\n\ni3 17 .5 2000 80  .1\ni3 19 .6 3000 90  .2\ni3 21 .7 4000 100 .3\ni3 23 .8 5000 110 .4\ni3 25 .9 7000 120 .5\ni3 27 1 6000 130  .6\ni3 29 1.1 8000 140 .7\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for VERY SIMPLE FEEDBACK SIMULATOR using Karplus-Strong plucked string and enhanced plucked string and delay line read", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fback2.orc and fback2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n          \n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n          instr 1             ; VERY SIMPLE FEEDBACK SIMULATOR\n;                             ; DOES FEEDBACK WORK THIS WAY???\n;                             ; CODED BY JOSEP M COMAJUNCOSAS / SEPT.Â«98\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n\nkfreq     init      1152\nkfdbk     linseg    .9, p3/5, 1.4, p3/5, .9, p3/5, 1.2, 2*p3/5, 1\nasig      pluck     1, 123, 123, 0, 1\n\natemp     delayr    1/20\n\nacomb     deltapi   1/kfreq\n\naiir      dcblock   asig + kfdbk*acomb\naiir      =         aiir - aiir*aiir*aiir/6\n\n          delayw    aiir\n\n          out       acomb*20000\n\n          endin\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n          instr 2             ; REPLUCK FEEDBACK SIMULATOR?\n;                             ; CODED BY JOSEP M COMAJUNCOSAS / SEPT.Â«98\n;                             ; THIS INSTRUMENT IS AN ACCIDENT ;-)\n;                             ; BUT IT GIVES WONDERFUL NOISES !\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\nkenv      linseg    0 ,.05, 0 ,p3/3, 1, p3/3, 1, p3/3, 0\nkfreq     linseg    1152, p3/2, 673, p3/2, 451\nacomb     init      0\nkfdbk     linseg    .5, p3/5, 1.1, p3/5, .9, p3/5, 1.2, 2*p3/5, 1\nasig      repluck   .4, 1, 123, .7, .1, acomb\n\n\natemp     delayr    1/20\nacomb     deltapi   1/kfreq                  ; acomb ROUTED BACK TO REPLUCK\naiir      =         asig + kfdbk*acomb\n\n; CHEAP CLIPPER\nkiir      downsamp  aiir\nkiir      =         (kiir > 1 ? 1:kiir)\nkiir      =         (kiir < -1 ? -1:kiir)\naiir      upsamp    kiir\n\n          delayw    aiir\n\n; CHEAP CLIPPER (BIS)\nksig      downsamp  asig\nksig      =         (ksig > 1 ? 1:ksig)\nksig      =         (ksig < -1 ? -1:ksig)\nasig      upsamp    ksig\n\n          out       asig*20000*kenv\n\n          endin\n\n</CsInstruments>\n<CsScore>\n\n\n;f1 0 8192 21 1\nf1 0 8192 10 1\ni2 0 20\ns\ni1 1 30\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating Karplus-Strong plucked string and white noise and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 15_01_3b.orc and 15_01_3b.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:        15_01_3B.ORC\n; timbre:       plucked string\n; synthesis:    Karplus-Strong algorithm(15)\n;               PLUCK (01)\n;               varying duration and frequency on a single buffer (3B)\n; coded:        jpg 8/92\n\n\ninstr 1; *****************************************************************\nidur  = p3 \niamp  = p4\nifq   = p5   ; frequency\nibuf  = p6   ; buffer size\nif1   = p7   ; various random number sources are called\nimeth = 1    ; simple averaging\n\n      kamp   linseg   iamp,8/10*idur,iamp,2/10*idur,0\n      a1     pluck    kamp, ifq, ibuf, if1, imeth\n             out      a1\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     15_01_3B.SCO\n; coded:     jpg 8/92\n\n\n; GEN functions **********************************************************\n; \"Sflib/10_02_1.aiff\" contains random noise with center frequency 'fqr'\n; changing each second...\n\n;       size GEN  inputfile            start\nf73  0  1024  1   \"Sflib/10_02_1.aiff\"   2.2     0   0       ; fqr =  2500\n\n\n; score ******************************************************************\n\n;            iamp    ifq   ibuf  if1\ni1   0   1   8000    220   1024  73\ni1   1    .1  .     2490   .     .\ni1   1.1  .1  .     2200   .     .\ni1   1.2  .1  .      235   .     .\ni1   2    .5  .     7800   .     .\n\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating Karplus-Strong plucked string and Butterworth lowpass filter and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from ks2.orc and ks2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n;ks2.orc\n\n\n          instr 1\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Low level implementation\n; of the classic Karplus-Strong algorithm\n; fixed pitches : no vibratos or glissandi !\n; implemented by Josep M Comajuncosas / AugÂ«98\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; This instrument is highly inharmonic\n; due to the 9 allpass stages in the feedback loop\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\nipluck    =         p5                       ; PLUCK POSITION ( 0 TO 1 )\nifreq     =         cpspch(p4)\nidlts     =         int(kr/ifreq-.5)-4       ; SET WAVEGUIDE LENGTH (AN INTEGER NUMBER OF >SAMPLES)\n; SUBSTRACT 4 - THE DELAY INDUCED BY THE 8 CASCADED ALLPASS\nidlt      =         idlts/kr                 ; CONVERT SO SECONDS\nkdlt      init      idlts                    ; COUNTER FOR STRING INITIALISATION\n\nirems     =         kr/ifreq - idlts +.5     ; REMAINING TIME IN FRACTIONS OF A SAMPLE\n; SET PHASE DELAY INDUCED BY THE FIR LOWPASS FILTER\n; AND THE FRACTIONAL DELAY IN THE WAVEGUIDE\n\niph       =         (1-irems)/(1+irems)      ; ALLPASS FILTER PARAMETER\n; APPROXIMATION VALID AT LOW FREQUENCIES RELATIVE TO sr\n\nawgout    init      0\n\n          if        kdlt < 0 goto continue\n\ninitialise:\n\nanoise    trirand   30000\n; FILL THE BUFFER WITH RANDOM NUMBERS\n\nanoise    butterlp  anoise, p6, 1\n; SMOOTH A BIT THE NOISE BURST\n; HARMONIC RICHNESS GROWS WITH VOLUME\n; FINAL VOLUME DETERMINED BY THE FILTER GAIN\n\nacomb     delay     anoise, ipluck/idlt\nanoize    =         anoise - acomb\n; IMPLEMENT PLUCK POINT AS A FIR COMB FILTER\n\n\ncontinue:\n\n\nareturn   delayr    idlt\nainput    =         anoize + areturn\n\n\nalpf      filter2   ainput, 2, 0, .5, .5\n; LOWPASS FILTER TO SIMULATE ENERGY LOSSES\n; COULD BE VARIABLE TO ALLOW DAMPING CONTROL\n\nawgout    filter2   alpf, 2, 1, iph, 1, iph\n; ALLPASS FILTER TO FINE TUNE THE INSTRUMENT\n\nawgout    filter2   awgout, 2, 1, .333, 1, .333\nawgout    filter2   awgout, 2, 1, .333, 1, .333\nawgout    filter2   awgout, 2, 1, .333, 1, .333\nawgout    filter2   awgout, 2, 1, .333, 1, .333\nawgout    filter2   awgout, 2, 1, .333, 1, .333\nawgout    filter2   awgout, 2, 1, .333, 1, .333\nawgout    filter2   awgout, 2, 1, .333, 1, .333\nawgout    filter2   awgout, 2, 1, .333, 1, .333\n; BANK OF 8 ALLPASS FILTERS FOR EXTRA INHARMONICITY\n; EACH STAGE DELAYS ~.5 SAMPLES THE BASE PERIOD\n; NOTE: IT SHOULD SOUND MORE INHARMONIC... WEREÂ«S THE BUG?\n\n          delayw    awgout\n\n          out       awgout\n\nkdlt      =         kdlt - 1\nanoize    =         0                        ; SUPRESS LAST IMPULSE WHEN WAVEGUIDE IS LOADED\n;TRICKY BUT EASY...\n\n          endin\n\n</CsInstruments>\n<CsScore>\n;ks.sco\nf1 0 32769 10 1; sine wave\n\n; an awful tune... enjoy it!\n;      pch\n;          pluck\n;              fco & amp\n;                   Josep M Comajuncosas / AugÂ«98\n\nt 0 180\n\ni1 0 1 7.00 .1  1000\ni1 + . .    <   <\ni1 . . 7.02 <   <\ni1 . . 7.04 <   <\ni1 . . 7.00 .4  3000\ni1 . . 7.04 <   <\ni1 . . 7.02 .2  1000\n\ni1 . . 6.07 .8  6000\ni1 . . 7.00 .1  1500\ni1 . . .    <   <\ni1 . . 7.02 <   <\ni1 . . 7.04 <   <\ni1 . 2 7.00 .4  4000\ni1 . 1 6.11 .3  3000\n\ni1 . . 6.07 .8  6000\ni1 . . 7.00 .1  2000\ni1 . . .    <   <\ni1 . . 7.02 <   <\ni1 . . 7.04 <   <\ni1 . . 7.05 .9  8000\ni1 . . 7.04 .6  <\ni1 . . 7.02 .4  <\ni1 . . 7.00 .2  <\ni1 . . 6.11 .1  7000\n\ni1 . . 6.07 .8  17000\ni1 . . 6.09 .9  17000\ni1 . . 6.11 .9  17000\ni1 . 2 7.00 .5  17000\ni1 . 6 7.00 .9  19000\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating Karplus-Strong plucked string and Butterworth lowpass filter and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from ks1.orc and ks1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Low level implementation\n; of the classic Karplus-Strong algorithm\n; fixed pitches : no vibratos or glissandi !\n; implemented by Josep M Comajuncosas / AugÂ«98\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\nipluck    =         p5; pluck position ( 0 to 1 )\nifreq     =         cpspch(p4)\nidlts     =         int(kr/ifreq-.5)         ; SET WAVEGUIDE LENGTH (AN INTEGER NUMBER OF >SAMPLES)\nidlt      =         idlts/kr                 ; CONVERT SO SECONDS\nkdlt      init      idlts                    ; COUNTER FOR STRING INITIALISATION\n\nirems     =         kr/ifreq - idlts +.5     ; REMAINING TIME IN FRACTIONS OF A SAMPLE\n; SET PHASE DELAY INDUCED BY THE FIR LOWPASS FILTER\n; AND THE FRACTIONAL DELAY IN THE WAVEGUIDE\n\niph       =         (1-irems)/(1+irems)      ; ALLPASS FILTER PARAMETER\n; APPROXIMATION VALID AT LOW FREQUENCIES RELATIVE TO sr\n\nawgout    init      0\n\n;         timout    0, idlt, initialise\n;timout   CAUSED PROBLEMS WITH DELAY INITIALISATION\n;SO I USED kdlt AS A COUNTER...\n\n          if        kdlt < 0 goto continue\n\ninitialise:\n\nanoise    trirand   32000\n; FILL THE BUFFER WITH RANDOM NUMBERS\n\nanoise    butterlp  anoise, p6, 1\n; SMOOTH A BIT THE NOISE BURST\n; HARMONIC RICHNESS GROWS WITH VOLUME\n; FINAL VOLUME DETERMINED BY THE FILTER GAIN\n\nacomb     delay     anoise, ipluck/idlt\nanoize    =         anoise - acomb\n; IMPLEMENT PLUCK POINT AS A FIR COMB FILTER\n\n\ncontinue:\n\n\nareturn   delayr    idlt\nainput    =         anoize + areturn\n\n\nalpf      filter2   ainput, 2, 0, .5, .5\n; LOWPASS FILTER TO SIMULATE ENERGY LOSSES\n; COULD BE VARIABLE TO ALLOW DAMPING CONTROL\n\nawgout    filter2   alpf, 2, 1, iph, 1, iph\n; ALLPASS FILTER TO FINE TUNE THE INSTRUMENT\n\n          delayw    awgout\n\n          out       awgout\n\nkdlt      =         kdlt - 1\nanoize    =         0                        ; SUPRESS LAST IMPULSE WHEN WAVEGUIDE IS LOADED\n; TRICKY BUT EASY...\n\n          endin\n\n</CsInstruments>\n<CsScore>\n;ks.sco\nf1 0 32769 10 1; sine wave\n\n; an awful tune... enjoy it!\n;      pch\n;          pluck\n;              fco & amp\n;                   Josep M Comajuncosas / AugÂ«98\n\nt 0 180\n\ni1 0 1 7.00 .1  1000\ni1 + . .    <   <\ni1 . . 7.02 <   <\ni1 . . 7.04 <   <\ni1 . . 7.00 .4  3000\ni1 . . 7.04 <   <\ni1 . . 7.02 .2  1000\n\ni1 . . 6.07 .8  6000\ni1 . . 7.00 .1  1500\ni1 . . .    <   <\ni1 . . 7.02 <   <\ni1 . . 7.04 <   <\ni1 . 2 7.00 .4  4000\ni1 . 1 6.11 .3  3000\n\ni1 . . 6.07 .8  6000\ni1 . . 7.00 .1  2000\ni1 . . .    <   <\ni1 . . 7.02 <   <\ni1 . . 7.04 <   <\ni1 . . 7.05 .9  8000\ni1 . . 7.04 .6  <\ni1 . . 7.02 .4  <\ni1 . . 7.00 .2  <\ni1 . . 6.11 .1  7000\n\ni1 . . 6.07 .8  17000\ni1 . . 6.09 .9  17000\ni1 . . 6.11 .9  17000\ni1 . 2 7.00 .5  17000\ni1 . 6 7.00 .9  19000\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipitch    =         cpspch(p5) using Karplus-Strong plucked string and resonant filter and amplitude balance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from NDRM.ORC and NDRM.SCO\n; Original files preserved in same directory\n\n     sr        =         44100\n     kr        =         4410\n     ksmps     =         10\n     nchnls    =         1\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;        noisy  drum orchestra file                    ;\n;                                                      ;\n;    p3 = duration                           ;\n;    p4 = amplitude                          ;\n;    p5 = pitch in pch                                 ;\n;    p6 = pitch bend in oct                  ;\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n\n     instr     1\n     ipitch    =         cpspch(p5)\n     kpchg     oscil1i   0.41, p6, (p3-0.41), 3\n     kpitch    =         cpsoct(kpchg + (octpch(p5)))\n     kamp      envlpx    p4, .03, p3, (p3 *.96), 2, .86, .005\n     kbwchg    oscil1i   0.00,(ipitch * 0.6), p3, 2\n     kbw       =         kbwchg + (ipitch * 0.1)\n     arnd      rand      kamp, -1\n     aflt11    reson     (arnd*.6), kpitch, kbw, 2\n     aflt12    reson     (arnd*.8), (kpitch * 1.5), (kbw*1.2), 2\n     aflt13    reson     (arnd*1.0), (kpitch * 3), (kbw*1.9), 2\n     aflt21    reson     aflt11, kpitch, kbw, 1\n     aflt22    reson     aflt12, (kpitch * 1.5), (kbw*1.2), 1\n     aflt23    reson     aflt13, (kpitch * 3), (kbw*1.9), 1\n     abal      balance   aflt21+aflt22+aflt23, arnd\n     aplk      pluck     p4, kpitch, ipitch, 0, 4, 0.5, 1.11\n     asig      =         (abal * .68) + (aplk * .39)\n               out       asig\n               endin\n\n</CsInstruments>\n<CsScore>\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;       SCORE FOR  NOISY  DRUM ORCHESTRA FILE          ;\n;    P3 = DURATION                           ;\n;    P4 = AMPLITUDE                          ;\n;    P5 = PITCH IN PCH                                 ;\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;    SINE WAVE\nf1   0.00      512       10        1\n;    LINEAR RISE\nf2   0.00      513       7         0         512       1         1         1\n;    LINEAR DECAY\nf3   0.00      513       7         1         512       0         1         0\n;    EXPONENTIAL RISE\nf4   0.00      513       5         0.001     512       1         1         1\n;    EXPONENTIAL DECAY\nf5   0.00      513       5         1         512       0.001          1         0.001\n;\n;    INSTRUMENT CARDS\n;\ni1   0.00      5.00      16000     12.00     -1.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating Karplus-Strong plucked string and interpolating random and sample-and-hold random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 10_02_1.orc and 10_02_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:        10_02_1.ORC\n; timbre:       various controlled noise spectra\n; synthesis:    Random Number Generation(10)\n;               RANDI(03)\n;               LINEN envelope(1)\n; notes:        serves to produce input files for PLUCK\n; coded:        jpg 10/93\n\n\ninstr 1; *****************************************************************\nidur  = p3\niamp  = p4\nifr   = p5\nirise = .4\nidec  = .4\n\n   k1    linen     iamp, irise, idur, idec\n   a1    randh     k1, ifr\n         out       a1\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     10_02_1.SCO\n; coded:     jpg 10/93\n\n\n; score ******************************************************************\n;                 RANDI\n;       idur  iampr    ifr\ni1   0   1    8000   10000\ni1   +   .      .     5000\ni1   .   .      .     2500\ni1   .   .      .     2000\ni1   .   .      .     1000\ni1   .   .      .      500\ni1   .   .      .      250\ni1   .   .      .      125\ni1   .   .      .       50\ni1   .   .      .       25\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp\t\t=\t\tampdb(p4)/2 using Karplus-Strong plucked string and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from NIGHT2.ORC and NIGHT2.SCO\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n\n\t\tinstr 1\niamp\t\t=\t\tampdb(p4)/2\t\t\t\t\ninote\t=\t\tcpspch(p5)\nibal\t\t=\t\tp8 \nif1\t\t=\t\t0\nif2\t\t=\t\t0\t\nind1\t\t=\t\t35\nind2\t\t=\t\t30\nk1\t\tlinseg\t0,p3/2,iamp,p3/2, 0\na3\t\tpluck\tk1,inote*.997,ind1,if1,1\t\t\na2\t\tpluck\tk1,inote*1.003,ind1,if1,1\t\t\t\n; a1\t\tpluck\tk1,inote,ind1,if1,1\t\t\t\naplk1\t=\t\ta2+a3\n\nk2 \t\tlinseg\t0,p3*.66,iamp*1.2,p3/3,0\na6\t\tpluck\tk2,inote*.995,ind2,if2,1\t\t\na5\t\tpluck\tk2,inote*1.005,ind2,if2,1\t\t\t\n; a4\t\tpluck\tk2,inote,ind2,if2,1\t\t\t\naplk2\t=\t\ta5+a6\napluck\t=\t\taplk1+aplk2\n\t\touts\t\tapluck*ibal,apluck*(1-ibal)\n\t\tendin\n\n\n</CsInstruments>\n<CsScore>\n                         \nf1 0 65536 10 1               ; sine\nf2 0 65536 19 .5 1 270 1            ; sigmoid rise\n\n  \n;  st  dur   p4    p5    p6   p7  p8    p9   p10  p11  p12  p13\n\ni1  0   15   75   6.02    8   5   .4\ni.  .1  .    .    6.04    .   .   .5\ni.  .2  .    .    6.07    .   .   .6\ni. 13   16   80   6.02    7   6   .3\ni. 13.1  .    .   6.04    .   .   .5\ni. 13.2  .    .   6.07    .   .   .7\ni. 27   20   82   6.02    6   12  .2   \ni. 27.1  .    .   6.04    .   .   .5   \ni. 27.2  .    .   6.09    .   .   .8   \n\ne  \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp         =         p4*4 using distortion effect and Karplus-Strong plucked string and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from tubedistort.orc and tubedistort.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n; ORCHESTRA BEGINS HERE.\n\n\ngasig          init      0\n\n; PLUCK\ninstr          2\n\n  iamp         =         p4*4\n  ifqc         =         cpspch(p5)\n  kamp         linseg    0, .002, p4, p3-.004, p4, .002, 0\n\n  asin1        pluck     kamp, ifqc, ifqc, p6, p7\n  gasig        =         gasig + asin1\n\nendin\n\n; TUBE AMP\ninstr          10\n\nasig           init      0\nkamp           linseg    0, .002, 1, p3-.004, 1, .002, 0\nigaini         =         p4\nigainf         =         p5\niduty          =         p6\nislope         =         p7\n\naold           =         asig\nasig           =         igaini*gasig/40000 \n; DISTORTION EFFECT USING WAVESHAPING.\naclip          tablei    asig,5,1,.5         \n; A LAZY \"S\" CURVE, USE TABLE 6 FOR INCREASED DISTORTION.\naclip          =         igainf*aclip*10000\n\n; TUBE AMPLIFIERS SHOW A SHIFTED DUTY CYCLE WHICH I TRY TO EMULATE WITH\n; A DELAY LINE.  THE SLOPE BIT IS JUST SOMETHING GOOFY I THOUGHT I WOULD ADD.\natemp          delayr    .1\nadel1          deltapi   (1-iduty*asig)/3000 + (1+islope*(asig-aold))/3000\n               delayw    aclip\n\n               out       adel1*kamp\n\n  gasig        =         0\n\nendin\n\n</CsInstruments>\n<CsScore>\n; SINE WAVE\nf1 0 8192 10 1\n; TRIANGLE WAVE\nf2 0 8192 7  -1  4096 1 4096 -1\n\n; DISTORTION TABLES\n;----------------------------------------------------------------------\n; HEAVY DISTORTION\n;f5 0 8192   8 -.8 336 -.76 3000 -.7 1520 .7 3000 .76 336 .8\n; SLIGHT DISTORTION\n;f5 0 8192   8 -.8 336 -.78  800 -.7 5920 .7  800 .78 336 .8\n; TUBE DISTORTION\n; LIGHT\nf5 0 8192 7 -.8 834 -.79 834 -.77 834 -.64 834 -.48 1520 .47 2000 .48 1336 .48\n; HEAVY\n;f5 0 8192 7 -.8 934 -.79 934 -.77 934 -.64 1034 -.48 520 .47 2300 .48 1536 .48\n\n; TUBE AMP\n;   Sta  Dur  PreGain PostGain  DutyOffset  SlopeShift\ni10 0    1.5  2       1         1           0\n\n; PLUCK\n;   Sta  Dur  Amp   Fqc   Func  Meth\ni2  0.0  1.6  4000  7.00   0     1\ni2  0.2  1.4  3000  7.05   .     .\ni2  0.4  1.2  2600  8.00   .     .\ni2  0.6  1.0  3000  8.05   .     .\ni2  0.8  0.8  4000  7.00   0     1\ni2  1.0  0.6  3000  7.05   .     .\ni2  1.2  0.4  2600  8.00   .     .\ni2  1.4  0.2  3000  8.05   .     .\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp      =         p4 using Karplus-Strong plucked string and Butterworth lowpass filter and Butterworth highpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from nested.orc and nested.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n; HANS MIKELSON\n\n; ORCHESTRA\n\n\ngaout     init      0\n\n; PLUCK INSTRUMENT\n          instr     10\n\niamp      =         p4\nifqc      =         cpspch(p5)\n\naamp      linseg    0, .005, 1, p3-.015, 1, .005, 0, .005, 0\n\naplk      pluck     iamp, ifqc, ifqc, 0, 1\n\n\naout      =         aplk*aamp\n\n          outs      aout, aout\n\ngaout     =         gaout + aout\n\n          endin\n\n;     REVERB\n          instr     50\n\nafltl     init      0\nafltr     init      0\n\nadcbk     butterhp  gaout, 20\n\navrbl1    nestedap  adcbk+.3*afltl, 3, 1, .153, .2, .075, .2, .031, .1\navrbr1    nestedap  adcbk+.3*afltr, 3, 1, .151, .2, .071, .2, .029, .1\n\navrbl     nestedap  avrbl1, 2, 1, .241, .32, .125, .2\navrbr     nestedap  avrbr1, 2, 1, .245, .34, .121, .2\n\nafltl     butterlp  avrbl, 1000\nafltr     butterlp  avrbr, 1020\n          outs      afltl*.5, afltr*.5\ngaout     =         0\n\n          endin\n\n</CsInstruments>\n<CsScore>\n\n\n; SCORE\n\n;    STA  DUR  AMP    PITCH\ni10  0    .2   20000  7.00\ni10  .1   .3   20000  7.07\ni10  .2   .2   20000  8.00\n\ni10  .51  .4   20000  7.07\ni10  .62  .3   20000  8.09\ni10  .73  .4   20000  9.02\n\ni10 1.0   .2   20000  7.00\ni10 1.21  .3   20000  7.07\ni10 1.23  .6   20000  8.04\n\ni10 1.51  .8   20000  7.07\ni10 1.62  .6   20000  7.09\ni10 1.73  .8   20000  9.02\n\n\n; SIMPLE REVERB\ni50 0    4\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ROLL YOUR OWN PLUCK INSTRUMENT using arpeggio and Karplus-Strong plucked string and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from karpls.orc and karpls.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls    =         1\n\n\n;=============================================================================\n;               Karplus Strong Algorithm Demonstration                       \n;                                                                            \n;This is a crude implementation of the Karplus-Strong Plucked String Algorithm\n;It simply fills a delay line with noise, then feeds the output through a tone\n;filter and back into the delay line.  The pitch produced is determined by the\n;length of the delay line, and the \"pluck\" effect caused by the lowpass filter\n;in the feedback loop, which gradually removes the high frequencies from the  \n;noise, eventually leaving nothing but the fundamental frequency of the line. \n;Study this to see how the basic algorithm works, but use Pluck in real life. \n;RP                                                                           \n;=============================================================================\n          instr     1\n; ROLL YOUR OWN PLUCK INSTRUMENT\nicps      =         cpspch(p5)               ; DESIRED PITCH IN PCH\nasig      init      0                        ; INITIALIZE asig VARIABLE\nkcount    init      1/icps*kr                ; AND LOOP COUNTER (SEE BELOW)\n\n;---------------------- USE A DELAY LINE OF LENGTH 1/CPS:\n\nadel      delayr    1/icps                   ; DELAY OF 1/CPS SECONDS\nasig      tone      adel,sr/2                ; FILTER THE OUTPUT\n\n;---------------------- BUT AT THE FIRST K, FILL THE DELAY LINE WITH NOISE:\n\n          if        (kcount < 0) kgoto continue ; SKIP OVER AFTER LINE FILLED\nkloop:                                       ; LOOP TO FILL DELAY\nasig      rand      p4,-1                    ; WITH WHITE NOISE\nkcount    =         kcount - 1               ; DECREMENT LOOP COUNTER\n;-----------------------------------------------------------------------------\n\ncontinue:\n          delayw    asig                     ; DELAY LINE INPUT (ALWAYS GET HERE)\n\n          if        (kcount >= 0) kgoto kloop ; LOOP ONLY kcount TIMES AT START \n\n          out       asig\n          endin\n\n</CsInstruments>\n<CsScore>\n;Test score for Karplus Strong Demo Instrument\ni01     0       2       30000   6.00\ni01     +       .       .       7.00\ni01     +       .       .       8.00\ni01     +       .       .       9.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for RING using plucked string and Karplus-Strong plucked string and panning", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from PLUCK15.ORC and PLUCK15.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n;PLUCK15.ORC\n\n \ninstr          1                                       ;RING\nk1             expseg    p4,p3*.8,p4,p3*.2,p4*.01\nk2             randi     1.05,2\n;a1            pluck     p5*10000,cpspch(p4+k2),cpspch(p4),3,1,0,0    ;JUST FOR MIDI PURPOSES\na1             pluck     p5*10000,cpspch(p4),cpspch(p4),3,1,0,0\n               out       a1\nendin\n\ninstr          3                                       ;RING\nk1             expseg    p4,p3*.8,p4,p3*.2,p4*.001\nk2             linseg    cpspch(p5)*p6,p3*.7,cpspch(p5)*p6,p3*.3,cpspch(p5)*(p6*1.1)\na1             pluck     k1,k2,cpspch(p5),p7,1,0,0     ;P7 = F# WAS 3 FOR THE BEST ONE\nout a1\nendin\n\n\ninstr          4                                       ; PAN RING\nk1             expseg    p4,p3*.8,p4,p3*.2,p4*.001\nk2             linseg    cpspch(p5),p3,cpspch(p5)*1.12\na1             pluck     k1,k2,cpspch(p5),3,1,0,0\n               out       a1\nendin\n\n\n\n\n\ninstr          2                                       ;TRY LONG PERF\nk2             expseg    cpspch(p5),p3,cpspch(p5)*p6\na1             pluck     p4,k2,1,3,1,0,0 ;\n               out       a1\nendin\n\n\n\n\ninstr          5                                       ;TRY LONG PERF\ni1             =         cpspch(p5)\nk1             expseg    i1*p7,p3*.3,i1*p6,p3*.3,i1*(p6*1.1),p3*.3,i1*(p6*.98),p3*.1,i1*p6\nk2             expseg    p4*.01,p3*.2,p4,p3*.6,p4,p3*.2,p4*.01\na1             pluck     p4,k1,cpspch(p5),3,1,0,0 ;\n               out a1\nendin\n\n\ninstr          6                                       ;TRY LONG PERF\nk1             expseg    1,p3,10\na1             pluck     p4,k1,cpspch(p5),3,1,0,0      ;\n               out       a1\nendin\n\n\n;instr         1                                       ;BEST ?\n;a1            pluck     p4,p5,p6,3,1,0,0              ;TRY   P4,1,1,FOR GOOD 1CYCLE THRU\n;out           a1\n;endin\n\n\n;instr         2\n;a1            pluck     p4,p5,p6,2,1,0,0\n;              out       a1\n;endin\n\n</CsInstruments>\n<CsScore>\n;PLUCK15.SCO\n\nf 1 0  8192 10 1\nf 2 0 16384 1 5 0 4 0\nf 3 0 16384 1 6 0 4 0\n\n;                       CPSPCH START SCALER  SCALER END\n;                       ----   ----------     --------\ni5    0    35    7000   1.06      1.01          1      ;  THIS IS FROM PIECE\ni5    0    35    7000   1.055     .99\ni5    0    35    7000   1.07      .98\ni5    0    35    7000   1.11      .985\ns\ni5    0    35    8000   2.02      .97          1\ni5    0    35    8000   2.01      .95          1\ni5    0    35    8000   2.00      .93\ni5    0    35    8000   2.035     .91\ns\ni5    0    35    9500   3.03      .89          1\ni5    0    35    9500   3.025     .85\ni5    0    35    9500   3.015     .83\ni5    0    35    9500   3.05      .81\ns\ni5    0    35    9500   3.11      .89          1\ni5    0    35    9500   3.10      .85\ni5    0    35    9500   3.09      .83\ni5    0    35    9500   4.00      .81\ni5    0    35    9500   4.02      .87\ne\ne\n\n\ni3 0 20 4000 1.00    1.25  3                           ;THIS IS THE BEST KICK RINGER\ni3 0 20 4000 1.025   1.2   3\ni3 0 20 4000 1.05   1.1    3\ni3 0 20 4000 1.045    .9   3\ni3 0 20 4000 1.060     .85 3\ns\n\n\n\n\ne\n\n\n\n\ne\n\ni3 0 35 4000 1.10    1.25  3 ;this is the really the best kick ringer\ni3 0 35 4000 1.095   1.2   3\ni3 0 35 4000 1.090   1.1   3\ni3 0 35 4000 1.085    .95  3\ni3 0 35 4000 1.075    .9   3\ni3 0 35 4000 2.00     .85  3\ns\n\n\n\n\ns\n\ni3 0.25 25 4000 1.10    1.45\ni3 0.2  25 4000 1.095   1.3\ni3 0.1  25 4000 1.090   1.2\ni3 0.1  25 4000 1.085    .9\ni3 0    25 4000 1.075    .8\ni3 0.3  25 4000 2.00     .7\ns\n\ne\n\n\n\ni3 0 19 4000 3.06  1.12     ;nice kick attack w/wiggle\ni3 0 19 3500 3.05\ni3 0 19 3000 3.045\n;i3 0 19 2500 3.035\n\ni3 6 20 3500 2.11  1.3\ni3 6 20 3500 2.10\ni3 6 20 3500 2.105\n\ni3 12 22 4000 4.00   .9\ni3 12 22 4000 4.08\ni3 12 22 4000 4.11\n\ni3 19 20 4000 1.10    1.2\ni3 19 20 4000 1.095\ni3 19 20 4000 1.090\n;i3 19 20 4000 1.08\n\ne\n\n\ni2 0   12 8000 .3 5\ne\ni2 14  15 8000 .2 2\ni2 30  17 8000 .1 1\ni2 48   9 8000 .4 1   ;p5 was 4\ns\n\ni2 0   13 8000 .1 .1\ni2 14  15 8000 .2 .2\ni2 30  17 8000 .1 .1\ni2 48   9 8000 .4 .1   ;p5 was 4\ns\n\ni2 0   13 8000 1 .1\ni2 14  15 8000 2 .2\ni2 30  17 8000 1 .1\ni2 48   9 8000 4 .1   ;p5 was 4\ns\n\ne\n\n\ni1  0  1 8000  1 1\ni1  1  2 8000  1 1\ni1  3  5 8000  1 1\ns\ni1  0  5 8000  .5 .5\ne\ni1\n;i1 0   10 8000  3.00             ;amp makes difference\n;i1  0 12 4000 1.060\n;i1 0 12 4000 3.060       ;nice kick attack w/wiggle\ne\n;s\n;i2 0 12 4000 3.060\n;e\n;i1 . .  .      3.062\n;i1 . .  .      3.063\n;i1 . .  .      3.064\n;i1 . .  .      3.065\n;i1 . .  .      3.066\n;i1 . .  .      3.067\n;i1 . .  .      3.068\n;i1 . 22 .     3.069\n;e\n\n\nmidi\n\ni1 0     0.4   10.03 0.560\ni1 1.099 0.200 10.04 0.660\ni1 1.299 0.200 10.04 0.663\ni1 1.499 0.667 10.04 0.667\ni1 2.166 0.667 10.05 0.679\ni1 2.833 0.667 10.07 0.691\ni1 3.499 0.167 10.08 0.703\ni1 3.666 0.167 10.08 0.706\ni1 3.833 0.167 10.08 0.709\ni1 3.999 0.167 10.08 0.712\ni1 4.166 2.333 10.09 0.715\ni1 6.499 0.667 11.01 0.757\ni1 7.166 0.167 11.02 0.769\ni1 7.333 0.333 11.02 0.772\ni1 7.666 0.167 11.03 0.778\ni1 7.833 0.667 11.03 0.781\ni1 8.499 0.667 11.04 0.793\ni1 9.166 0.667 11.05 0.805\ni1 9.833 0.667 11.06 0.817\ni1 0.499 0.667 11.07 0.829\ni1 1.166 0.183 11.08 0.841\ni1 1.349 0.092 11.09 0.844\ni1 1.441 0.092 11.09 0.846\ni1 1.532 0.320 11.09 0.848\ni1 1.852 0.092 11.09 0.853\ni1 1.944 1.544 11.10 0.855\ni1 3.488 0.454 12.00 0.883\ni1 3.942 0.259 12.01 0.891\ni1 4.201 0.259 12.01 0.896\ni1 4.460 0.389 12.02 0.900\ni1 4.849 1.200 12.02 0.907\ni1 6.049 0.200 12.04 0.929\ni1 6.249 0.200 12.05 0.932\ni1 6.449 0.667 12.05 0.936\ni1 7.116 0.667 12.06 0.948\ni1 7.782 0.667 12.07 0.960\ni1 8.449 0.167 12.08 0.972\ni1 8.616 0.167 12.09 0.975\ni1 8.782 0.167 12.09 0.978\ni1 8.949 0.167 12.09 0.981\ni1 9.116 2.333 12.10 0.984\ne  \n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iloop     =         1/p6 using linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from comb1.orc and comb1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\niloop     =         1/p6\n; itime   =         p5\nkenv      linen     1,.05, p3, .1\na1        soundin   5\na2        comb      a1*p4*kenv, p5, iloop, 0\n          out       a2\n          endin\n\n</CsInstruments>\n<CsScore>\n; Score to accompany:\n\n;p1  p2   p3   p4   p5   p6\n\ni1   0    1.5  .5   1          25       ;0.04\ni1   +    .    .      .         50      ;0.02\ni1    .   .    .      .         200        ;0.05\ni1    .   .       .   .         500         ;0.002\ni1    .   .       .   .         1000    ;0.001\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iloop   =         1/p6 using linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from comb2.orc and comb2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n; iloop   =         1/p6\n; itime   =         p5\nkenv      linen     1,.05,p3,.1\na1        soundin   5    \na2        comb      a1*.8*p4*kenv, p5, p6, 0\n          out       a1+a2\n          endin\n\n</CsInstruments>\n<CsScore>\n; Score to accompany:\n\n;p1  p2   p3   p4   p5    p6\ni1   0       8  1     2       .1\ns\ni1   0       8  1    2   .05\ns\ni1   0       8  1     2       .01\ns\ni1   0       8  1     2       .005\ns\ni1   0       8  1    2   .001\ne\n\n\ni1   0       8  1     15      1.5\ns\ni1   0       8  1     11    1.1\ns\ni1   0       8  1     9       .9\ns\ni1   0       8  1     7       .7\ns\ni1   0       8  1     5       .5\ns\ni1   0       8  1     3       .3\ns\ni1   0       8  1     1       .1\ns\ni1   0       8  1     .5      .05\ns\ni1   0       8  1     .1      .01\ns\ni1   0       8  1     .05     .005\ns\ni1   0       8  1     .01     .001\ne\nt 0 60 2.55 240\ni1   0       2.2     .6    1       .1\ni1   .15    .      .        <    <\ni1   .30    .      .        <    <\ni1   .45    .      .        <    <\ni1   .6       .     .       <    <\ni1   .75    .      .        <      <\ni1   .90    .       .       <    <\ni1   1.05 .        .        <      <\ni1   1.2    .      .        <      <\ni1   1.35 .         .       <      <\ni1   1.5    .       .6     <     <\ni1   1.65 .        >     <    <\ni1   1.8    .      >       <       <\ni1   1.95 .         >      <     <\ni1   2.1    .      >    <     <\ni1   2.25 .       .3       <       <\ni1   2.4    .      .        <    <\ni1   2.55 1.6  .      1    .005\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for asiga   soundin \tp4 using pitch and linear envelope and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pitchsoundin.orc and pitchsoundin.sco\n; Original files preserved in same directory\n\n    sr   \t=   18900\n    kr   \t=   1890\n    ksmps   =   10\n\n;====================================================================;\n;       EXAMPLE ORCHESTRA FOR PLAYING SOUNDIN FILES                  ;\n;====================================================================;\n;===========================================;\n;      \t\tSTRAIGHT MIXING INSTRUMENT             ;\n;   P4 \t\t= \tFILE A     P5 \t= \tFILE B         ;\n;   P6 \t\t= \tA RISE     P7 \t= \tA DECAY        ;\n;   P8 \t\t= \tB RISE     P9 \t= \tB DECAY        ;\n;===========================================;\ninstr\t1\n    \tasiga   soundin \tp4\n    \tasiga   linen   \tasiga,p6,p3,p7\n    \tasigb   soundin \tp5\n    \tasigb   linen   \tasigb,p8,p3,p9   \n        \t\tout     \tasiga+asigb\nendin\n;===========================================;\n;        PITCH CHANGING INSTRUMENT          ;\n;       P4 = SOUNDIN #  P5 = DESIRED PITCH  ;\n;       P6 = OLD PITCH  P7 = ORIGINAL SR    ;\n;===========================================;\n instr   2\n    \ticpsnew \t=       cpspch(p5)\n    \ticpsold \t=       cpspch(p6)\n    \tioldsr  \t=       p7\n    \tincr    \t=       ioldsr/sr * icpsnew/icpsold\n    \tkphase  \tinit    0                       \t;INITIALIZE PHASE\n    \taphase  \tinterp  kphase                  \t;CONVERT TO ARATE\n    \tasig    \ttablei  aphase,1                \t;RESAMPLE THE SOUND\n    \tkphase  \t=       kphase+incr*ksmps       \t;UPDATE FOR NEXT K\n            \t\tout     asig\nendin\n\n</CsInstruments>\n<CsScore>\n;===========================================;\n;       STRAIGHT MIXING INSTRUMENT          ;\n;       P4 = FILE A     P5 = FILE B         ;\n;       P6 = A RISE     P7 = A DECAY        ;\n;       P8 = B RISE     P9 = B DECAY        ;\n;===========================================;\n;                       soundA  soundB  riseA   decA    riseB   decB\ni01     0       4       5       6       .01     3.99    3       1\ns\n; Sample File is Soundin.5 -- no rescaling\nf1  \t0   \t32768  \t-1   \t5   \t0\n;===========================================;\n;        PITCH CHANGING INSTRUMENT          ;\n;       P4 = SOUNDIN #  P5 = DESIRED PITCH  ;\n;       P6 = OLD PITCH  P7 = ORIGINAL SR    ;\n;===========================================;\ni02 \t0   \t4   \t5   \t5.01    6.00    18900\ni02     4   \t2   \t6.00    7.00\ni02 \t6   \t3   \t5   \t4.06\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a week sound using linear segments and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from week12_1.orc and week12_1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n \nkenv      linseg    0,p3/2,p4,p3/2,0         ; UP-DOWN ENVELOPE \naindex    phasor    cpspch(p5)               ; READ TABLE AT PITCH RATE\nasig      table     aindex*1024,1            ; INDEX TABLE\n          out       asig*kenv                ; OUTPUT SIGNAL\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 7 0 16 1 224 1 16 0 16 -1 224 -1 16 0 512 0   ; GEN 7 FUNCTION TABLE\n\n\n;      st      dur     amp        pitch\n\ni1     0        2     10000       8.00                  ; MIDDLE C PLAYED FOR 2 SECONDS\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a lorenz sound using linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from lorenz3.orc and lorenz3.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n; LORENZ ATTRACTOR\n          instr 1\n;-------------------------------------------------------------------- \nax        init      p5\nay        init      p6\naz        init      p7\nas        init      p8\nar        init      p9\nab        init      p10\nah        init      p11\n;-------------------------------------------------------------------- \nkampenv   linseg    0, .01, p4, p3-.02, p4, .01, 0 \naxnew     =         ax+ah*as*(ay-ax)\naynew     =         ay+ah*(-ax*az+ar*ax-ay)\naznew     =         az+ah*(ax*ay-ab*az)\n;-------------------------------------------------------------------- \nax        =         axnew\nay        =         aynew\naz        =         aznew\n;-------------------------------------------------------------------- \n          outs      ax*kampenv,ay*kampenv\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\nt 0 400\n; Start Dur Amp X Y Z S R B   h\ni1 0 8 600 .6 .6 .6 10 28 2.667 .01\ni1 + . 600 .6 .6 .6 22 28 2.667 .01\ni1 . . 600 .6 .6 .6 32 28 2.667 .01\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur\t\t=\t\tp3 using linear segments and additive synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from adsyn1.orc and adsyn1.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t1\n\n\t\t\n\t\tinstr\t1\t\t\t\nidur\t\t=\t\tp3\niamp\t\t=\t\tp4\nispeed1\t=\t\tp5\nispeed2\t=\t\tp6\nifrq1\t=\t\tp7\nifrq2\t=\t\tp8\nifrq3\t=\t\tp9\nianal\t=\t\tp10\t\t\t\t\nkspeed\tline\t\tispeed1, idur, ispeed2\nkfreq\tlinseg\tifrq1, idur*.5, ifrq2, idur*.5, ifrq3\nasig\t\tadsyn\t1, kfreq, kspeed, ianal\n\t\tout\t\tasig\n\t\tendin\n\n</CsInstruments>\n<CsScore>\ni1 0  3   1  1  2    1  .5  4  1\ni1 4  3   2  1  .5   1  2  .5  1\ni1 8  3  .2  1  2    1  .5  4  1\ni1 8  3  .2  1  .5   1  2  .5  1\ni1 8  3  .2  2  .5   8  .5  1  1\ni1 12 150 1 .05 .05  1   1  1  1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using linear segments and additive synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from adsyn2.orc and adsyn2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr     1              \nidur      =         p3\niamp      =         p4\nispeed1   =         p5\nispeed2   =         p6\nifrq1     =         p7\nifrq2     =         p8\nifrq3     =         p9\nianal     =         p10                 \nkspeed    line      ispeed1, idur, ispeed2\nkfreq     linseg    ifrq1, idur*.5, ifrq2, idur*.5, ifrq3\nasig      adsyn     1, kfreq, kspeed, \"hellorcb.adsyn\"\n          out       asig\n          endin\n\n</CsInstruments>\n<CsScore>\ni1  0    3   1   1    2    1   .5   4  1\ni1  4    3   2   1   .5    1    2  .5  1\ni1  8    3  .2   1    2    1   .5   4  1\ni1  8    3  .2   1   .5    1    2  .5  1\ni1  8    3  .2   2   .5    8   .5   1  1\ni1 12  150   1  .05  .05   1    1   1  1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifile          =         p4 using linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from stem.orc and stem.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\n;STEREO IN OF EMONSTER\n;i1 0 dur file skip lp1 lp2 lp3 lp4 lp5 lp6 rvt gain\ninstr          1\nifile          =         p4 \niskip          =         p5\nilp1           =         1./p6\nilp2           =         1./p7\nilp3           =         1./p8\nilp4           =         1./p9\nilp5           =         1./p10\nilp6           =         1./p11\nirvt           =         p12\niatk           =         .01\nidk            =         .05\nisust          =         p3-(iatk+idk)\nigain          =         0.25 * p13\nia             =         .02\nis             =         p3-(2*ia)\n\n     kenv      linseg    0,iatk,igain,isust,igain,idk,0\n     kclean    linseg    0,ia,1,is,1,ia,0\n     ain1,ain2 soundin   ifile, iskip\n     ain1      =         ain1 * kclean\n     ain2      =         ain2 * kclean\n     aecho1    comb      ain1, irvt, ilp1\n     aecho2    comb      ain2, irvt, ilp2\n     aecho1    =         aecho1 + ain1\n     aecho2    =         aecho2 + ain2\n     aecho3    comb      aecho1, irvt, ilp3\n     aecho4    comb      aecho1, irvt, ilp4\n     aecho5    comb      aecho2, irvt, ilp5\n     aecho6    comb      aecho2, irvt, ilp6\n     aout1     =         (aecho1+aecho3+aecho5)*kenv\n     aout2     =         (aecho2+aecho4+aecho6)*kenv\n     outs      aout1,aout2\nendin\n\n</CsInstruments>\n<CsScore>\n;i1 0 dur file skip lp1 lp2 lp3 lp4 lp5 lp6 rvt gain\n\ni1 0 22 1 0 15 71.33 433 300 27.3 190.1 .5 1.0\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 60_22_1b.orc and 60_22_1b.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:      60_22_1B.ORC\n; synthesis:  phase vocoder(60)\n;             ktimpnt variable(22)\n;             pointer control by LINSEG, speech1.pvc(1B)\n; coded:      jpg 12/93\n\n\n\n\ninstr 1; *****************************************************************\nidur  = p3\nifmod = p4\n\nktimpnt linseg  0,idur/6,1.1,idur/6,1.2,idur/24,1.3,3*idur/24,1.6,idur/2,5\n\naout    pvoc    ktimpnt, ifmod, \"speech1.pvc\", 0\n        out     aout\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:   60_22_1B.SCO\n; coded:   jpg 12/93\n\n\n; score ******************************************************************\n;         idur   ifmod\n\ni1   0      5      1.0       ; long note\n\ni1   6      3.8     .69\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3+p9 using linear segments and looping oscillator/sampler and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from samplr.orc and samplr.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         22050\nksmps     =         2\nnchnls    =         2\n\n\n\n;-------------------------------------------------------------\n; SINGLE TRIGGER DRUM SAMPLES\n;-------------------------------------------------------------\n          instr     3\n\nidur      =         p3+p9\np3        =         p3+p9\niamp      =         p4\nifqc      =         cpspch(p5)\nibase     =         cpspch(8.09)\niwav      =         p6\niatk      =         p7\nidcy      =         p8\nirel      =         p9\n\nkamp      linseg    0, iatk, 1, idur-iatk-idcy, 1, idcy,0\nasamp1    loscil    iamp, ifqc, iwav, ibase\n\n          outs      asamp1*kamp, asamp1*kamp\n\n          endin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 0 1 \"tom.wav\" 0 4 0\nf2 0 0 1 \"tom.wav\" 0 4 0\nf3 0 0 1 \"tom.wav\"  0 4 0\nf4 0 0 1 \"tom.wav\"   0 4 0\nf5 0 0 1 \"tom.wav\"   0 4 0\n\n;   Sta  Dur  Amp    Pitch  Wav  Atk  Dcy  Rel\ni3  0    .2   16000  8.09   1    .002 .1   .1\ni3  +    .    17000  .      2    .    .    .\ni3  .    .    22000  .      3    .    .    .\ni3  .    .    16000  .      2    .    .    .\ni3  .    .    17000  .      1    .    .    .\ni3  .    .    18000  .      2    .    .    .\ni3  .    .    18000  .      3    .    .    .\ni3  .    .    18000  .      2    .    .    .\n;\ni3  .    .    20000  8.09   1    .002 .1   .1\ni3  .    .    20000  .      2    .    .    .\ni3  .    .    25000  .      3    .    .    .\ni3  .    .    20000  .      2    .    .    .\ni3  .    .    20000  .      1    .    .    .\ni3  .    .    20000  .      2    .    .    .\ni3  .    .    25000  .      3    .    .    .\ni3  .    .    20000  .      2    .    .    .\n;\ni3  .    .    20000  8.09   1    .002 .1   .1\ni3  .    .    20000  .      2    .    .    .\ni3  .    .    25000  .      3    .    .    .\ni3  .    .    16000  .      2    .    .    .\ni3  .    .    16000  .      1    .    .    .\ni3  .    .1   16000  .      2    .    .    .2\ni3  .    .    20000  .      4    .    .    .\ni3  .    .2   20000  .      3    .    .    .1\ni3  .    .    16000  .      2    .    .    .\n;\ni3  .    .    20000  8.09   1    .002 .1   .1\ni3  .    .1   20000  .      2    .    .    .2\ni3  .    .    20000  .      4    .    .    .\ni3  .    .    25000  .      3    .    .    . \ni3  .    .    20000  .      5    .    .    .\ni3  .    .2   16000  .      2    .    .    .1\ni3  .    .    16000  .      1    .    .    .\ni3  .    .1   16000  .      2    .    .    .2\ni3  .    .    20000  .      4    .    .    . \ni3  .    .2   20000  .      3    .    .    .1\ni3  .    .    16000  .      2    .    .    .\n;\ni3  .    .    20000  8.09   1    .002 .1   .1\ni3  .    .1   20000  .      2    .    .    .2\ni3  .    .    20000  .      4    .    .    .\ni3  .    .    25000  .      3    .    .    . \ni3  .    .    20000  .      5    .    .    .\ni3  .    .    16000  .      2    .    .    .\ni3  .    .    16000  .      3    .    .    .\ni3  .    .    16000  .      1    .    .    .\ni3  .    .1   16000  .      2    .    .    .2\ni3  .    .    20000  .      4    .    .    . \ni3  .    .2   20000  .      3    .    .    .1\ni3  .    .    16000  .      2    .    .    .0\n;\ni3  .    .    16000  8.07   1    .002 .1   .1\ni3  .    .1   14000  .      2    .    .    .2\ni3  .    .    14000  .      4    .    .    .\ni3  .    .    17000  .      3    .    .    . \ni3  .    .    16000  .      5    .    .    .\ni3  .    .    14000  .      2    .    .    .\ni3  .    .    14000  .      3    .    .    .\ni3  .    .    14000  .      1    .    .    .\ni3  .    .    14000  .      2    .    .    .\ni3  .    .    15000  .      4    .    .    . \ni3  .    .2   15000  .      3    .    .    .1\ni3  .    .    14000  .      2    .    .    .0\n;\ni3  .    .    20000  8.09   1    .002 .1   .1\ni3  .    .1   20000  .      2    .    .    .2\ni3  .    .    20000  .      4    .    .    .\ni3  .    .    25000  .      3    .    .    . \ni3  .    .    20000  .      5    .    .    .\ni3  .    .    16000  .      2    .    .    .\ni3  .    .    16000  .      3    .    .    .\ni3  .    .    16000  .      1    .    .    .\ni3  .    .1   16000  .      2    .    .    .2\ni3  .    .    20000  .      4    .    .    . \ni3  .    .2   20000  .      3    .    .    .1\ni3  .    .    16000  .      2    .    .    .0\n;\ni3  .    .    16000  8.07   1    .002 .1   .1\ni3  .    .1   14000  .      2    .    .    .2\ni3  .    .    14000  .      4    .    .    .\ni3  .    .    17000  .      3    .    .    . \ni3  .    .    16000  .      5    .    .    .\ni3  .    .    14000  .      2    .    .    .\ni3  .    .    14000  .      3    .    .    .\ni3  .    .    14000  .      1    .    .    .\ni3  .    .    14000  .      2    .    .    .\ni3  .    .    15000  .      4    .    .    . \ni3  .    .2   15000  .      3    .    .    .1\ni3  .    .    14000  .      2    .    .    .0\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur           =         p3 using linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from planet2.orc and planet2.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\n\n               instr     1\n\nidur           =         p3\niamp           =         p4\nkm1            =         p5\nkm2            =         p6\nksep           =         p7\nix             =         p8\niy             =         p9\niz             =         p10\nivx            =         p11\nivy            =         p12\nivz            =         p13\nih             =         p14\nifric          =         p15\n\nkamp           linseg    0, .002, iamp, idur-.004, iamp, .002, 0\n\nax, ay, az planet km1, km2, ksep, ix, iy, iz, ivx, ivy, ivz, ih, ifric\n\n               outs      ax*kamp, ay*kamp\n\n               endin\n\n</CsInstruments>\n<CsScore>\nt0 100\n\n;   Sta  Dur  Amp   M1  M2  Sep  X   Y  Z  VX  VY  VZ   h   Frict\ni1  0    1    2000  .25 .3  2    0  .1  0  .5  .6  -.1  .5   2\ni1  +    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   1\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   .5\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   .1\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   .05\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1  -.01\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5  -.1\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  <   -.1  .1   <\ni1  .    .    .     .25 .3  2    0  .1  0  .5  <   -.1  .5   <\ni1  .    .    .     .2  .5  2    0  .1  0  .5  .4  -.1  .1  -0.4\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using FM synthesis and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fmfeed1b.orc and fmfeed1b.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n;====================================================================;\n;                      Dx7 FMPair with Feedback on Op2               ;\n;====================================================================;\n\n\n          instr 1\n    \nidur      =         p3\niamp      =         p4\nicarfreq  =         p5\nimodfreq  =         p6\nifeed     =         p7/(2 * 3.14159)         ; DEV IN RADIANS\n  \nk1gatec   linseg    0, p3*.1, 1,p3*.9, 0 \nk2gatem   linseg    0, p3*.1, 1, p3*.7,1, p3*.2, 0\n     \na2sig     init      0                        ; INITIALIZE FOR FEEDBACK\na2phs     phasor    imodfreq                 ; OPS TO BE MODULATED MUST USE PHASE...\na2sig     tablei    a2phs+a2sig*ifeed,1,1,0,1 ; ...MODULATION, NOT FM!\na2sig     =         a2sig*k2gatem\n\na1phs     phasor    icarfreq\na1sig     tablei    a1phs+a2sig,1,1,0,1\na1sig     =         a1sig*k1gatec\n        \n          out       a1sig * iamp\n          endin\n\n</CsInstruments>\n<CsScore>\n;====================================================================;\n;       Dx7Feed.sco SimpleFM Pair with Feedback                      ;\n;====================================================================;\nf01     0       4096     10      1\n\ni1 0           5    15000     440       440       7\ns\ni1 0           5    15000     440       440       5\ns\ni1 0           5    15000     440       440       3\ns\ni1 0           5    15000     440       440       1\ns\ni1 0           5    15000     440       440       0\ns\ni1 0           5    15000     440       440       .7\ns\ni1 0           5    15000     440       440       .5\ns\ni1 0           5    15000     440       440       .3\ns\ni1 0           5    15000     440       440       .1\ns\ni1 0           5    15000     440       440       .05\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for LOGISTIC CURVE APPLIED TO SOUND GENERATION using linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bif.orc and bif.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         44100\nksmps     =         1\n\n          instr 1\n          ; LOGISTIC CURVE APPLIED TO SOUND GENERATION\np3        =         2 * p3\nipitch    =         cpspch(p4)\niatt      =         .08                      ; ATTACK AS PERCENTAGE (%1) OF TABLE WITH CHAOTIC BEHAVIOUR\nisize     =         ftlen(1)\nkndx      init      0\nkx2       init      0.01\nidur      =         isize/sr\nichaos    =         3.5699456                ; LIMIT BETWEEN PERIODIC AND CHAOTIC BEHAVIOUR\nku        linseg     4, iatt*idur, ichaos , idur*(1-iatt), 3\n\nfill:\n          if        (kndx > isize) kgoto contin\n\nkx        =         kx2\nkx2       =         ku * kx * (1-kx)         ; SIMPLE LOGISTIC (MAY) CURVE\n          tablew    (kx2-.65), kndx, 1\nkndx      =         kndx + 1\n\n\ncontin:\n          if        (kndx < isize) kgoto endin\naphase    line      0, 1000/ipitch, isize    ; NOT TUNED YET!...\nasig      tablei    aphase,1                 ; <- YOU=B4LL GET TRIANGLE WAVES AT THE END\n          out       20000*(asig)\n\nendin:\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 10 1\nf2 0 2048 10 1\ni1 0 1 6.08\ni1 3 2 6.08\ni1 7 5 6.08\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for LOGISTIC CURVE APPLIED TO SOUND GENERATION using linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Logistic.orc and logistic.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n          \n          instr 1\n; LOGISTIC CURVE APPLIED TO SOUND GENERATION \np3        =         2 * p3\nipitch    =         cpspch(p4)\niatt      =         .08                      ; ATTACK AS PERCENTAGE (%1) OF TABLE WITH CHAOTIC BEHAVIOUR \nisize     =         ftlen(1)\nkndx      init      0\nkx2       init      0.01\nidur      =         isize/sr\nichaos    =         3.5699456                ; LIMIT BETWEEN PERIODIC AND CHAOTIC BEHAVIOUR \nku        linseg    4, iatt*idur, ichaos , idur*(1-iatt), 3 \n\nfill:\n          if        kndx > isize   kgoto contin\n\nkx        =         kx2\nkx2       =         ku * kx * (1-kx)         ; SIMPLE LOGISTIC (MAY) CURVE \n          tablew    (kx2-.65), kndx, 1\nkndx      =         kndx + 1\n\ncontin:\n          if        kndx < isize   kgoto endin\naphase    line 0,   1000/ipitch, isize       ; NOT TUNED YET!... \nasig      tablei    aphase,1                 ; <- YOUÂ«LL GET TRIANGLE WAVES AT THE END    \n          out       20000*(asig)\n\nendin:    \n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 10 1\nf2 0 2048 10 1\ni1 0 1 6.08\ni1 3 2 6.08\ni1 7 5 6.08\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur           =         p3 using linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from planet.orc and planet.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\n\n               instr     1\n\nidur           =         p3\niamp           =         p4\nkm1            =         p5\nkm2            =         p6\nksep           =         p7\nix             =         p8\niy             =         p9\niz             =         p10\nivx            =         p11\nivy            =         p12\nivz            =         p13\nih             =         p14\nifric          =         p15\n\nkamp           linseg    0, .002, iamp, idur-.004, iamp, .002, 0\n\nax, ay, az planet km1, km2, ksep, ix, iy, iz, ivx, ivy, ivz, ih, ifric\n\n               outs      ax*kamp, ay*kamp\n\n               endin\n\n</CsInstruments>\n<CsScore>\n;   Sta  Dur  Amp   M1  M2  Sep  X   Y  Z  VX  VY  VZ   h   Frict\ni1  0    1    5000  .5  .35 2.2  0  .1  0  .5  .6  -.1  .5  -0.1\ni1  +    .    .     .5  0   0    0  .1  0  .5  .6  -.1  .5   0.1\ni1  .    .    .     .4  .3  2    0  .1  0  .5  .6  -.1  .5   0.0\ni1  .    .    .     .3  .3  2    0  .1  0  .5  .6  -.1  .5   0.1\ni1  .    .    .     .25 .3  2    0  .1  0  .5  .6  -.1  .5   1.0\ni1  .    .    .     .2  .5  2    0  .1  0  .5  .6  -.1  .1   1.0\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 60_23_2.orc and 60_23_2.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:      60_23_2.ORC\n; synthesis:  phase vocoder(60)\n;             kfmod variable(23)\n;             transposition control by LINSEG, speech1.pvc(2)\n; coded:      jpg 12/93\n\n\n\n\ninstr 1; *****************************************************************\nidur    = p3\nibeg    = p4\nifqsc   = cpspch(p5)/200    ; scale frequency down, towards unity\nimid    = p6                ; assuming fundamental of 200 Hz...\niend    = p7\n\n   ktimpnt   line   0, idur, 5.1\n   kfmod     linseg ibeg, idur/2, imid, idur/2, iend\n   aout      pvoc   ktimpnt, ifqsc*kfmod, \"speech1.pvc\"\n             out    aout\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:   60_23_2.SCO\n; coded:   jpg 12/93\n\n\n; score ******************************************************************\n;           idur  ibeg    ipch  imid   iend\ni1    0.0     5    .5     8.00   .4     .8\ni1    +       .    .9     7.09  1.0     .7\ne\n\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Delay negative half of signal using delay effect and marimba physical model and amplitude balance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from CookDelay.orc and CookDelay.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Delay negative half of signal\n\nilevel   = p4*2\nidelay   = p5/1000 ; Delay in ms\nibal     = p6\n\nain      soundin  \"Marimba.aif\"\n\napos     limit  ain, 0, 32768\naneg     limit  ain, -32768, 0\n\nadel     delay  aneg, idelay\n\namix     = apos*ibal + adel*(1 - ibal)\n\nout      amix*ilevel\n  \nendin\n\n</CsInstruments>\n<CsScore>\n;Delay in ms\n\n;   Strt  Leng  Levl  Delay Balance+/-\ni1  0.00  1.47  1.00  5.00  0.50\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for '2D' random Sample indexer using sample playback and marimba physical model and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from RndSample.orc and RndSample.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 1\n\n\ninstr    1 ; '2D' random Sample indexer\n\nilevl    = p4*32767 ; Level\niratex   = p5       ; X rate\niratey   = p6       ; Y rate\n\niseed    = rnd(1)                       ; Generate random seed value\nkrndx    randi  .5, iratex              ; X random index\nkrndy    randi  .5, iratey              ; Y random index\nax       table3  .5 + krndx, 1, 1, 0, 1 ; X indexing\nay       table3  .5 + krndy, 2, 1, 0, 1 ; Y indexing\nout      ax*ay*ilevl                    ; Output\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 524288 1 \"monks.1\" 0 4 0 ; X Sample1\nf2 0 65536 1 \"Marimba.aif\" 0 4 0 ; Y Sample1\n\n;   Strt  Leng  Levl  RateX RateY\ni1  0.00  8.00  1.00  0.75  1.11\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Bit depth reducer - \"Decimator\" using marimba physical model", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Decimator.orc and Decimator.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 1\n\n\ninstr    1 ; Bit depth reducer - \"Decimator\"\n\nibit1    = p4 ; Start bit depth (1 to 16)\nibit2    = p5 ; End bit depth (1 to 16)\n\nain      soundin  \"Marimba.aif\"\n\nkin      downsamp  ain                ; Convert to kr\nkin      = kin + 32768                ; Add DC to avoid (-)\nkbits    expon  ibit1, p3, ibit2      ; Generate curve\nkbits    = 2^kbits                    ; Calc divide factor\nkin      = kin*(kbits/65536)          ; Divide signal level\nkin      = int(kin)                   ; Quantise\naout     upsamp  kin                  ; Convert to sr\naout     = aout*(65536/kbits) - 32768 ; Scale and remove DC\nout      aout\n\nendin\n\n</CsInstruments>\n<CsScore>\n;   Strt  Leng  Bits1 Bits2\ni1  0.00  1.47  16    01\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Autopan with 'Random Triangle' LFO using panning and marimba physical model and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from RndTriPan.orc and RndTriPan.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 2\n\n\ninstr    1 ; Autopan with 'Random Triangle' LFO\n\nilevl    = p4      ; Output level\nkramp    init p5   ; Initial position (0=L 1=R)\nislope   = p6/kr   ; LFO rate\nirate    = p7      ; LFO reversing rate\n\nain      soundin  \"Marimba.aif\"\n\niseed    = rnd(1)\nkrnd     randi  1, irate, iseed\nif       krnd > 0 goto up\nkramp    = kramp + islope\ngoto     lfo\nup:\nkramp    = kramp - islope\ngoto     lfo\nlfo:\nklfo1    mirror  kramp, 0, 1\nklfo2    = 1 - klfo1\nouts1    ain*sqrt(klfo1)\nouts2    ain*sqrt(klfo2)\n\nendin\n\n\n</CsInstruments>\n<CsScore>\n;   Strt  Leng  Levl  Init  Rate  Reverse\ni1  0.00  1.47  1.00  0.50  10.0  17.2\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Raises Signal To nth Power. using marimba physical model and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Power.orc and Power.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Raises Signal To nth Power.\n\nipow1    = p4\nipow2    = p5\n\nk1       linseg  ipow1, p3, ipow2\nk2       pow  32767, k1, 32767\na1       soundin  \"Marimba.aif\"\na2       = a1/2 + 16384\na3       pow  a2, k1\nout      (a3/k2 - 16384)*2\n\nendin\n\n;\n\n</CsInstruments>\n<CsScore>\n;   Strt  Leng  Pow1  Pow2\ni1  0.00  1.47  5.00  0.20\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Polynominal function distortion using distortion effect and marimba physical model", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from PolyDistort.orc and PolyDistort.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Polynominal function distortion\n\nain      soundin  \"Marimba.aif\"\nain      = ain/32767         ; Scale input to +/-1\napoly    = ain - ain*ain*ain ; Polynominal function\n\nout      apoly*85196         ; Scale output\n\nendin\n\n</CsInstruments>\n<CsScore>\n;   Strt  Leng\ni1  0.00  1.47\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a cookfilter sound using filter processing and marimba physical model and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from CookFilter.orc and CookFilter.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; lowpass (+)Signal, highpass (-)Signal (Unusual distortion)\n\nilevl    = p4 ; Output level\nifreq    = p5 ; Crossover frequency in Hz\n\nain      soundin  \"Marimba.aif\"\n\naflt1    butterlp  ain, ifreq\naflt2    butterhp  ain, ifreq\n\napos     limit  aflt1, 0, 32768\naneg     limit  aflt2,-32768, 0\n\namix     = apos + aneg\n\nout      amix*ilevl\n  \nendin\n\n</CsInstruments>\n<CsScore>\n;     Strt  Leng  Levl  Freq(Hz)\ni1    0.00  1.47  1.00  1000\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Moog VCF With Envelope Follower. using filter processing and marimba physical model and Moog VCF filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from EnvFilter.orc and EnvFilter.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Moog VCF With Envelope Follower.\n\nilevl    = p4 ; Output level\nidepth   = p5 ; Sweep depth\nirez     = p6 ; Resonance\n\nain      soundin  \"Marimba.aif\"\na2       follow  ain, .025\na3       butterlp  a2, 25\navcf     moogvcf  ain, (a3/8)*idepth, irez, 32768\n\nout      avcf*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\n;   Strt  Leng  Levl  Depth Rez\ni1  0.00  1.47  1.00  1.00  0.91\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for inch      =         p4 using marimba physical model and delay effect and disk streaming", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from conv3.orc and conv3.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\ninch      =         p4\nirtime    =         p5\nidel1     =         (int(irtime*kr)+1)/kr*2\nasig      diskin    \"hellorcb.aif\", 1\nawet      convolve  asig, \"piano.con\"\nasig      delay     asig, idel1\n          out       asig+awet*.005\n          endin\n              \n          instr 2\ninch      =         p4\nirtime    =         p5\nidel1     =         (int(irtime*kr)+1)/kr*2\nasig      diskin    \"hellorcb.aif\", 1\nawet      convolve  asig, \"violin.con\"\nasig      delay     asig, idel1\n          out       asig+awet*.005\n          endin\n       \n          instr 3\ninch      =         p4\nirtime    =         p5\nidel1     =         (int(irtime*kr)+1)/kr*2\nasig      diskin    \"hellorcb.aif\", 1\nawet      convolve  asig, \"marimba.con\"\nasig      delay     asig, idel1\n          out       asig*.5+awet*.005\n          endin\n\n\n\n</CsInstruments>\n<CsScore>\n; SCORE\nf1 0 8192 10 1\n;   Sta  Dur   InCh  IRTime\ni1  0    4.1    1     1.05\ns\ni2  0   4.3     1     1.21\ns\ni3  0   4       1     1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Comparator (Input > 0) using marimba physical model", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Comparator.orc and Comparator.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 1\n\n\ninstr    1 ; Comparator (Input > 0)\n\nilevl    = p4\nibal     = p5\n\nain      soundin  \"Marimba.aif\"\n\nkin      downsamp  ain\nkcom     = (kin > 0 ? 32768 : -32768)\nacom     upsamp  kcom\nout      acom*ibal + ain*(1 - ibal)\n\nendin\n\ninstr    2 ; Comparator (Input1 > Input2)\n\nilevl    = p4\n\nain1     soundin  \"Marimba.aif\"\nain2     soundin  \"oboe.mf.C4B4.aiff\"\n\nkin1     downsamp  ain1\nkin2     downsamp  ain2\nkcom     = (kin1 > kin2 ? 32768 : -32768)\nacom     upsamp  kcom\nout      acom*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\n;Input > 0\n;   Strt  Leng  Levl  Mix(0=Input, 1=Output)\ni1  0.00  1.47  1.00  1.00\n\n;Input1 > Input2\n;   Strt  Leng  Levl\ni2  2.00  1.47  1.00\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Chorus with random direction triangle LFO using chorus effect and marimba physical model and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from RndTriChorus.orc and RndTriChorus.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 2\n\n\ninstr    1 ; Chorus with random direction triangle LFO\n\nilevl    = p4        ; Output level\nidelay   = p5/1000   ; Delay in ms\nidepth   = p6/1000   ; LFO depth in ms\nirate    = p7/kr/.25 ; LFO rate\nirev     = p8        ; LFO reversing rate\nimix     = p9        ; Mix: 0=Dry 1=Chorus\nimax     = idelay + idepth + .1\nkramp    init .5\n\nain      soundin  \"Marimba.aif\"\n\niseed    = rnd(1)\nkrnd     randi  1, irev, iseed\nif       krnd > 0 goto up\nkramp    = kramp + irate\ngoto     lfo\nup:\nkramp    = kramp - irate\ngoto     lfo\nlfo:\nklfo     mirror  kramp, 0, 1\nalfo1    upsamp  klfo\nalfo2    = 1 - alfo1\nachorus1 flanger  ain, alfo1*idepth + idelay, 0, imax\nachorus2 flanger  ain, alfo2*idepth + idelay, 0, imax\nouts1    (ain*imix + achorus1*(1 - imix))*ilevl\nouts2    (ain*imix + achorus2*(1 - imix))*ilevl\n\nendin\n\n\n</CsInstruments>\n<CsScore>\n;Delay and Depth in ms\n;Mix: 0=Dry 1=Chorus\n\n;   Strt  Leng  Levl  Delay Depth Rate  Rvrs  Mix\ni1  0.00  1.47  1.00  10.0  5.00  0.33  0.47  0.50\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for DUY 'Shape' ProToolsÂª plugin emulator using marimba physical model and compressor and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from DUYShape.orc and DUYShape.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; DUY 'Shape' ProToolsÂª plugin emulator\n\nilevl    = p4*32767 ; Output level\nicut1    = p5       ; Low/Mid crossover freq\nicut2    = p6       ; Mid/High crossover freq\nitabl1   = p7       ; Low waveshape table\nitabl2   = p8       ; Mid waveshape table\nitabl3   = p9       ; High waveshape table\n\nain      soundin  \"Marimba.aif\"\nain      = ain/65536\n\nalo      tone  ain, icut1\natm      tone  ain, icut2\namd      atone  atm, icut1\nahi      atone  ain, icut2\n\nalo      tablei  alo, itabl1, 1, .5\namd      tablei  amd, itabl2, 1, .5\nahi      tablei  ahi, itabl3, 1, .5\n\namix     = alo + amd + ahi\n\namix     dcblock  amix\n\nout      amix*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\nf01 0 1025 7 -1 1024 1                             ; No effect\nf02 0 1025 7 1 1024 -1                             ; Inverter\nf03 0 1025 7 0 512 0 512 1                         ; Pos 1/2 wave rectifier\nf04 0 1025 7 -1 512 0 512 0                        ; Neg 1/2 wave rectifier\nf05 0 1025 7 1 512 0 512 1                         ; Full wave rectifier\nf06 0 1025 -7 1 1024 1                             ; + DC offset\nf07 0 1025 -7 -1 1024 -1                           ; - DC offset\nf08 0 1025 -7 -1 512 0 256 .5 256 .5               ; Unipolar clipping distortion\nf09 0 1025 7  0 512 1 0 -1 512 0                   ; 2's complement distortion\nf10 0 1025 17 0 0 205 1 410 2 615 3 820 4          ; 5 Step staircase\nf11 0 1025 17 0 0 128 1 256 2 384 3 512 4 640 5 768 6 896 7 ; 8 Step staircase\nf12 0 1025 8 -1 12 -.99 1000 .99 12 1              ; Gentle distortion\nf13 0 1025 8 -1 256 -.55 256 0 256 .45 256 1       ; Valve distortion\nf14 0 1025 13 1 1 0 2 2 1                          ; Nice Distortion\nf15 0 1025 13 1 1 0 10 .1                          ; Slight 2nd harmonic\nf16 0 1025 7 -1 384 0 256 0 384 1                  ; Crossover distortion\nf17 0 1025 -7 -.5 256 -.5 512 .5 256 .5            ; Hard clipping distortion\nf18 0 1025 7 -1 500 0 6 -1 12 1 6 0 500 1          ; Zero crossing spike\nf19 0 1025 7 -1 512 0 100 .2 2 0 410 1             ; Linear discontinuous\nf20 0 1025 7 -1 128 -.75 0 0 256 0 0 -.25 256 .25 0 0 256 0 0 .75 128 1 ; Holes\nf21 0 1025 7 0 64 1 128 -1 128 1 128 -1 128 1 128 -1 128 1 128 -1 64 0 ; 4 Triangles\nf22 0 1025 9 .5 1 270                              ; Sine curve\nf23 0 1025 5 .001 1024 1                           ; Exponential curve (unipolar)\nf24 0 1025 8 -1 256 -.8 256 0 256 .8 256 1         ; Rough compress\nf25 0 1025 13 1 1 0 1 1                            ; 2nd harmonic\nf26 0 1025 13 1 1 0 1 1 1                          ; 2nd & 3rd harmonics\nf27 0 1025 13 1 1 0 1 0 1                          ; 3rd harmonic\nf28 0 1025 13 1 1 0 1 0 0 1                        ; 4th harmonic\nf29 0 1025 13 1 1 0 1 0 0 0 1                      ; 5th harmonic\nf30 0 1025 13 1 1 0 1 0 0 0 0 1                    ; 6th harmonic\nf31 0 1025 13 1 1 0 1 0 0 0 0 0 1                  ; 7th harmonic\nf32 0 1025 13 1 1 0 1 0 0 0 0 0 0 1                ; 8th harmonic\nf33 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 1              ; 9th harmonic\nf34 0 1025 13 1 1 0 0 1 0 1 0 1 0 1 0 1 0 1 0 1    ; Even harmonics\nf35 0 1025 13 1 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1      ; Odd harmonics\nf36 0 1025 13 1 1 0 1 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1; High harmonics\nf37 0 1025 13 1 1 0 1 0 1 0 0 1 0 0 0 1 0 1        ; Random harmonics\nf38 0 1025 10 0 1                                  ; 2 sines\nf39 0 1025 10 0 0 1                                ; 3 sines\nf40 0 1025 10 0 0 0 1                              ; 4 sines\nf41 0 1025 10 0 0 0 0 1                            ; 5 sines\nf42 0 1025 10 0 0 0 0 0 1                          ; 6 sines\nf43 0 1025 10 0 0 0 0 0 0 1                        ; 7 sines\nf44 0 1025 10 0 0 0 0 0 0 0 1                      ; 8 sines\nf45 0 1025 10 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1      ; 16 sines\nf46 0 1025 7 -1 512 -1 0 1 512 1                   ; 1-Bit D/A\nf47 0 1025 21 2                                    ; Linear Noise\nf48 0 1025 21 1                                    ; White Noise\n\n\n;     Strt  Leng  Levl  LoFrq HiFrq Tabl1 Tabl2 Tabl3\ni1    0.00  1.47  1.00  250   5000  26    02    05\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Gate - passes louder input using marimba physical model", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from PriorityGate.orc and PriorityGate.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 1\n\n\ninstr    1 ; Gate - passes louder input\n\nilevl    = p4\n\nain1     soundin  \"Marimba.aif\"\nain2     soundin  \"sing.aif\"\n\nkin1     downsamp  ain1\nkin2     downsamp  ain2\nkpos1    limit  kin1, 0, 32768\nkneg1    limit  kin1,-32768, 0\nkpos2    limit  kin2, 0, 32768\nkneg2    limit  kin2,-32768, 0\nkgate1   = (kpos1 > kpos2 ? kpos1 : kpos2)\nkgate2   = (kneg1 < kneg2 ? kneg1 : kneg2)\nkgate    = kgate1 + kgate2\nagate    upsamp  kgate\nout      agate*ilevl\n\nendin\n\ninstr    2 ; Gate - passes quieter input\n\nilevl    = p4\n\nain1     soundin  \"Marimba.aif\"\nain2     soundin  \"sing.aif\"\n\nkin1     downsamp  ain1\nkin2     downsamp  ain2\nkpos1    limit  kin1, 0, 32768\nkneg1    limit  kin1,-32768, 0\nkpos2    limit  kin2, 0, 32768\nkneg2    limit  kin2,-32768, 0\nkgate1   = (kpos1 < kpos2 ? kpos1 : kpos2)\nkgate2   = (kneg1 > kneg2 ? kneg1 : kneg2)\nkgate    = kgate1 + kgate2\nagate    upsamp  kgate\nout      agate*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\n;Passes loudest input\n\n;   Strt  Leng  Levl\ni1  0.00  1.47  1.00\n\n;Passes quietest input\n\n;   Strt  Leng  Levl\ni2  2.00  1.47  1.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a filterbank sound using filter processing and marimba physical model and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FilterBank.orc and FilterBank.sco\n; Original files preserved in same directory\n\nsr      = 44100\nkr      = 4410\nksmps   = 10\nnchnls  = 1\n\n \ninstr     1 ; 'Reson' filter bank - Based on the 'FilterBank' plug-in by\n; Michael Norris for SoundEffects/SoundMaker.\n \nilevl     = p4/1000                       ; Output level (roughly scaled)\nipitch1   = (p5 < 20 ? cpspch(p5) : p5)   ; Filter 1 freq\nipitch2   = (p6 < 20 ? cpspch(p6) : p6)   ; Filter 2 freq\nipitch3   = (p7 < 20 ? cpspch(p7) : p7)   ; Filter 3 freq\nipitch4   = (p8 < 20 ? cpspch(p8) : p8)   ; Filter 4 freq\nipitch5   = (p9 < 20 ? cpspch(p9) : p9)   ; Filter 5 freq\nipitch6   = (p10 < 20 ? cpspch(p10): p10) ; Filter 6 freq\niband     = p11                           ; Filter bandwidth\n\nain       soundin  \"Marimba.aif\"\nares1     reson  ain, ipitch1, iband\nares2     reson  ain, ipitch2, iband\nares3     reson  ain, ipitch3, iband\nares4     reson  ain, ipitch4, iband\nares5     reson  ain, ipitch5, iband\nares6     reson  ain, ipitch6, iband\naout      = ares1 + ares2 + ares3 + ares4 + ares5 + ares6\n\nout       aout*ilevl       \n\nendin\n\n</CsInstruments>\n<CsScore>\n;Pitches >10.00=Hz, >10.00=cpspch\n\n;   Strt  Leng  Levl  Ptch1 Ptch2 Ptch3 Ptch4 Ptch5 Ptch6 Bandwidth\ni1  0.00  1.47  0.18  220   342   489   568   610   720   10 ; Large tube\ni1  2.00  .     11.0  2000  2840  4290  5833  8256  13500 20 ; Ceramic plate\ni1  4.00  .     50.0  8000  9500  10000 12000 14000 14800 20 ; Small bell\ni1  6.00  .     0.15  68    1268  2866  3384  4500  9056  20 ; Large bell\ni1  8.00  .     0.45  08.00 08.07 09.00 09.03 09.07 10.00 20 ; C minor\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Waveshape Distortion Animator using marimba physical model and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Animator.orc and Animator.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Waveshape Distortion Animator\n\nilevl    = p4*4096                  ; Output level\nidepth   = p5                       ; Modulation depth\n\nain      soundin  \"Marimba.aif\"\n\nain      = ain/4096                 ; Scale input\niseed    = rnd(1)                   ; Generate seed value\na01      limit  ain, -8, -7         ; Isolate  1st 16th of input\na02      limit  ain, -7, -6         ; Isolate  2nd 16th of input\na03      limit  ain, -6, -5         ; Isolate  3rd 16th of input\na04      limit  ain, -5, -4         ; Isolate  4th 16th of input\na05      limit  ain, -4, -3         ; Isolate  5th 16th of input\na06      limit  ain, -3, -2         ; Isolate  6th 16th of input\na07      limit  ain, -2, -1         ; Isolate  7th 16th of input\na08      limit  ain, -1,  0         ; Isolate  8th 16th of input\na09      limit  ain,  0,  1         ; Isolate  9th 16th of input\na10      limit  ain,  1,  2         ; Isolate 10th 16th of input\na11      limit  ain,  2,  3         ; Isolate 11th 16th of input\na12      limit  ain,  3,  4         ; Isolate 12th 16th of input\na13      limit  ain,  4,  5         ; Isolate 13th 16th of input\na14      limit  ain,  5,  6         ; Isolate 14th 16th of input\na15      limit  ain,  6,  7         ; Isolate 15th 16th of input\na16      limit  ain,  7,  8         ; Isolate 16th 16th of input\nk01      randi  idepth, 3.00, iseed ; Generate random modulation\nk02      randi  idepth, 3.70, iseed ; Generate random modulation\nk03      randi  idepth, 4.21, iseed ; Generate random modulation\nk04      randi  idepth, 5.21, iseed ; Generate random modulation\nk05      randi  idepth, 3.55, iseed ; Generate random modulation\nk06      randi  idepth, 4.71, iseed ; Generate random modulation\nk07      randi  idepth, 4.44, iseed ; Generate random modulation\nk08      randi  idepth, 8.07, iseed ; Generate random modulation\nk09      randi  idepth, 5.01, iseed ; Generate random modulation\nk10      randi  idepth, 7.70, iseed ; Generate random modulation\nk11      randi  idepth, 5.55, iseed ; Generate random modulation\nk12      randi  idepth, 6.75, iseed ; Generate random modulation\nk13      randi  idepth, 8.33, iseed ; Generate random modulation\nk14      randi  idepth, 7.11, iseed ; Generate random modulation\nk15      randi  idepth, 2.88, iseed ; Generate random modulation\nk16      randi  idepth, 6.66, iseed ; Generate random modulation\nkpos     = 8/(k01 + k02 + k03 + k04 + k05 + k06 + k07 + k08 + 8*idepth)\nkneg     = 8/(k09 + k10 + k11 + k12 + k13 + k14 + k15 + k16 + 8*idepth)\na01      = (a01 + 7)*(k01 + idepth) ; Remove offset and modulate\na02      = (a02 + 6)*(k02 + idepth) ; Remove offset and modulate\na03      = (a03 + 5)*(k03 + idepth) ; Remove offset and modulate\na04      = (a04 + 4)*(k04 + idepth) ; Remove offset and modulate\na05      = (a05 + 3)*(k05 + idepth) ; Remove offset and modulate\na06      = (a06 + 2)*(k06 + idepth) ; Remove offset and modulate\na07      = (a07 + 1)*(k07 + idepth) ; Remove offset and modulate\na08      = a08*(k08 + idepth)       ; Modulate\na09      = a09*(k09 + idepth)       ; Modulate\na10      = (a10 - 1)*(k10 + idepth) ; Remove offset and modulate\na11      = (a11 - 2)*(k11 + idepth) ; Remove offset and modulate\na12      = (a12 - 3)*(k12 + idepth) ; Remove offset and modulate\na13      = (a13 - 4)*(k13 + idepth) ; Remove offset and modulate\na14      = (a14 - 5)*(k14 + idepth) ; Remove offset and modulate\na15      = (a15 - 6)*(k15 + idepth) ; Remove offset and modulate\na16      = (a16 - 7)*(k16 + idepth) ; Remove offset and modulate\napos     = (a01 + a02 + a03 + a04 + a05 + a06 + a07 + a08)*kpos\naneg     = (a09 + a10 + a11 + a12 + a13 + a14 + a15 + a16)*kneg\nout      (apos + aneg)*ilevl        ; Sum, level and output\n\nendin\n\n</CsInstruments>\n<CsScore>\n;   Strt  Leng  Levl\ni1  0.00  1.47  1.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a waysplicer sound using marimba physical model", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 2WaySplicer.orc and 2WaySplicer.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 1\n\n\ninstr    1 ; 2-Way Splicer: Switches between inputs when at similar level\n\nilevl    = p4                        ; Output level\nirange   = (2^p5)/65536              ; Similarity needed to splice: 1 to 16 bits\nkcount   init 0\nkgate1   init 1\nkgate2   init 0\n\nain1     soundin  \"Marimba.aif\"\nain2     soundin  \"oboe.mf.C4B4.aiff\"\n\nkin1     downsamp  ain1              ; Convert to kr\nkin2     downsamp  ain2              ; Convert to kr\nkin1     = int(kin1*irange)          ; Quantise\nkin2     = int(kin2*irange)          ; Quantise\nif       kcount = 1 goto 2           ; Flip count\nif       kcount = 2 goto 1           ; Flip count\n1:\nif       kin1 != kin2 goto out       ; If unequal, skip to output\nkgate1   = 0\nkgate2   = 1\nkcount   = 1\ngoto     out\n2:\nif       kin2 != kin1 goto out       ; If unequal, skip to output\nkgate1   = 1\nkgate2   = 0\nkcount   = 2\nout:                                 ; Output section\naout1    = ain1*kgate1 + ain2*kgate2 ; Gate input signals to splice\nout      aout1*ilevl                  ; Output and level\n\nendin\n\n</CsInstruments>\n<CsScore>\n;   Strt  Leng  Levl  Range: 1 to 16 bits\ni1  0.00  1.47  1.00  08\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for MN3011 BBD Reverb using echo effect and marimba physical model and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from AnalogEcho.orc and AnalogEcho.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 1\n\n\ninstr    1 ; MN3011 BBD Reverb\n\nilevl    = p4   ; Output level\nidelay   = p5/4 ; Delay factor\nifdbk    = p6   ; Feedback\niecho    = p7   ; Reverb amount\n\nafdbk    init 0\n\nain      soundin  \"Marimba.aif\"\n\nain      = ain + afdbk*ifdbk\n\natemp    delayr  1\natap1    deltapi .0396*idelay\natap2    deltapi .0662*idelay\natap3    deltapi .1194*idelay\natap4    deltapi .1726*idelay\natap5    deltapi .2790*idelay\natap6    deltapi .3328*idelay\n         delayw  ain\n\nafdbk    butterlp  atap6, 7000\nabbd     sum  atap1, atap2, atap3, atap4, atap5, atap6\n\nabbd     butterlp  abbd, 7000\n\nout      (ain + abbd*iecho)*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\n;     Strt  Leng  Levl  Delay Fdbk  Reverb\ni1    0.00  4.00  1.00  2.00  0.25  0.25\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Test Tone Generator using test/demonstration and modal synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Test.orc and Test.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 44100\nksmps    = 1\nnchnls   = 1\n\n\ninstr    1 ; Test Tone Generator\n\nilevl1   = ampdb(90 + p4) ; Level start (dB: 0dB=Peak)\nilevl2   = ampdb(90 + p5) ; Level end (dB: 0dB=Peak)\nifreq1   = p6             ; Frequency sweep start\nifreq2   = p7             ; Frequency sweep end\nimode    = p8             ; Sweep mode: 0=Exp 1=Lin\niwave    = p9             ; Waveform\n\nalevl    line  ilevl1, p3, ilevl2\naexp     expon  ifreq1, p3, ifreq2\nalin     line   ifreq1, p3, ifreq2\nasweep   = (imode > 0 ? alin : aexp)\naosc     oscil3  alevl, asweep, iwave\nout      aosc\n\nendin\n\n</CsInstruments>\n<CsScore>\nf01 0 8193 10 1                      ; Sine\nf02 0 8193 7 0 2048 1 4096 -1 2048 0 ; Triangle\nf03 0 257 7 1 128 1 0 -1 128 -1      ; Square\n\n;Level: 0dB=Maximum\n;Mode: 0=Exp 1=Lin\n\n;     Strt  Leng  Levl1 Levl2 Freq1 Freq2 Mode  Wave\ni01   0.00  1.50  0    -90    440   440   0     1\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for PARAMETRIC EQUALIZER OPCODE using modal synthesis and parametric equalizer and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pareq.orc and pareq.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n; ORCHESTRA:\n;----------------------------------------------------------------\n; PARAMETRIC EQUALIZER OPCODE\n;----------------------------------------------------------------\n\n          instr     15\n\nifc       =         p4            ; CENTER / SHELF\niq        =         p5            ; QUALITY FACTOR SQRT(.5) IS NO RESONANCE\niv        =         ampdb(p6)     ; VOLUME BOOST/CUT\nimode     =         p7            ; MODE 0=PEAKING EQ, 1=LOW SHELF, 2=HIGH SHELF\n\nkfc       linseg    ifc*2, p3, ifc/2\n\nasig      rand      5000                          ; RANDOM NUMBER SOURCE FOR TESTING\naout      pareq     asig, kfc, iv, iq, imode      ; PARMETRIC EQUALIZATION\n          outs      aout, aout                    ; OUTPUT THE RESULTS\n\n          endin\n\n</CsInstruments>\n<CsScore>\n\n\n; SCORE:\n;   STA  DUR  FCENTER  Q           BOOST/CUT(DB)  MODE\ni15 0    1    10000     .2          12             1\n;i15 +    .    5000    .2          12             1\n;i15 .    .    1000    .707       -12             2\n;i15 .    .    5000    .1         -12             0\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifc\t   \t=\t    \tp4\t\t    \t\t\t; CENTER / SHELF using modal synthesis and parametric equalizer and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from eq1.orc and eq1.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n;----------------------------------------------------------------\n; BIQUADRATIC EQUALIZER FILTER\n; CODED BY HANS MIKELSON NOVEMBER 1998\n;----------------------------------------------------------------\n\n;----------------------------------------------------------------\n; PARAMETRIC EQUALIZER OPCODE\n;----------------------------------------------------------------\n\t   \tinstr 15\n\t\t\t\t\t\t\t\t\t\nifc\t   \t=\t    \tp4\t\t    \t\t\t; CENTER / SHELF\niq\t   \t=\t    \tp5\t\t    \t\t\t; QUALITY FACTOR SQRT(.5) IS MAXIMUM SLOPE WITH NO RESONANCE PEAK FOR SHELF\niv\t   \t=\t    \tampdb(p6)\t    \t\t\t; GAIN/CUT IN dB\nimode   \t=\t    \tp7\n\nkfc\t   \tlinseg\tifc*2, p3, ifc/2\n\nasig\t   \trand  \t5000\t\t\t\t    \t; RANDOM NUMBER SOURCE FOR TESTING\n\naout\t   \tpareq \tasig, kfc, iv, iq, imode\n\t   \touts  \taout, aout\t\t\t; OUTPUT THE RESULTS\n\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n;   Sta  Dur  Fcenter  Q           Boost/Cut(dB)  Mode\ni15 0    1    10000     .2          12             1\n;i15 +    .    5000    .2          12             1\n;i15 .    .    1000    .707       -12             2\n;i15 .    .    5000    .1         -12             0\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Sine/Triangle/Square Sweep Oscillator using test/demonstration and modal synthesis and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from TestTone.orc and TestTone.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 1\n\n\ninstr    1 ; Sine/Triangle/Square Sweep Oscillator\n\nilevl    = ampdb(90 + p4) ; Level in dB (0dB = Peak-.3dB)\nifreq1   = p5             ; Sweep start\nifreq2   = p6             ; Sweep end\nimode    = p7             ; Sweep mode: 0=Exp, 1=Lin\niwave    = p8             ; Waveform\n\nif       imode = 1 goto lin\nasweep   expseg  ifreq1, p3, ifreq2\ngoto     osc\nlin:\nasweep   linseg  ifreq1, p3, ifreq2\ngoto     osc\nosc:\naosc     oscil3  ilevl, asweep, iwave\nout      aosc\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 10 1                      ; Sine\nf2 0 8193 7 0 2048 1 4096 -1 2048 0 ; Triangle\nf3 0 257 7 1 128 1 0 -1 128 -1      ; Square\n\n;0dB=Maximum Level\n;Sweep: 0=Exp 1=Lin\n\n;     Strt  Leng  dB    Freq1 Freq2 Sweep Wave\ni1    0.00  1.00  0     20    20000 0     1\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Ping-Pong Delay using modal synthesis and marimba physical model and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from PingPong.orc and PingPong.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 44100\nksmps    = 1\nnchnls   = 2\n\n\ninstr    1 ; Ping-Pong Delay\n\nilevl    = p4                            ; Output level\nidelay   = p5/1000                       ; Delay in ms\nifreq    = p6                            ; Cutoff frequency\nifdbk    = p7                            ; Feedback\nimode    = p8                            ; Mode: 0=Normal 1=Scaled\ni1st     = p9                            ; 1st Echo: 0=L 1=R\nimix1    = p10                           ; Mix: 0=Dry 1=PingPong\nimix2    = 1 - imix1                     ; Inverse mix\nafdbk    init 0                          ; Initialize feedback\n\nain      soundin  \"Marimba.aif\"\n\nadel0    = ain + afdbk                   ; Add feedback\nadel1    delay  adel0, idelay            ; 1st delay\nadel1    tone  adel1, ifreq              ; Lowpass filter\nadel1s   = adel1*ifdbk                   ; Create scaled output\nadel1    = (imode = 0 ? adel1 : adel1s)  ; Select normal or scaled\nadel2    delay  adel1, idelay            ; 2nd delay\nadel2    tone  adel2, ifreq              ; Lowpass filter\nadel2s   = adel2*ifdbk                   ; Create scaled output\nadel2    = (imode = 0 ? adel2 : adel2s)  ; Select normal or scaled\nafdbk    = adel2                         ; Feedback 2nd delay\nadel1    = (i1st = 0 ? adel1 : adel2)    ; Select 1st echo: L or R\nadel2    = (i1st = 0 ? adel2 : adel1)    ; Select 1st echo: R or L\nouts1    (ain*imix1 + adel1*imix2)*ilevl ; Level, mix and output\nouts2    (ain*imix1 + adel2*imix2)*ilevl ; Level, mix and output\n\nendin\n\n</CsInstruments>\n<CsScore>\n;Mode: 0=Normal 1=1st echos decay\n;1st: 0=L 1=R\n;Delay in ms\n;Freq in Hz\n\n;   Strt  Leng  Levl  Delay Freq  Fdbk  Mode  1st   Mix\ni1  0.00  4.00  1.00  750   7500  0.50  1     1     0.50\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for INITIALIZATION. using plucked string and modal synthesis and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from JSpluck.orc and JSpluck.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n;****************************** ORCHESTRA **********************************\n; EXAMPLE 2: JAFFE-SMITH ALGORITHM.\n; DAMIAN KELLER. MAY 1997.\n; KARPLUS-STRONG IMPLEMENTED WITH A TABLE LOOKUP PROCEDURE.\n; A TABLE IS READ AND WRITTEN UNTIL THE INSTRUMENT STOPS.\n; PITCH AND DECAY CONTROLLED INDEPENDENTLY. ALLPASS FILTER.\n\n\ninstr 1\n\n; INITIALIZATION.\n     ilength   =         40        ; LENGTH OF DELAY LINE: PITCH.\n     adecay    =         .3        ; COEFICIENT OF ALLPASS FILTER: DECAY. (.9 TO .01)\n                                   ; SMALL VALUES FOR LONGER DECAY.   \n\n; INDEXING.\n     aindex0   phasor    ilength\n     aindex    =         aindex0 * ftlen(1)       ; INDEX TO READ TABLE.\n     a1        tablei    (aindex), 1              ; PREVIOUS SAMPLE.\n          \n     aindex1   =         aindex + 1     \n     a2        tablei    (aindex1), 1             ; PRESENT SAMPLE.\n          \n; ALLPASS FILTER.        \n     a3        =         (adecay * a1 + a2)       ; ALLPASS FILTER, ADECAY CONTROLS DECAY.\n     a4        =         a3 - (adecay * a3)\n          \n; WRITING TABLE: FT1 WRITTEN TO FT1, GUARD POINT MODE.\n               tablew    a4, aindex, 1, 0, 0, 2\n               \n               out       a4 \nendin\n\n</CsInstruments>\n<CsScore>\n;***************************** SCORE *************************************** \n; A TABLE IS INITIALIZED TO RANDOM VALUES.\n\n;   length  Gen21 white noise   amplitude\nf1  0 513    -21        1       32000   \n\n;inst   st  duration\ni1      0   10  \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for 2 Waveshapers in series with pre-gain using waveshaping and modal synthesis and clipping/distortion", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from WaveShaper1.orc and WaveShaper1.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; 2 Waveshapers in series with pre-gain\n\nigain1   = p4        ; Pre-gain 1\nitabl1   = p5        ; Table 1\nitabl2   = p6        ; Table 2\nimix1    = p7        ; Mix of tables 1 and 2\nigain2   = p8        ; Pre-gain 2\nitabl3   = p9        ; Table 3\nitabl4   = p10       ; Table 4\nimix2    = p11       ; Mix of tables 3 and 4\nimode    = p12       ; Mode: 0=Clip 1=Wrap\nigain3   = p13*32767 ; Post gain\n\nain      soundin  \"Sample1\"\n\nain      = ain*igain1\n         tableimix  100, 0, 1024, itabl1, 0, (1 - imix1), itabl2, 0, imix1\n         tableimix  101, 0, 1024, itabl3, 0, (1 - imix2), itabl4, 0, imix2\n         tablegpw  100\n         tablegpw  101\nawav1    tablei  ain/65535, 100, 1, .5, imode\nawav2    tablei  (awav1/2)*igain2, 101, 1, .5, imode\nout      awav2*igain3\n\nendin\n\n</CsInstruments>\n<CsScore>\nf01 0 1025 7 -1 1024 1                             ; No effect\nf02 0 1025 7 1 1024 -1                             ; Inverter\nf03 0 1025 7 0 512 0 512 1                         ; + 1/2 wave rectifier\nf04 0 1025 7 -1 512 0 512 0                        ; - 1/2 wave rectifier\nf05 0 1025 7 1 512 0 512 1                         ; Full wave rectifier\nf06 0 1025 -7 1 1024 1                             ; + DC offset\nf07 0 1025 -7 -1 1024 -1                           ; - DC offset\nf08 0 1025 -7 -1 512 0 256 .5 256 .5               ; Unipolar clipping distortion\nf09 0 1025 7  0 512 1 0 -1 512 0                   ; 2's complement distortion\nf10 0 1025 17 0 0 205 1 410 2 615 3 820 4          ; 5 Step staircase\nf11 0 1025 17 0 0 128 1 256 2 384 3 512 4 640 5 768 6 896 7 ; 8 Step staircase\nf12 0 1025 8 -1 12 -.99 1000 .99 12 1              ; Gentle distortion\nf13 0 1025 8 -1 256 -.55 256 0 256 .45 256 1       ; Valve distortion\nf14 0 1025 13 1 1 0 2 2 1                          ; Nice Distortion\nf15 0 1025 13 1 1 0 10 .1                          ; Slight 2nd harmonic\nf16 0 1025 7 -1 384 0 256 0 384 1                  ; Crossover distortion\nf17 0 1025 -7 -.5 256 -.5 512 .5 256 .5            ; Hard clipping distortion\nf18 0 1025 7 -1 500 0 6 -1 12 1 6 0 500 1          ; Zero crossing spike\nf19 0 1025 7 -1 512 0 100 .2 2 0 410 1             ; Linear discontinuous\nf20 0 1025 7 -1 128 -.75 0 0 256 0 0 -.25 256 .25 0 0 256 0 0 .75 128 1 ; Holes\nf21 0 1025 7 0 64 1 128 -1 128 1 128 -1 128 1 128 -1 128 1 128 -1 64 0 ; 4 Triangles\nf22 0 1025 9 .5 1 270                              ; Sine curve\nf23 0 1025 5 .001 1024 1                           ; Exponential curve (unipolar)\nf24 0 1025 8 -1 256 -.8 256 0 256 .8 256 1         ; Rough compress\nf25 0 1025 13 1 1 0 8 1                            ; 2nd harmonic\nf26 0 1025 13 1 1 0 8 1 1                          ; 2nd & 3rd harmonics\nf27 0 1025 13 1 1 0 8 0 1                          ; 3rd harmonic\nf28 0 1025 13 1 1 0 8 0 0 1                        ; 4th harmonic\nf29 0 1025 13 1 1 0 8 0 0 0 1                      ; 5th harmonic\nf30 0 1025 13 1 1 0 8 0 0 0 0 1                    ; 6th harmonic\nf31 0 1025 13 1 1 0 8 0 0 0 0 0 1                  ; 7th harmonic\nf32 0 1025 13 1 1 0 8 0 0 0 0 0 0 1                ; 8th harmonic\nf33 0 1025 13 1 1 0 8 0 0 0 0 0 0 0 1              ; 9th harmonic\nf34 0 1025 13 1 1 0 0 1 0 1 0 1 0 1 0 1 0 1 0 1    ; Even harmonics\nf35 0 1025 13 1 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1      ; Odd harmonics\nf36 0 1025 13 1 1 0 8 0 0 0 0 0 0 0 1 0 1 3 2 7 1 5; High harmonics\nf37 0 1025 13 1 1 0 8 0 2 0 3 -1 .1 0 .5 -2 0 -1   ; Random harmonics\nf38 0 1025 10 0 1                                  ; 2 sines\nf39 0 1025 10 0 0 1                                ; 3 sines\nf40 0 1025 10 0 0 0 1                              ; 4 sines\nf41 0 1025 10 0 0 0 0 1                            ; 5 sines\nf42 0 1025 10 0 0 0 0 0 1                          ; 6 sines\nf43 0 1025 10 0 0 0 0 0 0 1                        ; 7 sines\nf44 0 1025 10 0 0 0 0 0 0 0 1                      ; 8 sines\nf45 0 1025 10 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1      ; 16 sines\nf46 0 1025 7 -1 512 -1 0 1 512 1                   ; 1-Bit DAC\nf47 0 1025 21 2                                    ; Linear Noise\nf48 0 1025 21 1                                    ; White Noise\nf49 0 1025 -7 -1 512 0 512 .5                      ; Partial 1/2 wave rectifier\nf50 0 1025 7 -1 256 0 768 1                        ; Assymmetrical\n\n\nf100 0 1025 2 0                                    ; Mix 1 destination table\nf101 0 1025 2 0                                    ; Mix 2 destination table\n\n\n;               --------Curve1--------  --------Curve2--------\n;   Strt  Leng  Pre1  Tabl1 Tabl2 Bal1  Pre2  Tabl1 Tabl2 Bal2  Mode  Post\ni1  0.00  1.47  1.10  22    17    0.50  1.10  22    37    0.05  0     1.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a kspluck sound using plucked string and modal synthesis and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from KSpluck.orc and KSpluck.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n;****************************** ORCHESTRA **********************************\n\n; EXAMPLE 1: KARPLUS-STRONG ALGORITHM.\n; DAMIAN KELLER. MAY 1997.\n; KARPLUS-STRONG IMPLEMENTED WITH A TABLE LOOKUP PROCEDURE.\n; A TABLE IS READ AND WRITTEN UNTIL THE INSTRUMENT STOPS.\n; LENGTH OF TABLE DETERMINES NOISINESS.\n\n\ninstr 1\n     ilength   =         40                       ; LENGTH OF DELAY LINE: PITCH.\n          \n; INDEXING.\n     aindex0   phasor    ilength\n     aindex    =         aindex0 * ftlen(1)       ; INDEX TO READ TABLE.\n     a1        tablei    (aindex), 1              ; PREVIOUS SAMPLE.\n          \n     aindex1   =         aindex + 1     \n     a2        tablei    (aindex1), 1             ; PRESENT SAMPLE.\n          \n; filter.\n     a4        =         (a1 + a2)/2              ; LOWPASS FILTER.\n          \n; WRITING TABLE: FT1 WRITTEN TO FT1, GUARD POINT MODE.           \n               tablew    a4, aindex, 1, 0, 0, 2\n          \n               out       a4 \nendin\n\n</CsInstruments>\n<CsScore>\n;***************************** SCORE *************************************** \n; A TABLE IS INITIALIZED TO RANDOM VALUES.\n\n;   length  Gen21 white noise   amplitude\nf1  0 513    -21        1       32000   \n\n;inst   st  duration\ni1      0   10  \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Limit / Mirror / Wrap using modal synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from NonLinear.orc and NonLinear.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Limit / Mirror / Wrap\n\nigain1   = p4       ; Gain start\nigain2   = p5       ; Gain end\nilevl1   = p6*32768 ; +Level\nilevl2   = p7*32768 ; -Level\nimode    = p8       ; 1=Limit, 2=Mirror, 3=Wrap\n\nkgain    line  igain1, p3, igain2\n\nain      soundin  \"AllOfMe.aif\"\nain      = ain*kgain\n\nif       imode = 1 goto limit\nif       imode = 2 goto mirror\n\na1       wrap  ain, ilevl2, ilevl1\ngoto     out\n\nlimit:\na1       limit  ain, ilevl2, ilevl1\ngoto     out\n\nmirror:\na1       mirror  ain, ilevl2, ilevl1\nout:\n\nout      a1\n  \nendin\n\n</CsInstruments>\n<CsScore>\n;Mode: 1=Limit 2=Mirror 3=Wrap\n;Gain1=Start\n;Gain2=End\n\n;   Strt  Leng  Gain1 Gain2 +Levl -Levl  Mode\ni1  0.00  1.47  4.00  1.00  0.25  -1.00  2\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iftnum\t=  int(p4+100.5)\t/* ftable number\t\t\t*/ using stereo processing and modal synthesis and parametric equalizer", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from mixer-10_stereo.orc and mixer-10_stereo.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n\n\n/* ------------- mixer v1.2 orchestra file (stereo version) ---------------- */\n\nsr\t=  44100\nkr\t=  1378.125\nksmps\t=  32\nnchnls\t=  2\n\n/* ------------------------------------------------------------------------- */\n\ngaxL\tinit 0\ngaxR\tinit 0\n\n\tinstr 1\n\niftnum\t=  int(p4+100.5)\t/* ftable number\t\t\t*/\nivol2\t=  p5\t\t\t/* note amplitude\t\t\t*/\nipnum\t=  int(p6+0.5)\t\t/* part number\t\t\t\t*/\n\n/* ------------------------------------------------------------------------- */\n\nivol\ttable  0, iftnum\t/* volume\t\t\t\t*/\niskptim\ttable  1, iftnum\t/* skip time\t\t\t\t*/\nidloffs\ttable  2, iftnum\t/* delay offset\t\t\t\t*/\n\niEQx\ttable  3, iftnum\t/* EQ enable/disable\t\t\t*/\niEQ1f\ttable  4, iftnum\t/* EQ 1 frequency\t\t\t*/\niEQ1l\ttable  5, iftnum\t/* EQ 1 level\t\t\t\t*/\niEQ1q\ttable  6, iftnum\t/* EQ 1 Q\t\t\t\t*/\niEQ1m\ttable  7, iftnum\t/* EQ 1 mode\t\t\t\t*/\niEQ2f\ttable  8, iftnum\t/* EQ 2 frequency\t\t\t*/\niEQ2l\ttable  9, iftnum\t/* EQ 2 level\t\t\t\t*/\niEQ2q\ttable 10, iftnum\t/* EQ 2 Q\t\t\t\t*/\niEQ2m\ttable 11, iftnum\t/* EQ 2 mode\t\t\t\t*/\n\niflnum\ttable int(12.5+ipnum), iftnum\t/* file number\t\t\t*/\n\nilnth\ttable  1, 1\t\t/* output file length\t\t\t*/\nidelx\ttable  2, 1\t\t/* output file delay\t\t\t*/\n\n/* ------------------------------------------------------------------------- */\n\nivol\t=  ivol * ivol2\n\niEQ1m\t=  int(iEQ1m+0.5)\niEQ2m\t=  int(iEQ2m+0.5)\n\niflnum\t=  int(iflnum+0.5)\n\nidel\t=  idelx - idloffs\t\t\t/* delay time\t\t*/\niflen\tfilelen iflnum\np3\t=  idel + (iflen - iskptim) + 0.1\t/* note length\t\t*/\ni_time\ttimes\ni_time\t=  ((p3 + i_time) > ilnth ? (ilnth - i_time) : p3)\ni_time\tlimit i_time, 1.0, 3600.0\np3\t=  i_time\n\n/* ------------------------------------------------------------------------- */\n\naL, aR\tsoundin iflnum, iskptim\n\n\tif (iEQx<0.5) goto cont1\t/* skip EQ if disabled */\n\naL\tpareq aL, iEQ1f, iEQ1l, iEQ1q, iEQ1m\naL\tpareq aL, iEQ2f, iEQ2l, iEQ2q, iEQ2m\naR\tpareq aR, iEQ1f, iEQ1l, iEQ1q, iEQ1m\naR\tpareq aR, iEQ2f, iEQ2l, iEQ2q, iEQ2m\n\ncont1:\n\na0L\tdelay aL*ivol, idel\na0R\tdelay aR*ivol, idel\n\ngaxL\t=  gaxL + a0L\ngaxR\t=  gaxR + a0R\n\n\tendin\n\n/* ------------------------------------------------------------------------- */\n\n\tinstr 90\t\t/* output instrument\t\t*/\n\n/* ------------------------------------------------------------------------- */\n\nivol\ttable  0, 1\t/* volume\t\t\t\t*/\nilnth\ttable  1, 1\t/* output file length\t\t\t*/\n\niEQx\ttable  3, 1\t/* EQ enable/disable\t\t\t*/\niEQ1f\ttable  4, 1\t/* EQ 1 frequency\t\t\t*/\niEQ1l\ttable  5, 1\t/* EQ 1 level\t\t\t\t*/\niEQ1q\ttable  6, 1\t/* EQ 1 Q\t\t\t\t*/\niEQ1m\ttable  7, 1\t/* EQ 1 mode\t\t\t\t*/\niEQ2f\ttable  8, 1\t/* EQ 2 frequency\t\t\t*/\niEQ2l\ttable  9, 1\t/* EQ 2 level\t\t\t\t*/\niEQ2q\ttable 10, 1\t/* EQ 2 Q\t\t\t\t*/\niEQ2m\ttable 11, 1\t/* EQ 2 mode\t\t\t\t*/\n\n/* ------------------------------------------------------------------------- */\n\np3\t=  ilnth\n\niEQ1m\t=  int(iEQ1m+0.5)\niEQ2m\t=  int(iEQ2m+0.5)\n\naL\t=  gaxL\naR\t=  gaxR\n\ngaxL\t=  0\ngaxR\t=  0\n\n\tif (iEQx<0.5) goto cont1\t/* skip EQ if disabled */\n\naL\tpareq aL, iEQ1f, iEQ1l, iEQ1q, iEQ1m\naL\tpareq aL, iEQ2f, iEQ2l, iEQ2q, iEQ2m\naR\tpareq aR, iEQ1f, iEQ1l, iEQ1q, iEQ1m\naR\tpareq aR, iEQ2f, iEQ2l, iEQ2q, iEQ2m\n\ncont1:\n\nk_env\tinit int(p3*kr + 0.5)\t\t/* output envelope */\nk_env\t=  int(k_env - 0.5)\nkenv\tlimit k_env - (0.1*kr), 0.0, 0.1*kr\naenv\tinterp (kenv / (0.1*kr)) - 1.0\naenv\t=  aenv + 1.0\n\n\touts aL * ivol * aenv, aR * ivol * aenv\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\n/* score file for mixer v1.2 */\n\nt 0.00\t134.00\t\t/* tempo */\n\n/* p1\t=  instrument number (1)\t\t*/\n/* p2\t=  start time in beats\t\t\t*/\n/* p3\t=  duration in beats (ignored)\t\t*/\n/* p4\t=  track number = (ftable number) - 100\t*/\n/* p5\t=  volume\t\t\t\t*/\n/* p6\t=  part number\t\t\t\t*/\n\n;include \"part-1.sco\"\n;include \"part-2.sco\"\n;include \"part-3.sco\"\n#include \"part-4.sco\"\n#include \"part-5.sco\"\n\n#include \"part-10.sco\"\n\n;PART01(   0)\n;PART02(  64)\n;PART03( 128)\n$PART04(   0)\n$PART05(  64)\n;PART05( 224)\n\n;PART10(   0)\n\n/* ------------------------------------------------------------------------- */\n\nf 1 0 16 -2\t1.0\t\t/* volume\t\t\t\t*/\n\t\t62.0\t\t/* output file length in seconds\t*/\n\t\t1.0\t\t/* output file delay in seconds\t\t*/\n\t\t0\t\t/* 0/1 : disable/enable EQ\t\t*/\n\t\t1000\t\t/* EQ 1 frequency\t\t\t*/\n\t\t1.0\t\t/* EQ 1 level\t\t\t\t*/\n\t\t0.7071\t\t/* EQ 1 Q\t\t\t\t*/\n\t\t0\t\t/* EQ 1 mode (0/1/2 : peak/low/high)\t*/\n\t\t1000\t\t/* EQ 2 frequency\t\t\t*/\n\t\t1.0\t\t/* EQ 2 level\t\t\t\t*/\n\t\t0.7071\t\t/* EQ 2 Q\t\t\t\t*/\n\t\t0\t\t/* EQ 2 mode (0/1/2 : peak/low/high)\t*/\n\n/* ------------------------------------------------------------------------- */\n\n/* tnum: table number\t\t*/\n/* vol:  volume\t\t\t*/\n/* del:  delay offset\t\t*/\n/* fnum: file number list\t*/\n\n#define TABLE1(tnum'vol'del'fnum) #\n\nf $tnum 0 32 -2\t$vol\t\t/* volume\t\t\t\t*/\n\t\t0.0\t\t/* skip time in seconds\t\t\t*/\n\t\t$del\t\t/* delay offset in seconds\t\t*/\n\t\t0\t\t/* 0/1 : disable/enable EQ\t\t*/\n\t\t1000\t1.0\t/* EQ 1 frequency, level\t\t*/\n\t\t0.7071\t0\t/* EQ 1 Q, mode\t\t\t\t*/\n\t\t1000\t1.0\t/* EQ 2 frequency, level\t\t*/\n\t\t0.7071\t0\t/* EQ 2 Q, mode\t\t\t\t*/\n\t\t$fnum\t\t/* list of file numbers (max. 20)\t*/\n\n#\n\n/* drum_06, drum_06_1 .. drum_06_6 */\n\n$TABLE1(100'2.52'0.02'0 1 2 3 4 5 40)\n\n/* organ1 */\n\n$TABLE1(101'1.05'0.025'6 25)\n\n/* bass_0301 */\n\n$TABLE1(102'1.68'0.03'7 22 24)\n\n/* synth_12_1 */\n\n$TABLE1(103'0.84'0.05'8)\n\n/* crash_1 .. crash_6 */\n\n$TABLE1(104'0.42'0.025'9 10 11 12 13 14)\n\n/* ohh_10, ohh_11 */\n\n$TABLE1(105'0.504'0.025'15 16)\n\n/* chh_10, chh_11 */\n\n$TABLE1(106'0.3528'0.025'17 18)\n\n/* tamb_1, tamb_2 */\n\n$TABLE1(107'0.588'0.025'19 20)\n\n/* clap_1 */\n\n$TABLE1(108'2.1'0.025'21)\n\n/* ohh2_10 */\n\n$TABLE1(109'1.05'0.025'23)\n\n/* hit1_1 .. hit1_4 */\n\n$TABLE1(110'2.8'0.032'26 27 28 29)\n\n/* aaah1 */\n\n$TABLE1(111'0.084'0.022'30 41)\n\n/* bsln1 */\n\n$TABLE1(112'1.68'0.02'31)\n\n/* revcym */\n\n$TABLE1(113'0.42'0.025'32 33 34 35)\n\n/* snare */\n\n$TABLE1(114'0.504'0.025'36 37 38 39)\n\n/* aaah2_1 */\n\n$TABLE1(115'0.126'0.025'42)\n\n/* bsln2 */\n\n$TABLE1(116'3.36'0.022'43)\n\n/* ------------------------------------------------------------------------- */\n\ni 90\t0.000\t1.0\t/* output instr. */\n\ne\t/* END OF SCORE */\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ULTRAFAT FM/ANALOG/WAVESHAPE PAD using pad sound and Moog VCF filter and tone control filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FatPad1.orc and FatPad1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr     1\n\n;ULTRAFAT FM/ANALOG/WAVESHAPE PAD\n;ANOTHER EMPHYRICAL INSTRUMENT\n;JOSEP M COMAJUNCOSAS / FEB 99\n\naout init 0\nkdeclick  linen     1, .01,p3,.01\n\n;CASCADED FM SECTION (I GOT THIS FROM SOMEWHERE)\n\nifdbk     =         .6                       ; EXTRA FEEDBACK TO THE LPF BANK\niamp      =         1\nipor      =         cpspch(p4)\nimod1     =         2*ipor\nindx1     =         3\nimod2     =         1.33*ipor\nindx2     =         3\nkndx1     linseg    0,p3/3,indx1,p3/2,indx1\nkndx2     linseg    0,p3/2,indx2,p3/3,indx2\namod1     oscil3    imod1*kndx1,imod1,1\namod2     oscil3    imod2*kndx2,imod2+amod1,1\napor      oscil3    iamp/2,ipor+amod2, 1\nkamp      linen     1,p3/3,p3,p3/3\n\n;ANALOG LPF SECTION\n\nkfco      linseg    200, p3/4, 10000,p3/4, 4000, p3/2,50\nkres      linseg    0,p3/3,0,p3/3, .5 ,p3/3, .2\n\nalpf0     moogvcf   apor*kamp-ifdbk*aout, kfco,kres\nadist      =        .5*tanh(apor*kamp)                      ; SMOOTH DISTORTION\nalpf1     tonex     -adist,sr/4                             ; PLAY WITH PHASES\nalpf2     tonex     alpf1,sr/8\nalpf3     tonex     -alpf2,sr/16\nalpf4     tonex     alpf3,sr/32\n\n;MULTIBAND WAVESHAPER SECTION\n\nawsh1     table3    .5+alpf1,2,1\nawsh2     table3    .5+alpf2,3,1\nawsh3     table3    .5+alpf3,4,1\nawsh4     table3    .5+alpf4,5,1\n\naout      =         awsh1+awsh2+awsh3+awsh4\n          out       2000*aout * kdeclick\n     \n          endin\n\n</CsInstruments>\n<CsScore>\n;SINE WAVE\nf1 0 8192 10 1\n; TR.FT\nf2 0 8193 13 1 1  0  6 -2  0  0 0 0  0  0 0 0 0 0 0 0 0 0\nf3 0 8193 13 1 1  0  0 0 -2 4 0 0  0  0 0 0 0 0 0 0 0 0\nf4 0 8193 13 1 1  0  0 0  0  0 5 -1 -7 3 0 0 0 0 0 0 0 0\nf5 0 8193 13 1 1  0  0 0  0  0 0 0  0  0 8 -5 -6 2 4 -1 -2 1\n\ni1 0  5  6.00\ni1 4  .  7.00\ni1 8  .  8.00\ni1 12 .  9.00\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for KICK DRUM 1 using drum sound and Moog VCF filter and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from drum4.orc and drum4.sco\n; Original files preserved in same directory\n\nsr             =              44100                         ; SAMPLE RATE\nkr             =              44100                         ; KONTROL RATE\nksmps          =              1                             ; SAMPLES/KONTROL PERIOD\nnchnls         =              2                             ; NORMAL STEREO\n\n; ORC\n;---------------------------------------------------------\n; KICK DRUM\n; CODED BY HANS MIKELSON AUGUST 25, 1999\n;---------------------------------------------------------\n               zakinit        50,50                         ; MAY NEED THIS LATER\n\n;---------------------------------------------------------\n; KICK DRUM 1\n;---------------------------------------------------------\n               instr          10\n\nidur           =              p3                            ; Duration\niamp           =              p4                            ; Amplitude\niacc           =              p5                            ; Accent\nirez           =              p6                            ; Resonance\n\nkfenv          expseg         1500*iacc,  .04, 200, .04, 120, idur-.04, 40      ; FREQ ENVELOPE\nkrenv          expseg         .7,  idur, 1                                      ; Q ENVELOPE\nkaenv          expseg         .1, .001, 1, .02, 1, .04, .7, idur-.062, .7       ; AMP ENVELOPE\nkdclck         linseg         0, .002, 1, idur-.004, 1, .002, 0                 ; DECLICK\nasig           rand           2                                                 ; RANDOM NUMBER\n; I USE RAND 2 TO RELY ON MOOGVCF BUILT IN LIMITER\n\naflt           moogvcf        asig, kfenv, irez*krenv       ; MOOG FILTER\n\naout1          =              aflt*kaenv*3                  ; SCALE THE SOUND\n\nkrms           rms            aout1, 1000                   ; LIMITER, GET RMS\nklim           table3         krms*.5, 5, 1                 ; GET LIMITING VALUE\naout           =              aout1*klim*iamp*kdclck        ; SCALE AGAIN AND OUPUT\n\n               outs           aout, aout                    ; OUTPUT THE SOUND\n\n               endin\n\n</CsInstruments>\n<CsScore>\n; SCO\nf1 0 65536 10 1\nf5 0 1024 -8 1 256 1 256 .7 256 .1 256 .01             ; COMPRESSION/LIMITING CURVE\n\n;    Sta   Dur  Amp    Accent  Q\ni10  0.0   .18  24000  1       1.2\ni10  0.5   .    .      .8      1.5\ni10  1.0   .    .      .5      1.8\ni10  1.5   .    .      .4      2.2\n\ni10  2.0   .18  24000  1       1.2\ni10  2.5   .    .      .8      1.5\ni10  3.0   .    .      .5      1.8\ni10  3.75  .    .      .4      2.2\ni10  3.5   .    .      .4      2.2\n\ni10  4.0   .18  24000  1       1.2\ni10  4.5   .    .      .8      1.5\ni10  5.0   .    .      .5      1.8\ni10  5.5   .    .      .4      2.2\n\ni10  6.0   .18  24000  1       1.2\ni10  6.5   .    .      .8      1.5\ni10  7.0   .    .      .5      1.8\ni10  7.75  .    .      .4      2.2\ni10  7.5   .    .      .4      2.2\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kcount    init      0 using one-sample delay and delay line read and delay line write", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from strong.orc and strong.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n;********************************************* \n; Physical Model 1 Karplus Strong Algorithm * \n; coded:  1/22/97 by Hans Mikelson *\n;********************************************* \n\n\n          instr 1\nkcount    init      0\nk1        =         (kcount<=110 ? 1:0)\na1        rand      p4\na2        delayr    .005\na3        delay1    a2\n          delayw    (a2+a3)/2+a1*k1\n          out       a3\nkcount    =         kcount + 1\n          endin\n\n</CsInstruments>\n<CsScore>\n; Begin Score\n; istart idur iamp\ni1 0 2 10000\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for UNMODIFIED PLAYBACK INSTRMENT FOR COMPARISON using demonstration and one-sample delay and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FILTDEMO.ORC and FILTDEMO.SCO\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t1\n\n\n;==============================================================================;\n;      This orc implements some of the example filters given in Dodge          ;\n;                                                                              ;\n; Note that the kr = sr in this orchestra.  This is necessary because none of  ;\n; the recursive filters (instrs 7, 8, and 9) will work otherwise.  RFP         ;\n;==============================================================================;\n;\n\t\tinstr 1\t\t\t; UNMODIFIED PLAYBACK INSTRMENT FOR COMPARISON\nkgate\texpseg\t1,p3*.9,1,p3*.1,.001\nainput\tsoundin\tp4\n\t\tout\t\tainput*kgate\n\t\tendin\n\n;==============================================================================;\n;       Non-recursive, all-zero, Finite Impulse Response (FIR) filters:\n;==============================================================================;\n\n\t\tinstr 2\t\t\t; 1st-ORDER LOW-PASS FILTER FROM DODGE SECOND EDITION p.201\nigain\t=\t\t(p5 != 0 ? p5 : 1)\nkgate\texpseg\tigain,p3*.9,igain,p3*.1,.001\nainput\tsoundin\tp4\naprev\tdelay1\tainput\t\t\t\t; NOISE SIGNAL DELAYED 1 SAMPLE\nasignal\t=\t\t.5*ainput + .5*aprev\t; AVERAGE 2 SUCCESSIVE INPUTS\n\t\tout\t\tasignal*kgate\n\t\tendin\n\n\t\tinstr 3\t\t\t; 1st-ORDER HIGH-PASS FILTER - DODGE SECOND EDITION p.202\nigain\t=\t\t(p5 != 0 ? p5 : 1)\nkgate\texpseg\tigain,p3*.9,igain,p3*.1,.001\nainput\tsoundin\tp4\naprev\tdelay1\tainput\t\t\t\t; NOISE SIGNAL DELAYED 1 SAMPLE\nasignal\t=\t\t.5*ainput - .5*aprev\t; DIFFERENCE OF 2 INPUTS\n\t\tout\t\tasignal*kgate\n\t\tendin\n\n\t\tinstr 4\t\t\t; 2nd-ORDER NOTCH FILTER - DODGE SECOND EDITION p.202\nigain\t=\t\t(p5 != 0 ? p5 : 1)\nkgate\texpseg\tigain,p3*.9,igain,p3*.1,.001\nainput\tsoundin\tp4\t\t\t\t\t; x(n)\naprev1\tdelay1\tainput\t\t\t\t; x(n-1)\naprev2\tdelay1\taprev1\t\t\t\t; x(n-2)\nasignal\t=\t\t.5*ainput + .5*aprev2\t; y(n) = .5x(n) - .5x(n-2)\n\t\tout\t\tasignal*kgate\n\t\tendin\n\n\t\tinstr 5\t\t\t; 2nd-ORDER BAND-PASS FILTER - DODGE SECOND EDITION p.203\nigain\t=\t\t(p5 != 0 ? p5 : 1)\nkgate\texpseg\tigain,p3*.9,igain,p3*.1,.001\nainput\tsoundin\tp4\t\t\t\t\t; x(n)\naprev1\tdelay1\tainput\t\t\t\t; x(n-1)\naprev2\tdelay1\taprev1\t\t\t\t; x(n-2)\nasignal\t=\t\t.5*ainput - .5*aprev2\t; y(n) = .5x(n) - .5x(n-2)\n\t\tout\t\tasignal*kgate\n\t\tendin\n\n\t\tinstr 6       ; 2nd-ORDER ALL-ZERO BR FILTER - DODGE SECOND EDITION p.203-205\nigain\t=\t\t(p7 != 0 ? p7 : 1)\n; CALCULATE THE COEFFICIENTS FROM cf AND bw IN p5 AND p6\ni2pi\t\t=\t\t6.2831853\nibw\t\t=\t\tp6\nicf\t\t=\t\tp5\nic2\t\t=\t\texp(-i2pi*ibw/sr)\nic1\t\t=\t\t(-4*ic2/(1 + ic2))*cos(i2pi*icf/sr)\niscl\t\t=\t\t1 + ic1 + ic2\nia0\t\t=\t\t1/iscl\nia1\t\t=\t\tic1/iscl\nia2\t\t=\t\tic2/iscl\nkgate\texpseg\tigain,p3*.9,igain,p3*.1,.001\nainput\tsoundin\tp4\t\t\t\t\t; x(n)\naprev1\tdelay1\tainput\t\t\t\t; x(n-1)\naprev2\tdelay1\taprev1\t\t\t\t; x(n-2)\n\t\t\t\t\t\t\t\t\t; y(n) = a0x(n) + a1x(n-1) + a2x(n-2)\nasignal\t=\t\tia0*ainput + ia1*aprev1 + ia2*aprev2\n\t\tout\t\tasignal*kgate\n\t\tendin\n\n\n;==============================================================================;\n;       Recursive, all-pole, Infinite Impulse Response (IIR) filters:\n;==============================================================================;\n\n\t\tinstr 7\t\t\t; 1st-ORDER RECURSIVE FILTER - DODGE SECOND EDITION p.209-211\nigain\t=\t\t(p6 != 0 ? p6 : 1)\n; CALCULATE THE COEFFICIENTS FOR LOW-PASS FILTER FROM THE CUTOFF FREQ (p5):\ni2pi\t\t=\t\t6.2831853\nifc\t\t=\t\tp5\nic\t\t=\t\t2 - cos(i2pi*ifc/sr)\nib\t\t=\t\tsqrt(ic*ic - 1) - ic\nia\t\t=\t\t1 + ib\nkgate\texpseg\tigain,p3*.9,igain,p3*.1,.001\naoutput\tinit\t\t0\t\t\t\t\t; init y(n-1) to 0\nainput\tsoundin\tp4\t\t\t\t\t; x(n)\naoutput\t=\t\tia*ainput - ib*aoutput\t; y(n) = ia*x(n) - ib*y(n-1)\n\t\tout\t\taoutput*kgate\n\t\tendin\n\n\t\tinstr 8\nigain\t=\t\t(p6 != 0 ? p6 : 1)\n; CALCULATE THE COEFFICIENTS FOR HIGH-PASS FILTER FROM THE CUTOFF FREQ (p5):\ni2pi\t\t=\t\t6.2831853\nifc\t\t=\t\tp5\nic\t\t=\t\t2 - cos(i2pi*ifc/sr)\nib\t\t=\t\tic - sqrt(ic*ic - 1)\nia\t\t=\t\t1 - ib\nkgate\texpseg\tigain,p3*.9,igain,p3*.1,.001\naoutput\tinit\t\t0\t\t\t\t\t; init y(n-1) to 0\nainput\tsoundin\tp4\t\t\t\t\t; x(n)\naoutput\t=\t\tia*ainput - ib*aoutput\t; y(n) = ia*x(n) - ib*y(n-1)\n\t\tout\t\taoutput*kgate\n\t\tendin\n\n\t\tinstr 9\t\t\t; 2nd-ORDER ALL-POLE FILTER - DODGE SECOND EDITION p. 211-212\nigain\t=\t\t(p8 == 0 ? 1 : p8)\n; CALCULATE THE COEFFICIENTS FOR BAND-BASS FILTER FROM cf AND bw IN p5, p6:\ni2pi\t\t=\t\t6.2831853\nicf\t\t=\t\tp5\nibw\t\t=\t\tp6\nib2\t\t=\t\texp(-i2pi*ibw/sr)\nib1\t\t=\t\t-4*ib2/(1 + ib2) * cos(i2pi * icf/sr)\nib1sqrd\t=\t\tib1*ib1\nib2sqrd\t=\t\t(1+ib2)*(1+ib2)\niscl1\t=\t\t(1 - ib2)*sqrt(1-ib1sqrd/(4*ib2))\niscl2\t=\t\tsqrt((ib2sqrd-ib1sqrd) * ((1 - ib2)/(1 + ib2)))\niscl\t\t=\t\t(p7 == 1 ? iscl1 : iscl2) ; 1 = PITCH, 2 = NOISE\nkgate\texpseg\tigain,p3*.9,igain,p3*.1,.001\naprev1\tinit\t\t0\t\t\t\t\t; init y(n-1) to 0\naprev2\tinit\t\t0\t\t\t\t\t; init y(n-2) to 0\nainput\tsoundin\tp4\t\t\t\t\t; x(n)\n\t\t\t\t\t\t\t\t\t; y(n) = a0x(n) - b1y(n-1) - b2y(n-2)\naoutput\t=\t\tiscl*ainput - ib1*aprev1 - ib2*aprev2\naprev2\t=\t\taprev1\naprev1\t=\t\taoutput\n\t\tout\t\taoutput*kgate\n\t\tendin\n\n\n</CsInstruments>\n<CsScore>\n; Demo score for filtdemo.orc\n; The original sound\ni1      0       1.13    1       ;soundin 1\n; Simple moving average filter  (low-pass with Fc at SR/4)\ni2    1.5       1.13    1       0\n; Simple difference filter (high-pass with Fc at SR/4)\ni3      3       1.13    1       15\n; Second-order notch filter (null at SR/4, flat at 0 & Nyquist)\ni4    4.5       1.13    1       .75\n; Second-order band-pass filter\ni5      6       1.13    1       10\n; Second-order notch with variable cf and bw\ni6    7.5       1.13    1      1000     100     1\n; First-order recursive filter with lowpass characteristic (p5 = cutoff)\ni7      9       1.13    1       100       2\n; First-order recursive filter with highpass characteristic (p5 = cutoff)\ni8      10.5    1.13    1       500      10\n; Second-order all-pole filter (p5 = cf, p6 = bw)\ni9      12      1.13    1       300      30     1       4\nf0      14\ns\n; The original sound\ni1      0       1.13    2       ;soundin 2\n; Simple moving average filter  (low-pass with Fc at SR/4)\ni2    1.5       1.13    2       0\n; Simple difference filter (high-pass with Fc at SR/4)\ni3      3       1.13    2       7\n; Second-order notch filter (null at SR/4, flat at 0 & Nyquist)\ni4    4.5       1.13    2       0\n; Second-order band-pass filter\ni5      6       1.13    2       5\n; Second-order notch with variable cf and bw\ni6    7.5       1.13    2      1000     100     .5\n; First-order recursive filter with lowpass characteristic (p5 = cutoff)\ni7      9       1.13    2       100       3\n; First-order recursive filter with highpass characteristic (p5 = cutoff)\ni8      10.5    1.13    2       500       10\n; Second-order all-pole filter (p5 = cf, p6 = bw)\ni9      12      1.13    2       500      50     1       2\nf0      14\ns\n; The original sound\ni1      0       1.13    3       ;soundin 3\n; Simple moving average filter  (low-pass with Fc at SR/4)\ni2    1.5       1.13    3        0\n; Simple difference filter (high-pass with Fc at SR/4)\ni3      3       1.13    3        1\n; Second-order notch filter (null at SR/4, flat at 0 & Nyquist)\ni4    4.5       1.13    3        1\n; Second-order band-pass filter\ni5      6       1.13    3        1\n; Second-order notch with variable cf and bw\ni6    7.5       1.13    3      1000    100     .025\n; First-order recursive filter with lowpass characteristic (p5 = cutoff)\ni7      9       1.13    3       100     5\n; First-order recursive filter with highpass characteristic (p5 = cutoff)\ni8      10.5    1.13    3       500     3\n; Second-order all-pole filter (p5 = cf, p6 = bw)\ni9      12      1.13    3       500     100     2       .75\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using granular synthesis and oscillator and FM synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from grainer.orc and grainer.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n          instr      1\n\nidur      =         p3\niamp      =         p4\nifqc      =         cpspch(p5)\nirate     =         p6\nipulse1   =         p7\nipulse2   =         p8\n\nkrate     oscil     1, 1/idur, p6\nkamp1     oscil     iamp, krate, ipulse1\nkamp2     oscil     iamp, krate, ipulse2\n\n;                   Amp     Fqc   Car   Mod   MAmp           Wave\nafout     foscil    kamp1, ifqc, 1,     2.72, 1+3*(1+kamp2), 1\narnd1     rand      kamp2\narout     butterbp  arnd1, ifqc, ifqc/2\n\n          outs      afout+arout*16, afout+arout*16\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\nf2 0 1024 -5  1 256 10 256 100 256 4000 256 1\nf3 0 4096  7  0 3072 0 512 1 512  0\nf4 0 4096  7  0 512  1 512 0 3072 0\n\n;    Sta  Dur  Amp  Pitch  Rate  Pulse1  Pulse2\ni1   0    8   8000  8.00   2     3       4\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Audio rate Sample1 & Hold using sample playback and oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from SampleHold.orc and SampleHold.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 1\n\n\ninstr    1 ; Audio rate Sample1 & Hold\n\nilevel   = p4 ; Output level\nirate1   = p5 ; Start S&H rate\nirate2   = p6 ; End S&H rate\n\nkrate    line  irate1, p3, irate2\nain      soundin  \"Sample1\"\nagate    oscil  1, krate, 1\nash      samphold  ain, agate\n\nout      ash*ilevel\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 128 -7 1 8 1 0 0 120 0 ; Spike for trigger\n\n;   Strt  Leng  Levl  Rate1 Rate2\ni1  0.00  1.47  1.00  5000  250\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1\t\t=\t\t0 using synthesizer and oscillator and sample-and-hold random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from websynth6.orc and websynth6.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\n\ngisine\t=\t\t1\ngitri\t=\t\t2\ngisaw\t=\t\t3\ngisquare\t=\t\t4\ngipulse\t=\t\t5\n\n\t\tinstr 99\na1\t\t=\t\t0\na2\t\t=\t\t0\na3\t\t=\t\t0\na4\t\t=\t\t0\na5\t\t=\t\t0\n\t\tendin\n\n\t\tinstr 1\nk1\t\trandh\t1.0, 0.65378450830467, 0.9351\nk1\t\t=\t\t182.0299+((454.9648-182.0299)*((k1+1.)/2.))\na1\t\toscil\t1.0,k1,gisine\na2\t\toscil \t1.0,435.091878958046436,gisine\na3\t\toscil \t1.0,1234.921091175638139,gisine\na4\t\toscil\t1.0,8.949099418311381,gisine\na5\t\t=\t\ta4 * a1*a2*a3\n\t\tout\t\ta5*30000.00\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1 ; sine\nf2 0 8192 10 1 0 .111 0 .04 0 .02 0 ; triangle\nf3 0 8192 10 1 .5 .333 .25 .2 .166 .142 .125 ; saw\nf4 0 8192 10 1 0 .333 0 .2 0 .142 0 .111; square\nf5 0 8192 10 1 1 1 1 1 1 1 1 1 1 1 1 1; pulse\n\ni1 0 10.0000 \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp      =         p4 using oscillator and delay line read and delay line write", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from deltapn.orc and deltapn.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n          instr  1\n\niamp      =         p4\nifqc      =         cpspch(p5)\nitab      =         p6\nitim1     =         p7/sr\n\nasig      oscil     iamp, ifqc, itab\nalfo1     oscil     10, 2, 1\n\nalfo      =         alfo1+19\n\natmp      delayr    itim1\nadel      deltapn   alfo\n          delayw    asig\n\n          outs      asig, adel\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\n\ni1  0  1  10000  7.00  1  35\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ims       =         100 using oscillator and variable delay and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from vdel.orc and vdel.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr     1\nims       =         100\n;a1       oscil     5000, 1737, 2\na1        oscil     5000, 1/1.3113, 2\n;a1       rand      5000\na2        oscil     ims - 40, .3, 1\na2        pow       a2, 2, ims - 40\na2        =         a2 + 20\na3        vdelay    a1, a2, ims\na4        vdelay    a3, a2, ims\na5        vdelay    a4, a2, ims\na6        vdelay    a5, a2, ims\n          out       a1+a3+a4+a5+a6\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\nf2 0 65536 1 5 0 4 0\n;f2 0 1024 7 -.5 24 .5 1000 -.5\n\ni1 0 3\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for icps\t\tcpsmidi using MIDI control and oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from midi.orc and midi.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\nicps\t\tcpsmidi\nkvol\t\tmidictrl\t1, 0, 32000\n\na1\t\toscil\tkvol, icps, 1\n;a1\t\ttone\t\ta1, 4000\nout\t\ta1\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf0 20\nf1 0 1024 7 0 24 1 1000 -1\n;f1 0 1024 10 1\n;f1 0 32768 1 2 0 4 0\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idb\t\t= \t\tampdb(p4) using oscillator and resonant filter and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from DODGEp187.orc and DODGEp187.sco\n; Original files preserved in same directory\n\nsr\t\t= \t\t44100\nkr \t\t= \t\t44100\nksmps \t= \t\t1\nnchnls \t= \t\t1\n\n\n;DODGE  P. 186-187.\n\n\n\t\tinstr 1\nidb\t\t= \t\tampdb(p4)\nkbw \toscil \tp5, p6, 1  \t\t\t; SET PEAK FREQ AND RATE OF FILTER OPEN/CLOSE, USE F1\na1 \t\trand \tidb\t\t\t\t\t; RANDOM SIGNAL\nafilt \treson \ta1, 0, kbw,1\t\t; LOPASS FILTER RANDOM SIGNAL\n\t\tout \tafilt\n\t\tendin\n\n\n</CsInstruments>\n<CsScore>\n\n;DODGE  P. 186-187.\n\n\nf1\t0\t1024\t9\t0.5\t1\t0\t;\thalf-sine\n;     2=at    3=dur\t4=db 5=peak freq  6=bw rate\ni1\t0\t1\t60\t10000\t  1\ni1\t1\t.\t.\t500\t  1\ni1\t2\t.\t.\t10000\t  5\ni1\t3\t.\t.\t500\t  5\ni1\t4\t.\t.\t10000\t  20\ni1\t5\t.\t.\t500\t  20\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a tootp sound using oscillator and chorus effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from tootp2.orc and tootp2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n\n                                   ; toot1.orc \n\n          instr     1\nkenv      oscil     p4,  1 / p3 , 2                         ; p4=max, p3=note dur\nkven      oscil     p6,  1 / p3,   3                        ; p6=max\nkpen      line      p8, p3, p9                              ;p8,p9=start/stop line lvl\nklfo      oscil     p10, p11, 1                             ;p10=chorus detune p11=chorus freq\namod      oscil      kven, p7 + kpen, 1                ; p7=modf\na1        oscil     kenv, p5 + kpen + amod, 1          ; p5=note freq \na2        oscil     p12 * kenv, p5 + kpen + amod + klfo, 1\n          out       a1 + a2\n          endin\n\n</CsInstruments>\n<CsScore>\n;p3=notedur p4=noteamp p5=notefreq p6=modamp p7=modf\n;p8,p9=line levels\n                                             ;FUNCTIONS\nf1 0 4096 10 1\nf2 0 1024 7 0 4 2 20 1 100 .7 500 .5 400 0\nf3 0 1024 7 0 4 1.5 20 .8 200 .33 600 0 200 2\n\n                                             ;NOTE LIST\n;p1 p2 p3 p4     p5   p6      p7   p8  p9\ni1  0  3  10000  880  10000  1000  0  -100 5 10 1\ni1  2  6  10000  550  10000  1000  0  -1000 5 6 1\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1        =         0 using synthesizer and oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from websynth1.orc and websynth1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\n\ngisine    =         1\ngitri     =         2\ngisaw     =         3\ngisquare  =         4\ngipulse   =         5\n\n          instr 99\na1        =         0\na2        =         0\na3        =         0\na4        =         0\na5        =         0\na6        =         0\n          endin\n\n          instr     1\na1        oscil     1.0,853.472497877664864,gisine\na2        oscil     1.0,935.97927950322628,gisquare\na3        oscil     1.0 * (1+a2),1043.709940351545811,gisquare\na4        oscil     1.0,3091.42767122015357,gisine\na5        oscil     1.0,11.936452026432381,gisine\na6        =         a5 * a1*a3*a4\n          out       a6*20000.00\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1 ; sine\nf2 0 8192 10 1 0 .111 0 .04 0 .02 0 ; triangle\nf3 0 8192 10 1 .5 .333 .25 .2 .166 .142 .125 ; saw\nf4 0 8192 10 1 0 .333 0 .2 0 .142 0 .111; square\nf5 0 8192 10 1 1 1 1 1 1 1 1 1 1 1 1 1; pulse\n\ni1 0 10.0000 \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for amp\t\tline\t\t2, p3, 0 using granular synthesis and oscillator and reverb effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from grain2.orc and grain2.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\nnchnls \t= \t\t1\n\n\n\t\tinstr 1\namp\t\tline\t\t2, p3, 0\nktri\t\toscil\t10000, 1/p3, 3\na1\t\tgrain\tktri, 1000,  1000, 0, 100, .05, 1, 2, 1\na2\t\tgrain\tktri, 1000,  600 , 0,  80, .05, 1, 2, 1\na3\t\tgrain\tktri, 1000,  200 , 0, 130, .05, 1, 2, 1\na4\t\texpon\t1, p3, .1\n;a5\t\tvdelay\t(a1+a2+a3), a4, 1\na5\t\t=\t\t(a1+a2+a3)\na6\t\treverb\ta5, 1.5\n\t\tout\t\t(a5 * (a4 - .1) + a6 * (.9 - a4 -.1) / 4)\n\t\t;out\t\t(a5 + a6/2)/4\n\t\tendin\n\n\t\tinstr 2\n\t\t\t\na1 \t\tgrain\t5000, 0, 1000, 0, 100, .05, 1, 2, 1\na2 \t\tgrain\t5000, 0,  600, 0,  80, .05, 1, 2, 1\na3 \t\tgrain\t5000, 0,  200, 0, 130, .05, 1, 2, 1\n\t\tout \t\ta1+a2+a3\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\nf2 0 1024 7 0 512 1 512 0\nf3 0 1024 20 3\n\ni1 0 5\n;i2 1 5\n;i1 1 2\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kamp      linen     p4, .7, p3, .05 using oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from show1.orc and show1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr     101\nkamp      linen     p4, .7, p3, .05\nkvib      oscil     2.75, 15, 1\na1        oscil     kamp, cpspch(p5)+kvib,1\n          out       a1\n          endin\n\n\n\n</CsInstruments>\n<CsScore>\nf 1 0 4096 10 1\nf 2 0 4096 10 1 0 .1 0 .04 0 .02 0 .01\n\ni101      0     2.5      25000     8.05\ni101      2.5  2.5  25000     8.13\ni101      5     2.5      25000     8.12\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kgl1\t\toscil\tcpspch(p4),1/p3,2 using oscillator and FOF formant synthesis and sample-and-hold random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from gra.orc and gra.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t1\n\n\n\t\t\tinstr 1\n\nkgl1\t\toscil\tcpspch(p4),1/p3,2\nkv\t\t\trandh\t1,\t10\n\na\t\t\tfof\t\t20000,kgl1+kv,650,1,40,.003,.01,.007,4,1,1,p3\n\t\n\t\t\tout \ta/2\n\t\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1\t0\t1024\t10\t1\nf2\t0\t1024\t8\t.01\t256\t.3\t256\t1\t356\t1\t156\t.01\n\ni1\t0\t10\t7.11\ni1\t.\t.\t7.07\ni1\t.\t.\t7.04\ni1\t.\t.\t7.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for k1      line    0, p3, sr/2 using frequency sweep/chirp and oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from chirp.orc and chirp.sco\n; Original files preserved in same directory\n\nsr      =       44100\nkr      =       4410\nksmps   =       10\nnchnls  =       1\n\n\n        instr   1\nk1      line    0, p3, sr/2\na1      oscil   32000, k1, 1\n        out     a1\n        endin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\n\ni1 0 1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kpitcheg  linseg    1,p3/2,p6,p3/2,1 using oscillator and linear envelope and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from ex1.orc and ex1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n          \n          instr 1\nkpitcheg  linseg    1,p3/2,p6,p3/2,1\nkenv      linen     p4, 1, p3, .25\nasig1     oscil     kenv, p5*kpitcheg,1\nasig2     oscil     kenv, (p5+10)*kpitcheg,1\nasig3     oscil     kenv, (p5-10)*kpitcheg,1\namix      =         asig1 + asig2 + asig3\n          out       amix\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\ni1 0 5 3000 440 2\ns\ni1 0 5 3000 140 4\ns\ni1 0 5 3000 40 8\ns\ni1 0 5 3000 4444 -12\ns\ni1 0 5 3000 10 202\ns\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a vibrato sound using vibrato effect and oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from VIBRATO.ORC and VIBRATO.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n; Vibrato.o\n\n\n                                   ;P4=FREQUENCY IN HZ\n                                   ;P5=AMP\n                                   ;P6=VIBRATO WIDTH AS A PERCENTAGE OF CENTER FREQUENCY\n                                   ;P7=VIBRATO FREQUENCY\n\n               instr     1\nkdev           randi     p6,125              ;RANDOM VIBRATO WIDTH DEVIATION OF +/- P6\navib           oscil     p6,p7,1             ;VIBRATO HAS THE SHAPE OF A SINE WAVE\navib           =         (avib+kdev)+1       ;ADD 1 FOR MULTIPLICATION\n\nafreq          =         avib*p4             ;APPLY VIBRATO TO P4 (FREQ IN SCORE)\naenv           linen     p5,.01,p3,.05       ;AMPLITUDE ENVELOPE\nasig           oscili    aenv,afreq,1        ;SINE WAVE WITH VIBRATO AND AMPLITUDE ENVELOPE\n               out       asig\n               endin\n\n\n</CsInstruments>\n<CsScore>\n\n; Vibrato.s\n\n; Sine wave\nf1      0       512    9       1       1       0\n\n;       start   dur     freq    amp     vibwidth        vibfreq\ni1      1       3       440     15000   .0075           6\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kramp     linseg    0,p3/2,p4,p3/2,0 using oscillator and interpolating random and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from risset1.orc and risset1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         441\nksmps     =         100\nnchnls    =         1\n\n;;; GENERATION OF NOISE BANDS BY RING MODULATION\n;;; FIGURE 3.25 FROM DODGE & JERSE, P.92\n\n\n\n\ninstr     1\nkramp     linseg    0,p3/2,p4,p3/2,0\nkrcps     =         p5*.05\nkamp      randi     kramp,krcps\nkfreq     =         p5\naosc      oscil     kamp,kfreq,1\naout      =         aosc\nout       aout\nendin\n\n</CsInstruments>\n<CsScore>\n;;; SCORE FOR 3.25\n\nf1   0    8192      10        1\n;    p1   p2        p3        p4        p5 \n;    INST START     LENGTH    AMP       FREQ\ni    1    0.00      1.00      15000     300\n\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1        =         1/p3 using oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 48LONG.ORC and 48LONG.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; FIG 4.8.long.orc\n\n          instr 1\ni1        =         1/p3\ni2        =         cpspch(p4)\ni3        =         i1*p6\ni4        =         i3*p7\n\na1        oscil     p5,i1,2\na2        oscil     i4,i1,1\na2        oscili    a2,i3,3\na1        oscili    a1,i2+a2,3\n\n          out       a1\n\n          endin\n\n</CsInstruments>\n<CsScore>\nc fig 4.8.long\nf 1 0 512 5 1 512 .001\nf 2 0 512 7 1 64 0 448 0\nf 3 0 512 9 1 1 0\n  i1 0.000 1.000 8.00 20000 1.400 10\n  i1 1.000 1.000 8.00 20000 1.400 10\n  i1 2.000 1.000 8.00 20000 1.400 10\n  i1 3.000 1.000 8.00 20000 1.400 10\n  i1 4.000 15.000 8.00 20000 1.400 10\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp \tpow\t\t10, 2 using oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pow.orc and pow.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\niamp \tpow\t\t10, 2\na1\t\toscil\tiamp, 100, 2\na2\t\tpow\t\ta1, 2, 1\n\t\tout \t\ta2\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\nf2 0 1024 7 0 512 1 512 0\n\ni1 0 1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp      =         ampdb(p4) using oscillator and interpolating oscillator and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Noorden8.orc and Noorden8.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr     1\niamp      =         ampdb(p4)\nifreq     =         p5\nirate     =         p6\nifun      =         p7\n\nkrate     oscili    10, 1/p3, 3\nkamp      oscili    iamp, irate + krate, ifun\nkfreq     randh     59, p6 + krate\nasig1     oscil     kamp, ifreq + kfreq, 1\nasig      butterlp  asig1, 1800\n          out       asig\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 256 10 1\nf2 0 512 7 0 30 1 452 1 30 0 \nf3 0 512 7 0 512 1\n;ins  start  dur  amp   freq   rate  fun\ni1     0     10   80    1000    5     2\nendin\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a bandshiftednoise sound using noise generation and oscillator and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bandshiftednoise.orc and bandshiftednoise.sco\n; Original files preserved in same directory\n\nsr        =         44100     \nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\t\tinstr 3799\nkenv\t\tlinseg\t0, p3 * .5, 1, p3 * .5, 0 ; UP-DOWN RAMP ENVELOPE\nkran \trandh \t50, kr\t\t\t\t ; PRODUCE VALUES BETWEEN -50 AND 50\nkcent \tline \t1000, p3, 200\t\t\t ; RAMPCENTRE FREQENCY 1000 TO 200\nkran \t=  \t\tkran + kcent\t\t\t ; SHIFT RAND VALUES TO BASE FREQUENCY\nasig \toscil \tkenv * p4, kran, 1\t\t ; GENERATE A BAND OF NOISE\n\t\tout \t\tasig\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1      0 512 10 1\t\t\t\t; A SINE WAVE\n\n;       st      dur     amp       \n\ni3799    0      2       10000\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp      =         ampdb(p4) using oscillator and interpolating oscillator and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Noorden9.orc and Noorden9.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n\niamp      =         ampdb(p4)\nifreq     =         p5\nirate     =         p6\nifun      =         p7\n\nkrate     oscili    10, 1/p3, 3\nkamp      oscili    iamp, irate + krate, ifun\nkfreq     randh     3174, p6 + krate\nasig1     oscil     kamp, ifreq + kfreq, 1\nasig      butterlp  asig1, 1800\n          out       asig\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 256 10 1\nf2 0 512 7 0 30 1 452 1 30 0 \nf3 0 512 7 0 0 1 512 0\n;ins  start  dur  amp   freq   rate  fun\ni1     0     10   80    1000    5     2\nendin\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a notenum sound using oscillator and panning", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from notenum.orc and notenum.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n;I never came across this one, so in case anyone is thinking about\n;{\"notenumber\" (here in cps) to panorama position}:\n;this is a very easy way to get a full stereo image whithout having to \n;add any special parameters\n;**************************************************************************\n;orchestra\n\n\t\tinstr 1 \n\n\nipan\t\t=\t\t(.0005681*p4)\t\t\t; MULTIPLIER:\"NOTENUMBER\"(CPS!) TO PAN \n\t\t\t\t\t\t\t\t\t; ADAPT FOR GREATER VALUES:1/FREQ;(CPS)\na1\t\toscil\t12000, p4, 1\n\t\touts\t\ta1*ipan, a1*(1-ipan)\n\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n;score\n\nf1 0 8192 10 1\ni1 0 10 55\ni1 0 10 110\ni1 0 10 220 \ni1 0 10 440    \ni1 0 10 880    \ni1 0 10 1760   \n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Noisy Oscillator? using oscillator and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from NoisyOsc.orc and NoisyOsc.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Noisy Oscillator?\n\nileng    = p3\nilevl    = p4*32767\nipitch   = cpspch(p5)\nioffst   = p6\n\na1       oscil  1, ipitch + ioffst, 1\na2       oscil  1, ipitch, 1\n         tablew  a1, a2, 1, 1, 0, 2\na3       tablei  a1, 1, 1, 0, 1\nout      a3*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 10 1 0 0 0 .5\nf2 0 8193 10 1\n\n;   Strt  Leng  Levl Pitch Offset\ni1  0.00  2.00  0.80 06.00 0.0625\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1        =         1/p3 using oscillator and resonant filter and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 521.ORC and 521.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; FIG 5.21.orc\n\n          instr 1\ni1        =         1/p3\na1        rand      p5\nk1        oscil     1.,i1,4\nk1        =         k1*p4\nk2        oscil     1.9,i1,1\nk2        =         (k2+.1)*k1\na1        reson     a1,k1,k2,2,0\n          out       a1\n          endin\n\n</CsInstruments>\n<CsScore>\nc fig5.21ns.scr\nf 1 0 512 7 0 512 1\nf 4 0 512 5 1 512 3\nf 2 0 512 9 .5 1 0\n  i1 0.000 10.000 880 13000\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1        =         1/p3 using oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 48BR2.ORC and 48BR2.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; FIG 4.8.br2.orc\n\n          instr 1\n\ni1        =         1/p3\ni2        =         cpspch(p4)\ni3        =         i2*p8\ni4        =         i3*(p7-p6)\ni5        =         i3*p6\n\na1        oscil     p5,i1,1\na2        oscil     i4,i1,1\na2        oscili    a2+i5,i3,3\na1        oscili    a1,i2+a2,3\n\n          out       a1\n\n          endin\n\n</CsInstruments>\n<CsScore>\nc fig4.8.br2.scr\nf 1 0 512 5 1 512 .001\nf 2 0 512 7 1 64 0 448 0\nf 3 0 512 9 1 1 0\n  i1 0.000 2.000 6.00 20000 1.400 10 0.667\n  i1 2.000 2.000 6.07 20000 1.400 10 0.667\n  i1 4.000 2.000 7.00 20000 1.400 10 0.667\n  i1 6.000 2.000 7.07 20000 1.400 10 0.667\n  i1 8.000 2.000 8.00 20000 1.400 10 0.667\n  i1 10.000 2.000 8.07 20000 1.400 10 0.667\n  i1 12.000 2.000 9.00 20000 1.400 10 0.667\n  i1 14.000 2.000 9.07 20000 1.400 10 0.667\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Rhythmic Gate / DJ 'Transformer' using oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from RhythmGate.orc and RhythmGate.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 4410\nksmps    = 10\nnchnls   = 1\n\n\ninstr    1 ; Rhythmic Gate / DJ 'Transformer'\n\nilevl    = p4   ; Output level\nitabl1   = p5   ; Gate pattern table no.\nitabl2   = p6   ; Gate shape table no.\nitime    = 1/p3 ; Note length\n\nain      soundin  \"Sample1\"\n\nkind     phasor  itime                   ; 0 to 1 index ramp\nkgate1   table  kind, 1, itabl1          ; Read gate pattern\nkgate    oscil  kgate1, 16*itime, itabl2 ; Read gate shape\nkgate    port  kgate, .0001              ; Slew gate edges\nout      ain*kgate                       ; Gate output\n\nendin\n</CsInstruments>\n<CsScore>\n;16th notes   1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16\nf01 0 16 2    1  1  0  1  1  0  1  1  0  1  1  0  1  0  1  0 ; Gate pattern\nf02 0 16 2    1  0  1  0  0  0  1  0  0  1  0  0  1  0  0  0 ; Gate pattern \n\n; Gate shapes\nf10 0 1024 -7 1 1024 1          ; 100% On\nf11 0 1024 -7 1 512 1 0 0 512 0 ; 50% On\nf12 0 1024 -7 1 1024 0          ; Linear decay\nf13 0 1024 -5 1 1024 .0001      ; Exponential decay\nf14 0 1024 -7 0 512 1 512 0     ; Linear fade in/out\n\n;     Strt  Leng  Levl  Patt  Gate\ni01   0.00  1.50  1.00  02    10\ni01   2.00  .     .     .     11\ni01   4.00  .     .     01    13\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for DISTORTION GUITAR (KS-WS) using oscillator and Karplus-Strong plucked string and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from dem2.orc and dem2.sco\n; Original files preserved in same directory\n\nsr      =       44100\nkr      =       4410\nksmps   =       10\nnchnls  =       1\n\n\n\n        instr 1             ; DISTORTION GUITAR (KS-WS)\nikfreq  cpsmidib\nkfreq   cpsmidib\niveloc  veloc\nkgate   linenr  iveloc/(128*3), 0, .1, .1\n\nk1      oscil   .1, 6, 1\na1      pluck   2, kfreq/2 + k1, ikfreq/2, 0, 2, 3\na1      table   a1+.5, 3, 1\na1      butterlp    a1, 3000\nga1     =       a1*80000 * kgate\n        endin\n\n        instr 129\nga1     butterhp    ga1, 20\nab      =       ga1\na1      reverb2 ga1, 2.1, .2\nout     a1/4 + ab\nga1         =       0\n        endin\n\n</CsInstruments>\n<CsScore>\nf0 30\nf1 0 1024 10 1\nf2 0 1025 -8 -.3 200 -.3 312 0 312 .3 200 .3\nf3 0 1025 -7 -.5 200 -.5 312 0 312 .5 200 .5\n\ni129 0 12\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp = ampdb(p4) using oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Noorden10.orc and Noorden10.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr = 44100\nksmps  = 1\nnchnls = 1\n\ninstr 1\niamp = ampdb(p4)\nifreq = p5\nifun = p6\nkamp oscili iamp, 1/p3, ifun\nasig oscil  kamp, ifreq, 1   \n out asig     \n  endin\n</CsInstruments>\n<CsScore>\nf1 0 256 10 1\nf2 0 512 7 0 30 1 452 1 30 0\n;ins  start  dur   amp   freq   fun\ni1      0     .1    80   1059    2\ni1      +     .      .   1000    .\ni1      1    .045    .    440    .\ni1      +     .      .    466    .\ni1      2     .      .   1271    .\ni1      +     .      .   1200    .\nendin\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Reads and writes same table - quantisation hell! using oscillator and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Wierd1.orc and Wierd1.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Reads and writes same table - quantisation hell!\n\nilevl    = p4*32767   ; Output level\nipitch   = cpspch(p5) ; Pitch\niofset   = p6         ; ?\n\na1       oscil 1, ipitch + iofset, 1\na2       phasor  ipitch\n         tablew  a1, a2, 1, 1, 0, 2\na3       table  a1, 1, 1, 0, 1\nout      a3*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1025 10 1 ; Sine\n\n;   Strt  Leng  Levl  Pitch Offset\ni1  0.00  8.00  1.00  06.00 0.125\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1      oscil   1000, 500, p4 using FM synthesis and oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from parisfm.orc and parisfm.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n        instr 1\na1      oscil   1000, 500, p4\na2      oscil   20000, 500 + a1, p4\n        out     a2\n        endin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\nf2 0 1024 7 -1 512 1 512 -1\nf3 0 1024 20 2\nf4 0 1024 8 0 256 1 512 -1 256 0\nf5 0 1024 8 1 512 -1 512 1\nf6 0 1024 7 0 256 1 256 0 256 -1 256 0\n\ni1 0 1 1    ;sine waves\ni1 + 1 2    ;triangle waves\ni1 + 1 3    ;hanning window??!\ni1 + 1 4    ;sineish spline\ni1 + 1 5    ;cosineish spline\ni1 + 1 6    ;segmented sine ( 4 parts)\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp      =         ampdb(p4) using oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Noorden11.orc and Noorden11.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr     1\niamp      =         ampdb(p4)\nifreq     =         p5\nifun      =         p6\nkamp      oscili    iamp, 1/p3, ifun\nasig      oscil     kamp, ifreq, 1\n          out       asig\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 256 10 1\nf2 0 512 7 0 30 1 452 1 30 0\n;ins  start  dur   amp   freq   fun\ni1      0    .035   80   3174    2\ni1      +     .      .   1000    .\ni1      1     .      .    440    .\ni1      +     .      .   1396    .\ni1      2     .      .   3809    .\ni1      +     .      .   1200    .\nendin\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a week sound using oscillator and sample-and-hold random and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from week7_4.orc and week7_4.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n\nkenv      linseg    0,p3*.5,1,p3*.5,0        ; UP-DOWN RAMP ENVELOPE\nkran      randh     50,kr                    ; PRODUCE VALUES BETWEEN -50 AND 50\nkran      =         kran+200                 ; SHIFT VALUES TO CENTRE OF 200\nasig      oscil     kenv*p4,kran,1           ; GENERATE A BAND OF NOISE\n          out       asig\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1      0 512 10 1              ; A SINE WAVE\n\n;      st      dur     amp       \n\ni1     0        2     10000     \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kamp1     linseg    0,p3/2,p4,p3/2,0 using ring modulation and oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from ringmod2.orc and ringmod2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n;;; RING-MODULATION INSTRUMENT BASED ON RISSET \n;;; FIGURE 3.30 FROM DODGE & JERSE, p.98 \n\n\n\n          instr     1\nkamp1     linseg    0,p3/2,p4,p3/2,0\nkfreq1    =         p5\nasig1     oscil     kamp1,kfreq1,1\nkamp2     =         p6\nkfreq2    =         p7\nasig2     oscil     kamp2,kfreq2,2\naout      =         asig1*asig2\n          out       aout\n          endin\n\n</CsInstruments>\n<CsScore>\n;;; sample score for 3.30\n\nf1 0 8192 10 1\nf2 0 128 7 0 10 1 44 1 20 -1 44 -1 10 0\n\n;inst start length kamp1 kfreq1 kamp2 kfreq2 ;p1 p2 p3 p4   p5   p6   p7\n\ni1 0.00 2.745 25 395 23 272\ni1 2.41 3.242 38 387 37 178\ni1 6.07 5.702 52 363 24 268\ni1 5.88 3.316 27 310 28 223\ni1 8.85 5.094 27 372 23 572\ni1 9.15 9.144 43 489 48 325\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp      =         ampdb(p4) using oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Noorden2.orc and Noorden2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n\niamp      =         ampdb(p4)\nifreq     =         p5\nirate     =         p6\nifun      =         p7\n\nkamp      oscili    iamp, irate, ifun\nasig      oscil     kamp, ifreq, 1\n          out       asig     \n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 256 10 1\nf2 0 512 7 0 103 1 50 1 103 0 256 0\nf3 0 512 7 0 256 0 103 1 50 1 103 0\n;ins  start  dur   amp   freq   rate  fun\ni1      0    10    80    1000    5     2\ni1      0    10    80    3240    5     3\nendin\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1\t\toscil\t32000, 1, 1 using test/demonstration and oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from ftable_test.orc and ftable_test.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\na1\t\toscil\t32000, 1, 1\n\t\tout\t\ta1\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1  0  131072 1 5\t0 4 1\n\ni1 0 3\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a week sound using oscillator and linear segments and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from week3_1.orc and week3_1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n\nivar      =         10000                    ; ivar SET TO 10000\nicps      =         cpspch(p5)               ; icps SET TO CPS VALUE OF PITCH\nivib      =         icps*.01                 ; ivib (VIBRATO SPEED) IS SET TO 1/100 OF CPS\nkenv      linseg    1,p3,0                   ; RAMP FROM 1 TO 0 IN DURATION p3 \nkenv      =         kenv*ivar                ; SCALE THE AMPLITUDE OF THE ENVELOPE\nasig      oscil     kenv,icps,1              ; SINE WAVE OSCILATOR\n          out       asig                     ; OUTPUT \n        \n          endin\n\n</CsInstruments>\n<CsScore>\nf1     0    512     10      1               ; FUNCTION TABLE (GEN 10) TO GENERATE A SIMPLE SINE WAVE                                                            \n                                                                \n\n;      st      dur     --      pitch\n\ni1     0        2       0      8.00         ; MIDDLE C PLAYED FOR 2 SECONDS\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for istep     init      0 using oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from reinit1.orc and reinit1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\ninstr     1\n\nistep     init      0\nifqc      init      cpspch(p5)\nkfqc      init      ifqc*(istep+1)/4\n\nloop:\n\nkampenv   linseg    0, .01, p4, .08, p4, .01, 0\n\n          timout    0, .1, next1\nistep     =         frac((istep + 1)/8)*8\nkfqc      =         ifqc*(istep+1)/4\nreinit    loop\n\n\n\nnext1:\n\naout      oscil     kampenv, kfqc, 1\n          out       aout\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192      10        1    .5  .2  .1\n\ni1 0 2         20000     8.00\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifr   \tcpsmidib 2 using test/demonstration and oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from testmid.orc and testmid.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\nifr   \tcpsmidib 2\na1    \toscil    32000, ifr, 1\n          out      a1\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf0 100\nf1 0 1024 10 1\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp      =         ampdb(p4) using oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Noorden3.orc and Noorden3.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr     1\n                               \niamp      =         ampdb(p4)\nifreq     =         p5\nirate     =         p6\nifun      =         p7\n\nkamp      oscili    iamp, irate, ifun\nasig      oscil     kamp, ifreq, 1\n          out       asig\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 256 10 1\nf2 0 512 7 0 103 1 50 1 103 0 256 0\nf3 0 512 7 0 256 0 103 1 50 1 103 0\n;ins  start  dur   amp   freq  rate  fun\ni1      0    10    80    1000   8     2\ni1      0    10    80    1040   8     3\nendin\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for inote   =       cpspch( p4) using oscillator and Butterworth lowpass filter and Butterworth bandpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from eddie.orc and eddie.sco\n; Original files preserved in same directory\n\nsr      =       44100\nkr      =       4410\nksmps   =       10\nnchnls  =       1\n\n\n        instr 6\ninote   =       cpspch( p4)\nkamp    linen   .2, .1, p3, .1\na1      oscil   10000, inote - .5, 2\na2      oscil   10000, inote + .5, 2\na3      oscil   10000, inote / 2 , 2\nkfreq   line    4000, 4.1, 100\nafil    butterlp (a1 + a2 + a3), kfreq\nafil2   butterbp afil, kfreq, 50\n        out     kamp * (5 * afil2 + afil)\n        endin\n\n</CsInstruments>\n<CsScore>\nf2 0 1024 7 0 2 1 1022 0\n\ni6      0   4   7.00\ni6      0   4   6.00\ni6      4   4   7.00\ni6      4   4   6.00\ni6      3   1.5 7.08\ni6      3   1.5 8.00\ni6      3   1.5 8.03\ni6      4.5 1.5 7.10\ni6      4.5 1.5 8.02\ni6      4.5 1.5 8.05\ni6      6   2   8.00\ni6      6   3   8.04\ni6      6   3   8.07\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for PWM RU94 using oscillator and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pulse2.orc and pulse2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; pulse 2\n\n          instr 1             ; PWM RU94\n; p4      =         Pitch p5 = PulseWidth in % p6 = PWMmodDepth +/- p6% ;;\n; p7      =         pwmlfoFreq               ;;p8 = LFOwaveForm F#\n\napwm      oscil     p6*10, p7,p8             ; =lfo\nasaw      oscil     1000,p4,1                ; f#1 MUST BE SAW\nasqr      table     asaw+(p5*10)+500+apwm,2,0,0,1\n                                             ; f#2 = 0-1500:0, 1500-2048:+1\n\n          out       asqr*10000               ; OUTPUT SCALING\n          endin\n\n</CsInstruments>\n<CsScore>\n; test Score,\nf1 0 2048 7 1 2048 0                            ;Sawtooth\nf2 0 4096 7 0 1500 0 0 1 2596 1         ;'Comparator function'\nf3 0 4096 10 1                                          ; Sine for lfo\n\n;i st   dur Hz PW PWM lfoFrq lfoWave\ni1 0.0  2       55 50 48        .5              3;\ni1 2.0  2       55 25 23        3               3;\ni1 4.0  2       55  2 5         2               3;\ni1 6.0  2       55  1 2         1               3;\ne; end of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a week sound using oscillator and sample-and-hold random and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from week7_5.orc and week7_5.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n\nkenv      linseg    0,p3*.5,1,p3*.5,0        ; UP-DOWN RAMP ENVELOPE\nkband     line      50,p3,5                  ; RAMP BANDWIDTH FROM 100 TO 10\nkran      randh     kband,kr                 ; PRODUCE VALUES BETWEEN - AND + kband\nkran      =         kran+200                 ; SHIFT VALUES TO CENTRE OF 200\nasig      oscil     kenv*p4,kran,1           ; GENERATE A BAND OF NOISE\n          out       asig\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1      0 512 10 1              ; A SINE WAVE\n\n;      st      dur     amp       \n\ni1     0        2     10000     \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp      =         ampdb(p4) using oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Noorden1.orc and Noorden1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr     1\n\niamp      =         ampdb(p4)\nifreq     =         p5\nirate     =         p6\nifun      =         p7\nkamp      oscili    iamp, irate, ifun\nasig      oscil     kamp, ifreq, 1\n          out       asig     \n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 256 10 1\nf2 0 512 7 0 103 1 50 1 103 0 256 0\nf3 0 512 7 0 256 0 103 1 50 1 103 0\n;ins  start  dur   amp   freq   rate  fun\ni1      0    10    80    1000   5     2\ni1      0    10    80    1059   5     3\nendin\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kramp     linseg    0,p3/2,p4,p3/2,0 using ring modulation and oscillator and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from ringmod1.orc and ringmod1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n;;; GENERATION OF NOISE BANDS BY RING MODULATION \n;;; FIGURE 3.25 FROM DODGE & JERSE, p.92 \n\n\n\n          instr     1\nkramp     linseg    0,p3/2,p4,p3/2,0\nkrcps     =         p5*.05\nkamp      randi     kramp,krcps\nkfreq     =         p5\naosc      oscil     kamp,kfreq,1\naout      =         aosc\n          out       aout\n          endin\n\n</CsInstruments>\n<CsScore>\n;;; score for 3.25\n\nf1 0 8192 10 1\n;p1 p2 p3 p4 p5\n;inst start length amp freq\ni1 0.00 1.00 15000 300\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kramp     linseg    0,p3/2,p4,p3/2,0 using oscillator and interpolating random and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from dodgefig325.orc and dodgefig325.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n;;; GENERATION OF NOISE BANDS BY RING MODULATION ;;; FIGURE 3.25 FROM DODGE & JERSE, P.92 \n\n\n          instr 1\nkramp     linseg    0,p3/2,p4,p3/2,0\nkrcps     =         p5*.05\nkamp      randi     kramp,krcps\nkfreq     =         p5\naosc      oscil     kamp,kfreq,1\naout      =         aosc\n          out       aout\n          endin\n\n\n</CsInstruments>\n<CsScore>\n\n\n;;; SCORE FOR DODGE FIGURE 3.25\n\nf1 0 8192 10 1      ; SINE\n\n;p1   p2    p3     p4    p5\n;INST START LENGTH AMP   FREQ\n  i1  0.00  1.00   15000 300\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kamp1 \tlinseg \t0,p3/2,p4,p3/2,0 using oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from dodgefig330.orc and dodgefig330.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t441\nksmps\t=\t\t100\nnchnls\t=\t\t1\n\n;;; RING-MODULATION INSTRUMENT BASED ON RISSET ;;; FIGURE 3.30 FROM DODGE & JERSE, P.98 \n\n\n\t\tinstr 1\nkamp1 \tlinseg \t0,p3/2,p4,p3/2,0\nkfreq1 \t=\t\tp5\nasig1 \toscil \tkamp1,kfreq1,1\nkamp2 \t=\t\tp6\nkfreq2 \t=\t\tp7\nasig2 \toscil \tkamp2,kfreq2,2\naout \t=\t\tasig1*asig2\n\t\tout\t\taout\n\t\tendin\n\n\n</CsInstruments>\n<CsScore>\n\n\nf1 0 8192 10 1\nf2 0 128 7 0 10 1 44 1 20 -1 44 -1 10 0\n\n;inst start length kamp1 kfreq1 kamp2 kfreq2 ;p1 p2 p3\tp4\tp5\tp6\tp7\n\ni1 0.00 2.745 25 395 23 272\ni1 2.41 3.242 38 387 37 178\ni1 6.07 5.702 52 363 24 268\ni1 5.88 3.316 27 310 28 223\ni1 8.85 5.094 27 372 23 572\ni1 9.15 9.144 43 489 48 325\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ibw       =         5 using oscillator and Butterworth bandpass filter and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fltbank.orc and fltbank.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n         instr 1\nibw       =         5\n;a1       oscil     30000, 1/1.3113, 1\na1        rand      30000\nkamp      expon     10, p3, 1\nkmov      randi     10, 20\naf1       butterbp  a1, 500+kmov, ibw\naf2       butterbp  a1, 1000+kmov, ibw\naf3       butterbp  a1, 1200+kmov, ibw\naf4       butterbp  a1, 1500+kmov, ibw\naf5       butterbp  a1, 2000+kmov, ibw\n          out       (af1+af2+af3+af4+af5)*kamp\n          endin\n\n</CsInstruments>\n<CsScore>\ni1 0 5\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a week sound using oscillator and random noise and sample-and-hold random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from week7_6.orc and Week7_6.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n\nkenv      linseg    0,p3*.5,1,p3*.5,0        ; UP-DOWN RAMP ENVELOPE\nkran      randh     50,kr                    ; PRODUCE VALUES BETWEEN -50 AND 50\nkcent     line      1000,p3,200              ; RAMPCENTRE FREQENCY 1000 TO 200\nkran      =         kran+kcent               ; SHIFT RAND VALUES TO BASE FREQUENCY\nasig      oscil     kenv*p4,kran,1           ; GENERATE A BAND OF NOISE\n          out       asig\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1      0 512 10 1              ; A SINE WAVE\n\n;      st      dur     amp       \n\ni1     0        2     10000\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for is \t\t= \t\tp4 using oscillator and variable delay and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from powdel.orc and powdel.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\nis \t\t= \t\tp4\nak1\t\tlinseg\t0, p3/is, 1, p3/is, 0\nak2\t\tpow\t\tak1, 2\na1\t\toscil\t20000, 1000, 1\na2\t\tvdelay\ta1, ak2, 1.1\n\t\tout\t\ta2\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\n\ni1 0 2 .5\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp      =         ampdb(p4) using oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Noorden4.orc and Noorden4.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n          instr     1\n\niamp      =         ampdb(p4)\nifreq     =         p5\nirate     =         p6\nifun      =         p7\nifun2     =         p8\n\nkamp      oscili    iamp, irate, ifun\nkglis     oscili    1200, 1/p3, ifun2\nasig      oscil     kamp, ifreq + kglis, 1\n          outs      asig, asig\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 512 10 1\nf4 0 512 7 0 0 1 256 0 256 1\n;\"dummy\" function\nf5 0 512 7 0 1 512 1\n;function for tones A\nf6 0 512 7 0 10 0 49 1 15 1 49 0 276 0 49 1 15 1 49 0 \n;function for tones B\nf7 0 512 7 0 133 0 93 1 60 1 93 0 133 0\n;ins  start  dur  amp   freq   rate  fun1  fun2\ni1      0    40   80     800     5    6     4\ni1      0    40   80    1000   2.5    7     5\nendin\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp      =         ampdb(p4) using oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Noorden5.orc and Noorden5.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n\niamp      =         ampdb(p4)\nifreq     =         p5\nirate     =         p6\nifun      =         p7\nifun2     =         p8\n\nkamp      oscili    iamp, irate, ifun\nasig      oscil     kamp, ifreq, ifun2\n          out       asig     \n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 256 10 1\nf2 0 512 5 .001 103 1 50 1 103 .001 256 .001\nf3 0 512 5 .001 256 .001 103 1 50 1 103 .001\nf4 0 512 10 3 4 5 6 7 8 9 10 11 12\n;ins  start  dur  amp   freq   rate  fun fun2\ni1     0     10   80    200     5     2   1\ni1     0     10   80    200     5     3   4\nendin\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1\t\toscil\t10000, 440, 1 using oscillator and Butterworth lowpass filter and Butterworth bandpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from filtex.orc and filtex.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\n\n\n\t\tinstr 1\n\t\t\na1\t\toscil\t10000, 440, 1\n;a1\t\trand\t\t20000\nkeg\t\tlinseg\t0, 1, 1100, 1, 0\n\na2\t\ttone\t\ta1, keg\na3\t\treson\ta2, keg, 10\n\n\t\tout\t\ta3/100\n\t\t\n\t\tendin\n\n\t\tinstr 2\n\na1\t\toscil\t10000, 440, 1\n;a1\t\trand\t\t20000\nkeg\t\tlinseg\t0, 1, 1100, 1, 0, 1, 0\n\na2\t\tbutterlp\ta1, keg\na3\t\tbutterbp\ta2, keg, 10\n\n\t\tout\t\ta3*5\n\t\t\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 7 -1 24 1 1000 -1\n\ni1 0 3\ni2 4 3\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a week sound using oscillator and interpolating random and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from week7_3.orc and week7_3.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n\nkran      randi     50,2205                  ; PRODUCE VALUES BETWEEN -50 AND 50\nkran      =         kran+200                 ; SHIFT VALUES TO CENTRE FREQ OF 200\nasig      oscil     p4,kran,1                ; GENERATE A BAND OF NOISE\n          out asig\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1      0 512 10 1              ; A SINE WAVE\n\n;      st      dur     amp       \n\ni1     0        2     10000     \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ims     =       100 using granular synthesis and oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from anagrain2.orc and anagrain2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n        instr 1\nims     =       100\nifr     =       2*1.3113\na1      linseg  2000, 5, 100, 3, 100, 5, 0\nk1      linseg  .0005, 5, .3, p3 -  5, .3\nkf      linseg  0, 8, 0, 0, ifr/2, 5, 0\na3      grain   4000,ifr, a1, 0, kf, k1, 1, 2, .4\n        out     a3\n        endin\n\n        instr 2\nims     =       100\nifr     =       1.3113\na1      linseg  10, p3/2, 50, p3/2, 1\na3      grain   4000, ifr/2, a1, 4000, ifr, .05, 1, 3, .05\n        out     a3\n        endin\n\n        instr   3\na1      oscil   10000, 2.5, 1\n        out     a1\n        endin\n\n</CsInstruments>\n<CsScore>\nf2 0 8192 20 6\nf3 0 8192 7 0 192 1 8000 0\nf1 0 32768 1 4 .05 1 1\n\ni2 0 6\n;i1 5 8\n;i3 0 3\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp      =         ampdb(p4) using oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Noorden7.orc and Noorden7.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr     1\niamp      =         ampdb(p4)\nifreq     =         p5\nirate     =         p6\nifun      =         p7\n\nkamp      oscili    iamp, irate, ifun\nasig1     oscil     kamp, ifreq, 1\n          out       asig1\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 256 10 1\nf2 0 512 7 0 103 1 50 1 103 0 256 0\nf3 0 512 7 0 256 0 103 1 50 1 103 0\n;ins  start  dur   amp   freq   rate  fun\ni1     0     10    85    1000    5     2\ni1     0     10    83    1000    5     3\nendin\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for k1\t\tline\t\t0, p3, 30000 using oscillator and envelope follower", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from eflw.orc and eflw.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\nnchnls \t=\t\t1\n\n\n\t\tinstr 1\nk1\t\tline\t\t0, p3, 30000\na1\t\toscil\tk1, 1/1.3113, 2\n;a1\t\toscil\tk1, 1000, 3\nak1\t\tfollow\ta1, .02\nak1\t\ttone\t\tak1, 10\na2\t\toscil\tak1, 1000, 3\n\t\tout\t\ta2\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\nf2 0 32768 1 1 0 1 1\nf3 0 1024 7 -.5 24 .5 1000 -.5\n\ni1 0 2\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ktri\t\toscil\t10000, 1/p3, 3 using granular synthesis and oscillator and reverb effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from graint11.orc and graint11.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\nnchnls \t= \t\t1\n\n\n\t\tinstr 1\nktri\t\toscil\t10000, 1/p3, 3\na1\t\tgrain\tktri, 1000, 1000, 100, 100, .1, 1, 2, 1\na2\t\tgrain\tktri, 1000,  600 , 50,  80, .1, 1, 2, 1\na3\t\tgrain\tktri, 1000,  200 , 10, 130, .1, 1, 2, 1\na4\t\tline\t\t0, p3, 1\na5\t\tpow\t\ta4, 2\na6\t\tvdelay\t(a1+a2+a3), a5, 1.1\na7\t\treverb\ta6, 1.5\n\t\tout\t\t(a6*(a5-.1) + a7*(.9-a5-.1)/4)\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\nf2 0 1024 20 6\nf3 0 1024 20 3\n\ni1 0 5\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp      =         ampdb(p4) using oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Noorden6.orc and Noorden6.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n\niamp      =         ampdb(p4)\nifreq     =         p5\nirate     =         p6\nifun      =         p7\n\nkamp      oscili    iamp, irate, ifun\nasig      oscil     kamp, ifreq, 1\n          out       asig\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 256 10 1\nf2 0 512 7 0 103 1 50 1 103 0 256 0\nf3 0 512 7 0 256 0 103 1 50 1 103 0\n;ins  start  dur  amp    freq   rate  fun\ni1     0     10   85     1000    5     2\ni1     0     10   70     1000    5     3\nendin\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for igain   =       1.5 using oscillator and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from dist.orc and dist.sco\n; Original files preserved in same directory\n\nsr      =       44100\nkr      =       4410\nksmps   =       10\nnchnls  =       1\n\n\n        instr 1\nigain   =       1.5\nims     =       100\n\nag1     oscil   igain, 1/9.05, 1\nag2     table   ag1+igain/2, 2, 1\na1      butterlp ag2*30000, sr/4\n        out     a1\n        endin\n\n</CsInstruments>\n<CsScore>\nf1 0 131072 1 7 0 1 1\nf2 0 4096 -8  -0.490000 1326 -0.340000 754 0.000000 546 0.300000 1470 0.600000\n\ni1 0 10\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for am  \t\ttable  \t.001,2 using oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from smod.orc and smod.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\nam  \t\ttable  \t.001,2\nam\t\toscil\t1, 440*am,2\na2  \t\toscil   \t15000, 660*am, 1\na1\t\toscil\t15000, 500*am, 2\n\t\tout\t\ta1+a2\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 32768 1 444 0 1 1\nf2 0 1024 10 1\n\ni1 0 2\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a week sound using oscillator and exponential segments and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from week4_4.orc and week4_4.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n                                   \nifund     =         cpspch(p5)                         ; FUNDAMENTAL\n\nkenv1     expseg    .0001,.01,1,.01,.5,p3-.02,.0001    ; ENVELOPE 1\nasig1     oscil     p4*kenv1,ifund,1                   ; OSCILLATOR 1\n\nkenv2     expseg    .0001,.01,.7,.03,.4,p3-.04,.0001   ; ENVELOPE 2\nasig2     oscil     p4*kenv2,ifund*2,1                 ; OSCILLATOR 2\n\n          out       (asig1+asig2)/2                    ; OUTPUT MIX\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1      0 512 10 1                          ; A SINE WAVE\n\n;      st      dur     amp        pitch\n\ni1     0        2     10000       8.00      ; MIDDLE C PLAYED FOR 2 SECONDS\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kval1     midictrl  1 using oscillator and linear envelope with release", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from midctl1.orc and midctl1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n;MIDI CONTROLLERS - EXAMPLE.ORC\n\n\n          instr 1\n                    \nkval1     midictrl  1\n          \nkcps      cpsmidib                      \nicps      cpsmidi\niamp      ampmidi   5000, 2\nkbend     pchbend   100  \nkamp      expon     iamp, 5, iamp/icps       ; FREQ-DEPENDENT OVERALL DECAY\namp       linenr    kamp, .01, .333, .05\na1        oscil     amp, kcps+kval1, 1\n\n          outs      a1*(kval1/127), a1*(1-(kval1/127))\n\n          endin\n\n\n</CsInstruments>\n<CsScore>\n;MIDI Controllers  -  example.sco\n\nf1 0 1024 10 1\nf2 0 128 5 1 128 8\n\n;for veloc to non-linear amp\n\nf0 15\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idelay\t=\t\t.05 using oscillator and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from feed.orc and feed.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n;\t\tI think that's page 231.\n;\t\tNote how neat the orcestra is.\n;\t\tMaybe you won't learn to do feedback.\n;\t\tBut learn to make tidy orc files!\n;\t\tftable 1 is the original sound\n;\t\tUse a speech segment it sounds best!\n;\t\t(Don't use a sine wave, you won't the allpass!)\n\n\n\n\t\tinstr \t1\nidelay\t=\t\t.05\nigain\t=\t\t.7\na2\t\tinit\t0\t\n\t\t\t\t\t\t\t\t\na1\t\toscil\t10000, 1000, 1\t\t;THIS IS THE INPUT\na1\t\t=\t\ta1\t+\ta2 * igain\t;THIS IS THE (+) AFTER THE INPUT AND THE (*<-g) BEFORE THAT\na2\t\tdelay\ta1, idelay\t\t\t;THIS IS THE DELAY\n\t\tout\t\ta1 * ( - igain) + a2 ;THIS IS THE (*<-(-g)) AND (+) BEFORE OUTPUT\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 65536 1 10 0.01 1 1\n\ni1 0 2\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a week sound using oscillator and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from week4_3.orc and week4_3.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n\nistart    =         cpspch(p5)               ; STARTING PITCH\nifin      =         cpspch(p5-1.00)          ; END PITCH OCTAVE DOWN\nkgliss    line      istart,p3,ifin           ; LINE FROM 1200 TO 400\nasig      oscil     p4,kgliss,1              ; OSCILLATOR\n\n          out       asig\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1      0 512 10 1                           ; A SINE WAVE\n\n;      st      dur     amp        pitch\n\ni1     0        2     10000       8.00  ; MIDDLE C PLAYED FOR 2 SECONDS\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a week sound using oscillator and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from week6_1.orc and Week6_1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n\namod      oscil     p4*.2,cpspch(p5),1            ; MODULATOR\nasig      oscil     p4*.8,cpspch(p5)+amod,1       ; CARRIER\n\n          out       asig\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1      0 512 10 1                          ; A SINE WAVE\n\n;      st      dur     amp        pitch\n\ni1     0        2     10000       8.00      ; MIDDLE C PLAYED FOR 2 SECONDS\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a week sound using oscillator and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from week4_2.orc and week4_2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n\nkgliss    line      1200,p3,400              ; LINE FROM 1200 TO 400 \nasig      oscil     p4,kgliss,1              ; OSCILLATOR\n          out       asig                        \n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1      0 512 10 1                      ; A SINE WAVE\n\n;      st      dur     amp        pitch\n\ni1     0        2     10000         0   ; PITCH TAKEN FROM KGLISS\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for k1        expseg    .01,.2,1,p3-.4,.9,.2,02 using FM synthesis and oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from WAVMODFM.ORC and WAVMODFM.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; waveshape mod from music 11 primer\n; 9/13/89\n\n          \n          instr 1\nk1        expseg    .01,.2,1,p3-.4,.9,.2,02\nk2        oscil     1,2/p3,3\na1        foscili   k1*p4,p5,5,1.0005,k1*1.5,1\na2        oscili    k1*p4,p5,6\n          out       a1*k2 + a2*(1-k2)\n          endin\n\n</CsInstruments>\n<CsScore>\nf 1 0 512 10 1\nf 2 0 513 7 0 256 1 256 .75\nf 3 0 512 7 1 256 0 256 1\nf 4 0 512 7 0 256 1 0 -1 256 0\nf 5 0 512 7 1 512 -1\nf 6 0 512 10 0 1.5 .25 .1 .1 .4\n\ni1 0  10  7500 100\ni1 .2 10  3750 141.4\ni1 .4 10  2500 199.8\ns\ni1 0       .2  5000  146.8\ni1  .2      .   .    196\ni1  .4      .   .    277.2\ni1  .6      .   .    207.6\ni1  .8      .   .    246.9\ni1  1      1    .    130.8\ni1  1.95   .1  7500  207.6\ni1  1.95   .1  7500  246.9\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a homep sound using oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from homep 2.orc and homep 2.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100 \nkr \t\t= \t\t4410                                  \nksmps \t= \t\t10\nnchnls \t= \t\t1\n\n\t\t\t\t\t\t\t; TOOT1.ORC \n\n\t\tinstr 1\nkenv \toscil\tp4,\t1 / p3 , 2\t\t\t\t; p4    = MAX,                 p3 = NOTE DUR\nkven \toscil\tp6,\t1 / p3,\t3\t\t\t\t; p6    = MAX\nkvib \toscil  \tkven, p7, 1\t\t\t\t\t; p6    = VIB DEPTH,           p7 = VIB SPEED\nkpen \tline\t\tp8, p3, p9\t\t\t\t\t; p8,p9 = START/STOP LINE lvl\na1 \t\toscil\tkenv, p5 + kpen + kvib, 1\t\t; p5    = NOTE FREQ\t\n    \t\tout    \ta1\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n;p3 = notedur   p4 = noteamp   p5 = notefreq   p6 = vibamp   p7 = vibspeed\n;p8,p9 = line levels\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t;FUNCTIONS\nf1 0 4096 10 1\nf2 0 1024 7 0 124 1 500 .9 400 0\nf3 0 1024 7 0 124 1 500 0 400 1\n\n\t\t\t\t\t\t\t\t\t;NOTE LIST\ni1 0 6 10000 440 5000 10 0 -1000\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp      =         p4 using distortion effect and oscillator and modified distortion", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from DISTORT.ORC and DISTORT.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr     1\n\niamp      =         p4\nifqc      =         cpspch(p5)\nitab1     =         p6\n\nasig      oscil     iamp, ifqc, itab1\naout      distort1  asig, 1, 1, .5, .5\n\n          outs      aout\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\n\n;  Sta  Dur  Amp    Fqc   Table\ni1 0.0  1.0  10000  8.00  1\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1\t\toscil\t32000, 400, 1 using oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from ok.orc and ok.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n\ni1 \t\tftgen \t1, 0, 1024, 10, 1\n\n\t\tinstr 1\na1\t\toscil\t32000, 400, 1\n\t\touts\t\ta1, a1\n\t\tendin\n\n</CsInstruments>\n<CsScore>\ni1 0 1\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for aout      oscili    30000,p4,1 using oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from cubic2.orc and cubic2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n          \n          instr     1\n\naout      oscili    30000,p4,1\n          out       aout\n          endin\n          \n          instr     2\n\naout      oscil     30000,p4,2\n          out       aout \n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 4 10 1\nf2 0 32 8 0 2 1 2 0 2 -1 2 0 2 1 2 0 2 -1 2 0 2 1 2 0 2 -1 2 0 2 1 2 0 2 -1 2\ni1 0 3 5512.5\ni2 3.5 3 1378.125\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a week sound using oscillator and linear segments and exponential segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from week4_1.orc and week4_1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n \nk1        expseg    .0001,.01,1,.01,.5,p3-.02,.001     ; DECAYING EXPSEG\nk2        linseg    1,.02,1,p3-.02,2.5                 ; RISING LINSEG\nk3        =         k1*k2\nasig      oscil     k3*p4,cpspch(p5),1                 ; AMP ARGUMENT MULTIPLIED BY MAX AMPLITUDE (p4) \n\n          out       asig\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1      0 512 10 1                          ; A SINE WAVE\n\n;      st      dur     amp        pitch\n\ni1     0        2     10000       8.00      ; MIDDLE C PLAYED FOR 2 SECONDS\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp      =         ampdb(p4) using oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Deutsch2.orc and Deutsch2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         44100\nksmps     =         1\nnchnls    =         2\n\n\n\n          instr 1\niamp      =         ampdb(p4)\nifreq1    =         p5\nifreq2    =         p6\nifun      =         p7\nkamp      oscili    iamp, 1/p3, ifun\nasig1     oscil     kamp, cpspch(p5), 1\nasig2     oscil     kamp, cpspch(p6), 1\n          outs      asig1, asig2\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 256 10 1\nf2 0 512 5 .001 40 1 432 1 40 .001\n\n;ins  start   dur   amp  freq1  freq2 fun\n;------------------------------------------\ni1      0    .25    80   8.00   9.00   2\ni1      +     .     .    8.11   8.02   .\ni1      +     .     .    8.04   8.09   .\ni1      +     .     .    8.07   8.05   .\ni1      +     .     .    8.05   8.07   .\ni1      +     .     .    8.09   8.04   .\ni1      +     .     .    8.02   8.11   .\ni1      +     .     .    9.00   8.00   .\ni1      +     .     .    8.00   9.00   .\ni1      +     .     .    8.11   8.02   .\ni1      +     .     .    8.04   8.09   .\ni1      +     .     .    8.07   8.05   .\ni1      +     .     .    8.05   8.07   .\ni1      +     .     .    8.09   8.04   .\ni1      +     .     .    8.02   8.11   .\ni1      +     .     .    9.00   8.00   .\nendin\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1\t\t=\t\t0 using synthesizer and oscillator and sample-and-hold random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from websynth5.orc and websynth5.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\n\ngisine\t=\t\t1\ngitri\t=\t\t2\ngisaw\t=\t\t3\ngisquare \t=\t\t4\ngipulse\t=\t\t5\n\n\t\tinstr 99\na1\t\t=\t\t0\na2\t\t=\t\t0\na3\t\t=\t\t0\na4\t\t=\t\t0\na5\t\t=\t\t0\na6\t\t=\t\t0\na7\t\t=\t\t0\n\t\tendin\n\n\t\tinstr 1\nk1\t\trandh\t\t1.0, 0.776266812952235, 0.9458\nk1\t\t=\t\t183.2048+((518.9897-183.2048)*((k1+1.)/2.))\na1\t\toscil\t1.0,k1,gitri\na2\t\toscil \t1.0,280.254603698849678,gisquare\na3\t\toscil\t1. * (1+a2),938.620902188122272,gisquare\na4\t\toscil \t1.0,280.254603698849678,gisquare\na5\t\toscil \t1.0 * (1+a4),938.620902188122272,gisquare\na6\t\toscil \t1.0,15.149003965221345,gisine\na7\t\t=\t\ta6 * (a1+a3+a5)*.2\n\t\tout\t\ta7*30000.00\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1 ; sine\nf2 0 8192 10 1 0 .111 0 .04 0 .02 0 ; triangle\nf3 0 8192 10 1 .5 .333 .25 .2 .166 .142 .125 ; saw\nf4 0 8192 10 1 0 .333 0 .2 0 .142 0 .111; square\nf5 0 8192 10 1 1 1 1 1 1 1 1 1 1 1 1 1; pulse\n\ni1 0 10.0000 \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Random vowel FOF instrument using choral/chant synthesis and oscillator and FOF formant synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Chant.orc and Chant.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 2205\nksmps  = 20\nnchnls = 1\n\n\ninstr    1 ; Random vowel FOF instrument\n\nilevl    = p4*10000   ; Output level\nipitch   = cpspch(p5) ; Pitch\nivibr    = p6         ; Vibrato rate\nivibd    = p7         ; Vibrato depth\nirate    = p8         ; Random vowel rate\nidet     = p9         ; Detune\nileng    = p3\n\nkenv     linseg  0, .1, 1, p3 - .2, 1, .1, 0\niseed    = rnd(1)\nk1       randi  .5, irate, iseed\nk1       = k1 + .5\nk2       linseg  0, p3, ivibd\nk3       oscil  k2, ivibr, 1\nk1f      table  k1, 11, 1\nk2f      table  k1, 12, 1\nk3f      table  k1, 13, 1\nk4f      table  k1, 14, 1\nk5f      table  k1, 15, 1\nk1b      table  k1, 21, 1\nk2b      table  k1, 22, 1\nk3b      table  k1, 23, 1\nk4b      table  k1, 24, 1\nk5b      table  k1, 25, 1\nkpitch   = ipitch + k3 + idet\na1       fof  1.0, kpitch, k1f, 0, k1b, .003, .02, .007, 1000, 1, 2, ileng\na2       fof  0.7, kpitch, k2f, 0, k2b, .003, .02, .007, 1000, 1, 2, ileng\na3       fof  0.5, kpitch, k3f, 0, k3b, .003, .02, .007, 1000, 1, 2, ileng\na4       fof  0.4, kpitch, k4f, 0, k4b, .003, .02, .007, 1000, 1, 2, ileng\na5       fof  0.3, kpitch, k5f, 0, k5b, .003, .02, .007, 1000, 1, 2, ileng\nout      (a1 + a2 + a3 + a4 + a5)*ilevl*kenv\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 4096 10 1 ; Sine\nf2 0 1024 19 .5 .5 270 .5 ; Rising sigmoid\n\nf11 0 1024 -7  600 256  400 256  250 256  400 256  350\nf12 0 1024 -7 1040 256 1620 256 1750 256  750 256  600\nf13 0 1024 -7 2250 256 2400 256 2600 256 2400 256 2400\nf14 0 1024 -7 2450 256 2800 256 3050 256 2600 256 2675\nf15 0 1024 -7 2750 256 3100 256 3340 256 2900 256 2950\n\nf21 0 1024 -7   60 256   40 256   60 256   40 256   40\nf22 0 1024 -7   70 256   80 256   90 256   80 256   80\nf23 0 1024 -7  110 256  100 256  100 256  100 256  100\nf24 0 1024 -7  120 256  120 256  120 256  120 256  120\nf25 0 1024 -7  130 256  120 256  120 256  120 256  120\n\n;     Strt  Leng  Levl  Pitch VibR  VibD  Rate  Detune\ni1    0.00  8.00  0.25  07.00 6.00  0.00  1.00  0.00\ni1    .     .     .     .     .     .     .     0.27\ni1    .     .     .     .     .     .     .     0.51\ni1    .     .     .     .     .     .     .     0.77\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for SCI FI 1 using oscillator and interpolating oscillator and panning", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bgoscil.orc and bgoscil.sco\n; Original files preserved in same directory\n\nsr        =         44100     ; SAMPLE RATE\nkr        =         4410      ; CONTROL RATE\nksmps     =         10        ; NUMBER OF SAMPLES PER CONTROL PERIOD\nnchnls    =         2         ; NUMBER OF CHANNELS\n\n;---------------------------------------------------------------\n; BEGINNERS OSCILLATOR DEMO\n; BY HANS MIKELSON MARCH 1999\n;---------------------------------------------------------------\n;---------------------------------------------------------------\n; OSCIL 1\n; STEREO DETUNED OSCILATORS WITH VIBRATO\n;---------------------------------------------------------------         \n          instr     1\nidur      =         p3                                 ; DURATION\niamp      =         p4                                 ; AMPLITUDE\nifqc      =         cpspch(p5)                         ; CONVERT PITCH TO FREQUENCY\nitable    =         p6                                 ; WAVEFORM NUMBER\nienv      =         p7                                 ; ENVELOPE SHAPE NUMBER\nklfo      oscil     .01, 6, 1                          ; LOW FREQUENCY OSCILLATOR FOR VIBRATO\nasigl     oscil     iamp, ifqc*0.999*(1+klfo), itable  ; LEFT SIGNAL\nasigr     oscil     iamp, ifqc*1.001*(1+klfo), itable  ; RIGHT SIGNAL\nkenv      oscili    1, 1/idur, ienv                    ; GENERATE THE ENVELOPE\n          outs      asigl*kenv, asigr*kenv             ; SHAPE THE SIGNAL WITH THE ENVELOPE BEFORE OUTPUT\n                    endin\n;---------------------------------------------------------------\n; SCI FI 1\n;---------------------------------------------------------------         \n          instr     2\nidur      =         p3                                 ; DURATION\niamp      =         p4                                 ; AMPLITUDE\nifqc      =         cpspch(p5)                         ; CONVERT PITCH TO FREQUENCY\nitable    =         p6                                 ; WAVEFORM NUMBER\nienv      =         p7                                 ; ENVELOPE SHAPE NUMBER\nklfo      oscil     .5, 3, 2                           ; LOW FREQUENCY OSCILLATOR FOR FREQUENCY SWEEP\nasigl     oscil     iamp, ifqc*0.998*(1+klfo), itable  ; LEFT AUDIO SIGNAL\nasigr     oscil     iamp, ifqc*1.002*(1+klfo), itable  ; RIGHT AUDIO SIGNAL\nkenv      oscili    1, 1/idur, ienv                    ; GENERATE THE ENVELOPE\n          outs      asigl*kenv, asigr*kenv             ; SHAPE THE SIGNAL WITH THE ENVELOPE BEFORE OUTPUT\n          endin\n;---------------------------------------------------------------\n; SCI FI 2\n;---------------------------------------------------------------\n          instr     3\nidur      =         p3                                 ; DURATION\niamp      =         p4                                 ; AMPLITUDE\nifqc      =         cpspch(p5)                         ; CONVERT PITCH TO FREQUENCY\nitable    =         p6                                 ; WAVEFORM NUMBER\nienv      =         p7                                 ; ENVELOPE SHAPE NUMBER\nklfo      oscil     .1, 4, 3                           ; LOW FREQUENCY OSCILLATOR FOR PITCH WARBLE\nasigl     oscil     iamp, ifqc*0.998*(1+klfo), itable  ; LEFT AUDIO SIGNAL\nasigr     oscil     iamp, ifqc*1.002*(1+klfo), itable  ; RIGHT AUDIO SIGNAL\nkenv      oscili    1, 1/idur, ienv                    ; GENERATE THE ENVELOPE\n          outs      asigl*kenv, asigr*kenv             ; SHAPE THE SIGNAL WITH THE ENVELOPE BEFORE OUTPUT\n          endin\n;---------------------------------------------------------------\n; AUTO PANNING\n;---------------------------------------------------------------\n          instr     4  \nidur      =         p3                                 ; DURATION\niamp      =         p4                                 ; AMPLITUDE\nifqc      =         cpspch(p5)                         ; CONVERT PITCH TO FREQUENCY\nitable    =         p6                                 ; WAVEFORM NUMBER\nienv      =         p7                                 ; ENVELOPE SHAPE NUMBER\nklfo      oscil     .2, 8, 2                           ; LOW FREQUENCY OSCILLATOR FOR PITCH SWEEP\nklfo2     oscil     .5, 2, 3                           ; LOW FREQUENCY OSCILLATOR FOR AUTOPANNING\nasigl     oscil     iamp, ifqc*0.998*(1+klfo), itable  ; LEFT AUDIO SIGNAL\nasigr     oscil     iamp, ifqc*1.002*(1+klfo), itable  ; RIGHT AUDIO SIGNAL\nkenv      oscili    1, 1/idur, ienv                    ; GENERATE THE ENVELOPE\n          outs      asigl*kenv*(klfo2+.4), asigr*kenv*(.4-klfo2) ; SHAPE WITH THE ENVELOPE AND PAN\n          endin\n\n</CsInstruments>\n<CsScore>\n;-------------------------------------------------------------------------\n; BEGINNERS OSCILLATOR DEMO\n; BY HANS MIKELSON MARCH 1999\n;-------------------------------------------------------------------------\nf1 0 16384 10 1                                    ; SINE WAVE\nf2 0 16384 10 1 .5 .333333 .25 .2 .166667 .142857 .125 .111111 .1 .090909 .083333 .076923   ; BANDLIMITED SAWTOOTH WAVE\nf3 0 16384 10 1 0  .333333 0   .2 0       .142857 0    .111111 0  .090909 0       .076923   ; BANDLIMITED SQUARE WAVE\nf4 0 16384 7  1 16385 -1                           ; ARITHMETIC SAWTOOTH WAVE\nf5 0 16384 7  1 8192   1 0 -1 8192 -1              ; ARITHMETIC SQUARE WAVE\nf6 0 1025  7  0 128 1 128 .8 256 .6 256 .6 257 0   ; ADSR TYPE ENVELOPE\nf7 0 1025  7  0 13 1 1000 1 12 0                   ; SIMPLE ENVELOPE\n; DETUNED BAND-LIMITED OSCILATORS WITH VIBRATO\n;    Sta  Dur  Amp    Pitch  Table  Env\ni1   0    .5   20000  8.00   1      6\ni1   +    .5   .      8.03   1      .\ni1   .    .5   .      8.05   1      .\ni1   .    .5   .      8.00   1      .\ni1   .    .5   .      7.00   2      .\ni1   .    .5   .      8.00   2      .\ni1   .    1    .      7.07   2      .\ni1   .    .5   .      7.00   3      .\ni1   .    .5   .      8.03   3      .\ni1   .    .5   .      8.05   3      .\ni1   .    .5   .      8.00   3      .\ni1   .    .5   .      7.00   2      .\ni1   .    .5   .      7.07   2      .\ni1   .    1    .      7.00   2      .\n; ALGEBRAIC SAW AND SQUARE WAVES\n;    Sta  Dur  Amp    Pitch  Table  Env\ni1   9    1    .      7.00   4      .\ni1   +    .    .      8.00   4      .\ni1   .    .    .      7.00   5      .\ni1   .    .    .      8.00   5      .\n; Sci Fi sound;    Sta  Dur  Amp    Pitch  Table  Env\ni2  14    2    20000  8.00   2      7\ni3  16    2    20000  7.07   3      7\n; Panning sound effect\ni4  18    2    20000  7.07   2      7\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from neworbits.orc and neworbits.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410 \nksmps     =         10\nnchnls    =         2\n\n; ORCHESTRA\n\n; ORBITS TRACED ON COMPLEX 3D SURFACES\n; z=sin^2*(sqrt(x^2+y^2))\n          instr 1\n\nidur      =         p3\niamp      =         p4\nifqc      =         cpspch(p5)\n\nkdclick   linseg    0, .002, iamp, idur-.004, iamp, .002, 0\n\nkrsize    linseg    .5, idur*.5, 5, idur*.5, .5 ; SWEEPS BOTH RADIUS SIZE AND CIRCLE CENTER\nkrad0     oscil     krsize, 1, 1\nkrad1     =         krad0+6                  ; MAKE A POSITIVE RADIUS.\n                              \nax0       oscil     krad1, ifqc, 1, .25      ; COSINE\nax        =         ax0+krsize\nay0       oscil     krad1, ifqc, 1           ; SINE\nay        =         ay0-krsize\n\naz1       =         sin(sqrt(ax*ax+ay*ay))   ; COMPUTE THE SURFACE\naz        =         az1*az1-.5\n\n          outs      az*kdclick, az*kdclick\n\n          endin\n\n; z=ln(x^2+y^2)\n          instr 2\n\nidur      =         p3\niamp      =         p4\nifqc      =         cpspch(p5)\n\nkdclick   linseg    0, .002, iamp, idur-.004, iamp, .002, 0\n\nkrsize    linseg    .5, idur*.5, 5, idur*.5, .5\nkrad0     oscil     krsize, 1, 1\nkrad1     =         krad0+6\n\nax0       oscil     krad1, ifqc, 1, .25      ; COSINE\nax        =         ax0+krsize\nay0       oscil     krad1, ifqc, 1           ; SINE\nay        =         ay0-krsize\n                                        \naz        =         log(ax*ax+ay*ay)-4\n\n          outs      az*kdclick, az*kdclick\n\n          endin\n\n; z=-5*x/(x^2+y^2+1)\n          instr 3\n\nidur      =         p3\niamp      =         p4\nifqc      =         cpspch(p5)\n\nkdclick   linseg    0, .002, iamp, idur-.004, iamp, .002, 0\n\nkrsize    linseg    .5, idur*.5, 5, idur*.5, .5\nkrad0     oscil     krsize, 1, 1\nkrad1     =         krad0+6\n\nax0       oscil     krad1, ifqc, 1, .25      ; COSINE\nax        =         ax0+krsize\nay0       oscil     krad1, ifqc, 1           ; SINE\nay        =         ay0-krsize\n\naz        =         -5*ax/(ax*ax+ay*ay+1)\n\n          outs      az*kdclick, az*kdclick\n\n          endin\n\n</CsInstruments>\n<CsScore>\n; SCORE\nf1 0 8192 10 1\n\n;   Sta  Dur  Amp    Pch\ni1  0    2    20000  8.00\ni2  2    2    1000   8.00\ni3  4    2    5000   8.00\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for igain     =         p4 using oscillator and Butterworth highpass filter and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from LEAVES.ORC and LEAVES.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n;BUBBLING CAULDRON FROM CUBEWATER , VARIATION ON KIM CASCONE'S WATER BY ELOY ANZOLA\n\n          instr     8\n\nigain     =         p4\nifreq     =         p5                  ;MUST BE VALUES < OR CLOSE TO 1, CONTROLS PITCH\nkrt       =         p6                  ;THIS IS THE FRQ OF THE RANDH OUTPUT & CLK OSC\nipantab   =         p7\n\nksh       randh     5000, krt\n\n;a2       oscil     2, 100, 1           ;SINE OSC (F1) CONTROLLED BY S&H\na2        rand      3000\n\nksh       =         ksh * ifreq         ;* .5\n\na4        butterhp  a2,ksh ;,50         ;FILTER WITH S&H CONTROLING THE FCO\na3        oscil     a4,1/p3,13          ;a3 IS THE OUTPUT f13 ADSR\n\na3        =         a3 * igain\n\nkpan      oscil     1,.14, ipantab\n\naoutl     =         a3 * (1-kpan)\naoutr     =         a3 * kpan\n        \n          outs      aoutl,aoutr\n\n          endin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\nf13 0 2049 7 0 200 1 200 .5 1200 .5 448 0\nf14 0 2048 7 0 1024 1 1024 0\n\n;     Sta  Dur  Gain  Fqc  Krt  PanTab\ni8    0    2    .8    4    40   14\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for if        p4 == 0 then kgoto dark using oscillator and resonant filter and amplitude balance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from condition.orc and condition.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n          instr 1\n\n          if        p4 == 0 then kgoto dark\n\nlight:\nanoise    rand      10000\na1        reson     anoise, 1760, 4\na2        reson     anoise, 880, 40\n\n          goto      contin\n\ndark:\nanoise    rand      10000\na2        reson     anoise, 55, 0.04\n\ngoto contin\n\ncontin:\nkrimp     line      30000,p3,0\naamp      oscil     krimp, 440, 1\naleft     balance   a1, aamp\naright    balance   a2, aamp\n          outs      aleft,aright\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 10 5 9 5 8 4 7 3 7 2 6 3 3 1 1\n\nt 0 60\n\ni1 0 2 1\ni1 2 2 0\ni1 4 2 1\ni1 6 2 0\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ******  PORTAMENTO  ****** using oscillator and buzz/pulse generator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from AM.ORC and AM.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n;*********************************************************;\n;      AMPLITUDE MODULATION   ORCHESTRA           \n;                                                         ;     \n;     P3 = DURATION           P4 = AMPLITUDE              ;\n;     P5 = PITCH IN CPS       P6 = RATE OF MODULATION     ;\n;     P7 = MODULATION DEPTH % P8 = FUNCTION FOR MOD RATE  ;\n;     P9 = FUNCTION FOR MOD DEPTH                 \n;     P10 = FUNCTION FOR PORTAMENTO                    \n;                                                         ;\n;     FUNCTIONS                                           ;\n;                                                         ;     \n;     F1 = SINE WAVE         F2 = LINEAR RISE             ;\n;     F3 = LINEAR FALL       F4 = EXPONENTIAL RISE        ;\n;     F5 = EXPONENTIAL FALL  F6 = SINE WAVE FOR BUZZ      ;\n;     F7 = MODULATION RATES  F8 = MODULATION DEPTHS         \n;                                                         ;\n;*********************************************************;\n\n                 \n               instr     1\n;  ******  PORTAMENTO  ******\n     ipitch    =         (p5)\n     idist     =         (sr*.4) - ipitch\n     kchange   oscil1    0.0, idist, p3, p10\n     kline     =         kchange + ipitch\n;\n; *****  AMPLITUDE MODULATION ******\n     iampfac   =         (p4)*(p7)\n     ktsamp    oscil1    0.41,iampfac,(p3),(p9)\n     kstfrq    oscil1    0.38,(p6),(p3),(p8)\n     ktrem     oscil     ktsamp,kstfrq,1\n     kamp      =         (p4)+ktrem\n;\n; *****  MAIN INSTRUMENT DESIGN  ***********\n     knh       =         int((sr*.42)/kline)\n     asrce     buzz      kamp,kline,knh,6\n     amain     reson     asrce,12000,8000,1\n     asnd      balance   amain,asrce \n     asig      envlpx    asnd,.1,p3,.01,2,1.001,.01\n               out       asig\n               endin\n\n\n</CsInstruments>\n<CsScore>\n;AMPLITUDE MODULATION SCORE FILE \n; SINE WAVE\nf1 0.0 512 10 1\n; LINEAR RISE\nf2 0.0 513 7 0 513 1\n; LINEAR FALL\nf3 0.0 513 7 1 513 0\n; EXPONENTIAL RISE\nf4 0.0 513 5 .001 513 1\n; EXPONENTIAL FALL\nf5 0.0 513 5 1 513 .001\n; FUNCTION FOR BUZZ UNIT\nf6 0.0 8192 10 1\n; FUNCTION FOR MODULATOR RATE\nf7 0.0 513 5 .001 62 .9 150 .65 200 .97 51 .78 50 1\n; FUNCTION FOR MODULATOR DEPTH\nf8 0.0 513  5 .5 163 .39 200 .97 150 .61\n;    FUNCTION FOR PORTAMENTO\nf9 0.0 513 7 0 105 .4 31 .25 105 .65 31 .50 105 .90 31 .75 105 1\n\n;      INSTRUMENT CARDS\n\ni1 0.00 4.50 10000 8000 6000 0.3 7 8 9\ns\ni1 0.00 4.50 10000  3000 10000 0.3 7 8 9\ni1 2.53 4.50 10000  8000 10000 1.0 7 8 9\ni1 4.05 4.50 10000  9000 10000 0.3 7 8 9\ni1 4.97 4.50 10000 10000 10000 1.0 7 8 9\ns\ni1 0.00 4.50 10000  4000 3200 1.0 7 8 9\ns\ni1 0.00 4.50 10000 1000 8000 1.0 7 8 9\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1\t\t=\t\t0 using synthesizer and oscillator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from websynth4.orc and websynth4.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\n\ngisine\t=\t\t1\ngitri\t=\t\t2\ngisaw\t=\t\t3\ngisquare\t=\t\t4\ngipulse\t=\t\t5\n\n\t\tinstr 99\na1\t\t=\t\t0\na2\t\t= \t\t0\na3\t\t=\t\t0\na4\t\t=\t\t0\na5\t\t=\t\t0\nk4\t\t=\t\t0\nk5\t\t=\t\t0\na6\t\t=\t\t0\na7\t\t=\t\t0\na7\t\t=\t\t0\n\t\tendin\n\n\t\tinstr 1\nk1\t\trandh \t1.0, 0.270938829518855, 0.1214\nk1\t\t=\t\t285.4828+((677.9081-285.4828)*((k1+1.)/2.))\nk2\t\trandh\t1.0, 1.70374568188563, 0.9253\nk2\t\t=\t\t197.0774+((1268.8159-197.0774)*((k2+1.)/2.))\nk3\t\trandh \t1.0, 1.256591910962015, 0.3582\nk3\t\t=\t\t295.6161+((1903.2239-295.6161)*((k3+1.)/2.))\na1\t\toscil\t1.0,k1,gisaw\na2\t\toscil\t1.0,745.308952964842319,gisquare\na3\t\toscil\t1.0 * (1+a2),869.208797514438629,gisquare\na4\t\toscil\t1.0,k2,gisquare\na5\t\toscil\t1.0,k3,gisquare\nk4\t\toscil\t1.0,0.093227945305407,gisine\nk4\t\t=\t\t990.7587+((3963.0349-990.7587)*((k4+1.)/2.))\nk5\t\toscil\t1.0,0.093227945305407,gisaw\nk5\t\t=\t\t780.9597+((1832.5344-780.9597)*((k5+1.)/2.))\na6 \t\treson\ta4*a5, k4, k4*0.282276563788764, 1\nkdel1\t=\t\t1/k4\naddl1\tdelayr\t1.0000\na6tp\t\tdeltapi\tkdel1\na6\t\t=\t\ta6 + (a6tp*0.8)\n\t\tdelayw\ta6\na6\t\tbalance\ta6,a4*a5\na6\t\t=\t\ta6*.2\na7\t\treson\ta1*a3*a6, k5, k5*0.348104960843921, 1\na7\t\tbalance\ta7,a1*a3*a6\na7\t\t=\t\ta7*.2\na7\t\treson\ta7, k5, k5*0.551398015674204, 1\na7\t\tbalance\ta7,a7\na7\t\t= \t\ta7*.2\n\t\tout\t\ta7*30000.00\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1 ; sine\nf2 0 8192 10 1 0 .111 0 .04 0 .02 0 ; triangle\nf3 0 8192 10 1 .5 .333 .25 .2 .166 .142 .125 ; saw\nf4 0 8192 10 1 0 .333 0 .2 0 .142 0 .111; square\nf5 0 8192 10 1 1 1 1 1 1 1 1 1 1 1 1 1; pulse\n\ni1 0 10.0000 \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for knote     cpsmidib using MIDI control and oscillator and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from midify1.orc and midify1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\nknote     cpsmidib\niveloc    ampmidi   1\nkgate     linenr    iveloc/2, 0, .2, .01\n     \nkva       line      0, 3, .02\nkv        oscil     knote*kva, 4, 3\n\nkf        linseg    2200, 1.5, 1200, .5, 880, 5, 440\n     \nk1        linseg    8000, .5, 8000, 5, 2000\nk2        line      700, .5, 700\n     \na5        oscil     k2, knote, 3\na6        oscil     k2, knote*1.499, 3\n\na1        oscil     k1, knote*2.001 + a5 + kv, 3\na2        oscil     k1, knote*1.502 + a6 + kv, 3\na2        butterlp  a2 + a1, kf\n\n          out      a2 * kgate\n          endin\n\n; SUBSTITUTE KNOTE FOR ALL AUDIO OSCILLATOR FREQUENCY ARGUMENTS\n; MULTIPLY THE OUTPUT BY KGATE\n; INSERT KNOTE ...  IVELOC... AND KGATE .... AT THE START OF EACH INSTRUMENT\n;knote    cpsmidib\n;iveloc   ampmidi   1\n;kgate    linenr    iveloc, 0, .2, .01\n\n</CsInstruments>\n<CsScore>\nf0 15\n\nf3 0 1024 10 1\nf7 0 1024 8 0.001 300 .2 212 1 212 .2 300 0.001\nf9 0 1024 8 1 512 .6 512 1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp      =         ampdb(p4) using oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Deutsch1.orc and Deutsch1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         44100\nksmps     =         1\nnchnls    =         2\n\n\n\n          instr 1\n\niamp      =         ampdb(p4)\nifreq1    =         p5\nifreq2    =         p6\nifun      =         p7\n\nkamp      oscili    iamp, 1/p3, ifun\nasig1     oscil     kamp, ifreq1, 1\nasig2     oscil     kamp, ifreq2, 1\n          outs      asig1, asig2\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 256 10 1\nf2 0 512 7 0 30 1 452 1 30 0\n\n;ins  start  dur   amp  freq1  freq2  fun\n;------------------------------------------\ni1      0    .25   80   800    400      2\ni1      +         .      .     400    800      \ni1      +         .      .     800    400      \ni1      +         .      .     400    800      \ni1      +         .      .     800    400      \ni1      +         .      .     400    800      \ni1      +         .      .     800    400      \ni1      +         .      .     400    800      \ni1      +         .      .     800    400      \ni1      +         .      .     400    800      \ni1      +         .      .     800    400      \ni1      +         .      .     400    800      \ni1      +         .      .     800    400      \ni1      +         .      .     400    800      \ni1      +         .      .     800    400      \ni1      +         .      .     400    800      \ni1      +         .      .     800    400      \ni1      +         .      .     400    800      \ni1      +         .      .     800    400      \ni1      +         .      .     400    800      \nendin\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp      =         p4 using oscillator and linear segments and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from HARMDIST.ORC and HARMDIST.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         22050\nksmps     =         2\nnchnls    =         2\n\n                              \n; HARMONIC DISTORTION\n          instr     2\n\niamp      =         p4\nifqc      =         cpspch(p5)\nitabf     =         p6\nitab1     =         p7\nitab2     =         p8\nitab3     =         p9\nitab4     =         p10\nifrms     =         40\n\nkamp      linseg    0, .1*p3, iamp, .7*p3, iamp/2, .2*p3, 0\n\naoscf     oscil     kamp, ifqc, 1\naosc1     oscil     kamp, ifqc*2, 1\naosc2     oscil     kamp, ifqc*3, 1\naosc3     oscil     kamp, ifqc*4, 1\naosc4     oscil     kamp, ifqc*5, 1\n\n\nkrms      rms       aosc1, ifrms\nkndx      =         krms/16000\n\nksclf     tablei    kndx, itabf, 1\nkscl1     tablei    kndx, itab1, 1\nkscl2     tablei    kndx, itab2, 1\nkscl3     tablei    kndx, itab3, 1\nkscl4     tablei    kndx, itab4, 1\naoutl     =         aoscf*ksclf+aosc1*kscl1+aosc2*kscl2+aosc3*kscl3+aosc4*kscl4\naoutr     =         aoscf*ksclf+aosc1*kscl1+aosc2*kscl2+aosc3*kscl3+aosc4*kscl4\n\n          outs      aoutl, aoutr\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\n; FUNDAMENTAL\nf2 0 8193 -8 1 2048 1 2048 .3 2048 0  2049  0\n; FIRST HARMONIC\nf3 0 8193 -8 0 4096 .7 2048 .2  2049  0\n; SECOND HARMONIC\nf4 0 8193 -8 0 4096 .1 3072 .6  1025  0\n; THIRD HARMONIC\nf5 0 8193 -8 0 4096 .01 3072 .05  512 .5 256 .05 257  0\n; FOURTH HARMONIC\nf6 0 8193 -8 0 4096 .05 3072 .01  512 .02 256 .4 257  0\n\n;   Sta  Dur  Amp     Pitch  Fund  First  Second  Third  Fourth\ni2  0.0  1    20000   9.00   2     3      4       5      6\ni2  0.5  1    20000   8.05   .     .      .       .      .\ni2  1.0  1    20000   7.07   .     .      .       .      .\ni2  1.5  1    20000   6.00   .     .      .       .      .\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Random stepped wave generator. using oscillator and modal synthesis and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from StepWave.orc and StepWave.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 4410\nksmps    = 10\nnchnls   = 1\n\n\ninstr    1 ; Random stepped wave generator.\n\nilevl    = p4*32767   ; Output level\nipitch   = cpspch(p5) ; Pitch\nimode    = p6         ; Mode: 0=Stepped 1=Interpolated\n\nkdclick  linseg  0, .02, 1, p3-.04, 1, .02, 0\nk1       randi  1, 01\nk2       randi  1, 02\nk3       randi  1, 03\nk4       randi  1, 04\nk5       randi  1, 05\nk6       randi  1, 06\nk7       randi  1, 07\nk8       randi  1, 08\na1       oscil  1*k1, ipitch, imode\na2       oscil  1*k2, ipitch, imode, .125\na3       oscil  1*k3, ipitch, imode, .250\na4       oscil  1*k4, ipitch, imode, .375\na5       oscil  1*k5, ipitch, imode, .500\na6       oscil  1*k6, ipitch, imode, .625\na7       oscil  1*k7, ipitch, imode, .750\na8       oscil  1*k8, ipitch, imode, .875\naout     sum  a1, a2, a3, a4, a5, a6, a7, a8\nout      aout*kdclick*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\nf01 0 4096 7 1 256 0 3584 0 256 1 ; 1:8 Pulse.\n\n;     Strt  Leng  Levl  Pitch\ni01   0.00  4.00  1.00  06.00\t01\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1\t\t=\t\t0 using synthesizer and oscillator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from websynth7.orc and websynth7.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\n\ngisine\t=\t\t1\ngitri\t=\t\t2\ngisaw\t=\t\t3\ngisquare\t=\t\t4\ngipulse\t=\t\t5\n\n\t\tinstr 99\na1\t\t=\t\t0\na2 \t\t=\t\t0\na3\t\t=\t\t0\na4\t\t=\t\t0\nk1\t\t=\t\t0\na5\t\t=\t\t0\na5\t\t=\t\t0\n\t\tendin\n\n\t\tinstr 1\na1\t\toscil \t1.0,1202.872447283007205,gisine\na2\t\toscil\t1.0,1143.00822414457798,gisquare\na3\t\toscil \t1.0 * (1+a2),99.405863471329212,gisquare\na4\t\toscil\t1.0,1457.696915492415428,gisine\nk1\t\toscil\t1.0,0.009067947392818,gisaw\nk1\t\t=\t\t246.3645+((3062.5840-246.3645)*((k1+1.)/2.))\na5\t\treson\ta1*a3*a4, k1, k1*0.695172764733434, 1\na5\t\tbalance\ta5,a1*a3*a4\na5\t\t=\t\ta5*.2\na5\t\treson\ta5, k1, k1*0.192145924177021, 1\na5\t\tbalance\ta5,a5\na5\t\t=\t\ta5*.2\n\t\tout\t\ta5*30000.00\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1 ; sine\nf2 0 8192 10 1 0 .111 0 .04 0 .02 0 ; triangle\nf3 0 8192 10 1 .5 .333 .25 .2 .166 .142 .125 ; saw\nf4 0 8192 10 1 0 .333 0 .2 0 .142 0 .111; square\nf5 0 8192 10 1 1 1 1 1 1 1 1 1 1 1 1 1; pulse\n\ni1 0 10.0000 \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using FM synthesis and oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Fm105.orc and Fm105.sco\n; Original files preserved in same directory\n\nsr        =         44100 \nkr        =         4410                                  \nksmps     =         10\nnchnls    =         1\n\n\n; FM INSTRUMENT 5\n; ONE CARRIER AND A FOUR MODULATOR STACK\n; FIVE INDEPENDENT ENVELOPE GENERATORS\n; FOUR INDEPENDENT MODULATION INDEX\n\n          instr 5\n\nidur      =         p3\n\nicaramp   =         ampdb(p4) \nicarfreq  =         p5\n \nimod1freq =         p6\nimod2freq =         p7\nimod3freq =         p8\nimod4freq =         p9\n\nindex1    =         p10\nindex2    =         p11\nindex3    =         p12\nindex4    =         p13\n\nimod1index =        imod1freq * index1\nimod2index =        imod2freq * index2\nimod3index =        imod3freq * index3\nimod4index =        imod4freq * index4\n\nicarrise  =         p14\nicardec   =         p15\n\nimod1rise =         p16\nimod1dec  =         p17\nimod2rise =         p18\nimod2dec  =         p19\nimod3rise =         p20\nimod3dec  =         p21\nimod4rise =         p22\nimod4dec  =         p23\n\n \n\nkmod4amp  linen     imod4index, imod4rise, idur,  imod4dec \namod4sig  oscil     kmod4amp, imod4freq, 1\n\nkmod3amp  linen     imod3index, imod3rise, idur, imod3dec \namod3sig  oscil     kmod3amp, imod3freq + amod4sig, 1\n \nkmod2amp  linen     imod2index, imod2rise, idur, imod2dec \namod2sig  oscil     kmod2amp, imod2freq + amod3sig, 1\n                \nkmod1amp  linen     imod1index, imod1rise, idur, imod1dec \namod1sig  oscil     kmod1amp, imod1freq + amod2sig, 1\n\nkcaramp   linen     icaramp, icarrise, idur, icardec \nacarsig   oscil     kcaramp, icarfreq + amod1sig, 1\n\n          out       acarsig\n\ndispfft   acarsig,  .25, 1024\n\n          endin\n\n</CsInstruments>\n<CsScore>\n; Fm instrument 5\n; One Carrier and a Four Modulator Stack\n; Five Independent Envelope Generators\n; Four Independent Modulation Index\n\n;  idur = p3\n\n;  icaramp =  ampdb(p4) \n;    icarfreq = p5\n \n;  imod1freq = p6\n;  imod2freq = p7\n;  imod3freq = p8\n;  imod4freq = p9\n\n;  index1 = p10\n;  index2 = p11\n;  index3 = p12\n;  index4 = p13\n\n;  icarrise = p14\n;  icardec =  p15\n\n;  imod1rise =  p16\n;  imod1dec =   p17\n;  imod2rise =  p18\n;  imod2dec =   p19\n;  imod3rise =  p20\n;  imod3dec =   p21\n;  imod4rise =  p22\n;  imod4dec =   p23\n\nf1 0  4096  10  1\n   \ni5 0  .5  80 100 102  97 1327 1486  4  1 4 6  .001  .002  .25  .05  .01 .09 .024 .06 .02 .1 \ni5 +  .     80     >     >     >       >        >   >  > > >        >      >       >    >  .01 .09 .024 .06 .02 .1 \ni5 +  .    80   50  51   47 1876   196  8 4 1 1       .1    2        5   3  .01 .09 .024 .06 .02 .1 \ns\ni5 0  10  80 100 100 200 300 400 4 3 2 1  .1  2   3  5  8 10 12 6 14 6 \ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for MALE AAAAAH using oscillator and FOF formant synthesis and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from kidsahh.orc and kidsahh.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t=\t\t4410\nksmps \t=\t\t10\nnchnls \t= \t\t1\n\n;**********************************************************************\n; VOICES\n; synthesis:\t FOF(45)\n;\t\t\t Summed FOF generators(33)\n; coded:\t\t 3/27/96 Hans Mikelson \n\n\n\t\tinstr 1\n; MALE AAAAAH\nidur\t  \t= \t\tp3\nifq\t  \t= \t\tp4\t\t\nk1 \t\toscil   \t2, 4, 1\t\t\t\t; VIBRATO\nk2 \t\tlinseg  \t0, idur*.9, 0, idur*.1, 1 ; OCTAVIATION COEFFICIENT\n\n;                                  KOCT                          IOLAPS  IFNB\n;\t\t\t\tXAMP  XFUND  XFORM\t   KBAND KRIS\tKDUR\t KDEC    IFNA\t  IDUR\n; BASE AMPLITUDE OF 20000\n\na1 \t\tfof\t\t10000,ifq+k1,  1030, k2, 200, .003, .017, .005,  10, 1,19, idur, 0, 1\na2 \t\tfof\t\t6845,ifq+k1, 1370, k2, 200, .003, .017, .005, 20, 1,19, idur, 0, 1\na3 \t\tfof\t\t1845,ifq+k1, 3170, k2, 200, .003, .017, .005, 20, 1,19, idur, 0, 1\na4 \t\tfof\t\t1726,ifq+k1, 3797, k2, 200, .003, .017, .005,  30, 1,19, idur, 0, 1\na5 \t\tfof\t\t1250,ifq+k1, 4177, k2, 200, .003, .017, .005, 30, 1,19, idur, 0, 1\na6 \t\tfof\t\t5833,ifq+k1,  428, k2, 200, .003, .017, .005, 10, 1,19, idur, 0, 1\n\na7 \t\t=\t\t(a1 + a2 + a3 + a4 + a5 + a6) * p5 / 10\n\na8 \t\ttone \ta7, 5000\n\t\tout\t \ta7\n\t\t\n\t\tendin\n\n\t\tinstr 2\n; WOLF HOWL\nidur\t  \t= \t\tp3\nifq\t  \t= \t\tp4\t\t\nk4 \t\toscil   \t2, 4, 1\t\t\t\t; VIBRATO\nk2 \t\tlinseg  \t0, idur*.9, 0, idur*.1, 1 ; OCTAVIATION COEFFICIENT\nk3 \t\tlinseg  \t-10, idur*.1, 0, idur*.9, -5\nk1 \t\t= \t\tk3 + k4\n\nkfo1 \tlinseg\t684, idur*.3,\t 684, idur*.5, 494, idur*.2,\t500\nkfo2 \tlinseg\t1178, idur*.2, 1180, idur*.5, 1007, idur*.3, 1000\nkfo3 \tlinseg\t2471, idur*.5, 2528, idur*.5, 2500\nkfo4 \tlinseg\t3497, idur*.3, 3500, idur*.4, 3060, idur*.3, 3060\nkfo5 \tlinseg\t3877, idur*.4, 3535, idur*.6, 3500\n\n;\t\t\t\t\t\t\tkoct\t\t\t\t\t\tiolaps  ifnb\n;\t\t\t\tXAMP  XFUND  XFORM\t   KBAND KRIS\tKDUR\t KDEC    IFNA\t  IDUR\n\na1 \t\tfof\t \t2300,ifq+k1,\tkfo1, k2, 400, .003, .007, .005, 10, 1,19, idur, 0, 1\na2 \t\tfof\t \t660,ifq+k1,\tkfo2, k2, 400, .003, .007, .005, 10, 1,19, idur, 0, 1\na3 \t\tfof\t \t1050,ifq+k1, 1501, k2, 400, .003, .007, .005,  2, 1,19, idur, 0, 1\na4 \t\tfof\t  \t500,ifq+k1, 2033, k2, 400, .003, .007, .005, 10, 1,19, idur, 0, 1\na5 \t\tfof\t \t 590,ifq+k1, kfo3, k2, 400, .003, .007, .005, 10, 1,19, idur, 0, 1\na6 \t\tfof\t  \t210,ifq+k1, kfo4, k2, 400, .003, .007, .005,  2, 1,19, idur, 0, 1\na7 \t\tfof\t  \t170,ifq+k1, kfo5, k2, 400, .003, .007, .005, 10, 1,19, idur, 0, 1\na8 \t\tfof\t  \t190,ifq+k1, 3535, k2, 400, .003, .007, .005, 10, 1,19, idur, 0, 1\n\na5 \t\t=\t\t(a1 + a2 + a3 + a4 + a5 + a6 + a7 + a8) * p5 / 5\n\na6 \t\ttone \ta5, 5000\n\n\t\tout\t \ta6\n\n\t\tendin\n\n\t\tinstr 3\n; MALE OOOOO\nidur\t  \t= \t\tp3\nifq\t  \t= \t\tp4\nk1 \t\toscil   \t2, 4, 1\t\t\t\t; VIBRATO\nk2 \t\tlinseg  \t0, idur*.9, 0, idur*.1, 1 ; OCTAVIATION COEFFICIENT\n\n;\t\t\t\t\t\t\tkoct\t\t\t\t    iolaps  ifnb\n;\t\t\t\tXAMP  XFUND  XFORM\t   KBAND KRIS\tKDUR\t KDEC    IFNA\t  IDUR\n\na1 \t\tfof\t\t10000,ifq+k1,  350, k2, 120, .003, .017, .005,  2, 1,19, idur, 0, 1\na2 \t\tfof\t\t4000,ifq+k1,  640, k2, 120, .003, .017, .005, 10, 1,19, idur, 0, 1\na3 \t\tfof\t\t2000,ifq+k1, 2550, k2, 120, .003, .017, .005, 10, 1,19, idur, 0, 1\n\na5 \t\t=\t    a1 + a2 + a3\n\n\t\tout\t \ta5 * p5 / 10\n\n\t\tendin\n\n\t\tinstr 4\n; MALE OHHHH\nidur\t  \t= \t\tp3\nifq\t  \t= \t\tp4\nk1 \t\toscil   \t2, 4, 1\t\t\t\t; VIBRATO\nk2 \t\tlinseg  \t0, idur*.9, 0, idur*.1, 1 ; OCTAVIATION COEFFICIENT\n\n;\t\t\t\t\t\t\tkoct\t\t\t\t    iolaps  ifnb\n;\t\t\t\tXAMP  XFUND  XFORM\t   KBAND KRIS\tKDUR\t KDEC    IFNA\t  IDUR\n\na1 \t\tfof\t\t10000,ifq+k1,  456, k2, 120, .003, .017, .005,  2, 1,19, idur, 0, 1\na2 \t\tfof\t\t4000,ifq+k1,  2471, k2, 120, .003, .017, .005, 10, 1,19, idur, 0, 1\na3 \t\tfof\t\t1650,ifq+k1,  2813, k2, 120, .003, .017, .005, 10, 1,19, idur, 0, 1\na4 \t\tfof\t\t1347,ifq+k1,  3839, k2, 120, .003, .017, .005, 10, 1,19, idur, 0, 1\n\na5 \t\t=\t\t(a1 + a2 + a3 + a4) * p5/10\n\n\t\tout\t\ta5\n\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n;***********************************************************************; ACCCI:     45_33_1.SC\n; coded:     jpg 3/94\n; GEN functions **********************************************************\nt 0 240\nf1  0 4096  10 1\nf19 0 1024  19 .5 .5 270 .5\n; score******************************************************************\n\n;  istart idur ifq  ivol (1-10)\ni1  0     10    400    5\ni1  2     6    240    5\ni1  8     8    174.6  5\ni1  10    6    440    3\ni1  16    8    132.8  4\ni1  20    4    174.6  4\ni1  24    2    196    3\ni1  26    2    132.8  4\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =          p3 using oscillator and interpolating oscillator and panning", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from franken2.orc and franken2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\nzakinit 50, 50\n\n;------------------------------------------------------------------\n; FRANKENSTEIN'S BLENDER\n;------------------------------------------------------------------\n          instr     10\n\nidur      =          p3\nisndin    =          p4\nilptim    =          p5\nioffst    =          p6\n\nklptim    oscili    1, 1/idur, ilptim\nkoffs     rand      ioffst\nkdclick   linseg    0, .002, 1, idur-.004, 1, .002, 0\n\nloop1:\n\niloop     =          i(rnd(klptim))\n\nkamp      linseg     0, iloop/2, 1, iloop/2, 0\n\na1, a2    soundin   isndin, i(koffs+ioffst+.01)\naout1     =          a1*kamp\naout2     =          a2*kamp\n\n;       WHEN THE TIME RUNS OUT REINITIALIZE\n          timout     0, iloop, cont1\n          reinit     loop1\ncont1:\n          outs       aout1*kdclick, aout2*kdclick\n\n          endin\n\n;------------------------------------------------------------------\n; FRANKENSTEIN'S BLENDER STEREO\n;------------------------------------------------------------------\n          instr        11\n\nidur      =         p3\nisndin    =         p4\nilptimtab =         p5\nioffst    =         p6\nichan     =         p7\nazero     init      0\nicount    init      0\nicntp1    init      1\n\nkoffs     rand      ioffst\nkdclick   linseg    0, .002, 1, idur-.004, 1, .002, 0\nicount    =         frac((icount+1)/256)*256\nicntp1    =         frac((icntp1+1)/256)*256\n\nloop1:\n;iloop    =         i(rnd(klptim))\nilptim1   table     icount, ilptimtab\nilptim    =         (ilptim1+1)/2\nilptmp11  table     icntp1, ilptimtab\nilptmp1   =         (ilptmp11+1)/2\niloop     =         ilptim\nkamp      linseg    0, .01, 1, iloop-.02, 1, .01, 0\n\na1, a2    soundin   isndin, i(koffs+ioffst+.01)\na1        =         (ichan=0 ? a1 : azero)\na2        =         (ichan=1 ? a2 : azero)\naout1     =         a1*kamp\naout2     =         a2*kamp\n\n;       WHEN THE TIME RUNS OUT REINITIALIZE\n          timout    0, ilptmp1, cont1\n          reinit    loop1\ncont1:\n\n          outs      aout1*kdclick, aout2*kdclick\n\n          endin\n\n;------------------------------------------------------------------\n; SAMPLER EFFECTS\n;------------------------------------------------------------------\n          instr         7\n\nidur      =           p3\niamp      =           p4\nifqc      =           p5\nirattab   =           p6\niratrat   =           p7\nipantab   =           p8\nimixtab   =           p9\nilptab    =           p10\nisndin    =           p11\n\nkpan      oscil       1, 1/idur, ipantab               ; Panning\nkmix      oscil       1, 1/idur, imixtab               ; Fading\nkloop     oscil       1, 1/idur, ilptab                ; Looping\n\nloop1:\nkprate    oscil       1, iratrat/kloop, irattab              ; Pulse Rate\nkamp      linseg      0, .01, 1, i(kloop)-.02, 1, .01, 0\n\n;                     Amp     Fqc\n;a1, a2   diskin      isndin, ifqc\na1, a2    soundin     isndin\naout      =           (a1+a2)/2*kamp\n\n;       WHEN THE TIME RUNS OUT REINITIALIZE\n          timout      0, i(kloop), cont1\n          reinit      loop1\ncont1:\n\n          outs        aout*sqrt(kpan)*kmix, aout*sqrt(1-kpan)*kmix ; Output pan & fade\n\n          endin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\n\nf10 0 1024 -5 .6 256 .01 0 .6 128 .6 128 .025 256 .3 256 .4\nf11 0 256 21 1\n\n;    Sta  Dur  SoundFile  LoopTime  OffSet  Channel\ni11  0    8    \"vocestereo.aiff\"          11        100     0\ni11  0    8    \"vocestereo.aiff\"          11        100     1\n;i11  8    24   4          10        100     1\n;i11  8    24   5          10        100     0\n\n;i11  4    4    4          10        1       0\n;i11  12   4    5          10        100     1\n;i11  16   4    4          10        100     1\n;i11  20   4    5          10        100     0\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur\t\t=\t    \tp3 using oscillator and analog-style oscillator and buzz/pulse generator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from moog1.orc and moog1.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\nnchnls \t= \t\t2\n\n; ORCHESTRA\n;---------------------------------------------------------------\n; A set of analog modeling instruments using resonant low-pass\n; filter by Hans Mikelson November 1998\n;---------------------------------------------------------------\n\t\tzakinit \t50, 50\n\n;---------------------------------------------------------------\n; LFO\n;---------------------------------------------------------------\n\t\tinstr   5\n\nidur\t\t=\t    \tp3\niamp\t\t=\t    \tp4\nifqc\t\t=\t    \tp5\niwave\t=\t    \tp6\nioffset\t=\t  \tp7\nioutch\t=\t  \tp8\n\nksig\t\toscil\tiamp, ifqc, iwave\nkout\t\t=\t\tksig*.5+ioffset\n\t\tzkw\t\tkout, ioutch\n\n\t\tendin\n\n;---------------------------------------------------------------\n; MOOG VCO WITH MIKLESON FILTER\n;---------------------------------------------------------------\n\t\tinstr   \t10\n\t\t\nidur\t\t=\t    \tp3\t\t\t\t\t; DURATION\niamp\t\t=\t    \tp4\t\t\t\t\t; AMPLITUDE\nifqc\t\t=\t    \tcpspch(p5)\t\t\t; FREQUENCY\nirtfqc\t=\t    \tsqrt(ifqc)\t\t\t; SQUARE ROOT OF FREQUENCY\nifco\t\t=\t    \tp6*ifqc/500\t\t\t; FILTER CUT OFF (HIGHER FREQUENCIES GET A HIGHER CUT OFF)\nkrez\t\tinit    \tp7\t\t\t\t\t; RESONANCE DOES NOT CHANGE IN THIS INSTRUMENT\niwave\t=\t    \tp8\t\t\t\t\t; SELECTED WAVE FORM 1=SAW, 2=SQUARE/PWM, 3=TRI/SAW-RAMP-MOD\nipwch\t=\t    \tp9\t\t\t\t\t; PWM SRM MODULATION CHANNEL\nileak\t=\t    \t(iwave==2 ? .999 : (iwave==3 ? .995 : .999)) ; LEAKY INTEGRATION VALUE\n\nkpw\t\tzkr\t \tipwch\t\t\t\t; READ THE ZAK MODULATION CHANNEL\nkpwn\t\t=\t\tkpw-.5\t\t\t\t; GET A PULSE WIDTH THAT GOES FROM -.5 TO .5\n\nkfco\t\texpseg\t100+.01*ifco, .2*idur, ifco+100, .5*idur, ifco*.1+100,.3*idur, .001*ifco+100 ; FILTER ENVELOPE\n\napulse1\tbuzz    \t1, ifqc, sr/2/ifqc, 1 \t; BAND-LIMITED IMPULSE TRAIN\napulse2\tvdelay  \tapulse1, 1000/ifqc*kpw, 1000/ifqc ; DELAY THE IMPULSE TRAIN BY LAMBDA/PW.\n\nasaw\t\tbiquad  \tapulse1, 1, 0, 0, 1, -ileak, 0 ; BIQUAD IS USED TO DO A LEAKY INTEGRATOR FOR SAW WAVE\napdiff\t=\t  \tapulse1-apulse2\t\t\t ; PULSE DIFFERENCE IS NEEDED FOR SQUARE WAVE\nasqr1\tbiquad  \tapdiff,  1, 0, 0, 1, -ileak, 0 ; BIQUAD USED FOR LEAKY INTEGRATOR OF PULSE DIFFERENCE\nasqr\t\t=\t  \tasqr1+kpwn\t\t\t\t ; TDJUSTMENT TO REMOVE DC COMPONENA\natri1\tbiquad  \tasqr1,   1, 0, 0, 1, -ileak, 0 ; TRIANGLE WAVE, MANY ADJUSTMENTS ARE NECESSARY TO CONTERACT AMPLITUDE\natri\t\t= \t\t(atri1*irtfqc/(kpw*(1-kpw))/3000+5*kpwn/irtfqc)*(1-kpwn*kpwn*20/irtfqc)/sr*4 4100 ; AND DC VARIATIONS\n\nasig\t\t=\t\t(iwave==2 ? asqr : (iwave==3 ? atri : asaw)) ; SELECT YOUR WAVEFORM HERE\n\n; aout\trezzy\tasig, kfco, krez\t\t; APPLY THE FILTER\n\n\t\touts\t\tasig*iamp, asig*iamp\t; STEREO OUPUT AND AMPLIFICATION\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n; SCORE\nf1 0 16384 10 1\n\n; LFO Note 0<PWM<1\n;   Sta  Dur  Amp  Fqc  Wave  Offset  OutCh\ni5  0    12   .8   1    1     .5       1\n\n; Synth Wave 1=Saw, 2=Square/PWM, 3=Tri/Saw-Ramp-Mod\n;   Sta  Dur  Amp   Pitch  Fco   Rez  Wave  PulseWCh\ni10 0    1    20000 6.00   5000  20   1     1\ni10 +    .    .     7.00   .     .    .     .\ni10 .    .    .     8.00   .     .    .     .\ni10 .    .    .     9.00   .     .    .     .\n\ni10 .    .    .     6.00   .     .    2     .\ni10 .    .    .     7.00   .     .    .     .\ni10 .    .    .     8.00   .     .    .     .\ni10 .    .    .     9.00   .     .    .     .\n\ni10 .    .    .     6.00   .     .    3     .\ni10 .    .    .     7.00   .     .    .     .\ni10 .    .    .     8.00   .     .    .     .\ni10 .    .    .     9.00   .     .    .     .\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using oscillator and FM synthesis and Butterworth bandpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from industry.orc and industry.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n;------------------------------------------------------------------\n; Industry\n; by Hans Mikelson April 1998\n;------------------------------------------------------------------\n; ORCHESTRA\n\n\n;------------------------------------------------------------------\n; INDUSTRIAL LOOPS\n;------------------------------------------------------------------\n          instr     2\n\nidur      =         p3\niamp      =         p4*2\nifqc      =         cpspch(p5)\niplstab   =         p6\nirattab   =         p7\niratrat   =         p8\nipantab   =         p9\nimixtab   =         p10\niloop     =         p11\nadel      init      0                        \n\nkprate    oscil     1, iratrat, irattab      ; PULSE RATE\nkamp      oscil     iamp, kprate, iplstab    ; AMPLITUDE PULSE\nkloop     linseg    0, .005, 1, iloop-.01, 1, .005,  0, p3-iloop-.01, 0 ; GATE IN DELAY LOOP\nkpan      oscil     1, 1/idur, ipantab       ; PANNING\nkmix      oscil     1, 1/idur, imixtab       ; FADING\n\nasig      rand      kamp                     ; NOISE SOURCE\naflt      butterbp  asig, ifqc, ifqc/4       ; BAND FILTER\nabal      balance   aflt, asig               ; BRING LEVEL BACK UP\n\naout      =         abal*kloop+adel          ; GATE IN WITH FEEDBACK\nadel      delay     aout, iloop              ; DELAY\n     \n          outs      aout*sqrt(kpan)*kmix, aout*sqrt(1-kpan)*kmix ; OUTPUT PAN & FADE\n\n          endin\n\n;------------------------------------------------------------------\n; SCIFI LOOPS\n;------------------------------------------------------------------\n          instr     3\n\nidur      =         p3\niamp      =         p4\nifqc      =         cpspch(p5)\nirattab   =         p6\niratrat   =         p7\nipantab   =         p8\nimixtab   =         p9\niloop     =         p10\nimodf     =         p11\nimodl     =         p12\nadel      init      0\n     \nkrate     oscil     1, iratrat, irattab      ; PULSE RATE\nkloop     linseg    0, .005, 1, iloop-.01, 1, .005,  0, p3-iloop-.01, 0 ; GATE IN DELAY LOOP\nkpan      oscil     1, 1/idur, ipantab       ; PANNING\nkmix      oscil     1, 1/idur, imixtab       ; FADING\n\n;                   AMP   FQC      CAR   MOD    MAMP    WAVE\nabal      foscil    iamp, ifqc*krate, 1,      imodf, imodl,  1 ; FM SOURCE\n\naout      =         abal*kloop+adel          ; GATE IN WITH FEEDBACK\nadel      delay     aout, iloop              ; DELAY\n\n          outs      aout*sqrt(kpan)*kmix, aout*sqrt(1-kpan)*kmix ; OUTPUT PAN & FADE\n\n          endin\n\n\n\n\n</CsInstruments>\n<CsScore>\n; SCORE\nf1 0 8192 10 1 ; Sine\n\n; Pulse Tables\nf10  0 1024   7  0 256 0 256 1 256 0 256 0\nf11 0 1024   7  0 256 0 128 0 128 1 128 0 128 0 256 0\nf12 0 1024   7  0 512 1 512 0\n; Rate Tables\nf20  0 1024  -5  100  512  1000  512 100\nf21  0 1024  -5  10  1024 1000\nf22  0 1024  -5  100  512  10000 512  30\nf23  0 1024  -5  25  1024  62\nf24  0 1024  -7  500  1024  62\nf25  0 1024  -5  5000 1024  1000\nf26  0 1024  -7  50   512  500 512 50\nf27  0 1024  -5  .5   512  2 512 .5\nf28  0 1024  -5  .5   1024 4\nf29  0 1024  -7  .5   250 .5 6 2 250 2 6 1 250 1 6 4 256 .5\n; Pan Tables\nf30  0 1024  7  0  1024  1\nf31  0 1024  7  1  1024  0\nf32  0 1024  7  1 512  0 512 1\nf33  0 1024  -7 .5 1024 .5\n; Mix Tables\nf40  0 1024  5  .01 256 1 512 1 256 .01\nf41  0 1024  5  .01 128 1 768 1 128 .01\nf42  0 1024  5  1 1024 1\n\n; Generate Industrial Loops\n;   Sta  Dur  Amp   Pitch  PulsTab  RtTab  RtRt  PanTab  MixTab  Loop\ni2  0    8    6000  9.00   11       22      1     31      41      .2\ni2  3    10   8000  7.00   10       22      1     32      41      .3\ni2  7    12   4000  9.00   11       23      10    30      40      .2\ni2  9    12   8000  8.00   11       24      10    32      41      .05\ni2  11   10   7000  7.00   11       25      4     31      40      .5\ni2  12   19  15000  7.02   11       25      10    32      41      .2\ni2  17   2   16000  8.00   11       26      10    33      42      .01\ni2  19.5 2   16000  8.00   11       26      10    33      42      .01\ni2  17   10  11000  8.05   11       26      10    31      41      .08\n\n; Generate Sci-Fi Sounds\n;   Sta  Dur  Amp   Pitch  RtTab  RtRt  PanTab  MixTab  Loop  FMFqc FMAmp\ni3  1    4   10000  8.00   27     1     31      41      .1    2     3\ni3  5    2   10000  7.00   28     4     33      41      .2    2     3\ni3  14   6   10000  8.05   27     1     31      40      .05   2.53  4\ni3  25   4   10000  9.00   29     2     32      41      .3    4.21  2\ni3  8    5   10000  8.00   29     3     30      41      .45   .5    3\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for THESE ARE MODULATION FREQUENCY BOUNDARIES: using ring modulation and oscillator and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Iringmod.orc and Iringmod.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n\n; VARIABLE OSCILLATOR AMPLITUDE MODULATOR\n\ninstr          1\n;THESE ARE MODULATION FREQUENCY BOUNDARIES:\nimin1          =         20 \n\nimax1          =         50\nidev1          =         (imax1-imin1)*.95\nimin2          =         30\nimax2          =         60\nidev2          =         (imax2-imin2)*.95\nimin3          =         40\nimax3          =         70\nidev3          =         (imax3-imin3)*.95\ninfile         =         p4\ninskip         =         p5\nispeed1        =         p6                  ; MODULATION SPEED 1\nispeed2        =         p7                  ; MODULATION SPEED 2\nispeed3        =         p8                  ; MODULATION SPEED 3\niseed1         =         p9\niseed2         =         p10\niseed3         =         p11\niatk           =         .05\nidk            =         .05\niamp           =         .25\nisust          =         p3-(iatk+idk)\n     aenv      linseg    0,iatk,iamp,isust,iamp,idk,0\n     kfr1      randi     idev1, ispeed1, iseed1\n     kfr2      randi     idev2, ispeed2, iseed2\n     kfr3      randi     idev3, ispeed3, iseed3\n     kfr1      =         kfr1 + imin1\n     kfr2      =         kfr2 + imin2\n     kfr3      =         kfr3 + imin3\n     araw      soundin   infile, inskip\n     amod1     oscil     araw,kfr1,1\n     amod2     oscil     araw,kfr2,1\n     amod3     oscil     araw,kfr3,1\n               out       (amod1+amod2+amod3)*aenv\nendin\n\n</CsInstruments>\n<CsScore>\n; TYPICAL SCORE FOLLOWS\nf1 0 8192 10 1\ni1 0 2.2 5 0 .2 .7 .36  .264 .365 .766\ns\ni1 0 2.2 5 0 .2 .7 .36  1.264 2.365 3.766\ns\ni1 0 2.2 5 0 .2 .7 .36  3.264 5.365 9.766\ns\ni1 0 2.2 5 0 .2 .7 .36  9.264 15.365 33.766\ne\n; USE, DISTRIBUTE AND/OR MODIFY FREELY (AT RISK OF SONIC  \nDISCOMFORT, ETC.)\n; ALL RIGHTS RESERVED\n; COPYRIGHT 1993 ERIC LYON\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using FM synthesis and oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Fm101.orc and Fm101.sco\n; Original files preserved in same directory\n\nsr        =         44100 \nkr        =         4410                                  \nksmps     =         10\nnchnls    =         1\n\n\n; SIMPLE FM INSTRUMENT WITH ENVELOPE GENERATORS.\n\n          instr 1\n\nidur      =         p3\nicaramp   =         p4\nicarfreq  =         p5\nicarwave  =         p6\nimodamp   =         p7\nimodfreq  =         p8\nimodwave  =         p9\nicarrise  =         p10\nicardec   =         p11\nimodrise  =         p12\nimoddec   =         p13\n\n; OUTPUT  UNITGEN    AMPLITUDE   FREQUENCY WAVESHAPE\n\nkmodamp   linen     imodamp, imodrise, idur, imoddec \namod      oscil     kmodamp, imodfreq, imodwave\n \nkcaramp   linen     icaramp, icarrise,   idur, icardec \nacar      oscil     kcaramp, icarfreq + amod, icarwave\n\n\n; UNITGEN INPUT\n          out        acar\n          endin\n\n</CsInstruments>\n<CsScore>\n\n; Simple FM Pair with Independnet Envelope Generators\n;  idur = p3\n;  icaramp =  p4\n;  icarfreq = p5\n;  icarwave = p6\n;  index = p7\n;    imodfreq = p8\n;  imodindex = imodfreq * index\n;    imodwave = p9\n;  icarrise = p10\n;  icardec = p11\n;  imodrise = p12\n;  imoddec = p13\n\n\n; func#   start    size           gen routine    arguments\n\n  ; f1 = sine wave \n f1     0     4096          10                  1\n     \n f2     1     4096          10                  1     0   .3   0   .5   0   .7   0\n\n f3     1     4096          10                 .1     .3   .4   .5   .6 .1    .8  .1 \n\nf0 2\n\ni1     0     .5   15000      220     1    2000   220    1     .1    .0     0    .5\n\ns\n\nf0 2\n\ni1     0      .5     15000      300     1    2000   300    1    .1    .0     0    .5\n\ns\nf0 2\n\ni1     2      .5    15000    280    1      2000    280    1     .1    .5     2     .5\n\ns\nf0 2\n\ni1     03       3      15000      240     1    2000  240     1  .1   .5    2      .5\n\ns\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1 \t\t=\t\t0 using synthesizer and oscillator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from websynth3.orc and websynth3.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\n\ngisine\t= \t\t1\ngitri\t= \t\t2\ngisaw \t= \t\t3\ngisquare\t=\t\t4\ngipulse \t= \t\t5\n\n\t\tinstr 99\na1 \t\t=\t\t0\na2 \t\t=\t\t0\na3 \t\t=\t\t0\na4\t\t=\t\t0\nk3\t\t=\t\t0\nk4\t\t=\t\t0\na5\t\t=\t\t0\na6\t\t=\t\t0\na6\t\t=\t\t0\n\t\tendin\n\n\t\tinstr 1\nk1\t\trandh\t1.0, 4.882486648391932, 0.7611\nk1\t\t=\t\t105.0900+((255.8213-105.0900)*((k1+1.)/2.))\nk2\t\trandh \t1.0, 0.575497001875192, 0.6937\nk2\t\t=\t\t157.6349+((383.7320-157.6349)*((k2+1.)/2.))\na1\t\toscil\t1.0,1160.718763987533748,gisine\na2\t\toscil\t1.0,371.561204455792904,gisine\na3\t\toscil\t1.0,k1,gisquare\na4\t\toscil\t1.0,k2,gisquare\nk3\t\toscil\t1.0,0.18647950200364,gisine\nk3\t\t=\t\t545.0200+((2180.0798-545.0200)*((k3+1.)/2.))\nk4\t\toscil\t1.0,0.18647950200364,gisaw\nk4\t\t=\t\t831.5264+((3636.5957-831.5264)*((k4+1.)/2.))\na5\t\treson \ta3*a4, k3, k3*0.264730446762405, 1\nkdel1\t= \t\t1/k3\naddl1\tdelayr \t1.0000\na5tp\t\tdeltapi \tkdel1\na5\t\t= \t\ta5 + (a5tp*0.8)\n\t\tdelayw\ta5\na5\t\tbalance\ta5,a3*a4\na5\t\t=\t\ta5*.2\na6\t\treson\ta1*a2*a5, k4, k4*0.47720440030098, 1\na6\t\tbalance\ta6,a1*a2*a5\na6\t\t=\t\ta6*.2\na6\t\treson\ta6, k4, k4*0.513217041920871, 1\na6\t\tbalance\ta6,a6\na6\t\t=\t\ta6*.2\n\t\tout\t\ta6*30000.00\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1 ; sine\nf2 0 8192 10 1 0 .111 0 .04 0 .02 0 ; triangle\nf3 0 8192 10 1 .5 .333 .25 .2 .166 .142 .125 ; saw\nf4 0 8192 10 1 0 .333 0 .2 0 .142 0 .111; square\nf5 0 8192 10 1 1 1 1 1 1 1 1 1 1 1 1 1; pulse\n\ni1 0 10.0000 \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for pluckmidi.orc using oscillator and Karplus-Strong plucked string and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n</CsOptions>\n<CsInstruments>\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\ngarvbsigl init      0  \ngarvbsigr init      0\n\n\n          instr 1                                           ; pluckmidi.orc\n\n\niamp      ampmidi   32000, 6\ninote     octmidi\nicps      cpsmidi\nilfodel   =         .2\nilfodepth =         .005\nilfofunc  =         1\nilfofreq  =         2.000\n\n\nkamp      linseg    0,.01,1,.5,1,4,0,.01,0   \nkamp2     linenr    kamp*iamp, .01, .333, .05\n\n\n          timout    0, ilfodel, output\nklfoctl   linenr    1,.05,.5,.01\nkrndz     randi     .005,15\nklfo      oscil     klfoctl*ilfodepth+krndz,ilfofreq*klfoctl,ilfofunc\n\noutput:\n\nasig1     pluck     kamp2, cpsoct(inote + klfo), icps, 0, 1\nasig2     pluck     kamp2, cpsoct(inote + klfo - .0008), icps, 0, 1\nasig3     pluck     kamp2, cpsoct(inote + klfo + .0008), icps, 0, 1\n   \nasig4     pluck     kamp2, icps*3, icps*3, 0, 2,2\n   \naflt1     reson     asig1 + asig2 + asig3, 110, 80\naflt2     reson     asig1 + asig2 + asig3, 220, 100\naflt3     reson     asig1 + asig2 + asig3, 440, 80\n\n\namixl     balance   .5*aflt1 + aflt2 + 1.5*aflt3 + asig1 + asig2 + .5*asig4, asig1 \namixr     balance   .5*aflt1 + aflt2 + 1.5*aflt3 + asig1 + asig3 + .5*asig4, asig1\n   \n      \n          outs      amixl,amixr\n          endin\n\n\n\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1                                              ; Sine\nf2 0 1024 10 1 .5 .3 .25 .2 .167 .14 .125 .111              ; Sawtooth\nf3 0 1024 10 1 0  .3 0 .2 0 .14 0 .111                      ; Square\nf4 0 1024 10 1 1 1 1 .7 .5 .3 .1                            ; Pulse\nf5 0 1024 10 1 0 .111 0 .04 0 .02 0 .012                    ; Triangle \nf6 0 128 5 1 128 8                                          ; for veloc to non-linear amp\nf0 96\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1        =         1/p6 using oscillator and interpolating oscillator and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from SIREN.ORC and SIREN.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; Risset Siren #510\n\n\n          instr 1\n\ni1        =         1/p6\ni2        =         1/p10\ni3        =         1/p12\ni4        =         1/p16\na1        =         0\nk1        oscil     p5, i1, 5\na1        oscili    a1 + p4, k1, 1\na1        =         a1\n\nk2        randi     p7, p8\nk3        oscil     p9, i2, 6\na2        oscili    k2, k3, 1\n\nk4        oscil     p11, i3, 7\na3        oscili    p13, k4, 2\n\nk5        oscil     p15, i4, 8\na4        oscili    p14, k5, 1\n\na5        =         a1 + a2 + a3 + a4\n\n          out       a5 * 10\n          endin\n\n</CsInstruments>\n<CsScore>\n; Risset Siren #510\n\nf1 0 512 9 1 1 0\nf2 0 512 9 21 1 0 29 1 0 39 1 0\nf5 0 512 7 .99 25 .99 206 .318 50 .318 206 .99 25 .99\nf6 0 512 7 .377 256 .99 256 .377\nf7 0 512 7 .5 15 .5 226 .9 30 .9 226 .5 15 .5\nf8 0 512 7 .333 240 .999 16 .999 240 .333 8 .333\n\nf0 1\ns\n\ni1 0 24 450 880 8 400 200 1660 6 200 20 12 70 2400 3\nend\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for REZZY SYNTH BASED ON DIFF EQS using oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from rezflt1.orc and rezflt1.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t44100\nksmps \t=\t\t1\nnchnls \t= \t\t1\n\n;**************************************************************** \n; RESONANT LOW-PASS FILTER\n; CODED: HANS MIKELSON 2/7/97\n;**************************************************************** \n\n\n\ninstr \t1 \t\t\t\t; REZZY SYNTH BASED ON DIFF EQS\n\nidur \t= \t\tp3\nkamp \tlinseg \t0, .01*p3, p4, .98*p3, p4, .01*p3, 0 \nifqc \t= \t\tcpspch(p5)\nires \t= \t\tp7/1000\n\nkfco \tlinseg \t.1*p6, p3, p6\nkres \t= \t\tires\n\n; THE DIFFERENCE EQUATION COEFFICIENTS\nkb \t\t= \t\t1/kfco/kres\nkk \t\t= \t\t10000/kfco\n\naynm1 \tinit \t0\naynm2 \tinit \t0\n\naxn \t\toscil \tkamp, ifqc, 3\n\n; THE DIFFERENCE EQUATION: YN=((B+2K)YN-1 - KYN-2 + XN)/(1+B+K) \n\nayn\t\t=\t\t((kb+2*kk)*aynm1-kk*aynm2+axn)/(1+kb+kk) \naynm2 \t= \t\taynm1\naynm1 \t= \t\tayn\n\nout \t\tayn\nendin\n\n</CsInstruments>\n<CsScore>\n; ********************************************************* ; REZZY SAWTOOTH SYNTH\n; CODED: HANS MIKELSON 2/7/97\n;********************************************************** ; SAWTOOTH\n\nf3   0    256  7    1    256  -1\n\n; SCORE *************************************************** \n\nt    0    300\n\n;    IDUR      IAMP      IPCH      FILTER    CUT-OFF   RESONANCE\ni1   0         2         6000      7.00      1000      5\ni1   +         1         6000      7.03      1000      10\ni1   .         .         6000      7.05      800       15\ni1   .         .         6000      7.02      1000      20\ni1   .         .         6000      8.00      1200      25\ni1   .         .         6000      7.03      1000      30\ni1   .         .         6000      7.05      500       60\ni1   .         2         6000      7.00      1000      5\ni1   .         1         6000      7.03      1000      10\ni1   .         .         6000      7.05      800       15\ni1   .         .         6000      7.02      1000      20\ni1   .         .         6000      8.00      1200      25\ni1   .         .         6000      7.03      1000      30\ni1   .         .         6000      7.05      500       60\ni1   0         8         6000      5.00      200       30\ni1   +         .         6000      4.10      200       30\ni1   .         .         6000      5.00      1000      100\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for if        p4 == 0 then kgoto dark using oscillator and resonant filter and reverb effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from conditional.orc and conditional.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n; When experimenting in conditional processing,\n; use different tone colours for each logical \n; choice.\n\n; David used filters that sound too similar.\n; This results in not being able to discern\n; whether there are any logical decisions \n; being made.  Here is a sco and orc \n; that allow you to hear the difference\n; between the two things being decided:\n; It may sound like a submarine, but you\n; can easily tell the difference between\n; conditional choices one and two.\n\n\n          instr 1\n\n          if        p4 == 0 then kgoto dark\n\nlight:\nanoise    rand      10000\na1        reson     anoise, 1760, 4\na2        reson     anoise, 880, 40\n          goto      contin\n\ndark:\nanoise    rand      10000\na2        reson     anoise, 55, 0.04\n\n          goto      contin\ncontin:\nkrimp     line      30000,p3,0\naamp      oscil     krimp, 440, 1\naleft     balance   a1, aamp\naright    balance   a2, aamp\n\n          outs      aleft,aright\n          endin\n\n\n</CsInstruments>\n<CsScore>\n;sco file \nf1 0 8192 10 10 5 9 5 8 4 7 3 7 2 6 3 3 1 1\n\nt 0 60\n\ni1 0 2 1\ni1 2 2 0\ni1 4 2 1\ni1 6 2 0\ne\n\n>David Schuyeteneer wrote:\n>> \n>> Is there a way to, for example adding reverb, to an instrument \n>> based on TRUE / FALSE events ?\n>\n>Apparently my mail server didn't want to send this during the\n>weekend. Here goes again.\n>\n>Look at the if...kgoto opcodes in the manual (under the entry \n>PROGRAM CONTROL STATEMENTS). In practise, you will have to\n>make a jump inside your instrument. Your funky imagination will\n>have to stretch towards:\n>\n>    apeak = awhatever  ; Your sound\n>\n>    itest = 3300\n>\n>        ; You can only do gotos at i- or k-rate, so \n>        ; apeak must be downsampled, perhaps like this.\n>    kpeak downsamp apeak, ksmps\n>        ; now test Kpeak & do conditional processing on Apeak\n>    if kpeak < itest kgoto noverb\n>    gareverbsig = gareverbsig + apeak\n>    kgoto continue   ; skip non-reverb processing (if any)\n>\n>noverb:              ; This is a label, ie a jump target\n>      ; do non-reverb processing (if any)\n>continue:\n>      ; continue instr processing here\n>\n>\n>But if you are anyway doing three separate reson filters, \n>couldn't you process just one of them directly, like:\n>\n>instr 10\n>    anoise rand 10000\n>    aband1 reson anoise, 110, 10\n>    aband2 reson anoise, 330, 20\n>    aband3 reson anoise, 3300, 50\n>\n>    gareverbsig = gareverbsig + aband3\n> \n>    aamp linseg 20000, p3, 0     ; (whatever)\n>    anoise balance (aband1 + aband2 + aband3), aamp\n>        out anoise   ; (perhaps)\n>endin\n>\n>?\n>\n>And again, every time you have a problem with the Csound language,\n>you must include full orc and sco files (preferably edited to the \n>minimal version which still causes the problem) - else it will \n>be much harder to help.\n>\n>Cheers,\n>\n>        re\n>\n>\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iphsoff   =         (65/5)*.01 using oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from octave.orc and octave.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n;;; DESIGN TO PRODUCE GRADUAL CHANGE OF OCTAVE, FROM RISSET \n;;; FIGURE 3.31 FROM DODGE & JERSE, p.99 \n\n\n\n          instr 1\niphsoff   =         (65/5)*.01\n\nka1       =         p4\nkf1       =         1/p3\niph1      =         0\nkamp1     oscil     ka1,kf1,2,iph1\nkfreq1    =         p5\nasig1     oscil     kamp1,kfreq1,1\n\nka2       =         p4\nkf2       =         1/p3\niph2      =         iph1+iphsoff\nkamp2     oscil     ka2,kf2,2,iph2\nkfreq2    =         p5*2\nasig2     oscil     kamp2,kfreq2,1\n\nka3       =         p4\nkf3       =         1/p3\niph3      =         iph2+iphsoff\nkamp3     oscil     ka3,kf3,2,iph3\nkfreq3    =         p5*3\nasig3     oscil     kamp3,kfreq3,1\n\nka4       =         p4\nkf4       =         1/p3\niph4      =         iph3+iphsoff\nkamp4     oscil     ka4,kf4,2,iph4\nkfreq4    =         p5*4\nasig4     oscil     kamp4,kfreq4,1\n\nka5       =         p4\nkf5       =         1/p3\niph5      =         iph4+iphsoff\nkamp5     oscil     ka5,kf5,2,iph5\nkfreq5    =         p5*5\nasig5     oscil     kamp5,kfreq5,1\n\nadd       =         asig1+asig2+asig3+asig4+asig5\nkenv      linseg    0,p3/2,1,p3/2,0\naout      =         add*kenv\n          out       aout\n          endin\n\n</CsInstruments>\n<CsScore>\n;;; SCORE FOR 3.31\n\nf1 0 8192 10 1\nf2 0 128 8 0 .5 0 63.5 1 63.5 0 .5 0\n;p1 p2 p3 p4 p5\n;inst start length amp freq\ni1 0.00 15.00 5000 100\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating oscillator and FOF formant synthesis and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 45_33_1.orc and 45_33_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr =   441\nksmps =100\nnchnls = 2 \n\n; ************************************************************************\n; ACCCI:        45_33_1.ORC\n; synthesis:    FOF(45)\n;               Summed FOF generators(33)\n;               aaaah.. (1)\n; coded:        jpg 3/94 \n\n\ninstr 1; *****************************************************************\nidur   = p3\nifq    = p4\n\n   k1 oscil   2, 4, 1                    ; vibrato\n   k2 linseg  0, idur/2, 0, idur/2, 1    ; octaviation coefficient\n\n   ;                           koct                      iolaps  ifnb\n   ;          xamp  xfund  xform    kband kris  kdur  kdec    ifna    idur\n\n   a1 fof     10000,ifq+k1,  500,k2, 120, .003, .017, .005,  2, 1,19, idur\n   a2 fof      8000,ifq+k1,  850,k2, 120, .003, .017, .005, 10, 1,19, idur\n   a3 fof      6000,ifq+k1, 2500,k2, 120, .003, .017, .005, 10, 1,19, idur\n   a4 fof      4000,ifq+k1, 3500,k2, 120, .003, .017, .005, 10, 1,19, idur\n   a5 =       a1 + a2 + a3 + a4\n\n      display a5, .1\n      outs     a5, a5\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     45_33_1.SCO\n; coded:     jpg 3/94 \n\n\n; GEN functions **********************************************************\nf1  0 4096  10 1\nf19 0 1024  19 .5 .5 270 .5\n\n; score ******************************************************************\n\n;  istart idur ifq\ni1  0     2    100\ni1  +     .    110\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for MALE VOICE using voice synthesis and oscillator and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from VOICES.ORC and VOICES.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         441\nksmps          =         100\nnchnls         =         1\n\n;**********************************************************************\n; VOICES\n; SUMMED FOF GENERATORS\n; CODED: 3/1/97 HANS MIKELSON \n;**********************************************************************\n\n\ninstr 1\n; MALE VOICE\nidur           =         p3\nifq            =         p4\n\nk1             oscil     2, 4, 1                       ; VIBRATO\nk2             linseg    0, idur*.9, 0, idur*.1, 1     ; OCTAVIATION COEFFICIENT\n\n; MALE EEE\nimeef1         =         270\nimeef2         =         2290\nimeef3         =         3010\n\n; MALE I\nimif1          =         390\nimif2          =         1990\nimif3          =         2550\n\n; MALE AHH\nimahhf1        =         55\nimahhf2        =         120\nimahhf3        =         200\n\n; CONSONANT\nkmf1           linseg    1800, .2, imahhf1, p3, imeef1\nkmf2           linseg    1800, .2, imahhf2, p3, imeef2\nkmf3           linseg    1800, .2, imahhf3, p3, imeef3\n\n;         xamp  xfund   xform kband kris kdur  kdec           ifna   idur\n   a1 fof 10000, ifq+k1, kmf1, k2,   200, .003, .017, .005, 10, 1,19, idur, 0, 1\n   a2 fof  6845, ifq+k1, kmf2, k2,   200, .003, .017, .005, 20, 1,19, idur, 0, 1\n   a3 fof  1845, ifq+k1, kmf3, k2,   200, .003, .017, .005, 20, 1,19, idur, 0, 1\n\n   asum        =         (a1 + a2 + a3) * p5 / 10\n   aout        butterlp  asum, 200\n   out         aout\n\nendin\n\n\n</CsInstruments>\n<CsScore>\n;***********************************************************************; ACCCI:     45_33_1.SC\n; CODED:     JPG 3/94\n; GEN FUNCTIONS **********************************************************\nt 0 240\nf1  0 4096  10 1\nf19 0 1024  19 .5 .5 270 .5\n; SCORE******************************************************************\n\n;  istart idur ifq  ivol (1-10)\ni1  0     4    55    5\ni1  2     6    240    5\ni1  8     8    174.6  5\ni1  10    6    440    3\ni1  16    8    132.8  4\ni1  20    4    174.6  4\ni1  24    2    196    3\ni1  26    2    132.8  4\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Sequencer: 2*VCOs, 'Moog'VCF, VCA, Env. using sequencer and oscillator and analog-style oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Sequencer.orc and Sequencer.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Sequencer: 2*VCOs, 'Moog'VCF, VCA, Env.\n\nilevl    = p4*32767 ; Output level\nitabl1   = p5       ; Pitch table\nimult    = p6       ; Pitch multiplier\nidet     = p7/2     ; VCO detune\nivcf     = p8       ; VCF cut-off frequency\n\nk1       phasor  1/p3\nk2       table  k1, itabl1, 1\nkenv1    oscil  1, 8/p3, 3\nkenv2    oscil  1, 8/p3, 5\nkf       = kenv1*ivcf\navco1    oscil  .5, cpspch(k2)*imult - idet, 8, -1\navco2    oscil  .5, cpspch(k2)*imult + idet, 8, -1\navcos    = avco1 + avco2\navcf     moogvcf  avcos, kf, .1\nout      avcf*ilevl*kenv2\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8 -2  08.00  08.03  08.07  08.07  08.07  08.03  08.00  07.00 ; Pitches\nf2 0 8 -2  07.03  07.02  07.00  07.07  07.05  07.03  07.02  06.07 ; Pitches\n\n;f3 0 1024 -7 0 14 1 1010 0 ; Linear Env\nf3 0 1024 -5 .001 14 1 1010 .001 ; Exponential Env\n\nf5 0 1024 -5 .001 12 1 1000 1 12 .001 ; VCA Env\n\nf8 0 1024 7 0 512 1 0 -1 512 0\n\n;   Strt  Leng  Levl  Table Freq* Detun Cut-Off\ni1  0.00  1.00  0.75  2     1     1.00  4000\ni1  +     .     .     .     .     .     .\ni1  0.00  2.00  0.50  1     1     2.00  2000\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1\t\t= \t\t0 using synthesizer and oscillator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from websynth2.orc and websynth2.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\n\ngisine\t=\t\t1\ngitri\t=\t\t2\ngisaw \t=\t\t3\ngisquare\t=\t\t4\ngipulse\t=\t\t5\n\n\t\tinstr 99\na1\t\t= \t\t0\na2 \t\t= \t\t0\na3 \t\t= \t\t0\nk4 \t\t= \t\t0\na5 \t\t= \t\t0\na6 \t\t=\t\t0\nk7 \t\t=\t\t0\nk8 \t\t= \t\t0\na4 \t\t= \t\t0\na7 \t\t= \t\t0\na8 \t\t= \t\t0\na8 \t\t= \t\t0\n\t\tendin\n\n\t\tinstr 1\nk1\t\trandh \t1.0, 1.219999737013131, 0.5199\nk1\t\t= \t\t238.8372+((667.1257-238.8372)*((k1+1.)/2.))\nk2 \t\trandh \t1.0, 5.101369301276281, 0.2324\nk2 \t\t=\t\t85.2126+((519.2100-85.2126)*((k2+1.)/2.))\nk3 \t\trandh \t1.0, 0.701085806824267, 0.5389\nk3 \t\t=\t\t127.8189+((778.8150-127.8189)*((k3+1.)/2.))\nk5 \t\trandh\t1.0, 3.999281866522506, 0.6105\nk5 \t\t=\t\t176.5648+((916.6395-176.5648)*((k5+1.)/2.))\nk6 \t\trandh \t1.0, 0.994582575745881, 0.3668\nk6 \t\t=\t\t264.8472+((1374.9592-264.8472)*((k6+1.)/2.))\na1 \t\toscil \t1.0,k1,gitri\na2 \t\toscil \t1.0,k2,gisquare\na3 \t\toscil \t1.0,k3,gisquare\nk4 \t\toscil \t1.0,0.102826512358151,gisine\nk4 \t\t= \t\t414.5239+((1658.0955-414.5239)*((k4+1.)/2.))\na5 \t\toscil \t1.0,k5,gisquare\na6 \t\toscil \t1.0,k6,gisquare\nk7 \t\toscil \t1.0,0.115445494144224,gisine\nk7 \t\t= \t\t284 .6046+((1138.4185-284.6046)*((k7+1.)/2.))\nk8 \t\toscil \t1.0,0.115445494144224,gisaw\nk8 \t\t= \t\t819 .3613+((2461.4106-819.3613)*((k8+1.)/2.))\na4 \t\treson\ta2*a3, k4, k4*0.33615486510098, 1\nkdel1 \t= \t\t1/k4\naddl1 \tdelayr\t1.0000\na4tp \tdeltapi\tkdel1\na4 \t\t=\t\ta4 + (a4tp*0.8)\n\t\tdelayw \ta4\na4 \t\tbalance\ta4,a2*a3\na4 \t\t=\t\ta4*.2\na7 \t\treson\ta5*a6, k7, k7*0.289787898398936, 1\nkdel2 \t=\t\t1/k7\naddl2 \tdelayr\t1.0000\na7tp \tdeltapi\tkdel2\na7 \t\t=\t\ta7 + (a7tp*0.8)\n\t\tdelayw\ta7\na7 \t\tbalance \ta7,a5*a6\na7 \t\t=\t\ta7*.2\na8 \t\treson\ta1*a4*a7, k8, k8*0.647668009158224, 1\na8 \t\tbalance\ta8,a1*a4*a7\na8 \t\t=\t\ta8*.2\na8 \t\treson\ta8, k8, k8*0.204903103969991, 1\na8 \t\tbalance\ta8,a8\na8 \t\t= \t\ta8*.2\n\t\tout \t\ta8*30000.00\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1 ; sine\nf2 0 8192 10 1 0 .111 0 .04 0 .02 0 ; triangle\nf3 0 8192 10 1 .5 .333 .25 .2 .166 .142 .125 ; saw\nf4 0 8192 10 1 0 .333 0 .2 0 .142 0 .111; square\nf5 0 8192 10 1 1 1 1 1 1 1 1 1 1 1 1 1; pulse\n\ni1 0 10.0000 \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1        =         cpspch(p4) using looping and oscillator and buzz/pulse generator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from spookloop.orc and spookloop.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n          \n          ; SPOOKLOOP\n          \n          instr 1\ni1        =         cpspch(p4)\ni2        =         cpspch(p5)\ni3        =         cpspch(p6)\nkvib1     oscil     2,i1/50,1\nkvib2     oscil     3,i1/30,4\nkvlow     oscil     2,cpspch(p4-1)/15,5\nkhp1      =         cpspch(p4)/2\nkhp2      =         cpspch(p4)*0.01\nkamp      envlpx    5000,.01,p3,.008,2,2,.01\nklamp     linenr    kamp,p3,.005,.05\nkrimp     linenr    5000,.0005,p3,.05\nklip1     line      5000,p3,7000\nklip2     line      7000,p3,0\nkiss      line      0,p3,5000\nkbend     expseg    i1,p3/4,i1*2,p3/4,i1,p3/4,i1*2,p3/4,i1\nkp        phasor    1   \nktab      table     kp*6,8\na1        oscil     klamp,(p3<1.99?i1:kbend),1\na2        oscil     klamp*0.67,(p3>1.99?i1*1.875:i1*1.67)+kvib1,3\na3        oscil     klamp*0.33,(i1*1.5)+kvib2,4\na4        oscil     krimp,(p3<1.99?i1:kbend),1\na5        oscil     krimp*0.67,(p3>1.99?i1*1.875:i1*1.67)+kvib1,3\na6        oscil     krimp*0.33,(i1*1.5)+kvib2,4\na7        pluck     klip1,cpspch(p4-2),i1,5,4,1,2\naa        pluck     klip2,cpspch(p4-1)*0.997+kvlow,i1,6,4,1,2\nab        pluck     klip2,i2,i2,5,1     \nac        pluck     klip2,i3,i3,6,1\naz1       buzz      kiss,cpspch(ktab),6,7\naz2       buzz      kiss,cpspch(ktab+1),6,7\nat        pluck     klip2,50,20,5,4,.5,2\nall       =         a1+a2+a3+aa+ab+az1+at\narr       =         a4+a5+a6+a7+ac+az2+at\n          outs      all,arr\n          endin\n\n\n</CsInstruments>\n<CsScore>\n;SCARY SCO\nf1 0 512 9 1 5 290 2 3 28 3 2 126 4 3 89 5 2 207 \nf2 0  512 -2  1 2 3 4 5 6 7 8 9\nf3 0 512 10 5 4 9 4 8 3 7 2 9 1\nf4 0 512 10 3 1 5 2 6 3 5\nf5 0 4096 10 5 1 9 3 2 9 \nf6 0 4096 10 5 2 7 1 3 6\nf7 0 8192 7 1 2023 2 2023 3 2023 4 2023\nf8 0 16 -2 10.08 9.08 10.07 9.11 10.08 10.03 \n\nt 0 60 1 50 3 40 4 57\n\ni1 0       1    6.08  5.08  5.08\ni1 0      .5    5.08  4.08  4.08\ni1 1       2    7.07  5.07  4.07\ni1 3      .5    6.11  5.03  4.03\ni1 3.5   .72    6.08  5.03  4.03\ni1 4       3    7.08  5.03  4.03\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1\t\toscil\t10000, 500, 1; using test/demonstration and oscillator and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from buttest.orc and buttest.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\na1\t\toscil\t10000, 500, 1;\na2\t\tbutterhp\ta1, 1000\n\t\tout \t\ta2\n\t\tendin\n\n\t\tinstr 2\na1\t\toscil\t10000, 500, 1;\na2\t\tbutterlp\ta1, \t600\n\t\tout\t\ta2\n\t\tendin\n\n\t\tinstr 3\na1\t\toscil\t10000, 500, 1;\na2\t\tbutterbp\ta1, 2000, 500\n\t\tout \t\ta2\n\t\tendin\n\n\t\tinstr 4\na1\t\toscil\t10000, 500, 1;\na2\t\tbutterbr \ta1, 5000, 3000\n\t\tout \t\ta2\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1\t0\t1024\t7\t1\t1024\t0\n\ni1 0 1\n\ns\ni2 0 1\n\ns\ni3 0 1\n\ns\ni4 0 1\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for irandev   =         .007 using oscillator and interpolating oscillator and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from TRUMPET.ORC and TRUMPET.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1       \nirandev   =         .007\nifreqrand =         125\nivibatt   =         .6\nivibdec   =         .2\nivibwth   =         .007\nivibrate  =         7\niportdev  =         .03\niportatt  =         .06\niportdec  =         .01\niampfac   =         .833\nifund     =         cpspch(p4)\niafrmfac  =         1-iampfac\nimax      =         2.66\niratio    =         1.8/imax\nifreqfrm  =         int(1500/ifund+.5)*ifund\nifreqmod  =         ifund\nifundatt  =         .03\nifunddec  =         .15\nifrmatt   =         .03\nifrmdec   =         .3\nimodatt   =         .03\nimoddec   =         .01\n\nkphs      linen     ivibwth, ivibatt, p3, ivibdec\nkvfac     tablei    kphs, 4, 1\nkvibgate  =         kvfac*ivibwth \nkport     envlpx    iportdev, iportatt, p3, iportdec, 5, 1, .01\nkrand     randi     irandev, ifreqrand, -1\nkosc      oscil     kvibgate, ivibrate, 1\nkvib      =         (krand+1)*(kosc+1)*(kport+1)\n       \nkgatemod  envlpx    imax*ifreqmod, imodatt, p3, imoddec, 3, 1.2, .01, .2\nkgatefd   envlpx    iampfac, ifundatt, p3, ifunddec, 2, 1, .01\nkgatefrm  envlpx    iafrmfac, ifrmatt, p3, ifrmdec, 2, 1, .01\namod      oscili    kgatemod, ifreqmod*kvib, 1\nafund     oscili    kgatefd, ifund*kvib+amod, 1\nafrm      oscili    kgatefrm, ifreqfrm*kvib+amod*iratio, 1\n          out       (afund+afrm)*p5\n          endin\n\n</CsInstruments>\n<CsScore>\nf01     0       1024    10      1\nf02     0       129     9       .35     1       0\nf03     0       129     9       .4      1       0\nf04     0       129     9       .25     1       0\nf05     0       129     9       .3875   1.4142  0\n\ni01     1       4       8.00    20000   \ni01     6       .25     8.00    5000                                                                                                                    \ni01     6.25    .       8.02    6000\ni01     6.50    .       8.04    7000\ni01     6.75    .       8.05    8000\ni01     7       .       8.07    9000\ni01     7.25    .       8.09    10000\ni01     7.50    .       8.10    11000   \ni01     7.75    .       9.00    12000\ni01     8       .       9.02    13000\ni01     8.25    .       9.03    14000\ni01     8.5     .       9.05    15000\ni01     8.75    .       9.07    16000\ni01     9       .       9.08    17000\ni01     9.25    .       9.10    18000\ni01     9.5     4.5     10.00   19000\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1        =         cpspch(p4) using oscillator and buzz/pulse generator and Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from haunt.orc and haunt.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n          instr 1\ni1        =         cpspch(p4)\ni2        =         cpspch(p5)\ni3        =         cpspch(p6)\nkvib1     oscil     2,i1/50,1\nkvib2     oscil     3,i1/30,4\nkvlow     oscil     2,cpspch(p4-1)/15,5\nkhp1      =         cpspch(p4)/2\nkhp2      =         cpspch(p4)*0.01\nkamp      envlpx    5000,.01,p3,.008,2,2,.01\nklamp     linenr    kamp,p3,.005,.05\nkrimp     linenr    5000,.0005,p3,.05\nklip1     line      5000,p3,7000\nklip2     line      7000,p3,0\nkiss      line      0,p3,5000\nkbend     expseg    i1,p3/4,i1*2,p3/4,i1,p3/4,i1*2,p3/4,i1 \nkp        phasor    1\nktab      table     kp*6,8\na1        oscil     klamp,(p3<1.99?i1:kbend),1\na2        oscil     klamp*0.67,(p3>1.99?i1*1.875:i1*1.67)+kvib1,3 \na3        oscil     klamp*0.33,(i1*1.5)+kvib2,4\na4        oscil     krimp,(p3<1.99?i1:kbend),1\na5        oscil     krimp*0.67,(p3>1.99?i1*1.875:i1*1.67)+kvib1,3 \na6        oscil     krimp*0.33,(i1*1.5)+kvib2,4\na7        pluck     klip1,cpspch(p4-2),i1,5,4,1,2\naa        pluck     klip2,cpspch(p4-1)*0.997+kvlow,i1,6,4,1,2 \nab        pluck     klip2,i2,i2,5,1\nac        pluck     klip2,i3,i3,6,1\naz1       buzz      kiss,cpspch(ktab),6,7\naz2       buzz      kiss,cpspch(ktab+1),6,7\nat        pluck     klip2,50,20,5,4,.5,2\nall       =         a1+a2+a3+aa+ab+az1+at\narr       =         a4+a5+a6+a7+ac+az2+at\n          outs      all,arr\n\n          endin\n\n</CsInstruments>\n<CsScore>\n;scary sco\nf1 0 512 9 1 5 290 2 3 28 3 2 126 4 3 89 5 2 207 \nf2 0 512 -2 1 2 3 4 5 6 7 8 9\nf3 0 512 10 5 4 9 4 8 3 7 2 9 1\nf4 0 512 10 3 1 5 2 6 3 5\nf5 0 4096 10 5 1 9 3 2 9\nf6 0 4096 10 5 2 7 1 3 6\nf7 0 8192 7 1 2023 2 2023 3 2023 4 2023\nf8 0 16 -2 10.08 9.08 10.07 9.11 10.08 10.03 \n\nt 0 60 1 50 3 40 4 57\n\ni1 0 1 6.08 5.08 5.08\ni1 0 .5 5.08 4.08 4.08\ni1 1 2 7.07 5.07 4.07\ni1 3 .5 6.11 5.03 4.03\ni1 3.5 .72 6.08 5.03 4.03\ni1 4 3 7.08 5.03 4.03\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a ambuzz sound using oscillator and buzz/pulse generator and Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from AMBUZZ.ORC and AMBUZZ.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n;=======================================================================;\n; AMBUZZ          Amplitude Modulation Buzz Instrument                  ;\n;                 Designed by Garth Molyneux                            ;   \n;                 University of Texas at Austin Computer Music Studio   ;\n;=======================================================================;\n; p6     =        rate of modulation                                    ;\n; p7     =        modulation depth %                                    ;\n; p8     =        function for mod rate                                 ;\n; p9     =        function for mod depth                                ;\n; p10    =        amount of portamento in oct.decimal                   ;\n; p11    =        function for portamento                               ;\n;=======================================================================;\n          instr        1\n                                             \nicps      =         cpspch(p5)               ; PORTAMENTO DESIGN\nioct      =         octpch(p5)\nkchange   oscil1i   0,p10,p3,p11\nkline     =         cpsoct(ioct+kchange)\nibend     =         cpsoct(ioct+p10)\nilow      =         (ibend<icps ? ibend:icps)\niampfac   =         p4*p7                    ; TREMOLO DESIGN \nktsamp    oscil1    0,iampfac,p3,p9\nkstfrq    oscil1    0,p6,p3,p8\nktrem     oscil     ktsamp,kstfrq,1\nkamp      =         p4+ktrem\nknh       =         int((sr*.42)/kline)      ; MAIN INSTRUMENT DESIGN\nasrce     buzz      kamp,kline,knh,6\nkbwchg    oscil1i   0,(kline*knh),p3,p11\nkbw       =         kbwchg+(kline*.001)\naflt1     reson     asrce,kline,kbw,1\naflt      reson     aflt1,kline,kbw,1\nabal      balance   aflt,asrce \naplk      pluck     kamp,kline,ilow,0,2,1.00001\nasnd      =         (abal*.8)+(aplk*.41)\nasig      envlpx    asnd,.0001,p3,(p3*.98),2,1,.01\n          out       asig\n          endin\n\n\n</CsInstruments>\n<CsScore>\n;=======================================================================;\n; AMBUZZ          Score for Amplitude Modulation Buzz by Molyneux       ;\n;=======================================================================;\n; p6     =        rate of modulation                                    ;\n; p7     =        modulation depth %                                    ;\n; p8     =        function for mod rate                                 ;\n; p9     =        function for mod depth                                ;\n; p10    =        amount of portamento in oct.decimal                   ;\n; p11    =        function for portamento                               ;\n;=======================================================================;\n; sine\nf1  0 512   10  1\n; linear rise\nf2  0 513   7   0    513   1\n; linear fall\nf3  0 513   7   1    513   0\n; exponential rise\nf4  0 513   5   .001 513   1\n; exponential fall\nf5  0 513   5   1    512  .00001  1  .00001\n; sine function for buzz unit\nf6  0 8192  10  1\n; function for modulator rate\nf7  0 513   5   .001  62  .9  150 .65 200 .97 51 .78 50  1\n; function for modulator depth\nf8  0 513   5   .5   163  .39 200 .97 150 .61\n; function for portamento\nf9  0 513   7   0    105  .4   31 .25 105 .65 31 .50 105 .90 31 .75 105 1\n;=======================================================================;\n; AMBUZZ     p4      p5     p6     p7     p8   p9   p10      p11        ;\n;            amp     pch    mrate  mdpth  mrfn mdfn portdev  portfn     ;\n;=======================================================================;\ni1  0   2.0  20000   9.08   110    0.40   4    4    -0.09    4\ni1  3   0.8  20000  11.10   624    0.40   5    5     0.00    3\ni1  5   0.8   6900   8.09   624    0.40   5    5    -0.25    2\ni1  7   0.7   8600   9.02   836    0.40   5    5    -0.08    2\ni1  9   1.0  11000   9.03  1642    0.40   5    5     0.34    2\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =          p3 using oscillator and interpolating oscillator and panning", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from franken.orc and franken.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\nzakinit 50, 50\n\n;------------------------------------------------------------------\n; FRANKENSTEIN'S BLENDER\n;------------------------------------------------------------------\n          instr     10\n\nidur      =          p3\nisndin    =          p4\nilptim    =          p5\nioffst    =          p6\n\nklptim    oscili    1, 1/idur, ilptim\nkoffs     rand      ioffst\nkdclick   linseg    0, .002, 1, idur-.004, 1, .002, 0\n\nloop1:\n\niloop     =          i(rnd(klptim))\n\nkamp      linseg     0, iloop/2, 1, iloop/2, 0\n\na1, a2    soundin   isndin, i(koffs+ioffst+.01)\naout1     =          a1*kamp\naout2     =          a2*kamp\n\n;       WHEN THE TIME RUNS OUT REINITIALIZE\n          timout     0, iloop, cont1\n          reinit     loop1\ncont1:\n          outs       aout1*kdclick, aout2*kdclick\n\n          endin\n\n;------------------------------------------------------------------\n; FRANKENSTEIN'S BLENDER STEREO\n;------------------------------------------------------------------\n          instr        11\n\nidur      =         p3\nisndin    =         p4\nilptimtab =         p5\nioffst    =         p6\nichan     =         p7\nazero     init      0\nicount    init      0\nicntp1    init      1\n\nkoffs     rand      ioffst\nkdclick   linseg    0, .002, 1, idur-.004, 1, .002, 0\nicount    =         frac((icount+1)/256)*256\nicntp1    =         frac((icntp1+1)/256)*256\n\nloop1:\n;iloop    =         i(rnd(klptim))\nilptim1   table     icount, ilptimtab\nilptim    =         (ilptim1+1)/2\nilptmp11  table     icntp1, ilptimtab\nilptmp1   =         (ilptmp11+1)/2\niloop     =         ilptim\nkamp      linseg    0, .01, 1, iloop-.02, 1, .01, 0\n\na1, a2    soundin   isndin, i(koffs+ioffst+.01)\na1        =         (ichan=0 ? a1 : azero)\na2        =         (ichan=1 ? a2 : azero)\naout1     =         a1*kamp\naout2     =         a2*kamp\n\n;       WHEN THE TIME RUNS OUT REINITIALIZE\n          timout    0, ilptmp1, cont1\n          reinit    loop1\ncont1:\n\n          outs      aout1*kdclick, aout2*kdclick\n\n          endin\n\n;------------------------------------------------------------------\n; SAMPLER EFFECTS\n;------------------------------------------------------------------\n          instr         7\n\nidur      =           p3\niamp      =           p4\nifqc      =           p5\nirattab   =           p6\niratrat   =           p7\nipantab   =           p8\nimixtab   =           p9\nilptab    =           p10\nisndin    =           p11\n\nkpan      oscil       1, 1/idur, ipantab               ; Panning\nkmix      oscil       1, 1/idur, imixtab               ; Fading\nkloop     oscil       1, 1/idur, ilptab                ; Looping\n\nloop1:\nkprate    oscil       1, iratrat/kloop, irattab              ; Pulse Rate\nkamp      linseg      0, .01, 1, i(kloop)-.02, 1, .01, 0\n\n;                     Amp     Fqc\n;a1, a2   diskin      isndin, ifqc\na1, a2    soundin     isndin\naout      =           (a1+a2)/2*kamp\n\n;       WHEN THE TIME RUNS OUT REINITIALIZE\n          timout      0, i(kloop), cont1\n          reinit      loop1\ncont1:\n\n          outs        aout*sqrt(kpan)*kmix, aout*sqrt(1-kpan)*kmix ; Output pan & fade\n\n          endin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\n\nf10 0 1024 -5 .6 256 .01 0 .6 128 .6 128 .025 256 .3 256 .4\nf11 0 1024 -5 .6 1024 .6\n\n;    Sta  Dur  SoundFile  LoopTime  OffSet  Channel\ni11  0    8    \"vocestereo.aiff\"          11        100     0\n;i11  0    24   5          10        100     1\n;i11  8    24   4          10        100     1\n;i11  8    24   5          10        100     0\n\n;i11  4    4    4          10        1       0\n;i11  12   4    5          10        100     1\n;i11  16   4    4          10        100     1\n;i11  20   4    5          10        100     0\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a mutation sound using oscillator and linear envelope and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from mutation1.orc and mutation1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n;;; THREE WAYS OF ARTICULATING PITCHES FROM RISSET'S \"MUTATIONS\" \n;;; FIGURE 3.29 FROM DODGE & JERSE, p.97 \n\n\n          instr 1   ; A\nkamp1     linen     p4,.01,p3,.07\nkfreq1    =         p5\nasig1     oscil     kamp1,kfreq1,1\nkamp2     =         p6\nkfreq2    =         p7\nasig2     oscil     kamp2,kfreq2,2\naout      =         asig1*asig2\n          out       aout\n          endin\n\n\n          instr     2    ; B\nkamp1     linseg    0,p3/2,p4,p3/2,0\nkfreq1    =         p5\nasig1     oscil     kamp1,kfreq1,1\nkamp2     =         p6\nkfreq2    =         p7\nasig2     oscil     kamp2,kfreq2,2\naout      =         asig1*asig2\n          out       aout\n          endin\n\n          instr     3    ; C\niphsoff   =         (65/5)*.01\n\nka1       =         p4\nkf1       =         1/p3\niph1      =         0\nkamp1     oscil     ka1,kf1,3,iph1\nkfreq1    =         p5\nasig1     oscil     kamp1,kfreq1,1\n\nka2       =         p4\nkf2       =         1/p3\niph2      =         iph1+iphsoff\nkamp2     oscil     ka2,kf2,3,iph2\nkfreq2    =         p5*2\nasig2     oscil     kamp2,kfreq2,1\n\nka3       =         p4\nkf3       =         1/p3\niph3      =         iph2+iphsoff\nkamp3     oscil     ka3,kf3,3,iph3\nkfreq3    =         p5*3\nasig3     oscil     kamp3,kfreq3,1\n\nka4       =         p4\nkf4       =         1/p3\niph4      =         iph3+iphsoff\nkamp4     oscil      ka4,kf4,3,iph4\nkfreq4    =         p5*4\nasig4     oscil      kamp4,kfreq4,1\n\nka5       =         p4\nkf5       =         1/p3\niph5      =         iph4+iphsoff\nkamp5     oscil      ka5,kf5,3,iph5\nkfreq5    =         p5*5\nasig5     oscil      kamp5,kfreq5,1\n\nka6       =         p4\nkf6       =         1/p3\niph6      =         iph5+iphsoff\nkamp6     oscil      ka6,kf6,3,iph6\nkfreq6    =         p5*6\nasig6     oscil      kamp6,kfreq6,1\n\nka7       =         p4\nkf7       =         1/p3\niph7      =         iph6+iphsoff\nkamp7     oscil      ka7,kf7,3,iph7\nkfreq7    =         p5*7\nasig7     oscil      kamp7,kfreq7,1\n\nka8       =         p4\nkf8       =         1/p3\niph8      =         iph7+iphsoff\nkamp8     oscil      ka8,kf8,3,iph8\nkfreq8    =         p5*8\nasig8     oscil      kamp8,kfreq8,1\n     \nka9       =         p4\nkf9       =         1/p3\niph9      =         iph8+iphsoff\nkamp9     oscil      ka9,kf9,3,iph9\nkfreq9    =         p5*9\nasig9     oscil      kamp9,kfreq9,1\n\nka10      =         p4\nkf10      =         1/p3\niph10     =         iph9+iphsoff\nkamp10    oscil      ka10,kf10,3,iph10\nkfreq10   =         p5*10\nasig10    oscil     kamp10,kfreq10,1\n\nadd1      =         asig1+asig2+asig3+asig4+asig5\nadd2      =         asig6+asig7+asig8+asig9+asig10\nadd       =         add1+add2\nkenv      linseg    0,p3/2,2,p3/2,0\naout      =         add*kenv\n          out       aout\n          endin\n\n</CsInstruments>\n<CsScore>\n;;; SCORE FOR 3.29\n\nf1 0 8192 10 1\nf2 0 128 7 0 10 1 44 1 20 -1 44 -1 10 0\nf3 0 128 8 0 .5 0 63.5 1 63.5 0 .5 0\n;p1 p2 p3 p4 p5 p6 p7\n;inst start length amp1 freq1 amp2 kfreq2 i1 0.5 0.1 125 587.3 120 590\ni. 0.6 0.3     . 277.2 . 280\ni. 0.9 0.2     . 466.2 . 470\ni. 1.1 0.3     . 932.3 . 930\ni. 1.4 0.2     . 659.3 . 660\n\ni2 0.9 3.4     50 587.3 55 590\ni. 1.0 3.3     . 277.2 . 280\ni. 1.3 3.1     . 466.2 . 470\ni. 1.5 2.9     . 932.3 . 930\ni. 1.8 2.6     . 659.3 . 660\n\ni3 1.0 4.0 370 587.3 365 590\ni.   . 4.5     . 277.2 . 280\ni.   . 6.5     . 466.2 . 470\ni.   . 7.5     . 932.3 . 930\ni.   . 10.0    . 659.3 . 660\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using oscillator and Butterworth bandpass filter and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from feedback.orc and feedback.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n; FEEDBACK FILTER ORCHESTRA BY HANS MIKELSON \n\n\n; FEEDBACK FILTER 1\n          instr 1\n\nidur      =         p3\niamp      =         p4\nifqc      =         cpspch(p5)\nitab      =         p6\nitabc     =         p7\nifeedbk   =         p8\n\nkdclick   linseg    0, .002, 1, idur-.004, 1, .002, 0 \nkfco      linseg    500, .1*idur, 5000, .4*idur, 1000, .4*idur, 500, .1*idur, 500\n\nasig      oscil     kdclick, ifqc, itab\nafilt     tone      asig, kfco\n\nafdbk     =         afilt/10                 ; REDUCE ORIGINAL SIGNAL\nadeli     delayr    .2                       ; FEED BACK DELAY\nadel1     deltapi   1/kfco\nafilt2    butterbp  adel1, kfco, kfco/4      ; FILTER THE DELAYED SIGNAL\nkamprms   rms       afilt2                   ; FIND RMS LEVEL\nkampn     =         kamprms/6                ; NORMALIZE RMS LEVEL 0-1.\nkcomp     tablei    kampn,itabc,1,0          ; LOOK UP COMPRESSION VALUE IN TABLE\n          delayw    afdbk+kcomp*ifeedbk*afilt2 ; ADD LIMITED FEEDBACK \naout      =         adel1*10*kdclick*iamp\n\n          outs      aout, aout\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\nf2 0 1024 7 1 512 1 0 -1 512 -1\nf3 0 1024 7 1 1024 -1\n\n; Compression Curve\nf6 0 1025 7 1 128 .2 128 .15 256 .04 256 .02 257 .001 \n\n; Sta Dur Amp Pitch Waveform Compr Feedbk \n\ni1 0 .15 5000 7.00 2     6    1.2\ni1 + .15 5000 7.05 .     6    0.8\ni1 . .15 5000 6.07 .     6    1.1\ni1 . .15 5000 7.10 .     6    1.0\ni1 . .15 5000 8.05 .     6    0.9\ni1 . .15 5000 7.07 .     6    1.0\ni1 . .15 5000 7.10 .     6    1.1\ni1 . .15 5000 7.10 .     6    1.0\ni1 . 1.2 5000 7.00 .     6    1.2\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating FM synthesis and oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Fm4.orc and Fm4.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; ======================================================================== ;\n;        Complex fm: 2 modulators modulating a single carrier              ;\n; ======================================================================== ;\n;      p4  = amplitude of output wave\n;      p5  = carrier frequency specified in Hz\n;      p6  = modulating frequency for mod #1 specified in Hz\n;      p7  = modulating frequency for mod #2 specified in Hz\n;      p8  = carrier envelope function\n;      p9  = modulator #1 envelope function\n;      p10 = modulator #2 envelope function\n;      p11 = modulation index 1 for modulator 1 - the minimum modulation\n;      p12 = modulation index 2 for modulator 1 - the peak modulation\n;      p13 = modulation index 1 for modulator 2 - the minimum modulation\n;      p14 = modulation index 2 for modulator 2 - the peak modulation\n; ========================================================================;\n\t\tinstr 1\ni1 \t\t= \t\t1/p3\t\t\t\t\t; ONE CYCLE OF FUNCTION PER NOTE DUR \ni2 \t\t= \t\tp11 * p6                 ; DEVIATION FOR INDEX 1 OF MOD 1\ni3 \t\t= \t\t(p12-p11) * p6          \t; DEVIATION FOR INDEX 2 OF MOD 1\ni4 \t\t= \t\tp13 * p7                \t; DEVIATION FOR INDEX 1 OF MOD 2\ni5 \t\t= \t\t(p14-p13) * p7         \t; DEVIATION FOR INDEX 2 OF MOD 2\nampcar  \toscil   \tp4, i1, p8            \t; AMPLITUDE ENVELOPE FOR THE CARRIER\nampmod1 \toscil   \ti3, i1, p9            \t; AMPLITUDE ENVELOPE FOR MODULATOR1\nampmod2 \toscil   \ti5, i1, p10           \t; AMPLITUDE ENVELOPE FOR MODULATOR2\namod1   \toscili  \tampmod1 + i2, p6, 1   \t; MODULATING OSCILLATOR 1\namod2   \toscili  \tampmod2 + i4, p7, 1   \t; MODULATING OSCILLATOR 2\namod    \t=       \tamod1 + amod2\nasig    \toscili  \tampcar, p5 + amod, 1  \t; CARRIER OSCILLATOR\n\t\tout     \tasig\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n        ; Sine Wave\nf1 0 8192 10 1\n        ; ADSR Trumpet Envelope  - fig 1.11\nf2 0 513 7 0 85.33 1 85.33 .75 85.33 .65  170.66 .50  85.33 0\n        ; AR Woodwind Envelope for Carrier - fig 1.12\nf3 0 513 7 0 100 1 392 .9 20 0\n        ; Gated Woodwind Envelope for Modulator - fig 1.13\nf4 0 513 7 0 100 1 412 1\n        ; Exponential decaying envelope for bell-like timbres.\nf5 0 513 5 1 512 .001\n        ; Modification of Exponential envelope for drumlike sounds\nf6 0 513 5 .7 16 .8 48 1 64 .8 128 .2 256 .001\n        ; Modulator envelope for wood-drum sounds\nf7 0 513 7 0 12 1 52 0 460 0\n;  st  dur  amp     Fc    Fm1  Fm2 Ceg M1eg M2eg M1ndx1 M1ndx2 M2ndx1 M2ndx2\n\ni1 0   .6   10000   440   440  220   2   2   2     0      4     2      6\ni. 1    6\ni. 8   .6     .     220   440  880   3   5   5     2      6     0      6\ni. 9    6\ns\ni1 0   .6   10000   110   880   55   3   6   6     0      8     2     12\ni. 1    6\ni. 8   .6     .     220   440  110   6   7   7     2     22     5     16\ni. 9    6\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iduration           =         p3 using parameter sweep and oscillator and buzz/pulse generator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from buzzsweep.orc and buzzsweep.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n\n                    instr     1\niduration           =         p3\niamp                =         p4\nifreqstart          =         p5\nifreqend            =         p6\niattacktime         =         p7\nireleasetime        =         p8\nistartnh            =         p9\niendnh              =         p10\nkline               line      40, p3, 2\nkfiltmod            oscil     250, kline, 1  \nkadsr               adsr      .5, .2, 30, 4, 2\nkfreq               line      ifreqstart, iduration,  ifreqend \nkamp                linen     iamp,iattacktime, iduration, ireleasetime\nknh                 linseg    istartnh, p3/2, 10, p3/2, iendnh\nabuzz               buzz      kamp, kfreq, knh, 1\nafm                 foscil    kamp, kfreq, 1, 2, kadsr, 1\namix                =         abuzz+afm\nafilt               butterbp  amix, 500+kfiltmod, kfiltmod*.2\narvb                reverb2   afilt, 2.9, .2\n                    out       afilt+arvb\n                    endin\n\n</CsInstruments>\n<CsScore>\n;iamp          =    p4\n;iattacktime   =    p7\n;iduration     =    p3\n;ireleasetime  =    p8\n;ifreqstart    =    p5\n;ifreqend      =    p6\n\nf1  0  8192   10   1\n\ni1 0  10  2\n0000  100  200 2 5 200 500\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using oscillator and linear segments and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from mandel.orc and mandel.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n; Mandelbrot Set Orchestra\n; by Hans Mikelson\n\n\n          instr 10\n\nidur      =         p3\niamp      =         p4\nifqc      =         cpspch(p5)\nkxtrace   init      p6\nkytrace   init      p7\nkxstep    init      p8\nkystep    init      p9*ifqc/55               ; MAKE SCAN AREA INDEPENDENT OF FREQUENCY. \nilpmax    init      p10       \nkclk      init      1\naout2     init      0\nkcntold   init      0\nkdy       init      1\n\nkfco      linseg    200, idur*.3, 5000, idur*.2, 300, idur*.2, 1000, idur*.3, 10000\n\nkclkold   =         kclk\nkclk      oscil     1, ifqc, 2 ; Clock\nkdclick   linseg    0, .001, iamp, idur-.002, iamp, .001, 0 \n\nkcount    =         0\nkx        =         0\nky        =         0\n\nmandloop: \n; ITERATION FOR CALCULATING THE MANDELBROT SET.\n\nkxx       =          kx*kx-ky*ky+kxtrace\nkyy       =         2*kx*ky+kytrace\nkx        =         kxx\nky        =         kyy\nkcount    =         kcount + 1\n\n          if        ((kx*kx+ky*ky<4) && (kcount<ilpmax)) goto mandloop \n\n; UPDATE THE TRACES.                    \nkytrace   =         kytrace + kystep         ; STEP IN THE Y DIRECTION (i COMPLEX)\n\n          if        (kclkold == kclk) goto endif1 ; CLOCK TIME-OUT, REVERSE SCAN DIRECTION. \n\nkdy       =         -kdy\nkystep    =         kdy*kystep\nkxtrace   =         kxtrace+kxstep\n\nendif1:\n\naout1     =         kcount*kdclick\naout2     tone      aout1, kfco\nkcntold   =         kcount\n\n          outs      aout2, aout2\n          endin\n\n</CsInstruments>\n<CsScore>\n; Mandelbrot Set Score\n; by Hans Mikelson\n\n; f1=Sine, f2= Square\nf1 0 8192 10 1\nf2 0 1024 7 1 512 1 0 -1 512 -1\n\n; Waveform from the Mandelbrot set.\n; Sta Dur Amp Pitch XCorner YCorner XStep YStep MaxLoop \ni10 0 4.0 60 6.03 -0.8   -0.8 .002 .002 400\ni10 + 0.5 .    6.05 -0.6 -0.8 .0002 .002 400\ni10 . 0.5 .    6.07 -0.6 -0.8 .0002 .002 400\ni10 . 0.5 .    8.00 -0.6 -0.8 .0002 .002 400\ni10 + 2.0 50 6.03 -0.8   -0.7 .002 .002 400\ni10 . 2.0 50 6.03 -0.8   -0.6 .002 .002 400\ni10 . 2.0 50 6.03 -0.8   -0.5 .002 .002 400\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a synclar sound using oscillator and resonant filter and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from SYNCLAR.ORC and SYNCLAR.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n;TESTING CLARINET ADDITIVE IN CLAR.SCO\n\n\ninstr          1\n\nk1             randi     p8,p9               ;CONTROLS BNDWDTH 5 IS GOOD FREQ    P8=RANGE P9=FREQ\nk2             expseg    p4*.001,p3*.075,p4,p3*.915,p4,p3*.01,p4*.001\nk3             linseg    p5,p3,p6            ;SEG FOR FREQ\na1             oscil     k2,k3,1\na2             reson     a1,k3,k1+p7,1,0\nk4             linseg    0,p3*.01,1,p3*.98,1,p3*.01,0\n               out       a2*k4\nendin\n\n</CsInstruments>\n<CsScore>\n;SYNCLAR WITH RANDOM BNDWDTH AND MULTIPLE NOTES\n;CLARINET SYNTHESIZED\n;9-2-89\n\nf 1 0 2049 9 1 1 0 2 .0117 0 3 .3603 0 4 .0147 0 5 .6176 0 6 .0220 0 7 .1176 0 8 .0514 0 9 .2058 0 10 .0411 0 11 .0735 0 12 .0735 0 13 .1103 0 14 .0220 0 15 .0235 0 16 .0117 0\n\n;IN STRT  DUR  AMP    FREQ 1   FREQ 2  BNDWTH RAND RANGE RAND CPS\n;-- ---- ---- ----- -------- -------- ------- ---------- ----------\ni1  0      7  2500   211.126  211.126   151       50        5\ni1  0      7  2400   189.90   189.90    135       50        5\ni1  0      7  2300   170      170       121.5     50        5\ni1  0      7  2200   153      153       109       50        5\ni1 6.99    8  2500   211.126  211.126   151       60        7\ni1 6.99    8  2400   189.90   189.90    135       60        7\ni1 6.99    8  2300   170      170       121       60        7\ni1 6.99    8  2200   153      153       109       60        7\ni1  14     7  2500   211.126  211.126   151       70        9\ni1  14     7  2400   189.90   189.90    135       70        9\ni1  14     7  2300   170      170       121.5     70        9\ni1  14     7  2200   153      153       109       70        9\ni1  20     7  2500   211.126  211.126   151       80        11\ni1  20     7  2400   189.90   189.90    135       80        11\ni1  20     7  2300   170      170       121.5     80        11\ni1  20     7  2200   153      153       109       80        11\n\ns\nf0 2\ns\n\ni1  .2    7   2000  200\ni1  .6    1   .     270\ni1  1.2   1   .     249.2\ni1  1.9   1   .     229.6\ni1  2.2   1   .     211.126\ni1  2.75  .75 .     177.2\ni1  3     1   .     161.6\ni1  3.2   1   .     193.7\ni1  3.5   1   .     270\ni1  3.9   1   .     229.6\ni1  4.8   3   .     211.126\ni1  5.92  3   .     270\ni1  6.2   .   .     249.2\ni1  7.62  .   .     229.6\ni1  8.95  .   .     177.2\ni1  9.96  .   .     161.2\ni1  10.2  .   .     193.7\ns\n\ni1 0 10 500 110\ni1 .5 10 750 220\ni1 1 10 1000 330\ni1 1.5 10 1500 440\ni1 10 10  750 110\ni1 10 10 750 220\ni1 10 10 750 330\ni1 10 10 750 440\n\ni1 16 10 750 137.5\ni1 16.5 10 750 275\ni1 17 10 750 412.5\ni1 17.5 10 750 550\n\ni1 22.2 10 750 82.41\ni1 22 10 750 164.8\ni1 22 10 750 261.6\ni1 22.2 10 500 523.2\ni1 22 10 750 311.1\ni1 22.2 10 500 622.2\n\ni1 27 10  750 110\ni1 27.1 10 10 750 220\ni1 27.2 10 10 750 330\ni1 27.3 10 750 440\ns\n\ni1 2 10 500 550\ni1 2.5 10 500 660\ni1 3.0 10 500 770\ni1 3.5 10 500 880\ni1 4 10 500 990\ni1 4.5 10 500 1100\ni1 5 10 500 1210\ni1 5.5 10 500 1320\ni1 6 10 500 1430\ni1 6.5 10 500 1540\ni1 7 10 500 1650\ni1 7.5 10 500 1760\ni1 8 10 500 1870\ni1 8.5 10 500 1970\ni1 9  10 500 2090\ni1 9.5 10 500 2200\ni1 10 10 500 2310\ni1 10.5 10 500 2420\ni1 11 10 500 2530\ni1 11.5 10 500 2640\ni1 12 10 500 2750\ni1 12.5 10 500 2860\ni1 13 10 500 2970\ni1 13.5 10 500 3080\ni1 14 10 500 3190\ni1 14.5 10 500 3300\ni1 15 10 500 3410\ni1 15.5 5 500 3520\ns\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for MALE AAAAAH using oscillator and FOF formant synthesis and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FEMAHH.ORC and FEMAHH.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n;**********************************************************************\n; VOICES\n; SYNTHESIS:    FOF(45)\n;               SUMMED FOF GENERATORS(33)\n; CODED:        3/27/96 HANS MIKELSON\n\n\n          instr 1\n; MALE AAAAAH\nidur      =         p3\nifq       =         p4\nk1        oscil     2, 4, 1                    ; vibrato\nk2        linseg    0, idur*.5, 0, idur*.5, 1  ; octaviation coefficient\n\n;                                                   \n;                   xamp  xfund xform koct kband kris kdur kdec iolaps ifna ifnb   idur\n;  BASE AMPLITUDE OF 20000\n\na1        fof       10000,ifq+k1,  370, k2, 200, .003, .017, .005,  2, 1,19, idur, 0, 1\na2        fof       5000,ifq+k1, 3200, k2, 200, .003, .017, .005, 2, 1,19, idur, 0, 1\na3        fof       4000,ifq+k1, 3730, k2, 200, .003, .017, .005, 2, 1,19, idur, 0, 1\n\na7        =         (a1 + a2 + a3) * p5 / 10\n\na8        tone      a7, 5000\n          out       a7\n\n          endin\n\n\n</CsInstruments>\n<CsScore>\n;***********************************************************************\n; ACCCI:     45_33_1.SC\n; coded:     jpg 3/94\n; GEN FUNCTIONS **********************************************************\nt 0 240\nf1  0 4096  10 1\nf19 0 1024  19 .5 .5 270 .5\n; SCORE******************************************************************\n\n;  istart idur ifq  ivol (1-10)\ni1  0     10   115  5\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using FM synthesis and oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Fm103.orc and Fm103.sco\n; Original files preserved in same directory\n\nsr        =         44100 \nkr        =         4410                                  \nksmps     =         10\nnchnls    =         1\n\n\n; FM INSTRUMENT\n \n; THREE PARALLEL CARRIERS\n; FOUR INDEPENDENT ENVELOPE GENERATORS\n; INDEPENDENT MODULATION INDEX\n\n          instr 3\n\nidur      =         p3             \nicaramp   =         (ampdb(p4))/3            ; SCALE THE OUTPUT OF MY THREE CARRIERS\nicar1freq =         p5\nicar2freq =         p6\nicar3freq =         p7\nindex     =         p8\nimodfreq  =         p9\nimodindex =         imodfreq * index\nicarwave  =         1\nimodwave  =         1\nimodrise  =         p10\nimoddec   =         p11\nicar1rise =         p12\nicar1dec  =         p13\nicar2rise =         p14\nicar2dec  =         p15\nicar3rise =         p16\nicar3dec  =         p17\nindexscale1 =       p18                      ; SCALE THE MODULATION INDEX BY A PERCENTAGE 1 = 100%\nindexscale2 =       p19\nindexscale3 =       p20\n \nkmodamp   linen     imodindex, imodrise, idur, imoddec \namod      oscil     kmodamp, imodfreq, imodwave\n \nkcar1amp  linen     icaramp, icar1rise, idur, icar1dec \nacar1     oscil     kcar1amp, icar1freq + (amod * indexscale1), icarwave\n\nkcar2amp  linen     icaramp, icar2rise, idur, icar2dec \nacar2     oscil     kcar2amp, icar2freq + (amod * indexscale2), icarwave\n\nkcar3amp  linen     icaramp, icar3rise, idur, icar3dec \nacar3     oscil     kcar3amp, icar3freq + (amod * indexscale3), icarwave\n\n          out       acar1 + acar2 + acar3    ; SCALING THE OUTPUT \n          endin\n\n</CsInstruments>\n<CsScore>\n; Fm instrument\n \n; Three Parallel Carriers\n; Four Independent Envelope Generators\n; Independent Modulation Index\n\n;  idur = p3\n;  icaramp =  (ampdb(p4))/3            \n;  icar1freq = p5\n;  icar2freq = p6\n ; icar3freq = p7\n;  index = p8\n;    imodfreq = p9\n;  imodrise = p10\n ; imoddec =  p11\n ; icar1rise =  p12\n ; icar1dec =   p13\n ; icar2rise =  p14\n ; icar2dec =   p15\n ; icar3rise =  p16\n ; icar3dec =   p17\n ; indexscale1 = p18            \n ; indexscale2 = p19\n ; indexscale3 = p20\n\nf1 0  4096  10  1\n   \ni3  0  10   90 100 103  98  5  100  5  1  .1    .5    4  2  7  1  1   1.5  2\ns\ni3  0  10   90 100 200  400 10  200  7  2  4    1    1  6  9  1  .5   1  .3\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for k1             linseg    p5,p3,p6 using oscillator and sample-and-hold random and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from GENSOND.ORC and GENSOND.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n;TEST OF GEN 1 CALLING SOUNDIN.5\n;4/21/89\n\n\ninstr          1\n;k1            randh     .3,10          ;AMP CONSTITUTES RANGE\nk1             linseg    p5,p3,p6       ;SPEED OF SOUNDFILE READING\na1             oscil     p4,k1,1\n               out a1\nendin\n\ninstr          2\nk1             linseg    p5,p3,p6\na1             oscil     p4,k1,2\n               out       a1\nendin\n\n</CsInstruments>\n<CsScore>\n;TEST OF GEN 1 WITH SOUNDIN.5\n\nf 1 0 32769 1 5 0  4  0\n\ni1 0 15 4000 3.5 2                ;GIVES METALLIC DESCENT\ni1 9 14 4000 2 .2                 ;DESCENDING THROUGH CLAR SOUND TO BASS\ni1 15 10 4000 .2 .2               ;CLOSE TO REAL THING\ni1 30 10 4000 5 .1\ni1 40 10 4000 6 1\ni1 50 5 4000 50 1\ni1 55 3 4000 10 .1\ni1 60 20 4000 3 2\ni1 0 10 4000 1 20\ni1 9 5 4000 .1 10\ni1 13 60 4000 .1 100\ni1 24 30 4000 .2 50\ni1 40 25 4000 .1 25\ni1 55 20 4000 .15 20\ni1 65 15 4000 .1 10\ni1 78 8 4000 .01 100\n\ns\n\n;THIS PART USES SOUNDIN.5 AND WRITE D:\\TEMP.SF\n\nf 2 0 65537 1 5 0  4  0            ;THIS VERSION NOW USES SOUNDIN.5\n\ni1 0 20 2000 .15 .2\ni2 0 20 2000 1 .2\ni2 13 5 2000 1 .2\ni2 20 3 2000 1 .2\ni2 23 2 2000 .1 2\ni2 25 15 2000 1 .2\ni2 35 17 2000 .1 1\ni2 46 9 2000 1. .5\ni2 15 39 2000 .2 .3\ni2 64 13 . .5 1.5\ni2 73 6.5 . 2.5 .2\ni2 78 30 . 1. 2.\ni2 89 12 . 2. .2\n\n\n\n\n\n;i2 30 5 2000 .2 .2\n;i2 35 30 2000 .01 .25\n\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1             =         1/p3 using oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 48REP.ORC and 48REP.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n; FIG 4.8.REP.ORC\n\ninstr          1\ni1             =         1/p3\ni2             =         cpspch(p4)\ni3             =         i1*p6\ni4             =         i3*p7\n\na1             oscil     p5,i1,2\na2             oscil     i4,i1,1\na2             oscili    a2,i3,3\na1             oscili    a1,i2+a2,3\n\nout            a1\n\nendin\n\n</CsInstruments>\n<CsScore>\nc fig 4.8.rep.scr\nf 1 0 512 5 1 512 .001\nf 2 0 512 7 1 64 0 448 0\nf 3 0 512 9 1 1 0\n  i1 0.000 0.750 8.00 20000 1.400 10\n  i1 0.750 0.250 8.00 20000 1.400 10\n  i1 1.000 1.000 8.00 20000 1.400 10\n  i1 2.000 0.250 8.00 20000 1.400 10\n  i1 2.250 0.250 8.00 20000 1.400 10\n  i1 2.500 0.250 8.00 20000 1.400 10\n  i1 2.750 0.250 8.00 20000 1.400 10\n  i1 3.000 2.000 8.00 20000 1.400 10\n  i1 5.000 0.500 8.00 20000 1.400 10\n  i1 5.500 0.500 8.00 20000 1.400 10\n  i1 6.000 0.500 8.00 20000 1.400 10\n  i1 6.500 0.750 8.00 20000 1.400 10\n  i1 7.250 0.250 8.00 20000 1.400 10\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur    \t=          p3 using cross-synthesis and oscillator and Butterworth bandpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from motocross.orc and motocross.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n;HANS MIKELSON\n;------------------------------------------------------------------\n; ORCHESTRA\n;------------------------------------------------------------------\n; INDUSTRIAL LOOPS\n;------------------------------------------------------------------\n        \tinstr      4\nidur    \t=          p3\niamp    \t=          p4*2\nifqc    \t=          cpspch(p5)\niplstab \t=          p6\nirattab \t=          p7\niratrat \t=          p8\nipantab \t=          p9\nimixtab \t=          p10\nilptab  \t=          p11\nkpan    \toscil      1, 1/idur, ipantab             \t; PANNING\nkmix    \toscil      1, 1/idur, imixtab             \t; FADING\nkloop   \toscil      1, 1/idur, ilptab              \t; LOOPING\n;kfc    \t expseg     .1, idur/2, 4, idur/2, .1     \t; FQC CENTER\nloop1:\nkprate  \toscil      1, iratrat/kloop, irattab      \t; PULSE RATE\nkamp    \toscil      iamp, kprate, iplstab          \t; AMPLITUDE PULSE\nasig    \trand       kamp                           \t; NOISE SOURCE\n;aflt   \t butterbp   asig, ifqc*kfc, ifqc*kfc/4     \t; BAND FILTER\naflt    \tbutterbp   asig, ifqc, ifqc/4             \t; BAND FILTER\naout    \tbalance    aflt, asig                     \t; BRING LEVEL BACK UP\n\t\t\t\t\t\t\t\t\t\t\t; WHEN THE TIME RUNS OUT REINITIALIZE\n        \ttimout     0, i(kloop), cont1\n        \treinit     loop1\ncont1:\n        \touts       aout*sqrt(kpan)*kmix, aout*sqrt(1-kpan)*kmix ; OUTPUT PAN & FADE\n        \tendin\n\n</CsInstruments>\n<CsScore>\n; SCORE\nf1 0 8192 10 1 ; SINE\n; PULSE TABLES\nf12 0 1024   7  0 512 1 512 0\n; RATE TABLES\nf25  0 1024  -5  5000 1024  100\n; PAN TABLES\nf31  0 1024  7  1  1024  0\n; MIX TABLES\nf41  0 1024  5  .01 128 1 768 1 128 .01\n; LOOP TABLES\nf50  0 1024 -5  .41 50 .021 206 .35 56 .012 200 .28 56 .016 200 .085 56 .02 200 .32\n; GENERATE INDUSTRIAL LOOPS\n;   STA  DUR  AMP   PITCH  PULSTAB  RTTAB  RTRT  PANTAB  MIXTAB  LOOP\ni4  0    32   6000  8.00   12       25     1     31      41      50\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1        =         1/p3 using oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 48CL.ORC and 48CL.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; FIG 4.8.cl.orc\n\n          instr 1\n\ni1        =         1/p3\ni2        =         cpspch(p4)\ni3        =         i2*p8\ni4        =         i3*(p7-p6)\ni5        =         i3*p6\n\na1        oscil     p5,i1,1\na2        oscil     i4,i1,1\na2        oscili    a2+i5,i3,3\na1        oscili    a1,i2+a2,3\n\n          out       a1\n\n          endin\n\n</CsInstruments>\n<CsScore>\nc fig4.8.cl.scr\nf 1 0 512 5 .001 64 1 384 1 64 .001\nf 2 0 512 5 .001 64 1 448 1\nf 3 0 512 9 1 1 0\nf 0 2 \ns\n  i1 0.000 0.750 8.00 20000 7 2 0.667\n  i1 0.750 0.250 8.04 20000 7 2 0.667\n  i1 1.000 1.000 8.07 20000 7 2 0.667\n  i1 2.000 0.250 9.00 20000 7 2 0.667\n  i1 2.250 0.250 9.00 20000 7 2 0.667\n  i1 2.500 0.250 9.00 20000 7 2 0.667\n  i1 2.750 0.250 9.00 20000 7 2 0.667\n  i1 3.000 2.000 9.05 20000 7 2 0.667\n  i1 5.000 0.500 10.00 20000 7 2 0.667\n  i1 5.500 0.500 10.05 20000 7 2 0.667\n  i1 6.000 0.500 11.00 20000 7 2 0.667\n  i1 6.500 0.750 8.00 20000 7 2 0.667\n  i1 7.250 0.250 8.04 20000 7 2 0.667\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Wave Oscillator using oscillator and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from WaveOsc.orc and WaveOsc.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 1\n\n\ninstr    1 ; Wave Oscillator\n\nilevl    = p4*32767   ; Level\niptch    = cpspch(p5) ; Pitch\nipos1    = p6         ; Start position\nipos2    = p7         ; End position\niamp1    = p8         ; Start width\niamp2    = p9         ; End width\nitabi    = p10        ; Index waveform\nitabr    = p11        ; Indexed waveform\n\nkpos     line  ipos1, p3, ipos1                   ; Position\nkamp     line  iamp1, p3, iamp2                   ; Width\nkosc     oscil  .5, iptch, itabi, -1              ; Indexing Osc\nawave    tablei  kosc*kamp + kpos, itabr, 1, 0, 1 ; Table Indexed\nout      awave*ilevl                              ; Level and output\n\nendin\n\n</CsInstruments>\n<CsScore>\n;Terrain Tables\nf1 0 4097 10 1 ; Sine\nf2 0 4097 10 10 1 0 8 0 0 12 7 5 3 1 5 0 0 6\nf3 0 32769 10 0 0 0 0 0 0 0 0 0 0 1 ; 11th Harmonic\nf4 0 32769 10 0 0 0 0 0 0 0 0 0 0 0 1 ; 12th Harmonic\nf5 0 4097 10 0 7 5 0 2 2 2 1\nf6 0 4097 10 1 2 3 4 5 6 7 8 ; Rising Harmonics\n\n;Index Tables\nf50 0 4097 10 1 ; Sine\nf51 0 4097 7 0 1024 1 2048 -1 1024 0 ; Tri\nf52 0 4097 7 -1 4096 1 ; Ramp\n\n;   Strt  Leng  Levl  Pitch Mod1  Mod2  Amp1  Amp2  TabI  TabR\ni1  0.00  4.00  1.00  05.00 0.50  0.50 .0833  1.00  50    3\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kfade        line      p17, p3, p18 using sequencer and oscillator and simple sine oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Isequencer.orc and Isequencer.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n;FROM: E.G.NEWTON@ITI.SALFORD.AC.UK\n;HERE IS A CSOUND EXAMPLE I WROTE A FE DAYS AGO TO ALLOW NOTE PATTERNS TO BE\n;GENERATED FROM WITHIN CSOUND. IT USES F2 TO STORE PARAMETER LISTS WHICH ARE\n;THEN TRANSFERED INTO SETTINGS FOR PITCH, DURATION VOLUME AND GATING SPEED.\n;IT IS A STRIPPED DOWN VERSION OF A COMPOSITION I PRODUCED USING SAMPLED\n;SOUNDS AS WELL, SO PLEASE STICK WITH IT IF IT SOUNDS TO EMPTY! I APOLOGISE\n;FOR LACK OF ANY MUSICAL KNOWLEDGE, IT IS THE SEQUENCING IT IS\n;DEMONSTRATING. FEEL FREE TO CHANGE THE CODE, AND IF YOU HAVE ANY EXAMPLES\n;ALONG SIMILAR LINES PLEASE SEND. ANYWAY HERE IT IS, I HOPE IT WORKS...\n\n\n\n\n; *****************  ORCHESTRA  *****************\n\n\ngimult         init      3\n; I ALWAYS SET VOLUMES TOO LOW SO THIS BOOSTS EVERYTHING\n\n\n\ninstr          8\n  kfade        line      p17, p3, p18\n  kgoto        reset                              ; TRANSFER PAST COUNTER INIT ON PASSES\n  kc1          =         0                        ; INIT COUNTERS\n  kc2          =         0                        ; INIT COUNTERS\n  kc3          =         0                        ; INIT COUNTERS\n  kc4          =         0                        ; INIT COUNTERS\nreset:\n  krfr         table     kc1, p5                  ; READ FREQ COUNTER POSITION\n  krvol        table     kc2, p7                  ; USE GEN02\n  kdur         table     kc3, p9\n  kmisc        table     kc4, p11\n  kphs         phasor    1/kdur                   ; KPHS GOES FROM 0>1 OVER NOTE\n  if (kphs < 0.998)      goto process             ; GOTO PROCESS IF IN NOTE, ELSE..\n  kc1          =         kc1 + 1                  ; ADD ONE TO COUNTER\n  kc1          =         ( kc1 < p6 ? kc1 : 0 )   ; IF COUNTER PAST LAST, RESET\n  kc2          =         kc2 + 1\n  kc2          =         ( kc2 < p8 ? kc2 : 0 )\n  kc3          =         kc3 + 1\n  kc3          =         ( kc3 < p10 ? kc3 : 0 )\n  kc4          =         kc4 + 1\n  kc4          =         ( kc4 < p12 ? kc4 : 0 )\n  reinit       reset                              ; REINIT ALL OSCILS ETC\nprocess:\n; NORMAL INSTRUMENT. p3 ref > kdur\n\n  agatea       oscil     1, kmisc, p16\n  asig         buzz      1, 100, 150, 1\n  kfreq        oscil     1, 1/kdur, p6\n  kcf          =         krfr + (kfreq*krfr)\n  afilt        reson     asig, kcf, 35\n  asig         balance   afilt, asig\n  krvol        =         ampdb(krvol)\n  asig         =         asig * agatea * krvol * kfade * p4\n               out       asig * gimult\nendin\n\n</CsInstruments>\n<CsScore>\n; ***************  Score  *******************\n\nf1  0  2048 10 1                                                      ; SINE\nf2  0  1025  3  -1  1  5  4  3  2  2  1                               ; POLYNOMIAL\nf3  0  65    8  0 16 0 .1  0 15.9 1 15.9  0 .1  0 16 0                ; HUMP WITH GAP\nf4  0 256    7  1 256 1                                               ; LINE ACROSS\nf5  0 256    7  0 20  1 36  0.5 100 0 100 0                           ; ADSR\nf6  0 256    7  0 5  1 36  0.5 100 0 115 0                            ; HARD ADSR\nf7  0 1024  19 .5  1  270 1                                           ; SIGMOID RISE FOR ATTACK\n\nf8  0  16   -2  1 1.1 4\nf9  0  16   -2  80 65 50\nf10 0  16   -2  1 2.5 1.5\nf11 0  16   -2  4 3\nf12 0  16   -2  300 800 500\n\n\nf30 0  16   -2  0.1\nf31 0  16   -2  1000 2000 3000\nf32 0  16   -2  8000 2000 3000 4000\nf33 0  16   -2  0.8 0.9 4\nf34 0  16   -2  1000 500 2000 500 3000 500 4000 500\nf35 0  16   -2  0.25 0.25 0.1\nf36 0  16   -2  5 2.5 1\nf37 0  16   -2  0.3\nf38 0  16   -2  1 2 3 4\n\n\n;a 0 0 50                                                             ; USED FOR SKIPPING THRU WHEN TESTING\n\n        ; rel    ffn,seq  vfn,seq  dfn,seq  gfn,seq envfn freqfn gatefn\nABfade\ni8 0 60  3     12 3    9 2     10 2    11 2     0 2     7     5     0.4 1\ni8 10 15 1     31 3    9 2     30 1    11 2     0 2     7     5     0 0.5\ni8 25 5  2     32 4    9 2     30 1    11 2     0 2     7     1     0 0.4\ni8 30 15 1.5   31 3    9 2     30 1    10 3     0 2     7     5     0.4 0.1\ni8 60 20 3     12 3    9 2     10 2    11 2     0 2     7     5     1 0.3\ni8 55 30 0.4   32 4    9 2     30 1    11 2     0 2     7     7     0.6 0\ni8 75 30 0.4   12 4    9 2     30 1    33 3     0 2     1     6     0.4 0.2\ni8 75.5 30 .4  31 4    9 2     30 1    33 3     0 2     1     6     0.3 0\ni8 95 40 1     34 8    9 3     35 3    33 3     0 2     1     1     0.1 0.4\ni8 95 50 1     34 8    9 3     36 3    33 3     0 2     1     1     0.2 0.4\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for REZZY SYNTH BASED ON DIFF EQS using oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from LPF.orc and LPF.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         44100\nksmps     =         1\nnchnls    =         1\n\n\n;****************************************************************\n; RESONANT LOW-PASS FILTER\n; CODED: HANS MIKELSON  2/7/97\n;****************************************************************\n\n\n\n          instr 1   ; REZZY SYNTH BASED ON DIFF EQS\n\nidur      =         p3\nkamp      linseg    0, .01*p3, p4, .98*p3, p4, .01*p3, 0\nifqc      =         cpspch(p5)\nires      =         p7/1000\n\nkfco      linseg    .1*p6, p3, p6\nkres      =         ires\n\n          ; THE DIFFERENCE EQUATION COEFFICIENTS\n\nkb        =         1/kfco/kres\nkk        =         10000/kfco\n\naynm1     init      0\naynm2     init      0\naxn       oscil     kamp, ifqc, 3\n\n          ; THE DIFFERENCE EQUATION: Yn=((b+2k)Yn-1 - kYn-2 + Xn)/(1+b+k)\n\nayn       =         ((kb+2*kk)*aynm1-kk*aynm2+axn)/(1+kb+kk)\naynm2     =         aynm1\naynm1     =         ayn\n          out       ayn\n          endin\n\n</CsInstruments>\n<CsScore>\n\n; *********************************************************\n; REZZY SAWTOOTH SYNTH\n; CODED:  HANS MIKELSON 2/7/97\n;**********************************************************\n; SAWTOOTH\n\nf3  0   256   7  1 256 -1\n\n; SCORE ***************************************************\n\nt 0 300\n\n;       IDUR  IAMP   IPCH   FILTER CUT-OFF  RESONANCE\ni1    0   2    6000   7.00       1000            5\ni1    +   1    6000   7.03       1000           10\ni1    .   .    6000   7.05        800           15\ni1    .   .    6000   7.02       1000           20\ni1    .   .    6000   8.00       1200           25\ni1    .   .    6000   7.03       1000           30\ni1    .   .    6000   7.05        500           60\ni1    .   2    6000   7.00       1000            5\ni1    .   1    6000   7.03       1000           10\ni1    .   .    6000   7.05        800           15\ni1    .   .    6000   7.02       1000           20\ni1    .   .    6000   8.00       1200           25\ni1    .   .    6000   7.03       1000           30\ni1    .   .    6000   7.05        500           60\ni1    0   8    6000   5.00        200           30\ni1    +   .    6000   4.10        200           30\ni1    .   .    6000   5.00       1000          100\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur           =              p3 using oscillator and Karplus-Strong plucked string and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from tanh3.orc and tanh3.sco\n; Original files preserved in same directory\n\nsr             =              44100\nkr             =              4410\nksmps          =              10\nnchnls         =              2\n\n;------------------------------------------------------------------------------\n; MODIFIED HYPERBOLIC DISTORTION\n; CODED BY HANS MIKELSON DECEMBER 1998\n;------------------------------------------------------------------------------\n               zakinit        50, 50\n\n;------------------------------------------------------------------------------\n; PLUCKED INSTRUMENT\n;------------------------------------------------------------------------------\n               instr          1\n\nidur           =              p3                            ; DURATION\niamp           =              p4                            ; AMPLITUDE\nipch           =              cpspch(p5)                    ; PITCH\nitab1          =              p6\nioutch         =              p7                            ; OUT CHANNEL\n\nasig           pluck          iamp, ipch, ipch, itab1, 1    ; GENERATE A PLUCKED TONE\n               zawm           asig, ioutch                  ; MIX TO THE ZAK CHANNEL\n\n               endin\n\n;------------------------------------------------------------------------------\n; SINE WAVE\n;------------------------------------------------------------------------------\n               instr          2\n\nidur           =              p3                                 ; DURATION\niamp           =              p4                                 ; AMPLITUDE\nifqc           =              cpspch(p5)                         ; PITCH\nitab1          =              p6\nioutch         =              p7                                 ; OUT CHANNEL\n\nasig           oscil          iamp, ifqc, itab1                  ; GENERATE A PLUCKED TONE\n               zawm           asig, ioutch                       ; MIX TO THE ZAK CHANNEL\n\n               endin\n\n;------------------------------------------------------------------------------\n; TANH DISTORTION\n;------------------------------------------------------------------------------\n               instr          11\n\nidur           =              p3\nkpregn         =              p4/8000                            ; PREGAIN/OVERDRIVE\nkpostg         =              p5*20000                           ; POSTGAIN/VOLUME\nka1            =              p6/8000                            ; SHAPE 1 0=FLAT\nka2            =              p7/8000                            ; SHAPE 2\nirect          =              p8                                 ; RECTIFICATION\niinch          =              p9                                 ; INPUT CHANNEL\nioutch         =              p10                                ; OUTPUT CHANNEL\nioutlvl        =              p11                                ; OUTPUT LEVEL\n\nkdclick        linseg         0, .002, 1, idur-.004, 1, .002, 0  ; DECLICK ENVELOPE\n\nasig           zar            iinch\nkrms           rms            asig, 10\nasig           =              asig + irect*krms\n\nkoffs1         =              irect*krms*(p4/1000+(p6-.5)/8000)\nkoffs2         =              -irect*krms*(p4/1000+(p7-.5)/8000)\nkoffs3         =              irect*krms*p4/1000\nkoffs          =              (exp(koffs1)-exp(koffs2))/(exp(koffs3)+exp(-koffs3))\n\n\nax1            =              asig*(kpregn+ka1)   ; PRECALCULATE A FEW VALUES TO SAVE TIME\nax2            =              -asig*(kpregn+ka2)\nax3            =              asig*kpregn\n\naout           =              ((exp(ax1)-exp(ax2))/(exp(ax3)+exp(-ax3))-koffs)*kpostg                                        ; MODIFIED TANH DISTORTION\n\n               zaw            aout*kdclick, ioutch                         ; OUTPUT THE RESULT\n               outs           aout*kdclick*ioutlvl, aout*kdclick*ioutlvl   ; OUTPUT THE RESULT\n\n               endin\n\n;------------------------------------------------------------------------------\n; CLEAR ZAK\n;------------------------------------------------------------------------------\n               instr          99\n               zacl           0, 50\n               zkcl           0, 50\n               endin\n     \n\n</CsInstruments>\n<CsScore>\n;------------------------------------------------------------------------------\n; MODIFIED HYPERBOLIC TANGENT DISTORTION\n; CODED BY HANS MIKELSON OCTOBER 1998\n;------------------------------------------------------------------------------\nf1 0 8192 10 1\n\n; SINE\n;    Sta   Dur  Amp    Pitch  Table  OutCh\ni2   0.0   .2   10000  7.00   1      1\n\n; DISTORTION\n;    Sta  Dur   Overdrive  Gain  Shape1  Shape2  Rect  InCh  OutCh  Output\ni11  0    .2    4          .5    0       .1      .5    1     2      1\n\n; ZAK CLEAR\ni99  0    .2\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idev1          =         .02 using oscillator and delay line read and delay line write", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from rev9.orc and rev9.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         8820\nksmps          =         5\n\n\n\ninstr          1\nidev1          =         .02\nimax1          =         idev1 * 2.1\nifile          =         p4\niskip          =          p5\niorig          =         p6\nirev           =         1.-p6\niegain         =         .2\nicgain         =         .05\niagain         =         iorig/2\n\nihpf           =         50\nicmblpf        =         2700\nieclp1         =         .1\nieclp2         =         .1327\nieclp3         =         .0639\nieclp4         =         .184\niecrvt         =         1.0\nicombrvt       =         1.8\nilpt1          =         1/30\nilpt2          =         1/38\nilpt3          =         1/43\nilpt4          =         1/51\niallrvt        =         .1\n     araw      soundin   ifile,iskip\n     aec1      comb      araw, iecrvt, ieclp1\n     aec2      comb      araw, iecrvt, ieclp2\n     aec3      comb      araw, iecrvt, ieclp3\n     aec4      comb      araw, iecrvt, ieclp4\n     aec       =         aec1+aec2+aec3+aec4\n     aecho1    atone     aec, ihpf\n     ; FUNC1 IS RAISED AMP=1 COSINE WITH SMALL DC (.05 )\n     adel1     oscil     idev1, 1.4, 1\n     adel2     oscil     idev1, 1.63, 1\n     adel3     oscil     idev1, 1.871, 1\n     addl1     delayr    imax1\n     atap1     deltapi   adel1\n     atap2     deltapi   adel2\n     atap3     deltapi   adel3\n               delayw    aecho1\n     aecho     =         (atap1+atap2+atap3) \n     ;acomb1   comb      aecho, icombrvt, ilpt1\n     ;acomb2   comb      aecho, icombrvt, ilpt2\n     ;acomb3   comb      aecho, icombrvt, ilpt3\n     ;acomb4   comb      aecho, icombrvt, ilpt4\n     ;asum     =         acomb1 + acomb2 + acomb3\n     ;acomb    tone      asum, icmblpf\n     ;acomb    =         acomb * icgain\n     asum2     =         aecho * iegain\n\n     ;asum2    =         acomb + aecho\n     all1      alpass    asum2, iallrvt, .006\n     all2      alpass    asum2, iallrvt, .007\n     all3      alpass    araw, 2.0, .03\n     all3lp    tone      all3, 2000\n     arev      =         all1 + all2 \n     aout      =         (irev*arev)+(iorig*araw)+(all3lp*iagain)\n     out       aout\nendin\n\n</CsInstruments>\n<CsScore>\n;f1 0 8193 9  .98 -.5 180  .02 .5  0\nf1 0 8193 -9 1 -.5 90  0 .5 90\ni1 0 2 1 0 .6\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kamp      =         p4 using oscillator and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from risset2.orc and risset2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         441\nksmps     =         100\nnchnls    =         1\n\n;;; DRUM INSTRUMENT BASED ON RISSET\n;;; FIGURE 3.26 FROM DODGE & JERSE, P.93\n\n\ninstr     1\nkamp      =         p4\nkfreq     =         p5\n\nka1       =         kamp/2\nkf1       =         1/p3\nkamp1     oscil     ka1, kf1, 2\nkrand     randi     kamp1, 400\nasig1     oscil     krand, 500, 4\n\nka2       =         kamp/6\nkf2       =         1/p3\nkamp2     oscil     ka2, kf2, 2\nkfreq2    =         kfreq/10\nasig2     oscil     kamp2, kfreq2, 3\n\nka3       =         kamp/2.5\nkf3       =         1/p3\nkamp3     oscil     ka3, kf3, 1\nasig3     oscil     kamp3, kfreq, 4\n\naout      =         asig1+asig2+asig3\nout       aout\nendin\n\n</CsInstruments>\n<CsScore>\n;;; SCORE FOR 3.26\n\nf1   0    128  5    1    128  .004\nf2   0    128  5    1    128  .00012\nf3   0    8192 10   0    0    0 0 0 0 0 0 0 1 0 0 0 0 0 1.5 0 0 0 0 0 2 1.5\nf4   0    8192 10   1\n\n;    INST      START     LENGTH    AMP       FREQ\ni    1         0         .5        15000     190\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =          p3 using granular synthesis and oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from GRANUL.ORC and GRANUL.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n;----------------------------------------------------------------------------------\n; YOUR BASIC GRANULAR SYNTHESIS\n;----------------------------------------------------------------------------------\n          instr      1\n\nidur      =          p3\niamp      =          p4\nifqc      =          cpspch(p5)\nigrtab    =          p6\niwintab   =          p7\nifrng     =          p8\nidens     =          p9\nifade     =          p10\nigdur     =          .2\n\nkamp      linseg     0, ifade, 1, idur-2*ifade, 1, ifade, 0\n\n;                   AMP  FQC   DENSE  AMPOFF PITCHOFF    GRDUR  GRTABLE   WINTABLE  MAXGRDUR\naoutl     grain     p4,  ifqc, idens, 100,   ifqc*ifrng, igdur, igrtab,   iwintab,  5\naoutr     grain     p4,  ifqc, idens, 100,   ifqc*ifrng, igdur, igrtab,   iwintab,  5\n\n          outs      aoutl*kamp, aoutr*kamp\n\n          endin\n\n;----------------------------------------------------------------------------------\n; GRANULAR SYNTHESIS V. 2\n;----------------------------------------------------------------------------------\n          instr      2\n\nidur      =         p3\niamp      =         p4\nifqc      =         cpspch(p5)\nigrtab    =         p6\niwintab   =         p7\nifrngtab  =         p8\nidens     =         p9\nifade     =         p10\nibndtab   =         p11\nigdur     =         .2\n\nkamp      linseg    0, ifade, 1, idur-2*ifade, 1, ifade, 0\nkbend     oscil     1, 1/idur, ibndtab\nkfrng     oscil     1, 1/idur, ifrngtab\n\n;                   AMP  FQC         DENSE  AMPOFF PITCHOFF    GRDUR  GRTABLE   WINTABLE  MAXGRDUR\naoutl     grain     p4,  ifqc*kbend, idens, 100,   ifqc*kfrng, igdur, igrtab,   iwintab,  5\naoutr     grain     p4,  ifqc*kbend, idens, 100,   ifqc*kfrng, igdur, igrtab,   iwintab,  5\n\n          outs      aoutl*kamp, aoutr*kamp\n\n          endin\n\n;----------------------------------------------------------------------------------\n; YOUR BASIC GRANULAR SYNTHESIS\n;----------------------------------------------------------------------------------\n          instr      3\n\nidur      =          p3\niamp      =          p4\nifqc      =          cpspch(p5)\nigrtab    =          p6\niwintab   =          p7\nifrng     =          p8\nidens     =          p9\nifade     =          p10\nigdur     =          p11\n\nkamp      linseg     0, ifade, 1, idur-2*ifade, 1, ifade, 0\n\n;                   AMP  FQC   DENSE  AMPOFF PITCHOFF    GRDUR  GRTABLE   WINTABLE  MAXGRDUR\naoutl     grain     p4,  ifqc, idens, 100,   ifqc*ifrng, igdur, igrtab,   iwintab,  5\naoutr     grain     p4,  ifqc, idens, 100,   ifqc*ifrng, igdur, igrtab,   iwintab,  5\n\n          outs      aoutl*kamp, aoutr*kamp\n\n          endin\n\n;----------------------------------------------------------------------------------\n; BASIC GRANULAR SAMPLER SYNTHESIS\n;----------------------------------------------------------------------------------\n          instr      4\n\nidur      =          p3\niamp      =          p4\nifqc      =          p5\nigrtab    =          p6\niwintab   =          p7\nifrng     =          p8\nidens     =          p9\nifade     =          p10\nigdur     =          p11\niamprng   =          p12\n\nkamp      linseg     0, ifade, 1, idur-2*ifade, 1, ifade, 0\n\n;                   AMP  FQC   DENSE  AMPOFF       PITCHOFF    GRDUR  GRTABLE   WINTABLE  MAXGRDUR\naoutl     grain     p4,  ifqc, idens, 100*iamprng, ifqc*ifrng, igdur, igrtab,   iwintab,  5\naoutr     grain     p4,  ifqc, idens, 100*iamprng, ifqc*ifrng, igdur, igrtab,   iwintab,  5\n\n          outs      aoutl*kamp, aoutr*kamp\n\n          endin\n\n</CsInstruments>\n<CsScore>\n;f1 0 65536 1 \"hahaha.aif\" 0 4 0\nf2 0 1024  7 0 224 1 800 0\nf3 0 8192  7 1 8192 -1\nf5 0 1024 10 1 .3 .1 0 .2 .02 0 .1 .04\nf6 0 1024 10 1 0 .5 0 .33 0 .25 0 .2 0 .167\nf7 0 1024 10 1 0 .2 .2 .03 .12 .22 .11 .022 .0101 .0167\nf4 0 1024  8 0 512 1 512 0\n\n;  Start  Dur  Amp   Freq  GrTab  WinTab  FqcRng  Dens  Fade\ni1   0.0  6.0  1400  9.00  7      4       .080    200   1.5\ni1   4.0  4.0  1000  8.07  7      4       .150    200   2.5\ni1   7.0  6.0  1700  9.05  7      4       .250    100   2.5\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipi       =         3.141593 using oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pulse.orc and pulse.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n;The following csound orchestra does this using sinusoidal\n;variation of pulse width. It would be easy to modify for\n;a different control trajectory. It also allows stretching or\n;shrinking of harmonics, which is fun.\n\n;Eric Lyon\n;eric@cmlab.sfc.keio.ac.jp\n\n          \n; implements pulse wave with varying duty cycle\n; use raised cosine for this purpose\n; USE HIGHER K RATES FOR FASTER TRANSITION SPEEDS\n; function 1 is sine\n; function 2 is raised cosine\n; freq amp speed minpulse harmonic-stretchfactor\n\n; NOTE USE OF LOW K-RATE FOR GRUNGE\n\n          instr 1\nipi       =         3.141593\nistretch  =         p8\nif1       =         p4\nif2       =         if1*2.*istretch\nif3       =         if1*3.*istretch\nif4       =         if1*4.*istretch\nif5       =         if1*5.*istretch\nif6       =         if1*6.*istretch\nif7       =         if1*7.*istretch\nif8       =         if1*8.*istretch\ninumharms =         8\nigain     =         p5 * (32767./inumharms)\nia1       =         igain\nia2       =         ia1/2.\nia3       =         ia1/3.\nia4       =         ia1/4.\nia5       =         ia1/5.\nia6       =         ia1/6.\nia7       =         ia1/7.\nia8       =         ia1/8.\n\nidutyspeed =        p6\niminduty  =         p7\nimaxduty  =         .9999\nidutyamp  =         imaxduty-iminduty\n; PARAMETERIZE ENVELOPE HERE IF DESIRED\niatk      =         .1\nidk       =         .2\nisust     =         p3-(iatk+idk)\nkenv      linseg    0,iatk,igain,isust,igain,idk,0\nkduty     oscil     idutyamp, idutyspeed, 2\nkduty     =         (kduty + iminduty)*idutyspeed\nkamp1     =         sin(kduty*ipi)\n\nkamp2     =         sin(2*kduty*ipi)\n\nkamp3     =         sin(3*kduty*ipi)\n\nkamp4     =         sin(4*kduty*ipi)\n\nkamp5     =         sin(5*kduty*ipi)\n\nkamp6     =         sin(6*kduty*ipi)\n\nkamp7     =         sin(7*kduty*ipi)\n\nkamp8     =         sin(8*kduty*ipi)\n\n\nasig1     oscil     kamp1,if1,1\nasig2     oscil     kamp2,if2,1\nasig3     oscil     kamp3,if3,1\nasig4     oscil     kamp4,if4,1\nasig5     oscil     kamp5,if5,1\nasig6     oscil     kamp6,if6,1\nasig7     oscil     kamp7,if7,1\nasig8     oscil     kamp8,if8,1\nasum      =         asig1+asig2+asig3+asig4+asig5+asig6+asig7+asig8\n          out       asum * kenv\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\nf2 0 8192 -9 .5 1.0 0\n; freq amp speed minpulse harmonic-stretchfactor\ni1 0 2.7        83      .6      .3      .3      1.\ni1 1.5 2.7      57.241  .6      .7      .23     1.01\ni1 3 3.1        101.666 .6      .117    .23     1.1\ni1 4 7          27.5    .6      1.8     1.1     1.05\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipitch1        =         cpspch(p5) using FM synthesis and oscillator and interpolating FM synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FMFILT.ORC and FMFILT.SCO\n; Original files preserved in same directory\n\n          sr             =         44100\n          kr             =         44100\n          ksmps          =         1 \n          nchnls         =         1\n\n;***************************************************************;\n;         FM FILTER ORCHESTRA                \n;    P3  = DURATION      \n;       P4  = AMPLITUDE\n;    P5  = PITCH IN PCH\n;    P6  = STARTING MOD TO CAR RATIO    \n;    P7  = ENDING MOD TO CAR RATIO\n;    P8  = FUNCTION NUMBER FOR RATIO CHANGE                           \n;    P9  = STARTING INDEX LEVEL         \n;    P10 = ENDING INDEX LEVEL                     \n;    P11 = FUNCTION NUMBER FOR RATIO CHANGE                           \n;    P12 = STARTING CENTER FREQUENCY    \n;    P13 = ENDING CENTER FREQ                          \n;    P14 = FUNCTION NUMBER FOR CF CHANGE                              \n;    P15 = STARTING BAND WIDTH     \n;    P16 = ENDING BAND WIDTH                           \n;    P17 = FUNCTION NUMBER FOR BW CHANGE\n;**************************************************************;\n          \n          instr          1\n          ipitch1        =         cpspch(p5)\n          ipitch2        =         ipitch1 * 1.001\n          ipitch3        =         ipitch1 * 0.998\n          imodbase       =         (p6 <= p7 ? p6 : p7)\n          imodmax        =         (p6 <= p7 ? p7 : p6)\n          indxbase       =         (p9 <= p10 ? p9 : p10)\n          indxmax        =         (p9 <= p10 ? p10 : p9)\n          kmodchg        oscil1i   0.00,(imodmax - imodbase),p3,p8\n          kmod           =         imodbase + kmodchg\n          kndxchg        oscil1i   0.00,(indxmax - indxbase),p3,p11\n          kndx           =         indxbase + kndxchg\n          afm1           foscili   (p4*.45),ipitch1,1,kmod,kndx,1\n          afm2           foscili   (p4*.35),ipitch2,1,kmod,kndx,1\n          afm3           foscili   (p4*.32),ipitch3,1,kmod,kndx,1\n          afmttl         =         afm1+afm2+afm3\n          aosc1          oscil     (p4 *.45),ipitch1,1\n          aosc2          oscil     (p4 *.35),ipitch2,1\n          aosc3          oscil     (p4 *.32),ipitch3,1\n          aoscttl        =         aosc1+aosc2+aosc3\n          afm            =         afmttl - aoscttl\n                    ;    print     ipitch1,ipitch2,ipitch3\n                    ;    print     imodbase,imodmax,indxbase,indxmax\n          icfbase        =         (p12 <= p13 ? p12 : p13)\n          icfmax         =         (p12 <= p13 ? p13 : p12)\n          kcfchg         oscil1i   0.00,(icfmax - icfbase),p3,p14\n          kcf            =         icfbase + kcfchg\n          ibwbase        =         (p15 <= p16 ? p15 : p16)\n          ibwmax         =         (p15 <= p16 ? p16 : p15)\n          kbwchg         oscil1i   0.00,(ibwmax - ibwbase),p3,p17\n          kbw            =         ibwbase + kbwchg\n          aflt1          reson     afm,kcf,kbw,1\n          aflt2          reson     afm,(kcf*.9),(kbw*1.11),1\n          abal           balance   (aflt1+aflt2),afm\n          asig           envlpx    abal,.2,p3,(p3*.39),5,1,.01\n                         out       asig\n                         endin\n\n</CsInstruments>\n<CsScore>\n;         FM FILTER SCORE                    ;\n;*******************************************************;\n;         FUNCTIONS\n;\n;    SINE WAVE\nf1 0.0 512 10 1\n;    EVERYTHING\nf2 0.0 512 7 1 512 1\n;    HALF\nf3 0.0 512 7 .5 512 .5\n;    LINEAR FALL\nf4 0.0 513 7 1 512 0 1 0\n;    LINEAR RISE\nf5 0.0 513 7 0 512 1 1 1\n;    FALL THEN RISE\nf6 0.0 513 7 1 256 0 256 1 1 1\n;    RISE THEN FALL\nf7 0.0 513 7 0 256 1 256 0 1 0\n;    ALL OVER THE PLACE\nf8 0.0 513 7 .5 63 .95 50 0 50 .3 50 .85 50 .80 50 .03 50 1 50 .12 50 .10 50 .5\n;    ALSO ALL OVER THE PLACE\nf9 0.0 513 7 .5 63 .95 50 .02 50 .3 50 .85 50 .80 50 .06 50 .98 50 .03 50 .10 50 .5\n;\n;    INSTRUMENT CARDS\n;\ni1   0.00    5.00    7000 10.00    19    1    4     1    2   5    4000  12000  8    100    400    6\ns\ni1   0.00    5.00    7000  5.00    19    1    4     1    2   5    40    120    7    100    4000    5\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Instrument 1 begins here using oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from myfile.orc and myfile.sco\n; Original files preserved in same directory\n\nsr        =         44100                         ; Sample Rate\nkr        =         22050                         ; Control Rate\nksmps     =         2                             ; sr/kr As far as I know this is always the case\nnchnls    =         2                             ; 1=mono, 2=stereo, 4=quad\n\n\n\n\n          instr 1                                 ; Instrument 1 begins here\naout      oscil     10000, 440, 1                 ; An oscillator\n          outs      aout, aout                    ; Output the results to a stereo sound file\n          endin                                   ; Instrument 1 ends here\n\n\n          instr  2                                ; Instrument 2 begins here\niamp      =         p4                            ; Amplitude\nifqc      =         p5                            ; Frequency\nitabl1    =         p6                            ; Waveform Table\naout      oscil     iamp, ifqc, itabl1            ; An oscillator\n          outs      aout, aout                    ; Output the results to a stereo sound file\n          endin                                   ; Instrument 2 ends here\n\n\n          instr     3                             ; Instrument 1 begins here\nidur      =         p3                            ; Duration\niamp      =         p4                            ; Amplitude\nifqc      =         cpspch(p5)                    ; Frequency\nitabl1    =         p6                            ; Waveform\n\n; ATTACK DECAY SUSTAIN RELEASE ENVELOPE\n\nkamp      linseg    0, .1, 1, .2, .8, p3-.5, .8, .2, 0\naout      oscil     iamp, ifqc, itabl1            ; An oscillator\n          outs      aout*kamp, aout*kamp          ; Output the results to a stereo sound file\n          endin                                   ; Instrument 3 ends here\n\n</CsInstruments>\n<CsScore>\n; SCORE\n\n;Table# Start TableSize TableGenerator Parameter  Comment\n;-----------------------------------------------------------\nf1      0     16384     10             1          ; Sine\n\n;Instrument# Start Duration\n;-----------------------------------------------------------\ni1           0     1\n\n;Instrument#(p1) Start(p2) Duration(p3) Amplitude(p4) Frequency(p5) Table(p6)\n;------------------------------------------------------------------------------\ni2               1         1            10000         440           1\n\n; Instr  Sta  Dur  Amp  Freq  Table\n;-----------------------------------------------------------\ni2       2    1    2000 330   1\ni2       3    1    4000 440   1\ni2       4    1    6000 600   1\ni2       5    1    8000 660   1\n\n; Instr Sta Dur  Amp  Freq  Table\n;-----------------------------------------------------------\ni3      6   1    8000 8.00  1\ni3      +   .    7000 8.02  .\ni3      .   .    6000 8.04  .\ni3      .   .    8000 8.05  .\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Random Harmonic Sequence Generator using oscillator and sample-and-hold random and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from RndHarm.orc and RndHarm.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Random Harmonic Sequence Generator\n\nilevl    = p4*32767   ; Output level\nipitch   = cpspch(p5) ; Pitch\nirate    = p6         ; Rate\nitabl    = p7         ; Envelope shape\nidet     = p8         ; Detune\n\niseed    = rnd(1)                           ; Generate random seed value\nkrnd     randh  16, irate, iseed            ; Generate random steps\nkrnd     = int(krnd + 17)                   ; Quantise steps\nkscale   = (32 - krnd)/32                   ; Reduce level of high harmonics\nkenv     oscil  kscale, irate, itabl        ; Generate envelope table\naosc     oscil  kenv, ipitch*krnd + idet, 1 ; Generate pitches\nout      aosc*ilevl                         ; Level and output\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1 ; Sine\n; Envelope shapes\nf2 0 1024 5 1 1024 .001        ; Exponential decay\nf3 0 1024 7 1 1024 0           ; Linear decay\nf4 0 1024 20 2                 ; Hanning\nf5 0 1024 20 6                 ; Gaussian\nf6 0 1024 7 0 12 1 1000 1 12 0 ; Level\n\n;   Strt  Leng  Levl  Pitch Rate  Shape Detune\ni1  0.00  4.00  0.25  10.00 8.00  4     0.00\ni1  .     .     .     10.00 12.0  .     ~\ni1  .     .     .     10.00 16.0  .     ~\ni1  .     .     .     10.00 24.0  .     ~\ni1  .     .     .     10.00 32.0  .     ~\ni1  .     .     .     10.00 48.0  .     2.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur\t   \t=\t\tp3 using sample playback and oscillator and panning", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from sampler.orc and sampler.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n\n;------------------------------------------------------------------\n; SAMPLER EFFECTS\n;------------------------------------------------------------------\n\t\tinstr\t7\nidur\t   \t=\t\tp3\niamp\t   \t=\t\tp4\nifqc\t   \t=\t\tp5\nirattab \t=\t\tp6\niratrat \t=\t\tp7\nipantab \t=\t\tp8\nimixtab \t=\t\tp9\nilptab  \t=\t\tp10\nisndin  \t=\t\tp11\t\t\t\t\t\nkpan\t   \toscil\t1, 1/idur, ipantab\t\t; PANNING\nkmix\t   \toscil\t1, 1/idur, imixtab\t\t; FADING\nkloop   \toscil\t1, 1/idur, ilptab\t\t; LOOPING\nloop1:\t\nkprate  \toscil\t1, iratrat/kloop, irattab  ; PULSE RATE\nkamp\t   \tlinseg\t0, .01, 1, i(kloop)-.02, 1, .01, 0\t ; AMPLITUDE GATE\n;\t\t\t \tAMP\t   FQC\n; a1, a2 \tdiskin   \tisndin, ifqc\na1, a2  \tsoundin \tisndin\naout\t   \t=\t\t(a1+a2)/2*kamp\n; WHEN THE TIME RUNS OUT REINITIALIZE\n\t   \ttimout\t0, i(kloop), cont1\n\t   \treinit\tloop1\ncont1:\n\t   \touts\t\taout*sqrt(kpan)*kmix, aout*sqrt(1-kpan)*kmix ; OUTPUT PAN & FADE\n\t   \tendin\n\n</CsInstruments>\n<CsScore>\n; Rate Table\nf29  0 1024  -7  .5   250 .5 6 2 250 2 6 1 250 1 6 4 256 .5\n; Pan Tables\nf31  0 1024  7  1  1024  0\n; Mix Tables\nf41  0 1024  5  .01 128 1 768 1 128 .01\n; Loop Table\nf53  0 1024 -7  .12 512 .15 512 .24\n;   Sta  Dur  Amp   Pitch  RtTab  RtRt  PanTab  MixTab  Loop  SoundIn\ni7   0   8    3     1      29     1     31      41      53    55\ns\ni7   0   8    3     2      29     2     31      41      53    55\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp      =         p4 using string synthesis and ring modulation and oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from STRING.ORC and STRING.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n;==========================================================================;\n;                Schottstaedt FM String Instrument from Dodge              ;\n;                                                                          ;\n;p4 = amp p5 = pch p6 = rise p7 = dec p8 = vibdel p9 = vibwth p10 = vibrte ;\n;==========================================================================;\n\n          instr     1\niamp      =         p4\nifc       =         cpspch(p5)               ; S = fc +- ifm1 +- kfm2 +- lfm3\nifm1      =         ifc\nifm2      =         ifc*3\nifm3      =         ifc*4\nindx1     =         7.5/log(ifc)             ; RANGE FROM CA 2 TO 1\nindx2     =         15/sqrt(ifc)             ; RANGE FROM CA 2.6 TO .5\nindx3     =         1.25/sqrt(ifc)           ; RANGE FROM CA .2 TO .038\nkvib      init      0                \n\n          timout    0,p8,transient           ; DELAYS VIBRATO FOR p8 SECONDS\nkvbctl    linen     1,.5,p3-p8,.1            ; VIBRATO CONTROL ENVELOPE\nkrnd      randi     .0075,15                 ; RANDOM DEVIATION IN VIB WIDTH        \nkvib      oscili    kvbctl*p9+krnd,p10*kvbctl,1 ; VIBRATO GENERATOR\n        \ntransient:\n          timout    .2,p3,continue           ; EXECUTE FOR .2 SECS ONLY\nktrans    linseg    1,.2,0,1,0               ; TRANSIENT ENVELOPE \nanoise    randi     ktrans,.2*ifc            ; NOISE... \nattack    oscil     anoise,2000,1            ; ...CENTERED AROUND 2kHz\n\ncontinue:      \namod1     oscili    ifm1*(indx1+ktrans),ifm1,1\namod2     oscili    ifm2*(indx2+ktrans),ifm2,1\namod3     oscili    ifm3*(indx3+ktrans),ifm3,1\nasig      oscili    iamp,(ifc+amod1+amod2+amod3)*(1+kvib),1\nasig      linen     asig+attack,p6,p3,p7\n          out       asig\n        \n          endin\n\n</CsInstruments>\n<CsScore>\n; Test Score for Schottstaedt String\nf01     0       512     10      1\n;parms: start   dur     amp     pch     rise    dec    vibdel vibwth vibrate\ni01     0       2       15000   5.00    .2      .2      .75     .03        5.5     \ni01     +       .       .       6.00         \ni01     +       .       .       7.00\ni01     +       .       .       8.00\ni01     +       .       .       9.00\ni01     +       .       .       10.00   \ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifqc         =         cpspch(p5) using oscillator and resonant filter and amplitude balance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from TOKBOX.ORC and TOKBOX.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n\n               instr     1\n\n  ifqc         =         cpspch(p5)\n  itab         =         p6\n\n  kampenv      linseg    0, .02, p4, p3-.04, p4, .02, 0\n  ksweep       linseg    .5, 1, 6, .5, .5, .2, .4\n\n  kform1       oscil     1, ksweep, 10\n  kform2       oscil     1, ksweep, 11\n  kform3       oscil     1, ksweep, 12\n  kform4       oscil     1, ksweep, 13\n\n  asig         oscil     kampenv, ifqc, itab\n\n  ares1        reson     asig, kform1, 100\n  ares2        reson     asig, kform2, 150\n  ares3        reson     asig, kform3, 300\n  ares4        reson     asig, kform4, 500\n\n  aresbal1     balance   ares1, asig\n  aresbal2     balance   ares2, asig\n  aresbal3     balance   ares3, asig\n  aresbal4     balance   ares4, asig\n\n               out       aresbal1*25.4+aresbal2*22.5+aresbal3*9.2+aresbal4*7.9\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\nf2 0 1024 7  1 64 1 0 -1 960 -1\n\n; FORMANTS\n; AHH/OOOH\nf10 0 1024 -7 722  256 722  256 266  256 266  256 722\nf11 0 1024 -7 1216 256 1216 256 1292 256 1292 256 1216\nf12 0 1024 -7 2433 256 2433 256 2281 256 2281 256 2433\nf13 0 1024 -7 3193 256 3193 256 3421 256 3421 256 3193\n\ni1 0 2 100  8.00 2\ni1 0 2 100  8.05 2\ni1 0 2 100  9.00 2\n\ni1 2 2 100  7.00 2\ni1 2 2 100  7.05 2\ni1 2 2 100  8.00 2\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for k1        line      1, p3, 150 using oscillator and buzz/pulse generator and FM synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from experiments.orc and experiments.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr     101\nk1        line      1, p3, 150     \na1        foscil    p4, p5, p6, p7, k1, p9, p10\n          out       a1\n          endin                      \n \n          instr     102\nkenv      linen     p4, .01 , p3, .5\nabs       buzz      kenv, cpspch(p5), p6, p7, p8 \n          out       abs\n          endin\n           \n          instr     103\nkenv      linen     p4, .01 , p3, .5\nkpch      oscil     1, 1/p3, 3\nabs       buzz      kenv, cpspch(p5*kpch), p6, p7, p8 \n          out       abs\n          endin\n           \n          instr     104\nar        shaker    p4, cpspch(p5), p6 ,p7 ,p8 ,p9 p10\n          out       ar\n          endin\n\n\n</CsInstruments>\n<CsScore>\n\n\nf 1  0  4096  10  1; SINE\n\nf 2  0  4096  10  1  0.5  .3333333  .25  .2  .1666666  .1428571  .125  .1111111  .1  .090909  .0833333  .076923  .0714285  .0666666 \n                  .0625  .0588235  .0555555  .0526315  .05  .047619  .0454545  .0434782  .0416666 ; SAWTOOTH\n                  \nf 3  0  1024  7  1  512 1 512 .9                 \n                  \n                  \n   \n;INSTR POS  DUR  AMPLITUDE  PITCH  CARRIER  MODULATION  INDEX  TABLE  PHASE   \ni 101   0    9.5    10000     1000     1        0.05       20      1     1\n\ni 102   10   2     2000      6.09      4        2     0\ni 102   10   2     2000      7.09      4        2     0\ni 102   10   2     2000      8.04      4        2     0\ni 102   10   2     2000      8.09      4        2     0\n\ni 102   12   1     2000      6.05      4        2     0\ni 102   12   1     2000      7.05      4        2     0\ni 102   12   1     2000      8.00      4        2     0\ni 102   12   1     2000      8.05      4        2     0\n\ni 102   13   1     2000      6.07      4        2     0\ni 102   13   1     2000      7.07      4        2     0\ni 102   13   1     2000      8.02      4        2     0\ni 102   13   1     2000      8.07      4        2     0\n\ni 102   14   2     2000      6.09      4        2     0\ni 102   14   2     2000      7.09      4        2     0\ni 102   14   2     2000      8.04      4        2     0\ni 102   14   2     2000      8.09      4        2     0 \n\ni 102   16   1     2000      6.05      4        2     0\ni 102   16   1     2000      7.05      4        2     0\ni 102   16   1     2000      8.00      4        2     0\ni 102   16   1     2000      8.05      4        2     0\n\ni 102   17   1     2000      6.07      4        2     0\ni 102   17   1     2000      7.07      4        2     0\ni 102   17   1     2000      8.02      4        2     0\ni 102   17   1     2000      8.07      4        2     0  \n\ni 103   18   4     2000      6.04      4        2     0\ni 103   18   4     2000      7.04      4        2     0\ni 103   18   4     2000      7.11      4        2     0\ni 103   18   4     2000      8.04      4        2     0     \n   \ni 104   9.5  9    4000       9.04      10        0.99  10  100  0                \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Rhythmic Gate / DJ 'Transformer' using oscillator and marimba physical model", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from RhythmicGate.orc and RhythmicGate.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 1\n\n\ninstr    1 ; Rhythmic Gate / DJ 'Transformer'\n\nilevl    = p4   ; Output level\nitabl1   = p5   ; Gate pattern table no.\nitabl2   = p6   ; Gate shape table no.\nitime    = 1/p3 ; Note length\n\nain      soundin  \"Marimba.aif\"\n\nkind     phasor  itime                   ; 0 to 1 index\nkgate1   table  kind, 1, itabl1          ; Read gate pattern\nkgate    oscil  kgate1, 16*itime, itabl2 ; Read gate shape\nkgate    port  kgate, .0001              ; Slew gate edges\nout      ain*kgate                       ; Gate output\n\nendin\n\n</CsInstruments>\n<CsScore>\n;16th notes  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16\nf1 0 16 2    1  1  0  1  1  0  0  1  0  1  1  0  1  0  1  0 ; Gate pattern\nf2 0 16 2    1  0  1  0  0  0  1  0  0  1  0  0  1  0  0  0 ; Gate pattern \n\n; Gate shapes\nf10 0 1024 -7 1 1024 1          ; 100% On\nf11 0 1024 -7 1 512 1 0 0 512 0 ; 50% On\nf12 0 1024 -7 1 1024 0          ; Linear decay\nf13 0 1024 -5 1 1024 .0001      ; Exponential decay\nf14 0 1024 -7 0 512 1 512 0     ; Linear fade in/out\n\n;   Strt  Leng  Levl  Patt  Gate\ni1  0.00  1.47  1.00  2     11\ni1  2.00  .     .     .     13\ni1  4.00  .     .     1     10\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp          =         ampdb(p4) using synthesizer and pitch and oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Analytic_SyntheticPitch.orc and Analytic_SyntheticPitch.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2 \n\n\n;*********************************   ANALYTIC VS. SYNTHETIC PITCH   ***********************************\n; OUR AUDITORY SYSTEM HAS THE ABILITY TO LISTEN TO COMPLEX SOUNDS IN DIFFERENT MODES. WHEN WE LISTEN \n; \"ANALYTICALLY\", WE HEAR THE DIFFERENT FREQUENCY COMPONENTS SEPARATELY; WHEN WE LISTEN \"SYNTHETICALLY\"\n; OR HOLISTICALLY, WE FOCUS ON THE WHOLE SOUND AND PAY LITTLE ATTENTION TO ITS COMPONENTS.\n; IN THIS DEMONSTRATION, WHICH WAS ORIGINALLY DESCRIBED BY SMOORENBURG (1970), A TWO-TONE COMPLEX OF\n; 800 AND 1000HZ IS FOLLOWED BY ONE OF 750 AND 1000HZ. IF YOU LISTEN ANALYTICALLY, YOU WILL HEAR ONE \n; PARTIAL GO DOWN ON PITCH; IF YOU LISTEN SYNTHETICALLY YOU WILL HEAR THE PITCH OF THE MISSING FUNDA-\n; MENTAL GO UP IN PITCH (A MAJOR THIRD, FROM 200 TO 250HZ.)\n\n;*****************************************   HEADER   *************************************************\n\n\n \n \n instr         1\n\n iamp          =         ampdb(p4)                ;P4 = AMPLITUDE IN DB \n ifreq         =         p5                       ;P5 = FREQUENCY\n \n k1            linen     iamp,.01,p3,.01         \n a1            oscili    k1,ifreq,1             \n               outs      a1,a1\n endin  \n\n instr         2     \n \n iamp          =         ampdb(p4)\n\n k1            linen     iamp,.01,p3,.01\n anoise        randi     k1, .998 * 10010         ; NOISE WITH A BANDWIDTH FROM 20 - 20KHZ\n a1            oscil     anoise,anoise,1\n               outs      a1,a1\n endin\n\n</CsInstruments>\n<CsScore>\nf1 0 512 10 1\n\n\n;************************************   ANALYTIC VS. SYNTHETIC PITCH   *******************************\n\n;   p1      p2      p3     p4      p5      \n;  inst    strt    dur    amp    ifreq\n    i2      0      16.0    74\n    i1      3        .5    76     800\n    i1      3        .5    76    1000\n    i1      4        .5    76     750\n    i1      4        .5    76    1000\n    i1      6        .5    76     800\n    i1      6        .5    76    1000\n    i1      7        .5    76     750\n    i1      7        .5    76    1000\n    i1      9        .5    76     800\n    i1      9        .5    76    1000\n    i1     10        .5    76     750\n    i1     10        .5    76    1000\n    i1     12        .5    76     800\n    i1     12        .5    76    1000\n    i1     13        .5    76     750\n    i1     13        .5    76    1000\n    e\n             \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1             =         1/p3 using oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 48WD1.ORC and 48WD1.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n; FIG 4.8.WD1.ORC\n\ninstr          1\ni1             =         1/p3\ni2             =         cpspch(p4)\ni3             =         i1*p6\ni4             =         i3*p7\n\na1             oscil     p5,i1,2\na2             oscil     i4,i1,1\na2             oscili    a2,i3,3\na1             oscili    a1,i2+a2,3\n\nout a1\n\nendin\n\n</CsInstruments>\n<CsScore>\nc fig 4.8.wd1.scr\nf 1 0 512 7 .8 32 .82 32 .9 32 .96 20 1 24 1 20 .96 32 .85 32 .7 32 .55 32 .37 32 .1 64 .021 64 .004 64 .001\nf 2 0 512 7 1 64 0 448 0\nf 3 0 512 9 1 1 0\n  i1 0.000 0.200 5.00 20000 0.700 25\n  i1 0.200 0.200 5.00 20000 0.700 25\n  i1 0.400 0.200 5.00 20000 0.700 25\n  i1 0.600 0.200 5.00 20000 0.700 25\n  i1 0.800 0.200 5.00 20000 0.700 25\n  i1 1.000 0.200 5.05 20000 0.700 25\n  i1 1.200 0.200 5.05 20000 0.700 25\n  i1 1.400 0.200 5.05 20000 0.700 25\n  i1 1.600 0.200 5.05 20000 0.700 25\n  i1 1.800 0.200 5.05 20000 0.700 25\n  i1 2.000 0.200 6.00 20000 0.700 25\n  i1 2.200 0.200 6.00 20000 0.700 25\n  i1 2.400 0.200 6.00 20000 0.700 25\n  i1 2.600 0.200 6.00 20000 0.700 25\n  i1 2.800 0.200 6.00 20000 0.700 25\n  i1 3.000 0.200 6.05 20000 0.700 25\n  i1 3.200 0.200 6.05 20000 0.700 25\n  i1 3.400 0.200 6.05 20000 0.700 25\n  i1 3.600 0.200 6.05 20000 0.700 25\n  i1 3.800 0.200 6.05 20000 0.700 25\n  i1 4.000 0.200 7.00 20000 0.700 25\n  i1 4.200 0.200 7.00 20000 0.700 25\n  i1 4.400 0.200 7.00 20000 0.700 25\n  i1 4.600 0.200 7.00 20000 0.700 25\n  i1 4.800 0.200 7.00 20000 0.700 25\n  i1 5.000 0.200 7.05 20000 0.700 25\n  i1 5.200 0.200 7.05 20000 0.700 25\n  i1 5.400 0.200 7.05 20000 0.700 25\n  i1 5.600 0.200 7.05 20000 0.700 25\n  i1 5.800 0.200 7.05 20000 0.700 25\n  i1 6.000 0.200 8.00 20000 0.700 25\n  i1 6.200 0.200 8.00 20000 0.700 25\n  i1 6.400 0.200 8.00 20000 0.700 25\n  i1 6.600 0.200 8.00 20000 0.700 25\n  i1 6.800 0.200 8.00 20000 0.700 25\n  i1 7.000 0.200 8.05 20000 0.700 25\n  i1 7.200 0.200 8.05 20000 0.700 25\n  i1 7.400 0.200 8.05 20000 0.700 25\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a decibelscale sound using oscillator and interpolating random and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from DecibelScale.orc and DecibelScale.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\n\n;**************************************   THE DECIBEL SCALE   *************************************\n\n; IN THIS DEMONSTRATION, WE HEAR BROADBAND NOISE REDUCED IN STEPS OF 6, 3, AND 1DB IN ORDER TO OB-\n; TAIN A FEELING FOR THE DECIBEL SCALE.\n; BROADBAND NOISE IS REDUCED IN 10 STEPS OF 6 DECIBELS. THEN BROADBAND NOISE IS REDUCED IN 15 STEPS\n; OF 3 DECIBELS. AND FINALLY, BROADBAND NOISE IS REDUCED IN STEPS OF 1 DECIBEL.\n;***************************************   HEADER   **************************************************\n\n\n\n\n instr         1\n\n iamp          =         ampdb(p4)                     ;P4 = AMPLITUDE IN DB\n\n\n k1            linen     iamp,.01,p3,.01\n anoise        randi     k1, .998 * 10010              ;BROADBAND NOISE 20 - 20KHZ\n asig          oscil     anoise,anoise,1       \n               outs      asig,asig\n endin\n \n\n</CsInstruments>\n<CsScore>\n\nf1 0 32768 10 1                                                            ; SINE WAVE\n\n\n\n\n;*************************************   THE DECIBEL SCALE   ****************************************\n;************************************   6 DECIBEL DECRIMENTS   **************************************\n;   p1      p2      p3     p4             \n;  inst    strt    dur    amp          \n    i1     1.0     1.0    80\n    i1     3.0     1.0    74\n    i1     5.0     1.0    68\n    i1     7.0     1.0    62\n    i1     9.0     1.0    56\n    i1    11.0     1.0    50\n    i1    13.0     1.0    44\n    i1    15.0     1.0    38\n    i1    17.0     1.0    32\n    i1    19.0     1.0    26\n    i1    21.0     1.0    20\n    s\n;************************************   3 DECIBEL DECRIMNETS   ***************************************    \n;   p1      p2      p3     p4             \n;  inst    strt    dur    amp          \n    i1     1.0     1.0    80\n    i1     3.0     1.0    77\n    i1     5.0     1.0    74\n    i1     7.0     1.0    71\n    i1     9.0     1.0    68\n    i1    11.0     1.0    65\n    i1    13.0     1.0    62\n    i1    15.0     1.0    58\n    i1    17.0     1.0    55\n    i1    19.0     1.0    52\n    i1    21.0     1.0    49\n    i1    23.0     1.0    46\n    i1    25.0     1.0    43\n    i1    27.0     1.0    40\n    i1    29.0     1.0    37\n    i1    31.0     1.0    34\n    s\n;************************************   1 DECIBEL DECRIMNETS   ***************************************    \n;   p1      p2      p3     p4             \n;  inst    strt    dur    amp          \n    i1     1.0     1.0    80\n    i1     3.0     1.0    79\n    i1     5.0     1.0    78\n    i1     7.0     1.0    77\n    i1     9.0     1.0    76\n    i1    11.0     1.0    75\n    i1    13.0     1.0    74\n    i1    15.0     1.0    73\n    i1    17.0     1.0    72\n    i1    19.0     1.0    71\n    i1    21.0     1.0    70\n    i1    23.0     1.0    69\n    i1    25.0     1.0    68\n    i1    27.0     1.0    67\n    i1    29.0     1.0    66\n    i1    31.0     1.0    65\n    i1    33.0     1.0    64\n    i1    35.0     1.0    63\n    i1    37.0     1.0    62\n    i1    39.0     1.0    61\n    i1    41.0     1.0    60\n    i1    43.0     1.0    59\n    e\n    \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ia\t\t\t=\t1 using oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from chsp.orc and chsp.sco\n; Original files preserved in same directory\n\nsr\t\t\t=\t44100\nkr\t\t\t=\t4410\nksmps\t\t=\t10\nnchnls \t\t=\t1\t\n\n\n\t\t\tinstr 1\n\nia\t\t\t=\t1\nisqa\t\t\t=\tsqrt(ia)\nifm\t\t\t=\tcpspch( p4)\n\tgoto \tr1\nif ifm > cpspch(8.06)  && ifm < cpspch(9.00) igoto r1\nif ifm > cpspch(9.00)  && ifm < cpspch(9.06) igoto r2\nif ifm > cpspch(9.06)  && ifm < cpspch(10.00) igoto r3\nif ifm > cpspch(10.00) && ifm < cpspch(10.06) igoto r4\nif ifm > cpspch(10.06) && ifm < cpspch(11.00) igoto r5\nif ifm > cpspch(11.00) && ifm < cpspch(11.06) igoto r6\nif ifm > cpspch(11.06) && ifm < cpspch(12.00) igoto r7\n\nr1:\n\tifmt1 \t=\t175\n\tia1\t\t=\t.400\n\ti1\t\t=\t0.1\n\tifmt2\t=\t350\n\tia2\t\t=\t.800\n\ti2\t\t=\t0.5\n\tifmt3\t=\t2800\n\tia3\t\t=\t.150\n\ti3\t\t=\t1.6\n\tigoto \tnumcrunch\n\nr2:\n\tifmt1 \t=\t262\n\tia1\t\t=\t.400\n\ti1\t\t=\t0.1\n\tifmt2\t=\t524\n\tia2\t\t=\t.800\n\ti2\t\t=\t0.1\n\tifmt3\t=\t2700\n\tia3\t\t=\t.150\n\ti3\t\t=\t1.6\n\tigoto \tnumcrunch\n\nr3:\n\tifmt1 \t=\t392\n\tia1\t\t=\t.800\n\ti1\t\t=\t0.1\n\tifmt2\t=\t784\n\tia2\t\t=\t.400\n\ti2\t\t=\t0.1\n\tifmt3\t=\t2500\n\tia3\t\t=\t.150\n\ti3\t\t=\t1.6\n\tigoto \tnumcrunch\n\nr4:\n\tifmt1 \t=\t523\n\tia1\t\t=\t.800\n\ti1\t\t=\t0.1\n\tifmt2\t=\t950\n\tia2\t\t=\t.200\n\ti2\t\t=\t0.1\n\tifmt3\t=\t2450\n\tia3\t\t=\t.150\n\ti3\t\t=\t1.6\n\tigoto \tnumcrunch\n\nr5:\n\tifmt1 \t=\t784\n\tia1\t\t=\t.800\n\ti1\t\t=\t0.0\n\tifmt2\t=\t1568\n\tia2\t\t=\t.100\n\ti2\t\t=\t0.0\n\tifmt3\t=\t2400\n\tia3\t\t=\t.150\n\ti3\t\t=\t1.6\n\tigoto \tnumcrunch\n\nr6:\n\tifmt1 \t=\t1046\n\tia1\t\t=\t.800\n\ti1\t\t=\t0.0\n\tifmt2\t=\t2092\n\tia2\t\t=\t.100\n\ti2\t\t=\t0.0\n\tifmt3\t=\t2350\n\tia3\t\t=\t.100\n\ti3\t\t=\t1.5\n\tigoto \tnumcrunch\n\nr7:\n\tifmt1 \t=\t1568\n\tia1\t\t=\t.800\n\ti1\t\t=\t0.0\n\tifmt2\t=\t3136\n\tia2\t\t=\t.000\n\ti2\t\t=\t0.0\n\tifmt3\t=\t4500\n\tia3\t\t=\t.100\n\ti3\t\t=\t1.0\n\nnumcrunch:\n\n\tinj\t\t=\t\tifmt1/ifm\n\tifc1\t\t=\t\t(inj-int(inj)>.5?int(inj+1):int(inj))\n\n\tinj\t\t=\t\tifmt2 / ifm\n\tifc2\t\t=\t\t(inj-int(inj)>.5?int(inj+1):int(inj))\n\n\tinj\t\t=\t\tifmt3/ifm\n\tifc3\t\t=\t\t(inj-int(inj)>.5?int(inj+1):int(inj)) \n\n\titf\t\t=\t\t6.28\n\tiamp\t\t=\t\t25000\n\t\n\tam\t\toscil\tiamp,itf*ifm,1\n\n\ta1\t\toscil\tiamp*ia1,itf*ifc1+i1*am,1\n\ta2\t\toscil\tiamp*ia2,itf*ifc2+i2*am,1\n\ta3\t\toscil\tiamp*ia3,itf*ifc3+i3*am,1\n\n\ta1\t\t=\t\ta1*(1/isqa)\n\ta2\t\t=\t\ta2*(ia/isqa)\n\ta3\t\t=\t\ta3*isqa\n\t\n\t\t\tout\t\t(a1+a2+a3)\n\n\t\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1\t0\t1024\t10\t1\n\ni1\t0\t   2\t8.09\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1             =         1/p3 using oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 48BR1.ORC and 48BR1.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n; FIG 4.8.BR1.ORC\n\ninstr          1\n\ni1             =         1/p3\ni2             =         cpspch(p4)\ni3             =         i2*p8\ni4             =         i3*(p7-p6)\ni5             =         i3*p6\n\na1             oscil     p5,i1,1\na2             oscil     i4,i1,1\na2             oscili    a2+i5,i3,3\na1             oscili    a1,i2+a2,3\n\n               out       a1\n\nendin\n\n</CsInstruments>\n<CsScore>\nc fig4.8.brs1.scr\nf 1 0 512 7 0 85 1 85 .7 256 .7 86 0\nf 2 0 512 7 1 64 0 448 0\nf 3 0 512 9 1 1 0\n  i1 0.000 0.750 6.05 20000 1 20 0.667\n  i1 0.750 0.250 6.02 20000 1 20 0.667\n  i1 1.000 1.000 6.04 20000 1 20 0.667\n  i1 2.000 0.250 7.01 20000 1 20 0.667\n  i1 2.250 0.250 7.09 20000 1 20 0.667\n  i1 2.500 0.250 7.01 20000 1 20 0.667\n  i1 2.750 0.250 7.04 20000 1 20 0.667\n  i1 3.000 2.000 8.03 20000 1 20 0.667\n  i1 5.000 0.500 9.08 20000 1 20 0.667\n  i1 5.500 0.500 9.05 20000 1 20 0.667\n  i1 6.000 0.500 9.05 20000 1 20 0.667\n  i1 6.500 0.750 6.11 20000 1 20 0.667\n  i1 7.250 0.250 6.07 20000 1 20 0.667\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using oscillator and Karplus-Strong plucked string and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from hvyguit2.orc and hvyguit2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n;------------------------------------------------------------------------------\n; HEAVY GUITAR BY HANS MIKELSON\n;------------------------------------------------------------------------------\n          zakinit   50, 50\n\n\n;------------------------------------------------------------------------------\n; PLUCKED INSTRUMENT\n;------------------------------------------------------------------------------\n          instr   1\n\nidur      =         p3                                 ; DURATION\niamp      =         p4                                 ; AMPLITUDE\nipch      =         cpspch(p5)                         ; PITCH\nitab1     =         p6\nioutch    =         p7                                 ; OUT CHANNEL\n\nasig      pluck     iamp, ipch, ipch, itab1, 1         ; GENERATE A PLUCKED TONE\n          zawm      asig, ioutch                       ; MIX TO THE ZAK CHANNEL\n\n          endin\n\n;------------------------------------------------------------------------------\n; DISTORTION\n;------------------------------------------------------------------------------\n          instr     10\n\nidur      =         p3\nkpregn    =         p4/1000                                           ; PREGAIN/OVERDRIVE\nkpostg    =         p5*20000                                          ; POSTGAIN/VOLUME\nka1       =         (p6-.5)/8000                                      ; SHAPE 1 0=FLAT\nka2       =         (p7-.5)/8000                                      ; SHAPE 2\niinch     =         p8                                                ; INPUT CHANNEL\nioutch    =         p9                                                ; OUTPUT CHANNEL\nioutlvl   =         p10                                               ; OUTPUT LEVEL\n                    \nkdclick   linseg    0, .002, 1, idur-.004, 1, .002, 0                 ; DECLICK ENVELOPE\n\nasig      zar       iinch\n\nax1       =         asig*(kpregn+ka1)                                 ; PRECALCULATE A FEW VALUES TO SAVE TIME\nax2       =         -asig*(kpregn+ka2)\nax3       =         asig*kpregn\n\naout      =         (exp(ax1)-exp(ax2))/(exp(ax3)+exp(-ax3))*kpostg   ; MODIFIED TANH DISTORTION\n\n          zaw       aout*kdclick, ioutch                              ; OUTPUT THE RESULT\n          outs      aout*kdclick*ioutlvl, aout*kdclick*ioutlvl        ; OUTPUT THE RESULT\n\n          endin\n\n;---------------------------------------------------------------------------\n; WAH-WAH\n;---------------------------------------------------------------------------\n          instr     16\n\nirate     =         p4                            ; AUTO WAH RATE\nidepth    =         p5                            ; LOW PASS DEPTH\nilow      =         p6                            ; MINIMUM FREQUENCY\nifmix     =         p7/1000                       ; FORMANT MIX\nitab1     =         p8                            ; WAVE FORM TABLE\nizin      =         p9                            ; INPUT CHANNEL\n     \nkosc1     oscil     .5, irate, itab1, .25         ; OSCILATOR\nkosc2     =         kosc1 + .5                    ; RESCALE FOR 0-1\nkosc3     =         kosc2                         ; FORMANT DEPTH 0-1\n     \nklopass   =         idepth*kosc2+ilow             ; LOW PASS FILTER RANGE\nkform1    =         430*kosc2 + 300               ; FORMANT 1 RANGE\nkamp1     =         ampdb(-2*kosc3 + 59)*ifmix    ; FORMANT 1 LEVEL\nkform2    =         220*kosc2 + 870               ; FORMANT 2 RANGE\nkamp2     =         ampdb(-14*kosc3 + 55)*ifmix   ; FORMANT 2 LEVEL\nkform3    =         200*kosc2 + 2240              ; FORMANT 3 RANGE\nkamp3     =         ampdb(-15*kosc3 + 32)*ifmix   ; FORMANT 3 LEVEL\n\nasig      zar       izin                          ; READ INPUT CHANNEL\n\nafilt     butterlp  asig, klopass                 ; LOW PASS FILTER\n\nares1     reson     afilt, kform1, kform1/8       ; COMPUTE SOME FORMANTS\nares2     reson     afilt, kform2, kform1/8       ; TO ADD CHARACTER TO THE\nares3     reson     afilt, kform3, kform1/8       ; SOUND\n\naresbal1  balance   ares1, afilt                  ; ADJUST FORMANT LEVELS\naresbal2  balance   ares2, afilt\naresbal3  balance   ares3, afilt\n\naout      =         afilt+kamp1*aresbal1+kamp2*aresbal2+kamp3*aresbal3\n\n          outs      aout, aout\n\n          endin\n\n;------------------------------------------------------------------------------\n; CLEAR ZAK\n;------------------------------------------------------------------------------\n          instr     99\n          zacl      0, 50\n          zkcl      0, 50\n          endin\n\n</CsInstruments>\n<CsScore>\n;------------------------------------------------------------------------------\n; HEAVY GUITAR BY HANS MIKELSON\n;------------------------------------------------------------------------------\nf1 0 8192 10 1\nf2 0 8192 11 20\n\n; PLUCK\n;    Sta  Dur  Amp    Pitch  Table  OutCh\ni1   0    .4  10000  7.00   0      1\ni1   0    .4  10000  7.07   .      .\n;i1   0    .4  10000  8.05   .      .\n\n; DISTORTION\n;    Sta  Dur  PreGain  PostGain  Shape1  Shape2  InCh  OutCh  Output\ni10  0    .4   1        .5        .01     0       1     2      .5\n\n; AUTO-WAH\n;    Sta  Dur  Rate  Depth  MinFqc  FmntMix  WaveShape  InCh\ni16  0    .4   1.25  4000   200     .5       1          2\n\n; ZAK CLEAR\ni99  0    .4\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for k1        linseg    p4*.1,p3*.2,p4,p3*.8,p4*.2 using FM synthesis and oscillator and interpolating FM synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from WINKELFM.ORC and WINKELFM.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\ninstr     1\nk1        linseg    p4*.1,p3*.2,p4,p3*.8,p4*.2\nk2        linseg    4,.2,2,p3-.2,1.9\ngk3       oscil     1,p6/p3,2\nk4        linseg    p5,p3*.1,p5*1.1,p3*.9,p5*.95\nga1       foscili   k1,k4,3,1.007,k2,1\n          ;outs1    ga1*gk3\n          ;outs2    ga1*(1-gk3)                   ;TRYING TO GET DELAY ON BOTH SIDES\n          ;outs2    ga1*(1-gk3)\nendin\n\n\ninstr     3\nk1        linseg    p4*.1,p3*.2,p4,p3*.8,p4*.2\n;k1       linen     p4,.2,p3,.2\nk2        linseg    4,.2,2,p3-.2,1.9\ngk3       oscil     1,p6/p3,2\nk4        linseg    p5,p3*.1,p5*.95,p3*.9,p5*1.1\nga2       foscili   k1,k4,3,1.007,k2,1\n          ;outs1    ga2*gk3\n          ;outs2    ga2*(1-gk3)                   ;TRYING TO GET DELAY ON BOTH SIDES\n          ;outs2    ga1*(1-gk3)\nendin\n\ninstr     2\na1        reverb    ga1+ga2,.5\n          outs1     a1*(1-gk3)\n          outs2     a1*gk3\nendin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 512 9 1 1 0 1.1 .2 0     ;USE 1.1 .1 0 IF THIS STINKS\nf2 0 512 7 0 256 1 256 0\n\ni2 0  45.2                    ;REVERB GUY\n\ni1 0    15   300 40    1\ni3 0    15   300 40.25 1\ni1 .2   15   250 41    1\ni3 .2   15   300 39.25 1\ni1 11   15   300 45    1\ni1 11.2 15   250 46    1\ni3 11   15   300 45.25 1\ni3 11.2 15   300 44.25 1\ni1 21   15   300 87    1\ni1 21.2 15   250 87.5  1\ni3 21   15   300 86    1\ni3 21.2 15   250 85    1\ni1 30   15   300 102   1\ni1 30.2 15   300 103   1\ni3 30   15   300 102   1\ni3 30.2 15   300 101   1\ns\n\ni1 0  .2  300  50  1          ;P6 = PAN FUNCTION IN ORC /P3\ni1 0.2 .  .     > 3\ni1 0.4 .  .     > 5\ni1 0.6 .  .     > 7\ni1 0.8 .  .     > 9\ni1 1  .2  300  > 1\ni1 1.2 .  .     > 3\ni1 1.4 .  .     > 5\ni1 1.6 .  .     > 7\ni1 1.8 .  .     > 9\ni1 2  .2  3000  > 1\ni1 2.2 .  .     > 3\ni1 2.4 .  .     > 5\ni1 2.6 .  .     > 7\ni1 2.8 .  .     500 9\ni2 0   3.5\ns\n\n\ni1 0    .3 3000 600 1\ni1  .7 4.3  .   500 1\ni1 5.5  .2  .   400 .1\ni1 6    .5  .   300 .1\ni1 7   1    .   200  2\ni1 8   2    .   100 15\ni1 10  .2  3000  50  1\ni1 10.2 .  .    100  3\ni1 10.4 .  .    200  5\ni1 10.6 .  .    300  7\ni1 10.8 .  .    400  9\ni1 11   10 .    500 11\n\ni2 0  22\ns\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for CELESTA (ADD) using oscillator and Karplus-Strong plucked string and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from dem1.orc and dem1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1                  ; CELESTA (ADD)\nkfreq     cpsmidib\niveloc    veloc\nkgate     linenr    iveloc/(128*3), 0, 1, .1\n\nk1        line      32000, 2, 0\nk2        oscil     1000, 3, 1\nk1        =         k1 + k2\na1        oscil     k1, kfreq + k2*.005, 1\na2        oscil     k1, 4.1*kfreq + k2*.005, 1\n          ;out      (a1 + a2/2) * kgate\nga1       =         (a1 + a2/2) * kgate\n          endin\n\n          instr 2\nikfreq    cpsmidib\nkfreq     cpsmidib\niveloc    veloc\nkgate     linenr    iveloc/128, 0, .1, .1\n\na1        pluck     35000, kfreq/2, ikfreq/2, 0, 1\na1        butterlp  a1, 100\n          ;out      a1 * kgate * 7\nga1       =         ga1 + a1 * kgate * 7\n          endin\n\n          instr 3                  ; SLOW STRINGS (SUB)\nkfreq     cpsmidib\niveloc    veloc\nkgate     linenr    iveloc/128, 0, .5, .1\n\nk1        linseg    0, .5, 32000, .5, 25000\nk2        oscil     kfreq*.005, 3, 1\na1        oscil     k1, kfreq + k2, 2\na2        oscil     k1, kfreq + k2 + 1, 2\na3        oscil     k1, 2*(kfreq + k2), 2\na1        butterlp  a1 + a2 + a3, 1200\n          ;out      a1/4 * kgate\nga1       =         ga1 + a1/4 * kgate\n          endin\n\n          instr 129\nga1       butterhp  ga1, 20\nab        =         ga1\na1        reverb2   ga1, 1.7, .5\n          out       (ab + a1/10)\n          ;out      ga1\nga1       =         0\n          endin\n\n</CsInstruments>\n<CsScore>\nf0 60\n\nf1 0 1024 10 1\nf2 0 1024 7 -1 24 1 1000 -1\n\ni129 0 30\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1        oscil     p4, p5, p6 using oscillator and buzz/pulse generator and FM synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Q1.orc and Q1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n\n          instr     107\na1        oscil     p4, p5, p6\n          out       a1\n          endin\n\n          instr     108\na1        foscil    p4, p5, p6, p7, p8, p9\n          out       a1\n          endin\n\n          instr     109\na1        buzz      p4, p5, p6, p7\n          out       a1\n          endin\n\n          instr     110                      \na1        pluck     p4, p5, p6, p7, p8\n          out       a1\n          endin\n\n          instr     111\na1        grain     p4, p5, p6, p7, p8, p9, p10, p11, p12\n          out       a1\n          endin\n          \n          instr     112                      \na1        loscil    p4, p5, p6\n          out       a1\n          endin\n          \n\n</CsInstruments>\n<CsScore>\nf1  0 4096 10   1\n\n\ni109      1         1          10000         110       40  1\ni109      2.5       1          10000         138.6     40  1\ni109      4         1        10000      163.3     40  1\ni109      5.5       1          10000         220       40  1\ni109      7         1          10000         277.2     40  1 \ni109      8.5       1          10000         326.6   40  1\ni109    10           1          10000        440     40  1\ni109    11.5     1        10000     554.4   40  1\ni109    13       1        10000     653.2   40  1\ni109    14.5     1        10000     880     40  1\ni109    16       1        10000     1108.8  40  1\ni109    17.5     1        10000     1306.4  40  1\ni109    19       1        10000     1760    40  1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Random interpolation between 8 waveforms using oscillator and interpolating random and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Scanner.orc and Scanner.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Random interpolation between 8 waveforms\n\nilevl    = p4*32767   ; Output level\nipitch   = cpspch(p5) ; Pitch\nirate    = p6         ; Random rate\nidet     = p7         ; Detune\n\niseed    = rnd(1)\nadclick  linseg  0, .002, 1, p3-.004, 1, .002, 0\na0       randi  .5, irate, iseed\na0       = a0 + .5\na11      table  a0, 50, 1, 0, 1\na22      table  a0, 50, 1, .125, 1\na33      table  a0, 50, 1, .25, 1\na44      table  a0, 50, 1, .375, 1\na55      table  a0, 50, 1, .5, 1\na66      table  a0, 50, 1, .625, 1\na77      table  a0, 50, 1, .75, 1\na88      table  a0, 50, 1, .875, 1\nipitch   = ipitch + idet\na1       oscil  a11, ipitch, 1, -1\na2       oscil  a22, ipitch, 2, -1\na3       oscil  a33, ipitch, 3, -1\na4       oscil  a44, ipitch, 4, -1\na5       oscil  a55, ipitch, 5, -1\na6       oscil  a66, ipitch, 6, -1\na7       oscil  a77, ipitch, 7, -1\na8       oscil  a88, ipitch, 8, -1\nasum     = a1 + a2 + a3 + a4 + a5 + a6 + a7 + a8\nout      asum*adclick*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 10\nf2 0 1024 10 10 9\nf3 0 1024 10 10 0 8\nf4 0 1024 10 10 0 0 7\nf5 0 1024 10 10 0 0 0 6\nf6 0 1024 10 10 0 0 0 0 5\nf7 0 1024 10 10 0 0 0 0 0 4\nf8 0 1024 10 10 0 0 0 0 0 0 3\n\nf50 0 4096 -7 1 512 0 3072 0 512 1\n\n;   Strt  Leng  Levl  Pitch Rate  Detune\ni1  0.00  4.00  0.25  07.00 8.00  0.00\ni1  .     .     .     .     9.00  0.30\ni1  .     .     .     .     11.0  0.50\ni1  .     .     .     .     7.00  0.80\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for - GLOBAL REVERB using oscillator and reverb effect and stereo reverb", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from samphold.orc and samphold.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n;============\n;CASCONE.ORC\n;============\n\n\n;=====================\n;REVERB INITIALIZATION\n;=====================\n\ngarvbsig  init      0\n\n;====================\n;DELAY INITIALIZATION\n;====================\n\ngasig     init      0\n\n;============================\n;INSTRUMENT 4 - SAMPLE & HOLD\n;============================\n\n          instr     4\n\nkrt       =         p6                  ;KRT IS THE FRQ OF RANDH OUTPUT & CLK OSC\nisd       =         p4                  ;ISD HOLDS THE VALUE OF THE SEED FOR RANDH\nkrnd      randh     1000,krt,isd        ;NOISE INPUT TO S&H\nkclk      oscil     100,krt,14          ;f14 IS A DUTY CYCLE WAVE\nksh       samphold  krnd, kclk          ;S&H\na2        oscil     600, ksh,11\na3        oscil     a2,1/p3,10          ;F10=ADSR-A3 IS THE OUTPUT\n\nkpan      oscil     1,.04,17\n\nasig1     =         a3*kpan\nasig2     =         a3*(1-kpan)\n\n          outs      asig1,asig2\n\n\ngarvbsig  =         garvbsig+(a3*.2)\n\n          endin\n\n;========================\n;INSTR 99 - GLOBAL REVERB\n;========================\n\n          instr     99\n\na1        reverb2   garvbsig,p4,p5\n          outs      a1,a1\n\ngarvbsig  =         0\n\n          endin\n\n\n</CsInstruments>\n<CsScore>\n;============\n;SAMPHOLD.SCO\n;============\nf10 0 512   7 0 50 1 50 .5 300 .5 112 0        ;ADSR\nf11 0 2048  10 1                               ;SINEWAVE HI-RES\nf14 0 512   7 1 17  1 0   0 495                ;PULSE FOR S&H CLK OSC\nf17 0 1024  7   .5 256 1 256 .5 256 0 256 .5   ;TRIANGLE WITH OFFSET\n;----------------------------------------------------------------------\n\n;======\n;REVERB\n;======\n;INST STRT DUR DLTIME\ni99   0    20  2.6   .6\n\n;=============\n;SAMPLE & HOLD\n;=============\n;  STRT DUR ISEED AMP  CLK\ni4 0   3   .3    2.5  7\ni4 5   5   .456  9    8.5\ni4 11   6   .334  7    10\ni4 18  10  .625  2    7\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ims\t\t=\t\t1.1 using oscillator and variable delay and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pdel.orc and pdel.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps \t=   \t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\nims\t\t=\t\t1.1\na1\t\toscil\t10000, 1737, 1\nk2\t\toscil\tims, 1/p3, 2\na4\t\tvdelay\ta1, k2, ims\n\t\tout \t\ta4\n\t\tendin\n\n\t\tinstr 2\nims \t\t= \t\t100\na1\t\toscil\t10000, 1737, 1\na2\t\toscil\tims/2, 1/p3, 1\na2\t\t=\t\ta2 + ims/2\na3\t\tvdelay\ta1, a2, ims\n\t\tout\t\ta3\n\t\tendin\n\n\t\tinstr 3\nk1\t\tlinseg\t10000, .1, 0, p3-.1, 0\na1\t\toscil\tk1, 1373, 1\na2\t\tmultitap\ta1, .4, 1, .1, .5;, .6, .24, .5, .73, .9\n\t\tout\t\ta2\n\t\tendin\n\n\t\tinstr 4\nims\t\t=\t\t10\na1\t\toscil\t10000, 1737, 3\nams\t\toscil\tims, 1/p3, 2\na4\t\tvdelay\ta1, ams, ims\n\t\tout\t\ta4\n\t\tendin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\n;f3 0 32768 1 4 0 1 1\n;f3 0 1024 10 1\n;f3 0 1024 7 -.5 24 .5 1000 -.5\n;f2 0 8192 8  0.000000 2002 0.750000 1820 0.010000 1769 0.620000 2601 0.010000\n\ni2 0 2\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using effects processing and oscillator and buzz/pulse generator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FX.orc and FX.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n;CROSS CHORUS (WORKS GOOD)\n\n\n          instr     101\n\nidur      =         p3\niamp      =         p4\nifrq      =         p5\nifun      =         p6\niatt      =         P7\nirel      =         p8\n\nkenv      oscil     p4,1/p3,6\nkup       line      1*0.99, idur, 1*1.01\nkdown     line      1*1.01, idur, 1*0.99\nasig3     oscil     kenv, ifrq*kup, ifun               ; DETUNED FROM FLAT TO SHARP\nasig2     oscil     kenv, ifrq*kdown, ifun             ; DETUNED FROM SHARP TO FLAT\nasig1     oscil     kenv, ifrq, ifun ; real note\namix      =         asig1 + asig2 +asig3\n     \n          out       amix\n\n          display   kenv, idur\n          endin \n\n;FOR SOME REASON IT MAKES THE COMPUTER CRASH BIG TIME.\n\n          instr     102\n\nidur      =         p3\niamp      =         ampdb(p4)\nifrq      =         cpspch(p5)\nifun      =         p6\niatt      =         p7\nirel      =         p8\niattfun   =         p9\nicar      =         p10\nimod      =         p11\nindex1    =         p12\nindex2    =         p13\nkenv      oscil     p4,1/p3,6                          ; ENVELOPE\nkmodswp   expon     index1, i dur, index2              ; INDEX OF MOD SWEEP IN FOSCIL OPCODE\nkbuzswp   expon     20 ,idur, 1                        ; MOD OF NUMBER OF HARMONICS IN THE BUZZ OPCODE\nasig3     foscil    kenv, ifrq, p10, p11, kmodswp, ifun      \nasig2     buzz      kenv, ifrq*0.99, kbuzswp+1, ifun    \nasig1     pluck     kenv, ifrq*0.5, ifrq, 0, 1 \n\namix      =         asig1 + asig2 + asig3\n          out       amix\n          dispfft   amix, 0.25, 1024\n          endin \n\n</CsInstruments>\n<CsScore>\nf 1  0  4096  10  1; SINE\n\nf 2  0  4096  10  1  0.5  .3333333  .25  .2  .1666666  .1428571  .125  .1111111  .1  .090909  .0833333  .076923  .0714285  .0666666 \n                                         .0625  .0588235  .0555555  .0526315  .05  .047619  .0454545  .0434782  .0416666 ; SAWTOOTH\nf 3  0  8192  20  2   1 \n\nf 6  0  1024  7  0  10  1  1000  1  14  0                    ;LINEAR AR ENVELOPE\n\nf 7  0  1024  7  0  128  1  128  .6  512  .6  256  0         ;LINEAR ADSR ENVELOPE\n\nf 8  0  1024  5  .001  256  1  192  .5  256  .5  64  .001    ;EXPONENTIAL ADSR\n\n\n; p1   p2   p3   p4      p5      p6       p7     p8     p9     p10     p11    p12    p13\n;==========================================================================================\ni 101   0   5   10000    440      2       .5      2     \n\n;i 102   6   10   10000    440     1       .5      2     0.5     1      0.5    0.5     8\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Random stepped wave generator. using oscillator and modal synthesis and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from SteppedWave.orc and SteppedWave.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Random stepped wave generator.\n\nilevl    = p4*32767   ; Output level\nipitch   = cpspch(p5) ; Pitch\nimode    = p6         ; Mode: 0=Stepped 1=Interpolated\n\nkdclick  linseg  0, .02, 1, p3-.04, 1, .02, 0\n\nk1       randi  1, 01\nk2       randi  1, 02\nk3       randi  1, 03\nk4       randi  1, 04\nk5       randi  1, 05\nk6       randi  1, 06\nk7       randi  1, 07\nk8       randi  1, 08\n\na1       oscil  1*k1, ipitch, imode\na2       oscil  1*k2, ipitch, imode, .125\na3       oscil  1*k3, ipitch, imode, .25\na4       oscil  1*k4, ipitch, imode, .375\na5       oscil  1*k5, ipitch, imode, .5\na6       oscil  1*k6, ipitch, imode, .625\na7       oscil  1*k7, ipitch, imode, .75\na8       oscil  1*k8, ipitch, imode, .875\n\naout     sum  a1, a2, a3, a4, a5, a6, a7, a8\n\nout      aout*kdclick*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 4096 7 1 256 0 3584 0 256 1 ; 1:8 Pulse.\n\n;     Strt  Leng  Levl  Pitch\t\ni1    0.00  4.00  1.00  05.00\t1\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1             =         1/p3 using oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 48WD2.ORC and 48WD2.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n; FIG 4.8.WD2.ORC - IDENTICAL TO 48.WD1.ORC\ninstr          1\ni1             =         1/p3\ni2             =         cpspch(p4)\ni3             =         i1*p6\ni4             =         i3*p7\n\na1             oscil     p5,i1,2\na2             oscil     i4,i1,1\na2             oscili    a2,i3,3\na1             oscili    a1,i2+a2,3\n\nout            a1\n\nendin\n\n</CsInstruments>\n<CsScore>\nc fig4.8.wd2\nf 1 0 512 7 .8 32 .82 32 .9 32 .96 20 1 24 1 20 .96 32 .85 .7 32 .55 32 .37 32 .1 64 .021 64 .004 64 .001\nf 2 0 512 7 1 64 0 448 0\nf 3 0 512 9 1 1 0\n  i1 0.000 0.100 7.05 20000 0.700 25\n  i1 0.100 0.100 7.05 20000 0.700 25\n  i1 0.200 0.100 7.05 20000 0.700 25\n  i1 0.300 0.100 7.05 20000 0.700 25\n  i1 0.400 0.100 7.05 20000 0.700 25\n  i1 0.500 0.200 7.05 20000 0.700 25\n  i1 0.700 0.200 7.05 20000 0.700 25\n  i1 0.900 0.200 7.05 20000 0.700 25\n  i1 1.100 0.200 7.05 20000 0.700 25\n  i1 1.300 0.200 7.05 20000 0.700 25\n  i1 1.500 0.300 7.05 20000 0.700 25\n  i1 1.800 0.300 7.05 20000 0.700 25\n  i1 2.100 0.300 7.05 20000 0.700 25\n  i1 2.400 0.300 7.05 20000 0.700 25\n  i1 2.700 0.400 7.05 20000 0.700 25\n  i1 3.100 0.400 7.05 20000 0.700 25\n  i1 3.500 0.400 7.05 20000 0.700 25\n  i1 3.900 0.500 7.05 20000 0.700 25\n  i1 4.400 0.500 7.05 20000 0.700 25\n  i1 4.900 1.000 7.05 20000 0.700 25\n  i1 5.900 0.100 7.05 20000 0.700 25\n  i1 6.000 0.100 7.05 20000 0.700 25\n  i1 6.100 0.100 7.05 20000 0.700 25\n  i1 6.200 0.100 7.05 20000 0.700 25\n  i1 6.300 0.100 7.05 20000 0.700 25\n  i1 6.400 0.200 7.05 20000 0.700 25\n  i1 6.600 0.200 7.05 20000 0.700 25\n  i1 6.800 0.200 7.05 20000 0.700 25\n  i1 7.000 0.200 7.05 20000 0.700 25\n  i1 7.200 0.200 7.05 20000 0.700 25\n  i1 7.400 0.300 7.05 20000 0.700 25\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating oscillator and interpolating oscillator and exponential segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 02_42_1.orc and 02_42_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 2 \n\n; ************************************************************************\n; ACCCI:      02_42_1.ORC\n; timbre:     stretched chord\n; synthesis:  additive same units(02)\n;             basic instrument with continuous pitch control(42)\n; source:     #440  Variable Pitched Drums, Risset(1969)\n; coded:      jpg 9/93\n\n\ninstr 1; *****************************************************************\nidur  = p3\niamp1 = p4   ;\nifq1  = p5   ;\niamp2 = p6   ;amplitudes and frequencies\nifq2  = p7   ;of three parallel waveforms\niamp3 = p8   ;\nifq3  = p9   ;\nipcf  = p10;;;;;;;;;;;;;;pitch control function parameter\niatt1 = p11  ;\nidec1 = p12  ;\niatt2 = p13  ;envelope\nidec2 = p14  ;parameters\niatt3 = p15  ;\nidec3 = p16  ;\n\n; init time calculation of an extra input parameter for expseg\niseg1 = idur-(iatt1+idec1)\niseg2 = idur-(iatt2+idec2)\niseg3 = idur-(iatt3+idec3)\n; getting the correct start value for the pitch control function\nif ipcf > 1 igoto nopitchoscil\nistartval = .9\ngoto start\nnopitchoscil: istartval = 0\n        goto start\nstart:\n   apc  oscili   1, 1/idur, ipcf\n   apc  =        istartval + apc      ; pitch control signal\n\n   ae1  expseg   .00097,iatt1, .99,iseg1, .9,idec1, .00097       ; unit 1\n   ae1  =        ae1 * iamp1\n   a1   oscili   ae1, ifq1*apc, 11\n\n   ae2  expseg   .0039,iatt2, .99,iseg2, .99,idec2, .0000000059   ; unit 2\n   ae2  =        ae2 * iamp2\n   a2   oscili   ae2, ifq2*apc, 12\n\n   ae3  expseg   .0039,iatt3, .99,iseg3, .99,idec3,.00000000000009; unit 3\n   ae3  =        ae3 * iamp3\n   a3   oscili   ae3, ifq3*apc, 13\n        outs      a1+a2+a3, a1+a2+a3\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     02_42_1.SCO\n; coded:     jpg 9/93\n\n; GEN functions **********************************************************\n; waveforms\nf11 0 512 9   1 1 0\nf12 0 512 9   3 1 0 4 1 0 5 1 0 5 1 0\nf13 0 512 9   8 1 0 9 1 0 10 1 0 11 1 0 12 1 0 15 1 0 17 1 0 18 1 0\n\n; envelopes\nf31 0 512 7 1 512 1    ;steady state\nf32 0 512 7 .85 512 1  ;increasing freq -3rd\nf33 0 512 7 1 512 .85  ;decreasing freq. -3rd\nf1 0 512 10 .1         ;orc. + .9 !! up & down -3rd\n\n; score ******************************************************************\nf0 1\ns\n\n; constant pitch\n;     dur  amp1  fq1  amp2 fq2  amp3 fq3 pcf att1 dec1 att2 dec2 att3 dec3\ni1  0 1.63 10000 160  6000  75  3000  61  31 .01  1.6  .01  1.61 .01  1.61\ni1  2 1.7  10000 160  6000  75  3000  61  31 .03  1.6  .01  1.65 .01  1.65\n; rising a third\ni1  4 1.63 10000 160  6000  75  3000  61  32 .01  1.6  .01  1.61 .01  1.61\ni1  6 1.7  10000 160  6000  75  3000  61  32 .03  1.6  .01  1.65 .01  1.65\n; oscil pitch between .9 and 1.1 times ifq's\ni1  8 1.63 10000 160  6000  75  3000  61   1 .01  1.6  .01  1.61 .01  1.61\ni1 10 1.7  10000 160  6000  75  3000  61   1 .03  1.6  .01  1.65 .01  1.65\n; going down a third\ni1 12 1.63 10000 160  6000  75  3000  61  33 .01  1.6  .01  1.61 .01  1.61\ni1 14 1.7  10000 160  6000  75  3000  61  33 .03  1.6  .01  1.65 .01  1.65\n; non-realistic parameters\ni1 16 2    10000 160  6000  75  8000  61  33 .01  1.95 1.9   .1  .9    .8\n\ne\n \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for HYPOCYCLOID OR SPIROGRAPH CURVE using oscillator and linear segments and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from spiro.orc and spiro.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\n;****************************************************************\n; INSTRUMENT SECTION\n\n\ninstr 3                            ; HYPOCYCLOID OR SPIROGRAPH CURVE\n                                   ; THIS SET OF PARAMETRIC EQUATIONS DEFINES THE PATH TRACED\n                                   ; BY A POINT ON A CIRCLE OF RADIUS B ROTATING INSIDE A  \n                                   ; CIRCLE OF RADIUS A.\n\n;kphi          init      0\n\nifqc           =         cpspch(p5)     ; ROOT FREQUENCY\nia             =         p6             ; RADIUS A\nib             =         p7             ; RADIUS B\n\n; AMP ENVELOPE\nkampenv        linseg    0, .1, p4, p3-.2, p4, .1, 0        ; AMP ENVELOPE\nkptchenv       linseg    .1, .2*p3, 1, .8*p3, 1             ; PITCH ENVELOPE\nkvibenv        linseg    0, .3*p3, 0, .2*p3, 1, .5*p3, 1    ; VIBRATO ENVELOPE\nkvibr          oscil     20, 8, 1                           ; VIBRATO\nkfqc           =         ifqc*kptchenv+kvibr*kvibenv        ; FREQUENCY\n\n; X EQUATION\nacos1          oscil     ia-ib, kfqc, 1, .25\nacos2          oscil     ib, (ia-ib)/ib*kfqc, 1, .25\nax             =         acos1 + acos2\n\n; Y EQUATION\nasin1          oscil     ia-ib, kfqc, 1\nasin2          oscil     ib, (ia-ib)/ib*kfqc, 1\nay             =         asin1 - asin2\n\n               outs      kampenv*ax, kampenv*ay\n\nendin\n\n</CsInstruments>\n<CsScore>\n;**************************************************************\n; SCORE\nf1 0 8192 10 1\n\nt 0 100\n\n;   Start Dur  Amp    Frqc   A    B\ni3   0     6  1000    8.00   10   2\ni3   4     4  1500    7.11   5.6  .4\ni3   +     4  2000    8.05   2    8.5\ni3   .     2  4000    8.02   4    5\ni3   .     2  4000    8.02   5    .5\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a synth sound using synthesizer and oscillator and analog-style oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Synth.orc and Synth.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Synth With 2 VCO's, 2 LFO's, PWM, Glide And Ringmod.\n\nilevl    = p4 * 32767 ; Level\ninote    = cpspch(p5) ; Pitch\niport    = .0625      ; Glide Time\nivco2    = p6         ; VCO2 Offset\nidet     = p7         ; VCO2 Detune\nivcf1    = p8         ; VCF Freq Start\nivcf2    = p9         ; VCF Freq End\nirez     = p10        ; VCF Resonance\niwav1    = p11        ; VCO1 Waveform\niwav2    = p12        ; VCO2 Waveform\niwave    = p13        ; LFO Waveform\nirate1   = p14        ; LFO1 Rate\nirate2   = p15        ; LFO2 Rate\niring    = p16        ; Ringmod Level.\nimaxd    = 1/inote\n\ntigoto   tieinit\nibegp    = inote\niprev    = inote\ngoto     cont\n\ntieinit:\nibegp    = iprev\niprev    = inote\ncont:\n\nk1       linseg  ibegp, iport, inote, abs(p3), inote\nk3       expseg  ivcf1, abs(p3), ivcf2\nk4       linseg  0, .01, ilevl, abs(p3)-.02, ilevl, .01, 0\n\nkpwm1    oscil  .45, irate1, iwave, -1\nkpw1     = kpwm1 + .5\nkpwm2    oscil  .45, irate2, iwave, -1\nkpw2     = kpwm2 + .5\n\navco1    vco  k4, k1, iwav1, kpw1, 1, imaxd\navco2    vco  k4, k1*ivco2 + idet, iwav2, kpw2, 1, imaxd\naring    = avco1*avco2/32767\n\namix     = (avco1 + avco2)*(1-iring) + aring*iring\n\navcf     rezzy  amix, k3, irez\n\nout      avcf\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1                         ; Sine\nf2 0 4096 7 0 1024 1 2048 -1 1024 0    ; Triangle\nf3 0 1024 7 1 512 1 0 -1 512 -1        ; Square\nf4 0 4096 -7 0 1024 .5 2048 -.5 1024 0 ; Half Level Tri for Shallow PWM\nf5 0 1024 7 0 1024 0                   ; Constant 0 for No PWM/Sqr/Tri\n\nt 0 480\n\n; Wave: 1=Saw, 2=Pwm, 3=Saw/Tri/Ramp\n\n;                    -----VCOs------ ------VCF------ ---VCOs-- ------LFOs------\n;     Strt Leng Levl Pitch Semi Fine Vcf1  Vcf2  Rez Wav1 Wav2 Wave Rate1 Rate2 Ring\ni1.1  0    -2   .7   06.00 1    1    1000  200   10  2    2    2   .25   .3     .75\ni1.1  +    -1   .    07.07 .    .    ~     <     .\ni1.1  +    -1   .    06.00 .    .    ~     <     .\ni1.1  +    1    .    07.03 .    .    ~     <     .\ni1.1  +    -2   .    06.00 .    .    ~     <     .\ni1.1  +    1    .    06.07 .    .    ~     <     .\ni1.1  +    -2   .    07.00 .    .    ~     <     .\ni1.1  +    -1   .    07.07 .    .    ~     <     .\ni1.1  +    -1   .    06.00 .    .    ~     <     .\ni1.1  +    -1   .    07.07 .    .    ~     <     .\ni1.1  +    -2   .    06.00 .    .    ~     <     .\ni1.1  +     1   .    06.03 .    .    1000  200   .\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipitch\t=\t\tcpspch(p4) using oscillator and Karplus-Strong plucked string and FOF formant synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from king1.orc and king1.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n;ORC CODE OF AN ECLECTIC INSTRUMENT I CALL THE SHBASHRINGER\n\n\t\tinstr 1\nipitch\t=\t\tcpspch(p4)\niloud\t=\t\t(ipitch<440?10000:14000)\nkvib \tline \tipitch*.02,p3,ipitch* -0.02\nkias\t\t=\t\tipitch*kvib\nklate \tline \t1,p3,10000\nkline \tline \tiloud,p3,1\nkrise1 \tline \t1,p3,2500\nkrise2 \tline \t2500,p3,1\nirise\t=\t\t(p3>1?p3/3:p3/6)\nidur\t\t=\t\tp3/3\nidec\t\t=\t\t(p3>2?p3/3:p3/6)\nkamp\t\t=\t\t(p3>1?8000:6000)\nklamp     linen \tkamp, irise, idur, idec\na1  \t\toscil \tklamp/4,kias,1 ;reed \na2  \t\toscil \tklamp/4, kias,2 ;string \na3  \t\tpluck     kline,ipitch/2,ipitch/3,3,3,0\na4 \t     pluck \tkline*.5,ipitch*.33,ipitch*.24,0,4,0,4\na5  \t\tpluck \tklate,ipitch,ipitch*.5,0,4,1,4 \na6  \t\tfof \t\tkrise1,a4,84,0,25,.003,.02,.007,500,2,4,p3,.5,2;deceased choir boy 1\na7  \t\tfof\t     krise2,a5,110,0,55,.003,.02,.007,500,2,4,p3,.5,2;deceased choir boy 2\naleft\t=\t\ta7+a5+a3+a1\naright\t=\t\ta6+a4+a2\n\t\touts\t \taleft,aright\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n;SCO CODE FOR A PROPER TEST DRIVE\nf1 0 2048 10 1 1 1 1 1 .9 .8 .7 .6 .5 .4 .3 .2 .1\nf2 0 4096 10 1 0 .5 0 .35 0 .17 0 .09 0 .045 0\nf3 0 2048 10 1 .5 .7 .5 .6 .5 .5 .5 .4 .5 .3 .5 .2\nf4 0 2048\t 7 0 0 1 128 2 256 3 512\n\ni1 0 1 8.00\ni1 0 1 7.00\ni1 0 .25 6.00\ni1 .25 .25 6.04\ni1 .5 .25 6.07\ni1 .75 .25 6.04\ni1 1 .25 5.00\ni1 1.25 .25 5.04\ni1 1.50 .25 5.07\ni1 1.75 .25 5.04\ni1 2 . 4.00\ni1 2.25 . 4.04\ni1 2.50 . 4.07\ni1 2.75 . 4.04\ni1 1 .5 8.04\ni1 1 .5 6.11\ni1 1.5 2 8.02\ni1 1.5 2 6.07\ni1 3.5 4 8.09\ni1 3.53 3.97 6.02\ni1 3.5 .25 9.09\ni1 3.75 . 9.11\ni1 4 . 10.00\ni1 4.25 . 10.04\ni1 4.50 . 10.07\ni1 4.75 . 10.09\ni1 5\t 2  11.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for CRICKET 2 using oscillator and interpolating oscillator and parametric equalizer", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from crickets.orc and crickets.sco\n; Original files preserved in same directory\n\nsr             =              44100                         ; SAMPLE RATE\nkr             =              4410                          ; KONTROL RATE\nksmps          =              10                            ; SAMPLES/KONTROL PERIOD\nnchnls         =              2                             ; NORMAL STEREO\n\n;---------------------------------------------------------\n; CRICKETS\n; CODED BY HANS MIKELSON SEPTEMBER, 1999\n;---------------------------------------------------------\n\n;---------------------------------------------------------\n; CRICKET 2\n;---------------------------------------------------------\n               instr          14\n\nidur           =              p3                  ; DURATION\niamp           =              p4                  ; AMPLITUDE\nifqc           =              p5                  ; FREQUENCY MODIFICATION\nipuls          =              p6                  ; PULSE TABLE\niftab          =              p7                  ; FREQUENCY TABLE\niloop          =              p8                  ; LOOP TIME\niltab          =              p9                  ; LOOP TABLE\nilpetab        =              p10                 ; LOOP ENVELOPE TABLE\nifetab         =              p11                 ; FREQUENCY ENVELOPE TABLE\nibasef         =              19                  ; BASE PULSE FREQUENCY\nipanl          =              sqrt(p12)           ; PAN LEFT\nipanr          =              sqrt(1-p12)         ; PAN RIGHT\niv             =              iamp/10000          ; HIGH SHELF LEVEL\n\nkaf            oscili         2, 1/iloop, iltab        ; PULSE ENVELOPE FM\nkamp1          oscili         1, 1/iloop, ilpetab      ; LOOP ENVELOPE\nkfenv          oscili         1, 1/iloop, ifetab       ; LOOP FREQUENCY ENVELOPE\n     \nkamp2          oscili         1, ibasef*kaf, ipuls     ; GENERATE PULSE STREAM\nkamp           =              sqrt(kamp1*kamp2)        ; MAKE IT ROUNDED\n\nkfqc1          oscil          4800*kfenv*ifqc, ibasef*kaf, iftab      ; FUNDAMENTAL FQC\nkfqc2          oscil          9500*kfenv*ifqc, ibasef*kaf, iftab      ; OVERTONE\n\nkdclck         linseg         0, .005, 1, idur-.01, 1, .005, 0        ; DECLICK ENVELOPE\n\nafnd           oscil          kamp, kfqc1, 1                          ; FUNDAMENTAL OSCILLATOR\nahrm           oscil          kamp, kfqc2, 1                          ; OVERTONE OSCILLATOR\n\naout           pareq          (afnd+ahrm*.04)*iamp*kdclck, 7000, iv, .707, 2    ; SET HIGH SHELF FILTER LOW FOR DISTANT CRICKETS\n\n               outs           aout*ipanl, aout*ipanr                  ; OUTPUT THE SOUND WITH PANNING\n\n               endin\n\n\n</CsInstruments>\n<CsScore>\n; SCO\nf1 0 65536 10 1\nf2 0 1024  7  0 306 1   306 0   412 0\nf3 0 1024  7  1 153 .97 153 .92 306 .85 412 1\nf4 0 1024  7  1  43 1    10  .5  961 .5 10 1\nf5 0 1024  7  .5 43 .5   10  .8  240 1 10 0 721 0 10 .5     ; LOOP ENVELOPE\nf8 0 1024  7  .5 43 .5   10  .8  300 1 10 0 661 0 10 .5     ; LOOP ENVELOPE\nf6 0 1024  7  .9 43 .9   10  1   961 1 10  .9\nf7 0 1024  7  1 1024 1\n\n; CRICKET\n;    Sta  Dur   Amp    Fqc  PlsTab  FqcTab  Loop  LoopFM   LoopEnv  FqcEnv Pan\ni14  0    .4    8000   1    2       3       .6    4        5        6      1\ni14  2    .4    8000   1    2       3       .6    4        5        6      1\ni14  4    3     8000   1    2       3       .6    4        5        6      1\ni14  13.8 6     8000   1    2       3       .6    4        5        6      1\ni14  23.8 4.3   7000   1    2       3       .6    4        5        6      1\ni14  29.8 4.3   6000   1    2       3       .6    4        5        6      1\n\ni14  16.2 1     9000   .98  2       3       .6    4        5        6     .5\ni14  18.2 3     8000   .98  2       3       .6    4        5        6   .5\ni14  24.2 4.5   7000   .98  2       3       .6    4        5        6     .5\ni14  29.2 4.5   6000   .98  2       3       .6    4        5        6     .5\n\ni14  8.5  3     7000   1.1  2       3       .5    4        8        6      0\ni14  13   7     7000   1.1  2       3       .5    4        8        6      0\ni14  24   4.2   7000   1.1  2       3       .5    4        8        6      0\ni14  29   4.2   6000   1.1  2       3       .5    4        8        6      0\n\n\ni14  23.2 5     5300   1.05 2       3       .5    4        8        6     .8\ni14  29.2 5     3000   1.05 2       3       .5    4        8        6     .8\n\ni14  30.5 5.2   3500   .992 2       3       .6    4        5        6     .6\ni14  22.1 5.3   4100   .985 2       3       .6    4        5        6     .2\ni14  29.1 5.3   4100   .985 2       3       .6    4        5        6     .2\n\ni14  24.2 5.2   3200   1.0  2       3       .5    4        8        6     .9\ni14  30.2 5.2   3200   1.0  2       3       .5    4        8        6     .9\ni14  29.5 5.4   5000   1.1  2       3       .6    4        5        6     .1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a theremin sound using oscillator and interpolating oscillator and Butterworth highpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from theremin.orc and theremin.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n\n\n;--------------------------------------------------------------------------------\n;THEREMIN ORCHESTRA\n\n\ngisintab  ftgen 0,0,4096,10,1                ;SINWAVE\ngipulltab ftgen 0,0,4096,9,0.5,1,0           ;FOR PULLING DISTORTION, SEE BELOW\n\n          instr     1 \n;------------------------------------------------------------------------ \n;THEREMIN SIMULATION INSTRUMENT, ROGER KLAVENESS NOV.-1998, \n;CONVERTED TO CECILIA AND BACK AGAIN JAN.-1999\n;----------------------------------------------------------------------\n;CONTROL PARAMETERS\n\n;ORIGINALY GENERATED BY CECILIA GLOBAL INSTRUMENT\nkpitch    oscil1i   0,1,p3,1       ;    51 POINTS\nkvib      oscil1i   0,1,p3,3       ;    101 POINTS\nkamp      oscil1i   0,1,p3,2       ;    37 POINTS\nkvibfreq  oscil1i   0,1,p3,4       ;    51 POINTS\n;---------------------------------------------\n\n\n;RANDOM AMP VARIATION, FOR SHAKY HANDS\n \nkshakeamphand randh 0.1,10 \n\nkamp      =         ampdb(kamp+kshakeamphand) \nkvib      oscil     kvib,kvibfreq,gisintab \n\n;RANDOM PITCH VARIATION, FOR SHAKY HANDS \n\nkshakepitchhand randh 0.01,10 \nkpitch    =         cpsoct(kpitch+kvib+kshakepitchhand)\n\n;-----------------------------------------------------------------------\n;SIMULATION OF REAL THEREMIN \n;TO OSCILATORS IN RADIOFREQ ARE COMBINED WITH HETERODYNING TO MAKE AN AUDIBLE DIFFERENCE WAVE \n;ONE COULD USE A HIGH SAMPLERATE TO MAKE IT MORE LIKE THE REAL THING BUT THAT REQUIRES    \n;SOMETHING LIKE SR=400kHz , AND THAT IS PROBABLY NOT NECESARRY \n;THE FREQSPACE IS DIVIDED IN 3 \n;0 - sr/6 : AUDIO FREQ WE WANT, DIFF-FREQ FROM MODULATION \n;sr/6 - 2*sr/6 : FIXED AND VARIABLE OSCILATOR \n;2*sr/6 - 3*sr/6 : ALIASED SUM-FREQ FROM MODULATION \n;FIXED OSCILATOR sr/3 \n;VARIABLE OSCILATOR SHOULD BE IN RANGE sr/3 -> sr/3-2000 \n;FREQ OVER sr/6 IS FILTERED OUT \n\n;--------------------------------------------- \n;OSCILATORS \na1        oscil     1, sr/3, gisintab             ; FIXED OSCILLATOR \na2        oscili    1, (sr/3)-kpitch, gisintab    ; VARIABLE OSCILLATOR \n \n;--------------------------------------------- \n;PULLING DISTORTON \n;LOOK AT http://www.paia.com/thereton.htm \n;THE TWO OSCILATORS ARE MUTUALY INFLUENCING THE OTHER \n;WHICH CAUSES DISTORTION OF THEIR WAVEFORM \n;THIS EFFECT BECOMES GREATER AS THE FREQ GET LOWER \n;THIS IS JUST EXPERIMENTATION FROM MY SIDE, AND DO PROBABLY \n;NOT REFLECTS THE PHYSICS IN THIS PROCESS \nkpull     =         ((2000/kpitch)-1)/80 ;more effect at low freq, no eff > 2000Hz = sinwave \nkpull     =         (kpull < 0 ? 0 : kpull) \nkpull     =         (kpull > 0.5 ? 0.5 : kpull) ; not greater than 0.5 pull-factor\nap1shape  table     abs(a1),gipulltab,1 ; The osc get more affected at 45 degrees, just looked like that in illustration.\nap2shape  table     abs(a2),gipulltab,1 ; One could experiment with different phases of gipulltab to get different waveform, or maybe modulate it also\nap1       =         a1+kpull*ap1shape*(a2*0.5+0.5) \nap2       =         a2+kpull*ap2shape*(a1*0.5+0.5) \n     \n;--------------------------------------------- \n; HETERODYNING = AMPLITUDEMODULATION \nap1       =         (0.5*ap1)+0.5 \namix      =         (ap1*ap2)*kamp  \n \n;------------------------------------------------------------------------ \n;FILTER OUT UNWANTED FREQ\n\n;10.ORDER BUTTERWORTH-LP, sr/6\nibgain    =         0.00001 \niagain    =         -1 \naout      zfilter2  amix,1,1,10,10,ibgain*.0027,ibgain*.0273,ibgain*.1230,ibgain*.3281,ibgain*.5742,ibgain*.6891,ibgain*.5742,ibgain*.3281,ibgain*.1230,ibgain*.0273,ibgain*.0027,iagain*-7.4907,iagain*25.4989,iagain*-51.8964,iagain*69.8813,iagain*-65.0115,iagain*42.2946,iagain*-18.9909,iagain*5.6301,iagain*-0.9948,iagain*0.0795 \n\n;PASSING FREQUENCIES ABOVE 25Hz , GET AWAY DC\naout      butterhp  aout, 25 \naout      balance   aout,amix \n\n;------------------------------------------------------------------------ \n;SOME TUBE-OVERDRIVE SIMULATION\nanorm     =         aout / 32767\naout      =         aout - (anorm*anorm*anorm)*10922; some distortion : x-(x^3)/3\n\n;------------------------------------------------------------------------ \n;OUTPUT\n          out       aout\n\n;------------------------------------------------------------------------ \n          endin\n\n</CsInstruments>\n<CsScore>\n;--------------------------------------------------------------------------------\n;THEREMIN SCORE\n\n;CONTROL TABLES FROM CECILIA\n f 1 0 8192 -7 3.36000 163.840 3.39406 163.840 3.49572 163.840 3.66336 163.840 3.89435 163.840 4.18504 163.840 4.53084 163.840 4.92631 163.840 5.36521 163.840 5.84061 163.840 6.34503 163.840 6.87049 163.840 7.40872 163.840 7.95123 163.840 8.48946 163.840 9.01493 163.840 9.51934 163.840 9.99475 163.840 10.43365 163.840 10.82913 163.840 11.17494 163.840 11.46563 163.840 11.69662 163.840 11.86427 163.840 11.96593 163.840 12.00000 163.840 11.96594 163.840 11.86429 163.840 11.69665 163.840 11.46566 163.840 11.17497 163.840 10.82917 163.840 10.43370 163.840 9.99480 163.840 9.51940 163.840 9.01499 163.840 8.48952 163.840 7.95129 163.840 7.40878 163.840 6.87055 163.840 6.34508 163.840 5.84067 163.840 5.36526 163.840 4.92636 163.840 4.53088 163.840 4.18507 163.840 3.89437 163.840 3.66338 163.840 3.49573 163.840 3.39407 163.840 3.36000  ; pitch\n f 3 0 8192 -7 0.01323 81.920 0.01095 81.920 0.02491 81.920 0.05155 81.920 0.08411 81.920 0.11431 81.920 0.13449 81.920 0.13951 81.920 0.12810 81.920 0.10316 81.920 0.07102 81.920 0.03986 81.920 0.01758 81.920 0.00985 81.920 0.01864 81.920 0.04171 81.920 0.07319 81.920 0.10510 81.920 0.12932 81.920 0.13970 81.920 0.13359 81.920 0.11257 81.920 0.08195 81.920 0.04953 81.920 0.02354 81.920 0.01059 81.920 0.01396 81.920 0.03280 81.920 0.06233 81.920 0.09503 81.920 0.12260 81.920 0.13804 81.920 0.13742 81.920 0.12090 81.920 0.09268 81.920 0.05992 81.920 0.03096 81.920 0.01314 81.920 0.01101 81.920 0.02509 81.920 0.05181 81.920 0.08439 81.920 0.11454 81.920 0.13460 81.920 0.13948 81.920 0.12794 81.920 0.10290 81.920 0.07074 81.920 0.03962 81.920 0.01744 81.920 0.00986 81.920 0.01878 81.920 0.04195 81.920 0.07348 81.920 0.10535 81.920 0.12947 81.920 0.13971 81.920 0.13347 81.920 0.11233 81.920 0.08167 81.920 0.04927 81.920 0.02337 81.920 0.01055 81.920 0.01406 81.920 0.03302 81.920 0\n.06261 81.920 0.09530 81.920 0.12280 81.920 0.13811 81.920 0.13735 81.920 0.12070 81.920 0.09241 81.920 0.05965 81.920 0.03075 81.920 0.01306 81.920 0.01106 81.920 0.02527 81.920 0.05208 81.920 0.08467 81.920 0.11476 81.920 0.13471 81.920 0.13945 81.920 0.12777 81.920 0.10265 81.920 0.07045 81.920 0.03938 81.920 0.01731 81.920 0.00986 81.920 0.01893 81.920 0.04220 81.920 0.07376 81.920 0.10560 81.920 0.12963 81.920 0.13973 81.920 0.13335 81.920 0.11210 81.920 0.08139 81.920 0.04901 81.920 0.02320 81.920 0.01051 81.920 0.01416  ; vib\n f 2 0 8192 -7 0.00000 407.689 67.38916 242.065 76.92118 726.196 74.70443 420.429 72.26601 165.624 67.38916 50.961 63.17734 116.956 59.78982 163.840 51.61728 163.840 51.73783 163.840 60.08530 163.840 72.07724 163.840 81.13053 163.840 82.27526 163.840 74.88301 163.840 63.01185 163.840 53.17860 163.840 50.78133 163.840 57.13606 163.840 68.75428 163.840 79.25803 163.840 82.88115 163.840 77.63468 163.840 66.39874 163.840 55.34143 163.840 50.53279 163.840 54.61259 163.840 65.34117 163.840 76.82894 163.840 82.76956 163.840 79.90185 229.835 70.49261 242.065 62.51232 331.247 51.87192 318.507 76.25616 879.079 69.82759 293.026 0.00000  ; amp\n f 4 0 8192 -7 7.75670 163.840 7.86874 163.840 8.04935 163.840 8.22465 163.840 8.02721 163.840 8.27651 163.840 7.91253 163.840 8.27002 163.840 8.63073 163.840 8.84151 163.840 8.83530 163.840 8.74292 163.840 8.53288 163.840 8.36684 163.840 8.10824 163.840 7.87147 163.840 7.54927 163.840 7.90565 163.840 8.27201 163.840 8.13383 163.840 7.94557 163.840 7.56107 163.840 7.51721 163.840 7.45809 163.840 7.23735 163.840 7.28621 163.840 7.68450 163.840 8.02240 163.840 7.79029 163.840 7.68422 163.840 7.86449 163.840 8.25488 163.840 8.01998 163.840 8.40820 163.840 8.39779 163.840 8.43364 163.840 8.79206 163.840 8.96129 163.840 9.27505 163.840 9.08682 163.840 9.42215 163.840 9.49660 163.840 9.33687 163.840 9.39254 163.840 9.27586 163.840 9.21725 163.840 9.47389 163.840 9.53438 163.840 9.32429 163.840 9.53184 163.840 9.38217  ; vibfreq\n\n;THEREMIN SWEEP\ni1 0 28.4\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kamp      =         p4 using oscillator and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from dodgefig326.orc and dodgefig326.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         441\nksmps     =         100\nnchnls    =         1\n\n;;; DRUM INSTRUMENT BASED ON RISSET\n;;; FIGURE 3.26 FROM DODGE & JERSE, P.93 \n\n\n          instr 1\nkamp      =         p4\nkfreq     =         p5\n\nka1       =         kamp/2\nkf1       =         1/p3\nkamp1     oscil     ka1,kf1,2\nkrand     randi     kamp1,400\nasig1     oscil     krand,500,4\n\nka2       =         kamp/6\nkf2       =         1/p3\nkamp2     oscil     ka2,kf2,2\nasig2     oscil     kamp2,kfreq/10,3\n\nka3       =         kamp/2.5\nkf3       =         1/p3\nkamp3     oscil     ka3,kf3,1\nasig3     oscil     kamp3,kfreq,4\n\naout      =         asig1+asig2+asig3\n          out       aout\n          endin\n\n\n</CsInstruments>\n<CsScore>\n\n\n;;; SCORE FOR FIGURE 3.26\n\nf1 0 128 5 1 128 .004\nf2 0 128 5 1 128 .00012\nf3 0 8192 10 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 1.5 0 0 0 0 0 2 1.5 f4 0 8192 10 1\n;p1 p2 p3\tp4 p5\n;INST START LENGTH AMP  FREQ\n  i1  0.00  0.50  15000 190\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating oscillator and FOF formant synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 45_01_3.orc and 45_01_3.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps =100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:        45_01_3.ORC\n; synthesis:    FOF (45)\n;               Tutorial FOF(01)\n;               exaggerated freq. vibrato(3)\n; coded:        jpg 3/94\n\n\ninstr 1; *****************************************************************\nidur   = p3\nifq    = p4\n\n   avib   oscil  20, 5, 1\n\n   ;                            koct                        ifna    idur\n   ;          xamp  xfund  xform  kband kris  kdur kdec iolaps ifnb\n   a1 fof     15000, ifq+avib,650,0,40, .003, .02, .007,  5, 1, 19, idur\n      out     a1\n\nendin\n\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     45_01_3.SCO\n; coded:     jpg 3/94\n\n\n; GEN functions **********************************************************\nf1  0 4096  10  1\nf19 0 1024  19 .5 .5 270 .5\n\n; score ******************************************************************\n\n;  istart idur ifq\n\ni1  0     3    200\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for SORT OF KARPLUS-STRONG STRING using MIDI control and oscillator and variable delay", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from midiguide.orc and midiguide.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n\n          instr 1\n                    ;SORT OF KARPLUS-STRONG STRING\n\nidamp     =         5000\nipitch    cpsmidib\niperiod   =         1000.0/ipitch\nisc       =         100\nafeed     init      0\n\naimpl     oscilx    10000, ipitch, 1, 1\n     \narefl     tone      aimpl + afeed, idamp\naout atone          arefl, idamp\nafeed     vdelay    arefl, iperiod, 1000\n          outs      aout*isc, aout*isc\n          endin\n\n          instr 2\n                    ;WAVEGUIDE PLUCKED STRING\n\nidamp     =         4000\nipitch    =         440\nisc       =         50\naright    init      0\naleft     init      0\n\n     ;Simple waveguide plucked string model.  Not worth looking over!\n\naimpl     oscilx    10000, ipitch/2, 1, 1         ;Initial state of string \naimpr     oscilx    10000, ipitch/2, 2, 1\n\n;kpitch   oscil     ipitch, 1/p3, 3\nkpitch    =         ipitch\n\nanrefl    tone      aimpl - aright, idamp         ;Reflect on nut\naoutn     atone     anrefl, idamp                 ;Pick sound from nut\naleft     vdelay    anrefl, 500/kpitch, 1000      ;Go to bridge\nabrefl    tone      aimpr - aleft, idamp          ;Reflect on bridge\naoutb     atone     abrefl, idamp                 ;Pick sound from bridge\naright    vdelay    abrefl, 500/kpitch, 1000      ;Go back to the nut\n          outs      aoutn*isc, aoutb*isc\n          endin\n\n          instr 3\n                    ;WAVEGUIDE CLARINET \n\n     ; Interesting points in the extended Csound implementation:\n     ; The \"am\" factor for ipmax = 10 takes small values like .005 - .02.\n     ; If the value is small (.005) then the reed takes more time to respond\n     ; to the mouth pressure.  For values bigger than .03 strange things happen.\n     ; I will assume that they are multiphonics or some overflow of air.\n     ; If \"ipmax\" is lowered then these numbers change.  \"ipmax\" does not need \n     ; values much bigger than 10 since overflow and feedback show up.\n     ; \"am\" and\" \"ipmax\" determine reed stiffness and embrochure  ( how tight\n     ; the reed is pressed by the player).\n     ; \"idamp\" according to my acoustics book should be between 1400Hz to 2000Hz.\n     ; 1000Hz sounds fine to me!\n     ; For some reason pitch is in the wrong octave.  I try to bring it up by\n     ; multiplying it by 2 but I thing it's still off.\n     ; \"a growl\" is a simple simulation of the growling sax players do to get\n     ; multiphonics.  If \"agrowl\" is used with \"am\" equal to .03 and a low \n     ; cuttof frequency for the bell I get a harmonic.\n     ; In MIT's Csound implementation the instrument behaves and sounds much different.\n     ; The harmonic trick does not work and the cutoff frequency sounds good at 1800Hz.\n\n\n     ;    INIT SECTION\n\nidamp     =         1500                               ;Determines brightness of clarinet\nipmax     =         10                                 ;Max mouth pressure\nivol      =         1000                               ;Bring to audible level factor\napbp      init      0                                  ;Init the returning pressure wave\n\n     ;    CONTROL SECTION\nipitch    cpsmidi\n\nkpm       midictrl  10, 0, ipmax\nkpm       =         ipmax\napm       =              kpm\napm       tone      apm, 2\n\nam        =         .01                                ;Embrochure/reed stiffness factor\nkm        midictrl  8, 0.005, .03\nam        =         km\n\nkrand     rand      1                                  ;Random element\nkrand     port      krand, 1/kr\napm       =         apm - (krand * ipmax)/10\n\nkvs       midictrl  1, 0, 1                            ;Simple time varying vibrato\nkpitch    oscil     kvs*3, kvs*7, 4\nkbend     =         0\nkpitch    =         ipitch - kpitch; + kbend + krand * 50\n\nkgr       midictrl  11, 0, 1\nagrowl    oscil     apm * kgr, 20, 5                   ;Growling\napm       =         apm * (1 - kgr) + agrowl\n\n     ;         WAVEGUIDE STARTS HERE\n     ;\n     ; The ugly variable names mean:\n     ;\n     ; apdp:             Closed reed pressure drop\n     ; apbp, apbm:       Traveling pressure waves\n     ; atr:              Reed responce to pressure\n     ; abell:            Pressure wave at bell\n     ; arefl:            Reflected pressure wave at bell\n     ; aout:             Output from bell\n\napdp      =         2*apbp - apm\natr       =         1 - am*(apdp - ipmax)\napbm      =         apm/2 + atr * apdp/2               ;Start from reed\n     \nabell     vdelay    apbm, 500/kpitch, 1000             ;Go to bell\narefl     tone      -abell, idamp                      ;Damp/reflect on bell\naout      atone     abell, idamp                       ;Get out of bell\napbp      vdelay    arefl, 500/kpitch, 1000            ;Go back to reed\n\n          outs      aout*ivol, aout*ivol               ;Give it to me!\n          endin\n\n</CsInstruments>\n<CsScore>\nf0 10\nf1 0 1024 7 0 124 1 800 0\nf2 0 1024 7 0 800 1 124 0\nf3 0 1024 8 1 512 .8 512 1\nf4 0 1024 10 1\nf5 0 1024 10 1 1 1 1 1 1\nf7 0 1024 8 1 512 .1 128 1 384 1\nf8 0 1024 8 0 512 1 512 1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ka1       =         p4 using oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from dodgefig327.orc and dodgefig327.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         441\nksmps     =         100\nnchnls    =         1\n\n;;; BELL INSTRUMENT BASED ON RISSET\n;;; FIGURE 3.27 FROM DODGE & JERSE, P.94 \n\n\n          instr 1\n                    \nka1       =         p4\nka2       =         p4*.67\nka3       =         p4\nka4       =         p4*1.8\nka5       =         p4*2.67\nka6       =         p4*1.67\nka7       =         p4*1.46\nka8       =         p4*1.33\nka9       =         p4*1.33\nka10      =         p4\nka11      =         p4*1.33\n\nkd1       =         p3\nkd2       =         p3*.9\nkd3       =         p3*.65\nkd4       =         p3*.55\nkd5       =         p3*.325\nkd6       =         p3*.35\nkd7       =         p3*.25\nkd8       =         p3*.2\nkd9       =         p3*.15\nkd10      =         p3*.1\nkd11      =         p3*.075\n\nkf1       =         p5*.56\nkf2       =         p5*.56+1\nkf3       =         p5*.92\nkf4       =         p5*.92+1.7\nkf5       =         p5*1.19\nkf6       =         p5*1.7\nkf7       =         p5*2\nkf8       =         p5*2.74\nkf9       =         p5*3\nkf10      =         p5*3.76\nkf11      =         p5*4.07\n\nkamp1     oscil     ka1,1/kd1,2\nkamp2     oscil     ka2,1/kd2,2\nkamp3     oscil     ka3,1/kd3,2\nkamp4     oscil     ka4,1/kd4,2\nkamp5     oscil     ka5,1/kd5,2\nkamp6     oscil     ka6,1/kd6,2\nkamp7     oscil     ka7,1/kd7,2\nkamp8     oscil     ka8,1/kd8,2\nkamp9     oscil     ka9,1/kd9,2\nkamp10    oscil     ka10,1/kd10,2\nkamp11    oscil     ka11,1/kd11,2\n\nasig1     oscil     kamp1,kf1,1\nasig2     oscil     kamp2,kf2,1\nasig3     oscil     kamp3,kf3,1\nasig4     oscil     kamp4,kf4,1\nasig5     oscil     kamp5,kf5,1\nasig6     oscil     kamp6,kf6,1\nasig7     oscil     kamp7,kf7,1\nasig8     oscil     kamp8,kf8,1\nasig9     oscil     kamp9,kf9,1\nasig10    oscil     kamp10,kf10,1\nasig11    oscil     kamp11,kf11,1\n\nadd1      =         asig1+asig2+asig3+asig4+asig5+asig6\nadd2      =         asig7+asig8+asig9+asig10+asig11\nadd       =         add1+add2\naout      =         add\n          out       aout\n          endin\n\n\n</CsInstruments>\n<CsScore>\n\n\n;;; SCORE FOR 3.27\n\nf1 0 8192 10 1\nf2 0 512 5 1 512 .00097\n;INST START LENGTH AMP \tFREQ\n; p1  p2    p3\t   p4  \tp5\n  i1  0\t    20\t  2000 \t200\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a voicechorus sound using echo effect and chorus effect and voice synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 12VoiceChorus.orc and 12VoiceChorus.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 2\n\n\ninstr    1 ; 12 Voice Chorus with random LFO rates and spread pan\n\nilevl    = p4*.3   ; Output level\nidelay   = p5/1000 ; Delay in ms\nidpth    = p6/1000 ; Depth in ms\nimax     = p7 - p8 ; Maximum LFO rate\nimin     = p8      ; Minimum LFO rate\niwave    = p9      ; LFO waveform\n\nain      soundin  \"Marimba.aif\"\n\nain      = ain*ilevl\ni01      = rnd(imax)\ni02      = rnd(imax)\ni03      = rnd(imax)\ni04      = rnd(imax)\ni05      = rnd(imax)\ni06      = rnd(imax)\ni07      = rnd(imax)\ni08      = rnd(imax)\ni09      = rnd(imax)\ni10      = rnd(imax)\ni11      = rnd(imax)\ni12      = rnd(imax)\nalfo01   oscil  idpth, i01 + imin, iwave\nalfo02   oscil  idpth, i02 + imin, iwave, .08\nalfo03   oscil  idpth, i03 + imin, iwave, .17\nalfo04   oscil  idpth, i04 + imin, iwave, .25\nalfo05   oscil  idpth, i05 + imin, iwave, .33\nalfo06   oscil  idpth, i06 + imin, iwave, .42\nalfo07   oscil  idpth, i07 + imin, iwave, .50\nalfo08   oscil  idpth, i08 + imin, iwave, .58\nalfo09   oscil  idpth, i09 + imin, iwave, .67\nalfo10   oscil  idpth, i10 + imin, iwave, .75\nalfo11   oscil  idpth, i11 + imin, iwave, .83\nalfo12   oscil  idpth, i12 + imin, iwave, .92\natemp    delayr  idelay + idpth +.1\na01      deltapi  idelay + alfo01\na02      deltapi  idelay + alfo02\na03      deltapi  idelay + alfo03\na04      deltapi  idelay + alfo04\na05      deltapi  idelay + alfo05\na06      deltapi  idelay + alfo06\na07      deltapi  idelay + alfo07\na08      deltapi  idelay + alfo08\na09      deltapi  idelay + alfo09\na10      deltapi  idelay + alfo10\na11      deltapi  idelay + alfo11\na12      deltapi  idelay + alfo12\n         delayw  ain\nouts1    a01+a02*.95+a03*.9+a04*.85+a05*.79+a06*.74+a07*.67+a08*.6+a09*.52+a10*.42+a11*.3\nouts2    a02*.3+a03*.42+a04*.52+a05*.6+a06*.67+a07*.74+a08*.79+a09*.85+a10*.9+a11*.95+a12\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 10 1                     ; Sine\nf2 0 8193 10 1 0 0 0 0 0 0 0 0 .05 ; Slow & fast sines\nf3 0 8193 7 -1 4096 1 4096 -1      ; Triangle\n\n;Delay and Depth in ms\n;Max and Min in Hz\n\n;                     ------------LFOs------------\n;   Strt  Leng  Levl  Delay Depth Max   Min   Wave\ni1  0.00  1.47  1.00  10.0  5.00  0.75  0.50  3\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp      =         p4 using oscillator and buzz/pulse generator and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from comborg.orc and comborg.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n          zakinit   30, 30\n\n;---------------------------------------------------------------------------------\n; LOW FREQUENCY OSCILLATOR\n          instr      1\n\niamp      =         p4\nilfo      =         p5\niwave     =         p6\nioutch    =         p7\n\nklfo      oscil     iamp, ilfo, iwave\n          zkw       klfo, ioutch\n\n          endin\n\n;---------------------------------------------------------------------------------\n; RECTANGLE ADDITIVE WAVE (BAND LIMITED IMPULSE TRAIN)\n          instr      10\n\nidur      =         p3\niamp      =         p4\nifqc      =         cpspch(p5)\nifqc2     =         ifqc*p6\niamp2     =         p7\nifqc3     =         ifqc*p8\niamp3     =         p9\nifqc4     =         ifqc*p10\niamp4     =         p11\nifco      =         p13\n\nkdclik    linseg    0, .002, iamp, idur-.004, iamp, .002, 0\nklfo      zkr       p12\nkfqc      =         ifqc*(1+klfo)\nkfqc2     =         kfqc*p6\nkfqc3     =         kfqc*p8\nkfqc4     =         kfqc*p10\n                                             \napulse1   buzz      1, kfqc, sr/2/ifqc, 1         ; AVOID ALIASING BY NOT GOING OVER SR/2/FQC\napulsd1   delay     apulse1, .5/ifqc\nasquar1   =         apulse1 - apulsd1             ; TWO INVERTED PULSES AT VARIABLE DISTANCE\n\napulse2   buzz      iamp2, kfqc2, sr/2/ifqc2, 1   ; AVOID ALIASING\napulsd2   delay     apulse2, .5/ifqc2\nasquar2   =         apulse2 - apulsd2             ; TWO INVERTED PULSES AT VARIABLE DISTANCE\n\napulse3   buzz      iamp3, kfqc3, sr/2/ifqc3, 1   ; AVOID ALIASING\napulsd3   delay     apulse3, .5/ifqc3\nasquar3   =         apulse3 - apulsd3             ; TWO INVERTED PULSES AT VARIABLE DISTANCE\n\napulse4   buzz      iamp4, kfqc4, sr/2/ifqc4, 1   ; AVOID ALIASING\napulsd4   delay     apulse4, .5/ifqc4\nasquar4   =         apulse4 - apulsd4             ; TWO INVERTED PULSES AT VARIABLE DISTANCE\n\nasquare   integ     asquar1+asquar2+asquar3+asquar4\n\naout      butterlp  asquare, ifco\n\n\n          outs      kdclik*aout, kdclik*aout\n          endin\n\n\n\n</CsInstruments>\n<CsScore>\nf1 0 16384 10 1                               ; Sine\n\n;    Sta  Dur  Amp   Fqc  Wave  OutKCh\ni1   0    7.5  .004  6    1     1\n\n;    Sta  Dur  Amp    Pitch  Fqc2  Amp2  Fqc3  Amp3  Fqc4  Amp4  LFOCh  Fco\ni10  0    0.6  10000  8.04   1.5   .5    2.0   .7    3.0   .2    1      8000\ni10  +    0.6  .      8.04   .     .     .     .     .     .     .      .\ni10  .    0.3  .      8.07   .     .     .     .     .     .     .      .\ni10  .    0.3  .      8.06   .     .     .     .     .     .     .      .\ni10  .    0.3  .      8.02   .     .     .     .     .     .     .      .\ni10  .    0.6  .      8.04   .     .     .     .     .     .     .      .\ni10  .    0.6  .      8.11   .     .     .     .     .     .     .      .\ni10  .    0.6  .      8.09   .     .     .     .     .     .     .      .\ni10  .    0.6  .      8.07   .     .     .     .     .     .     .      .\ni10  .    0.3  .      8.02   .     .     .     .     .     .     .      .\ni10  .    0.6  .      8.04   .     .     .     .     .     .     .      .\ni10  .    0.6  .      8.04   .     .     .     .     .     .     .      .\ni10  .    0.3  .      8.07   .     .     .     .     .     .     .      .\ni10  .    0.3  .      8.06   .     .     .     .     .     .     .      .\ni10  .    0.3  .      8.02   .     .     .     .     .     .     .      .\ni10  .    0.6  .      8.04   .     .     .     .     .     .     .      .\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i7             =         cpspch(p4) using oscillator and interpolating oscillator and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 411B.ORC and 411B.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n; fig4.11.b.orc\n\n\ninstr          1\ni7             =         cpspch(p4)\ni2             =         p6\ni2             =         (i2/i7)+.5\ni2             =         int(i2)\ni3             =         p7\ni4             =         p8\ni5             =         p9*.4\ni6             =         p10\ni8             =         i5/i4\ni9             =         exp(1.5*log(p5/32767))\ni10            =         .00311*log(i7)\ni11            =         sqrt(p5/32767)\ni12            =         (1-i3)*i11\ni13            =         i4*i7\ni14            =         i9*i3\n\na1             linen     i12,.1,p3,.08\na2             oscil     i13,i7,3\na8             =         i7+a2\na4             linen     i10,.6,p3,.1\na4             oscil     a4,i6,3\na5             randi     i10,15\na6             linseg    -.03,.07,.03,.03,0,p3-.1,0\na6             =         a4+a5+a6+1.\na1             oscili    a1,(a8+a2)*a6,3\na7             =         (a2*i8)+i2\na3             linseg    0,.07,.1,.03,1.,p3-.18,1,.02,.1,.06,0\na3             =         a3*(i9*i3)\na3             oscili    a3,a7*a6,3\n\nout            (a1+a3)*p5\n\nendin\n\n</CsInstruments>\n<CsScore>\nc fig4.11a.scr\nf 3 0 512 9 1 1 0\nf 4 0 512 -7 3000 71 3000 168 2300 100 2100 71 2000 102 2000\nf 5 0 512 -7 .025 71 .02 102 .025 71 .05 268 .06\nf 6 0 512 -7 .25 71 .25 102 .08 .05 339 .05\nf 7 0 512 -7 5 71 2.3 102 1.5 237 2.5 102 2.3\nf 8 0 512 -7 5 512 6.5\n  i1 0.000 2.010 7.07 20000 700 0.040 0.250 5.000 5.000\n  i1 3.000 2.010 8.00 20000 700 0.020 0.250 2.500 5.300\n  i1 6.000 2.010 8.07 20000 700 0.030 0.100 1.500 5.600\n  i1 9.000 2.010 9.00 20000 1100 0.050 0.080 2.500 5.900\n  i1 12.000 2.010 9.07 20000 1400 0.060 0.070 3.000 6.200\n  i1 15.000 2.010 10.00 20000 1700 0.070 0.060 3.500 6.500\n  i1 18.000 2.010 10.07 20000 1700 0.080 0.050 3.000 6.500\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1        =         cpspch(p5) using oscillator and interpolating oscillator and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FIG4_13.ORC and FIG4_13.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n;=======================================================================;\n; FIG4_13         Double Carrier FM Instrument  (Dodge p. 121)          ;\n;                 Coded by Thomas Dimeo                                 ;\n;                 Brooklyn College Computer Music Studio                ;\n;=======================================================================;\n          instr        1\ni1        =         cpspch(p5)\ni2        =         p6\ni2        =         (i2/i1)+.5\ni2        =         int(i2)\ni3        =         p7\ni4        =         p8\ni5        =         p9*.4\ni6        =         p10\ni8        =         i5/i4\ni9        =         exp(1.5*log(p5/32767))\ni10       =         .00311*log(i1)\ni11       =         sqrt(p4/32767)\ni12       =         (1-i3)*i11\ni13       =         i4*i1\ni14       =         i9*i3\n\na1        linen     i12,.1,p3,.08\na2        oscil     i13,i1,1\na8        =         i1+a2\na4        linen     i10,.6,p3,.1\na4        oscil     a4,i6,1\na5        randi     i10,15\na6        linseg    -.03,.07,.03,.03,0,p3-.1,0\na6        =         a4+a5+a6+1\n\na1        oscili    a1,(a8+a2)*a6,1\na7        =         (a2*i8)+i2\na3        linseg    0,.07,.1,.03,1,p3-.18,1,.02,.1,.06,0\na3        =         a3*(i9*i3)\na3        oscili    a3,a7*a6,1\n          out       (a1+a3)*p4\n          endin\n\n</CsInstruments>\n<CsScore>\n;=======================================================================;\n; FIG4_13         Score for Dbl Carrier FM Instrument from Dodge p. 121 ;\n;=======================================================================;\n; sine\nf1    0     512      9       1        1       0\n;=======================================================================;\n; FIG4_13        p4      p5      p6      p7      p8      p9      p10    ;\n;                amp     pch                                            ;\n;=======================================================================;\ni1  0.0  2.01    20000   7.07    700     0.04    0.25    5.0     5.0\ni1  3.0  2.01    20000   8.00    700     0.02    0.25    2.5     5.3\ni1  6.0  2.01    20000   8.07    700     0.03    0.10    1.5     5.6\ni1  9.0  2.01    20000   9.00   1100     0.05    0.08    2.5     5.9\ni1 12.0  2.01    20000   9.07   1400     0.06    0.07    3.0     6.2\ni1 15.0  2.01    20000  10.00   1700     0.07    0.06    3.5     6.5\ni1 18.0  2.01    20000  10.07   1700     0.08    0.05    3.0     6.5\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for RANDOM FREQUENCY MODULATION using oscillator and interpolating oscillator and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from RissetBrass.orc and RissetBrass.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; RISSET INSTRUMENT #200.orc \n; BRASS-LIKE SOUNDS THROUGH INDEPENDENT CONTROL OF HARMONICS\n\n                              \n          instr 1             ; RANDOM FREQUENCY MODULATION\ni1        =         .1*p4*p5\ngk1       randi     i1,p6\n          endin\n\n          instr 2             ; INSTRUMENTS 2-6 = PARTIALS 1-5 WITH\ni1        =         1/p3                     ; DIFFERENT ENVELOPES f2-f6\nk1        oscil     p4,i1,2\na1        oscili    k1,p5+gk1, 1\n          out       a1 * 8\n\ngk1       =         0\ngk1       init      0\n          endin\n\n          instr 3\ni1        =         1/p3\nk1        oscil     p4,i1,3\na1        oscili    k1,p5+gk1, 1\n          out       a1 * 8\n\ngk1       =         0\ngk1       init      0\n          endin\n\n          instr 4\ni1        =         1/p3\nk1        oscil     p4,i1,4\na1        oscili    k1,p5+gk1, 1\n          out       a1 * 8\n\ngk1       =         0\ngk1       init      0\n          endin\n\n          instr 5\ni1        =         1/p3\nk1        oscil     p4,i1,5\na1        oscili    k1,p5+gk1, 1\n          out       a1 * 8\n\ngk1       =         0\ngk1       init      0\n          endin\n\n          instr 6\ni1        =         1/p3\nk1        oscil     p4,i1,6\na1        oscili    k1,p5+gk1, 1\n          out       a1 * 8\n\ngk1       =         0\ngk1       init      0\n          endin\n\n          instr 7\ni1        =         p6/12500\ni2        =         p7/12500\n\na1        linen     p4,i1,p3,i2\na2        oscili    a1,p5+gk1,1\n          out       a2*8\n\ngk1       =         0\ngk1       init      0\n          endin\n\n</CsInstruments>\n<CsScore>\n; #200.sco Brass-like Sounds through independent control of harmonics\n\nf1 0 512 9 1 1 0\nf2 0 512 7 0 10 .001 16 .282 14 .112 389 .178 44 .159 27 .008 12 .001\nf3 0 512 7 0 19 .001 415 .5 20 .355 36 .016 22 .001\nf4 0 512 7 0 23 .001 412 .56 77 .001\nf5 0 512 7 0 10 .001 9 .005 399 .224 13 .224 27 .178 54 .001\nf6 0 512 7 0 10 .001 11 .009 12 .089 12 .022 28 .022 153 .112 38 .178 81 .071 123 .062 44 .001\n\ni1 0 .17 .6 554 10\ni7 0 .17 200 554 7.5 140\ni7 0 .17 160 1108 7.5 110\ni7 0 .17 350 1662 12 85\ni7 0 .15 310 2216 14 80\ni7 0 .14 160 2770 24 65\ni7 0 .14 200 3324 27 60\ni7 0 .14 99 3878 32 60\ni7 0 .14 200 4432 30 60\ni7 0 .14 80 4986 35 60\n\ni1 2 .15 .6 293 10\ni7 2 .15 50 293 10 140\ni7 2 .15 80 586 10 110\ni7 2 .15 100 879 12 85\ni7 2 .15 175 1172 17 80\ni7 2 .15 180 1465 25 65\ni7 2.01 .15 150 1758 30 60\ni7 2.01 .15 100 2051 35 60\ni7 2.01 .13 80 2344 35 60\ni7 2.01 .14 50 2637 40 100\ni7 2.01 .14 80 2930 45 100\ni7 2.01 .14 140 3223 45 100\ni7 2.01 .13 90 3516 45 100\ni7 2.01 .13 45 3809  40 100\ni7 2.01 .13 25 4102  45 90\n\ni1 4 .4 .4 784 20\ni2 4 .4 800 784\ni3 4 .4 800 1568\ni4 4 .4 800 2352\ni5 4 .4 800 3136\ni6 4 .4 800 3920\n\ni1 5 .7 .4 830 20\ni2 5 .7 1400 830\ni3 5 .7 1000 1660\ni4 5 .7 1000 2490\ni5 5 .7 1000 3320\ni6 5 .7 1000 4150\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1        oscil     1,1/p3,5 using oscillator and interpolating random and sample-and-hold random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from DODGEp100.orc and DODGEp100.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         8820\nksmps     =         5\nnchnls    =         1\n\n; THIS IS THE INSTRUMENT FROM DODGE&JERSE P.100, RISSET'S INHARMONIQUE \n\n\n          instr 1\na1        oscil     1,1/p3,5\n\n          ; P3 DURATION\n\na2        =         ampdb(p4)*a1\n\n          ; P4 PEAK AMPLITUDE\n\na3        oscil     100,1/p3,7\na4        randh     1,a3\na5        =         .2*a1\na6        =         a5*a4\na7        =         1+a6\na8        =         a7*p5\n\n          ; P5 BANDWIDTH\n\na9        randi     a2,a8\n\na10       =         a4*.2\na11       =         1+a10\na12       oscil     p6,1/p3,8\n\n          ; P6 CENTER FREQ\n\na13       =         a12*a11\na14       oscil     a9,a13,1\n          out       a14\n          endin\n\n\n\n\n\n</CsInstruments>\n<CsScore>\nScore for inharmonique (Dodge & Jerse p.100)\n\nf1 0 512 10 1\nf5 0 512 7 0 46 .166 31 1.0 46 .22 46 1.0 23 .38 10 1.0 10 .5 31 1.0 62 .5 118 .25 89 0\nf7 0 512 7 1.0 139 1.0 46 .55 93 .55 46 .5 46 .5 15 .27 127 .27 \n\nf8 0 512 7 1.0 201 1.0 311 .25\n\ni1 0 3 80 10 500\ni1 3 3 90 50 1000\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iphsoff \t=\t(65/5)*.01 using oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from dodgefig331.orc and dodgefig331.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t441\nksmps\t=\t\t100\nnchnls\t=\t\t1\n\n\n\n;;; DESIGN TO PRODUCE GRADUAL CHANGE OF OCTAVE, FROM RISSET ;;; FIGURE 3.31 FROM DODGE & JERSE, P.99 \n\n\n\t\tinstr 1\niphsoff \t=\t(65/5)*.01\n\nka1\t\t=\t\tp4\nkf1\t\t=\t\t1/p3\niph1 \t=\t\t0\nkamp1 \toscil \tka1,kf1,2,iph1\nkfreq1 \t=\t\tp5\nasig1 \toscil \tkamp1,kfreq1,1\n\nka2\t\t=\t\tp4\nkf2\t\t=\t\t1/p3\niph2 \t=\t\tiph1+iphsoff\nkamp2 \toscil \tka2,kf2,2,iph2\nkfreq2 \t=\t\tp5*2\nasig2 \toscil \tkamp2,kfreq2,1\n\nka3\t\t=\t\tp4\nkf3\t\t=\t\t1/p3\niph3 \t=\t\tiph2+iphsoff\nkamp3 \toscil \tka3,kf3,2,iph3\nkfreq3 \t=\t\tp5*3\nasig3 \toscil \tkamp3,kfreq3,1\n\nka4\t\t=\t\tp4\nkf4\t\t=\t\t1/p3\niph4 \t=\t\tiph3+iphsoff\nkamp4 \toscil \tka4,kf4,2,iph4\nkfreq4 \t=\t\tp5*4\nasig4 \toscil \tkamp4,kfreq4,1\n\nka5\t\t=\t\tp4\nkf5\t\t=\t\t1/p3\niph5 \t=\t\tiph4+iphsoff\nkamp5 \toscil \tka5,kf5,2,iph5\nkfreq5 \t=\t\tp5*5\nasig5 \toscil \tkamp5,kfreq5,1\n\nadd\t\t=\t\tasig1+asig2+asig3+asig4+asig5\nkenv \tlinseg \t0,p3/2,1,p3/2,0\naout \t=\t\tadd*kenv\n\t\tout\t\taout\n\t\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n;;; SCORE FOR 3.31\n\nf1 0 8192 10 1\nf2 0 128 8 0 .5 0 63.5 1 63.5 0 .5 0\n;p1 p2 p3\tp4 p5\n;inst start length amp freq\ni1 0.00 15.00 5000 100\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur\t\t =\t    p3 using oscillator and analog-style oscillator and modal synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from rezhilo.orc and rezhilo.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\nzakinit \t50, 50\n\n;---------------------------------------------------------------\n; LFO\n;---------------------------------------------------------------\n\t\t instr   \t5\n\nidur\t\t =\t    p3\niamp\t\t =\t    p4\nifqc\t\t =\t    p5\niwave\t =\t    p6\nioffset\t =\t    p7\nioutch\t =\t    p8\n\nksig\t\t oscil   iamp, ifqc, iwave\nkout\t\t =\t    ksig*.5+ioffset\n\t\t zkw\t    kout, ioutch\n\n\t\t endin\n\n;---------------------------------------------------------------\n; MOOG VCO WITH MIKLESON FILTER\n;---------------------------------------------------------------\n\t\t instr   12\n\nidur\t\t =\t    p3\t\t\t; DURATION\niamp\t\t =\t    p4\t\t\t; AMPLITUDE\nifqc\t\t =\t    cpspch(p5)\t\t; FREQUENCY\nirtfqc\t =\t    sqrt(ifqc)\t\t; SQUARE ROOT OF FREQUENCY\nifco\t\t =\t    p6*ifqc/500\t; FILTER CUT OFF (HIGHER FREQUENCIES GET A HIGHER CUT OFF)\nkrez\t\t init    p7\t\t\t; RESONANCE DOES NOT CHANGE IN THIS INSTRUMENT\niwave\t =\t    p8\t\t\t; SELECTED WAVE FORM 1=SAW, 2=SQUARE/PWM, 3=TRI/SAW-RAMP-MOD\nipwch\t =\t    p9\t\t\t; PWM CHANNEL\nipbend\t =\t    p10\t\t\t; PITCH BEND TABLE\nisine\t =\t    1\nimaxd\t =\t    1/ifqc*2\nimode\t =\t    p11\n\nileak\t =\t    (iwave==2 ? .999 : (iwave==3 ? .995 : .999)) ; LEAKY INTEGRATION VALUE\n\nkpw\t\t zkr\t    ipwch\t\t\t; READ THE ZAK MODULATION CHANNEL\nkpwn\t\t =\t    kpw-.5\t\t; GET A PULSE WIDTH THAT GOES FROM -.5 TO .5\nkfco\t\t expseg  100+.1*ifco, .2*idur, ifco+100, .5*idur, ifco*.1+100, .3*idur, .1*ifco+100 ; Filter envelope\nkpbend\t oscil   1, 1/idur, ipbend  ; Pitch bend\nkamp\t\t linseg  0, .01*idur, iamp, .2*idur, .8*iamp, .59*idur, .5*iamp, .2*idur, 0\t\t  ; Amp envelope\nkfqc\t\t =\t    ifqc*kpbend\n\nasig\t\t vco\t    1, kfqc, iwave, kpw, isine, imaxd\naout\t\t rezzy   asig, kfco*kpbend, krez, imode\t\t\t    ; APPLY THE FILTER\n\n\t\t outs    aout*kamp, asig*iamp\t\t\t\t\t    ; STEREO OUPUT AND AMPLIFICATION\n\t\t endin\n\n</CsInstruments>\n<CsScore>\nf1 0 16384 10 1\nf2 0 1024  -7 1 256 1 56 2 200 2 56 1.5 200 1.5 56 1 200 1\nf3 0 1024  -7 1 1024 1\n\n\n; LFO NOTE 0<PWM<1\n;   STA  DUR  AMP  FQC  WAVE  OFFSET  OUTCH\ni5  0    2    .9   .5   1     .5       1\n\n; SYNTH WAVE 1=SAW, 2=SQUARE/PWM, 3=TRI/SAW-RAMP-MOD\n;   STA  DUR  AMP   PITCH  FCO   REZ  WAVE  PULSEWCH  PBEND  MODE\ni12 0.0  .6   10000 7.00   8000  10   1     1         3      0\ni12 0.5  .    .     6.03   .     .    2     .         .      0\ni12 1.0  .    .     8.05   .     .    2     .         .      0\ni12 1.5  .    .     7.07   .     .    3     .         .      0\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using oscillator and Karplus-Strong plucked string and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from hvyguit.orc and hvyguit.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n;------------------------------------------------------------------------------\n; HEAVY GUITAR BY HANS MIKELSON\n;------------------------------------------------------------------------------\nzakinit   50, 50\n\n\n;------------------------------------------------------------------------------\n; PLUCKED INSTRUMENT\n;------------------------------------------------------------------------------\n        instr   1\n\nidur      =         p3                                 ; DURATION\niamp      =         p4                                 ; AMPLITUDE\nipch      =         cpspch(p5)                         ; PITCH\nitab1     =         p6\nioutch    =         p7                                 ; OUT CHANNEL\n\nasig      pluck     iamp, ipch, ipch, itab1, 1         ; GENERATE A PLUCKED TONE\n          zawm      asig, ioutch                       ; MIX TO THE ZAK CHANNEL\n\n          endin\n\n;------------------------------------------------------------------------------\n; DISTORTION\n;------------------------------------------------------------------------------\n          instr     10\n\nidur      =         p3\nkpregn    =         p4/1000                          ; PREGAIN/OVERDRIVE\nkpostg    =         p5*20000                         ; POSTGAIN/VOLUME\nka1       =         (p6-.5)/8000                     ; SHAPE 1 0=FLAT\nka2       =         (p7-.5)/8000                     ; SHAPE 2\niinch     =         p8                               ; INPUT CHANNEL\nioutch    =         p9                               ; OUTPUT CHANNEL\nioutlvl   =         p10                              ; OUTPUT LEVEL\n                    \nkdclick   linseg    0, .002, 1, idur-.004, 1, .002, 0  ; DECLICK ENVELOPE\n\nasig      zar       iinch\n\nax1       =         asig*(kpregn+ka1)                ; PRECALCULATE A FEW VALUES TO SAVE TIME\nax2       =         -asig*(kpregn+ka2)\nax3       =         asig*kpregn\n\naout      =         (exp(ax1)-exp(ax2))/(exp(ax3)+exp(-ax3))*kpostg  ; MODIFIED TANH DISTORTION\n\n          zaw       aout*kdclick, ioutch         ; OUTPUT THE RESULT\n          outs      aout*kdclick*ioutlvl, aout*kdclick*ioutlvl   ; OUTPUT THE RESULT\n\n          endin\n\n;---------------------------------------------------------------------------\n; WAH-WAH\n;---------------------------------------------------------------------------\n          instr     16\n\nirate     =         p4                ; AUTO WAH RATE\nidepth    =         p5                ; LOW PASS DEPTH\nilow      =         p6                ; MINIMUM FREQUENCY\nifmix     =         p7/1000           ; FORMANT MIX\nitab1     =         p8                ; WAVE FORM TABLE\nizin      =         p9                ; INPUT CHANNEL\n     \nkosc1     oscil     .5, irate, itab1, .25        ; OSCILATOR\nkosc2     =         kosc1 + .5                   ; RESCALE FOR 0-1\nkosc3     =         kosc2                        ; FORMANT DEPTH 0-1\n     \nklopass   =         idepth*kosc2+ilow            ; LOW PASS FILTER RANGE\nkform1    =         430*kosc2 + 300              ; FORMANT 1 RANGE\nkamp1     =         ampdb(-2*kosc3 + 59)*ifmix   ; FORMANT 1 LEVEL\nkform2    =         220*kosc2 + 870              ; FORMANT 2 RANGE\nkamp2     =         ampdb(-14*kosc3 + 55)*ifmix  ; FORMANT 2 LEVEL\nkform3    =         200*kosc2 + 2240             ; FORMANT 3 RANGE\nkamp3     =         ampdb(-15*kosc3 + 32)*ifmix  ; FORMANT 3 LEVEL\n\nasig      zar       izin                       ; READ INPUT CHANNEL\n\nafilt     butterlp  asig, klopass               ; LOW PASS FILTER\n\nares1     reson     afilt, kform1, kform1/8     ; COMPUTE SOME FORMANTS\nares2     reson     afilt, kform2, kform1/8     ; TO ADD CHARACTER TO THE\nares3     reson     afilt, kform3, kform1/8     ; SOUND\n\naresbal1  balance   ares1, afilt                ; ADJUST FORMANT LEVELS\naresbal2  balance   ares2, afilt\naresbal3  balance   ares3, afilt\n\naout      =         afilt+kamp1*aresbal1+kamp2*aresbal2+kamp3*aresbal3\n\n          outs      aout, aout\n\n          endin\n\n;------------------------------------------------------------------------------\n; CLEAR ZAK\n;------------------------------------------------------------------------------\n          instr     99\n          zacl      0, 50\n          zkcl      0, 50\n          endin\n\n</CsInstruments>\n<CsScore>\n;------------------------------------------------------------------------------\n; HEAVY GUITAR BY HANS MIKELSON\n;------------------------------------------------------------------------------\nf1 0 8192 10 1\nf2 0 8192 11 20\n\n; PLUCK\n;    Sta  Dur  Amp    Pitch  Table  OutCh\ni1   0    .4  10000  7.00   0      1\ni1   0    .4  10000  7.07   .      .\n;i1   0    .4  10000  8.05   .      .\n\n; DISTORTION\n;    Sta  Dur  PreGain  PostGain  Shape1  Shape2  InCh  OutCh  Output\ni10  0    .4   1        .5        .01     0       1     2      .5\n\n; AUTO-WAH\n;    Sta  Dur  Rate  Depth  MinFqc  FmntMix  WaveShape  InCh\ni16  0    .4   1.25  4000   200     .5       1          2\n\n; ZAK CLEAR\ni99  0    .4\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for p3        =         p3+p9 using oscillator and buzz/pulse generator and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from rick.orc and rick.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\ninstr     1\n\np3        =         p3+p9\nidur      =         p3\niamp      =         p4\nifqc      =         cpspch(p5)\niatk      =         p6\nidec      =         p7\nisus      =         p8\nirel      =         p9\nilfowv    =         p10\nilfort    =         p11\n\nkrez      =         8\n\n; LFO\nif   (ilfowv = 0)   goto next1\n  alfo1   oscil     1, ilfort, ilfowv\n  goto    cont1\n\nnext1:\n  alfo2   randh     .5, ilfort\n  alfo1   =         alfo2+.5\n\ncont1:\nalfo      butterlp  alfo1, 1000\nkfco      downsamp  alfo*2000+200\n\n; VCA\nkamp      linseg    0, iatk, iamp, idec, isus*iamp, idur-iatk-idec-irel, isus*iamp, irel, 0\n\napulse    buzz      1,ifqc, sr/2/ifqc, 1     ; AVOID ALIASING\nasaw      integ     apulse\naxn       =         asaw-.5\n\n; RESONANT LOWPASS FILTER (4 POLE)\nifqcadj   =         .149659863*sr\nkc        =         ifqcadj/kfco\nkrez2     =         krez/(1+exp(kfco/11000))\nka1       =         kc/krez2-1\nkasq      =         kc*kc\nkb        =         1+ka1+kasq\n\nayn       nlfilt    axn/kb, (ka1+2*kasq)/kb, -kasq/kb, 0, 0, 1\nayn2      nlfilt    ayn/kb, (ka1+2*kasq)/kb, -kasq/kb, 0, 0, 1\n\n\n          outs      ayn2*kamp, alfo*2000+200\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1   0    8192      10   1\nf2   0    1024      -7   1    1024      0\nf3   0    1024      -7   1    512       1    0    512  0\n\n;    STA  DUR       AMP       PITCH  ATKTIME      DECTIME   SUSLEVEL  RELTIME   LFOWAVE   LFORATE\ni1   0.0  4         20000     7.00   .1           .1        .7        1         0         4\ni1   +    .         20000     7.03   .            .         .         .         0         .\ni1   .    .         20000     7.06   .            .         .         .         2         .\ni1   .    .         20000     6.09   .            .         .         .         2         .\ni1   .    .         20000     6.10   .            .         .         .         3         .\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur    =       p3              \t\t\t; DURATION using oscillator and analog-style oscillator and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from vco.orc and vco.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n\n;---------------------------------------------------------------\n; VCO\n;---------------------------------------------------------------\n        instr   10\n\nidur    =       p3              \t\t\t; DURATION\niamp    =       p4              \t\t\t; AMPLITUDE\nifqc    =       cpspch(p5)      \t\t\t; FREQUENCY\niwave   =       p6              \t\t\t; SELECTED WAVE FORM 1=Saw, 2=Square/PWM, 3=Tri/Saw-Ramp-Mod\nisine   =       1\nimaxd   =       1/ifqc*2        \t\t\t; ALLOWS PITCH BEND DOWN OF TWO OCTAVES\n\nkpw1    oscil   .25, ifqc/200, 1\nkpw     =       kpw1 + .5\n\nasig    vco     iamp, ifqc, iwave, kpw, 1, imaxd\n\n        outs    asig, asig              \t; OUPUT AND AMPLIFICATION\n\n        endin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 65536 10 1\n\n;    Sta  Dur  Amp    Pitch  Wave\n;=================================\ni10  0    2    20000  5.00   1\ni10  +    .    .      .      2\ni10  .    .    .      .      3\n\ni10  .    2    20000  7.00   1\ni10  .    .    .      .      2\ni10  .    .    .      .      3\n\ni10  .    2    20000  9.00   1\ni10  .    .    .      .      2\ni10  .    .    .      .      3\n\ni10  .    2    20000 11.00   1\ni10  .    .    .      .      2\ni10  .    .    .      .      3\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for 4-Tap Delay with Autopans using delay effect and panning and oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from PanningDelay.orc and PanningDelay.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 2\n\n\ninstr    1 ; 4-Tap Delay with Autopans\n\nilevl    = p4      ; Output level\nitap1    = p5/1000 ; Tap1 delay in ms\nitap2    = p6/1000 ; Tap2 delay in ms\nitap3    = p7/1000 ; Tap3 delay in ms\nitap4    = p8/1000 ; Tap4 delay in ms\nifdbk1   = p9      ; Tap1 feedback\nifdbk2   = p10     ; Tap2 feedback\nifdbk3   = p11     ; Tap3 feedback\nifdbk4   = p12     ; Tap4 feedback\nirate1   = p13     ; Tap1 pan rate\nirate2   = p14     ; Tap2 pan rate\nirate3   = p15     ; Tap3 pan rate\nirate4   = p16     ; Tap4 pan rate\nifdbk    = p17/4   ; Master feedback\n\natap1    init 0\natap2    init 0\natap3    init 0\natap4    init 0\n\nain      soundin  \"Marimba.aif\"\n\nafdbk    = (atap1 + atap2 + atap3 + atap4)*ifdbk\n\nafdbk1   = atap1*ifdbk1\nafdbk2   = atap2*ifdbk2\nafdbk3   = atap3*ifdbk3\nafdbk4   = atap4*ifdbk4\n\napan1    oscil  .5, irate1, 1\napan2    oscil  .5, irate2, 1\napan3    oscil  .5, irate3, 1\napan4    oscil  .5, irate4, 1\n\napan1    = apan1 + .5\napan2    = apan2 + .5\napan3    = apan3 + .5\napan4    = apan4 + .5\n\natap1    delay  ain + afdbk1, itap1, itap1\natap2    delay  ain + afdbk2, itap2, itap2\natap3    delay  ain + afdbk3, itap3, itap3\natap4    delay  ain + afdbk4, itap4, itap4\n\nal       = atap1*sqrt(apan1) + atap2*sqrt(1-apan2)\nar       = atap1*sqrt(1-apan1) + atap2*sqrt(apan2)\nal       = al + atap3*sqrt(apan3) + atap4*sqrt(1-apan4)\nar       = ar + atap3*sqrt(1-apan3) + atap4*sqrt(apan4)\n\nouts     ain + al*ilevl, ain + ar*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 10 1 ; Sine\n\n;Delay in ms\n;   Strt Leng Levl Dly1 Dly2 Dly3 Dly4 Fbk1 Fbk2 Fbk3 Fbk4 Rte1 Rte2 Rte3 Rte4 Fdbk\ni1  0.00 8.00 0.75 1260  750 1000  810 0.75 0.75 0.75 0.75 1.00 0.70 1.30 1.20 0.25\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Dual 3-Phase BBD Ensemble. using oscillator and marimba physical model and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Ensemble.orc and Ensemble.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 2\n\n\ninstr    1 ; Dual 3-Phase BBD Ensemble.\n\nilevl    = p4/2    ; Output level\nidepth   = p5/1000 ; Depth factor\nirate1   = p6      ; LFO1 rate\nirate2   = p7      ; LFO2 rate\nirate3   = p8      ; LFO3 rate\nirate4   = p9      ; LFO4 rate\nimin     = 1/kr    ; Minimum delay\n\nain      soundin  \"Marimba.aif\"\n\nidepth1  = idepth*(1/irate1)\nidepth2  = idepth*(1/irate2)\nidepth3  = idepth*(1/irate3)\nidepth4  = idepth*(1/irate4)\nalfo1a   oscil  idepth1, irate1, 1\nalfo1b   oscil  idepth1, irate1, 1, .3333\nalfo1c   oscil  idepth1, irate1, 1, .6667\nalfo2a   oscil  idepth2, irate2, 1\nalfo2b   oscil  idepth2, irate2, 1, .3333\nalfo2c   oscil  idepth2, irate2, 1, .6667\nalfo3a   oscil  idepth3, irate3, 1\nalfo3b   oscil  idepth3, irate3, 1, .3333\nalfo3c   oscil  idepth3, irate3, 1, .6667\nalfo4a   oscil  idepth4, irate4, 1\nalfo4b   oscil  idepth4, irate4, 1, .3333\nalfo4c   oscil  idepth4, irate4, 1, .6667\nax       delayr  1\nabbd1        deltapi  alfo1a + alfo2a + imin\nabbd2        deltapi  alfo1b + alfo2b + imin\nabbd3    deltapi  alfo1c + alfo2c + imin\nabbd4    deltapi  alfo3a + alfo4a + imin\nabbd5    deltapi  alfo3b + alfo4b + imin\nabbd6    deltapi  alfo3c + alfo4c + imin\n         delayw  ain\nouts1    (abbd1 + abbd2 + abbd3)*ilevl\nouts2    (abbd4 + abbd5 + abbd6)*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8193 19 1 1 0 1 ; Unipolar sine\n\n;   Strt  Leng  Levl  Depth Rate1 Rate2 Rate3 Rate4\ni1  0.00  1.47  1.00  2.50  0.72  13.2  0.81  14.7\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 60_22_3.orc and 60_22_3.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:      60_22_3.ORC\n; synthesis:  phase vocoder(60)\n;             ktimpnt variable(22)\n;             pointer control by LFO, santur1.pvc(3)\n; coded:      jpg 12/93\n\n\n\n\ninstr 1; *****************************************************************\nidur    = p3\nifildur = 5   ; original audio file length\n\n   ktimpnt   oscil  ifildur/20, .25, 1, .75\n   ktimpnt   =      ktimpnt + ifildur/2\n   aout      pvoc   ktimpnt, 1.0, \"santur1.pvc\"\n             out    aout\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:   60_22_3.SCO\n; coded:   jpg 12/93  \n\n\n; GEN functions **********************************************************\nf1  0  1024  10 1   ; sinus\n\n\n; score ******************************************************************\n;         idur\n\ni1    0     5      \ne\n\n\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for p4      =         CARRIER FREQUENCY using FM synthesis and oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from BASICFM.ORC and BASICFM.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; basicfm.orc\n\n; THIS INSTRUMENT IMPLEMENTS SIMPLE FREQUENCY MODULATION TO PRODUCE TIME-VARYING SPECTRA.\n\n\n          instr 1\n\n; p4      =         CARRIER FREQUENCY\n; p5      =         AMPLITUDE\n; p6      =         FM FACTOR\n; p7      =         \n\ni1        =         1/p3                     ; ONE CYCLE PER DURATION OF NOTE\ni2        =         cpspch(p4)               ; CONVERTS PCHCLASS NOTATION TO Hz\ni3        =         i2 * p6                  ; i3 IS THE MODULATING FREQUENCY\ni4        =         i3 * p7                  ; i4 IS THE MAXIMUM FREQUENCY DEVIATION\n\nampenv    oscil     p5,i1,1                  ; AMPLITUDE ENVELOPE FOR THE CARRIER\nampdev    oscil     i4,i1,1                  ; ENVELOPE APPLIED TO FREQUENCY DEVIATION\namod      oscili    ampdev,i3,3              ; MODULATING OSCILLATOR\nasig      oscili    ampenv,i2+amod,3         ; CARRIER OSCILLATOR\n          out       asig\n          endin\n\n\n</CsInstruments>\n<CsScore>\n; basicfm.s\n\n; exponentially decaying amplitude envelope for carrier signal\nf1      0       512     5       1       512     .001\n\n; amplitude envelope for frequency modulation\nf2      0       512     7       1       64      0       448     0\n\n; waveform of carrier signal\nf3      0       512     9       1       1       0\n\n\n;       start   dur     carrier_freq    amp     fm_factor       mod_index\ni1      1       5       7.06            25000   1               4\ni1      7       5       7.06            .       1.414           4\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =          p3 using oscillator and FM synthesis and panning", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from scifi.orc and scifi.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n;------------------------------------------------------------------\n; INDUSTRY\n; BY HANS MIKELSON APRIL 1998\n;------------------------------------------------------------------\n; ORCHESTRA\n          \n\n;------------------------------------------------------------------\n; SCIFI EFFECTS\n;------------------------------------------------------------------\n          instr      6\n\nidur      =          p3\niamp      =          p4\nifqc      =          cpspch(p5)\nirattab   =          p6\niratrat   =          p7\nipantab   =          p8\nimixtab   =          p9\nilptab    =          p10\nimodf     =          p11\nimodl     =          p12\n\nkpan      oscil      1, 1/idur, ipantab                     ; PANNING\nkmix      oscil      1, 1/idur, imixtab                     ; FADING\nkloop     oscil      1, 1/idur, ilptab                      ; LOOPING\n\nloop1:\nkprate    oscil      1, iratrat/kloop, irattab              ; PULSE RATE\n\n;                Amp   Fqc          Car   Mod    MAmp    Wave\naout      foscil   iamp, ifqc*kprate, 1,    imodf, imodl,  1    ; FM SOURCE\n\n;       WHEN THE TIME RUNS OUT REINITIALIZE\n          timout     0, i(kloop), cont1\n          reinit     loop1\ncont1:\n\n          outs       aout*sqrt(kpan)*kmix, aout*sqrt(1-kpan)*kmix ; OUTPUT PAN & FADE\n\n          endin\n\n\n</CsInstruments>\n<CsScore>\n; SCORE\nf1 0 8192 10 1 ; SINE\n\n; PULSE TABLES\nf10\t0 1024   7  0 256 0 256 1 256 0 256 0\nf11 0 1024   7\t 0 256 0 128 0 128 1 128 0 128 0 256 0\nf12 0 1024   7\t 0 512 1 512 0\n; RATE TABLES\nf20\t0 1024  -5  100  512  1000  512 100\nf21\t0 1024  -5  10\t 1024 1000\nf22\t0 1024  -5  100  512  10000 512  30\nf23\t0 1024  -5  25\t 1024  62\nf24\t0 1024  -7  500  1024  62\nf25\t0 1024  -5  5000 1024  100\nf26\t0 1024  -7  50\t  512  500 512 50\nf27\t0 1024  -5  .5\t  512  2 512 .5\nf28\t0 1024  -5  .5\t  1024 4\nf29\t0 1024  -7  .5\t  250 .5 6 2 250 2 6 1 250 1 6 4 256 .5\nf50\t0 1024  -5  1.5  150 .75 106 2 200 2 56 1.75 200 1 56 4 256 .5\n; PAN TABLES\nf30\t0 1024  7\t 0  1024\t1\nf31\t0 1024  7\t 1  1024\t0\nf32\t0 1024  7\t 1 512  0 512 1\nf33\t0 1024  -7 .5 1024 .5\n; MIX TABLES\nf40\t0 1024  5\t .01 256 1 512 1 256 .01\nf41\t0 1024  7\t 0 200 1 624 1 200 0\nf42\t0 1024  5\t 1 1024 1\n\n; GENERATE SCI-FI SOUNDS\n;   Sta  Dur  Amp\tPitch  RtTab  RtRt\tPanTab  MixTab\t Loop  FMFqc FMAmp\ni6  0    4   8000\t6.07\t  50\t    2\t30\t   41\t 42\t  2\t   6\ni6  5    4   8000\t8.00\t  29\t    2\t31\t   41\t 42\t  2\t   6\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using oscillator and analog-style oscillator and Moog VCF filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fscore.orc and fscore.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n          instr  1\n\nidur      =         p3\niamp      =         p4\nifqc      =         p5\nipan      =         p6\n\nkamp      linseg    0, idur/2, iamp, idur/2, 0\naout      oscil     kamp, ifqc, 1\n          outs      aout*sqrt(ipan), aout*sqrt(1-ipan)\n\n          endin\n\n          instr   2\n\nidur      =         p3\niamp      =         p4\nifqc      =         p5\nipan      =         p6\nkrez      init      1\n\nkfco      linseg    200, .05, 5000, idur-.05, 200\nkamp      linseg    0, .01, iamp, idur-.01, 0\n\nasig      vco       1, ifqc, 0, .5, 1, 1/ifqc\naflt      moogvcf   asig, kfco, krez, 1\n\n          outs      aflt*sqrt(ipan)*kamp, aflt*sqrt(1-ipan)*kamp\n\n          endin\n\n          instr   3\n\nidur      =         p3\niamp      =         p4\nifqc      =         p5\nipan      =         p6\nifco      =         p7\nkrez      init      p8\n\nkfco      linseg    200+ifco/100, .05, ifco, idur-.05, 200+ifco/100\nkamp      linseg    0, .01, iamp, idur-.01, 0\n\nasig      vco       1, ifqc, 0, .5, 1, 1/ifqc\naflt      moogvcf   asig, kfco, krez, 1\n\n          outs      aflt*sqrt(ipan)*kamp, aflt*sqrt(1-ipan)*kamp\n\n          endin\n\n\n</CsInstruments>\n<CsScore>\n; SINE TABLE\nf1 0 8192 10 1\n\ni3 0 0.1 40000 200 0.5 400 0.8\ni3 0.1 0.1 27980 260 0.1995 6400 1.2\ni3 0.2 0.1 41520 223.8 0.538 2780 1.2\ni3 0.3 0.1 34800 264.4 0.37 6840 1.2\ni3 0.4 0.1 31080 244.4 0.277 4840 1.2\ni3 0.5 0.1 26940 233.2 0.1735 3720 1.2\ni3 0.6 0.1 39940 220.8 0.4985 2480 1.2\ni3 0.7 0.1 25740 259.8 0.1435 6380 0.8\ni3 0.8 0.1 43660 217.2 0.5915 2120 1.2\ni3 0.9 0.1 40920 270.8 0.523 7480 1.2\ni3 1 0.1 23540 262.6 0.0885 6660 1.2\ni3 1.1 0.1 32840 210.6 0.321 1460 1.2\ni3 1.2 0.1 27380 238.4 0.1845 4240 1.2\ni3 1.3 0.1 40020 222 0.5005 2600 1.2\ni3 1.4 0.1 25860 260 0.1465 6400 1.2\ni3 1.5 0.1 43580 217.6 0.5895 2160 1.2\ni3 1.6 0.1 40720 270.6 0.518 7460 1.2\ni3 1.7 0.1 22980 262 0.0745 6600 1.2\ni3 1.8 0.1 33140 208.8 0.3285 1280 1.2\ni3 1.9 0.1 26980 239.4 0.1745 4340 1.2\ni3 2 0.1 40520 220.8 0.513 2480 1.2\ni3 2.1 0.1 27380 261.4 0.1845 6540 1.2\ni3 2.2 0.1 42320 222 0.558 2600 1.2\ni3 2.3 0.1 37120 266.8 0.428 7080 1.2\ni3 2.4 0.1 26160 251.2 0.154 5520 1.2\ni3 2.5 0.1 32180 218.4 0.3045 2240 1.2\ni3 2.6 0.1 31420 236.4 0.2855 4040 1.2\ni3 2.7 0.1 34500 234.2 0.3625 3820 1.2\ni3 2.8 0.1 28700 243.4 0.2175 4740 1.2\ni3 2.9 0.1 39040 226 0.476 3000 1.2\ni3 3 0.1 22760 257 0.069 6100 1.2\ni3 3.1 0.1 45160 208.2 0.629 1220 1.2\ni3 3.2 0.1 45180 275.4 0.6295 7940 1.2\ni3 3.3 0.1 36880 275.4 0.422 7940 1.2\ni3 3.4 0.1 27520 250.6 0.188 5460 1.2\ni3 3.5 0.1 30940 222.6 0.2735 2660 1.2\ni3 3.6 0.1 29320 232.8 0.233 3680 1.2\ni3 3.7 0.1 37180 228 0.4295 3200 1.2\ni3 3.8 0.1 22100 251.4 0.0525 5540 1.2\ni3 3.9 0.1 44840 206.2 0.621 1020 1.2\ni3 4 0.1 42560 274.4 0.564 7840 1.2\ni3 4.1 0.1 28180 267.6 0.2045 7160 1.2\ni3 4.2 0.1 28540 224.4 0.2135 2840 1.2\ni3 4.3 0.1 32420 225.6 0.3105 2960 1.2\ni3 4.4 0.1 31720 237.2 0.293 4120 1.2\ni3 4.5 0.1 34080 235 0.352 3900 1.2\ni3 4.6 0.1 29600 242.2 0.24 4620 1.2\ni3 4.7 0.1 37760 228.8 0.444 3280 1.2\ni3 4.8 0.1 20780 253.2 0.0195 5720 1.2\ni3 4.9 0.1 45280 202.2 0.632 620 1.2\ni3 5 0.1 44500 275.8 0.6125 7980 1.2\ni3 5.1 0.1 34480 273.4 0.362 7740 1.2\ni3 5.2 0.1 22020 243.4 0.0505 4740 1.2\ni3 5.3 0.1 35360 206 0.384 1000 1.2\ni3 5.4 0.1 22860 246 0.0715 5000 1.2\ni3 5.5 0.1 44020 208.4 0.6005 1240 1.2\ni3 5.6 0.1 39580 272 0.4895 7600 1.2\ni3 5.7 0.1 20360 258.6 0.009 6260 1.2\ni3 5.8 0.1 34100 201 0.3525 500 1.2\ni3 5.9 0.1 26160 242.2 0.154 4620 1.2\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for asig      oscil     10000, 440, 3 using oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pm1.orc and pm1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n         instr 2\nasig      oscil     10000, 440, 3\n          out       asig\n          endin\n\n;\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\n          instr 1             ; MASS LINKED TO GROUND (DAMPED SINE WAVE)\n; coded by Josep M Comajuncosas / gelida@intercom.es\n;\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\n\ni2pi2     =         39.47841760436; (2pi)^2\n\n; SET INITIAL POSITION AND VELOCITY OF THE MASS\niv0       =         0\nix0       =         10000\n\n; SET FREQUENCY, Z AND M\nifreq     =         cpspch(p4)\niz        =         p5\nim1       =         30\n\n; NORMALIZE (DONÂ´T TOUCH THIS!)\niz        =         iz/(1000000000*sr)       ; Z GIVEN IN N*s/(kg*10e-9)\nim1       =         im1/1000000000           ; MASS GIVEN IN kg*10e-9\n\n; CALCULATE K ACCORDING TO GIVEN FREQ\nik        =         i2pi2*ifreq*ifreq*im1\nik        =         ik/(sr*sr)\n\nax1       init      ix0\naxprev1   init      ix0-1000*iv0/sr\n\n; CALCULATE ACTUAL FORCE AND THEN NEXT POSITION\naf1       =         ik*(-ax1) + iz*(-(ax1-axprev1))\nanext1    =         af1/im1 + 2*ax1-axprev1\n\n          out       anext1\n\n; PREPARE FOR NEXT PASS\naxprev1   =         ax1\nax1       =         anext1\n\n          endin\n\n</CsInstruments>\n<CsScore>\n;      freq  damping\ni1 0 2 8.00  5000\ni1 2 2 8.00  1000\ni1 4 2 8.00  200\ni1 6 2 8.00  50\ni1 8 2 8.00  10\n\ns\ni1 0 2 6.00  100\ni1 2 2 7.00  100\ni1 4 2 8.00  100\ni1 6 2 9.00  100\ni1 8 2 10.00 100\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ims\t\t=\t\t4 using flanger effect and oscillator and variable delay", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from flang.orc and flang.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\nims\t\t=\t\t4\nidur\t=\t\t1/p4\na1\t\toscil\t20000, idur, 1\nk1\t\tline\t1, p3, 32\na2\t\toscil\tims, k1/p3, 2\na3\t\tvdelay\ta1, a2, ims\na4\t\tvdelay\ta3, a2, ims\na5\t\tvdelay\ta4, a2, ims\na6\t\tvdelay\ta5, a2, ims\n\t\tout\t\t(a1+a3+a4+a5+a6)/2\n\t\tendin\n\n\t\tinstr 2\nims\t\t=\t\t7\na1\t\trand\t20000\nk1\t\tline\t.1, p3, 16\na2\t\toscil\tims, k1/p3, 2\na3\t\tvdelay\ta1, a2, ims\na4\t\tvdelay\ta3, a2, ims\na5\t\tvdelay\ta4, a2, ims\na6\t\tvdelay\ta5, a2, ims\n\t\tout\t\t(a1+a3+a4+a5+a6)/2\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 65536 1 \"noisloop.aif\" 0.01 1 1\nf2 0 1024 -8 .1 512 .9 512 .1\n\nf0 1\nf0 3\nf0 5\nf0 7\nf0 9\nf0 11\nf0 13\nf0 15\nf0 17\nf0 19\n\ni2 0 20\ni1 21 6 2\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for VOLTAGE CONTROL AMPLIFIER using oscillator and buzz/pulse generator and Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from king6.orc and king6.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n;-------------- \"PINK AND BLUE\" ----------------------\n                    \n\n          instr 1\n                    \n;VOLTAGE CONTROL AMPLIFIER\nirub      =         p4\nkline     linseg    1,0.03,1500, p3,800,p3/2,0\nkramp     line      1, p3, 1011 \n\n;FREQUENCY MODULATOR\ni1        =         p5\nislide    =         p7\ni2        =         p6\nk1        phasor    i1\nk3        phasor    i2\nkpch      table     k1 * 4, 1\nkpch2     table     k1 * 4, 3 \nkpch3     table     k1 * 4, 5\nkpch4     table     k3 * 4, 7 \nkpch5     table     k3 * 4,10\nkbw       table     k1 * 4, 9\n\n;VOLTAGE CONTROL OSCILATOR\na1        oscil     kline*islide, cpspch(kpch*irub), 2 \na2        oscil     kline, cpspch(kpch2*irub), 4\na3        oscil     kline,cpspch(kpch*irub),2\na3a       buzz      kramp, cpspch(kpch3), 3, 6\nk2        =         cpspch(kpch4)\nkrand     randh     1,10 \na4        oscil     kline, cpsoct(krand+k2), 8\na5        pluck     kline+1500, cpspch(kpch4),1760 , 0, 1\na6        pluck     kline+1500, cpspch(kpch5),1760 , 0, 1\n\n;VOLTAGE CONTROL FILTER\na3b       balance   a3a, a1\na4b       balance   a4, a1    \na1l       =         a6 + a3b + a2\na1r       =         a5 + a4b + a3\naleft     balance   a1l, a1\nasig1     tone      aleft, 440\naright    balance   a1r, a1\nasighi    atone     aright, 440 \nasig2     reson     asighi, 1760, 2000 \n          outs      asig1,asig2\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 64 2 8.04  5.07 9.09 7.10  \nf2 0 8192 10  0 10 0 \nf3 0 64 2 4.10 10.09 7.10 9.09  \nf4 0 8192 10  10  0  10\nf5 0 64  2  8.09  9.01 4.05  10.03 \nf6 0 2049  10    7    3   0\nf7 0 64 2  8.04  5.02 9.04  10.07  \nf8 0 2049 10  0  2.5  5  10 0\nf9 0 64 2 400 40  4  0.4  0.04\nf10 0 64 2 10.05  11.01 10.05  10.03  \n\nt 0 180 4 150 6 90 8 60\n\n;p1 p2 p3  p4\t\tp5\tp6        p7\n;I ON DUR  RUB      PHASE 1  PHASE 2  AMP SLIDE \ni1 0 8   4.58697   \t4\t4         1\ni1 4 6   1.237475\t2\t1         >\ni1 6 5   3.5982\t\t1\t3         >\ni1 7 4   1.4\t\t3\t2         3\ni1 8 3   2.5868\t\t2\t5         1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a inflmaskingnoisepitch sound using noise generation and pitch and oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from InflMaskingNoisePitch.orc and InflMaskingNoisePitch.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\n\n;******************   INFLUENCE OF MASKING NOISE ON PITCH   *******************\n; THE PITCH OF A TONE IS INFLUENCED  BY THE PRESENCE OF MASKING NOISE OR ANOTH-\n; ER TONE NEAR TO IT IN FREQUENCY. IF THE INTERFERING TONE HAS A LOWER FREQUENCY\n; AN UPWARD SHIFT IN THE TEST TONE IS ALWAYS OBSERVED. IF THE INYTERFERING TONE\n; HAS A HIGHER FREQUENCY, A DOWNWARD SHIFT IS OBSERVED, AT LEAST AT LOW FRE-\n; QUENCY (< 300HZ). SIMILARLY, A BAND OF INTERFERING NOISE PRODUCES AN UPWARD\n; SHIFT IN A TEST TONE IF THE FREQUENCY OF THE NOISE IS LOWER.\n; IN THIS DEMONSTRATION, A 1000HZ TONE, 500MS IN DURATION AND PARTIALLY MASKED\n; BY NOISE LOW-PASS FILTERED AT 900HZ, ALTERNATES WITH AN IDENTICAL TONE, PRE-\n; SENTED WITHOUT MASKING NOISE. THE TONE PARTIALLY MASKED BY NOISE OF LOWER FRE-\n; QUENCY APPEARS SLIGHTLY HIGHER IN PITCH (DO YOU AGREE?). WHEN THE NOISE IS\n; TURNED OFF, IT IS CLEAR THAT THE TWO TONES WERE IDENTICAL.\n\n;*****************************   HEADER   *************************************\n\n\n\n \n instr         1\n\n iamp          =         ampdb(p4)                ;P4 = AMPLITUDE IN DB \n ifreq         =         p5                       ;P5 = FREQUENCY\n \n k1            linen     iamp,.01,p3,.01         \n a1            oscili    k1,ifreq,1             \n               outs      a1,a1\n endin  \n\n \n \n instr         2\n \n iamp          =         ampdb(p4)                ;P4 = AMPLITUDE IN DB\n ifc           =         p5                       ;P5 = FREQUENCY\n\n\n k1            linen     iamp,.01,p3,.01\n anoise        randi     k1, .5 * ifc             ; NOISE WITH A BANDWIDTH FROM 400HZ - 1200HZ\n a1            oscil     anoise, ifc, 1\n               outs      a1,a1\n endin\n \n\n</CsInstruments>\n<CsScore>\n\nf1 0 512 10 1                                               ; SINE WAVE\n\n\n\n\n\n\n;*********************************   INFLUENCE OF MASKING NOISE ON PITCH   **************************************\n;   p1      p2      p3    p4       p5      \n;  inst    strt    dur    amp     freq     \n    i1     1.0     .5     85      1000\n    i1     2.0     .5     85      1000\n    i2     2.0     .5     80       800\n    i1     3.0     .5     85      1000\n    i1     4.0     .5     85      1000\n    i2     4.0     .5     80       800\n    i1     5.0     .5     85      1000\n    i1     6.0     .5     85      1000\n    i2     6.0     .5     80       800\n    i1     7.0     .5     85      1000\n    i1     8.0     .5     85      1000\n    i2     8.0     .5     80       800\n    i1     9.0     .5     85      1000\n    i1    10.0     .5     85      1000\n    i2    10.0     .5     80       800\n    i1    11.0     .5     85      1000\n    i1    12.0     .5     85      1000\n    i2    12.0     .5     80       800\n    i1    13.0     .5     85      1000\n    i1    14.0     .5     85      1000\n    i1    15.0     .5     85      1000\n    i1    16.0     .5     85      1000\n    i1    17.0     .5     85      1000\n e\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kfreq     linseg    0, p3/2, 5000, p3/2, 0 using oscillator and Butterworth lowpass filter and Butterworth highpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from butter.orc and butter.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr     1\nkfreq     linseg    0, p3/2, 5000, p3/2, 0\nanois     rand      10000\nafil      butterlp  anois, kfreq\n          out       afil\n          endin\n\n          instr     2\nkfreq     linseg    0, p3/2, 10000, p3/2, 0\nanois     rand      10000\nafil      butterhp  anois, kfreq\n          out       afil\n          endin\n\n          instr     3\nkfreq     oscil     1, 1/p3, 1\nkband     =         100\nanois     rand      10000\nafil      butterbp  anois, kfreq, kband\n          out       10*afil\n          endin\n\n          instr     4\nkfreq     =         5000\nkband     linseg    0, p3/2, sr/2, p3/2, 0\nanois     rand      10000\nafil      butterbr  anois, kfreq, kband\n          out       afil\n          endin\n\n          instr     5\nkfreq     oscil     1, 1/p3, 1\nanois     rand      10000\nafil      butterlp  anois, kfreq\nafil2     butterbp  afil, kfreq, 50\n          out       (10*afil2 + afil)\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 -7 0 125 3000 125 0 125 5000 125 200 125 7000 399 0\n\ni1        0    4\ns\ni2        1    4\ns\ni3        1    4\ns\ni4        1    4\ns\ni5        1    4\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur           =              p3 using oscillator and panning and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from stutter.orc and stutter.sco\n; Original files preserved in same directory\n\nsr             =              44100\nkr             =              22050\nksmps          =              2\nnchnls         =              2\n\n; ORCHESTRA\n\n\n;------------------------------------------------------------------\n; SAMPLER EFFECTS\n;------------------------------------------------------------------\n               instr          7\n\nidur           =              p3\niamp           =              p4\nifqc           =              p5\nirattab        =              p6\niratrat        =              p7\nipantab        =              p8\nimixtab        =              p9\nilptab         =              p10\nisndin         =              p11\n\nkpan           oscil          1, 1/idur, ipantab                 ; PANNING\nkmix           oscil          1, 1/idur, imixtab                 ; FADING\nkloop          oscil          1, 1/idur, ilptab                  ; LOOPING\nkoffset        linseg         0, idur, 1\n\nloop1:\nkprate         oscil          1, iratrat/kloop, irattab          ; PULSE RATE   \nkamp           linseg         0, .005, 1, i(kloop)-.01, 1, .005, 0\n;                Amp     Fqc\na1, a2  soundin  isndin, i(koffset)\naout           =              (a1+a2)/2*kamp\n;aout          oscil          10000*kamp, 440, 1\n\n;       WHEN THE TIME RUNS OUT REINITIALIZE\n               timout         0, i(kloop), cont1\n               reinit         loop1\ncont1:\n\n               outs           aout*sqrt(kpan)*kmix, aout*sqrt(1-kpan)*kmix      ; OUTPUT PAN & FADE\n\n               endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\n\n; PULSE TABLES\nf10  0 1024   7  0 256 0 256 1 256 0 256 0\nf11 0 1024   7  0 256 0 128 0 128 1 128 0 128 0 256 0\nf12 0 1024   7  0 512 1 512 0\n; RATE TABLES\nf29  0 1024  -7  .5   1024 .5\n; PAN TABLES\nf31  0 1024  7  1  1024  0\n; MIX TABLES\nf41  0 1024  5  .01 128 1 768 1 128 .01\n\nf53 0 1024 -7  .1 1024 .02\n;   Sta  Dur  Amp   Pitch  RtTab  RtRt  PanTab  MixTab  Loop  SoundIn\ni7  0    1    1     1      29     1     31      41      53    13\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for p2             =         p2   +    p9 using oscillator and reverb effect and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from streams.orc and streams.sco\n; Original files preserved in same directory\n\nsr        =    44100\nkr        =    4410\nksmps     =    10\nnchnls    =    1\n\n\ninstr 1\n\n     p2             =         p2   +    p9\n     amp            oscil     1, 1 / p3, p4\n     adens          oscil     1, 1 / p3, p5\n     alofr          oscil     1, 1 / p3, p6\n     ahifr          oscil     1, 1 / p3, p7\n     awind          oscil     amp, adens, p8\n     afr            randi     ahifr, adens\n     astream        oscil     awind, alofr + afr, 1\n\n     gasig          =         astream / p10\n     out gasig\nendin\n\ninstr 2\n\n     awet reverb gasig, p4\n     out awet / p5\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\nf2 0 1024 8 0 512 1 512 0\nf3 0 1024 -7 1000 1024 1000\nf4 0 1024 -7 0 100 400 100 1000 200 600 500 700 124 200\nf5 0 1024 -7 200 1024 200\nf6 0 1024 -7 0 224 30000 200 25000 500 25000 100 0\n\n;              revtime   revlevel\ni2   0    10   2         2\n;                   fampenv   fdens     flofr     fhifr     fwindow   offset    norm\ni1   0    8         6         3         4         5         2         0         6\ni1   0    8         .         .         .         .         .         .002 .\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp           =         p4 using panning and oscillator and interpolating FM synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pan1.orc and pan1.sco\n; Original files preserved in same directory\n\nnchnls         =         2    \n\n\ngarvb          init      0\n\n               instr     3\niamp           =         p4\nicps           =         p5\nicar           =         p6\nimod           =         p7\nindx           =         p8                      \nirvb           =         p9\nipan           =         p10\nafm            foscili   iamp, icps, icar, imod, indx, 11\nasig           oscil     afm, 1/p3, 18\n               outs      asig*ipan, asig*(1-ipan)\ngarvb          =         garvb+(asig*irvb)\n               endin\n\n               instr     4\niamp           =         p4\nicps           =         p5\nicar           =         p6\nimod           =         p7\nindx           =         p8                      \nirvb           =         p9\nipan           =         p10\nafm            foscili   iamp, icps, icar, imod, indx, 11\nasig           oscil     afm, 1/p3, 18\nirtl           =         sqrt(ipan)                         ;SQRT PANNING TECHNIQUE\nirtr           =         sqrt(1-ipan)                       ;PG 247,FIG.7.20 DODGE/JERSE BOOK\n               outs      asig*irtl, asig*irtr\ngarvb          =         garvb+(asig*irvb)\n               endin\n\n               instr     5\niamp           =         p4\nicps           =         p5\nicar           =         p6\nimod           =         p7\nindx           =         p8                      \nirvb           =         p9\nipan           =         p10\nafm            foscili   iamp, icps, icar, imod, indx, 11\nasig           oscil     afm, 1/p3, 18\nirtl           =         sqrt(2)/2*cos(ipan)+sin(ipan)      ;CONSTANT POWER PANNING\nirtr           =         sqrt(2)/2*cos(ipan)-sin(ipan)      ;FROM C.ROADS \"CM TUTORIAL\" PP460\n          outs asig*irtl, asig*irtr\ngarvb     =              garvb+(asig*irvb)\n          endin\n\n          instr          99\n          asig           nreverb garvb, p4, p5\n          outs           asig, asig\ngarvb     =              0\n          endin\n\n</CsInstruments>\n<CsScore>\nf 11 0 2048 10 1\nf 18 0 1024  5 .01 100 1 412 .01\n\n;===========================\n;p1  p2   p3   p4   p5\n;instr    strt dur  rvbtime   hfdif\ni99  0        8      3.3 .1\n;==============================================\n;    FM INSTR\n;==============================================\n;ins strt dur  amp       frq       car       mod       index     rvb       kpan \ni3        1         .1   20000     100       1         1         1         .1        0         \ni3        +         .    .         <         .         <         <         .         <\ni3        +         .    .         <         .         <         <         .         <\ni3        +         .    .         <         .         <         <         .         <\ni3        +         .    .         <         .         <         <         .         <\ni3        +         .    .         <         .         <         <         .         <\ni3        +         .    .         <         .         <         <         .         <\ni3        +         .    .         <         .         <         <         .         <\ni3        +         .    .         <         .         <         <         .         <\ni3        +         .    .         500       .         20        20        .         1\ni3        +         .    .         <         .         <         <         .         <\ni3        +         .    .         <         .         <         <         .         <\ni3        +         .    .         <         .         <         <         .         <\ni3        +         .    .         <         .         <         <         .         <\ni3        +         .    .         <         .         <         <         .         <\ni3        +         .    .         <         .         <         <         .         <\ni3        +         .    .         <         .         <         <         .         <\ni3        +         .    .         <         .         <         <         .         <\ni3        +         .    .         100       .         1         1         .         0         \ns\n;===========================\n;p1  p2   p3   p4   p5\n;instr    strt dur  rvbtime   hfdif\ni99  0        8      3.3 .1\n;ins strt dur  frq  car       mod       kpan kndx kamp rvbsnd\ni4        1         .1   20000     100       1         1         1         .1        0         \ni4        +         .    .         <         .         <         <         .         <\ni4        +         .    .         <         .         <         <         .         <\ni4        +         .    .         <         .         <         <         .         <\ni4        +         .    .         <         .         <         <         .         <\ni4        +         .    .         <         .         <         <         .         <\ni4        +         .    .         <         .         <         <         .         <\ni4        +         .    .         <         .         <         <         .         <\ni4        +         .    .         <         .         <         <         .         <\ni4        +         .    .         500       .         20        20        .         1\ni4        +         .    .         <         .         <         <         .         <\ni4        +         .    .         <         .         <         <         .         <\ni4        +         .    .         <         .         <         <         .         <\ni4        +         .    .         <         .         <         <         .         <\ni4        +         .    .         <         .         <         <         .         <\ni4        +         .    .         <         .         <         <         .         <\ni4        +         .    .         <         .         <         <         .         <\ni4        +         .    .         <         .         <         <         .         <\ni4        +         .    .         100       .         1         1         .         0         \ns\n;===========================\n;p1  p2   p3   p4   p5\n;instr    strt dur  rvbtime   hfdif\ni99  0        8      3.3 .1\n;ins strt dur  frq  car       mod       kpan kndx kamp rvbsnd\ni5        1         .1   20000     100       1         1         1         .1        0         \ni5        +         .    .         <         .         <         <         .         <\ni5        +         .    .         <         .         <         <         .         <\ni5        +         .    .         <         .         <         <         .         <\ni5        +         .    .         <         .         <         <         .         <\ni5        +         .    .         <         .         <         <         .         <\ni5        +         .    .         <         .         <         <         .         <\ni5        +         .    .         <         .         <         <         .         <\ni5        +         .    .         <         .         <         <         .         <\ni5        +         .    .         500       .         20        20        .         1\ni5        +         .    .         <         .         <         <         .         <\ni5        +         .    .         <         .         <         <         .         <\ni5        +         .    .         <         .         <         <         .         <\ni5        +         .    .         <         .         <         <         .         <\ni5        +         .    .         <         .         <         <         .         <\ni5        +         .    .         <         .         <         <         .         <\ni5        +         .    .         <         .         <         <         .         <\ni5        +         .    .         <         .         <         <         .         <\ni5        +         .    .         100       .         1         1         .         0         \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for inote\t\t=\t\tcpspch( p4) using FM synthesis and oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fmsimp1.orc and fmsimp1.sco\n; Original files preserved in same directory\n\nsr\t\t\t=\t\t44100\nkr\t\t\t=\t\t4410\nksmps\t\t=\t\t10\nnchnls\t\t=\t\t1\n\n\n\t\t\tinstr 1\n\ninote\t\t=\t\tcpspch( p4)\nifc\t\t\t=\t\tp5\nifm\t\t\t=\t\tp6\nid\t\t\t=\t\tp7*ifm\t\t;p7 = Imax\niamp\t\t=\t\tp8\n\nkm\t\t\toscil\tid,1/p3,p9\nkc\t\t\toscil\tiamp,1/p3,p10\n\nam\t\t\toscil\tkm,ifm,1\nac\t\t\toscil\tkc,(ifc+am),1\n\n\t\t\tout\t\tac\n\t\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1\t0\t1024\t10\t1\nf2\t0\t1024\t5\t1\t1000\t.01\nf3\t0\t1024\t8\t.8\t50\t1\t100\t.7\t824\t0\nf4\t0\t512\t\t7\t1\t100\t0\nf5\t0\t1024\t7\t0\t100\t1\t124\t.7\t600\t.7\t100\t0\nf6\t0\t1024\t7\t0\t100\t1\t824\t1\t100\t0\n\n\t\t\t;NOTE\tFC\t\tFM\t\tI\tAMP\n;BELL TONE\ni1\t0\t15\t8.00\t200\t\t280\t\t10\t10000\t2\t2\n\n;WOOD DRUM\ni1\t11\t.2\t8.00\t80\t\t55\t\t25\t.\t\t3\t4\ni1\t12\t.2\t8.00\t200\t\t137.5\t25\t.\t\t3\t4\n\n;BRASSLIKE\ni1\t13\t.6\t8.00\t440\t\t440\t\t5\t.\t\t5\t5\n\n;CLARINET\ni1\t14\t.5\t8.00\t900\t\t800\t\t2\t.\t\t6\t6\ni1\t15\t.5\t8.00\t900\t\t800\t\t3\t.\t\t.\t.\ni1\t16\t.5\t8.00\t900\t\t800\t\t4\t.\t\t.\t.\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using oscillator and interpolating oscillator and Butterworth bandpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from frogs.orc and frogs.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n; HANS MIKELSON\n\n; ORCHESTRA\n                    \n;------------------------------------------------------------------\n; FROGS?\n;------------------------------------------------------------------\n          instr     8\nidur      =         p3\niamp      =         p4*2\nifqc      =         cpspch(p5)\niplstab   =         p6\nirattab   =         p7\niratrat   =         p8\nipantab   =         p9\nimixtab   =         p10\nimaxd     =         p11\nideltab\t=\t\tp12\nifdbk     =         .98\nabal      init      0                   \nkpan      oscil     1, 1/idur, ipantab       ; PANNING\nkmix      oscili    1, 1/idur, imixtab       ; FADING\nkprate    oscil     1, iratrat, irattab      ; PULSE RATE\nkamp      oscil     iamp, kprate, iplstab    ; AMPLITUDE PULSE\nkdtime    expseg    imaxd*.9, idur*.75, imaxd*.5, idur*.25, imaxd*.4\nasig      rand      kamp                     ; NOISE SOURCE\nadel      vdelay    (asig+abal)*ifdbk, kdtime, imaxd ; VARIABLE DELAY RESONATOR\naflt      butterbp  adel, ifqc, ifqc/4       ; BAND FILTER\nabal      balance   aflt, adel               ; ADJUST LEVEL\naout      =         abal\n          outs      aout*sqrt(kpan)*kmix, aout*sqrt(1-kpan)*kmix ; OUTPUT PAN & FADE\n          endin\n\n</CsInstruments>\n<CsScore>\n; SCORE\nf1 0 8192 10 1 ; Sine\n; Pulse Tables\nf10  0 1024   7  0 256 0 256 1 256 0 256 0            ; Medium Pulse\nf11 0 1024   7  0 256 0 128 0 128 1 128 0 128 0 256 0 ; Narrow Pulse\nf12 0 1024   7  0 512 1 512 0                         ; Wide Pulse\nf13 0 1024   7  0 256 0 128 0 64 0 64 1 64 0 64 0 128 0 256 0 ; Narrower Pulse\n; Rate Tables\nf20  0 1024  -5  40  512  25  512 10\nf21  0 1024  -5  20  512  45  512 20\nf22  0 1024  -5  10  512  25  512 40\nf23  0 1024  -5  20  512  20  512 20\n; Pan Tables\nf30  0 1024  7  0  1024  1\nf31  0 1024  7  1  1024  0\nf32  0 1024  7  1 512  0 512 1\nf33  0 1024  -7 .5 1024 .5\nf34  0 1024  -7 .8 1024 .8\nf35  0 1024  -7 .2 1024 .2\n; Mix Tables\nf40  0 1024  5  .01 256 1 512 1 256 .01\nf41  0 1024  5  .01 128 1 768 1 128 .01\nf42  0 1024  7  0 12 1 1000 1 12 0\n; Loop Tables\nf50  0 1024 -5  1 1024 1\n; Frog Chirps ??\n;   Sta  Dur  Amp   Pitch  PulsTab  RtTab  RtRt  PanTab  MixTab  Delay\ni8  0    1.5  4000  7.00   13       20     1     32      42       50\ni8  .5   .25  4000  8.00   13       23     1     33      42       30\ni8  +    .    3500  9.00   13       23     1     35      42       20\ni8  1    1.5   800  7.10   13       21     1     30      42       50\ni8  1.5  .25  1000  8.04   13       23     1     34      42       30\ni8  +    .    3000  8.07   13       23     1     35      42       20\ni8  2    1.5  2600  7.00   13       22     1     31      42       50\ni8  2.5  .25  3000  8.00   13       23     1     35      42       30\ni8  +    .    1800  9.00   13       23     1     34      42       20\n;\ni8  3    1.5  4000  7.00   13       20     1     32      42       50\ni8  3.5  .25  4000  8.00   13       23     1     33      42       30\ni8  +    .    3500  9.00   13       23     1     35      42       20\ni8  4    1.5   800  7.10   13       21     1     30      42       50\ni8  4.5  .25  1000  8.04   13       23     1     34      42       30\ni8  +    .    3000  8.07   13       23     1     35      42       20\ni8  5    1.5  2600  7.00   13       22     1     31      42       50\ni8  5.5  .25  3000  8.00   13       23     1     35      42       30\ni8  +    .    1800  9.00   13       23     1     34      42       20\n;\ni8  6.0  .25  3500  9.00   13       23     1     35      42       20\ni8  +    .    3400  9.02   13       23     1     35      42       20\ni8  .    .    3000  9.04   13       22     1     35      42       20\ni8  .    .    2500  9.05   13       22     1     35      42       20\ni8  .    .    2300  9.07   13       23     1     35      42       20\ni8  .    .    2000  9.02   13       22     1     35      42       20\ni8  .    .    1800  9.04   13       23     1     35      42       20\ni8  .    .    1500  9.05   13       23     1     35      42       20\ni8  .    .    2500  9.07   13       22     1     35      42       20\ni8  .    .    3000  9.09   13       22     1     35      42       20\ni8  .    .    3500 10.00   13       23     1     35      42       20\ni8  .    .    4500 10.05   13       22     1     35      42       20\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 88_01_1.orc and 88_01_1.sco\n; Original files preserved in same directory\n\nsr =  513\nkr  = 513\nksmps = 1\nnchnls= 1\n\n; ************************************************************************\n; ACCCI:     88_01_1.ORC\n; timbre:    none\n; synthesis: calculation of a function, writing as soundfile to disk\n; source:    #513  Part 1 for Endless Glissando , Risset(1969)\n; coded:     jpg 9/93\n\n\n\n\ninstr 1; *****************************************************************\n\n   a1     linseg  1,p3,513\n   a1=a1-1\n   a1=(a1-256)/512\n   a1=2*3.14159*a1\n   a1=1-cos(a1)\n   a1=-4.8283*a1\n   a1=exp(a1)\n   a1     oscil   a1*32000,1,31         ; 513 points:   1 512 1\n          display a1,1                  ; display over one second\n          out     a1\n\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:       88_01_1.SCO\n; coded:       jpg 9/93\n\n; GEN functions **********************************************************\nf31  0  513  7   1 513 1    ; a line\n\n; score ******************************************************************\n\ni1 0 1\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for - SOME VALUES TO START WITH using bass sound and drum sound and oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bassdrum.orc and bassdrum.sco\n; Original files preserved in same directory\n\nsr        =    44100\nkr        =    4410\nksmps     =    10\nnchnls    =    1\n\n\n\n          ;BASS DRUM\n\n          instr 1\n\n; - SOME VALUES TO START WITH\n\nimixt     init      0.005\nigain     init      p4\n\n; - LOW OSC ADSR\n\nilat1     init      p5\nilat2     init      p6\nilat3     init      p7\nilav1     init      p8\n\n; - LOW OSC FREQ\n\nilfv1     init      p9\nilft1     init      p10\nilfv2     init      p11\nilfv3     init      p12\n\n; - NOIZE OSC ADSR\n\ninat1     init      p13\ninav1     init      p14\ninat2     init      p15\n\n; - NOIZ OSC FREQ\n\ninfv1     init      16\n\n\n; - LOW OSC\n\nalamp     linseg    0,ilat1,1,ilat2,1,ilat3,ilav1,p3-ilat1-ilat2-ilat3,0\nalfrq     expseg    ilfv1,ilft1,ilfv2,p3-ilft1,ilfv3\nalow      oscil     alamp*igain,alfrq,1\n\n; - NOIZE OSC\n\nanamp     linseg    0,inat1,inav1,inat2,0,p3,0\nanfrq     =         infv1\n\nanrnd     rand      anamp\nanoiz     oscil     anrnd*igain,anfrq,1\n\n; - GENERATE OUTPUT\n\n          out       alow+anoiz\n          endin\n\n\n\n</CsInstruments>\n<CsScore>\n;BASSDRUM SCORE\n\n\nf 1 0 4096 10 1 0 ; basic wave table ( sine wave )\n\n; PARAMETERS\n\n; inum  start duration  gain ilat1 ilat2 ilat3 ilav1 ilfv1 ilft1 ilfv2 ilfv3 inat1 inav1 inat2 infv1\n\n i1 \t  0     0.15   20000 0.005 0.01  0.01  0.4   200   0.07   30   25 0.005  0.8  0.005  100\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for 4-Operator FM using FM synthesis and synthesizer and oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 0FM-Synth.orc and 0FM-Synth.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 44100\nksmps    = 1\nnchnls   = 1\n\n\ninstr    1 ; 4-Operator FM\n\na1       init 0       ; Operator 1\na2       init 0       ; Operator 2\na3       init 0       ; Operator 3\na4       init 0       ; Operator 4\naout     init 0       ; Output\n\nipitch   = cpspch(p4) ; Pitch\nilevel   = p5         ; Operator levels\n\niratio1  table  0, 50 ; Ratio 1\nidet1    table  1, 50 ; Detune 1\niwave1   table  2, 50 ; Waveform 1\nitime1   table  3, 50 ; Env time 1\nitabl1   table  4, 50 ; Env shape 1\nisens1   table  5, 50 ; Env level sensitivity\niratio2  table  6, 50 ; Ratio 2\nidet2    table  7, 50 ; Detune 2\niwave2   table  8, 50 ; Waveform 2\nitime2   table  9, 50 ; Env time 2\nitabl2   table 10, 50 ; Env shape 2\nisens2   table 11, 50 ; Env level sensitivity\niratio3  table 12, 50 ; Ratio 3\nidet3    table 13, 50 ; Detune 3\niwave3   table 14, 50 ; Waveform 3\nitime3   table 15, 50 ; Env time 3\nitabl3   table 16, 50 ; Env shape 3\nisens3   table 17, 50 ; Env level sensitivity\niratio4  table 18, 50 ; Ratio 4\nidet4    table 19, 50 ; Detune 4\niwave4   table 20, 50 ; Waveform 4\nitime4   table 21, 50 ; Env time 4\nitabl4   table 22, 50 ; Env shape 4\nisens4   table 23, 50 ; Env level sensitivity\ni01      table  0, 60\ni02      table  1, 60\ni03      table  2, 60\ni04      table  3, 60\ni05      table  4, 60\ni06      table  5, 60\ni07      table  6, 60\ni08      table  7, 60\ni09      table  8, 60\ni10      table  9, 60\ni11      table 10, 60\ni12      table 11, 60\ni13      table 12, 60\ni14      table 13, 60\ni15      table 14, 60\ni16      table 15, 60\ni17      table 16, 60\ni18      table 17, 60\ni19      table 18, 60\ni20      table 19, 60\nitime1   = (itime1 = 0 ? p3 : itime1)     ; Env time p3 or fixed\nitime2   = (itime2 = 0 ? p3 : itime2)     ; Env time p3 or fixed\nitime3   = (itime3 = 0 ? p3 : itime3)     ; Env time p3 or fixed\nitime4   = (itime4 = 0 ? p3 : itime4)     ; Env time p3 or fixed\nkind1    line  0, itime1, 1               ; Time line 1\nkind2    line  0, itime2, 1               ; Time line 2\nkind3    line  0, itime3, 1               ; Time line 3\nkind4    line  0, itime4, 1               ; Time line 4\nkenv1    table  kind1, itabl1, 1          ; Env 1\nkenv2    table  kind2, itabl2, 1          ; Env 1\nkenv3    table  kind3, itabl3, 1          ; Env 1\nkenv4    table  kind4, itabl4, 1          ; Env 1\nafreq1   = ipitch*iratio1 + a1 + idet1    ; Calculate FM 1\nafreq2   = ipitch*iratio2 + a2 + idet2    ; Calculate FM 2\nafreq3   = ipitch*iratio3 + a3 + idet3    ; Calculate FM 3\nafreq4   = ipitch*iratio4 + a4 + idet4    ; Calculate FM 4\nilevl1   = 1 - (1 - ilevel)*isens1        ; Calculate level sensitivity\nilevl2   = 1 - (1 - ilevel)*isens2        ; Calculate level sensitivity\nilevl3   = 1 - (1 - ilevel)*isens3        ; Calculate level sensitivity\nilevl4   = 1 - (1 - ilevel)*isens4        ; Calculate level sensitivity\naop1     oscil  kenv1*ilevl1, afreq1, iwave1         ; Oscillator 1\naop2     oscil  kenv2*ilevl2, afreq2, iwave2         ; Oscillator 2\naop3     oscil  kenv3*ilevl3, afreq3, iwave3         ; Oscillator 3\naop4     oscil  kenv4*ilevl4, afreq4, iwave4         ; Oscillator 4\na1       = aop1*i01 + aop2*i06 + aop3*i11 + aop4*i16 ; Op-1\na2       = aop1*i02 + aop2*i07 + aop3*i12 + aop4*i17 ; Op-2\na3       = aop1*i03 + aop2*i08 + aop3*i13 + aop4*i18 ; Op-3\na4       = aop1*i04 + aop2*i09 + aop3*i14 + aop4*i19 ; Op-4\naout     = aop1*i05 + aop2*i10 + aop3*i15 + aop4*i20 ; Output\nout      aout\n\nendin\n</CsInstruments>\n<CsScore>\nf01 0 1025 10 1                                 ; Sine\nf02 0 1025 10 1 0 .33 0 .2 0 .14 0 .11          ; Odd harmonics\nf03 0 1025 10 1 .5 .33 .25 .2 .16 .14 .125 .11  ; All harmonics\nf04 0 1025 -9 .5 1 0                            ; 1/2 Sine\nf05 0 1025 10 1 1                               ; 1st + 2nd\nf06 0 1025 10 1 0 0 0 .125 .25 .5 1 .5 .25 .125 ; Harmonic peak\n;--------------------------------------------------------------\nf10 0 4097 7 1 4096 0                           ; Lin decay\nf11 0 4097 5 1 4096 .0001                       ; Exp decay\nf12 0 4097 -7 1 4096 1                          ; Constant 1\nf13 0 4097 7 0 4096 1                           ; Lin attack\n;--------------------------------------------------------------\n;Operators      Ratio  Detune Wave   Time   Table  V.Sens\nf50 0 32 -2     1.00   0.00   1      0.00   10     0.00\n                2.00   0.00   1      0.00   11     0.00\n                4.00   0.00   6      0.50   11     0.00\n                8.50   0.00   2      0.125  11     0.00\n;--------------------------------------------------------------\n;Algorithm      Op-1   Op-2   Op-3   Op-4   Out\nf60 0 32 -2     500    0.00   0.00   0.00   32000 ; Op-1\n                0.00   0.00   0.00   0.00   0     ; Op-2\n                0.00   0.00   0.00   0.00   0     ; Op-3\n                0.00   0.00   0.00   0.00   0     ; Op-4\n;--------------------------------------------------------------\n;     Strt  Leng  Pitch Vel.\ni01   0.00  1.00  08.00 1.00\n;--------------------------------------------------------------\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for 4-Operator FM using FM synthesis and synthesizer and oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from CookFMSynth.orc and CookFMSynth.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 1\n\n\ninstr    1 ; 4-Operator FM\n\na1       init 0       ; Operator 1\na2       init 0       ; Operator 2\na3       init 0       ; Operator 3\na4       init 0       ; Operator 4\naout     init 0       ; Output\n\nipitch   = cpspch(p4) ; Pitch\nilevel   = p5         ; Operator levels\n\niratio1  table  0, 50 ; Ratio 1\nidet1    table  1, 50 ; Detune 1\niwave1   table  2, 50 ; Waveform 1\nitime1   table  3, 50 ; Env time 1\nitabl1   table  4, 50 ; Env shape 1\nisens1   table  5, 50 ; Env level sensitivity\niratio2  table  6, 50 ; Ratio 2\nidet2    table  7, 50 ; Detune 2\niwave2   table  8, 50 ; Waveform 2\nitime2   table  9, 50 ; Env time 2\nitabl2   table 10, 50 ; Env shape 2\nisens2   table 11, 50 ; Env level sensitivity\niratio3  table 12, 50 ; Ratio 3\nidet3    table 13, 50 ; Detune 3\niwave3   table 14, 50 ; Waveform 3\nitime3   table 15, 50 ; Env time 3\nitabl3   table 16, 50 ; Env shape 3\nisens3   table 17, 50 ; Env level sensitivity\niratio4  table 18, 50 ; Ratio 4\nidet4    table 19, 50 ; Detune 4\niwave4   table 20, 50 ; Waveform 4\nitime4   table 21, 50 ; Env time 4\nitabl4   table 22, 50 ; Env shape 4\nisens4   table 23, 50 ; Env level sensitivity\n\ni01      table  0, 60\ni02      table  1, 60\ni03      table  2, 60\ni04      table  3, 60\ni05      table  4, 60\ni06      table  5, 60\ni07      table  6, 60\ni08      table  7, 60\ni09      table  8, 60\ni10      table  9, 60\ni11      table 10, 60\ni12      table 11, 60\ni13      table 12, 60\ni14      table 13, 60\ni15      table 14, 60\ni16      table 15, 60\ni17      table 16, 60\ni18      table 17, 60\ni19      table 18, 60\ni20      table 19, 60\n\nitime1   = (itime1 = 0 ? p3 : itime1)     ; Env time p3 or fixed\nitime2   = (itime2 = 0 ? p3 : itime2)     ; Env time p3 or fixed\nitime3   = (itime3 = 0 ? p3 : itime3)     ; Env time p3 or fixed\nitime4   = (itime4 = 0 ? p3 : itime4)     ; Env time p3 or fixed\n\nkind1    line  0, itime1, 1               ; Time line 1\nkind2    line  0, itime2, 1               ; Time line 2\nkind3    line  0, itime3, 1               ; Time line 3\nkind4    line  0, itime4, 1               ; Time line 4\n\nkenv1    table  kind1, itabl1, 1          ; Env 1\nkenv2    table  kind2, itabl2, 1          ; Env 1\nkenv3    table  kind3, itabl3, 1          ; Env 1\nkenv4    table  kind4, itabl4, 1          ; Env 1\n\nafreq1   = ipitch*iratio1 + a1 + idet1    ; Calculate FM 1\nafreq2   = ipitch*iratio2 + a2 + idet2    ; Calculate FM 2\nafreq3   = ipitch*iratio3 + a3 + idet3    ; Calculate FM 3\nafreq4   = ipitch*iratio4 + a4 + idet4    ; Calculate FM 4\n\nilevl1   = 1 - (1 - ilevel)*isens1        ; Calculate level sensitivity\nilevl2   = 1 - (1 - ilevel)*isens2        ; Calculate level sensitivity\nilevl3   = 1 - (1 - ilevel)*isens3        ; Calculate level sensitivity\nilevl4   = 1 - (1 - ilevel)*isens4        ; Calculate level sensitivity\n\naop1     oscil  kenv1*ilevl1, afreq1, iwave1         ; Oscillator 1\naop2     oscil  kenv2*ilevl2, afreq2, iwave2         ; Oscillator 2\naop3     oscil  kenv3*ilevl3, afreq3, iwave3         ; Oscillator 3\naop4     oscil  kenv4*ilevl4, afreq4, iwave4         ; Oscillator 4\n\na1       = aop1*i01 + aop2*i06 + aop3*i11 + aop4*i16 ; Op-1\na2       = aop1*i02 + aop2*i07 + aop3*i12 + aop4*i17 ; Op-2\na3       = aop1*i03 + aop2*i08 + aop3*i13 + aop4*i18 ; Op-3\na4       = aop1*i04 + aop2*i09 + aop3*i14 + aop4*i19 ; Op-4\naout     = aop1*i05 + aop2*i10 + aop3*i15 + aop4*i20 ; Output\n\nout      aout\n\nendin\n\n</CsInstruments>\n<CsScore>\nf01 0 1025 10 1                                 ; Sine\nf02 0 1025 10 1 0 .33 0 .2 0 .14 0 .11          ; Odd harmonics\nf03 0 1025 10 1 .5 .33 .25 .2 .16 .14 .125 .11  ; All harmonics\nf04 0 1025 -9 .5 1 0                            ; 1/2 Sine\nf05 0 1025 10 1 1                               ; 1st + 2nd\nf06 0 1025 10 1 0 0 0 .125 .25 .5 1 .5 .25 .125 ; Harmonic peak\n;--------------------------------------------------------------\nf10 0 4097 7 1 4096 0                           ; Lin decay\nf11 0 4097 5 1 4096 .0001                       ; Exp decay\nf12 0 4097 -7 1 4096 1                          ; Constant 1\nf13 0 4097 7 0 4096 1                           ; Lin attack\n;--------------------------------------------------------------\n;Operators      Ratio  Detune Wave   Time   Table  V.Sens\nf50 0 32 -2     1.00   0.00   1      0.00   10     0.00\n                2.00   0.00   1      0.00   11     0.00\n                4.00   0.00   6      0.50   11     0.00\n                8.50   0.00   2      0.125  11     0.00\n;--------------------------------------------------------------\n;Algorithm      Op-1   Op-2   Op-3   Op-4   Out\nf60 0 32 -2     500    0.00   0.00   0.00   32000 ; Op-1\n                0.00   0.00   0.00   0.00   0     ; Op-2\n                0.00   0.00   0.00   0.00   0     ; Op-3\n                0.00   0.00   0.00   0.00   0     ; Op-4\n;--------------------------------------------------------------\n;   Strt  Leng  Pitch Vel.\ni1  0.00  1.00  08.00 1.00\n;--------------------------------------------------------------\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a adclar sound using oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from ADCLAR.ORC and ADCLAR.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\ninstr 1\nk1        linseg    0,p3*.001,0,p3*.007,0,p3*.020,6,p3*.020,73,p3*.048,445,p3*.199,361,p3*.330,0         ;AMP ENV\na1        linseg    0,p3*.001,0,p3*.006,0,p3*.007,282,p3*.019,368,p3*.021,314,p3*.046,310,p3*.141,312,p3*.284,313,p3*.330,314          ;FREQ ENV\na2        oscil     k1*p4,a1*p5,1       ; P4 IS AMP SCALER P5 IS TRANSPOSED FACTOR FOR PARTIAL ONE\n\nk2        linseg    0,p3*.001,0,p3*.024,0,p3*.043,22,p3*.104,2,p3*.193,4,p3*.238,10,p3*.301,0,p3*.330,0\na3        linseg    0,p3*.001,0,p3*.023,0,p3*.024,629,p3*.068,619,p3*.116,616,p3*.167,633,p3*.223,624,p3*.301,627,p3*.302,0,p3*.330,0\na4        oscil     k2*p4,a3*p5,1\n\nk3        linseg    0,p3*.001,0,p3*.015,0,p3*.037,12,p3*.048,159,p3*.204,122,p3*.286,17,p3*.309,0,p3*.330,0\na5        linseg    0,p3*.001,0,p3*.014,0,p3*.015,803,p3*.024,928,p3*.036,898,p3*.046,931,p3*.113,939,p3*.330,942\na6        oscil     k3*p4,a5*p5,1\n\nk4        linseg    0,p3*.001,0,p3*.009,0,p3*.019,2,p3*.024,0,p3*.039,0,p3*.046,26,p3*.103,3,p3*.167,5,p3*.229,10,p3*.291,0,p3*.330,0\na7        linseg    0,p3*.001,0,p3*.007,0,p3*.009,1261,p3*.024,1314,p3*.030,327,p3*.039,1245,p3*.105,1243,p3*.215,1257,p3*.246,1249,p3*.291,1261,p3*.292,0,p3*.330,0\na8        oscil     k4*p4,a7*p5,1\n\nk5        linseg    0,p3*.001,0,p3*.006,0,p3*.018,5,p3*.025,0,p3*.039,0,p3*.054,375,p3*.212,210,p3*.266,20,p3*.295,0,p3*.330,0\na9        linseg    0,p3*.001,0,p3*.005,0,p3*.006,1572,p3*.026,1528,p3*.032,991,p3*.038,1560,p3*.067,1554,p3*.127,1565,p3*.308,1569,p3*.309,0,p3*.330,0\na10       oscil     k5*p4,a9*p5,1\n\nk6        linseg    0,p3*.001,0,p3*.003,0,p3*.001,0,p3*.015,0,p3*.041,0,p3*.048,25,p3*.108,4,p3*.126,12,p3*.282,0,p3*.330,0\na11       linseg    0,p3*.001,0,p3*.002,0,p3*.003,1934,p3*.012,1890,p3*.033,320,p3*.046,1862,p3*.186,1883,p3*.282,1875,p3*.283,0,p3*.330,0\na12       oscil     k6*p4,a11*p5,1\n\nk7        linseg    0,p3*.001,0,p3*.002,0,p3*.018,1,p3*.024,0,p3*.042,0,p3*.052,108,p3*.127,46,p3*.177,42,p3*.253,0,p3*.330,0\na13       linseg    0,p3*.001,0,p3*.002,2180,p3*.024,2128,p3*.034,795,p3*.043,2167,p3*.113,2193,p3*.253,2192,p3*.256,0,p3*.330,0\na14       oscil     k7*p4,a13*p5,1\n\nk8        linseg    0,p3*.001,0,p3*.002,0,p3*.014,1,p3*.023,0,p3*.043,0,p3*.052,83,p3*.110,17,p3*.199,18,p3*.242,0,p3*.330,0\na15       linseg    0,p3*.001,0,p3*.002,2458,p3*.023,2343,p3*.033,328,p3*.045,2472,p3*.125,2507,p3*.242,2510,p3*.243,0,p3*.330,0\na16       oscil     k8*p4,a15*p5,1\n\nk9        linseg    0,p3*.001,0,p3*.005,0,p3*.020,2,p3*.021,3,p3*.027,0,p3*.042,0,p3*.055,127,p3*.132,73,p3*.163,71,p3*.255,0,p3*.330,0\na17       linseg    0,p3*.001,0,p3*.003,0,p3*.005,2849,p3*.027,2688,p3*.033,964,p3*.042,2792,p3*.128,2822,p3*.255,2819,p3*.256,0,p3*.330,0\na18       oscil     k9*p4,a17*p5,1\n          out       a2+a4+a6+a8+a10+a12+a14+a16+a18\nendin\n\n\n\n</CsInstruments>\n<CsScore>\nf 1 0 8193 9 1 1 0\n\n;i1 0 1 1 1\n;i1 1 2 1 .5\n;i1 3 4 1 .4\n;i1 7 10 1  .3\n\ni1 0 15 1 .31\ni1 .20 14 . .297\ni1 .30 17 .  .3\ni1 .01 16 .  .32\n\n\n\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1        oscil     p4, p5, p6 using oscillator and reverb effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from turnon.orc and turnon.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\nga1       init      0\n\n          turnon 99\n\n          instr 1   \na1        oscil     p4, p5, p6\n          out       a1\nga1       =         ga1 + (a1 * .2)\n          endin\n     \n          instr 99\na1        reverb    ga1, 5\n          out       a1\nga1       =         0\n          endin     \n\n</CsInstruments>\n<CsScore>\nf0 30\nf1 0 4096 10 1 1 1 1 1 1 1 \n\ni1 0 .2 5000  100 1\ni. + .  <   \t>  .\ni. + .  <   \t>  .\ni. + .  <   \t>  .\ni. + .  <   \t>  .\ni. + .  <   \t>  .\ni. + .  <   \t>  .\ni. + .  <   \t>  .\ni. + .  <   \t>  .\ni. + .  <   \t>  .\ni. + .  <   \t>  .\ni. + .  1000   1000  .\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kamp1     line      ampdb(p5),p3,0 using oscillator and generalized buzz generator and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from king5.orc and king5.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n          instr 1\nkamp1     line      ampdb(p5),p3,0\nkamp2     line      0,p3,ampdb(p5)\nas1a      oscil     20,cpspch(p4),1\nas1b      oscil     20,cpspch(p4)*1.4987,2\nas1c      delay     as1b,.02\nas1       =         as1a+as1c\nat1       atone     as1,cpspch(p4)\nas2a      oscil     20,cpspch(p4)*1.4987,2\nas2b      oscil     20,cpspch(p4),1\nas2c      delay     as2a,.025\nas2       =         as2a+as2c\nat2       atone     as2,cpspch(p4)\nab1a      gbuzz     20,at1, 5, 0, 1, 1\nab1b      gbuzz     20,at1, 5, 0, 1, 2\nab1       delay     ab1b,.015\naport1    tone      ab1,100\nab2a      gbuzz     20,at1, 5, 0, 1, 1\nab2b      gbuzz     20,at2, 5, 0, 2, 2\nab2       delay     ab2b,.03\naport2    tone      ab2,100\nag1       gain      aport1,kamp2\nag2       gain      aport2,kamp1\nadd       oscil     20,1/cpspch(p4),1\naddp      =         add+50\nav1       vdelay    ag1,addp,100\nav2       vdelay    ag2,addp,200\nasuml     =         ag1+av1\nasumr     =         ag2+av2\n          outs      asuml,asumr\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 10 5 7 4 5 3 4 2 4 1 4\nf2 0 8192 10 1  9 1 7 1 5 1 3 1 1\nt 0 150\ni1  0   3  7.02     48\ni1 .5   4  7.06     47\ni1 .6   5  6.09     46\ni1 .75  6  6.06 45\ni1 2 .  8.02   45\ni1 2.5  .  5.06     49\ni1 0    3  6.09 44\ni1 4    4  7.01 45\ni1 6    6  7.02 48\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 60_01_1.orc and 60_01_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:      60_01_1.ORC\n; synthesis:  phase vocoder(60)\n;             testfiles(01)\n;             4 partials, 1 second(1)\n; coded:      jpg 8/93\n\n\ninstr 1; *****************************************************************\niamp  = p4\nifq   = p5\n\n   a1    oscil    iamp, ifq, 11\n         out      a1\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:   60_01_1.SCO\n; coded:   jpg 8/93\n\n\n; GEN functions **********************************************************\n; carrier\nf11   0 2048 10 1 1 1 1              ; 4 partials\n\n\n; score ******************************************************************\n\n;     idur  iamp   ifq\ni1  0   1   8000  1000\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1        =         p4/2 using noise generation and oscillator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from noise6.orc and noise6.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n;Casti, John L. \"Complexification: Explaining a Paradoxical \n;World Through The Science Of Surprise\",\n;New York, HarperCollins, 1994.\n;from \"White, Brown and Pink Music\" pp. 245-249 \"A fractal process, on the other ;hand, has no characteristic frequency or scale, and its frequencies form what's ;called an inverse power spectrum.\"\n\n;Here is an instrument utilizing tables that offer a variety of percussive 1/f ;accompaniment to Casti's \"White Music.\" Casti's notated score is on page 247 of ;'Complexification.'\n\n;ORKIE\n\n          instr 1\n\ni1        =         p4/2\n\nk1        phasor    .9\nk2        phasor    1.33\ni2        table     p5,3\nkp1       table     k1*6,4\nkp2       table     k2*6,5\nip3       table     p6,6\nip4       table     p7,7\nip5       table     p8,8\nksweep    line      ip4,p3,ip5\nkvib      oscil     2.75,cpspch(p4),1\nkamp      linen     ampdb(i2),p3*.1,p3,p3*.9\nasing1    oscil     kamp/4,cpspch(p4),2\nasing2    oscil     kamp/4,cpspch(p4)+kvib,1\nabari     oscil     kamp/4,cpspch(kp1)+kvib,1\nabass     oscil     kamp/4,cpspch(kp2),2\na1        =         asing1+abari+asing2+abass\nasig      rand      10000\nafilt     reson     asig,ksweep,ip3\narampsig =          .05*afilt\nafin      balance   arampsig,a1\n          outs      a1+afin,a1+afin\n          endin\n\n\n</CsInstruments>\n<CsScore>\n;sco\nf1 0 1024 10 10 6 2 5 2 4 2 3 2 3 2 3 1 2 1 f2 0 1024 9 1 5 45 2 4 302 3 1 73 4 4 223 5 1 34 6 3 157 f3 0 32 -2 90 88 86 84 82 80 78\nf4 0 32 -2 7.00 7.09 7.05 7.02 7.00 7.07 f5 0 32 -2 6.04 6.05 6.02 6.07 6.05 6.04 f6 0 32 -2 2000 500 20 0.05\nf7 0 32 -2 4000 3000 2000 1000\nf8 0 32 -2 140 130 120 100\n\nt 0 185\n;\"White Music\" (c) 1994 by John L. Casti, The Santa Fe Institute. ;in on off pch v b s n\ni1 0 2 8.04 6 3 2 1\ni1 2 1 9.05 6 3 2 1\ni1 3 .5 8.05 6 0 3 0\ni1 3.5 4 8.05 6 3 2 1\ni1 7.5 1 9.02 6 3 2 1\ni1 8.5 1 9.04 6 3 2 1\ni1 9.5 .5 8.11 5 0 1 2\ni1 10     2 9.00 4 3 2 1\ni1 12     2 9.02 6 3 2 1\ni1 14     1 9.07 5 3 2 1\ni1 15 .5 8.05 6 0 2 2\ni1 16 .5 9.00 5 0 2 3\ni1 16.5 1 9.00 4 3 2 1\ni1 17.5 1 9.00 3 3 2 1\ni1 18.5 .5 8.07 6 0 3 2\ni1 19     4 8.05 3 3 2 1\ni1 23 .5 8.04 6 1 0 0\ni1 23.5 2 9.05 3 3 2 1\ni1 25.5 .5 8.05 3 1 0 2\ni1 24     4 8.07 3 3 2 1\ni1 28     2 8.09 2 3 2 1\ni1 30 .5 8.05 2 1 1 1\ni1 30.5 2 9.02 2 3 2 1\ni1 32.5 1 8.07 4 3 2 1\ni1 33.5 .5 9.00 5 1 2 3\ni1 34     1 9.05 3 3 2 1\ni1 35     1 8.07 3 2 3 2\ni1 36     1 9.07 3 0 1 3\ni1 37     1 8.02 3 3 2 1\ni1 38 .5 8.02 5 3 3 1\ni1 38.5 1 8.09 3 3 0 0\ni1 39.5 2 8.09 3 2 3 3\ni1 41.5 4 9.00 2 3 2 1\ni1 45.5 4 8.09 2 3 3 2\ni1 49.5 1 9.07 3 3 1 1\ni1 50.5 1 9.00 3 3 3 2\ni1 51.5 2 9.00 2 3 2 3\ni1 53.5 .5 9.02 6 2 3 3\ni1 54 .5 9.04 6 0 3 3\ne\n\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iorig          =         .05 using oscillator and resonant filter and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from gator.orc and gator.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\n\n;gen4 -L2K 0 0 3 .1 1 -3 .2 .4 -3 1 0 >/snd/eric/soundin.50\n;gen4 -L2K 0 0 -3 .05 1 -3 .15 .25 -3 .6 0 0 1.0 0 >/snd/eric/soundin.51\n;gen4 -L2K 0 0 3 .2 1 -3 .45 .5 -4 .5 0 0 1 0 >/snd/eric/soundin.52\n;gen4 -L2K 0 0 -3 .7 1 -3 1 0 >/snd/eric/soundin.53\n;f1 0 2048 -1 50 0\n;f2 0 2048 -1 51 0\n;f3 0 2048 -1 52 0\n;f4 0 2048 -1 53 0\n;i1 0 dur file skip\ninstr          1\niorig          =         .05\nirev           =         1.-iorig\nigain          =         1.0\nilpgain        =         1.5\nicgain         =         .1\nialpgain       =         0.1\nifile          =         p4\niskip          =         p5\nispeed1        =         .4\nispeed2        =         .67\nispeed3        =         1.4\nispeed4        =         .88\nidel1          =         .037\nidel2          =         .086\nidel3          =         .117\nidel4          =         .148\nicf1           =         3000\nicf2           =         1000\nicf3           =         250\nicf4           =         50\nifac           =         2\nibw1           =         icf1/ifac\nibw2           =         icf2/ifac\nibw3           =         icf3/ifac\nibw4           =         icf4/ifac\nifag           =         .25\naenv1          oscil     igain, ispeed1, 1\naenv2          oscil     igain, ispeed2, 2\naenv3          oscil     igain, ispeed3, 3\naenv4          oscil     igain, ispeed4, 4\naraw           soundin   p4,p5\nares1          reson     araw,icf1,ibw1,1\nares2          reson     araw,icf2,ibw2,1\nares3          reson     araw,icf3,ibw3,1\nares4          reson     araw,icf4,ibw4,1\nadel1          delay     ares1,idel1\nadel2          delay     ares2,idel2\nadel3          delay     ares3,idel3\nadel4          delay     ares4,idel4\nasum           =         (ares1*aenv1)+(ares2*aenv2)+(ares3*aenv3)+(ares4*aenv4)\nalp            tone      asum,1000\nadright        delay     alp,.178\nadleft         delay     alp,.215\nasumr          =         asum+(adright*ilpgain)\nasuml          =         asum+(adleft*ilpgain)\nacr1           comb      asumr,2,.063\nacr2           comb      acr1+asumr,.5,.026\nacl1           comb      asuml,2,.059\nacl2           comb      acl1+asuml,.5,.031\nacsumr         =         asumr+(acr2*icgain)\nacsuml         =         asuml+(acl2*icgain)\nalpo           alpass    asum,3,.085\nalpol          comb      alpo, 2.8, .526 \nalpor          comb      alpo, 2.8, .746 \nalol           tone      alpol,500\nalor           tone      alpor,500\nalold          delay     alol,.095\nalord          delay     alor,.11\narevl          =         (alpol*ialpgain)+acsuml+alold\narevr          =         (alpor*ialpgain)+acsumr+alord\naorig          =         araw*iorig\n               outs      (arevl*irev)+aorig,(arevr*irev)+aorig\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 4096 -1 93 0 4 0 \nf2 0 4096 -1 94 0 4 0\nf3 0 4096 -1 95 0 4 0\nf4 0 4096 -1 96 0 4 0\ni1 0 23.000000 1 0\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kenv    oscil   p4, 1 / p3, 2 using oscillator and linear segments and exponential segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from class.orc and class.sco\n; Original files preserved in same directory\n\nsr      =       44100\nkr      =       4410\nksmps   =       10\nnchnls  =       1\n\n\n        instr 1\n\nkenv    oscil   p4, 1 / p3, 2\nkpenv   line    p6, p3, 1\n\na1      oscil   kenv,   p5 * kpenv, 1\n        out     a1\n        endin\n\n        instr 2\n\nke1     linseg  0,p4,p5,p6,p7,p8,p9,p10,p11\nke2     expseg  p12,p13,p14,p15,p16\n    \na1      oscil   ke1,ke2,1\n        out     a1\n        endin\n\n</CsInstruments>\n<CsScore>\nf1  0   256 10  1\nf2  0   256 5   1   256 .001\n\n;i2 0   2   .25 10000   .25 8000    1   6000    .50 0   440 1   880 1   440\n;e\n\n\n\ni1  0   3 1000  440 2\ni1  0   . .     440 0\ni1  0   . .     440 .5\ni1  0   . .     440 1.5\ni1  0   . .     440 .3\ni1  0   . .     440 1.3\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipi       =         3.141593 using oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from ANALOG2.ORC and ANALOG2.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n; implements pulse wave with varying duty cycle\n; USE HIGHER K RATES FOR FASTER TRANSITION SPEEDS\n; function 1 is sine\n; function 2 is raised cosine\n; freq amp speed minduty harmonic-stretchfactor\n\n; NOTE USE OF LOW K-RATE\n\n          instr 1\nipi       =         3.141593\nistretch  =         p8\nif1       =         p4\nif2       =         if1*2.*istretch\nif3       =         if1*3.*istretch\nif4       =         if1*4.*istretch\nif5       =         if1*5.*istretch\nif6       =         if1*6.*istretch\nif7       =         if1*7.*istretch\nif8       =         if1*8.*istretch\ninumharms =         8\nigain     =         p5 * (32767./inumharms)\nia1       =         igain\nia2       =         ia1/2.\nia3       =         ia1/3.\nia4       =         ia1/4.\nia5       =         ia1/5.\nia6       =         ia1/6.\nia7       =         ia1/7.\nia8       =         ia1/8.\n\nidutyspeed =        p6\niminduty  =         p7\nimaxduty  =         .9999\nidutyamp  =         imaxduty-iminduty\n; PARAMETERIZE ENVELOPE HERE IF DESIRED\niatk      =         .1\nidk       =         .2\nisust     =         p3-(iatk+idk)\nkenv      linseg    0,iatk,igain,isust,igain,idk,0\nkduty     oscil     idutyamp, idutyspeed, 2\nkduty     =         (kduty + iminduty)*idutyspeed\nkamp1     =         sin(kduty*ipi)\n\nkamp2     =         sin(2*kduty*ipi)\n\nkamp3     =         sin(3*kduty*ipi)\n\nkamp4     =         sin(4*kduty*ipi)\n\nkamp5     =         sin(5*kduty*ipi)\n\nkamp6     =         sin(6*kduty*ipi)\n\nkamp7     =         sin(7*kduty*ipi)\n\nkamp8     =         sin(8*kduty*ipi)\n\n\nasig1     oscil     kamp1,if1,1\nasig2     oscil     kamp2,if2,1\nasig3     oscil     kamp3,if3,1\nasig4     oscil     kamp4,if4,1\nasig5     oscil     kamp5,if5,1\nasig6     oscil     kamp6,if6,1\nasig7     oscil     kamp7,if7,1\nasig8     oscil     kamp8,if8,1\nasum      =         asig1+asig2+asig3+asig4+asig5+asig6+asig7+asig8\n          out       asum * kenv\n\n          endin\n\n\n\n\n</CsInstruments>\n<CsScore>\n;----- sever briskly -----\n\nf1 0 8192 10 1\nf2 0 8192 -9 .5 1.0 0\n; freq amp speed minpulse harmonic-stretchfactor\ni1 0 2.7        83      .6      .3      .3      1.\ni1 1.5 2.7      57.241  .6      .7      .23     1.01\ni1 3 3.1        101.666 .6      .117    .23     1.1\ni1 4 7          27.5    .6      1.8     1.1     1.05\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a xhome sound using oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from xhome3.orc and xhome3.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n\n          instr     1\n\nifreq     =         cpspch(p4)                              ;p4 = note\nifreq1    =         ifreq * p5                              ;p5,p6,p7 = carrier ratio\nifreq2    =         ifreq * p6\nifreq3    =         ifreq * p7\n\nkc1eg     oscil     p11, 1 / p3, 2      ;p11-p16 = op amplitude\nkc2eg     oscil     p12, 1 / p3, 4\nkc3eg     oscil     p13, 1 / p3, 6\n     \nkm1eg     oscil     p14, 1 / p3, 3\nkm2eg     oscil     p15, 1 / p3, 5\nkm3eg     oscil     p16, 1 / p3, 7\n     \nam1       oscil     km1eg,    p8 * ifreq1, 1 ;p8,p9,p10 = c:m ratio\nam2       oscil     km2eg,    p9 * ifreq2, 1\nam3       oscil     km3eg,    p10 * ifreq3, 1\n     \nac1       oscil     kc1eg,    ifreq1 + am1, 1\nac2       oscil     kc2eg,    ifreq2 + am2, 1\nac3       oscil     kc3eg,    ifreq3 + am3, 1\n     \n          out       ac1 + ac2 + ac3\n          endin\n\n</CsInstruments>\n<CsScore>\nt 0 120\n\n                                             ;FUNCTIONS\nf1 0 4096 10 1\nf2 0 4096 7 0 40 1 750 .7 330 0\nf3 0 4096 7 0 50 1 550 .7 220 0\nf4 0 4096 7 0 50 1 800 .9 500 0\nf5 0 4096 7 0 50 1 700 .9 500 0\nf6 0 4096 7 0 50 1 800 .9 500 0\nf7 0 4096 7 0 50 1 700 .9 500 0\n\n                                             ;NOTE LIST\n\ni1   0    1.7       9.00 1    1    1    12   1    1    950  800  950  890  950  850\ni1   1.5  .7        8.07 1    1    1    12   1    1    950  800  950  890  950  850\ni1   2    .7        8.06 1    1    1    12   1    1    950  800  950  890  950  850\ni1   2.5  .7        8.07 1    1    1    12   1    1    950  800  950  890  950  850\ni1   3    1.7       8.08 1    1    1    12   1    1    950  800  950  890  950  850\ni1   4.5  1.7       8.07 1    1    1    12   1    1    950  800  950  890  950  850\ni1   7.5  1.7       8.07 1    1    1    12   1    1    950  800  950  890  950  850\ni1   9    1.7       9.00 1    1    1    12   1    1    950  800  950  890  950  850\ni1   12   10        8.01 1    1    1    12   1    1    950  800  950  890  950  850\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a weapons sound using oscillator and resonant filter and amplitude balance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from WEAPONS.ORC and WEAPONS.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\n\n;ALIEN WEAPONRY 1\n\n               instr     1\n\n;--------------------------------------------------------------------\nidur           init      p3\niamp           init      p4\nifqc           init      p5\nifqc2          init      p6\nax             init      p7\nay             init      p8\naz             init      p9\nis             init      p10\nir             init      p11\nib             init      p12\nih             init      p13\nilfo           init      p14\nipantab        init      p15\n\nkclkold        init      -1\nkpan           oscil     1, 1/idur, ipantab\nkclknew        oscil     1, ilfo/p3/2, 3\nif   (kclkold==kclknew)  goto next\n  ax           =         p7\n  ay           =         p8\n  az           =         p9\nnext:\nkclkold        =         kclknew\n\n;--------------------------------------------------------------------\n;kamp          linseg     0, .2, iamp, idur-.21, iamp, .01, 0\nkamp           oscil     1, ilfo/p3, 4\nkamp           =         kamp*iamp\nkrez           oscil     1, ilfo/p3, 2\nkrez           =         1000; (krez+1)*4000+1000\nkfqc           oscil     1, ilfo/p3, 2\nkfqc           =         (kfqc+1)*(ifqc-ifqc2)+ifqc\n\n\naxnew          =         ax+ih*is*(ay-ax)\naynew          =         ay+ih*(-ax*az+ir*ax-ay)\naznew          =         az+ih*(ax*ay-ib*az)\n\n;--------------------------------------------------------------------\nax             =         axnew\nay             =         aynew\naz             =         aznew\n\n;--------------------------------------------------------------------\n\naoutx          oscil     1, kfqc*(1+ax), 1\naouty          oscil     1, kfqc*(1+ay), 1\n\n;arezx         reson     asigx, krez, krez/8\n;aoutx         balance   arezx, asigx\n;arezy         reson     asigy, krez, krez/8\n;aouty         balance   arezy, asigy\n\n               outs      aoutx*kamp*sqrt(kpan), aouty*kamp*sqrt(1-kpan)\n\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1                               ; SINE\nf2 0 8192 7  -1 8192 1                       ; RAMP\nf3 0 8192 7  1 4096 1 0 -1 4096 -1           ; SQUARE\nf4 0 8192 7  0 7992 1 200 0                  ; RAMP\nf5 0 8192 7  0 1024 1 6968 1 200 0           ; ENVELOPE\n\nf60 0 1024 7 1 256 0 256 .5 256 .1 256 1 ; Pan\n\n;   Sta  Dur  Amp   Freq1 Freq2  X   Y   Z   s    r   b      h     LFO  PanTab\ni1  0    4  12000  110   520    .6  .6  .6  16   28  2.667  .002  8      60\ni1  0    4  10000  240   120    .6  .6  .7  10   27  2.657  .004  32     60\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1        =         p5*.3 using drum sound and oscillator and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Drum2.orc and Drum2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; risset.orc\n\n          instr 1\ni1        =         p5*.3\ni2        =         p4*.1\ni3        =         1/p3\ni4        =         p5*.8\ni5        =         4\n\na1        randi     p5,4000\na1        oscil     a1,i3,2\na1        oscil     a1,3000,1\n\na2        oscil     i1,i3,2\na2        oscil     a2,i2,3\n\na3        oscil     i4,i3,8\na3        oscil     a3,i5,4\n\n          out       a1+a2+a3\n\n          endin\n\n</CsInstruments>\n<CsScore>\nc risset.scr\nf 1 0 512 9 1 1 0\nf 2 0 512 5 4096 512 1\nf 3 0 512 9 10 1 0 16 1.5 0 22 2 0 23 1.5 0\nf 4 0 512 9 1 1 0\nf 8 0 512 5 256 512 1\n  i1 0.000 1.000 100 6000\n  i1 1.000 1.000 200 6000\n  i1 2.000 1.000 300 6000\n  i1 3.000 1.000 400 6000\n  i1 4.000 1.000 500 6000\n  i1 5.000 1.000 600 6000\n  i1 6.000 1.000 700 6000\n  i1 7.000 1.000 800 6000\n  i1 8.000 1.000 900 6000\n  i1 9.000 1.000 1000 6000\n  i1 10.000 1.000 100 6000\n  i1 11.000 1.000 200 6000\n  i1 12.000 1.000 300 6000\n  i1 13.000 1.000 400 6000\n  i1 14.000 1.000 500 6000\n  i1 15.000 1.000 600 6000\n  i1 16.000 1.000 700 6000\n  i1 17.000 1.000 800 6000\n  i1 18.000 1.000 900 6000\n  i1 19.000 1.000 1000 6000\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifreq     =         cpspch( p5) using oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from xhome2.orc and xhome2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n                                   ; TOOT1.ORC \n\n\n          instr 1\n\nifreq     =         cpspch( p5)\nimodrat   =         ifreq * 100 / 88\n\nkenv      oscil     p4,       1 / p3 ,  2\nkmen      oscil     p6,       1 / p3,        3\nkpeg      oscil     p7,       1 / p3,        4\nklfo      oscil     p10, p11,      1\nkvib      oscil     p8,       p9 + kmen ,    1\n\na2mod     oscil     p14 * kmen, p13 * imodrat, 1 \namod      oscil      kmen, imodrat + a2mod, 1\na1        oscil     kenv, ifreq + amod + kpeg + kvib, 1\na2        oscil     p12 * kenv, ifreq + amod + klfo + kpeg + kvib, 1\n          out       a1 + a2\n          endin\n;p4=aamp p5=afreq p6=mamp p7=pamp p8=vamp p9=vfreq \n;p10=champ p11=chfreq p12=chmix p13=m2amp\n\n</CsInstruments>\n<CsScore>\n\n\nt 0 120\n\n                                             ;FUNCTIONS\nf1 0 4096 10 1\nf2 0 1024 7 0 4 2 20 1 100 .7 500 .5 400 0\nf3 0 1024 7 0 4 1.5 20 .8 200 .33 600 0 200 2\nf4 0 1024 7 1 74 0 950 0\n                                             ;NOTE LIST\n;p1  p2   p3   p4        p5     p6  p7    p8 p9\n\ni1   0    1.7  10000     9.00  10000  -200  5  2  5  6 1 1.2 .3\ni1   1.5  .7   10000     8.07  10000  -200  5  2  5  6 1 1.2 .3\ni1   2    .7   10000     8.06  10000  -200  5  2  5  6 1 1.2 .3 \ni1   2.5  .7   10000     8.07  10000  -200  5  2  5  6 1 1.2 .3\ni1   3    1.7  10000     8.08  10000  -200  5  2  5  6 1 1.2 .3\ni1   4.5  1.7  10000     8.07  10000  -200  5  2  5  6 1 1.2 .3\ni1   7.5  1.7  10000     8.07  10000  -200  5  2  5  6 1 1.2 .3\ni1   9    1.7  10000     9.00  10000  -200  5  2  5  6 1 1.2 .3\ni1   12   10   10000     8.01  10000  -200  5  2  5  6 1 1.2 .3\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating oscillator and modal synthesis and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 50_09_1.orc and 50_09_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 2 \n\n; ************************************************************************\n; ACCCI:     50_09_1.ORC\n; timbre:    noise\n; synthesis: subtractive synthesis(50)\n;            continuous control of bw(09)\n;            variable cfq(1)\n; source:    Dodge (1985)\n; coded:     jpg 11/93\n\n\n\n\ninstr 1; *****************************************************************\nidur     = p3\niamp     = p4\nicfq     = p5\nipeakbw  = p6\niratebw  = p7*(1/idur)\n\n   kbw     oscil    1, iratebw, 1, 0.75      ; sinus at 270 degrees\n   kbw     =        (kbw + 1)/2              ; shift envelope to pos. dom.\n   kbw     =        kbw * ipeakbw            ; scale it to peak deviation\n\n   anoise  rand     iamp                     ; white noise\n   a1      reson    anoise,  icfq, kbw, 1    ; filter\n           outs      a1, a1\n\nendin\n\n\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     50_09_1.SCO\n; coded:     jpg 11/93\n\n\n; GEN functions **********************************************************\n; envelopes\nf1   0  1024  10  1\n\n\n\n; score ******************************************************************\n\n;                            bandwidth......             ; reson mode 1\n;    start idur  iamp  icfq  ipeakbw iratebw             ; output amps\ni1    0     5    8000     5   4000     2                 ; 7186   sisch..\ni1    +     2    .     5000    100     3                 ; 1293   ring..\ni1    .     .    .     1000    500    10                 ; 3175   fast exh.\ni1    .     .    .      400    250     1                 ; 1868   slow blow\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ia\t\t=\t1 using oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from chsp2.orc and chsp2.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t1\n\n\ninstr 1\n\n\tia\t\t=\t1\n\tisqa\t=\tsqrt(ia)\n\tifm\t\t=\tcpspch( p4)\n\n\tgoto r1\n\tif ifm > cpspch( 8.06)\t&& ifm < cpspch( 9.00) igoto r1\n\tif ifm > cpspch( 9.00)\t&& ifm < cpspch( 9.06) igoto r2\n\tif ifm > cpspch( 9.06)\t&& ifm < cpspch( 10.00) igoto r3\n\tif ifm > cpspch( 10.00)\t&& ifm < cpspch( 10.06) igoto r4\n\tif ifm > cpspch( 10.06)\t&& ifm < cpspch( 11.00) igoto r5\n\tif ifm > cpspch( 11.00)\t&& ifm < cpspch( 11.06) igoto r6\n\tif ifm > cpspch( 11.06)\t&& ifm < cpspch( 12.00) igoto r7\n\nr1:\n\tifmt1 \t=\t175\n\tia1\t\t=\t.400\n\ti1\t\t=\t0.1\n\tifmt2\t=\t350\n\tia2\t\t=\t.800\n\ti2\t\t=\t0.5\n\tifmt3\t=\t2800\n\tia3\t\t=\t.150\n\ti3\t\t=\t1.6\n\tigoto \tnumcrunch\n\nr2:\n\tifmt1 \t=\t262\n\tia1\t\t=\t.400\n\ti1\t\t=\t0.1\n\tifmt2\t=\t524\n\tia2\t\t=\t.800\n\ti2\t\t=\t0.1\n\tifmt3\t=\t2700\n\tia3\t\t=\t.150\n\ti3\t\t=\t1.6\n\tigoto \tnumcrunch\n\nr3:\n\tifmt1 \t=\t392\n\tia1\t\t=\t.800\n\ti1\t\t=\t0.1\n\tifmt2\t=\t784\n\tia2\t\t=\t.400\n\ti2\t\t=\t0.1\n\tifmt3\t=\t2500\n\tia3\t\t=\t.150\n\ti3\t\t=\t1.6\n\tigoto \tnumcrunch\n\nr4:\n\tifmt1 \t=\t523\n\tia1\t\t=\t.800\n\ti1\t\t=\t0.1\n\tifmt2\t=\t950\n\tia2\t\t=\t.200\n\ti2\t\t=\t0.1\n\tifmt3\t=\t2450\n\tia3\t\t=\t.150\n\ti3\t\t=\t1.6\n\tigoto \tnumcrunch\n\nr5:\n\tifmt1 \t=\t784\n\tia1\t\t=\t.800\n\ti1\t\t=\t0.0\n\tifmt2\t=\t1568\n\tia2\t\t=\t.100\n\ti2\t\t=\t0.0\n\tifmt3\t=\t2400\n\tia3\t\t=\t.150\n\ti3\t\t=\t1.6\n\tigoto \tnumcrunch\n\nr6:\n\tifmt1 \t=\t1046\n\tia1\t\t=\t.800\n\ti1\t\t=\t0.0\n\tifmt2\t=\t2092\n\tia2\t\t=\t.100\n\ti2\t\t=\t0.0\n\tifmt3\t=\t2350\n\tia3\t\t=\t.100\n\ti3\t\t=\t1.5\n\tigoto numcrunch\n\nr7:\n\tifmt1 \t=\t1568\n\tia1\t\t=\t.800\n\ti1\t\t=\t0.0\n\tifmt2\t=\t3136\n\tia2\t\t=\t.000\n\ti2\t\t=\t0.0\n\tifmt3\t=\t4500\n\tia3\t\t=\t.100\n\ti3\t\t=\t1.0\n\nnumcrunch:\n\n\tinj\t\t=\tifmt1 / ifm\n\tifc1\t=\t( inj - int(inj) > .5 ? int(inj + 1) : int( inj))\n\n\tinj\t\t=\tifmt2 / ifm\n\tifc2\t=\t( inj - int(inj) > .5 ? int(inj + 1) : int( inj))\n\n\tinj\t\t=\tifmt3 / ifm\n\tifc3\t=\t( inj - int(inj) > .5 ? int(inj + 1) : int( inj)) \n\n\titf\t\t=\t6.28\n\tiamp\t=\t25000\n\t\n\tam\toscil\t1,\titf * ifm,\t1\n\n\ta1\toscil\tiamp * ia1,\titf * ifc1 + ifm * i1 * am,\t1\n\ta2\toscil\tiamp * ia2,\titf * ifc2 + ifm * i2 * am,\t1\n\ta3\toscil\tiamp * ia3,\titf * ifc3 + ifm * i3 * am,\t1\n\n\ta1\t=\ta1 * isqa\n\ta2\t=\ta2 * ia * isqa\n\ta3\t=\ta3 * ia * ia\n\t\n\tout\t(a1 + a2 + a3)\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1\t0\t1024\t10\t1\n\ni1\t0\t   2\t8.00\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using oscillator and Butterworth bandpass filter and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from industrial.orc and industrial.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n;------------------------------------------------------------------\n; Industry\n; by Hans Mikelson April 1998\n;------------------------------------------------------------------\n; ORCHESTRA\n          \n          instr     2\nidur      =         p3\niamp      =         p4*2\nifqc      =         cpspch(p5)\niplstab   =         p6\nirattab   =         p7\niratrat   =         p8\nipantab   =         p9\nimixtab   =         p10\niloop     =         p11\nadel      init      0                        \nkprate    oscil     1, iratrat, irattab      ; PULSE RATE\nkamp      oscil     iamp, kprate, iplstab    ; AMPLITUDE PULSE\nkloop     linseg    0, .005, 1, iloop-.01, 1, .005,  0, p3-iloop-.01, 0 ; GATE IN DELAY LOOP\nkpan      oscil     1, 1/idur, ipantab       ; PANNING\nkmix      oscil     1, 1/idur, imixtab       ; FADING\nasig      rand      kamp                     ; NOISE SOURCE\naflt      butterbp asig, ifqc, ifqc/4        ; BAND FILTER\nabal      balance   aflt, asig               ; BRING LEVEL BACK UP\naout      =         abal*kloop+adel          ; GATE IN WITH FEEDBACK\nadel      delay     aout, iloop              ; DELAY\n          outs      aout*sqrt(kpan)*kmix, aout*sqrt(1-kpan)*kmix ; OUTPUT PAN & FADE\n          endin\n\n</CsInstruments>\n<CsScore>\n; SCORE\n; Pulse Tables\nf10  0 1024   7  0 256 0 256 1 256 0 256 0\nf11 0 1024   7  0 256 0 128 0 128 1 128 0 128 0 256 0\n; Rate Tables\nf20  0 1024  -5  1   512  200  512 100\nf21  0 1024  -5  10  1024 1000\nf22  0 1024  -5  100  512  10000 512  30\nf23  0 1024  -5  25  1024  62\nf24  0 1024  -7  500  1024  62\nf25  0 1024  -5  5000 1024  1000\nf26  0 1024  -7  50   512  500 512 50\n; Pan Tables\nf30  0 1024  7  0  1024  1\nf31  0 1024  7  1  1024  0\nf32  0 1024  7  1 512  0 512 1\nf33  0 1024  7  .5 1024 .5\n; Mix Tables\nf40  0 1024  5  .01 256 1 512 1 256 .01\nf41  0 1024  5  .01 128 1 768 1 128 .01\nf42  0 1024  5  1 1024 1\n; Generate industrial tones\n;   Sta  Dur  Amp   Pitch  PulseTab  RtTab  RtRt  PanTab  MixTab  Loop\ni2  0    8    8000  9.00   11       22      1     31      41      .2\ni2  3    10   8000  7.00   10       22      1     32      41      .3\ni2  7    12   8000  9.00   11       23      10    30      40      .2\ni2  9    12   8000  8.00   11       24      10    32      41      .05\ni2  11   20   8000  7.00   11       25      4     31      40      .5\ni2  12   22   8000  7.02   11       25      10    32      41      .2\ni2  17   2    8000  6.00   11       26      10    33      42      .010\ni2  19.5 2    8000  6.00   11       26      10    33      42      .011\ni2  22   2    8000  6.00   11       26      10    33      42      .012\ni2  17   10   8000  8.05   11       26      10    31      41      .08\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for WAVEGUIDE CLARINET using oscillator and Butterworth lowpass filter and Butterworth highpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from clariguide.orc and clariguide.sco\n; Original files preserved in same directory\n\nsr\t   \t=\t  \t44100\nkr\t   \t=\t  \t4410\nksmps   \t=\t  \t10\nnchnls  \t=\t  \t2\n\n\n\ninstr 1\t\t\t    ;WAVEGUIDE CLARINET \n\n; INTERESTING POINTS IN THE EXTENDED CSOUND IMPLEMENTATION:\n; THE \"AM\" FACTOR FOR IPMAX = 10 TAKES SMALL VALUES LIKE .005 - .02.\n; IF THE VALUE IS SMALL (.005) THEN THE REED TAKES MORE TIME TO RESPOND\n; TO THE MOUTH PRESSURE.\t FOR VALUES BIGGER THAN .03 STRANGE THINGS HAPPEN.\n; I WILL ASSUME THAT THEY ARE MULTIPHONICS OR SOME OVERFLOW OF AIR.\n; IF \"IPMAX\" IS LOWERED THEN THESE NUMBERS CHANGE.  \"IPMAX\" DOES NOT NEED \n; VALUES MUCH BIGGER THAN 10 SINCE OVERFLOW AND FEEDBACK SHOW UP.\n; \"AM\" AND\" \"IPMAX\" DETERMINE REED STIFFNESS AND EMBROCHURE\t ( HOW TIGHT\n; THE REED IS PRESSED BY THE PLAYER).\n; \"IDAMP\" ACCORDING TO MY ACOUSTICS BOOK SHOULD BE BETWEEN 1400HZ TO 2000HZ.\n; 1000HZ SOUNDS FINE TO ME!\n; FOR SOME REASON PITCH IS IN THE WRONG OCTAVE.  I TRY TO BRING IT UP BY\n; MULTIPLYING IT BY 2 BUT I THING IT'S STILL OFF.\n; \"AGROWL\" IS A SIMPLE SIMULATION OF THE GROWLING SAX PLAYERS DO TO GET\n; MULTIPHONICS.  IF \"AGROWL\" IS USED WITH \"AM\" EQUAL TO .03 AND A LOW \n; CUTTOF FREQUENCY FOR THE BELL I GET A HARMONIC.\n; IN MIT'S CSOUND IMPLEMENTATION THE INSTRUMENT BEHAVES AND SOUNDS MUCH DIFFERENT.\n; THE HARMONIC TRICK DOES NOT WORK AND THE CUTOFF FREQUENCY SOUNDS GOOD AT 1800HZ.\n\n\n;\t   INIT SECTION\n\nidamp   \t=\t\t\t1000\t\t  \t\t\t\t\t; Determines brightness of clarinet\nipitch  \t=\t\t\t4*cpspch(p4)\t\t\t\t\t; Pitch (Something's wrong here! But it works)\nipmax   \t=\t\t\t10\t\t  \t\t\t\t\t; Max mouth pressure\nivol\t   \t=\t\t\t1000\t\t  \t\t\t\t\t; Bring to audible level factor\napbp\t   \tinit\t\t\t0\t\t  \t\t\t\t\t; Init the returning pressure wave\n\n;\t   \tCONTROL SECTION\n\napm\t   \tlinseg\t\t0, p3/2, ipmax, p3/2, 0 \t\t\t; Mouth pressure\n    \nam\t   \t=\t\t\t.01\t    \t\t\t\t\t\t; Embrochure/reed stiffness factor\n\nkrand   \trand\t\t\t1\t\t\t\t    \t\t\t; Random element\nkrand   \tport\t\t\tkrand, 1/kr\napm\t   \t=\t\t\tapm - (krand * ipmax)/10\n\nkvs\t   \tline\t\t\t0, p3, 1\t\t\t\t\t\t; Simple time varying vibrato\nkpitch  \toscil\t\tkvs*50, kvs*5, 3\nkpitch  \t=\t\t\tipitch - kpitch + krand * 50\nagrowl \toscil\t    \tapm, 100, 4\t\t   \t\t\t; Growling\napm\t  \t=\t\t    \tapm + agrowl\n\n;agrowl \tsoundin\t  \t4,0,4\t\t\t\t\t\t; Resonating a Soundfile\n;apm\t   \t=\t\t\tagrowl\n\n;\t   WAVEGUIDE STARTS HERE\n\n; The ugly variable names mean:\n\n; apdp:\t\t \t\tClosed reed pressure drop\n; apbp, apbm:\t \t\tTraveling pressure waves\n; atr:\t\t \t\tReed responce to pressure\n; abell:\t\t \t\tPressure wave at bell\n; arefl:\t\t \t\tReflected pressure wave at bell\n; aout:\t\t \t\tOutput from bell\n\napdp\t   \t=\t\t\t2*apbp - apm\natr\t   \t=\t\t\t1 - am*(apdp - ipmax)\n;atr\t   \treed\t\t\tapdp, ipmax, am\t\t\t\t; My reed opcode (not used now)\napbm\t   \t=\t\t\tapm/2 + atr * apdp/2\t\t\t; Start from reed\n\n;\t   \tMIT CSOUND IMPLEMENTATION (no vibrato and pitch bends)\n\n;abell   \tdelay\t\t apbm, .5/ipitch\t    \t\t\t; Go to bell\n;arefl   \ttone\t\t \t-abell, idamp\t\t    \t\t\t; Damp/reflect on bell\n;aout    \tatone\t\t abell, idamp\t\t    \t\t\t; Get out of bell\n;apbp    \tdelay\t\t arefl, .5/ipitch\t    \t\t\t; Go back to reed\n    \n\n;\t   \tEXTENDED CSOUND IMPLEMENTATION\n\nabell  \tvdelay\t    \tapbm, 500/kpitch, 1000 \t\t\t; Go to bell\narefl  \tbutterlp    \t-abell, idamp\t\t  \t\t\t; Damp/reflect on bell\naout\t  \tbutterhp    \tabell, idamp\t\t  \t\t\t; Get out of bell\napbp\t  \tvdelay\t    \tarefl, 500/kpitch, 1000\t\t\t; Go back to reed\n\n\t   \touts\t\t\taout*ivol, aout*ivol   \t\t\t; Give it to me!\n\t\tendin\n\n;   Hi! Mike.\tThis is my Csound implementation of the clarinet waveguide.\t Some of the \n;   opcodes I use are mine.  vdelay is my variable delay, it takes time in sec/1000\n;   its last argument is max time.\t Butterlp/hp are lo/hi-pass Butterworths.  It is \n;   setup now to run in MIT's Csound but is doesn't work and sound as well.  You'll notice\n;   that I don't use any tricky math to get the reed moving.  I got most of it from\n;   J. Smith's STAN-M-39 report.  If you don't have it you should get it, since he explains\n;   most of the tricky parts.\t It is a 1987 paper so he is not as secretive about waveguides\n;   as he is now.  For the Csound implementation the lookup table might be useless since\n;   it has to be huge and computing it in real time is not so slow.  The equation is:\n\n;\t\t\t   {\t  1, for hd <= hdc\n;\t reed( hd) = {\n;\t\t\t   {\t  1 - m * ( hd - hdc), for hd > hdc\n\n;\t m and hdc correspond to embrochoure and reed stiffness\n;\t hd is the pressure difference corresponding to the reed closure\n;\n;   This is a simple and fast implementation for C.  My Csound implementation does not\n;   use this exactly, because I can't have if-then on audio rate.  The reason you got into\n;   all the strange math might be that you are using velocity, force or energy density\n;   waves, or that you have a more exact reed simulation.  This formula is an aproximation\n;   since it does not include bernoulli's force or some other not so significant factors.\n;   I'd like to see what you have.\t You can also find some reed equations in the winter \n;   92 computer music journal.  I also have a few things on lip simulation for brass.\n\n;   I hope I helped!\n;   Paris.\n;   ps. I'm also getting ready the bowed string and brass model.\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 7 0 124 1 800 0\nf2 0 1024 7 0 800 1 124 0\nf3 0 1024 10 1\nf4 0 1024 10 1 1 1 1 1 1\n\ni1 0 4 9.00\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1             oscil     1,1/p3,5 using oscillator and interpolating random and sample-and-hold random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from inharm1.orc and inharm1.sco\n; Original files preserved in same directory\n\nsr             =         22050\nkr             =         4410\nksmps          =         5\nnchnls         =         1\n\n;THIS IS THE INSTRUMENT FROM DODGE&JERSE P.100, RISSET\u0007S INHARMONIQUE \n\n\ninstr          1\na1             oscil     1,1/p3,5\n; P3 DURATION\n\na2             =         ampdb(p4)*a1\n; P4 PEAK AMPLITUDE\n\na3             oscil     100,1/p3,7\na4             randh     1,a3\n\na5             =         .2*a1\na6             =         a5*a4\na7             =         1+a6\n\na8             =         a7*p5\n; P5 BANDWIDTH\n\na9             randi     a2,a8\n\na10            =         a4*.2\na11            =         1+a10\n\na12            oscil     p6,1/p3,8\n; P6 CENTER FREQ\n\na13            =         a12*a11\n\na14            oscil     a9,a13,1\n\n               out       a14\nendin\n\n</CsInstruments>\n<CsScore>\n;SCORE FOR INHARMONIQUE\n\nf1 0 512 10 1\nf5 0 512 7 0 46 .166 31 1.0 46 .22 46 1.0 23 .38 10 1.0 10 .5 31 1.0 62 .5 118 .25 89 0\nf7 0 512 7 1.0 139 1.0 46 .55 93 .55 46 .5 46 .5 15 .27 127 .27 \n\nf8 0 512 7 1.0 201 1.0 311 .25\n\ni1 0 3 80 10 500\ni1 3 3 90 50 1000\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kamp    line    0, p3, 32000 using granular synthesis and oscillator and stereo reverb", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from graintoot.orc and graintoot.sco\n; Original files preserved in same directory\n\nsr      =       44100\nkr      =       4410\nksmps   =       10\n\n\n\n        instr 1\nkamp    line    0, p3, 32000\nagr     grain   kamp, 1000, 10, 0, 0, .05, 1, 2, .05\n        out     agr\n        endin\n\n        instr 2\nagr     grain   0, 1000, 10, 32000, 0, .05, 1, 2, .05\n        out     agr\n        endin\n\n        instr 3\nkfreq   line    0, p3, 6000\nagr     grain   20000, kfreq, 10, 0, 0, .05, 1, 2, .05\n        out     agr\n        endin\n\n        instr 4\nkfreqoff line   0, p3, 6000\nagr     grain   10000, 100, 10, 0, kfreqoff, .05, 1, 2, .05\n        out     agr\n        endin\n\n        instr 5\nkdens   line    1, p3, 200\nagr     grain   5000, 1000, kdens, 0, 0, .005, 1, 2, .005\n        out     agr\n        endin\n\n        instr 6\nklen    line    .001, p3, .2\nagrl    grain   20000, 1000, 10, 0, 0, klen, 1, 2, .2\n        out     agrl\n        endin\n\n        instr 7\nagr     grain   32000, 1000, 10, 0, 0, .05, 1, 3, .05\n        out     agr\n        endin\n\n        instr 8\nagr     grain   2000, 1/.55 , 40, 30000, 2/.55, .1, 4, 2, .1\n        out     agr\n        endin\n\n        instr 9\nktri    oscil   3000, 1/p3, 3\na1      grain   ktri, 1000, 100, 100, 1000, .1, 1, 2, .1\na2      grain   ktri, 600 , 80,  50, 1000, .1, 1, 2, .1\na3      grain   ktri, 200 , 130, 10, 1000, .1, 1, 2, .1\na4      line    0, p3, 1\na5      pow     a4, 2, 1\na6      vdelay  (a1+a2+a3), a5, 1.1\na7      reverb2 a6, 1.5, .2\n        out     (a6*(a5-.1) + a7*(.9-a5-.1)/4)\n        endin\n\n\n\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\nf2 0 1024 20 2\nf3 0 1024 7 0 512 1 512 0\nf4 0 16384 1 2 .01 1 1\n\ni1 1 1\ns\ni2 1 1\ns\ni3 1 1\ns\ni4 1 5\ns\ni5 1 5\ns\ni6 1 5\ns\ni7 1 1\ns\ni8 1 5\ns\ni9 0 3\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a toot sound using oscillator and FM synthesis and Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from toot13.orc and toot13.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\n               instr 13\niamp           =         ampdb(p4) / 2       ;AMP SCALED FOR TWO SOURCES\nipluckamp      =         p6                  ;P6: % OF TOTAL AMPLITUDE, 1=DB AMP AS IN P4\nipluckdur      =         p7*p3               ;P7: % OF TOTAL DURATION, 1=ENTIRE NOTE DURATION\nipluckoff      =         p3 - ipluckdur\n\nifmamp         =         p8                  ;P8: % OF TOTAL AMPLITUDE, 1=DB AMP AS IN P4\nifmrise        =         p9*p3               ;P9: % OF TOTAL DURATION, 1=ENTIRE NOTE DURATION\nifmdec         =         p10*p3              ;P10: % OF TOTAL DURATION\nifmoff         =         p3 - (ifmrise + ifmdec)\nindex          =         p11\nivibdepth      =         p12\nivibrate       =         p13\niformantamp    =         p14                 ;P14: % OF TOTAL AMPLITUDE, 1=DB AMP AS IN P4\niformantrise   =         p15*p3              ;P15: % OF TOTAL DURATION, 1=ENTIRE NOTE DURATION\niformantdec    =         p3 - iformantrise\n\nkpluck         linseg    ipluckamp, ipluckdur, 0, ipluckoff, 0\napluck1        pluck     iamp, p5, p5, 0, 1\napluck2        pluck     iamp, p5*1.003, p5*1.003, 0, 1\napluck         =         kpluck * (apluck1+apluck2)\n\nkfm            linseg    0, ifmrise, ifmamp, ifmdec, 0, ifmoff, 0\nkndx           =         kfm * index\nafm1           foscil    iamp, p5, 1, 2, kndx, 1\nafm2           foscil    iamp, p5*1.003, 1.003, 2.003, kndx, 1\nafm            =         kfm * (afm1+afm2)\n\nkformant       linseg     0, iformantrise, iformantamp, iformantdec, 0\nkvib           oscil     ivibdepth, ivibrate, 1\nafrmt1         fof       iamp, p5+kvib, 650, 0, 40, .003,.017,.007,4,1,2,p3\nafrmt2         fof       iamp, (p5*1.001)+kvib*.009, 650, 0, 40, .003,.017,.007,10,1,2,p3\naformant       =         kformant * (afrmt1+afrmt2)\n\n               outs      apluck + afm + aformant, apluck + afm + aformant\n               endin\n\n</CsInstruments>\n<CsScore>\n                                             ; TOOT13.SCO\nf1  0  8192  10  1                           ; SINE WAVE\nf2  0  2048  19  .5  1  270 1                ; SINE QUADRANT RISE\n\n;  pluckamp = p6     -  % OF TOTAL AMPLITUDE, 1=DB AMP AS SPECIFIED IN P4\n;  pluckdur = p7*p3  -  % OF TOTAL DURATION, 1=ENTIRE DURATION OF NOTE\n\n;  fmamp =  p8       -  % OF TOTAL AMPLITUDE, 1=DB AMP AS SPECIFIED IN P4\n;  fmrise = p9*p3    -  % OF TOTAL DURATION, 1=ENTIRE DURATION OF NOTE\n;  fmdec = p10*p3    -  % OF TOTAL DURATION\n;  index = p11       -  NUMBER OF SIGNIFICANT SIDEBANDS: P11 + 2\n;  vibdepth = p12\n;  vibrate = p13\n;  formantamp = p14  -  % OF TOTAL AMPLITUDE, 1=DB AMP AS SPECIFIED IN P4\n;  formantrise = p15*p3  - % OF TOTAL DURATION, 1=ENTIRE DURATION OF NOTE\n f0 1\n f0 2\n f0 3\n f0 4\n f0 6\n f0 7\n f0 8\n f0 9\n f0 10\n f0 11\n f0 12\n f0 14\n f0 15\n f0 16\n f0 17\n f0 18\n f0 19\n f0 20\n f0 21\n f0 22\n f0 23\n f0 24\n f0 25\n;ins st dur   amp frq  plkmp    plkdr  fmmp  fmrs fmdc indx vbdp vbrt frmp fris\ni13  0   5    80  200  .8      .3       .7   .2 .35    8     1      5      3     .5\ni13  5   8    80  100  .        .4       .7  .35    .35    7     1      6      3     .7\ni13 13  13    80   50   .        .3       .7     .2 .4      6     1     4      3     .6\n e\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ilump     table     p5,5 using noise generation and oscillator and generalized buzz generator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from noise5.orc and noise5.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n; On Sun, 13 Oct 1996, Robin Whittle wrote: \n\n; \"Pink noise\" or 1/f noise can be generated by taking white noise (simple random \n; numbers) and low pass filtering it with a roll-off of -3dB per octave. -6db is ;easy, but I can't think of a way of doing -3dB. There has to be a lower frequency ;limit to this, otherwise over long time periods there will be huge amplitudes. \n\n; Is it possible to squeeze output through a bandpass filter or, even better, a setof ; band pass filters (tabled perhaps) and trim or sculpt a targeted frequency ofnoise? \n\n; or would that screw the pooch on amplitude, too? \n \n; Here is tabled amp reference; I call this one \"Gerald\" for no particular reason.\n\n\n          instr 1\n\nilump     table     p5,5\nkvib      oscil     2.75,cpspch(p6)/50,8\nkdex      phasor    p4\nkptch1    table     kdex*8,7\nkptch2    table     kdex*8,6\nkptch3    table     kdex*8,2\namp       linseg    0,p3*.1,ampdb(ilump),p3*.9,0 \nasig      gbuzz     amp/2,cpspch(kptch1),5,1,3,1\nasigr     oscil     amp/2,cpspch(kptch2)+kvib,3 \nasigp     oscil     amp*.3,cpspch(kptch3)+kvib,4 \nasigm     gbuzz     amp*.7,cpspch(p6),5,1,-3,8\n          outs      asig+asigr,asigp+asigm\n\n          endin\n\n\n</CsInstruments>\n<CsScore>\n;sco dee doh\nf1 0 2048 9 1 10 87 2 5 207 3 0 90 4 4 36 5 0 90 6 3 207 f2 0 16 -2 8.02 8.11 8.09 8.00 8.02 8.07 8.04 8.00 f3 0 1024 10 10 5 0 4 0 3 0 2 0 1\nf4 0 1024 10 10 0 5 0 4 0 3 0 2 0 1\nf5 0 16 -2 95 90 88 86 82 80 75\nf6 0 16 -2 5.00 6.04 5.02 6.05 5.07 6.04 5.09 7.04 f7 0 16 -2 9.04 9.07 9.05 9.09 9.11 9.11 10.00 10.00 f8 0 512 9 1 5 225 2 7 60 3 3 330\nt 0 60 1.5 30 3 15\n\ni1 0 1.5 1 6 8.00\ni1 .5 1.5 1 6 7.07\ni1 1 1.5 1 5 7.05\ni1 1.5 1 2 4 7.00\ni1 2 1 2 3 7.05\ni1 2.5 1 2 2 7.07\ni1 3 1.5 1 1 8.00\ni1 3.5 1 1 3 7.07\ni1 4.5 1 2 6 7.05\n\nUse balance to correct for powerloss by filters! (see the manual and tutorials!)\n\ni.e.\n\n\na1   = asig+asigr; temp result\na2   = asigp+asigm; temp result\nar1  reson a1,1200,10 ;  bandpass-filter\nar2  reson a2,1205,10 ;  bandpass-filter\nab1  balance ar1,a1 ;    balance filtered signal to original\nab2  balance ar2,a2 ;    balance filtered signal to original\n\nouts ab1,ab2;\n\n\nGood luck,\n\n\n\n\n\n\nHans Timmermans     email: hans.timmermans@kmt.hku.nl\nSenior Lecturer Computermusic\nUtrecht School of the Arts    phone: +31 356836464\nFaculty of Art, Media & Technology fax: +31 356836480 Department Musictechnology\nPO-Box 2471\n1200 CL Hilversum\nTHE NETHERLANDS\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using oscillator and Butterworth bandpass filter and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from industry2.orc and industry2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         22050\nksmps     =         2\nnchnls    =         2\n\n\n;------------------------------------------------------------------\n; INDUSTRY\n; BY HANS MIKELSON APRIL 1998\n;------------------------------------------------------------------\n; ORCHESTRA\n\n\n\n          instr 2\n\nidur      =         p3\niamp      =         p4*2\nifqc      =         cpspch(p5)\niplstab   =         p6\nirattab   =         p7\niratrat   =         p8\nipantab   =         p9\nimixtab   =         p10\niloop     =         p11\nadel      init      0\n\nkprate    oscil     1, iratrat, irattab\nkamp      oscil     iamp, kprate, iplstab\nkloop     linseg    0, .005, 1, iloop-.01, 1, .005, 0, p3-iloop-.01, 0\nkpan      oscil     1, 1/idur, ipantab\nkmix      oscil     1, 1/idur, imixtab\n\nasig      rand      kamp\naflt      butterbp  asig, ifqc, ifqc/4\nabal      balance   aflt, asig\n\naout      =         abal*kloop+adel\nadel      delay     aout, iloop\n\n          outs      aout*sqrt(kpan)*kmix, aout*sqrt(1-kpan)*kmix\n\n          endin\n\n\n</CsInstruments>\n<CsScore>\n; SCORE\n; Pulse Tables\nf10 0 1024 7 0 256 0 256 1 256 0 256 0\nf11 0 1024 7 0 256 0 128 0 128 1 128 0 128 0 256 0\n; Rate Tables\nf20 0 1024 -5 1 512 200 512 100\nf21 0 1024 -5 10 1024 1000\nf22 0 1024 -5 100 512 10000 512 30\nf23 0 1024 -5 25 1024 62\nf24 0 1024 -7 500 1024 62\nf25 0 1024 -5 5000 1024 1000\nf26 0 1024 -7 50 512 500 512 50\n; Pan Tables\nf30 0 1024 7 0 1024 1\nf31 0 1024 7 1 1024 0\nf32 0 1024 7 1 512 0 512 1\n; Mix Tables\nf40 0 1024 5 .01 256 1 512 1 256 .01\nf41 0 1024 5 .01 128 1 768 1 128 .01\n\n; Generate industrial tones\n; Sta Dur Amp Pitch PulseTab RtTab RtRt PanTab MixTab Loop\ni2 0 8 8000 9.00 11 22 1 31 40 .2\ni2 3 10 8000 7.00 10 22 1 32 41 .3\ni2 7 12 8000 9.00 11 23 10 30 40 .2\ni2 9 12 8000 8.00 11 24 10 32 41 .05\n\ni2 11 20 8000 7.00 11 25 4 31 40 .5\ni2 12 22 8000 7.02 11 25 10 32 41 .2\ni2 17 8 8000 6.00 11 26 10 30 40 .01\ni2 17 10 8000 8.05 11 26 10 31 41 .08\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipanfrq        =         p6 using noise generation and oscillator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bluenoise.orc and bluenoise.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\n\n\n;=====================================\n; REVERB INITIALIZATION\n;=====================================\n\ngarvbsig       init      0\n\n\n;=================================================\n; INSTRUMENT 2 --- A NOISE BAND GLISSANDO\n;=================================================\n\n               instr     2\n\nipanfrq        =         p6\nkfreq          =         p5\nirandfrq       =         p7\nirandamp       =         p8                                         \nkramp          linseg    0,p3*.8,p4,p3*.2,0            ; THIS CONTROLS THE AMP OF RANDI\nkenv1          linen     p4,0, p3,10                   ; THIS CONTROLS THE FRQ OF RANDI\nkrndmod        randh     irandamp,irandfrq\nan             randi     kramp,kenv1\nao             oscil     an,kfreq,11                   ; ANOISE IS FED TO THE A INPUT OF AOSC\nkpan           oscil     1,.09*ipanfrq,1\naosc2          reson     ao,kpan+100+krndmod,100,2     ; KPAN+100 IS OFFSET FOR FILTER SWEEP INPUT\n               outs      aosc2*kpan,aosc2*(1-kpan)\ngarvbsig       =         garvbsig+(aosc2*.2)\n               endin\n          \n;===================\n; GLOBAL REVERB\n;===================\n\n               instr     99\n\na1             reverb2   garvbsig, p4, p5\n               outs      a1,a1\n\ngarvbsig       =         0\n\n               endin\n\n</CsInstruments>\n<CsScore>\nf1  0 512\t  9 1 1 0\t\t\t\t\t\t\t\t;SINE LO-RES\nf11 0 2048 10 1\t\t\t\t\t\t\t\t;SINE WAVE hi-res\n\n;THIS IS FOR REVERB SETTINGS\n;===========================\n;p1\t\t p2\t p3\t p4\t\t p5\n;instr\tstrt dur\t rvbtime\t hfdif\ni99\t\t0\t33\t6\t\t.2\n\n;p1\t\tp2\t\tp3\tp4\t\tp5\t  p6\t\t p7\t\t p8\n;instr\tstrt\t\tdur\tenvamp\tkfreq  ipanfrq\t randfrq\t randamp\ni2\t\t0.000\t10\t4000\t\t1000\t  10\t\t 15\t\t 20000\n\ni2\t\t8.000\t10\t8000\t\t1000\t  0\t\t 0\t      0\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for RANDOM FREQUENCY MODULATION using oscillator and interpolating oscillator and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from R200.ORC and R200.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; #200.orc Brass-like Sounds through independent control of harmonics\n\n          instr 1             ; RANDOM FREQUENCY MODULATION\ni1        =         .1*p4*p5\ngk1       randi     i1,p6\n          endin\n\n          instr 2             ; INSTRUMENTS 2-6 = PARTIALS 1-5 WITH\ni1        =         1/p3                     ; DIFFERENT ENVELOPES f2-f6\nk1        oscil     p4,i1,2\na1        oscili    k1,p5+gk1, 1\n          out       a1 * 8\n\ngk1       =         0\ngk1       init      0\n          endin\n\n          instr 3\ni1        =         1/p3\nk1        oscil     p4,i1,3\na1        oscili    k1,p5+gk1, 1\n          out       a1 * 8\n\ngk1       =         0\ngk1       init      0\n          endin\n\n          instr 4\ni1        =         1/p3\nk1        oscil     p4,i1,4\na1        oscili    k1,p5+gk1, 1\n          out       a1 * 8\n\ngk1       =         0\ngk1       init      0\n          endin\n\n          instr 5\ni1        =         1/p3\nk1        oscil     p4,i1,5\na1        oscili    k1,p5+gk1, 1\n          out       a1 * 8\n\ngk1       =         0\ngk1       init      0\n          endin\n\n          instr 6\ni1        =         1/p3\nk1        oscil     p4,i1,6\na1        oscili    k1,p5+gk1, 1\n          out       a1 * 8\n\ngk1       =         0\ngk1       init      0\n          endin\n\n          instr 7\ni1        =         p6/12500\ni2        =         p7/12500\n\na1        linen     p4,i1,p3,i2\na2        oscili    a1,p5+gk1,1\n          out       a2*8\n\ngk1       =         0\ngk1       init      0\n          endin\n\n</CsInstruments>\n<CsScore>\n; #200.sco Brass-like Sounds through independent control of harmonics\n\nf1 0 512 9 1 1 0\nf2 0 512 7 0 10 .001 16 .282 14 .112 389 .178 44 .159 27 .008 12 .001\nf3 0 512 7 0 19 .001 415 .5 20 .355 36 .016 22 .001\nf4 0 512 7 0 23 .001 412 .56 77 .001\nf5 0 512 7 0 10 .001 9 .005 399 .224 13 .224 27 .178 54 .001\nf6 0 512 7 0 10 .001 11 .009 12 .089 12 .022 28 .022 153 .112 38 .178 81 .071 123 .062 44 .001\n\nf0 1\ns\n\ni1 0 .17 .6 554 10\ni7 0 .17 200 554 7.5 140\ni7 0 .17 160 1108 7.5 110\ni7 0 .17 350 1662 12 85\ni7 0 .15 310 2216 14 80\ni7 0 .14 160 2770 24 65\ni7 0 .14 200 3324 27 60\ni7 0 .14 99 3878 32 60\ni7 0 .14 200 4432 30 60\ni7 0 .14 80 4986 35 60\n\ni1 2 .15 .6 293 10\ni7 2 .15 50 293 10 140\ni7 2 .15 80 586 10 110\ni7 2 .15 100 879 12 85\ni7 2 .15 175 1172 17 80\ni7 2 .15 180 1465 25 65\ni7 2.01 .15 150 1758 30 60\ni7 2.01 .15 100 2051 35 60\ni7 2.01 .13 80 2344 35 60\ni7 2.01 .14 50 2637 40 100\ni7 2.01 .14 80 2930 45 100\ni7 2.01 .14 140 3223 45 100\ni7 2.01 .13 90 3516 45 100\ni7 2.01 .13 45 3809  40 100\ni7 2.01 .13 25 4102  45 90\n\ni1 4 .4 .4 784 20\ni2 4 .4 800 784\ni3 4 .4 800 1568\ni4 4 .4 800 2352\ni5 4 .4 800 3136\ni6 4 .4 800 3920\n\ni1 5 .7 .4 830 20\ni2 5 .7 1400 830\ni3 5 .7 1000 1660\ni4 5 .7 1000 2490\ni5 5 .7 1000 3320\ni6 5 .7 1000 4150\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ktab      table     p4,1 using oscillator and resonant filter and amplitude balance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from loco.orc and loco.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n\n          instr     1\nktab      table     p4,1\nkliner    linen     10000,.1,p3,.1\nanoise    rand      7000,.9\nabpf      reson     anoise,ktab,0.047\nasig      oscil     kliner,ktab,2\naball     balance   abpf,asig\n          out       aball\n          endin\n\n</CsInstruments>\n<CsScore>\n;SCO CODE USING PITCHES IN A TABLE\nf1 0 64 -2 783.99 830.61 880 932.33 987.77 1046.5 1108.7 1244.5 1318.5 1661.2 \nf2 0 4096 10 10 3 9 3 9 2 9 2 8 1\n;\"PRELUDE A L'APRES-MIDI D'UN FAUNE\" BY CLAUDE DEBUSSY (1862-1918) \nt 0 80\ni1 0 1.5 6\ni1 1.5 .5 6\ni1 2 .25 6\ni1 2.25 .5 4\ni1 2.75 .19 3\ni1 3 .20 2\ni1 3.25 .21 1\ni1 3.5 .72 0\ni1 4.25 .25 2\ni1 4.5 .25 4\ni1 4.75 .25 5\ni1 5.0 1.5 6\ni1 6.5 .5 6\ni1 7 .25 6\ni1 7.25 .5 4\ni1 7.75 .19 3\ni1 8 .20 2\ni1 8.25 .21 1\ni1 8.5 .72 0\ni1 9.25 .25 2\ni1 9.5 .25 4\ni1 9.75 .25 5\ni1 10 .5 6\ni1 10.5 .5 7\ni1 11 .5 9\ni1 11.5 1 8\ni1 12.5 .5 1\ni1 13 2 4\ni1 14.5 .5 4\ni1 15 .5 6\ni1 15.5 1 3\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using oscillator and analog-style oscillator and buzz/pulse generator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from analog1.orc and analog1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n;---------------------------------------------------------------\n; A set of analog modeling instruments using resonant low-pass\n; filter by Hans Mikelson November 1998\n;---------------------------------------------------------------\n          zakinit   50, 50\n\n;---------------------------------------------------------------\n; LFO\n;---------------------------------------------------------------\n          instr   5\n\nidur      =         p3\niamp      =         p4\nifqc      =         p5\niwave     =         p6\nioffset   =         p7\nioutch    =         p8\n\nksig      oscil     iamp, ifqc, iwave\nkout      =         ksig*.5+ioffset\n          zkw       kout, ioutch\n\n          endin\n\n;---------------------------------------------------------------\n; MOOG VCO WITH MIKLESON FILTER\n;---------------------------------------------------------------\n          instr   10\n     \nidur      =         p3                       ; DURATION\niamp      =         p4                       ; AMPLITUDE\nifqc      =         cpspch(p5)               ; FREQUENCY\nirtfqc    =         sqrt(ifqc)               ; SQUARE ROOT OF FREQUENCY\nifco      =         p6*ifqc/500              ; FILTER CUT OFF (HIGHER FREQUENCIES GET A HIGHER CUT OFF)\nkrez      init      p7                       ; RESONANCE DOES NOT CHANGE IN THIS INSTRUMENT\niwave     =         p8                       ; SELECTED WAVE FORM 1=SAW, 2=SQUARE/PWM, 3=TRI/SAW-RAMP-MOD\nipwch     =         p9                       ; PWM SRM MODULATION CHANNEL\nileak     =         (iwave==2 ? .999 : (iwave==3 ? .995 : .999)) ; LEAKY INTEGRATION VALUE\n\nkpw       zkr      ipwch                     ; READ THE ZAK MODULATION CHANNEL\nkpwn      =        kpw-.5                    ; GET A PULSE WIDTH THAT GOES FROM -.5 TO .5\n\nkfco      expseg    100+.01*ifco, .2*idur, ifco+100, .5*idur, ifco*.1+100, .3*idur, .001*ifco+100 ; FILTER ENVELOPE\n\napulse1   buzz      1, ifqc, sr/2/ifqc, 1    ; BAND-LIMITED IMPULSE TRAIN\napulse2   vdelay    apulse1, 1000/ifqc*kpw, 1000/ifqc ; DELAY THE IMPULSE TRAIN BY LAMBDA/PW.\n\nasaw      biquad    apulse1, 1, 0, 0, 1, -ileak, 0 ; BIQUAD IS USED TO DO A LEAKY INTEGRATOR FOR SAW WAVE\napdiff    =         apulse1-apulse2          ; PULSE DIFFERENCE IS NEEDED FOR SQUARE WAVE\nasqr1     biquad    apdiff,  1, 0, 0, 1, -ileak, 0 ; BIQUAD USED FOR LEAKY INTEGRATOR OF PULSE DIFFERENCE\nasqr      =         asqr1+kpwn               ; ADJUSTMENT TO REMOVE DC COMPONENT\natri1     biquad    asqr1,   1, 0, 0, 1, -ileak, 0 ; TRIANGLE WAVE, MANY ADJUSTMENTS ARE NECESSARY TO CONTERACT AMPLITUDE\natri      =         (atri1*irtfqc/(kpw*(1-kpw))/3000+5*kpwn/irtfqc)*(1-kpwn*kpwn*20/irtfqc)/sr*44100 ; AND DC VARIATIONS\n\nasig      =         (iwave==2 ? asqr : (iwave==3 ? atri : asaw)) ; SELECT YOUR WAVEFORM HERE\n\n; aout    rezzy     asig, kfco, krez         ; APPLY THE FILTER\n\n          outs      asig*iamp, asig*iamp     ; STEREO OUPUT AND AMPLIFICATION\n          endin\n\n</CsInstruments>\n<CsScore>\n; SCORE\nf1 0 16384 10 1\n\n; LFO Note 0<PWM<1\n;   Sta  Dur  Amp  Fqc  Wave  Offset  OutCh\ni5  0    12   .8   1    1     .5       1\n\n; Synth Wave 1=Saw, 2=Square/PWM, 3=Tri/Saw-Ramp-Mod\n;   Sta  Dur  Amp   Pitch  Fco   Rez  Wave  PulseWCh\ni10 0    1    20000 6.00   5000  20   1     1\ni10 +    .    .     7.00   .     .    .     .\ni10 .    .    .     8.00   .     .    .     .\ni10 .    .    .     9.00   .     .    .     .\n\ni10 .    .    .     6.00   .     .    2     .\ni10 .    .    .     7.00   .     .    .     .\ni10 .    .    .     8.00   .     .    .     .\ni10 .    .    .     9.00   .     .    .     .\n\ni10 .    .    .     6.00   .     .    3     .\ni10 .    .    .     7.00   .     .    .     .\ni10 .    .    .     8.00   .     .    .     .\ni10 .    .    .     9.00   .     .    .     .\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for 1 BLOCK using oscillator and interpolating oscillator and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from soddersTPT.ORC and soddersTPT.SCO\n; Original files preserved in same directory\n\n        sr          =         44100\n        kr          =         4410\n        ksmps       =         10\n        nchnls      =         1\n\n\n;STEVEN SODDERS           DEXTER MORRILL TRUMPET            tpt.orc\n;                          INSTRUMENT 1 BLOCK                         \n                    instr     1\n        ifc1        =         p4                                 ;CARRIER FRQ\n        ifc2        =         p6                                 ;FORMANT FRQ\n        ifm         =         ifc1                               ;CARFRQ:MODFRQ 1:1\n        iamp        =         p5                                 ;AMPLITUDE\n        iratio      =         1.8/2.66\n        idur        =         p3\n\n        kvibwth     envlpx    .006,.8,1,.3,5,1.7,.01,.7          ;VIBWIDTH=.007\n        kport       oscil1i   0,.03,p3,4                         ;PORTDEV=.03\n        avsig       oscil     kvibwth,5,1                        ;VIBRATE=7CPS\n        kfrqdev     randi     .007,125                           ;RANDEV=.007,FRQ\n        avib        =         (kfrqdev+1)*(avsig+1)*(kport+1)\n        kindex      envlpx    2.66*ifm,.08,idur,.01,3,1.2,.7,.7  ;MAXINDEX = 2.66\n        amodsig     oscil     kindex,ifm*avib,1\n        kfgate      envlpx    iamp*.2,.03,idur,.3,2,1,.01        ;FORMANT GATE             \n        kpgate      envlpx    iamp,.03,idur,.15,2,1,.01          ;FUNDAMENTAL GATE\n        aform       oscili    kfgate,((ifc2*avib)+(amodsig*iratio)),1\n        apitch      oscili    kpgate,((ifc1*avib)+amodsig),1\n        asig        =         apitch+aform\n                    out       asig\n                    endin               \n                                                     \n                               \n        \n                \n\n</CsInstruments>\n<CsScore>\n\n;  DEXTER MORRILL TRUMPET          tpt.sco\n;SIMPLE SINE WAVE\nf1  0.0  513  10  1\n;AMPLITUDE ENVELOPE  \nf2  0.0  257  08  0  100 .8 78 1 78 .8     \n;INDEX ENVELOPE \nf3  0.0  257  09  .4 1 0 \n;PORTAMENTO ENVELOPE \nf4  0.0  513  06 -1  1 -.99  16 0 1 .001 8 .2 400 .05 86 0 \n;VIBRATO WIDTH ENVELOPE \nf5  0.0  513  09 .27 1 0   \ni1  0.0  1.0  250  8000  1500\ni1  1.5  1.0  500  8000  1500\ne\n\n   \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kamp           =         p4 using drum sound and oscillator and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from drum1.orc and drum1.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         441\nksmps          =         100\nnchnls         =         1\n\n;;; DRUM INSTRUMENT BASED ON RISSET\n;;; FIGURE 3.26 FROM DODGE & JERSE, P.93 \n\n\ninstr          1\nkamp           =         p4\nkfreq          =         p5\n\nka1            =         kamp/2\nkf1            =         1/p3\nkamp1          oscil     ka1,kf1,2\nkrand          randi     kamp1,400\nasig1          oscil     krand,500,4\n\nka2            =         kamp/6\nkf2            =         1/p3\nkamp2          oscil     ka2,kf2,2\nasig2          oscil     kamp2,kfreq/10,3\n\nka3            =         kamp/2.5\nkf3            =         1/p3\nkamp3          oscil     ka3,kf3,1\nasig3          oscil     kamp3,kfreq,4\n\naout           =         asig1+asig2+asig3\nout            aout\nendin\n\n</CsInstruments>\n<CsScore>\n;;; SCORE FOR 3.26\n\nf1 0 128 5 1 128 .004\nf2 0 128 5 1 128 .00012\nf3 0 8192 10 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 1.5 0 0 0 0 0 2 1.5 f4 0 8192 10 1\n;p1 p2 p3   p4 p5\n;INST START LENGTH AMP FREQ\ni1 0.00 0.50 15000 190\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a tubeamp sound using oscillator and Karplus-Strong plucked string and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from TUBEAMP2.ORC and TUBEAMP2.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         22050\nksmps          =         2    \nnchnls         =         2\n\n\ninstr          1\n\n  kamp1i       linseg    0, .01, p4, p3-.02, p4, .01, 0\n  ifqc         =         cpspch(p5)\n  itabl1       =         p6\n  ik1          =         1500\n  ik2          =         1600\n  ik3          =         1400\n\n  aosc1i       oscil     kamp1i, ifqc, itabl1\n  krms1        rms       aosc1i\n  kamp1        =         kamp1i - exp(krms1/ik1)\n  aosc1        oscil     kamp1, ifqc, itabl1\n\n  kamp2i       =         exp(krms1/ik1)\n  aosc2i       oscil     kamp2i, ifqc*2, itabl1\n  krms2        rms       aosc2i\n  kamp2        =         kamp2i - exp(krms2/ik2)\n  aosc2        oscil     kamp2, ifqc*2, itabl1\n\n  kamp3i       =         exp(krms2/ik2)\n  aosc3i       oscil     kamp3i, ifqc*3, itabl1\n  krms3        rms       aosc3i\n  kamp3        =         kamp3i - exp(krms3/ik3)\n  aosc3        oscil     kamp3, ifqc*3, itabl1\n\n               outs      aosc1+aosc2+aosc3, aosc2\n\nendin\n\ninstr          2\n\n  kamp1i       linseg    0, .1, p4, p3-.11, p4, .01, 0\n  ifqc         =         cpspch(p5)\n  itabl1       =         p6\n  ik1          =         400\n  ik2          =         400\n  ik3          =         1800\n\n  aosc1i       pluck     kamp1i, ifqc, ifqc, itabl1, 1\n  krms1        rms       aosc1i\n  kamp1        =         kamp1i - exp(krms1/ik1)\n  aosc1        pluck     kamp1,  ifqc, ifqc, itabl1, 1\n\n  kamp2i       =         exp(krms1/ik1)\n  aosc2i       pluck     kamp2i, ifqc*2, ifqc*2, itabl1, 1\n  krms2        rms       aosc2i\n  kamp2        =         kamp2i - exp(krms2/ik2)\n  aosc2        pluck     kamp2,  ifqc*2, ifqc*2, itabl1, 1\n\n  kamp3i       =         exp(krms2/ik2)\n  aosc3i       pluck     kamp3i, ifqc*3, ifqc*3, itabl1, 1\n  krms3        rms       aosc3i\n  kamp3        =         kamp3i - exp(krms3/ik3)\n  aosc3        pluck     kamp3, ifqc*3, ifqc*3, itabl1, 1\n\n               outs      aosc2, aosc3\n\nendin\n\n</CsInstruments>\n<CsScore>\n; SINE WAVE\nf1 0 8192 10 1\n\n; TRIANGLE WAVE\nf2 0 8192 7  -1  6144 1 2048 -1\n\ni2   0   1   20000   8.00   0\ni2   .5  1   20000   8.05   0\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using oscillator and granular synthesis and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from gran2.orc and gran2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n                    \n;----------------------------------------------------------------------------------\n; GRANULAR SYNTHESIS v. 2\n;----------------------------------------------------------------------------------\n          instr     2\nidur      =         p3\niamp      =         p4\nifqc      =         cpspch(p5)\nigrtab    =         p6\niwintab   =         p7\nifrngtab  =         p8\nidens     =         p9\nifade     =         p10\nibndtab   =         p11\nigdur     =         .2\nkamp      linseg    0, ifade, 1, idur-2*ifade, 1, ifade, 0\nkbend     oscil     1, 1/idur, ibndtab\nkfrng     oscil     1, 1/idur, ifrngtab\n;                   AMP  FQC         DENSE  AMPOFF PITCHOFF    GRDUR  GRTABLE WINTABLE  MAXGRDUR\naoutl     grain     p4,  ifqc*kbend, idens, 100,   ifqc*kfrng, igdur, igrtab, iwintab,  5\naoutr     grain     p4,  ifqc*kbend, idens, 100,   ifqc*kfrng, igdur, igrtab, iwintab,  5\n          outs      aoutl*kamp, aoutr*kamp\n          endin\n\n</CsInstruments>\n<CsScore>\n; SCORE\nf2 0 1024  7 0 224 1 800 0\nf3 0 8192  7 1 8192 -1\nf4 0 1024  7 0 512 1 512 0\nf5 0 1024 10 1 .3 .1 0 .2 .02 0 .1 .04\nf6 0 1024 10 1 0 .5 0 .33 0 .25 0 .2 0 .167\nf7 0 1024 10 1 .5 .333 .24 .2 .1667 .14286 .1111 .1 .09091 .08333\n; FREQUENCY RANGE TABLE\nf10 0 1024  -7 .21  512 .01 512 .001\nf11 0 1024  -7 .31  512 .01 512 .001\nf12 0 1024  -7 .21  512 .01 512 .001\n; PITCH BEND TABLE\nf20 0 1024  -7 8     512 .99  512 1.00\nf21 0 1024  -7 .125  512 1.01 512 1.00\nf22 0 1024  -7 .5    512 1.02 512 1.00\n;  Start  Dur   Amp    Freq  GrTab  WinTab  FqcRng  Dens  Fade  PBend\ni2   0.0  6.4   1500   6.00  7      4       10      100   .01   20\ni2   0.0  6.4   1500   8.00  7      4       11      100   .01   21\ni2   0.0  6.4   1500  10.00  7      4       12      100   .01   22\ni2   0.0  6.4   1500   6.07  7      4       10      100   .01   20\ni2   0.0  6.4   1500   8.07  7      4       11      100   .01   21\ne\ni2   0.0  6.4   1500  10.07  7      4       12      100   .01   22\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for RANDOM FREQUENCY MODULATION using oscillator and interpolating oscillator and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from R201.ORC and R201.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; #200.orc Brass-like Sounds through independent control of harmonics\n\n          instr 1             ; RANDOM FREQUENCY MODULATION\ni1        =         .1*p4*p5\ngk1       randi     i1,p6\nendin\n                              \n          instr 2                            ; INSTRUMENTS 2-6 = PARTIALS 1-5 WITH\ni1        =         1/p3                     ; DIFFERENT ENVELOPES f2-f6\nk1        oscil     p4,i1,2\na1        oscili    k1,p5+gk1, 1\n          out       a1 * 8\n\ngk1       =         0\ngk1       init      0\n          endin\n\n          instr 3\ni1        =         1/p3\nk1        oscil     p4,i1,3\na1        oscili    k1,p5+gk1, 1\nout       a1 * 8\n\ngk1       =         0\ngk1       init      0\n          endin\n\n          instr 4\ni1        =         1/p3\nk1        oscil     p4,i1,4\na1        oscili    k1,p5+gk1, 1\n          out       a1 * 8\n\ngk1       =         0\ngk1       init      0\n          endin\n\n          instr 5\ni1        =         1/p3\nk1        oscil     p4,i1,5\na1        oscili    k1,p5+gk1, 1\n          out       a1 * 8\n\ngk1       =         0\ngk1       init      0\n          endin\n\n          instr 6\ni1        =         1/p3\nk1        oscil     p4,i1,6\na1        oscili    k1,p5+gk1, 1\n          out       a1 * 8\n\ngk1       =         0\ngk1       init      0\n          endin\n\n          instr 7\ni1        =         p6/12500\ni2        =         p7/12500\n\na1        linen     p4,i1,p3,i2\na2        oscili    a1,p5+gk1,1\n          out       a2*8\n\ngk1       =         0\ngk1       init      0\n          endin\n\n</CsInstruments>\n<CsScore>\n; #201.sco Brass-like Sounds through independent control of harmonics\n\nf1 0 512 9 1 1 0\nf2 0 512 7 0 10 .001 16 .282 14 .112 389 .178 44 .159 27 .008 12 .001\nf3 0 512 7 0 19 .001 415 .5 20 .355 36 .016 22 .001\nf4 0 512 7 0 23 .001 412 .56 77 .001\nf5 0 512 7 0 10 .001 9 .005 399 .224 13 .224 27 .178 54 .001\nf6 0 512 7 0 10 .001 11 .009 12 .089 12 .022 28 .022 153 .112 38 .178 81 .071 123 .062 44 .001\n\nf0 1\ns\n\ni1 0 .17 .6 554 10\ni7 0 .17 200 554 7.5 140\ni7 0 .17 160 1108 7.5 110\ni7 0 .17 350 1662 12 85\ni7 0 .15 310 2216 14 80\ni7 0 .14 160 2770 24 65\ni7 0 .14 200 3324 27 60\ni7 0 .14 99 3878 32 60\ni7 0 .14 200 4432 30 60\ni7 0 .14 80 4986 35 60\n\ni1 2 .15 .6 293 10\ni7 2 .15 50 293 10 140\ni7 2 .15 80 586 10 110\ni7 2 .15 100 879 12 85\ni7 2 .15 175 1172 17 80\ni7 2 .15 180 1465 25 65\ni7 2.01 .15 150 1758 30 60\ni7 2.01 .15 100 2051 35 60\ni7 2.01 .13 80 2344 35 60\ni7 2.01 .14 50 2637 40 100\ni7 2.01 .14 80 2930 45 100\ni7 2.01 .14 140 3223 45 100\ni7 2.01 .13 90 3516 45 100\ni7 2.01 .13 45 3809  40 100\ni7 2.01 .13 25 4102  45 90\n\ni1 4 .4 .4 784 20\ni2 4 .4 800 784\ni3 4 .4 800 1568\ni4 4 .4 800 2352\ni5 4 .4 800 3136\ni6 4 .4 800 3920\n\ni1 5 .7 .4 830 20\ni2 5 .7 1400 830\ni3 5 .7 1000 1660\ni4 5 .7 1000 2490\ni5 5 .7 1000 3320\ni6 5 .7 1000 4150\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for if        p12 = 12 igoto dc1 using oscillator and interpolating oscillator and reverb effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Rissetflute.orc and Rissetflute.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\nga1       init      0\n\n; ========================================== ;\n; ============ Flute-like #100 ============= ;\n; ========================================== ;\n\ninstr 1\n          if        p12 = 12 igoto dc1\ni1        =         .6\n          goto      start\n\ndc1:\ni1        =         .74\n          goto      start\n\nstart:\nk1        randi     (p4*.01),p9\nk1        =         k1 + p4\nk2        oscil     k1,1/p11,p12\nk2        =         k2 + i1\nk3        oscil     k2,1/p6,p9\na1        oscili    k3,p5,p10\na2        =         a1*10\nga1       =         ga1+(p13*a2)             ; p13 = RVB SEND LEVEL\n          out       a2\n          endin\n          \n\n          instr 2\nk1        oscil     p4,1/p6,p7\nk2        oscil     p5,1/p6,p8\na1        oscili    k1,k2,1\na2        =         a1*10\nga1       =         ga1+(p9*a2)               ; p9 = RVB SEND LEVEL\n          out       a2\n          endin\n\n; ========================================== ;\n; =======  Global Reverb Instrument  ======= ;\n; ========================================== ;\n\n          instr 6\nga1       init      0                        \na1        reverb    ga1,p4                   ; p4 = REVERB TIME IN SECONDS\na2        =         a1*p5                    ; p5 = REVERB RETURN LEVEL\n          out       a2\nga1       =         0\n          endin\n\n</CsInstruments>\n<CsScore>\n; ================================================================== ;\n; ========     Score for Risset's \"Flute-Like\" Instrument(s)  ========= ;\n; ================================================================== ;\n\n  ; Waveforms: Instrument 1\n\nf1 0 512 9 1 1 0                        ; fundamental\nf2 0 512 10 1 .2 .08 .07           ; four harmonics\nf3 0 512 10 1 .4 .2 .1 .1 .05      ; six harmonics\n\n   ; Amplitude Envelope Functions: Instrument 1\n\nf4 0 512 7 0 1 0 49 .2 90 .6 40 .99 25 .9 45 .5 50 .25 50 .12 50 .06 50 .02 62 0\nf5 0 512 7 0 1 0 49 .2 100 .6 50 .99 150 .2 162 0\nf6 0 512 7 0 1 0 49 .2 200 .5 100 .2 162 0\nf7 0 512 7 0 1 0 79 .5 60 .5 20 .99 120 .4 140 .6 92 0\n\n   ; Amplitude Envelope Fynctions: Instrument 2\n\nf8 0 512 7 0 1 0 149 .4 200 .99 50 .5 50 .24 62 0\n\n   ; Pitch Envelope Functions: Instrument 2\n\nf9 0 512 7 0 1 .895 511 .99\nf10 0 512 7 0 1 .99 511 .99\n\n     ; DC bias functions\n\nf12 0 512 9 1 .26 0\nf13 0 512 9 1 .3 0\n\n\n; ================ \"Flute-like\" Score =============== ;\n\ni6   0       17       1.3     .5     ; Turn on Reverb\n\ni2    .88   .12      1200     988   .12 8    10     .5\ni1   1      2    800  1109  2    20     60    5    2   .24   12  .5\ni2   1       .7       300  1107   .7    8    10     .5\ni1   3       .9       300     784   .9   30  50    4    2   .24   13  .5\ni2   4.5    .15      1200  1397   .2    4    10     .5\ni2   4.85   .15      1200     992   .15 8     9     .5\ni2   5.01   .7   300  1100   .7    8     9     .5\ni1   5.01  2    1200  1109  2    30     80    6    2   .24   13  .5\ni1   7       .2       400     784   .2   40  70    7    2   .24   13  .5\ni1   7.2    .3   300     698   .3   30  60    5    2   .24   13  .5\ni1   7.51  1     300     370  1       30     50    6    3   .24   13  .5\ni2   7.5    .5   150     368   .5  8     9\ni1   8.5    .5   400     415   .5   50  60    5    3   .24   13  .5\ni1   9       .12      900  1396   .12  30    80    4    2   .24   13  .5\ni1   9.1   1.2   900  1568  1.2   30    90    4    2   .24   13  .5\ni1   10.25 1     900     277  1.08  40  60    7    3   .31   13  .5\ni2   10.25 1     200     275  1 6   10\ni1   11.35  .36       500     329   .36  30  60    5    2   .28   13  .5\ni1   11.72  .36       800     528   .36  30  60    5    2   .28   13  .5\ni2   12.09  .2   950  2217   .2 6  9\ni1   12.10  .15       700  1975   .15  40    90    5    1   .28   13  .5\ni1   12.25 2.5   999  2217  2.5   40    90    4    1   .28   13  .5\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for areedbell init\t\t0 using waveguide synthesis and oscillator and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Cookwgclar.orc and Cookwgclar.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t1\n\n\n;-------------------------------------------------------------\n; Physical Models\n; coded:\t\t 1/22/97 Hans Mikelson\n;-------------------------------------------------------------\n\n;-------------------------------------------------------------\n; CLARINET INSTRUMENT BASED ON PERRY COOK'S CLARINET\n;-------------------------------------------------------------\n\t\t\t\t\t\t\n\t\tinstr 4\nareedbell init\t\t0\nifqc\t\t=\t\tcpspch(p5)\nifco\t\t=\t\tp7\nibore\t=\t\t1/ifqc-15/sr\n\nkenv1\tlinseg\t0, .005, .55+.3*p6, p3-.015, .55+.3*p6, .01, 0\nkenvibr\tlinseg\t0, .1, 0, .9, 1, p3-1, 1 ; VIBRATO ENVELOPE\n\t\t\t\t\t\t\t\t\t\nkemboff\t=\t\tp8\t\t\t\t\t; CAN BE USED TO ADJUST REED STIFFNESS.\n\navibr\toscil\t.1*kenvibr, 5, 3\t\t; BREATH PRESSURE.\napressm\t=\t\tkenv1+avibr\n\narefilt\ttone\t\tareedbell, ifco\t\t; REFLECTION FILTER FROM THE BELL IS LOWPASS.\n\nabellreed delay\tarefilt, ibore\t\t\t; THE DELAY FROM BELL TO REED.\n\n; BACK PRESSURE AND REED TABLE LOOK UP.\n\nasum2\t=\t\t-apressm-.95*arefilt-kemboff\nareedtab\ttablei\tasum2/4+.34, p9, 1, .5\namult1\t=\t\tasum2*areedtab\n\n; FORWARD PRESSURE\n\nasum1\t=\t\tapressm+amult1\nareedbell delay\tasum1, ibore\naofilt\tatone\tareedbell, ifco\n\t\tout\t     aofilt*p4\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n; Table for Reed Physical Model\nf1      0       256     7       1       80      1       156     -1      20      -1\n\n; Sine\nf3      0       1024    10      1\n\n; Clarinet\n;       Start  Dur      Amp    Pitch   Press  Filter    Embouchure  Reed Table\n;                      (20000)(8.0-9.0) (0-2) (500-1200)   (0-1)\ni4      0       1      6000     8.00    1.5     1000    .2          1\ni4      +       1       .       8.01    1.8     1000    .2          1\ni4      .       1       .       8.03    1.6     1000    .2          1\ni4      .       1       .       8.04    1.7     1000    .2          1\ni4      .       1       .       8.05    1.7     1000    .2          1\ni4      .       1       .       8.07    1.7     1000    .2          1\ni4      .       1     .         8.10    1.7     1000    .2          1\ni4      .       1      .        9.00    1.8     1000    .2          1\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifqc           init      cpspch(p5) using oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Plana.orc and Plana.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         22050\nksmps          =         2\nnchnls         =         2\n\n               zakinit   30,30\n\n; SPHERICAL LISSAJOUS FIGURES\n               instr     5\n\nifqc           init      cpspch(p5)\niu             init      p6\niv             init      p7\nirt2           init      sqrt(2)\niradius        init      1\nioutx          init      p8\niouty          init      p9\nioutz          init      p10\n\nkampenv        linseg    0, .001, p4, p3-.002, p4, .001, 0       ; DECLICK\n\n; COSINES\nacosu          oscil     1, iu*ifqc,      1, .25\nacosv          oscil     1, iv*ifqc,      1, .25\n\n; SINES\nasinu          oscil     1, iu*ifqc,      1\nasinv          oscil     1, iv*ifqc,      1\n\n; COMPUTE X AND Y FOR SPHERICAL LISSAJOUS\nax             =         iradius*asinu*acosv\nay             =         iradius*asinu*asinv\naz             =         iradius*acosu\n\n; OUTPUT TO ZAK CHANNELS\n               zawm      kampenv*ax, ioutx\n               zawm      kampenv*ay, iouty\n               zawm      kampenv*az, ioutz\n\nendin\n\n               instr     50\n\nifqc           =         p4\niphase         =         p5\niplane         =         p6\ninx            =         p7\niny            =         p8\ninz            =         p9\nioutx          =         p10\niouty          =         p11\nioutz          =         p12\n\nkcost          oscil     1, ifqc,   1, .25+iphase\nksint          oscil     1, ifqc,   1, iphase\n\nax             zar       inx\nay             zar       iny\naz             zar       inz\n\n; ROTATION IN X-Y PLANE\n  if      (iplane!=1)    goto next1\n    axr        =         ax*kcost + ay*ksint\n    ayr        =         -ax*ksint + ay*kcost\n    azr        =         az\n    goto       next3\n\n; ROTATION IN X-Z PLANE\nnext1:\n  if      (iplane!=2)    goto next2\n    axr        =         ax*kcost + az*ksint\n    ayr        =         ay\n    azr        =         -ax*ksint + az*kcost\n    goto       next 3\n\n; ROTATION IN Y-Z PLANE\nnext2:\n    axr        =         ax\n    ayr        =         ay*kcost + az*ksint\n    azr        =         -ay*ksint + az*kcost\n\n; OUTPUT TO ZAK CHANNELS\nnext3:\n               zaw       axr, ioutx\n               zaw       ayr, iouty\n               zaw       azr, ioutz\n\nendin\n\n; MIXER\ninstr          100\n\nin1            =         p4\nin2            =         p5\n\n; READ THE ZAK CHANNELS\na1             zar       in1\na2             zar       in2\n\n; OUTPUT THE RESULTS\n               outs      a1, a2\n\n; CLEAR THE AUDIO CHANNELS\n               zacl      0,30\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1          ; SINE\n\n; SPHERICAL LISSAJOUS\n;    Sta  Dur  Amp    Frqc   U    V     OutX  OutY  OutZ\ni5   0    .6   5000   7.04   3    2     1     2     3\ni5   +    .4   6000   5.11   5.6  .4    .     .     .\ni5   .    .4   .      6.07   2    8.5   .     .     .\ni5   .    .2   4500   6.02   4    5     .     .     .\n\n; PLANAR ROTATION\n; 1=X-Y PLANE, 2=X-Z PLANE, 3=Y-Z PLANE\n;    Sta  Dur  Fqc  Phase  Plane  InX  InY  InZ  OutX  OutY  OutZ\ni50  0    1.6  1.5  0      2      1    2    3    4     5     6\ni50  0    1.6  1.8  0      3      4    5    6    7     8     9\n\n; MIXER\n;    Sta  Dur  In1  In2\ni100 0    1.6   4    6\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for k1        envlpx    p4, p5, p3, p6, 1, 1, .01 using oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Harmony.orc and Harmony.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; Risset \"Harmony/Timbre\" #550\n\n\n          instr 1\nk1        envlpx    p4, p5, p3, p6, 1, 1, .01\na1        oscili    k1, p7, 2\na2        oscili    p8, p9, 3\n          out       a1 * a2\n          endin\n\n          instr 2\ni1        =         1/p3\nk1        oscil     p4, i1, 4\na1        oscili    k1, p5, 2\n          out       a1\n          endin\n\n</CsInstruments>\n<CsScore>\n; Risset \"Harmony/Timbre\" #550\n\nf1 0 513 5 .01 512 1\nf2 0 512 9 1 1 0\nf3 0 512 9 0 42 1 172 1 84 -1 172 -1 42 0\nf4 0 513 5 1 512 .00195\n\nf0 1\ns\n\ni1  .5     .6    36    .01  .6  424 36 1000\ni1  .6     .6    36    .01  .6  727 36 1000\ni1  .9    3.6    36   2.30 1.2  424 36 1000\ni1  .9     .6    36    .01  .6 1542 36 2000\ni1 1.0    3.5    36   3.2  1.2  727 36 1000\ni1 1.1     .6    36    .01  .6 1136 36 2000\ni1 1.3    3.2    36   1.9  1.2 1542 36 2000\ni1 1.4     .6    36    .01  .6 1342 36 2000\ni1 1.5    3.0    36   1.9  1.2 1136 36 2000\ni1 1.8    2.7    36   1.4  1.2 1342 36 2000\ni2 4.0 10.0  4000 273.0\ni2 4.0    7.5  2000 455\ni2 4.0    4.5  2000 576\ni2 4.0    6.5  1500 648\ni2 4.0    4.0  1500 864\nend\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ibase     =         p6 using oscillator and interpolating FM synthesis and Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from KR1.ORC and KR1.SCO\n; Original files preserved in same directory\n\n          sr        =         44100\n          kr        =         4410\n          ksmps     =         10\n          nchnls    =         1\n\n;***************************************************************;\n;    KREIGERESQUE ORCHESTRA NO. 1                 ;\n;    P3  =  OVERALL DURATION                      ;\n;    P4  =  AMPLITUDE                        ;\n;    P5  =  BASE FREQUENCY IN PCH                 ;\n;    P6  =  BASE TRILL RATE                       ;\n;    P7  =  FASTEST TRILL RATE                    ;\n;    P8  =  FUNCTION NUMBER FOR  RATE OF TRILL CHANGE  ;\n;    P9  =   MODULATOR RATIO                      ;\n;    P10 =  MAX INDEX                        ;\n;    P11 = FUNCTION NUMBER FOR INDEX SHAPE             ;\n;    P12 = STRETCH FACTOR FOR PLUCK                    ;\n;    P13 = DECAY TIME FACTOR FO OVERALL ENVELOPE       ;\n;***************************************************************;\n               \n          instr     1\n\n          ibase     =         p6\n          ichange   =         p7 - p6\n          kchg      oscil1i   0.00, ichange, p3, p8\n          krate     =         ibase + kchg\n          ioct      =         octpch(p5)\n          kdist     oscil     1/12, krate, 6                               ;  FUNCTION 6 = ANGLED SQUARE WAVE\n          kcps      =         cpsoct(ioct + kdist)\n          asnd      pluck     p4, kcps, (cpspch(p5)), 0, 2, (p12+1.00)\n          aenv      envlpx    asnd, 0.3, p3, (p3 * p13), 2, .7, .01\n          kndx      oscil1i   0.00, p10, p3, p11\n          asnd2     foscili   (p4*.23), kcps, 1, p9, kndx, 1\n          aenv2     envlpx    asnd2, (p3 * (1-p13)), p3, (p3 * p13), 2, .7, .01\n                    out       aenv + aenv2\n                    endin\n\n\n</CsInstruments>\n<CsScore>\n;***************************************************************;\n;    SCORE FOR KREIGERESQUE ORCHESTRA NO. 1            ;\n;    P3  =  OVERALL DURATION                      ;\n;    P4  =  AMPLITUDE                        ;\n;    P5  =  BASE FREQUENCY IN PCH                 ;\n;    P6  =  BASE TRILL RATE                       ;\n;    P7  =  FASTEST TRILL RATE                    ;\n;    P8  =  FUNCTION NUMBER FOR  RATE OF TRILL CHANGE  ;\n;    P9  =   MODULATOR RATIO                      ;\n;    P10  =  MAX INDEX                       ;\n;    P11 = FUNCTION NUMBER FOR INDEX SHAPE             ;\n;    P12 = STRETCH FACTOR FOR PLUCK                    ;\n;    P13 = DECAY TIME FACTOR OF OVERALL ENVELOPE       ;\n;***************************************************************;\n;       SINE WAVE\nf1 0.0 512 10 1\n;       LINEAR RISE\nf2 0.0 513 7  0 513 1\n;       LINEAR FALL\nf3 0.0 513 7  1 513 0\n;       EXPONENTIAL RISE\nf4 0.0 513 5 .001 513 1\n;       EXPONENTIAL FALL\nf5 0.0 513 5 1 513 .001\n;    ANGLED SQUARE WAVE\nf6 0.0 513 7 0 26 1 260 1 26 0 261 0\n;    FUNCTION FOR INDEX CHANGE\nf7 0.0 513 5 .05  256  .87  128  .23 129 1\n;\n;       INSTRUMENT CARDS\ni1   0.00 5.70 45000     12.07     6.0   18.0     2    1.001   4  2   0.001  .04\ni1   2.50 6.50 34000     11.01     7.9   32.0     4    3.444   9  7   0.001  .04\ni1   4.50 5.70 36000     11.09     6.5    8.0     2    1.325   4  2   0.001  .04\ni1   5.30 6.50 34000      9.03     7.5  108.0     4    3.720   9  7   2.111  .04\ni1   6.13 4.20 35000      9.05     6.5   32.0     3    1.098   6  4   0.080  .04\ni1   6.50 6.00 34000     13.04     4.1   49.0     4    9.737   9  3   8.791  .04\ni1   9.00 9.00 44000     12.11     6.5    9.0     2    1.000   3  2   0.001  .60\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur\t\t=\t \tp3\t\t\t\t\t; DURATION using filter processing and oscillator and FM synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from mikfilters1.orc and mikfilters1.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n; Hi,\n\n; Here's a Saturday treat for you.\tRecord a stereo 44.1 k sound file, name it\n; soundin.1111 and save it in your sound input directory for use with the\n; following orchestra & score.\t I use readings from science fiction stories\n; myself.\tBasically this orchestra uses a resonant low-pass filter and\n; replaces the resonance oscilation with noise bands or frequency modulation\n; oscilator.\n\n; Have fun,\n; Hans Mikelson\n\n; ORCHESTRA\n; Coded by Hans Mikelson 5/23/98\n; 1. Noise resonance\n; 2. FM resonance\n\n;---------------------------------------------------------------------------\n; SAMPLE WITH NOISE FILTER RESONANCE\n;---------------------------------------------------------------------------\n\t    instr\t 1\nidur\t\t=\t \tp3\t\t\t\t\t; DURATION\niamp\t \t=\t \tp4\t\t\t\t\t; AMPLITUDE\nirate \t=\t \tp5\t\t\t\t\t; READ RATE\nisndin\t=\t \tp6\t\t\t\t\t; SOUND INPUT FILE\nipantab\t=\t \tp7\t\t\t\t\t; PAN TABLE\niband  \t=\t \t0\t\t\t\t\t; JUST LEAVE IT ZERO...\nifqcadj\t=\t \t.149659863*sr\t\t\t; ADJUSTMENT FOR FILTER FREQUENCY\nkfco\t\texpseg\t800, idur/5, 5000, idur/5, 1000, idur/5, 2000, idur/5, 700, idur/5, 3000 ; FREQ CUT-OFF\nkrez\t\t=\t\t16\t\t\t\t\t; RESONANCE LEVEL\nain1, ain2 diskin \tisndin, irate\t\t\t; READ SOUND FILE\naxn\t\t=\t \tain1+ain2\t\t\t\t; MIX THE TWO TOGETHER\n; RESONANT LOWPASS FILTER (4 POLE)\nkc\t\t=\t\tifqcadj/kfco\t\t\t; FILTER CONSTANT\nkrez2\t=\t\tkrez/(1+exp(kfco/11000))\t; ADJUST FOR HIGH FREQUENCIES\nka1\t\t=\t\tkc/krez2-(1+krez2*iband)\t; ADJUST FOR BAND PASS CHARACTER\nkasq\t\t=\t\tkc*kc\t\t\t\t; C^2\nkb\t\t=\t\t1+ka1+kasq\t\t\t; FIND B\nayn\t\tnlfilt\taxn/kb, (ka1+2*kasq)/kb, -kasq/kb, 0, 0, 1 ; USE THE NON-LINEAR FILTER LINEARLY\nayn2\t\tnlfilt\tayn/kb, (ka1+2*kasq)/kb, -kasq/kb, 0, 0, 1 ; 4-Pole\n\t\t\t\t\t\t\t\t\t; RESONANT LOWPASS FILTER (4 POLE)\nkcl\t  \t=\t\tifqcadj/kfco\nkrez2l \t=\t\t2.0/(1+exp(kfco/11000))\t; SAME AS ABOVE BUT LOW RESONANCE THIS TIME.\nka1l\t  \t=\t\tkcl/krez2l-(1+krez2l*iband)\nkasql  \t=\t\tkcl*kcl\nkbl\t  \t=\t\t1+ka1l+kasql\naynl\t  \tnlfilt\taxn/kbl, (ka1l+2*kasql)/kbl, -kasql/kbl, 0, 0, 1\nayn2l  \tnlfilt\taynl/kbl, (ka1l+2*kasql)/kbl, -kasql/kbl, 0, 0, 1\nares1  \t=\t\tayn2-ayn2l\t\t\t; ISOLATE THE RESONANCE\nkrms\t  \trms\t\tares1, 100\t\t\t; COMPUTE THE AVERAGE RESONANCE LEVEL\narand1 \trand\t \tkrms\t\t\t\t\t; NOISE SOURCE\nares2  \tbutterbp \tarand1, kfco, kfco/4\t; BAND FILTER IT BASED ON FILTER CUT-OFF\nares3  \tbutterbp \tarand1, kfco*2, kfco/4\t; GET ANOTHER BAND\naout\t  \t=\t\tayn2l+(ares2+ares3)\t\t; ADD BACK ON TO THE LOW-PASS SIGNAL\nkpan\t  \toscil\t1, 1/idur, ipantab\t\t; PANNING\nkpanl  \t=\t\tsqrt(kpan)*iamp\nkpanr  \t=\t\tsqrt(1-kpan)*iamp\n\t  \touts\t\taout*kpanl, aout*kpanr\t; GIVE IT TO ME.\n\t  \tendin\n;---------------------------------------------------------------------------\n; SAMPLE WITH FM FILTER RESONANCE\n;---------------------------------------------------------------------------\n\t\tinstr\t 2\nidur\t    \t=\t \tp3\t\t\t\t\t; DURATION\niamp\t    \t=\t \tp4\t\t\t\t\t; AMPLITUDE\nirate    \t=\t \tp5\t\t\t\t\t; READ RATE\nisndin   \t=\t \tp6\t\t\t\t\t; SOUND INPUT FILE NUMBER\nipantab  \t=\t \tp7\t\t\t\t\t; PANNING TABLE\niband    \t=\t \t0\t\t\t\t\t; CONTROLS BAND-PASS CHARACTER OF THE FILTER BUT\nifqcadj  \t=\t\t.149659863*sr\t\t\t; VALUES OTHER THAN ZERO MAKE THE FILTER UNSTABLE\nkfco\t   \texpseg\t5000, idur/5, 1000, idur/5, 2000, idur/5, 700, idur/5, 3000, idur/5, 800 ; FILTER SWEEP\nkrez\t   \t=\t\t16\t\t\t\t\t; RESONANCE\nain1, ain2 diskin \tisndin, irate\t\t\t; READ IN THE SOUND FILE (MUST BE STEREO)\naxn\t   \t=\t \tain1+ain2\t\t\t\t; JUST MIX TOGETHER\n\t\t\t\t\t\t\t\t\t; RESONANT LOWPASS FILTER (4 POLE)\nkc\t  \t=\t\tifqcadj/kfco\t\t\t; FIND THE MYSTERIOUS CONSTANT \"C\"\nkrez2  \t=\t\tkrez/(1+exp(kfco/11000))\t; REDUCE RES AT HIGH FREQUENCIES\nka1\t  \t=\t\tkc/krez2-(1+krez2*iband)\t; COMPUTE A1\nkasq\t \t=\t\tkc*kc\t\t\t\t; C^2\nkb\t  \t=\t\t1+ka1+kasq\t\t\t; FIND B\nayn\t  \tnlfilt\taxn/kb, (ka1+2*kasq)/kb, -kasq/kb, 0, 0, 1 ; USE nlfilt FOR FILTER SWEEP.\nayn2\t  \tnlfilt\tayn/kb, (ka1+2*kasq)/kb, -kasq/kb, 0, 0, 1 ; DO IT AGAIN FOR FOUR POLE.\n\t\t\t\t\t\t\t\t\t; RESONANT LOWPASS FILTER (4 POLE)\t\t\t\t\t    \n\t\t\t\t\t\t\t\t\t; SAME AS ABOVE BUT LOW-PASS WITHOUT RESONANCE.\nkcl\t  \t=\t\tifqcadj/kfco\nkrez2l \t=\t\t2.0/(1+exp(kfco/11000))\nka1l\t  \t=\t\tkcl/krez2l-(1+krez2l*iband)\nkasql  \t=\t\tkcl*kcl\nkbl\t  \t=\t\t1+ka1l+kasql\naynl\t  \tnlfilt\taxn/kbl, (ka1l+2*kasql)/kbl, -kasql/kbl, 0, 0, 1\nayn2l  \tnlfilt\taynl/kbl, (ka1l+2*kasql)/kbl, -kasql/kbl, 0, 0, 1\nares1  \t=\t\tayn2-ayn2l\t\t\t; EXTRACT RESONANCE\nkrms\t  \trms\t\tares1, 100\t\t\t; HOW BIG IS THE RESONANCE\n;\t\t\t\tAMP\t FQC\t\t CAR\t MOD\t\tMAMP\t WAVE\nares2  \tfoscil\tkrms, kfco,\t 1,\t .75,\t3,\t 1 ; GENERATE AN FM SIGNAL BASED ON RESONANCE\naout\t  \t=\t\tayn2l+ares2/4\t\t\t; ADD IT ON TO THE LOW-PASS VERSION\nkpan\t  \toscil\t1, 1/idur, ipantab\t\t; HANDLE EQUAL POWER PANNING\nkpanl  \t=\t\tsqrt(kpan)*iamp\nkpanr  \t=\t\tsqrt(1-kpan)*iamp\n\t\touts\t\taout*kpanl, aout*kpanr\t; OUTPUT\n\t  \tendin\n\n</CsInstruments>\n<CsScore>\n; SCORE\n; Coded by Hans Mikelson 5/23/98\n\nf1  0 8192 10 1               ; Sine wave\nf10 0 1024 7  0 1024 1        ; Pan RL\nf11 0 1024 7  1 1024 0        ; Pan LR\n\n;   Sta   Dur      Amp  Pitch  SoundIn  Pan\ni1  0.0   8.873    .5    0.98   \"allofmestereo.aif\"       11\ni2  0.17  8.525    .5    1.02   \"allofmestereo.aif\"       10\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur \t=\t\tp3\t\t\t\t\t; DURATION OF NOTE using FM synthesis and oscillator and ADSR envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FmChowningB.orc and FmChowningB.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100                         \t; ===============================\nkr \t\t= \t\t4410                            \t; the IEEE Chowning FM article                                  \nksmps \t= \t\t10                               \t; chowning1.orc                 \nnchnls \t= \t\t1                                 \t; ===============================                                                                               \n\n\n\t\tinstr 1\nidur \t=\t\tp3\t\t\t\t\t; DURATION OF NOTE\nimodur \t=       \t1/p3                  \t; FREQ OF MOD ENVELOPE OSC IN Hz (1/dur)\nicardur\t=       \t1/p3                  \t; FREQ OF CAR ENVELOPE OSC IN Hz (1/dur)         \niamp\t\t=       \tp4                      \t; AMPLITUDE OF FM SIGNAL\nifreqcar\t=       \tp5                   \t; FREQUENCY OF CARRIER IN Hz\nifreqmod\t=       \tp6                    \t; FREQUENCY OF MODULATOR IN Hz\nibaseindex =       \tp7 * p6               \t; SET STEADY STATE MOD INDEX (p7 = 0,...,n)  \nipeakindex =       \tp8 * p6                \t; SET PEAK OF DYNAMIC INDEX (p8 = 0,...,n)\nioffsetindex =   \tipeakindex - ibaseindex\t; CALCULATE OFFSET OF DYNAMIC MOD INDEX\nimodampfun =       \tp9                     \t; SET MODULATOR ENVELOPE FUNCTION\nicarampfun =       \tp10                     \t; SET CARRIER ENVELOPE FUNCTION\nimodsigfun =       \tp11                    \t; SET MODULATOR WAVE FUNCTION\nicarsigfun =       \tp12                     \t; SET CARRIER WAVE FUNCTION\n  \nkampmod  \toscil   \tioffsetindex, imodur, imodampfun\nkampcar \toscil   \tiamp, icardur, icarampfun\namodsig \toscil   \tkampmod + ibaseindex, ifreqmod, imodsigfun      \nafmsig    oscil   \tkampcar, ifreqcar + amodsig, icarsigfun\n       \tout     \tafmsig\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n                                                                ; ===============================\n                                                                ; chowning1.sco\n                        ; Sine Wave                             ; ===============================\nf1  0   4096    10      1\n                        ; ADSR Trumpet Envelope  - fig 1.11\nf2  0   513     7       0       85.33   1       85.33   .75     85.33   .65     170.66  .50     85.33   0\n                        ; AR Woodwind Envelope for Carrier - fig 1.12\nf3  0   513     7       0       100     1       392     .9      20      0\n                        ; Gated Woodwind Envelope for Modulator - fig 1.13\nf4  0   513     7       0       100     1       412     1\n                        ; Exponential decaying envelope for bell-like timbres.\nf5  0   513     5       1       512     .001\n                        ; Modification of Exponential envelope for drumlike sounds\nf6  0   513     5       .7      16      .8      48      1       64      .8      128     .2      256     .001\n                        ; Modulator envelope for wood-drum sounds\nf7  0   513     7       0       12      1       52      0       460     0\n                        ; Ramp\nf8  0   513     7       0       512     1\n                        ; Exponential rise\nf9  0   513     5       .001    512     1\n                        ; Triangular Wave\nf10 0   512     10      1       0       .111    0       .04     0       .02     0       .012\n                        ; Sawtooth Wave\nf11 0   512     10      1       .5      .3      .25     .2      .167    .14     .125    .111\n                        ; Square Wave\nf12 0   512     10      1       0       .3      0       .2      0       .14     0       .111\n                        ; Narrow Pulse\nf13 0   512     10      1       1       1       1       .7      .5      .3      .1\n                        ; Exponential rise and decay\nf14 0   513     5       .1      32      1       480     .01\n                        ; Reverse pyramid\nf15 0   513     7       1       256     0       256     1\n; ================================================================================================================\n;ins    strt    dur     amp     fc      fm      strtndx pkndx   modenv  carenv  modfun  carfun\n; ================================================================================================================\n                        ; Brass Timbre\ni1      0       .5      20000   440     440     0       5       2       2       1       1\ni1      1       1       20000   220     220     0       5       2       2       1       1\ni1      3       .5      20000   110     110     0       5       2       2       1       1\ni1      4       2       20000   55      55      0       5       2       2       1       1\ns\n                        ; Bassoon Timbre\ni1      0       .5      20000   2000    400     0       1.5     4       3       1       1\ni1      1       1       20000   1000    200     0       1.5     4       3       1       1\ni1      3       .5      20000   500     100     0       1.5     4       3       1       1\ni1      4       2       20000   250     50      0       1.5     4       3       1       1\ns\n                        ; Reed Timbre\ni1      0       .5      20000   600     400     4       2       4       3       1       1\ni1      1       2       20000   300     200     4       2       4       3       1       1\ni1      4       .5      20000   150     50      4       2       4       3       1       1\ni1      5       3       20000   75      25      4       2       4       3       1       1\ns\n                        ; Bell Timbre\ni1      0       10      20000   200     280     0       10      5       5       1       1\ni1      11      20      20000   50      70      0       20      5       5       1       1\ns\n                        ; Wood-drum Timbre\ni1      0       .2      20000   40      27.5    0       25      7       6       1       1\ni1      .5      .2      20000   80      55      0       25      7       6       1       1\ni1      1       .2      20000   160     110     0       25      7       6       1       1\ni1      1.5     .2      20000   320     220     0       25      7       6       1       1\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a tempintegration sound using oscillator and interpolating random and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from TempIntegration.orc and TempIntegration.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\n\n;**************************************   TEMPORAL INTEGRATION   *************************************\n\n; HOW DOES THE LOUDNESS OF AN IMPULSIVE SOUND COMPARE WITH THE LOUDNESS OF A STEADY SOUND AT THE SAME\n; LEVEL? NUMEROUS EXPERIMENTS HAVE PRETTY WELL ESTABLISHED THAT THE EAR AVERAGES SOUND ENERGY OVER A-\n; BOUT 0.2S (200MS), SO LOUDNESS GROWS WITH DURATION UP TO THIS VALUE. STATED ANOTHER WAY, LOUDNESS \n; LEVEL INCREASES BY 10DB WHEN THE DURATION IS INCREASED BY A FACTOR OF 10. THE LOUDNESS LEVEL OF \n; BROADBAND NOISE SEEMS TO DEPEND SOMEWHAT MORE STRONGLY ON STIMULUS DURATION THAN THE LOUDNESS LEVEL\n; OF PURE TONES.\n; IN THIS DEMONSTRATION, BURSTS OF BROADBAND NOISE HAVING DURATIONS OF 1000, 300,100, 30, 10, 3, AND\n; 1MS ARE PRESENTED AT 8 DECREASING LEVELS (0,-16,-20,-24,-28,-32,-36,AND -40DB) IN THE PRESENCE OF\n; A BROADBAND MASKING NOISE. \n\n;***************************************   HEADER   **************************************************\n\n\n\n\n instr         1\n\n iamp          =         ampdb(p4)                     ;P4 = AMPLITUDE IN DB\n\n\n k1            linen     iamp,.01,p3,.01\n anoise        randi     k1, .998 * 10010              ;BROADBAND NOISE 20 - 20KHZ\n asig          oscil     anoise,anoise,1     \n               outs      asig,asig\n endin\n \n\n</CsInstruments>\n<CsScore>\n\nf1 0 32768 10 1                                                                      ; SINE WAVE\n\n\n\n;*************************************   TEMPORAL INTEGRATION   ************************************\n;******************************************   1000ms   *********************************************\n;   p1      p2      p3     p4             \n;  inst    strt    dur    amp          \n    i1      1       50    56                                                         ; BROADBAND MASKING NOISE      \n    i1      5       1     80               \n    i1      6.5     1     64      \n    i1      8.0     1     60      \n    i1      9.5     1     56      \n    i1     11.0     1     52      \n    i1     12.5     1     48      \n    i1     14.0     1     44      \n    i1     15.5     1     40      \n ;*****************************************   300ms   **********************************************\n    i1     17.0     .3    80\n    i1     17.8     .3    64\n    i1     18.6     .3    60\n    i1     19.4     .3    56\n    i1     21.2     .3    52\n    i1     22.0     .3    48\n    i1     22.8     .3    44\n    i1     23.6     .3    40\n ;****************************************   100ms   ***********************************************\n    i1     24.4     .1    80\n    i1     25.0     .1    64\n    i1     25.6     .1    60\n    i1     26.2     .1    56\n    i1     26.8     .1    52\n    i1     27.4     .1    48\n    i1     28.0     .1    44\n    i1     28.6     .1    40\n ;*****************************************   30ms   ***********************************************\n    i1     29.2     .03   80\n    i1     29.73    .03   64\n    i1     30.26    .03   60\n    i1     30.79    .03   56\n    i1     31.32    .03   52\n    i1     31.85    .03   48\n    i1     32.38    .03   44\n    i1     32.91    .03   40\n ;*****************************************   10ms   ************************************************\n    i1     33.44    .01   80\n    i1     33.95    .01   64\n    i1     34.46    .01   60\n    i1     34.97    .01   56\n    i1     35.48    .01   52\n    i1     35.99    .01   48\n    i1     36.50    .01   44\n    i1     37.01    .01   40\n ;******************************************   3ms   ************************************************\n    i1     37.52    .003  80\n    i1     38.023   .003  64\n    i1     38.526   .003  60\n    i1     39.029   .003  56\n    i1     39.532   .003  52\n    i1     40.035   .003  48\n    i1     40.538   .003  44\n    i1     41.041   .003  40\n ;******************************************   1ms   ************************************************\n    i1     41.544   .001  80\n    i1     42.045   .001  64\n    i1     42.546   .001  60\n    i1     43.047   .001  56\n    i1     43.548   .001  52\n    i1     44.049   .001  48\n    i1     44.550   .001  44\n    i1     45.051   .001  40\n e      \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for asig      oscil     400, p4, 1 using test/demonstration and oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from numnotetest.orc and numnotetest.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\nasig      oscil     400, p4, 1\n          out       asig\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\n\nt 0 240\ni1 0 500 50\ni1 1  .  <\ni1 2  .  <\ni1 3  .  <\ni1 4  .  <\ni1 5  .  <\ni1 6  .  <\ni1 7  .  <\ni1 8  .  <\ni1 9  .  <\ni1 10 .  <\ni1 11  .  <\ni1 12  .  <\ni1 13  .  <\ni1 14  .  <\ni1 15  .  <\ni1 16  .  <\ni1 17  .  <\ni1 18  .  <\ni1 19  . <\ni1 20 . <\ni1 21  .  <\ni1 22  .  <\ni1 23  .  <\ni1 24  .  <\ni1 25  .  <\ni1 26  .  <\ni1 27  .  <\ni1 28  .  <\ni1 29  .  <\ni1 30 .  <\ni1 31  .  <\ni1 32  .  <\ni1 33  .  <\ni1 34  .  <\ni1 35  .  <\ni1 36  .  <\ni1 37  .  <\ni1 38  .  <\ni1 39  .  <\ni1 40  . <\ni1 41  .  <\ni1 42  .  <\ni1 43  .  <\ni1 44  .  <\ni1 45  .  <\ni1 46  .  <\ni1 47  .  <\ni1 48  .  <\ni1 49  .  <\ni1 50  . <\ni1 51  .  <\ni1 52  .  <\ni1 53  .  <\ni1 54  .  <\ni1 55  .  <\ni1 56  .  <\ni1 57  .  <\ni1 58  .  <\ni1 59  .  <\ni1 60  . <\ni1 61  .  <\ni1 62  .  <\ni1 63  .  <\ni1 64  .  <\ni1 65  .  <\ni1 66  . <\ni1 67  .  <\ni1 68  .  <\ni1 69  .  <\ni1 70  .  10000\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for icps      cpsmidi using waveshaping and oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Waveshap.orc and Waveshap.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n          \n          instr   2\nicps      cpsmidi\niamp      ampmidi   512, 100\niscale    =         iamp * 30\nkamp      linseg    0, .25, iamp, .25, iamp-100, 5, 0\nawtosc    oscil     kamp, icps, 1\naout      table     awtosc + 512, 2\naeg       linenr    iscale, .01, .5, .01\n          out       aout * aeg\n          endin\n\n          instr   3\nicps      cpsmidi\niamp      ampmidi   8192, 100\niscale    =         iamp * .5\nk1        expseg    .01, .1, iamp, .03, iamp-1000, 5, .01\na1        oscili    k1, icps, 1\na1        tablei    a1, 3\naeg       linenr    iscale, .01, .5, .01\n          out       a1 * aeg\nendin\n\n          instr   1\nicps      cpsmidi\niamp      ampmidi   256, 100\niscale    =         iamp*20\nkamp      linseg    0, .01, iamp, .35, iamp-30, 5, 0\nktabmov   linseg    0, .01,  512, .35, 1024, 2, 1536, 5, 0\nawtosc    oscil     kamp, icps, 1\naout      table     awtosc + 256 + ktabmov, 4, 0, 0, 1\naeg       linenr    iscale, .01, .5, .01\n          out       aout * aeg\n          endin\n\n</CsInstruments>\n<CsScore>\nf0   600\nf1     0  4096 10 1\nf2     0  1025 13 1 1 6 4 2 3\nf3     0  8193 13 1 1  0 5 -2 -3 0 8 -9 0 2 0 -3 0 2\nf4     0   513  3 -1 1 0 0 3 0 -10.5 0 6\nf100   0   128  7  0 128 1\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur   =      p3         ; Duration using oscillator and interpolating oscillator and buzz/pulse generator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from mikelnewtb.orc and mikelnewtb.sco\n; Original files preserved in same directory\n\nsr     =     44100    ; Sample rate\nkr     =     44100    ; Kontrol rate\nksmps  =     1        ; Samples per control period\nnchnls =     2        ; Normal stereo\n\n;------------------------------------------------------------\n; Analog sounding filters\n; coded by Hans Mikelson May 2000\n;------------------------------------------------------------\n        zakinit 50, 50 ; Initialize zak\n\n;------------------------------------------------------------\n; Envelope (Knob twisting simulation)\n;------------------------------------------------------------\n        instr  1\n\nidur   =      p3         ; Duration\niamp   =      p4         ; Amplitude\nilps   =      p5         ; Loops\niofst  =      p6         ; Offset\nitabl  =      p7         ; Table\nioutch =      p8         ; Output channel\n\nkout   oscili iamp, ilps/idur, itabl  ; Create the envelope\n        zkw    kout+iofst, ioutch      ; Send out to the zak channel\n\n       endin\n\n;------------------------------------------------------------\n; Teebee Filter\n;------------------------------------------------------------\n       instr    15\n\nidur  =        p3         ; Duration\niamp  =        p4         ; Amplitude\nifqc  =        cpspch(p5) ; Pitch\nipanl =        sqrt(p6)   ; Pan left\nipanr =        sqrt(1-p6) ; Pan right\niq    =        p7         ; Q\niinfq =        p8         ; Input Fco\nipbnd =        p9         ; Pitch Bend\n\nasqr   init    0\naxs    init    0             ; Mass spring starts at zero\navxs   init    0             ; Not moving either\n\nkpbnd  oscil   1, 1/idur, ipbnd\n\nkdclk  linseg  0, .02, 1, idur-.04, 1, .02, 0\nkamp   linseg  0, .1*idur, 1, .8*idur, .8, .1*idur, 0\nkfco   linseg  4800, .2, 2800, .2, 2800\n\napls1  buzz    1, ifqc*kpbnd,  sr/2/ifqc/kpbnd, 1     ; Band-limited \nimpulse train\napls2  vdelay  apls1, 500/ifqc/kpbnd, 1000\n\naflt1 moogvcf  apls1, kfco, .85\naflt2 moogvcf  apls2, kfco, .1\n\nasqr   =       asqr*.9 + aflt1 - aflt2\n\niks    =       5000                     ; Spring/Mass constant\nidmp   =       .98                      ; Damping factor\nih     =       .001                     ; Diff eq step size\n\nax3    =       iks*axs\n\naaxs   =       -ax3*ax3*ax3+(apls1-apls2)*10 ; Update acceleration\navxs   =       idmp*avxs+aaxs*ih        ; Update velocity\naxs    =       axs+avxs*ih              ; Update X location\n\n\naoutl =        (asqr+axs*2000)*kdclk*kamp*iamp/(ifqc^.3)*7\naoutr =        aoutl\n       outs     aoutl*ipanl, aoutr*ipanr\n\n       endin\n\n\n</CsInstruments>\n<CsScore>\n; SCORE\n\nf1 0 65536 10 1\nf2 0 1024  -7 1 500 1 500 2 24 2\nf3 0 1024  -7 1 1024 1\n\nt0 70\n\n;    Sta  Dur  Amp    Pitch  Pan  Q   FcoCtl  PBend\ni15  0    .1   30000  7.03   .5   .8  1       3\ni15  +    .2   30000  6.03   .    .   .       2\ni15  .    .1   .      7.03   .    .   .       3\ni15  .    .2   .      6.03   .    .   .       2\ni15  .    .2   .      6.03   .    .   .       .\ni15  .    .2   .      6.03   .    .   .       .\ni15  .    .2   .      6.03   .    .   .       .\ni15  .    .1   .      6.03   .    .   .       3\ni15  .    .1   .      6.03   .    .   .       .\ni15  .    .1   .      7.03   .    .   .       .\ni15  .    .1   .      6.03   .    .   .       .\ni15  .    .1   .      7.03   .    .   .       .\ni15  .    .2   .      6.03   .    .   .       2\ni15  .    .1   .      7.03   .    .   .       3\ni15  .    .2   .      6.03   .    .   .       2\ni15  .    .2   .      6.03   .    .   .       .\ni15  .    .2   .      6.03   .    .   .       .\ni15  .    .2   .      6.03   .    .   .       .\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for p2             =         p2   +    p9 using oscillator and reverb effect and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from streams2.orc and streams2.sco\n; Original files preserved in same directory\n\nsr        =    44100\nkr        =    4410\nksmps     =    10\nnchnls    =    1\n\n\ninstr 1\n\n     p2             =         p2   +    p9\n     amp            oscil     1, 1 / p3, p4\n     adens          oscil     1, 1 / p3, p5\n     alofr          oscil     1, 1 / p3, p6\n     ahifr          oscil     1, 1 / p3, p7\n     awind          oscil     amp, adens, p8\n     afr            randi     ahifr, adens\n     astream        oscil     awind, alofr + afr, 1\n\n     gasig          =         astream / p10\n     out gasig\nendin\n\ninstr 2\n\n     awet reverb gasig, p4\n     out awet / p5\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\nf2 0 1024 8 0 512 1 512 0\nf3 0 1024 -7 1000 1024 1000\nf4 0 1024 -7 0 100 400 100 1000 200 600 500 700 124 200\nf5 0 1024 -7 200 1024 200\nf6 0 1024 -7 0 224 30000 200 25000 500 25000 100 0\n\n;              revtime   revlevel\n;i2  0    10   2         2\n;                   fampenv   fdens     flofr     fhifr     fwindow   offset    norm\ni1   0    8         6         3         4         5         2         0         6\ni1   0    8         .         .         .         .         .         .002 .\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for SIMPLE FOF SOUND using FOF formant synthesis and oscillator and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fofrt.orc and fofrt.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n;----------------------------------------------\n; REAL TIME MIDI CONTROLLED CSOUND\n; BY HANS MIKELSON  JULY 1999\n; TESTED WITH MALDONADO'S CSOUND ON A 300 MHZ PENTIUM\n; I USE THE FOLLOWING ONE LINE BATCH FILE CSM.BAT:\n; csound -+k -+q -b128 -+p4 -+o %1.orc %1.sco\n; called as follows for fofrt.orc & fofrt.sco:\n; csm anmod\n;----------------------------------------------\n\ngifqc     init      440\ngasigl    init      0\ngasigr    init      0\n\n;-----------------------------------------------------------\n; SIMPLE FOF SOUND\n;-----------------------------------------------------------\n          instr 1\n\nivel      veloc                                        ; Velocity\niamp      tablei    ivel, 3                            ; Convert to amplitude\nifqc      cpsmidi                                      ; Get the note in cps\n\n; AMP   RISE, DEC, ATDEC\n\nkamp      linenr    iamp, .05,  .05, .05               ; Declick envelope\nkven      linseg    0, .2, 0, .1, .02, .1, .02         ; Vibrato ramp\nkvbr      oscil     kven, 6, 1                         ; Vibrato LFO\n\nkfqcl     =         (kvbr+1)*ifqc                      ; Calculate vibrato\n\n; GENERATE THREE DIFFERENT FORMANTS\n\n; AMP  FUND   FORM  OCT BAND RISE  DUR1  DEC   OVRLPS  FNA FNB DUR2\n\na1l       fof       .16, kfqcl, 564,  0,  200, .003, .017, .005, 40,     1,  19, 2,   0, 1\na2l       fof       .08, kfqcl, 1156, 0,  200, .003, .017, .005, 40,     1,  19, 2,   0, 1\na3l       fof       .06, kfqcl, 2552, 0,  200, .003, .017, .005, 40,     1,  19, 2,   0, 1\n\naoutl     butterlp  a1l+a2l+a3l, 5000                  ; LOWPASS FILTER\n\n          outs      aoutl*kamp, aoutl*kamp             ; OUTPUT\n\n          endin\n\n\n</CsInstruments>\n<CsScore>\n;----------------------------------------------\n; REAL TIME MIDI CONTROLLED CSOUND\n; TESTED WITH MALDONADO'S CSOUND\n;----------------------------------------------\nf0  60                         ; Runs for this many seconds\nf1  0 65536 10 1               ; Sine\nf3  0 128   -7 10000 128 30000 ; Amp\nf19 0 1024  19 .5 .5 270 .5\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ka1            =         p4 using bell sound and oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bell1.orc and bell1.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         441\nksmps          =         100\nnchnls         =         1\n\n;;; BELL INSTRUMENT BASED ON RISSET\n;;; FIGURE 3.27 FROM DODGE & JERSE, P.94 \n\n\ninstr 1\n\nka1            =         p4\nka2            =         p4*.67\nka3            =         p4\nka4            =         p4*1.8\nka5            =         p4*2.67\nka6            =         p4*1.67\nka7            =         p4*1.46\nka8            =         p4*1.33\nka9            =         p4*1.33\nka10           =         p4\nka11           =         p4*1.33\n\nkd1            =         p3\nkd2            =         p3*.9\nkd3            =         p3*.65\nkd4            =         p3*.55\nkd5            =         p3*.325\nkd6            =         p3*.35\nkd7            =         p3*.25\nkd8            =         p3*.2\nkd9            =         p3*.15\nkd10           =         p3*.1\nkd11           =         p3*.075\n\nkf1            =         p5*.56\nkf2            =         p5*.56+1\nkf3            =         p5*.92\nkf4            =         p5*.92+1.7\nkf5            =         p5*1.19\nkf6            =         p5*1.7\nkf7            =         p5*2\nkf8            =         p5*2.74\nkf9            =         p5*3\nkf10           =         p5*3.76\nkf11           =         p5*4.07\n\nkamp1          oscil     ka1,1/kd1,2\nkamp2          oscil     ka2,1/kd2,2\nkamp3          oscil     ka3,1/kd3,2\nkamp4          oscil     ka4,1/kd4,2\nkamp5          oscil     ka5,1/kd5,2\nkamp6          oscil     ka6,1/kd6,2\nkamp7          oscil     ka7,1/kd7,2\nkamp8          oscil     ka8,1/kd8,2\nkamp9          oscil     ka9,1/kd9,2\nkamp10         oscil     ka10,1/kd10,2\nkamp11         oscil     ka11,1/kd11,2\n\nasig1          oscil     kamp1,kf1,1\nasig2          oscil     kamp2,kf2,1\nasig3          oscil     kamp3,kf3,1\nasig4          oscil     kamp4,kf4,1\nasig5          oscil     kamp5,kf5,1\nasig6          oscil     kamp6,kf6,1\nasig7          oscil     kamp7,kf7,1\nasig8          oscil     kamp8,kf8,1\nasig9          oscil     kamp9,kf9,1\nasig10         oscil     kamp10,kf10,1\nasig11         oscil     kamp11,kf11,1\n\nadd1           =         asig1+asig2+asig3+asig4+asig5+asig6\nadd2           =         asig7+asig8+asig9+asig10+asig11\nadd            =         add1+add2\naout           =         add\nout            aout\nendin\n\n</CsInstruments>\n<CsScore>\n;;; SCORE FOR 3.27\n\nf1 0 8192 10 1\nf2 0 512 5 1 512 .00097\n;inst start length amp freq\n;p1 p2 p3   p4 p5\ni1 0    20  2000 200\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp\t\t=\t\t10000 using oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from morrill.orc and morrill.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t1\n\n\n\n\t\tinstr 1\n\niamp\t\t=\t\t10000\nifc1\t\t=\t\t250\nifc2\t\t=\t\t1500\nifm\t\t=\t\t250\nimax\t\t=\t\t2.66\niratio\t=\t\t1.8 / 2.66\niatt3\t=\t\t.03\niatt4\t=\t\t.03\niatt5\t=\t\t.03\nidec3\t=\t\t.15\nidec4\t=\t\t.01\nidec5\t=\t\t.3\nirandev\t=\t\t.007\nifr\t\t=\t\t125\nivibwth\t=\t\t.007\nivibrate\t=\t\t7\niportdev\t=\t\t.03\niatt1\t=\t\t.6\niatt2\t=\t\t.06\nidec1\t=\t\t.2\nidec2\t=\t\t.01\n\n\nkec1\t\toscil\tiamp,\t 1 / p3,\t2\nkec2\t\toscil\tiamp * .2, 1 / p3,\t2\nkem\t\toscil\timax * ifm,1 / p3,\t4\nkev\t\toscil\tivibwth,\t 1 / p3,\t5\nkpd\t\toscil\tiportdev,\t 1 / p3,\t6\n\t\nke1\t\tlinen\t1,iatt1,p3,idec1\nke2\t\tlinen\t1,iatt2,p3,idec2\nke3\t\tlinen\t1,iatt3,p3,idec3\nke4\t\tlinen\t1,iatt4,p3,idec4\nke5\t\tlinen\t1,iatt5,p3,idec5\n\nkpd\t\t=\t\t(kpd * ke2) + 1\nkvib\t\toscil\tke1 * kev,ivibrate,\t1\nkv\t\t=\t\t1\n\nam\t\toscil\tke4 * kem, ifm * kv,1\nac1\t\toscil\tke3 * kec1 ,(ifc1 * kv) + am,1\nac2\t\toscil\tke5 * kec2, (ifc2 * kv) + (am * iratio),1\n\n\t\tout \t\tac1 + ac2\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1\t0\t1024\t10\t1\nf2\t0\t1024\t7\t0.7\t124\t1\t200\t0.7\t700 0.7\n;f3\t0\t1024\t7\t\nf4\t0\t1024\t7\t0.7\t124\t1\t300\t0.5\t150\t.07\t450 0.7\nf5\t0\t1024\t7\t1\t1024\t1\nf6\t0\t1024\t7\t1\t1024\t1\n\ni1 1 3\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1             =         1/p3 using oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from SONG.ORC and SONG.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n; RISSET \"SONG\" #420\n\ninstr          1\n\ni1             =         1/p3\n\ni2             =         p4\ni3             =         p4 * 1.146\ni4             =         p4 * 1.6\ni5             =         p4 * 2.52           ; SPECTRUM POINTS\ni6             =         p4 * 1.42\ni7             =         p4 * 2.79\ni8             =         p4 * 3.385\n\nk1             oscil     p5, i1, 1\nk2             oscil     p6, i1, 1\nk3             oscil     p7, i1, 1\nk4             oscil     p8, i1, 1\nk5             oscil     p9, i1, 1\nk6             oscil     p10, i1, 1\nk7             oscil     p11, i1, 1\n\na1             oscili    k1, i2, 2\na2             oscili    k2, i3, 2\na3             oscili    k3, i4, 2\na4             oscili    k4, i4, 2\na5             oscili    k5, i6, 2\na6             oscili    k6, i7, 2\na7             oscili    k7, i8, 2\n\nout            a1 + a2 + a3 + a4 + a5 + a6 + a7\nendin\n\n</CsInstruments>\n<CsScore>\n; Risset \"song\" #420\n\nf1 0 513 5 1 512 .0078\nf2 0 512 9 1 1 0\n\nf0 1\ns\ni1 0 2.5 125 3000 2500 2000 3000 1000 1500 1000\ni1 .  .   50\ni1 .  .  210\ni1 .  .  290\nend\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for p6 = amp using oscillator and generalized buzz generator and reverb effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from gbuzz.orc and gbuzz.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n  \n  \n          instr 2                               ; p6 = amp   \nifreq     =        cpspch(p5)                   ; p7 = reverb send factor\n                                             ; p8 = lfo freq \nk1        randi    1, 30                        ; p9 = number of harmonic      \nk2        linseg   0, p3 * .5, 1, p3 * .5, 0    ; p10 = sweep rate   \nk3        linseg   .005, p3 * .71, .015, p3 * .29, .01\nk4        oscil    k2, p8, 1,.2                   \nk5        =        k4 + 2\n\nksweep    linseg   p9, p3 * p10, 1, p3 * (p3 - (p3 * p10)), 1\n     \nkenv      expseg   .001, p3 * .01, p6, p3 * .99, .001\nasig      gbuzz    kenv, ifreq + k3, k5, ksweep, k1, 15\n\n          outs     asig, asig\n          \n          endin\n\n</CsInstruments>\n<CsScore>\nf1   0  8192  10   1\nf2   0  512   10   10  8   0   6   0   4   0   1\nf3   0  512   10   10  0   5   5   0   4   3   0   1\nf4   0  2048  10   10  0   9   0   0   8   0   7   0  4  0  2  0  1\nf5   0  2048  10   5   3   2   1   0\nf6   0  2048  10   8   10  7   4   3   1\nf7   0  2048  10   7   9   11  4   2   0   1   1\nf8   0  2048  10   0   0   0   0   7   0   0   0   0  2  0  0  0  1  1\nf9   0  2048  10   10  9   8   7   6   5   4   3   2  1\nf10  0  2048  10   10  0   9   0   8   0   7   0   6  0  5\nf11  0  2048  10   10  10  9   0   0   0   3   2   0  0  1\nf12  0  2048  10   10  0   0   0   5   0   0   0   0  0  3\nf13  0  2048  10   10  0   0   0   0   3   1\nf14  0  512   9    1   3   0   3   1   0   9  .333   180\nf15  0  8192  9    1   1   90 \nf16  0  2048  9    1   3   0   3   1   0   6   1   0\nf17  0  9     5   .1   8   1\nf18  0  17    5   .1   10  1   6  .4\nf19  0  16    2    1   7   10  7   6   5   4   2   1   1  1  1  1  1  1  1\nf20  0  16   -2    0   30  40  45  50  40  30  20  10  5  4  3  2  1  0  0  0\nf21  0  16   -2    0   20  15  10  9   8   7   6   5   4  3  2  1  0  0\nf22  0  9    -2   .001 .004 .007 .003 .002 .005 .009 .006\n\n\n; i2:  p6=amp,p7=rvbsnd,p8=lfofrq,p9=num of harmonics,p10=sweeprate            ;\n\ni2   0  9       0      7.077    930    0.8    26     21     0.23\ni2   +   8       0      8.077    830    0.7    24     19     0.13\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp\t\t=\t\t10000 using oscillator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from morrill tr.orc and morrill tr.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\n\niamp\t\t=\t\t10000\nifc1\t\t=\t\t250\nifc2\t\t=\t\t1500\nifm\t\t=\t\t250\nimax\t\t=\t\t2.66\niratio\t=\t\t1.8 / 2.66\niatt3\t=\t\t.03\niatt4\t=\t\t.03\niatt5\t=\t\t.03\nidec3\t=\t\t.15\nidec4\t=\t\t.01\nidec5\t=\t\t.3\nirandev\t=\t\t.007\nifr\t\t=\t\t125\nivibwth\t=\t\t.007\nivibrate\t=\t\t7\niportdev\t=\t\t.03\niatt1\t=\t\t.6\niatt2\t=\t\t.06\nidec1\t=\t\t.2\nidec2\t=\t\t.01\n\n\nkec1\t\toscil\tiamp,1 / p3,2\nkec2\t\toscil\tiamp * .2,1 / p3,2\nkem\t\toscil\timax * ifm,1 / p3,4\nkev\t\toscil\tivibwth,1 / p3,5\nkpd\t\toscil\tiportdev,1 / p3,6\n\t\nke1\t\tlinen\t1,iatt1,p3,idec1\nke2\t\tlinen\t1,iatt2,p3,idec2\nke3\t\tlinen\t1,iatt3,p3,idec3\nke4\t\tlinen\t1,iatt4,p3,idec4\nke5\t\tlinen\t1,iatt5,p3,idec5\n\nkpd\t\t=\t\t(kpd * ke2) + 1\nkvib\t\toscil\tke1 * kev,ivibrate,1\nkv\t\t=\t\t1\n\nam\t\toscil\tke4 * kem,ifm * kv,1\nac1\t\toscil\tke3 * kec1,(ifc1 * kv) + am,1\nac2\t\toscil\tke5 * kec2,(ifc2 * kv) + (am * iratio),1\n\n\t\tout \t\tac1 + ac2\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1\t0\t1024\t10\t1\nf2\t0\t1024\t7\t.7\t124\t1\t200\t.7\t700 .7\nf3\t0\t1024\t7\t.7\t124\t1\t200\t.7\t700 .7\nf4\t0\t1024\t7\t.7\t124\t1\t300\t.5\t150\t.7\t450 .7\nf5\t0\t1024\t7\t1\t1024\t1\nf6\t0\t1024\t7\t1\t1024\t1\n\ni1 1 3\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1        =         0 using synthesizer and oscillator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from websynth8.orc and websynth8.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\ngisine    =         1\ngitri     =         2\ngisaw     =         3\ngisquare  =         4\ngipulse   =         5\n\n          instr 99\na1        =         0\na2        =         0\na3        =         0\nk3        =         0\na5        =         0\na6        =         0\nk6        =         0\na8        =         0\na9        =         0\na4        =         0\na7        =         0\n          endin\n\n          instr 1\nk1        randh     1.0, 0.440050051547587, 0.6162\nk1        =         137.6793+((358.3679-137.6793)*((k1+1.)/2.))\nk2        randh     1.0, 0.863656175788492, 0.9897\nk2        =         206.5190+((537.5518-206.5190)*((k2+1.)/2.))\nk4        randh     1.0, 8.712175804190338, 0.9043\nk4        =         185.2895+((592.8486-185.2895)*((k4+1.)/2.))\nk5        randh     1.0, 1.392112800385803, 0.5196\nk5        =         277.9342+((889.2729-277.9342)*((k5+1.)/2.))\na1        oscil     1.0,168.999688168987632,gisine\na2        oscil     1.0,k1,gisquare\na3        oscil     1.0,k2,gisquare\nk3        oscil     1.0,0.116983264992014,gisine\nk3        =         924.9562+((3699.8247-924.9562)*((k3+1.)/2.))\na5        oscil     1.0,k4,gisquare\na6        oscil     1.0,k5,gisquare\nk6        oscil     1.0,0.094141245232895,gisine\nk6        =         511.1122+((2044.4486-511.1122)*((k6+1.)/2.))\na8        oscil     1.0,1.124467896018177,gisine\na4        reson     a2*a3, k3, k3*0.07974980531726, 1\nkdel1     =         1/k3\naddl1     delayr    1.0000\na4tp      deltapi   kdel1\na4        =         a4 + (a4tp*0.8)\n          delayw    a4\na4        balance   a4,a2*a3\na4        =         a4*.2\na7        reson     a5*a6, k6, k6*0.277547496953048, 1\nkdel2     =         1/k6\naddl2     delayr    1.0000\na7tp      deltapi   kdel2\na7        =         a7 + (a7tp*0.8)\n          delayw    a7\na7        balance   a7,a5*a6\na7        =         a7*.2\na9        =         a8 * (a1+a4+a7)*.2\n          out       a9*30000.00\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1 ; sine\nf2 0 8192 10 1 0 .111 0 .04 0 .02 0 ; triangle\nf3 0 8192 10 1 .5 .333 .25 .2 .166 .142 .125 ; saw\nf4 0 8192 10 1 0 .333 0 .2 0 .142 0 .111; square\nf5 0 8192 10 1 1 1 1 1 1 1 1 1 1 1 1 1; pulse\n\ni1 0 10.0000 \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur\t   \t=\t\tp3 using granular synthesis and oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from granulr2.orc and granulr2.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n\n;----------------------------------------------------------------------------------\n; YOUR BASIC GRANULAR SYNTHESIS\n;----------------------------------------------------------------------------------\n\t\tinstr\t1\n\nidur\t   \t=\t\tp3\niamp\t   \t=\t\tp4\nifqc\t   \t=\t\tcpspch(p5)\nigrtab  \t=\t\tp6\niwintab \t=\t\tp7\nifrng   \t=\t\tp8\nidens   \t=\t\tp9\nifade   \t=\t\tp10\nigdur   \t=\t\t.2\n\nkamp\t   \tlinseg\t\t0, ifade, 1, idur-2*ifade, 1, ifade, 0\n\n;\t\t\t\tAMP\tFQC\t DENSE  AMPOFF PITCHOFF\t  GRDUR  GRTABLE   WINTABLE  MAXGRDUR\naoutl   \tgrain\tp4,\tifqc, idens, 100,\tifqc*ifrng, igdur, igrtab,   iwintab,  5\naoutr   \tgrain\tp4,\tifqc, idens, 100,\tifqc*ifrng, igdur, igrtab,   iwintab,  5\n\n\t   \touts\t\taoutl*kamp, aoutr*kamp\n\n\t endin\n\n;----------------------------------------------------------------------------------\n; GRANULAR SYNTHESIS v. 2\n;----------------------------------------------------------------------------------\n\t\tinstr\t2\n\nidur\t    \t=\t \tp3\niamp\t    \t=\t \tp4\nifqc\t    \t=\t \tcpspch(p5)\nigrtab   \t=\t \tp6\niwintab  \t=\t \tp7\nifrngtab \t=\t \tp8\nidens    \t=\t\tp9\nifade    \t=\t \tp10\nibndtab  \t=\t \tp11\nigdur    \t=\t\t.2\n\nkamp\t   \tlinseg\t0, ifade, 1, idur-2*ifade, 1, ifade, 0\nkbend   \toscil\t1, 1/idur, ibndtab\nkfrng   \toscil\t1, 1/idur, ifrngtab\n\n;\t\t\t\tAMP\tFQC\t\t  DENSE  AMPOFF PITCHOFF\t   GRDUR\tGRTABLE\tWINTABLE\tMAXGRDUR\naoutl   \tgrain\tp4,\tifqc*kbend, idens, 100,\t ifqc*kfrng, igdur, igrtab,\tiwintab,\t5\naoutr   \tgrain\tp4,\tifqc*kbend, idens, 100,\t ifqc*kfrng, igdur, igrtab,\tiwintab,\t5\n\t\n\t   \touts\t\taoutl*kamp, aoutr*kamp\n\n\t \tendin\n\n;----------------------------------------------------------------------------------\n; YOUR BASIC GRANULAR SYNTHESIS\n;----------------------------------------------------------------------------------\n\t\tinstr\t3\n\nidur\t   \t=\t\tp3\niamp\t   \t=\t\tp4\nifqc\t   \t=\t\tcpspch(p5)\nigrtab  \t=\t\tp6\niwintab \t=\t\tp7\nifrng   \t=\t\tp8\nidens   \t=\t\tp9\nifade   \t=\t\tp10\nigdur   \t=\t\tp11\n\nkamp\t   \tlinseg\t0, ifade, 1, idur-2*ifade, 1, ifade, 0\n\n;\t\t\tAMP\tFQC\t DENSE  AMPOFF PITCHOFF\t  GRDUR  GRTABLE   WINTABLE  MAXGRDUR\naoutl   \tgrain\tp4,\tifqc, idens, 100,\tifqc*ifrng, igdur, igrtab,   iwintab,  5\naoutr   \tgrain\tp4,\tifqc, idens, 100,\tifqc*ifrng, igdur, igrtab,   iwintab,  5\n\n\t   \touts\t\taoutl*kamp, aoutr*kamp\n\n\t \tendin\n\n</CsInstruments>\n<CsScore>\n;f1 0 65536 1 \"hahaha.aif\" 0 4 0\nf2 0 1024  7 0 224 1 800 0\nf3 0 8192  7 1 8192 -1\nf4 0 1024  7 0 512 1 512 0\nf5 0 1024 10 1 .3 .1 0 .2 .02 0 .1 .04\nf6 0 1024 10 1 0 .5 0 .33 0 .25 0 .2 0 .167\n\n;a0 14 50\n\n;  Start  Dur  Amp   Freq  GrTab  WinTab  FqcRng  Dens  Fade\ni1   0.0  6.5  700   9.00  5      4       .210    200   1.8\ni1   3.2  3.5  800   7.08  .      4       .042    100   0.8\ni1   5.1  5.2  600   7.10  .      4       .032    100   0.9\ni1   7.2  6.6  900   8.03  .      4       .021    150   1.6\ni1  21.3  4.5  1000  9.00  .      4       .031    150   1.2\ni1  26.5 13.5  1100  6.09  .      4       .121    150   1.5\ni1  30.7  9.3  900   8.05  .      4       .014    150   2.5\ni1  34.2  8.8  700  10.02  .      4       .14     150   1.6\n\n;  Start  Dur  Amp   Freq  GrTab  WinTab  FqcRng  Dens  Fade\ni1   8.0  6.7  700   8.02  6      4       .140    200   1.8\ni1  10.2  5.5  800   9.08  .      4       .010    100   0.8\ni1  12.1  5.2  600   7.11  .      4       .112    100   0.9\ni1  15.2  6.6  900   8.02  .      4       .21     150   1.6\ni1  22.3  8.5  1000  9.02  .      4       .031    150   1.2\ni1  30.5  8.5  1100 10.01  .      4       .121    150   1.5\ni1  31.7 12.3  900   8.05  .      4       .014    150   2.5\ni1  36.2  3.8  700   9.02  .      4       .34     150   1.6\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifqc \t=      \tcpspch(p5) using oscillator and Karplus-Strong plucked string and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from COMPRESS.ORC and COMPRESS.SCO\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n\ngasig \tinit \t0\n\n; PLUCK\n\t\tinstr 1\n\nifqc \t=      \tcpspch(p5)\nkamp \tlinseg \t0, .01, p4, p3-.02, p4, .01, 0\n\nasig  \toscil \tkamp, ifqc, 1\ngasig \t=     \tgasig + asig\n\n\t\tendin\n\n; PLUCK\n\t\tinstr 2\n\nifqc \t=      \tcpspch(p5)\nkamp \tlinseg \t0, .01, p4, p3-.02, p4, .01, 0\n\nasin1 \tpluck \tkamp, ifqc, ifqc, p6, p7\nasig1 \tbutterhp \tasin1, 10\nasig  \tbutterlp \tasig1, 5000\n;  \t\tout   \tasig\ngasig \t=     \tgasig + asig\n\n\t\tendin\n\n; COMPRESSOR\n\t\tinstr 3\n\nkamp  \trms \t\tgasig, p4\n\nkampn \t=      \tkamp/40000\nkcomp \ttablei \tkampn,p5,1,.5\nacomp \t=      \tkcomp*gasig\n\n        \touts    \tp6*acomp, p6*acomp\ngasig \t=       \t0\n\n\t\tendin\n\n; NOISE GATE\n\t\tinstr 4\n\nkamp  \trms \t\tgasig, p4\n\nkampn \t=      \tkamp/40000\nkcomp \ttablei \tkampn,p5,1,.5\nacomp \t=      \tkcomp*gasig\n\n        \touts    \tp6*acomp, p6*acomp\ngasig \t=       \t0\n\n\t\tendin\n\n; RING MODULATOR\n\t\tinstr 5\n       \touts \tgasig*gasig/2000000, gasig*gasig/2000000\t\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n; AN ATTEMPT AT EMULATING TUBE DISTORTION.\n\n; SINE WAVE\nf1 0 8192 10 1\n; TRIANGLE WAVE\nf2 0 8192 7  -1  256 1 256 -1 512 0 7168 0\n; EXP WAVE\nf3 0 8192 7  .001  4096 1 4096 .001\n\n; COMPRESSION CURVE\nf5 0 1025 7 1 512 1 513 .5\n\n; COMPRESSOR\n;  Sta Dur  Frqc  Table  PostGain\n;i3 0   1.6  10    5      1\n\n; RING MODULATOR\n;  Sta Dur\ni5 0   1.6\n\n;i1 0   .5  20000 8.00\n\n; PLUCK USE FUNC 2 FOR DISTORTION\n;   Sta  Dur  Amp    Fqc   Func  Meth\ni2  0.0  1.6  30000  7.00   0     1\ni2  0.2  1.4  24000  7.05   .     .\ni2  0.4  1.2  11000  8.00   .     .\ni2  0.6  1.0  20000  8.05   .     .\ni2  0.8  0.8  30000  7.00   .     .\ni2  1.0  0.6  24000  7.05   .     .\ni2  1.2  0.4  11000  8.00   .     .\ni2  1.4  0.2  20000  8.05   .     .\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for SAMPLE WITH NOISE FILTER RESONANCE using oscillator and FM synthesis and Butterworth bandpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from tekvox1.orc and tekvox1.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\n\n;---------------------------------------------------------------------------\n; SAMPLE WITH NOISE FILTER RESONANCE\n;---------------------------------------------------------------------------\n               instr     1\n\nidur           =         p3                       ; DURATION\niamp           =         p4                       ; AMPLITUDE\nirate          =         p5                       ; READ RATE\nisndin         =         p6                       ; SOUND INPUT FILE\nipantab        =         p7                       ; PAN TABLE\nkrez           =         p8                       ; RESONANCE\niband          =         0                        ; JUST LEAVE IT ZERO...\nifqcadj        =         .149659863*sr            ; ADJUSTMENT FOR FILTER FREQUENCY\n\nkfco1          expseg    800, idur/5, 5000, idur/5, 1000, idur/5, 2000, idur/5, 700, idur/5, 3000 ; FREQ CUT-OFF\nklfo           oscil     1, 20, 20\nkfco           =         kfco1*klfo\n\nain1, ain2 diskin isndin, irate                   ; READ SOUND FILE\n\naxn            =         ain1+ain2                ; MIX THE TWO TOGETHER\n\n; RESONANT LOWPASS FILTER (4 POLE)\nkc             =          ifqcadj/kfco                 ; FILTER CONSTANT\nkrez2          =          krez/(1+exp(kfco/11000))     ; ADJUST FOR HIGH FREQUENCIES\nka1            =          kc/krez2-(1+krez2*iband)     ; ADJUST FOR BAND PASS CHARACTER\nkasq           =          kc*kc                        ; C^2\nkb             =          1+ka1+kasq                   ; FIND B\n\nayn            nlfilt     axn/kb, (ka1+2*kasq)/kb, -kasq/kb, 0, 0, 1       ; USE THE NON-LINEAR FILTER LINEARLY\nayn2           nlfilt     ayn/kb, (ka1+2*kasq)/kb, -kasq/kb, 0, 0, 1       ; 4-POLE\n\n; RESONANT LOWPASS FILTER (4 POLE)\nkcl            =          ifqcadj/kfco\nkrez2l         =          2.0/(1+exp(kfco/11000))                          ; SAME AS ABOVE BUT LOW RESONANCE THIS TIME.\nka1l           =          kcl/krez2l-(1+krez2l*iband)\nkasql          =          kcl*kcl\nkbl            =          1+ka1l+kasql\n\naynl           nlfilt     axn/kbl, (ka1l+2*kasql)/kbl, -kasql/kbl, 0, 0, 1\nayn2l          nlfilt     aynl/kbl, (ka1l+2*kasql)/kbl, -kasql/kbl, 0, 0, 1\n\nares1          =         ayn2-ayn2l                    ; ISOLATE THE RESONANCE\nkrms           rms       ares1, 100                    ; COMPUTE THE AVERAGE RESONANCE LEVEL\n\narand1         rand      krms                          ; NOISE SOURCE\nares2          butterbp  arand1, kfco, kfco/4          ; BAND FILTER IT BASED ON FILTER CUT-OFF\nares3          butterbp  arand1, kfco*2, kfco/4        ; GET ANOTHER BAND\naout           =         ayn2l+(ares2+ares3)           ; ADD BACK ON TO THE LOW-PASS SIGNAL\n\nkpan           oscil     1, 1/idur, ipantab            ; PANNING\nkpanl          =         sqrt(kpan)*iamp\nkpanr          =         sqrt(1-kpan)*iamp\n               outs      aout*kpanl, aout*kpanr        ; GIVE IT TO ME.\n\n               endin\n\n;---------------------------------------------------------------------------\n; SAMPLE WITH FM FILTER RESONANCE\n;---------------------------------------------------------------------------\n               instr     2\n\nidur           =         p3                  ; DURATION\niamp           =         p4                  ; AMPLITUDE\nirate          =         p5                  ; READ RATE\nisndin         =         p6                  ; SOUND INPUT FILE NUMBER\nipantab        =         p7                  ; PANNING TABLE\nkrez           =         p8                  ; RESONANCE\niband          =         0                   ; CONTROLS BAND-PASS CHARACTER OF THE FILTER BUT\nifqcadj        =         .149659863*sr       ; VALUES OTHER THAN ZERO MAKE THE FILTER UNSTABLE\n\nkfco1          expseg    5000, idur/5, 1000, idur/5, 2000, idur/5, 700, idur/5, 3000, idur/5, 800 ; FILTER SWEEP\nklfo           oscil     1, 20, 20\nkfco           =         kfco1*klfo\n\nain1, ain2 diskin isndin, irate              ; READ IN THE SOUND FILE (MUST BE STEREO)\n\naxn            =         ain1+ain2           ; JUST MIX TOGETHER\n\n; RESONANT LOWPASS FILTER (4 POLE)\nkc             =         ifqcadj/kfco        ; FIND THE MYSTERIOUS CONSTANT \"C\"\nkrez2          =         krez/(1+exp(kfco/11000)) ; REDUCE RES AT HIGH FREQUENCIES\nka1            =         kc/krez2-(1+krez2*iband) ; COMPUTE A1\nkasq           =         kc*kc                         ; C^2\nkb             =         1+ka1+kasq                    ; FIND B\n\nayn            nlfilt    axn/kb, (ka1+2*kasq)/kb, -kasq/kb, 0, 0, 1   ; USE NLFILT FOR FILTER SWEEP.\nayn2           nlfilt    ayn/kb, (ka1+2*kasq)/kb, -kasq/kb, 0, 0, 1   ; DO IT AGAIN FOR FOUR POLE.\n\n; RESONANT LOWPASS FILTER (4 POLE)      ; SAME AS ABOVE BUT LOW-PASS WITHOUT RESONANCE.\nkcl            =         ifqcadj/kfco\nkrez2l         =         2.0/(1+exp(kfco/11000))\nka1l           =         kcl/krez2l-(1+krez2l*iband)\nkasql          =         kcl*kcl\nkbl            =         1+ka1l+kasql\n\naynl           nlfilt    axn/kbl, (ka1l+2*kasql)/kbl, -kasql/kbl, 0, 0, 1\nayn2l          nlfilt    aynl/kbl, (ka1l+2*kasql)/kbl, -kasql/kbl, 0, 0, 1\n\nares1          =         ayn2-ayn2l                    ; EXTRACT RESONANCE\nkrms           rms       ares1, 100                    ; HOW BIG IS THE RESONANCE\n;              Amp   Fqc       Car  Mod      MAmp  Wave\nares2          foscil    krms, kfco,     1,   .75,     3,    1   ; GENERATE AN FM SIGNAL BASED ON RESONANCE\naout           =         ayn2l+ares2/4                 ; ADD IT ON TO THE LOW-PASS VERSION\n\nkpan           oscil     1, 1/idur, ipantab            ; HANDLE EQUAL POWER PANNING\nkpanl          =         sqrt(kpan)*iamp\nkpanr          =         sqrt(1-kpan)*iamp\n               outs      aout*kpanl, aout*kpanr        ; OUTPUT\n\n               endin\n\n\n</CsInstruments>\n<CsScore>\nf1  0 8192 10 1                    ; SINE WAVE\nf10 0 1024 7  0 1024 1             ; PAN RL\nf11 0 1024 7  1 1024 0             ; PAN LR\n\nf20 0 1024 -7 .5 500 .5 24 1 500 1\n\n;   Sta   Dur      Amp  Pitch  SoundIn  Pan  Rez\ni1  0.0   8.873    1.8  0.98   55       11   8\ni2  0.17  8.525    1.8  1.02   55       10   8\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ilump \ttable \tp5,5 using noise generation and oscillator and generalized buzz generator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from noise2.orc and noise2.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n; >On Sun, 13 Oct 1996, Robin Whittle wrote: \n\n; >>\"Pink noise\" or 1/f noise can be generated by taking white noise (simple random \n;numbers) and low pass filtering it with a roll-off of -3dB per octave. -6db is easy, \n;but I can't think of a way of doing -3dB. There has to be a lower frequency limit to \n;this, otherwise over long time periods there will be huge amplitudes. \n; Is it possible to squeeze output through a bandpass filter or, even better, a set of \n;band pass filters (tabled perhaps) and trim or sculpt a targeted frequency of noise? \n; or would that screw the pooch on amplitude, too? \n; Here is tabled amp reference; I call this one \"Gerald\" for no particular reason.\n\n\n\t\tinstr 1\n\nilump \ttable \tp5,5\nkvib \toscil \t2.75,cpspch(p6)/50,8\nkdex \tphasor \tp4\nkptch1 \ttable \tkdex*8,7\nkptch2 \ttable \tkdex*8,6\nkptch3 \ttable \tkdex*8,2\namp \t\tlinseg \t0,p3*.1,ampdb(ilump),p3*.9,0\nasig \tgbuzz \tamp/2,cpspch(kptch1),5,1,3,1\nasigr \toscil \tamp/2,cpspch(kptch2)+kvib,3\nasigp \toscil \tamp*.3,cpspch(kptch3)+kvib,4\nasigm \tgbuzz \tamp*.7,cpspch(p6),5,1,-3,8\n\t\touts \tasig+asigr,asigp+asigm\n\t\tendin\n\n\n</CsInstruments>\n<CsScore>\n; sco dee doh\nf1 0 2048 9 1 10 87 2 5 207 3 0 90 4 4 36 5 0 90 6 3 207 \nf2 0 16 -2 8.02 8.11 8.09 8.00 8.02 8.07 8.04 8.00 \nf3 0 1024 10 10 5 0 4 0 3 0 2 0 1\nf4 0 1024 10 10 0 5 0 4 0 3 0 2 0 1\nf5 0 16 -2 95 90 88 86 82 80 75\nf6 0 16 -2 5.00 6.04 5.02 6.05 5.07 6.04 5.09 7.04 \nf7 0 16 -2 9.04 9.07 9.05 9.09 9.11 9.11 10.00 10.00 \nf8 0 512 9 1 5 225 2 7 60 3 3 330\nt 0 60 1.5 30 3 15\n\ni1 0 1.5 1 6 8.00\ni1 .5 1.5 1 6 7.07\ni1 1 1.5 1 5 7.05\ni1 1.5 1 2 4 7.00\ni1 2 1 2 3 7.05\ni1 2.5 1 2 2 7.07\ni1 3 1.5 1 1 8.00\ni1 3.5 1 1 3 7.07\ni1 4.5 1 2 6 7.05\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp      =         p5 using oscillator and interpolating oscillator and interpolating FM synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from WEBFIN.ORC and WEBFIN.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n; CELLO INSRUMENT\n  \n          instr 1\niamp      =         p5\nifreq     =         cpspch(p4)\niarand    =         .009\nifrand    =         3\nifvib     =         3\nilfac     =         sqrt(p9)\nirfac     =         sqrt(1-p9)\niat       =         p6*2.1\nidec      =         p7*2.1\naresig    =         0\n\nkrand     randi     iarand, ifrand, -1\nkvib      oscil     krand, ifvib, 1\nacelsig   foscili   iamp, ifreq*(1+kvib), p10, p11, p12, 1\nasig1     envlpx    acelsig, iat, p3-p13-.1, idec, 2, p8, .01\n          if        (p13=0)goto continue\naresig    reverb    asig1, p13\ncontinue:\n          outs      (asig1*ilfac)+(aresig*.5), (asig1*irfac)+(aresig*.5)\n \n          endin\n\n; CELLO TRILL INSRUMENT\n  \n          instr 2          \niamp      =         p5\nifreq     =         cpspch(p4)\nilfac     =         sqrt(p9)\nirfac     =         sqrt(1-p9)\niat       =         p6*2.1\nidec      =         p7*2.1\nihnote    =         cpspch(p4+.02)\nitrate    =         6\nktrill    init      0\n\n          timout    0, .2, notrill\nktrill    oscil     ihnote-ifreq, itrate, 6\nnotrill:\nacetsig   foscili   iamp, ifreq+ktrill, p10, p11, p12, 1\natsig1    envlpx    acetsig, iat, p3, idec, 2, p8, .01\n          outs      atsig1*ilfac, atsig1*irfac\n\n          endin\n\n; PIANO INSTRUMENT (TREBLE)\n\n          instr 3\nifamp     =         .3\nivibamp   =         .3\niamp      =         (1- ivibamp)- ifamp\nifreq     =         cpspch(p4)\nifunc     =         4\niarand    =         .0075\nifreqrand =         15\nifreqvib  =         p8\nifrise    =         .02\niat       =         .01\nidec      =         p6*2.1\n\nkfgate    oscil1i   0, ifamp, ifrise, 8\nkgate     envlpx    p5, iat, p3, idec, 3, p7, .01\nkrand     randi     iarand, ifreqrand, -1\nkvib      oscil     krand+1, ifreqvib+krand, 1\naform     oscili    kfgate, ifreq*2, 9          \navibpt    oscili    ivibamp*kvib, ifreq, ifunc\napiano1   oscili    iamp, ifreq, ifunc\n          outs      (avibpt+apiano1)*kgate+(aform*p5), (apiano1*kgate)*.1\n          endin        \n\n; PIANO INSTRUMENT (BASS) \n\n          instr 4\nifamp     =         .3\nivibamp   =         .2\niamp      =         (1- ivibamp)- ifamp\nifreq     =         cpspch(p4)\nifunc     =         5\niarand    =         .01\nifreqrand =         15\nifreqvib  =         p8\nifrise    =         .02\niat       =         .01\nidec      =         p6*2.1\n\nkfgate    oscil1i   0, ifamp, ifrise, 8\nkgate     envlpx    p5, iat, p3, idec, 3, p7, .01\nkrand     randi     iarand, ifreqrand, -1\nkvib      oscil     krand+.2, ifreqvib+krand, 1\naform     oscili    kfgate, ifreq, 7 \navibpb    oscili    ivibamp*kvib, ifreq, ifunc\napiano2   oscili    iamp, ifreq, ifunc\n\n          outs      (apiano2*kgate)*.1, (avibpb+apiano2)*kgate+(aform*p5)\n \n          endin\n\n</CsInstruments>\n<CsScore>\n\nf01     0       513     10      1\nf02     0       129     6       0       64      .5      128     1\nf03     0       129     9       .4      1       0\nf04     0       512     10      1       .8      .4      1       0       .1      0       1       0       0       0       0       0       0       0       1\nf05     0       512     10      1       .1      .4      .1      .2      .3      .4      .3      .2      .1\nf06     0       128     7       0       59      0       4       1       59      1       4       0\nf07     0       512     10      0       0       .4      0       0       .2      0       .1      .2      .3      .4      .5      .6      .7      .8      .9\nf08     0       129     9       .5      1       0\nf09     0       512     10      0       .2      1       .2      0       .5      0       .1      .2      .3      .4      .5\n\nt0      25\n\nf0      0       1\n\ni02     1       2.01    6.03    1000    .1      .01     7       .1      2       3       1       0       \ni01     2.95    2.043   8.00    7000    .05     .03     .2      .2      3       5       7       .6       \ni01     4.283   1.018   6.11    4000    .05     .03     .5      .3      2       3       2       .2       \ni01     4.95    1.75    6.10    2000    .05     1       1       .4      1       2       1       .1      \ni01     10      3       8.05    3000    1.4     1.4     1       .5      4       5       3       0       \ni01     16      1.8     8.09    2000    .45     .02     1       .6      3       4.0001  3       1       \ni01     17.5    2.1     9.02    1500    .9      .02     1       .7      2       3.001   2       2       \ni01     19      8.1     10.01   1000    .3      4       1       .8      1       2.01    1       3       \n\ni03     3.5     2.5     7.02    8000    .5      .6      4    \ni03     6.666   1.667   7.06    .       .       .       4.5   \ni03     8.333   .667    6.08    10000   .       .       3\ni03     9       4       7.07    12000   .       .       5\ni03     9.666   3.334   7.03    12000   .       .       4.3\ni03     14.333  3.667   6.11    8000    .       .       3\ni03     14.333  3.667   6.06    8000    .       .       2.7        \n\ni04     3.5     2.5     6.01    8000    .5      .7      3   \ni04     3.5     2.5     5.05    .       .       .       2.9        \ni04     9.666   3.334   5.04    12000   .       .       2.7\ni04     14.333  3.667   6.00    8000    .       .       2.9\ni04     14.333  3.667   5.10    .       .       .       2.8       \n\ne \n\n    \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for INITIALIZATION using oscillator and interpolating oscillator and variable delay", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from MID.ORC and MID.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n\n;MID.ORC\n\n\n\n\n\n\n;DRUM\n          instr     101\n; INITIALIZATION\ni1        =         1/p3           ; ONCE PER DURATION - FOR ENVELOPES\ni2        =         cpspch(p5)     ; CONVERT OCT. POINT PCH-CLASS NOTATION TO Hz\ni3        =         p4/2           ; THESE THREE ASSIGNMENTS BALANCE THE THREE\ni4        =         p4/6           ; BRANCHES OF THE DRUM INSTRUMENT\ni5        =         p4/2.5\n\n; BRANCH 1 - NOISE\na1        oscili    i3,i1,2        ; GENERATE STEEP EXPONENTIAL ENVELOPE\na1        randi     a1,p6          ; GENERATE BAND OF NOISE WITH FREQ. GIVEN BY p6\na1        oscili    a1,500,4       ; USE NOISE BAND FOR AMP INPUT - RING MOD.\n\n; BRANCH 2 - INHARM\na2        oscili    i4,i1,2        ; STEEP ENVELOPE WITH LOWER AMPLITUDE THAN a1\na2        oscili    a2,i2*.1,3     ; GENERATE INHARMONIC PARTIALS - 1,1.6,2.2,2.3\n\n; BRANCH 3 - FUND\na3        oscili    i5,i1,1        ; DECAY OF f1 IS LESS STEEP THAN f2\na3        oscili    a3,i2,4        ; GENERATES FUNDAMENTAL TONE\n\n; GLOBAL ENVELOPE TO PREVENT CLICKING\na4        linseg    1,p3-.05,1,.05,0,.01,0\n          out       a4*(a1+a2+a3)\n          endin\n\n\n          instr     113\n;p3=linendur,p4=amp,p5=freq,p6=waveshape(function),p7attack,p8=release\na1        oscil     p4, p5, p6\na4        linen     a1, p7, p3, p8\n          out       a4\n          endin\n\n          instr     130\nidur      =         p3\niamp      =         p4\nifrq      =         p5\niatk      =         p6\nirel      =         p7\nicut1     =         p8\nicut2     =         p9\nkenv      linen     iamp, iatk, idur, irel\nkcut      expon     icut1, idur, icut2\nanoise    rand      ifrq \nafilt2    tone      anoise, kcut\nafilt1    tone      afilt2, kcut\n          out       afilt1*kenv\n          dispfft   afilt1, idur, 4096\n          endin\n\n\n          instr     135\nidur      =         p3\niamp      =         p4\nifrq      =         p5\niatk      =         p6\nirel      =         p7\nirat1     =         p8\nirat2     =         p9\nimsdel    =         p10\nkenv      expseg    .001, iatk, iamp, idur/8, iamp*.3, idur-(iatk+irel+idur/8), iamp*.7, irel,.01\nkrate     line      irat1, idur, irat2\nalfo      oscil     imsdel, krate/idur, 19\nanoise    rand      ifrq\nadel4     vdelay    anoise, alfo, imsdel\nadel3     vdelay    adel4, alfo, imsdel\nadel2     vdelay    adel3, alfo, imsdel\nadel1     vdelay    adel2, alfo, imsdel\nadel0     vdelay    adel1, alfo, imsdel\namix      =         adel0+adel1+adel2+adel3+adel4 \n          out       kenv*amix\n          dispfft   amix, idur, 1024\n          endin\n\n\n\n\n</CsInstruments>\n<CsScore>\n;\n\n\n\nf1 0 512 5 1 512 .004 ; AMP ENVELOPES\nf2 0 512 5 1 512 .00012 ; WAVEFORMS\nf3 0 512 9 10 1 0 16 1.5 0 22 2 0 23 1.5 0\nf4 0 512 9 1 1 0\nf11 0 4096 10 1 ;GEN10 SINE WAVE\nf12 0 4096 10 1 .5 .333 .25 .2 .166 .142 .125 .111 .1 .09 .083 .076 .071 .066 .062\nf19 0 1024 -8 .1 512 .9 512 .1\n\n\n;113 BASS F12\n;INS STRT DUR AMP FRQ FN ATK REL\n;============================================================\ni113 2 .25 10000 65.406 12 .001 1\ni113 4 .25 10000 65.406 12 .001 1\ni113 6 .25 10000 65.406 12 .001 1\ni113 10 1 10000 65.406 12 .001 1\n\n;MELODY F11 -SINE WAVE\n=============================================================\n;113\n; ST DUR AMP FREQUENCY FN ATK REL\ni113 3 0.1 20000 523.252 11 .11 1\ni113 3.125 0.1 20000 523.252 11 .11 1 \ni113 3.25 0.1 20000 523.252 11 .11 1\ni113 3.75 0.1 20000 523.252 11 .11 1\n\ni113 5 0.1 20000 523.252 11 .11 1\ni113 5.125 0.1 20000 523.252 11 .11 1 \ni113 5.25 0.1 20000 523.252 11 .11 1\ni113 5.75 0.1 20000 523.252 11 .11 1\ni113 6 0.1 20000 523.252 11 .11 1\ni113 6.125 0.1 20000 587.330 11 .11 1 ;d6\ni113 6.25 0.1 20000 622.254 11 .11 1 ;eb6\ni113 6.75 0.1 20000 698.456 11 .11 1 ;f6\n\ni113 10 1 25000 16.352 11 .11 1\ni113 10 1 25000 65.406 11 .11 1\ni113 10 1 15000 523.252 11 .11 1\ni113 10 1 15000 622.254 11 .11 1\ni113 10 1 15000 987.767 11 .11 1 ;c7\n\n\n;135 \n;INS STRT DUR AMP FRQ ATK REL RAT1 RAT2 MSDEL \n;==========================================================\ni135 4 3 .25 10000 .1 2 .01 1 5\ni135 4.01 3 .25 20000 .1 2 .01 1 5\n\n\n;I101 BASS DRUM\n; ST DURN AMP FREQ CPS(NOISE)\ni101 0 0.2 20000 5000 400\ni101 0.375 0.2 20000 5000 400\ni101 0.625 0.2 20000 5000 400\ni101 0.75 0.2 20000 5000 400\ni101 1 0.2 20000 5000 400\ni101 1.375 0.2 20000 5000 400\ni101 1.625 0.2 20000 5000 400\ni101 1.75 0.2 20000 5000 400\ni101 2 0.2 20000 5000 400\ni101 2.375 0.2 20000 5000 400\ni101 2.625 0.2 20000 5000 400\ni101 2.75 0.2 20000 5000 400\ni101 3 0.2 20000 5000 400\ni101 3.375 0.2 20000 5000 400\ni101 3.625 0.2 20000 5000 400\ni101 3.75 0.2 20000 5000 400\ni101 4 0.2 20000 5000 400\ni101 4.375 0.2 20000 5000 400\ni101 4.625 0.2 20000 5000 400\ni101 4.75 0.2 20000 5000 400\n\ni101 5 0.2 20000 5000 400\ni101 5.375 0.2 20000 5000 400\ni101 5.625 0.2 20000 5000 400\ni101 5.75 0.2 20000 5000 400\ni101 5 0.2 20000 5000 400\ni101 5.375 0.2 20000 5000 400\ni101 5.625 0.2 20000 5000 400\ni101 5.75 0.2 20000 5000 400\ni101 6 0.2 20000 5000 400\ni101 6.375 0.2 20000 5000 400\ni101 6.625 0.2 20000 5000 400\ni101 6.75 0.2 20000 5000 400\ni101 7 0.2 20000 5000 400\ni101 7.375 0.2 20000 5000 400\ni101 7.625 0.2 20000 5000 400\ni101 7.75 0.2 20000 5000 400\ni101 8 0.2 70000 20000 100\ni101 8.375 0.2 70000 20000 100\ni101 8.625 0.2 70000 20000 100\ni101 8.75 0.2 70000 20000 100\n\ni101 9 0.2 70000 20000 100\ni101 9.125 0.2 70000 20000 100\ni101 9.25 0.2 75000 20000 400\ni101 9.375 0.2 80000 20000 100\ni101 9.5 0.2 85000 20000 400\ni101 9.625 0.2 90000 20000 100\ni101 9.75 0.2 95000 20000 400\ni101 9.875 0.2 100000 20000 100\n\n=================================================\n;I130 NOISE FOR SNARE\n;INS ST DUR AMP FRQ ATK REL CUT1 CUT2 \ni130 0.5 0.2 1 20000 .001 .01 5000 40\ni130 1 0.2 1 20000 .001 .1 5000 40\ni130 1.5 0.2 1 20000 .001 .01 5000 40\ni130 2 0.2 1 20000 .001 .1 5000 40\ni130 2.5 0.2 1 20000 .001 .01 5000 40\ni130 3 0.2 1 20000 .001 .1 5000 40\ni130 3.5 0.2 1 20000 .001 .01 5000 40\ni130 4 0.2 1 20000 .001 .1 5000 40\n\ni130 5.5 0.2 1 20000 .001 .01 5000 40\ni130 6 0.2 1 20000 .001 .1 5000 40\ni130 6.5 0.2 1 20000 .001 .01 5000 40\ni130 7 0.2 1 20000 .001 .1 5000 40\ni130 7.5 0.2 1 20000 .001 .01 5000 40\n\ni130 8 0.2 1 20000 .001 .1 5000 40\ni130 8.25 0.2 1 20000 .001 .1 5000 40\ni130 8.5 0.2 1 20000 .001 .01 5000 40\ni130 8.75 0.2 1 20000 .001 .01 5000 40\n\ni130 10 3 1 30000 .001 3 5000 40\n\n=================================================\n;I101 HH(CPS DIFFERNT TO BASS DRUM)\n; ST DURN AMP FREQ CPS(NOISE)\ni101 4 0.2 20000 5000 50000\ni101 4.125 0.2 20000 5000 80000\ni101 4.25 0.2 20000 5000 50000\ni101 4.375 0.2 20000 5000 80000\ni101 4.5 0.2 20000 5000 50000\ni101 4.625 0.2 20000 5000 80000\ni101 4.75 0.2 20000 5000 50000\ni101 4.875 0.2 20000 5000 80000\ni101 5 0.2 20000 5000 50000\ni101 5.125 0.2 20000 5000 80000\ni101 5.25 0.2 20000 5000 50000\ni101 5.375 0.2 20000 5000 80000\ni101 5.5 0.2 20000 5000 50000\ni101 5.625 0.2 20000 5000 80000\ni101 5.75 0.2 20000 5000 50000\ni101 5.875 0.2 20000 5000 80000\ni101 6 0.2 20000 5000 50000\ni101 6.125 0.2 20000 5000 80000\ni101 6.25 0.2 20000 5000 50000\ni101 6.375 0.2 20000 5000 80000\ni101 6.5 0.2 20000 5000 50000\ni101 6.625 0.2 20000 5000 80000\ni101 6.75 0.2 20000 5000 50000\ni101 6.875 0.2 20000 5000 80000\n\ni101 7 0.2 20000 5000 50000\ni101 7.125 0.2 20000 5000 80000\ni101 7.25 0.2 20000 5000 50000\ni101 7.375 0.2 20000 5000 80000\ni101 7.5 0.2 20000 5000 50000\ni101 7.625 0.2 20000 5000 80000\ni101 7.75 0.2 20000 5000 50000\ni101 7.875 0.2 20000 5000 80000\n\ni101 8 0.2 20000 5000 50000\ni101 8.125 0.2 20000 5000 80000\ni101 8.25 0.2 20000 5000 50000\ni101 8.375 0.2 20000 5000 80000\ni101 8.5 0.2 20000 5000 50000\ni101 8.625 0.2 20000 5000 80000\ni101 8.75 0.2 20000 5000 50000\ni101 8.875 0.2 20000 5000 80000\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using oscillator and panning and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from birds.orc and birds.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n; ORCHESTRA\n          zakinit   30, 30\n\n;---------------------------------------------------------------------------\n; THE BIRDS\n;---------------------------------------------------------------------------\n          instr 42\n\nidur      =         p3\niamp      =         p4\nifqc      =         cpspch(p5)\niwrbfm    =         p6\niwrbrt    =         p7\niwrbam    =         p8\niwave     =         p9\nioutch    =         p10\n\niwbeg     =         (iwrbfm>0 ? 1+iwrbfm         : 1/(1-iwrbfm)) ; DETERMINE WHETHER TO\niwend     =         (iwrbfm>0 ? 1/(1+iwrbfm) : 1-iwrbfm) ; RAMP UP OR DOWN.\n\nkamp      linseg    0, .01, iamp, idur-.02, iamp, .01, 0 ; DECLICK\n\n; FREQUENCY MODULATION\nkrate     linseg    iwbeg, idur, iwend\nkfmod     oscil     iwrbam*krate, iwrbrt*krate, 1\nkfmod     =         1+kfmod\nkfqc      =         kfmod*ifqc\n\naout      oscil     kamp*kfmod, kfqc, iwave\n\n          zawm      aout, ioutch\n\n          endin\n\n;---------------------------------------------------------------------------\n; MIXER\n;---------------------------------------------------------------------------\n          instr 100\n\nidur      init      p3\niamp      init      p4\ninch      init      p5\nipan      init      p6\nifader    init      p7\nioutch    init      p8\n                         \nasig1     zar       inch                     ; READ INPUT CHANNEL 1\n\nkfader    oscil     1, 1/idur, ifader\nkpanner   oscil     1, 1/idur, ipan\n\nkgl1      =         kfader*sqrt(kpanner)     ; LEFT GAIN\nkgr1      =         kfader*sqrt(1-kpanner)   ; RIGHT GAIN\n\nkdclick   linseg    0, .002, iamp, idur-.002, iamp, .002, 0  ; DECLICK\n\nasigl     =         asig1*kgl1               ; SCALE AND SUM\nasigr     =         asig1*kgr1\n\n          outs      kdclick*asigl, kdclick*asigr ; OUTPUT STEREO PAIR\n          zaw       kdclick*kfader*asig1, ioutch ; OUTPUT POSTFADER\n\n          endin\n\n;---------------------------------------------------------------------------\n; CLEAR AUDIO & CONTROL CHANNELS\n;---------------------------------------------------------------------------\n          instr 110\n\n          zacl      0, 30                    ; CLEAR AUDIO CHANNELS 0 TO 30\n          zkcl      0, 30                    ; CLEAR CONTROL CHANNELS 0 TO 30\n\n          endin\n\n</CsInstruments>\n<CsScore>\n; SCORE\n;  Sta   Dur\na0 0     20      ; advance\n\n; Sine Wave\nf1  0 16384  10 1\nf2 0   8192   7  -1  4096 1 4096 -1 ; Triangle Wave 1\n\n; Mixer Tables\n; 3=FadeIn, 5=FadeOut, 6=Const1, 7=Const.5\nf3  0 1024 -7 0  1024 1           ; UpSaw/FadeIn/PanRL\nf4  0 1024 -7 0  512 1 512 0      ; Tri/Pan RLR/Fade In&Out\nf5  0 1024 -7 1  1024 0           ; DnSaw/FadeOut/PanLR\nf6  0 1024 -7 1  1024 1           ; Const1/PanL\nf7  0 1024 -7 .5 1024 .5          ; Const.5/PanC\nf8  0 1024 -7 0  1024 0           ; Const0/PanR\nf9  0 1024 -7 0  256 1  768 1      ; Voice Amp\nf10 0 1024 -7 .5 256 .2 768 .8    ; Voice Pan CRL\nf11 0 1024 -7 .5 256 .8 768 .2    ; Voice Pan CLR\nf12 0 1024 -7 0  256 1  512 1 256 0 ; FadeIn-Hold-FadeOut\nf13 0 1024  7 1  1024 -1            ; DownSaw2\nf19 0  1024  19 .5 .5 270 .5\n\n;---------------------------------------------------------------------------\n; The Birds\n;---------------------------------------------------------------------------\nf42  0 16384  10 1 0  0   0   .1\nf43  0 16384  10 1 0 .33 0 .2 0 .14 0 .11\n;   Sta   Dur   Amp   Pitch  WarbFM  WarbRate  WarbAM  Wave  OutCh\ni42 20.0  1.5    600  11.00   1.2    12        .20     1     4\ni42 23.0  0.5   1200  11.09  -2.9    74        .50     .     .\ni42 25.2  1.0   1400  12.05   2.1    20        .04     .     .\ni42 27.0  1.0   1000  11.04   1.1    14        .18     .     .\ni42 29.4  1.2   3000  10.09   1.2    34        .38     .     .\ni42 30.5  0.5   1400  12.00  -2.7    82        .52     .     .\ni42 31.2  0.5   1200  12.00  -2.5    30        .80     .     .\ni42 33.2  1.0   4400  12.01   2.1    20        .04     .     .\ni42 34.5  0.5   3200  12.02  -2.5    80        .48     .     .\ni42 35.2  0.7   2200  11.08  -1.2    10        .80     .     .\ni42 36.0  1.0   1000  11.02   2.1    16        .38     .     .\ni42 37.6  1.5   3600  11.03   1.2    12        .20     .     .\ni42 38.0  1.0   2000  11.07   1.1    14        .18     .     .\n;\ni42 24.3  0.7   800   11.02   .2     60        .52     43    5\ni42 24.7  1.5   1000  11.04   .5     15        .28     .     .\ni42 28.2  1.2   1200  10.11  -2.5    6         .49     .     .\ni42 32.3  0.7   1400  11.02   .2     60        .52     .     .\ni42 33.7  1.5   2000  11.04   .8     15        .28     .     .\ni42 34.2  1.0   3200  12.00  -1.5    80        .49     .     .\ni42 35.8  0.4   1400  11.04   .4     50        .32     .     .\ni42 36.2  1.2   3200  10.08  -.5     8         .29     .     .\ni42 36.5  0.3   4200  11.00   2.2    4.1       .74     .     .\ni42 +     0.3   2300  11.00   2.3    4.2       .76     .     .\ni42 .     0.3   3400  11.01   2.4    4.3       .78     .     .\ni42 .     0.3   2500  11.01   2.5    4.4       .80     .     .\ni42 36.9  0.3   1200  11.09   1.3    74        .40     .     .\ni42 37.2  1.2   3600  11.00  -1.1    12        .20     .     .\ni42 38.2  1.7   3200  11.04  -.8     42        .60     .     .\ni42 38.7  0.7   1700  12.02   1.5    62        .29     .     .\n; Mixer 3=FadeIn, 5=FadeOut, 6=Const1, 7=Const.5, 8=Const0\n;    Sta  Dur   Amp  Ch  Pan  Fader  OutCh\ni100 20.0 20.0  2    4   3    4      20\ni100 20.0 20.0  2    5   5    11     20\n\n;---------------------------------------------------------------------------\n; Clear ZAK\n;---------------------------------------------------------------------------\n; Clear Channels\ni110 0  40\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a flare sound using oscillator and interpolating FM synthesis and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FLARE.ORC and FLARE.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\n;7/25/89\n;FLARE.ORC  LOW FM CLAR WITH DYNAMIC INDEX AND FILTER\n\n\nga1            init      0\n\n\n\n\ninstr          1                             ; A;TERNATE SOURCE WITH NEW AMPSEG,REVERB, AND PANNING\n\nk1             expseg    p4*.001,p3*.05,p4,p3*.7,p4,p3*.2,p4*.05      ;AMPSEG\n                                                                      ;P9=SCALING OF CRESC\nk2             expseg    p7,p3*.1,p8,p3*.9,p8                         ;INDX SEG\nk3             expseg    p5*1.03,p3*.05,p5,p3*.95,p5                  ;CARRIER SEG\nk4             expseg    p6*1.02,p3*.05,p6,p3*.95,p6                  ;MOD SEG\nk5             expseg    p5*1.05,p3*.05,p5*.95,p3*.85,p5,p3*.1,p5*5\nk6             linseg    p9,p3,p9*.1                                  ;P9=KCF\nk7             linseg    p10*.5,p3,p10*2                              ;P10=KBW\nga1            foscili   k1,1,p5,p6,k2,1,0\nga2            reson     ga1,k6,k7,0,0\nendin\n\ninstr          2                             ;ALTERNATE GLOBAL REVERB  MUST BE TURNED ON FOR DURATION\nga3            reverb    ga2,.75             ;PAN INSTR SHOULD BE ONE LONG NOTE FOR DUR\nendin\n\n       \ninstr          3                             ;GLOBAL PAN  MUST BE TURNED ON FOR DURATION OF ALL PAN\nk1             oscil     1,1/p3,2            ;PAN INSTR SHOULD BE ONE LONG NOTE FOR DUR\n               outs1     ga3*k1\n               outs2     ga3*(1-k1)\nendin\n\n\n\n\n\n\n</CsInstruments>\n<CsScore>\nf 1 0 512  9 1 1 0\nf 2 0 512  7 0 256 1 256 0\n\ni2  0 10.75\ni3  0 10.75\n\ni1   0     .1 25    300 200 1  20 300 500\ni1 .15     .2 25     >   200 1  20 >  1000\ni1 .3      .2 25     >   200 1  20 >   500\ni1 .45   .2 25   >  200 1  20 >  1000\n\ni1  .6   .2 25   >  200 1  20 >   500\ni1  .75  .2 25   >  200 1  20 >  1000\n\ni1  .9   .2  25  >  200 1  20 >   500\ni1  1.05 .2  25  >  200 1  20 >  1000\n\ni1  1.20 .2  25  >  200 1  20 >   500\ni1  1.35 .2  25  >  200 1  20 >  1000\n\ni1  1.5  .2  25  >  200 1  20 >   500\ni1  1.65 .2  25  >  200 1  20 >  1000\n\ni1  1.8  .2  25  >  200 1  20 >   500\ni1  1.95 .2  25  >  200 1  20 >  1000\n\ni1  2.1  .2  25  >  200 1  20 >   500\ni1  2.25 .2  25  >  200 1  20 >  1000\n\ni1  2.4  .2  25  >  200 1  20 >   500\ni1  2.55 .2  25  >  200 1  20 >  1000\n\ni1  2.7  .2  25  >  200 1  20 >   500\ni1  2.85 .2  25  >  200 1  20 >  1000\n\ni1  3    .2  25  >  200 1  20 >   500\ni1  3.15 .2  25  >  200 1  20 >  1000\n\ni1  3.3  .2  25  >  200 1  20 >   500\ni1  3.45 .2  25  >  200 1  20 >  1000\n\ni1  3.6  .2  25  >  200 1  20 >   500\ni1  3.75 .2  25  >  200 1  20 >  1000\n\ni1  3.9  .2  25  >  200 1  20 >   500\ni1  4.05 .2  25  >  200 1  20 >  1000\n\ni1  4.2  .2  25  >  200 1  20 >   500\ni1  4.35 .2  25  >  200 1  20 >  1000\n\ni1  4.5  .2  25  >  200 1  20 >   500\ni1  4.65 .2  25 600 200 1  20 600  1000\ne\n\ni1  0  .5  25  300 200 4  12 1300   1500     ;P9 GOES P9 TO P9*.1\ni1  1  .5  25  300 200 4  12 1300  1000      ;P10 GOES P10*.5 TO P10*2\ni1  2  .5  25  75  50  4  12 1300   1300\ni1  3  .5  25  100 75  4  12 1500  1600\ns\n\ni2  0 4.5\ni3  0 4.5\n\ni1  1  .5  25  300 200 1  20 300   500\ni1  2  .5  25  300 200 1  20 300  1000\ni1  3  .5  25  175 150 1  20 30   300\ni1  4  .5  25  100 75  1  20 150  600\ns\n\ni2  0 4.5\ni3  0 4.5\n\ni1  1  .5  25  300 200 10  22 300   50\ni1  2  .5  25  300 200 10  22 300  100\ni1  3  .5  25  175 150  10 22 150  300\ni1  4  .5  25  100 66  10  22 150  600\ns\n\ni2  0 4.5\ni3  0 4.5\n\ni1  1  .5  25  160 140  2  22 160  140\ni1  2  .5  25  200 140  2  22 200  140\ni1  3  .5  10  175 150  2  22 175  150\ni1  4  .5  10  100  66  2  22 166  160\ns\ne\ni2  0 23\ni3  0 23\n\ni1  0  5  25  300 200 4  12 1300   1500      ;P9 GOES P9 TO P9*.1\ni1  6  5  25  300 200 4  12 1300  1000       ;P10 GOES P10*.5 TO P10*2\ni1 12  5  25  75  50  4  12 1300   1300\ni1 18  5  25  100 75  4  12 1500  1600\ns\n\ni2  0 23\ni3  0 23\n\ni1  0  5  25  300 200 1  20 300   500\ni1  6  5  25  300 200 1  20 300  1000\ni1 12  5  25  75  50  1  20 30   300\ni1 18  5  25  100 75  1  20 150  600\ns\n\ni2  0 23\ni3  0 23\n\ni1  0  5  25  300 200 10  22 300   50\ni1  6  5  25  300 200 10  22 300  100\ni1 12  5  25  75  50  10  22 30   30\ni1 18  5  25  100 66  10  22 150  60\ns\n\ni2  0 23\ni3  0 23\n\ni1  0  5  25  60   40  2  22 40   50\ni1  6  5  25  200 140  2  22 140  100\ni1 12  5  10  75   50  2  22 20   30\ni1 18  5  10  100  66  2  22 66  60\ns\n\n\n\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using organ sound and oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from organ1.orc and organ1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n;*************************************************** \n; TONE WHEEL ORGAN WITH ROTATING SPEAKER \n; MIKELSON\n;*************************************************** \n\n\n; TONE WHEEL ORGAN\n          instr     1 \n\nidur      =         p3\niamp      =         p4\nifqc      =         cpspch(p5)\n\nasrc      oscili    iamp,ifqc,2                        ; ORGAN SOURCE\nkenv      linseg    0, .01, 1, idur-.02, 1, .01, 0     ; ENVELOPE \ngasig1    =         asrc*kenv\n\n          endin\n          \n; TONE WHEEL ORGAN\n          instr     2 \n\nidur      =         p3\niamp      =         p4\nifqc      =         cpspch(p5)\n\nasrc      oscili    iamp,ifqc,2                        ; ORGAN SOURCE\nkenv      linseg    0, .01, 1, idur-.02, 1, .01, 0     ; ENVELOPE \ngasig2    =         asrc*kenv\n\n          endin\n          \n; TONE WHEEL ORGAN\n\n          instr     3 \n\nidur      =         p3\niamp      =         p4\nifqc      =         cpspch(p5)\n\nasrc      oscili    iamp,ifqc,2                        ; ORGAN SOURCE\nkenv      linseg    0, .01, 1, idur-.02, 1, .01, 0     ; ENVELOPE \ngasig3    =         asrc*kenv\n\n          endin\n\n;ROTATING SPEAKER\n          instr     4\n\nisep      =         .2\n\nasig      =         gasig1 +gasig2 + gasig3\n\n; DISTORTION EFFECT\nasig      =         asig/40000\naclip     tablei    asig, 5, 1, .5\naclip     =         aclip*30000\n\naleslie   delayr    .02, 1\ndelayw    aclip\n\n; ACCELERATION\nkenv      linseg    p4, p3+.02, p5\n\n; DOPPLER EFFECT\nkoscl     oscil     1, kenv, 1, 0\nkoscr     oscil     1, kenv, 1, isep\nkdopl     =         .01-koscl*.0002\nkdopr     =         .012-koscr*.0002\naleft     deltapi   kdopl\naright    deltapi   kdopr\n\n; FILTER EFFECT\n; DIVIDE INTO THREE FREQUENCY RANGES FOR DIRECTIONAL SOUND. \n\n; HIGH PASS\nalfhi     atone     aleft, 8000\narfhi     atone     aright, 8000\nalfhi     tone      alfhi, 12000\narfhi     tone      arfhi, 12000\n\n; BAND PASS\nalfmid    atone     aleft, 4000\narfmid    atone     aright, 4000\nalfmid    tone      alfmid, 8000\narfmid    tone      arfmid, 8000\n\n; LOW PASS\nalflow    tone      aleft, 4000\narflow    tone      aright, 4000\n\nkflohi    oscil     1, kenv, 3, 0\nkfrohi    oscil     1, kenv, 3, isep\nkflomid   oscil     1, kenv, 4, 0\nkfromid   oscil     1, kenv, 4, isep\n\n; AMPLITUDE EFFECT\nkalosc    =         koscl * .1 + 1\nkarosc    =         koscr * .1 + 1\n\n\n          outs      alfhi*kflohi+alfmid*kflomid+alflow*kalosc,arfhi*kfrohi+arfmid*kfromid+arflow*karosc\n          endin\n\n</CsInstruments>\n<CsScore>\n; *********************************************** \n; TONE WHEEL ORGAN WITH ROTATING SPEAKER \n; BY HANS MIKELSON 2/12/97\n; *********************************************** \n; GEN FUNCTIONS ********************************* \n; SINUS\nf1 0 1024 10 1\n\n;TONE WHEEL ORGAN\tDRAWBARS\n;\tSUBFUND FUND SUB 3RD 2ND HARM 3RD HARM 4TH HARM 5TH HARM 6TH HARM\t8TH HARM\nf2 0 8192 10 8 8\t8\t4\t0\t5 0 3\t0 0\t0 0\t0 0 0 8\n\n; LELIE FILTER ENVELOPES\nf3 0 256 7 0 110 .3 18 1 18 .3 110 0\nf4 0 256 7 0 80 .5 16 1 64 1 16 .5 80 0\n\n; Distortion Table\nf5 0 1024 8 -.8 42 -.78 100 -.7 740 .7 100 .78 42 .8 \n\n; SCORE ****************************************************************** \n\nt 0 600\n\n; TONE WHEEL ORGAN\n; START DUR AMP PITCH\ni1 0 18 6000 7.04\ni2 0 18 6000 7.11\ni3 0 18 6000 8.02\ni1 18 3 6000 7.04\ni2 18 3 6000 7.09\ni3 18 3 6000 8.01\ni1 21 3 6000 7.04\ni2 21 3 6000 7.11\ni3 21 3 6000 8.02\ni1 24 3 6000 7.04\ni2 24 3 6000 7.09\ni3 24 3 6000 8.01\ni1 27 24 6000 7.04\ni2 27 24 6000 7.08\ni3 27 24 6000 7.11\n\n; ROTATING SPEAKER\n; START DUR    SPEEDI SPEEDF\ni4 0 18\t.8\t8\ni4 + 9\t8\t.8\ni4 . 24.1 .8\t8\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 4d.orc and 4d.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410 \nksmps     =         10\nnchnls    =         2\n\n; ORCHESTRA\n; TERRAIN MAPPING\n; CODED BY HANS MIKELSON FEBRUARY 13, 1998\n\n\n          zakinit   50, 50\n\n; 4D\n; w       =         sin^2*(sqrt(x^2+y^2+z^2))\n          instr     4\n\nidur      =         p3\niamp      =         p4\nifqc      =         cpspch(p5)\n\nkdclick   linseg    0, .002, iamp, idur-.004, iamp, .002, 0\nkrminor   linseg    .5, idur/2, 5, idur/2, .5\nkrmajor   =         krminor+1\n\nasin1     oscil     krminor, ifqc, 1\nacos1     oscil     krminor, ifqc, 1, .25\nasin2     oscil     krmajor, ifqc/4, 1\nacos2     oscil     krmajor, ifqc/4, 1, .25\n\nax        =         asin1+acos2\nay        =         acos1\naz        =         asin2\n\naz1       =         sin(sqrt(ax*ax+ay*ay+az*az))   ; Compute the surface\naz        =         az1*az1-.5\n\n          outs      az*kdclick, az*kdclick\n\n          endin\n\n; 4D\n; w       =         sin^2*(sqrt(x^2+y^2+z^2))\n          instr     5\n\nidur      =         p3\niamp      =         p4\nifqc      =         cpspch(p5)\nioutch1   =         p6\nioutch2   =         p7\nioutch3   =         p8\nioutch4   =         p9\n\nkdclick   linseg    0, .002, iamp, idur-.004, iamp, .002, 0\nkrminor   linseg    .5, idur/2, 5, idur/2, .5\nkrmajor   =         krminor+1\n\nasin1     oscil     krminor, ifqc, 1\nacos1     oscil     krminor, ifqc, 1, .25\nasin2     oscil     krmajor, ifqc/4, 1\nacos2     oscil     krmajor, ifqc/4, 1, .25\n\nax        =         asin1+acos2\nay        =         acos1\naz        =         asin2\n\naw1       =         sin(sqrt(ax*ax+ay*ay+az*az))   ; Compute the surface\naw        =         aw1*aw1-.5\n\n          zaw       ax*kdclick, ioutch1\n          zaw       ay*kdclick, ioutch2\n          zaw       az*kdclick, ioutch3\n          zaw       aw*kdclick*10, ioutch4\n\n          endin\n\n; 3 SPACE PLANAR ROTATIONS\n          instr 50\n\nifqc      =         p4\niphase    =         p5\niplane    =         p6\ninx       =         p7\niny       =         p8\ninz       =         p9\nioutx     =         p10\niouty     =         p11\nioutz     =         p12\n\nkcost     oscil     1, ifqc,   1, .25+iphase\nksint     oscil     1, ifqc,   1, iphase\n\nax        zar       inx\nay        zar       iny\naz        zar       inz\n\n; ROTATION IN X-Y PLANE\n          if        (iplane!=1) goto next1\naxr       =         ax*kcost + ay*ksint\nayr       =         -ax*ksint + ay*kcost\nazr       =         az\n          goto      next3\n\n; ROTATION IN X-Z PLANE\nnext1:\n          if        (iplane!=2) goto next2\naxr       =         ax*kcost + az*ksint\nayr       =         ay\nazr       =         -ax*ksint + az*kcost\n          goto      next 3\n\n; ROTATION IN Y-Z PLANE\nnext2:\naxr       =         ax\nayr       =         ay*kcost + az*ksint\nazr       =         -ay*ksint + az*kcost\n\nnext3:\n          zaw       axr, ioutx\n          zaw       ayr, iouty\n          zaw       azr, ioutz\n\n          endin\n\n; 4 SPACE PLANAR ROTATIONS\n          instr 51\n     \nifqc      =         p4\niphase    =         p5\niplane    =         p6\ninx       =         p7\niny       =         p8\ninz       =         p9\ninw       =         p10\nioutx     =         p11\niouty     =         p12\nioutz     =         p13\nioutw     =         p14\n\nkcost     oscil     1, ifqc,   1, .25+iphase\nksint     oscil     1, ifqc,   1, iphase\n\nax        zar       inx\nay        zar       iny\naz        zar       inz\naw        zar       inw\n\n; ROTATION IN X-Y PLANE\n          if        (iplane!=1) goto next1\naxr       =         ax*kcost + ay*ksint\nayr       =         -ax*ksint + ay*kcost\nazr       =         az\nawr       =         aw\n          goto      nextend\n\n; ROTATION IN X-Z PLANE\nnext1:\n          if        (iplane!=2) goto next2\naxr       =         ax*kcost + az*ksint\nayr       =         ay\nazr       =         -ax*ksint + az*kcost\nawr       =         aw\n          goto      nextend\n\n; ROTATION IN Y-Z PLANE\nnext2:\n          if        (iplane!=3) goto next3\naxr       =         ax\nayr       =         ay*kcost + az*ksint\nazr       =         -ay*ksint + az*kcost\nawr       =         aw\n          goto           nextend\n\n; ROTATION IN X-W PLANE\nnext3:\n          if        (iplane!=4) goto next4\naxr       =         ax*kcost + aw*ksint\nayr       =         ay\nazr       =         az\nawr       =         -ax*ksint + aw*kcost\n          goto      nextend\n\n; ROTATION IN Y-W PLANE\nnext4:\n          if    (iplane!=5) goto next5\naxr       =         ax\nayr       =         ay*kcost + az*ksint\nazr       =         az\nawr       =         -ay*ksint + aw*kcost\n          goto      nextend\n\n; ROTATION IN Z-W PLANE\nnext5:\n          if        (iplane!=6) goto nextend\naxr       =         ax\nayr       =         ay\nazr       =         az*kcost + aw*ksint\nawr       =         -az*ksint + aw*kcost\n\nnextend:\n          zaw       axr, ioutx\n          zaw       ayr, iouty\n          zaw       azr, ioutz\n          zaw       awr, ioutw\n\nendin\n\n;---------------------------------------------------------------------------\n; MIXER SECTION\n;---------------------------------------------------------------------------\n          instr 100\n\nidur      =         p3\niamp      =         p4\ninch1     =         p5\ninch2     =         p6\n\nain1      zar       inch1\nain2      zar       inch2\n\n          outs      ain1*iamp, ain2*iamp\n\n          endin\n\n;---------------------------------------------------------------------------\n; CLEAR AUDIO & CONTROL CHANNELS\n;---------------------------------------------------------------------------\n          instr 110\n\n          zacl      0, 50                    ; CLEAR AUDIO CHANNELS 0 TO 30\n          zkcl      0, 50                    ; CLEAR CONTROL CHANNELS 0 TO 30\n                                             \n          endin\n\n</CsInstruments>\n<CsScore>\n; SCORE\nf1 0 8192 10 1\n\n;   Sta  Dur  Amp    Pch\ni4  0    2    20000  9.00\n\n;   Sta  Dur  Amp    Pch   OutX  OutY  OutZ  OutW\ni5  2    2    2000   9.00  1     2     3     4\n\n; 3 Space Planar Rotation\n; 1=X-Y Plane, 2=X-Z Plane, 3=Y-Z Plane\n;    Sta  Dur  Fqc  Phase  Plane  InX  InY  InZ  OutX  OutY  OutZ\n;i50  0    1.6   1.5  0      2      1    2    3    4     5     6\n\n; 4 Space Planar Rotation\n; Plane: 1=X-Y, 2=X-Z, 3=Y-Z, 4=X-W, 5=Y-W, 6=Z-W\n;    Sta  Dur  Fqc  Phase  Plane  InX  InY  InZ  InW  OutX  OutY  OutZ  OutW\ni51  2    2    1.5  0      1      1    2    3    4    5     6     7     8\ni51  2    2    1.2  0      6      5    6    7    8    9     10    11    12\ni51  2    2    1.0  0      5      9    10   11   12   13    14    15    16\n\n; Mixer\n;    Sta  Dur  Amp  InCh1  InCh2\ni100 2    2    1    14     16\n\n; Clear Zak\n;     Sta  Dur\ni110  2    2\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for TABLE BASED REZZY SYNTH WITH ENVELOPED RESONANCE using oscillator and panning and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from tb303.orc and tb303.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         44100\nksmps          =         1\nnchnls         =         2\n\n;\n;-------------------------------------------------------------------------\n; TB WANNABE\n;-------------------------------------------------------------------------\n\n\n;-------------------------------------------------------------------------\n\ninstr          15        ; TABLE BASED REZZY SYNTH WITH ENVELOPED RESONANCE\n;-------------------------------------------------------------------------\n; A WHOLE BUNCH OF INITIALIZATIONS.\n;-------------------------------------------------------------------------\n\nidur           =         p3\niamp           =         p4\nifqc           =         cpspch(p5)\nirez           =         p7\nitabl1         =         p8\nkvalley        init      0\nkpeak          init      0\nknewval        init      1\nknewpk         init      1\nksaveval       init      0\nksavepk        init      0\nkynm1          init      0\nkynm2          init      0\nktynm1         init      0\nktynm2         init      0\nkfrangenm1     init      0\nkfrangenm2     init      0\nknewrez        init      0\nkfsweep        init      30\nkstep          init      0\nknxtstp        init      1\n\n; LFO FREQUENCY SWEEP\n;-------------------------------------------------------------------------\n  kfsweep      expseg    30, .5*p3, p6, .5*p3, 30\n\n; SEQUENCER SECTION\n;-------------------------------------------------------------------------\n  loop1:\n;     READ THE DURATION FOR THE CURRENT STEP OF THE SEQUENCE.\n      kdur     table     kstep, 21\n      kdur1    =         kdur/8                   ; MAKE THE STEP SMALLER.\n\n;     FREQUENCY ENVELOPE\n      kfco     expseg    20, .1, i(kfsweep), i(kdur1)-.1, 20\n\n;     AMPLITUDE ENVELOPE\n      kaenv    linseg    0, .01, 1, i(kdur1)-.02, 1, .01, 0\n\n;     PANNING\n      kpanleft      table     kstep, 22\n      kpanright     table     kstep, 23\n\n;     PITCH FOR THE STEP OF THE SEQUENCE.\n      kpch1         table     kstep, 20\n      kfqc1         =         cpspch(kpch1)\n\n;     PITCH FOR THE NEXT STEP NEED FOR SLIDING TO THE NEXT STEP.\n      kpch2         table     knxtstp, 20\n      kfqc2         =         cpspch(kpch2)\n\n;     IF THE SLIDE IS TURNED ON THEN SLIDE UP TO THE NEXT STEP OTHERWISE \n;DON\u0007T.\n      if            (p9 = 0)  goto skipslide\n        kfqc        linseg    i(kfqc1), i(kdur1)-.04, i(kfqc1), .04, i(kfqc2)\n        goto        nxtslide\n      skipslide:\n        kfqc        =         kfqc1\n      nxtslide:\n\n;     WHEN THE TIME RUNS OUT GO TO THE NEXT STEP OF THE SEQUENCE AND \n;REINITIALIZE THE ENVELOPES.\n                    timout    0, i(kdur1), cont1\n        kstep       =         frac((kstep + 1)/8)*8\n        knxtstp     =         frac((kstep + 1)/8)*8\n\n        reinit      loop1\n  cont1:\n\n; START WITH MY LOW PASS RESONANT FILTER.\n\n; THIS RELATIONSHIP ATTEMPTS TO SEPARATE FREQ. FROM RES.\n    ka1             =         100/irez/sqrt(kfco)-1\n    kta1            =         100/sqrt(kfco)-1\n    ka2             =         1000/kfco\n\n; OSCILLATOR\n  kxn               oscil     iamp, kfqc, itabl1\n\n; REPLACE THE DIFFERENTIAL EQ. WITH A DIFFERENCE EQ.\n  kyn               =         ((ka1+2*ka2)*kynm1-ka2*kynm2+kxn)/(1+ka1+ka2)\n  ktyn              =         ((kta1+2*ka2)*ktynm1-ka2*ktynm2+kxn)/(1+kta1+ka2)\n\n; EXTRACT THE RESONANCE FROM THE FILTERED SIGNAL.\n  koldrez           =         knewrez\n  knewrez           =         kyn-ktyn\n\n; THIS SECTION DETERMINES CURRENT PEAK AND VALLEY VALUES AND THE RANGE.\n; AS LONG AS THE SIGNAL RISES IT TRACKS PEAK.  WHEN IT FALLS IT UPDATES\n; PEAK AND TRACKS VALLEY.\n\n  if      (koldrez>=knewrez)  goto next1\n    if    (knewval != 1)      goto next2\n      knewval       =         0\n      knewpk        =         1\n      kvalley       =         ksaveval\nnext2:\n    ksavepk         =         knewrez\n\nnext1:\n  if      (koldrez<=knewrez)  goto next 3\n    if    (knewpk != 1)       goto next4\n      knewpk        =         0\n      knewval       =         1\n      kpeak         =         ksavepk\nnext4:\n    ksaveval        =         knewrez\n\nnext3:\n; THE CURRENT RANGE IS CALCULATED AND LOW PASS FILTERED.\n  krangen           =         abs(kpeak-kvalley)\n  kfrangen          =         ((kta1+2*ka2)*kfrangenm1-ka2*kfrangenm2+krangen)/(1+kta1+ka2)\n\n; THE FILTERED RANGE IS USED TO ENVELOPE THE RESONANCE THEN DISTORTION IS \n;ADDED.\n  kclip1            =         knewrez*kfrangen/irez/120000000\n  kclip             tablei    kclip1, 7, 1, .5\n  kout              =         ktyn + kclip*40000\n\n; UPDATE EVERYTHING FOR THE NEXT PASS.\n  kynm2             =         kynm1\n  kynm1             =         kyn\n  ktynm2            =         ktynm1\n  ktynm1            =         ktyn\n  kfrangenm2        =         kfrangenm1\n  kfrangenm1        =         kfrangen\n\n; CONVERT TO AUDIO RATES\n  aout              =         kout\n\n; AMP ENVELOPE, PAN AND OUTPUT\n                    outs      kaenv*kpanleft*aout, kaenv*kpanright*aout\n\nendin\n\n</CsInstruments>\n<CsScore>\n; INSTRUMENT IN THE STYLE OF THE TB303 WITH BUILT IN SEQUENCER.\n\nf10 0  1024   8  1  256 .2  128 0 256 -.2 256  -1\n\n; DISTORTION TABLE\n;----------------------------------------------------------------------\nf7 0 1024   8 -.8 42 -.78  200 -.74 200 -.7 140 .7  200 .74 200 .78 42 .8\n\n; 8 STEP SEQUENCER\n;----------------------------------------------------------------------\n; STEP         1     2     3     4     5     6     7     8\n; PITCH TABLE\nf20  0   8  -2  7.00  7.00  7.00  7.00  7.05  7.00  7.00  7.00\nf20  3   8  -2  7.00  8.00  7.00  8.00  7.05  8.00  7.05  8.00\n\n; DUR TABLE\nf21  0  8  -2  1     1     1     1     1     1     1     1\n\n; PANNING AMPLITUDE TABLE  22=LEFT 23=RIGHT\nf22  0  8  -2  1     0     1     1     1     0     1     1\nf23  0  8  -2  0     1     1     0     1     1     1     0\n\n; SCORE\n;----------------------------------------------------------------------\n; ENVELOPED DISTORTION FILTER\n;        Dur  Amp     Dur   Fco   Res  Wave  Slide(1=On, 0=Off)\ni15  0   6   4000    .125   2000  50   10    1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ROTOR ORGAN #2 using oscillator and interpolating oscillator and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from rotorls.orc and rotorls.sco\n; Original files preserved in same directory\n\nsr              =           44100\nkr              =           4410\nksmps           =           10\nnchnls          =           2\n\n;***************************************************\n; TONE WHEEL ORGAN WITH ROTATING SPEAKER\n;***************************************************\n\n\ninstr 1 ; ROTOR ORGAN #2\n\n  gaorgan       init        0\n\n  iphase        =           p2\n  ikey          =           p6\n  ifqc          =           cpspch(p5)\n\n; THE LOWER TONE WHEELS HAVE INCREASED ODD HARMONIC CONTENT.\n  iwheel1       =           ((ikey-12) > 12 ? 1:2)\n  iwheel2       =           ((ikey+7)  > 12 ? 1:2)\n  iwheel3       =           (ikey      > 12 ? 1:2)\n  iwheel4       =           1\n  \n  kenv          linseg      0, .01, p4, p3-.02, p4, .01, 0\n\n  asubfund      oscili      kenv*p7,  .5*ifqc,      iwheel1, iphase/(ikey-12)\n  asub3rd       oscili      kenv*p8,  1.4983*ifqc,  iwheel2, iphase/(ikey+7)\n  afund         oscili      kenv*p9,  ifqc,         iwheel3, iphase/ikey\n  a2nd          oscili      kenv*p10, 2*ifqc,       iwheel4, iphase/(ikey+12)\n  a3rd          oscili      kenv*p11, 2.9966*ifqc,  iwheel4, iphase/(ikey+19)\n  a4th          oscili      kenv*p12, 4*ifqc,       iwheel4, iphase/(ikey+24)\n  a5th          oscili      kenv*p13, 5.0397*ifqc,  iwheel4, iphase/(ikey+28)\n  a6th          oscili      kenv*p14, 5.9932*ifqc,  iwheel4, iphase/(ikey+31)\n  a8th          oscili      kenv*p15, 8*ifqc,       iwheel4, iphase/(ikey+36)\n\n  gaorgan       =           gaorgan + asubfund + asub3rd + afund + a2nd + a3rd + a4th + a5th + a6th + a8th\n  \n                endin\n\n;ROTATING SPEAKER\ninstr           3\n\n; SPEAKER PHASE OFFSET\n  ioff          =           p4\n\n; PHASE SEPARATION BETWEEN RIGHT AND LEFT\n  isep          =           .2\n\n; GLOBAL INPUT FROM ORGAN\n  asig          =           gaorgan\n\n; DISTORTION EFFECT A LAZY \"S\" CURVE.  USE TABLE 6 FOR MORE DISTORTION.\n  asig          =           asig/40000\n  aclip         tablei      asig, 5, 1, .5\n  aclip         =           aclip*16000\n\n; DELAY BUFFER FOR ROTATING SPEAKER\n  aleslie       delayr      .02, 1\n                delayw      aclip\n\n; ACCELERATION\n  kenv          linseg      .8, 1, 8, 2, 8, 1, .8, 2, .8, 1, 8, 1, 8\n  kenvlow       linseg      .7, 2, 7, 1, 7, 2, .7, 1, .7, 2, 7, 1, 7\n\n; UPPER DOPPLER EFFECT\n  koscl         oscil       1, kenv, 1, ioff\n  koscr         oscil       1, kenv, 1, ioff + isep\n  kdopl         =           .01-koscl*.0002\n  kdopr         =           .012-koscr*.0002\n  aleft         deltapi     kdopl\n  aright        deltapi     kdopr\n\n; LOWER EFFECT\n  koscllow      oscil       1, kenvlow, 1, ioff\n  koscrlow      oscil       1, kenvlow, 1, ioff + isep\n  kdopllow      =           .01-koscllow*.0003\n  kdoprlow      =           .012-koscrlow*.0003\n  aleftlow      deltapi     kdopllow\n  arightlow     deltapi     kdoprlow\n\n; FILTER EFFECT\n; DIVIDE        INTO        THREE FREQUENCY RANGES FOR DIRECTIONAL SOUND.\n\n;  HIGH PASS\n  alfhi         butterbp    aleft,   7000, 6000\n  arfhi         butterbp    aright,  7000, 6000\n\n;  BAND PASS\n  alfmid        butterbp    aleft,   3000, 2000\n  arfmid        butterbp    aright,  3000, 2000\n\n;  LOW PASS\n  alflow        butterlp    aleftlow,   1000\n  arflow        butterlp    arightlow,  1000\n\n  kflohi        oscil       1, kenv, 3, ioff\n  kfrohi        oscil       1, kenv, 3, ioff + isep\n  kflomid       oscil       1, kenv, 4, ioff\n  kfromid       oscil       1, kenv, 4, ioff + isep\n  \n; AMPLITUDE EFFECT ON LOWER SPEAKER\n  kalosc        =       koscllow * .4 + 1\n  karosc        =       koscrlow * .4 + 1\n\n\n  outs          alfhi*kflohi+alfmid*kflomid+alflow*kalosc, arfhi*kfrohi+arfmid*kfromid+arflow*karosc\n\n  gaorgan       =       0\n\n                endin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; TONE WHEEL ORGAN WITH ROTATING SPEAKER REV. 2\n; BY HANS MIKELSON 2/18/97 \n; ************************************************************************\n\n\n; GEN FUNCTIONS **********************************************************\n; SINE\nf1      0       8192    10      1   .02     .01\nf2      0       1024    10      1   0       .2      0       .1  0       .05     0   .02\n\n; ROTATING SPEAKER FILTER ENVELOPES\nf3      0       256     7       0   1       10      0       18  1       18      0   110     0\nf4      0       256     7       0   80      .2      16      1   64      1       16  .2      80  0  \n\n; DISTORTION TABLE\nf5      0       8192    8       -.8 336     -.78    800     -.7 5920    .7      800 .78     336 .8\nf6      0       8192    8       -.8 336     -.76    3000    -.7 1520    .7      3000.76     336 .8\n\n; SCORE ******************************************************************\n\nt       0       200\n\n;  TONE WHEEL ORGAN\n\n;   Start   Dur     Amp     Pitch   Key     SubFund     Sub3rd  Fund    2nd 3rd 4th 5th 6th 8th\ni1   0      6       200     8.04    28      8           8       8       8   3   2   1   0   4\ni1   0      6       .       8.11    35      .           .       .       .   .   .   .   .   .\ni1   0      6       .       9.02    38      .           .       .       .   .   .   .   .   .\ni1   6      1       .       8.04    28      .           .       .       .   .   .   .   .   .\ni1   6      1       .       8.09    33      .           .       .       .   .   .   .   .   .\ni1   6      1       .       9.01    37      .           .       .       .   .   .   .   .   .\ni1   7      1       .       8.04    28      .           .       .       .   .   .   .   .   .\ni1   7      1       .       8.11    35      .           .       .       .   .   .   .   .   .\ni1   7      1       .       9.02    38      .           .       .       .   .   .   .   .   .\ni1   8      1       .       8.04    28      .           .       .       .   .   .   .   .   .\ni1   8      1       .       8.09    33      .           .       .       .   .   .   .   .   .\ni1   8      1       .       9.01    37      .           .       .       .   .   .   .   .   .\ni1   9      8       .       8.04    28      .           .       .       .   .   .   .   .   .\ni1   9      8       .       8.08    32      .           .       .       .   .   .   .   .   .\ni1   9      8       .       8.11    35      .           .       .       .   .   .   .   .   .\ni1   17     16      200     10.04   52      .           .       .       .   .   .   .   .   .\n\n;   ROTATING SPEAKER\n;   Start   Dur\n;i3  0      33.2    .5     \ni3   0      33.2    .1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for DUFFINGS SYSTEM OR CUBIC OSCILLATOR using oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fractal.orc and fractal.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n;************************************************************\n; An assortment of chaotic, fractal and related instruments\n; Coded by Hans Mikelson  March 9, 1997\n;************************************************************\n\n; 1. The Lorenz Attractor  : Borrowed from the Csound mailing list\n; 2. Duffings System or Cubic Oscillator\n; 3. Planet Orbiting in a Binary Star System\n; 4. The Rossler Attractor\n; 5. K A Oscillator\n\n\n          instr 1\n\n; LORENZ EQUATIONS SYSTEM AT A-RATE WITH ALL PARAMETERS TIME-VARIABLE\n\n\nipi       init 6.283184\namix      init 0\n\n;p4 p5 i p6 = initial values for control parameters\n;p7       = time differential (not less than 0.02 - may be improved using Runge-Kutta\n;         integration methode but it is very time consuming )\n;p8 amplitude\n;p9 zoom factor (a kind of temporal window applied to trajectories, values of\n;         aprox. 5 are equivalent-almost- to downing p7 at the price of\n;         a bit slowing down computing time...)\n;p10 p11 p12 = deviation value for p6 p7 p8\n;         (It is implemented with a simple line statement, but\n;         improving it is straightforward)\n\n\nkcontzoom init      0\nkzoom     init      p9\n\niprof     init      p8\nidt       init      p7\n\n; NEWTON INTEGRATION METHODE\n\nadx       init      0                        ; DIFERENTIALS\nady       init      0\nadz       init      0\nax        init      .6                       ; VALUES\nay        init      .6\naz        init      .6\n\n;aa, ab AND ac HOLDS FOR THE VALUES OF CONTROL PARAMETERS\n\naa        line      p4,p3,p4+p10\nab        line      p5,p3,p5+p11\nac        line      p6,p3,p6+p12\n\naa        init      p4\nab        init      p5\nac        init      p6\n                    \nloop1: \nadx       =         aa*(ay-ax)\nady       =         ax*(ab-az)-ay\nadz       =         ax*ay-ac*az\nax        =         ax+(idt*adx)\nay        =         ay+(idt*ady)\naz        =         az+(idt*adz)\n\nkcontzoom =         kcontzoom+1\n\n          if        kcontzoom>=kzoom kgoto sortida\n          if        kcontzoom!=kzoom kgoto loop1\n\nsortida:\namixx     =         ax*iprof\namixy     =         ay*iprof\n\n          outs      amixx, amixy\n\nkcontzoom =         0\n\n          endin\n\n\n          instr 2             ; DUFFINGS SYSTEM OR CUBIC OSCILLATOR\n                              ; I CAN'T SEEM TO GET THIS ONE TO WORK\n                              ; dx = y\n                              ; dy = Ax^3-By+C cos(t)\n\nax        init      0\nay        init      0\n     \nka        init      p6\nkb        init      p7\nkc        init      p8\nkh        init      p5\n\nkampenv   linseg    0, .01, p4, p3-.02, p4, .01, 0\n\naxnew     =         ay\nacos1     oscil     kc, kh, 1, .25\nay        =         ay + kh*(ka*ax*ax*ax-kb*ay+acos1)\nax        =         axnew\n\n          outs      kampenv*ax, kampenv*ay\n\n          endin\n\n\n          instr 3\n; THIS SIMULATES A PLANET ORBITING IN A MULTIPLE STAR SYSTEM.\n\nkampenv   linseg    0, .1, p4, p3-.2, p4, .1, 0\n\n; PLANET POSITION (X, Y, Z) & VELOCITY (VX, VY, VZ)\nkx        init      0\nky        init      .1\nkz        init      0\nkvx       init      .5\nkvy       init      .6\nkvz       init      -.1\nih        init      p5\n\n; STAR 1 MASS & X, Y, Z\nimass1    init      p6\nis1x      init      0\nis1y      init      0\nis1z      init      p8\n\n; STAR 2 MASS & X, Y, Z\nimass2    init      p7\nis2x      init      0\nis2y      init      0\nis2z      init      -p8\n\n; CALCULATE DISTANCE TO STAR 1\nkdx       =         is1x-kx\nkdy       =         is1y-ky\nkdz       =         is1z-kz\nksqradius =         kdx*kdx+kdy*kdy+kdz*kdz+1\nkradius   =         sqrt(ksqradius)\n\n; DETERMINE ACCELERATION DUE TO STAR 1 (AX, AY, AZ)\nkax       =         imass1/ksqradius*kdx/kradius\nkay       =         imass1/ksqradius*kdy/kradius\nkaz       =         imass1/ksqradius*kdz/kradius\n\n; CALCULATE DISTANCE TO STAR 2\nkdx       =         is2x-kx\nkdy       =         is2y-ky\nkdz       =         is2z-kz\nksqradius =         kdx*kdx+kdy*kdy+kdz*kdz+1\nkradius   =         sqrt(ksqradius)\n\n; DETERMINE ACCELERATION DUE TO STAR 2 (AX, AY, AZ)\nkax       =         kax+imass2/ksqradius*kdx/kradius\nkay       =         kay+imass2/ksqradius*kdy/kradius\nkaz       =         kaz+imass2/ksqradius*kdz/kradius\n\n; UPDATE THE VELOCITY\nkvx       =         kvx+ih*kax\nkvy       =         kvy+ih*kay\nkvz       =         kvz+ih*kaz\n\n; UPDATE THE POSITION\nkx        =         kx+ih*kvx\nky        =         ky+ih*kvy\nkz        =         kz+ih*kvz\n\naoutx     =         kx*kampenv\naouty     =         ky*kampenv\n          outs      aoutx, aouty\n\n          endin\n\n\n          instr 4             ; ROSSLER'S ATTRACTOR\n\nax        init      0\nay        init      0\naz        init      0\n\nih        init      p5\naa        init      .375\nib        init      p6\nic        init      p7\n\n; AMPLITUDE ENVELOPE\nkampenv   linseg    0, .01, p4, p3-.02, p4, .01, 0\n\naa        oscil     1/7, .5, 1\naa        =         .3 + aa\n\naxnew     =         ax + ih*(-ay - az)\naynew     =         ay + ih*(ax + aa*ay)\naznew     =         az + ih*(ib + ax*az - ic*az)\n\nax        =         axnew\nay        =         aynew\naz        =         aznew\n\n          outs      kampenv*ax, kampenv*ay\n\n          endin\n\n          instr 5             ; K A OSCILLATOR\n\nax        init      p5\nib        init      p6\n\n; AMPLITUDE ENVELOPE\nkampenv   linseg    0, .01, p4, p3-.02, p4, .01, 0\n\nax        =         ax * ib*(1 - ax)\n\n          outs      kampenv*(ax-.5), kampenv*(ax-.5)\n\n          endin\n\n</CsInstruments>\n<CsScore>\n;************************************************************\n; An assortment of chaotic, fractal and related instruments\n; Coded by Hans Mikelson  March 9, 1997\n;************************************************************\n; 1. The Lorenz Attractor\n; 2. Duffings System or Cubic Oscillator\n; 3. Planet Orbiting in a Binary Star System\n; 4. The Rossler Attractor\n; 5. K A Oscillator\n\n\nf1 0 8192 10 1\n\nt 0 400\n\n;  Start Dur   A1   B1    C1     Time (dT)  Amplitude  KZoom  A2  B2  C2\ni1  0     4    22   28   2.667      .01       600     3      5   0    0\ni1  4     4    26   28   2.667      .01       600     4      0   10   0\n\n; Planetary orbit in a binary star system\n;  Start  Dur  Amp    Freq Mass1 Mass2 Separation\ni3  8      4   6000    .5   .4    .34     1.1\ni3  +      .   5000    .4   .5    .6      2    \ni3  .      .   6000    .3   .5    .5      1\n\n; Rossler Attractor\n;  Start  Dur  Amp   Freq  B  C\ni4  20     4   2000   .1   2  4\ni4  +      .   2000   .1   3  4\ni4  .      .   2000   .04  4  4\n\n; K A Oscillator\n;  Start  Dur  Amp    X     B\ni5  32    4  30000    .5   3.5\ni5  +     4  30000    .4   3.6\ni5  .     4  30000    .3   3.7\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for AMPLITUDE ENVELOPE EXAMPLE using oscillator and linear segments and exponential segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from envelop.orc and envelop.sco\n; Original files preserved in same directory\n\nsr        =         44100                                             ; Sample rate\nkr        =         4410                                              ; Control rate\nksmps     =         10                                                ; Sample in each control period\nnchnls    =         2                                                 ; Number of output channels\n\n\n;---------------------------------------------------------\n; SIMPLE ENVELOPES\n; CODED BY HANS MIKELSON JUNE 25, 1999\n;---------------------------------------------------------\n\n\n;---------------------------------------------------------\n; AMPLITUDE ENVELOPE EXAMPLE\n;---------------------------------------------------------\n          instr  1\n\nidur      =         p3                                                ; Duration\niamp      =         p4                                                ; Amplitude\nifqc      =         cpspch(p5)                                        ; Convert pitch to frequency\nitable    =         p6                                                ; Waveform table\niattack   =         p7                                                ; Attack time\nidecay    =         p8                                                ; Decay time\nisustain  =         p9                                                ; Sustain level\nirelease  =         p10                                               ; Release time\n     \n; THE FOLLOWING CODE DEFINES THE AMPLITUDE ENVELOPE\naenv     linseg     0, iattack, iamp, idecay, isustain*iamp, idur-iattack-idecay-irelease, isustain*iamp, irelease, 0\n\nasig      oscil     aenv, ifqc, itable                                ; Generate the audio signal\n\n          outs      asig, asig                                        ; Output the result\n\n          endin\n\n;---------------------------------------------------------\n; AMPLITUDE ENVELOPE EXAMPLE\n;---------------------------------------------------------\n         instr  2\n\nidur      =         p3                                                ; Duration\niamp      =         p4                                                ; Amplitude\nifqc      =         cpspch(p5)                                        ; Convert pitch to frequency\nitable    =         p6                                                ; Waveform table\niattack   =         p7                                                ; Attack time\nidecay    =         p8                                                ; Decay time\nisustain  =         p9                                                ; Sustain level\nirelease  =         p10                                               ; Release time\n\np3        =         p3 + irelease                                     ; The p3 time is extended by the release time so that the release will\n                                                                      ; take place after the note has ended.\n\n; THE FOLLOWING CODE DEFINES THE AMPLITUDE ENVELOPE\n\naenv      linseg    0, iattack, iamp, idecay, isustain*iamp, idur-iattack-idecay, isustain*iamp, irelease, 0\nadeclick  linseg    0, .002, 1, idur-.004, 1, .002, 0\n\nasig   oscil        aenv, ifqc, itable                                ; Generate the audio signal\n\n       outs         asig*adeclick, asig*adeclick                      ; Output the result\n\n       endin\n\n;---------------------------------------------------------\n; PITCH ENVELOPE EXAMPLE\n;---------------------------------------------------------\n          instr  3\n\nidur      =         p3                                                ; Duration\niamp      =         p4                                                ; Amplitude\nifqc      =         cpspch(p5)                                        ; Convert pitch to frequency\nitable    =         p6                                                ; Waveform table\n\n; THE FOLLOWING CODE DEFINES THE AMPLITUDE ENVELOPE\nadeclick  linseg    0, .002, 1, idur-.004, 1, .002, 0\n\nafqc      expseg    100, .1, ifqc, idur-.2, ifqc, .1, 200\n\nasig      oscil     iamp, afqc, itable                                ; Generate the audio signal\n\n          outs      asig*adeclick, asig*adeclick                      ; Output the result\n\n          endin\n\n;---------------------------------------------------------\n; FCO ENVELOPE EXAMPLE\n;---------------------------------------------------------\n          instr  4\n\nidur      =         p3                                                ; Duration\niamp      =         p4                                                ; Amplitude\nifqc      =         cpspch(p5)                                        ; Convert pitch to frequency\nitable    =         p6                                                ; Waveform table\n\n; THE FOLLOWING CODE DEFINES THE AMPLITUDE ENVELOPE\n\nadeclick  linseg    0, .002, 1, idur-.004, 1, .002, 0\n\nkfco      expseg    400, .1, 2000, .2, 1500, idur-.4, 1000, .1, 400   ; Filter cut off frequency\n\nasig      oscil     iamp, ifqc, itable                                ; Generate the audio signal\naflt      rezzy     asig, kfco, 10\n\n          outs      aflt*adeclick, aflt*adeclick                      ; Output the result\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 65536 10 1  .5  .2  .1  .07  .04  .025  .02  .018 .01 .02 .03\n\n;  Sta  Dur  Amp    Pitch  Waveform  Attack  Decay  Sustain  Release\n;---------------------------------------------------------------------\ni1 0    0.5  20000  7.00   1         .01     .3     .3       .01\ni1 +    .    .      7.04   1         .       .      .        .\ni1 .    .    .      7.05   1         .       .      .        .\ni1 .    .    .      7.07   1         .       .      .        .\ni1 .    .    .      7.00   1         .       .      .        .\ni1 .    .    .      7.05   1         .       .      .        .\ni1 .    1.0  .      7.00   1         .       .      .        .\n\ni1 4.5  0.5  20000  7.00   1         .1      .2     .7       .1\ni1 +    .    .      7.07   1         .       .      .        .\ni1 .    .    .      7.00   1         .       .      .        .\ni1 .    .    .      7.07   1         .       .      .        .\ni1 .    .    .      7.00   1         .       .      .        .\ni1 .    .    .      7.07   1         .       .      .        .\ni1 .    1.0  .      7.00   1         .       .      .        .\n\ni2 9    0.5  20000  7.00   1         .1      .2     .7       .1\ni2 +    .    .      7.03   1         .       .      .        .\ni2 .    .    .      7.05   1         .       .      .        .\ni2 .    .    .      7.07   1         .       .      .        .\ni2 .    .    .      7.00   1         .       .      .        .\ni2 .    .    .      7.05   1         .       .      .        .\ni2 .    1.0  .      7.00   1         .       .      .        .\n\ni3 13.5 0.5  20000  7.00   1\ni3 +    .    .      7.02   1\ni3 .    .    .      7.03   1\ni3 .    .    .      7.05   1\ni3 .    .    .      7.07   1\ni3 .    .    .      7.05   1\ni3 .    1.0  .      7.03   1\n\ni4 18   0.5  20000  7.00   1\ni4 +    .    .      7.02   1\ni4 .    .    .      7.06   1\ni4 .    .    .      7.07   1\ni4 .    .    .      7.06   1\ni4 .    .    .      7.02   1\ni4 .    1.0  .      7.00   1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur\t\t=\t    \tp3 using oscillator and analog-style oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from moogvco2.orc and moogvco2.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n;---------------------------------------------------------------\n; A SET OF ANALOG MODELING INSTRUMENTS USING RESONANT LOW-PASS\n; FILTER BY HANS MIKELSON NOVEMBER 1998\n;---------------------------------------------------------------\n\nzakinit 50, 50\n\n;---------------------------------------------------------------\n; LFO\n;---------------------------------------------------------------\n\t\tinstr   \t5\n\nidur\t\t=\t    \tp3\niamp\t\t=\t    \tp4\nifqc\t\t=\t    \tp5\niwave\t=\t    \tp6\nioffset\t=\t    \tp7\nioutch\t=\t    \tp8\n\nksig\t\toscil   \tiamp, ifqc, iwave\nkout\t\t=\t    \tksig*.5+ioffset\n\t\tzkw\t    \tkout, ioutch\n\n\t\tendin\n\n;---------------------------------------------------------------\n; VCO WITH REZZY FILTER\n;---------------------------------------------------------------\n\t\tinstr\t11\n\nidur\t\t=\t    \tp3\t\t\t\t\t; DURATION\niamp\t\t=\t    \tp4\t\t\t\t\t; AMPLITUDE\nifqc\t\t=\t    \tcpspch(p5)\t\t\t; FREQUENCY\nirtfqc\t=\t    \tsqrt(ifqc)\t\t\t; SQUARE ROOT OF FREQUENCY\nifco\t\t=\t    \tp6*ifqc/500\t\t\t; FILTER CUT OFF (HIGHER FREQUENCIES GET A HIGHER CUT OFF)\nkrez\t\tinit    \tp7\t\t\t\t\t; RESONANCE DOES NOT CHANGE IN THIS INSTRUMENT\niwave\t=\t    \tp8\t\t\t\t\t; SELECTED WAVE FORM 1=SAW, 2=SQUARE/PWM, 3=TRI/SAW-RAMP-MOD\nipwch\t=\t    \tp9\t\t\t\t\t; PWM CHANNEL\nipbend\t=\t    \tp10\t\t\t\t\t; PITCH BEND TABLE\nisine\t=\t    \t1\nimaxd\t=\t    \t2*ifqc\n\nileak\t=\t    \t(iwave==2 ? .999 : (iwave==3 ? .995 : .999)) ; LEAKY INTEGRATION VALUE\n\nkpw\t\tzkr\t    \tipwch\t\t\t\t\t\t\t\t; READ THE ZAK MODULATION CHANNEL\nkpwn\t\t=\t    \tkpw-.5\t\t\t\t\t\t\t\t; GET A PULSE WIDTH THAT GOES FROM -.5 TO .5\nkfco\t\texpseg  \t100+.5*ifco, .2*idur, ifco+100, .5*idur, ifco*.8+100, .1*idur, .5*ifco+100 ; FILTER ENVELOPE\nkpbend\toscil   \t1, 1/idur, ipbend  \t\t\t\t\t\t\t\t\t\t\t\t; PITCH BEND\nkamp\t\tlinseg  \t0, .01*idur, iamp, .2*idur, .9*iamp, .59*idur, .9*iamp, .2*idur, 0\t\t; AMP ENVELOPE\naamp\t\tinterp  \tkamp\nkfqc\t\t=\t    \tifqc*kpbend\n\nasig\t\tvco\t    \t1, kfqc, iwave, kpw, isine, imaxd\n\naout\t\trezzy   \tasig, kfco*kpbend, krez\t\t\t\t    \t; APPLY THE FILTER\n\n\t\touts    \taout*aamp, aout*aamp\t\t\t\t\t; STEREO OUPUT AND AMPLIFICATION\n\t\tendin\n\n;---------------------------------------------------------------\n; MOOG VCO WITH MIKLESON FILTER\n;---------------------------------------------------------------\n\t\tinstr\t12\n\nidur\t\t=\t    \tp3\t\t\t\t\t\t; DURATION\niamp\t\t=\t    \tp4\t\t\t\t\t\t; AMPLITUDE\nifqc\t\t=\t    \tcpspch(p5)\t\t\t\t; FREQUENCY\nirtfqc\t=\t    \tsqrt(ifqc)\t\t\t\t; SQUARE ROOT OF FREQUENCY\nifco\t\t=\t    \tp6*ifqc/500\t\t\t\t; FILTER CUT OFF (HIGHER FREQUENCIES GET A HIGHER CUT OFF)\nkrez\t\tinit    \tp7\t\t\t\t\t\t; RESONANCE DOES NOT CHANGE IN THIS INSTRUMENT\niwave\t=\t    \tp8\t\t\t\t\t\t; SELECTED WAVE FORM 1=SAW, 2=SQUARE/PWM, 3=TRI/SAW-RAMP-MOD\nipwch\t=\t    \tp9\t\t\t\t\t\t; PWM CHANNEL\nipbend\t=\t    \tp10\t\t\t\t\t\t; PITCH BEND TABLE\nisine\t=\t    \t1\nimaxd\t=\t    \t2*ifqc\n\nileak\t=\t    \t(iwave==2 ? .999 : (iwave==3 ? .995 : .999)) ; LEAKY INTEGRATION VALUE\n\nkpw\t\tzkr\t    \tipwch\t\t\t\t\t; READ THE ZAK MODULATION CHANNEL\nkpwn\t\t=\t    \tkpw-.5\t\t\t\t\t; GET A PULSE WIDTH THAT GOES FROM -.5 TO .5\nkfco\t\texpseg  \t100+.1*ifco, .2*idur, ifco+100, .5*idur, ifco*.2+100, .1*idur, .4*ifco+100 ; FILTER ENVELOPE\nkpbend\toscil   \t1, 1/idur, ipbend  \t\t\t\t\t\t\t\t\t\t\t\t; PITCH BEND\nkamp\t\tlinseg  \t0, .01*idur, iamp, .2*idur, .8*iamp, .59*idur, .5*iamp, .2*idur, 0\t\t; AMP ENVELOPE\naamp\t\tinterp  \tkamp\nkfqc\t\t=\t    \tifqc*kpbend\n\nasig\t\tvco\t    \t1, kfqc, iwave, kpw, isine, imaxd\n\naout\t\trezzy   \tasig, kfco*kpbend, krez\t\t\t\t    \t; APPLY THE FILTER\n\n\t\touts    \taout*aamp, aout*aamp\t\t\t\t\t; STEREO OUPUT AND AMPLIFICATION\n\t\tendin\n\n;---------------------------------------------------------------\n; MOOG VCO WITH MIKLESON FILTER\n;---------------------------------------------------------------\n\t\tinstr\t13\n\t\t\t\t\t\t\t\t\t\t\nidur\t\t=\t    \tp3\t\t\t\t\t\t\t\t\t; DURATION\niamp\t\t=\t    \tp4\t\t\t\t\t\t\t\t\t; AMPLITUDE\nifqc\t\t=\t    \tcpspch(p5)\t\t\t\t\t\t\t; FREQUENCY\nirtfqc\t=\t    \tsqrt(ifqc)\t\t\t\t\t\t\t; SQUARE ROOT OF FREQUENCY\nifco\t\t=\t    \tp6*ifqc/500\t\t; FILTER CUT OFF (HIGHER FREQUENCIES GET A HIGHER CUT OFF)\nkrez\t\tinit    \tp7\t\t\t\t; RESONANCE DOES NOT CHANGE IN THIS INSTRUMENT\niwave\t=\t    \tp8\t\t\t\t; SELECTED WAVE FORM 1=SAW, 2=SQUARE/PWM, 3=TRI/SAW-RAMP-MOD\nisine\t=\t    \t1\nimaxd\t=\t    \t2/ifqc\n\nkpw\t\tinit    \t.5\t\t  \t\t; READ THE ZAK MODULATION CHANNEL\nkfco\t\texpseg  \t100+.1*ifco, .2*idur, ifco, .6*idur, ifco, .2*idur, .4*ifco+100\t  ; FILTER ENVELOPE\nkamp\t\tlinseg  \t0, .2*idur, iamp, .6*idur, iamp, .2*idur, 0  ; AMP ENVELOPE\naamp\t\tinterp  \tkamp\nkvibr\toscil   \t.002, 6, 1\nkfqc\t\t=\t   \tifqc*(1 + kvibr)\nkfclf1\toscil   \t.5, .5, 1\nkfclf2\toscil   \t.5, .6, 1\n\nasig1\tvco\t    \t1, kfqc*.998,  iwave, kpw, isine, imaxd\nasig2\tvco\t    \t1, kfqc*.999,  iwave, kpw, isine, imaxd\nasig3\tvco\t    \t1, kfqc*1.001, iwave, kpw, isine, imaxd\nasig4\tvco\t    \t1, kfqc*1.002, iwave, kpw, isine, imaxd\n\naoutl1\trezzy   \tasig1+asig3, kfco*0.99*(1+kfclf1), krez\t\t   ; APPLY THE FILTER\naoutr1\trezzy   \tasig2+asig4, kfco*1.01*(1+kfclf2), krez\t\t   ; APPLY THE FILTER\naoutl2\trezzy   \tasig1+asig3, kfco*1.51*(1+kfclf1), krez\t\t   ; APPLY THE FILTER\naoutr2\trezzy   \tasig2+asig4, kfco*1.49*(1+kfclf2), krez\t\t   ; APPLY THE FILTER\n\n\t\touts    \t(aoutl1+aoutl2)*aamp, (aoutr1+aoutr2)*aamp\t   ; STEREO OUPUT AND AMPLIFICATION\n\t\tendin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 16384 10 1\nf2 0 1024\t -7 1 256 1 56 2 200 2 56 1.5 200 1.5 56 1 200 1\nf3 0 1024\t -7 1 1024 1\nf4 0 1024\t -7 1 300 1 62 1.1246 300 1.1246 62 1.0 300 1.0\n\nt 0 120\n\n; LFO NOTE 0<PWM<1\n;   STA  DUR  AMP  FQC  WAVE\tOFFSET  OUTCH\ni5  0    32   .5   .1   1\t.5\t    1\n\n; SYNTH WAVE 1=SAW, 2=SQUARE/PWM, 3=TRI/SAW-RAMP-MOD\n;   STA  DUR  AMP   PITCH  FCO   REZ  WAVE  PULSEWCH  PBEND\ni12 0    .63  20000 5.04\t 20000  10   2\t    1\t    3\ni12 +    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\n;\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\n;\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\n;\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for k1             linseg    0,p3*.8,1,p3*.2,.1 using FM synthesis and parameter sweep and oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FMSWEEP.ORC and FMSWEEP.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n;FM WITH FREQ SWEEP\n\ninstr          1\nk1             linseg    0,p3*.8,1,p3*.2,.1\nk2             linseg    0,p3*.5,p6,p3*.5,0\nk3             linseg    p5,p3*.5,p5*1.2,p3*.4,p5*.8,p3*.3,p5*1.1,p3*.2,p5*.9,p3*.1,p5\na1             foscil    k1*p4,k3,p7,p8,k2,1\n               out       a1*.85\nendin\n\ninstr          2\nk1             linseg    0,p3*.4,.8,p3*.2,.1,p3*.3,1,p3*.1,.5\nk2             linseg    0,p3*.8,p6,p3*.2,0\nk3             linseg    p5*.85,p3*.4,p5*1,p3*.2,p5*1.1,p3*.4,p5*.2\na1             foscil    k1*p4,k3,p7,p8,k2,1\n               out       a1*.85\nendin\n\ninstr          3\n\nk1             linseg    0,p3*.5,.5,p3*.4,1,p3*.1,.7             ;AMP SEG\nk2             linseg    0,p3*.4,.5,p3*.2,.3,p3*.4,1             ;MOD INDX SEG\nk3             linseg    1,p3*.3,.5,p3*.3,.8,p3*.3,.2,p3*.1,0    ;FREQ SEG\na1             foscil    k1*p4,k3,p7,p8,k2,1\n               out       a1*.85\nendin\n\n</CsInstruments>\n<CsScore>\n;SCORE FOR SWEEP.ORC\n;TEST OF K VALUES IN OSCIL STATEMENTS\n;4-3-89\n;USE IN FMSWEEP.ORC\n\nf 1 0 4097 9 1 1 0\n\ni1 0 20 2000 140 4 8 1             ;GREAT CLOUD-SCREECH EFFECT\ni1 0 20.1 2000 145 4 8 1\ni1 0 20.2 2000 150 4 8 1\ni1 0 20.3 2000 155 4 8 1\ni1 0 20.4 2000 160 4 8 1\ni1 0 20.5 2000 165 4 8 1\ni1 0.1 20 2000 135 4 8 1\ni1 0.1 20.1 2000 145 4 8 1\ni1 0.1 20.2 2000 150 4 8 1\ni1 0.1 20.3 2000 155 4 8 1\ni1 0.1 20.4 2000 160 4 8 1\ni1 0.1 20.5 2000 165 4 8 1\n\n\ni2 22 10 1500 75 4 2 1\ni2 22 10.1 1500 76 4 2 1\ni2 22 10.2 1500 77 4 2 1\ni2 22 10.3 1500 78 4 2 1\ni2 22 10.4 1500 79 4 2 1\ni2 22 10.5 1500 80 4 2 1\ni2 22 10.6 1500 81 4 2 1\ni2 22 10.7 1500 82 4 2 1\ni2 22 10.8 1500 83 4 2 1\ni2 22 10.9 1500 84 4 2 1\ni2 22 11 1500 85 4 2 1\n\ni1 30 15 2500 130 8 8 1\ni1 30.2 15 2500 125 8 4 1\ni1 30.4 15 2500 120 4 2 1\ni1 30.6 15 2500 115 4 1 4\ni1 30.8 15 2500 110 4 8 1\ni1 31 15 2500 105 8 8 1\ni1 31.2 15 2500 100 8 4 1\ni1 31.4 15 2500 95 4 2 1\ni1 31.6 15 2500 90 4 1 4\ni1 31.8 15 2500 85 8 8 1\ni1 32   15 2500 80 4 1 4\ni1 32.2 15 2500 75 4 2 1\ni1 32.6 15 2500 70 8 4 1\ni1 32.8 15 2500 65 8 8 1\ni1 33 25 2500 110 4 1 1\ni1 33 25 2500 174.6 4 1 1\ni1 33 25 2500 207.6 4 1 1\n\ni3 50 25 1500 261 4 1 4\ni3 50 25 1500 415.3 4 1 4\ni3 50 25 1500 493.9 4 1 4\n\ni1 62 20 2500 98 4 1 1\ni1 62 20 2500 155.6 4 1 1\ni1 62 20 2500 185  4 1 1\n\ni2 72 15 2000 554.4 4 2 1\ni2 72 15 2000 880 4 2 1\ni2 72 15 2000 1046 4 2 1\ni1 72.1 14.9 1800 554.4 4 2 1\ni1 72.1 14.9 1800 880 4 2 1\ni1 72.1 14.9 1800 1046 4 2 1\n\n\n\ne\n\n\n\ni1 0.1 2 2000 240 4 1 1\ni1 0.3 2.1 2000 241 8 1 1\ni1 0.5 2.3 2000 242 4 2 1\ni1 0.7 2.5 2000 243 8 2 1\ni1 0.9 2.7 2000 244 4 1 4\ni1 1.1 2.9 2000 245 8 1 4\ni1 1.3 3.1 2000 246 4 8 1\ni1 1.5 3.3 2000 247 8 8 1\ni1 1.7 3.5 2000 248 4 1 8\ni1 1.9 3.7 2000 249 8 1 8\ni1 2.1 3.5 2000 250 4 1 0\ni1 2.3 3.3 2000 251 8 8 1\ni1 2.5 3.1 2000 252 4 8 1\ni1 2.7 3.3 2000 253 8 1 4\ni1 2.9 3.5 2000 254 4 1 4\ni1 3.1 3.7 2000 255 8 2 1\ni1 3.3 3.9 2000 256 4 2 1\ni1 3.5 4.1 2000 257 8 1 1\ni1 3.7 4.3 2000 258 4 1 1\ni1 4 3 2000 110 4 1 1\ni1 4.5 3 2000 115 8 1 1\ni1 5 3 2000 120 4 2 1\ni1 5.5 3 2000 125 8 2 1\ni1 6 3 2000 130 4 1 4\ni1 6.5 3 2000 135 8 1 4\ni1 7 10 2000 140 4 8 1             ;GREAT CLOUD-SCREECH EFFECT\ni1 7 10.1 2000 145 4 8 1\ni1 7 10.2 2000 150 4 8 1\ni1 7 10.3 2000 155 4 8 1\ni1 7 10.4 2000 160 4 8 1\ni1 7 10.5 2000 165 4 8 1\ni1 7.1 10 2000 135 4 8 1\ni1 7.1 10.1 2000 145 4 8 1\ni1 7.1 10.2 2000 150 4 8 1\ni1 7.1 10.3 2000 155 4 8 1\ni1 7.1 10.4 2000 160 4 8 1\ni1 7.1 10.5 2000 165 4 8 1\n\n\n\ne\n\n\n\ni1 0 25 2000 220 4 1 1\ni1 3 15 2000 222 8 1 1\ni1 7 13 2000 224 4 2 1\ni1 9 12 2000 226 8 2 1\ni1 11.5 10 2000 228 4 1 4\ni1 14 12 2000 230 8 1 4\ni1 15.5 15 2000 232 4 8 1\ni1 16.5 14 2000 234 8 8 1\ni1 17.9 13 2000 236 4 1 8\ni1 20 12 2000 238 8 1 8\ni1 20.1 2 2000 440 4 1 1\ni1 20.2 2 2000 441 8 1 1\ni1 20.3 2 2000 442 4 2 1\ni1 20.4 2 2000 443 8 2 1\ni1 20.5 2 2000 444 4 1 4\ni1 20.6 2 2000 445 8 1 4\ni1 20.7 2 2000 446 4 8 1\ni1 20.8 2 2000 447 8 8 1\ni1 20.9 2 2000 448 4 1 8\ni1 21.0 2 2000 449 8 1 8\n\n\n\n\n\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for El. piano using drum sound and oscillator and reverb effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from drumsand.orc and drumsand.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\nginsr          =    44100\ngisize65  =    ginsr/65536\ngisize32  =    ginsr/32768\ngisize16  =    ginsr/16384\ngisize8        =    ginsr/8192\ngisize4        =    ginsr/4096\n\n\ninstr 1                                                     ; El. piano\n     inote     cpsmidi                                      ; Get note\n     ivel veloc                                        ; Get velocity\n\n     ipn       gauss          .5                            ; Gaussian panning!\n     ipn       =              ipn + .5                 ; Center it!\n     \n     kgate     linenr         ivel/127, 0, .2, .01     ; gate\n     a1        oscil          10000, (inote/440) * gisize65, 11\n\n     outs a1 * ipn * kgate, a1 * (1 - ipn) * kgate\n\n     ga1l =              a1 * ipn * kgate         ; Aux out L\n     ga1r =              a1 * (1 - ipn) * kgate   ; Aux out R\n\nendin\n\ninstr 2                                                     ; Synth bass\n     inote     cpsmidi                                      ; Get note\n     ivel veloc                                        ; Get velocity\n     ipn       gauss          .5                            ; Gaussian panning!\n     ipn       =              ipn + .5                 ; Center it!\n     \n     kgate     linenr         ivel/127, 0, .1, .01     ; gate\n     a1        oscil          25000, (inote/220) * gisize32, 10\n\n     outs                a1 * ipn * kgate, a1 * (1 - ipn) * kgate\n\n     ga2l =              a1 * ipn * kgate         ; Aux out L\n     ga2r =              a1 * (1 - ipn) * kgate   ; Aux out R\n     \nendin\n\ninstr 4                                                     ; Muted guitar\n     inote     cpsmidi                                      ; Get note\n     ivel veloc                                        ; Get velocity\n\n     ipn       gauss          .5                            ; Gaussian panning!\n     ipn       =              ipn + .5                 ; Center it!\n     \n     kgate     linenr         ivel/127, 0, .4, .01     ; gate\n     a1        oscil          30000, (inote/220) * gisize32, 12\n\n     outs a1 * ipn * kgate, a1 * (1 - ipn) * kgate\n\n     ga1l =              a1 * ipn * kgate         ; Aux out L\n     ga1r =              a1 * (1 - ipn) * kgate   ; Aux out R\n\nendin\n\ninstr 8                                                     ; Strings\n     inote     cpsmidi                                      ; Get note\n     ivel veloc                                        ; Get velocity\n     ipn       gauss          .5                            ; Gaussian panning!\n     ipn       =              ipn + .5                 ; Center it!\n     \n     kgate     linenr         ivel/127, 0, .1, .01     ; gate\n     a1        loscil         30000, (inote/440) * gisize65, 14, 2/3, 1, 40002, 64641\n\n     outs                a1 * ipn * kgate, a1 * (1 - ipn) * kgate\n\n     ga2l =              a1 * ipn * kgate         ; Aux out L\n     ga2r =              a1 * (1 - ipn) * kgate   ; Aux out R\n     \nendin\n\ninstr 16\n     ivl       veloc                                        ; Get velocity\n\n     ipn       gauss          .5                            ; Gaussian panning!\n     ipn       =              ipn + .5                 ; Center it!\n\n     imod =              0\n     irel =              .2\n     inn       notnum                                       ; Find which drum\n\n     if        inn == 45 igoto     bd\n     if        inn == 52 igoto     sd\n     if        inn == 57 igoto     hhc\n     if        inn == 59 igoto     hho\n     if        inn == 61 igoto     lcr\n     if        inn == 66 igoto     hcr\n     if        inn == 76 igoto     hst\n     if        inn == 74 igoto     mst\n     if        inn == 72 igoto     lst\n     \n     igoto     oops\n\nbd:\n     ift = 1\n     igoto     kstuff\nsd:\n     ift = 2\n     igoto     kstuff\nhhc:\n     ift = 3\n     igoto     kstuff\nhho:\n     ift = 4\n     igoto     kstuff\nlcr:\n     ift = 5\n     irel = .4\n     igoto     kstuff\nhcr:\n     ift = 5\n     imod = .4\n     irel = .5\n     igoto     kstuff\nhst:\n     ift = 6\n     imod = 0\n     igoto     kstuff\nmst:\n     ift = 6\n     imod = -.2\n     igoto     kstuff\nlst:\n     ift = 6\n     imod = -.4\n     igoto     kstuff\noops:                                                       ; Dummy ftable for wrong note\n     ift = 2876\n\nkstuff:\n\n     kgt       linenr         200 * ivl, 0, irel, .01  ; gate\n\n     a1        oscilx         10000, gisize32 + imod, ift, 1\n     \n     outs a1 * ipn, a1 * (1 - ipn)\n\n     ga16l     =              a1 * ipn                 ; Aux out L\n     ga16r     =              a1 * (1 - ipn)           ; Aux out R\n\nendin\n\ninstr 99\n     ga1l init 0\n     ga1r init 0\n     ga2l init 0\n     ga2r init 0\n     ga16l     init 0\n     ga16r     init 0\n\n     galll = ga1l + ga2l + ga16l\n     gallr = ga1r + ga2r + ga16r\n\n     arevl     reverb    galll/7, .7\n     arevr     reverb    gallr/7, .8\n\n     outs arevl, arevr\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 32768 1 \"syTightBD\" 0 4 1\nf2 0 32768 1 \"syLightSD\" 0 4 1\nf3 0 32768 1 \"syHHclosed\"     0 4 1\nf4 0 32768 1 \"syHHopen\"       0 4 1\nf5 0 32768 1 \"syCrash\"        0 4 1\nf6 0 32768 1 \"sySynthTom\"     0 4 1\n\nf10 0 32768 1 \"syQBass2\"      0 4 1\nf11 0 65536 1 \"syDynoElPno\"   0 4 1\nf12 0 32768 1 \"syMuteElGtr\"        0 4 1\nf14 0 65536 1 \"syStrings\"          0 4 1\n\nf2876 0 256 10 0\n \ni99 0  17.5\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur\t\t=\t    \tp3 using oscillator and analog-style oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from moogvco3.orc and moogvco3.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n;---------------------------------------------------------------\n; A SET OF ANALOG MODELING INSTRUMENTS USING RESONANT LOW-PASS\n; FILTER BY HANS MIKELSON NOVEMBER 1998\n;---------------------------------------------------------------\n\nzakinit 50, 50\n\n;---------------------------------------------------------------\n; LFO\n;---------------------------------------------------------------\n\t\tinstr   \t5\n\nidur\t\t=\t    \tp3\niamp\t\t=\t    \tp4\nifqc\t\t=\t    \tp5\niwave\t=\t    \tp6\nioffset\t=\t    \tp7\nioutch\t=\t    \tp8\n\nksig\t\toscil   \tiamp, ifqc, iwave\nkout\t\t=\t    \tksig*.5+ioffset\n\t\tzkw\t    \tkout, ioutch\n\n\t\tendin\n\n;---------------------------------------------------------------\n; VCO WITH REZZY FILTER\n;---------------------------------------------------------------\n\t\tinstr\t11\n\nidur\t\t=\t    \tp3\t\t\t\t\t; DURATION\niamp\t\t=\t    \tp4\t\t\t\t\t; AMPLITUDE\nifqc\t\t=\t    \tcpspch(p5)\t\t\t; FREQUENCY\nirtfqc\t=\t    \tsqrt(ifqc)\t\t\t; SQUARE ROOT OF FREQUENCY\nifco\t\t=\t    \tp6*ifqc/500\t\t\t; FILTER CUT OFF (HIGHER FREQUENCIES GET A HIGHER CUT OFF)\nkrez\t\tinit    \tp7\t\t\t\t\t; RESONANCE DOES NOT CHANGE IN THIS INSTRUMENT\niwave\t=\t    \tp8\t\t\t\t\t; SELECTED WAVE FORM 1=SAW, 2=SQUARE/PWM, 3=TRI/SAW-RAMP-MOD\nipwch\t=\t    \tp9\t\t\t\t\t; PWM CHANNEL\nipbend\t=\t    \tp10\t\t\t\t\t; PITCH BEND TABLE\nisine\t=\t    \t1\nimaxd\t=\t    \t2*ifqc\n\nileak\t=\t    \t(iwave==2 ? .999 : (iwave==3 ? .995 : .999)) ; LEAKY INTEGRATION VALUE\n\nkpw\t\tzkr\t    \tipwch\t\t\t\t\t\t\t\t; READ THE ZAK MODULATION CHANNEL\nkpwn\t\t=\t    \tkpw-.5\t\t\t\t\t\t\t\t; GET A PULSE WIDTH THAT GOES FROM -.5 TO .5\nkfco\t\texpseg  \t100+.5*ifco, .2*idur, ifco+100, .5*idur, ifco*.8+100, .1*idur, .5*ifco+100 ; FILTER ENVELOPE\nkpbend\toscil   \t1, 1/idur, ipbend  \t\t\t\t\t\t\t\t\t\t\t\t; PITCH BEND\nkamp\t\tlinseg  \t0, .01*idur, iamp, .2*idur, .9*iamp, .59*idur, .9*iamp, .2*idur, 0\t\t; AMP ENVELOPE\naamp\t\tinterp  \tkamp\nkfqc\t\t=\t    \tifqc*kpbend\n\nasig\t\tvco\t    \t1, kfqc, iwave, kpw, isine, imaxd\n\naout\t\trezzy   \tasig, kfco*kpbend, krez\t\t\t\t    \t; APPLY THE FILTER\n\n\t\touts    \taout*aamp, aout*aamp\t\t\t\t\t; STEREO OUPUT AND AMPLIFICATION\n\t\tendin\n\n;---------------------------------------------------------------\n; MOOG VCO WITH MIKLESON FILTER\n;---------------------------------------------------------------\n\t\tinstr\t12\n\nidur\t\t=\t    \tp3\t\t\t\t\t\t; DURATION\niamp\t\t=\t    \tp4\t\t\t\t\t\t; AMPLITUDE\nifqc\t\t=\t    \tcpspch(p5)\t\t\t\t; FREQUENCY\nirtfqc\t=\t    \tsqrt(ifqc)\t\t\t\t; SQUARE ROOT OF FREQUENCY\nifco\t\t=\t    \tp6*ifqc/500\t\t\t\t; FILTER CUT OFF (HIGHER FREQUENCIES GET A HIGHER CUT OFF)\nkrez\t\tinit    \tp7\t\t\t\t\t\t; RESONANCE DOES NOT CHANGE IN THIS INSTRUMENT\niwave\t=\t    \tp8\t\t\t\t\t\t; SELECTED WAVE FORM 1=SAW, 2=SQUARE/PWM, 3=TRI/SAW-RAMP-MOD\nipwch\t=\t    \tp9\t\t\t\t\t\t; PWM CHANNEL\nipbend\t=\t    \tp10\t\t\t\t\t\t; PITCH BEND TABLE\nisine\t=\t    \t1\nimaxd\t=\t    \t2*ifqc\n\nileak\t=\t    \t(iwave==2 ? .999 : (iwave==3 ? .995 : .999)) ; LEAKY INTEGRATION VALUE\n\nkpw\t\tzkr\t    \tipwch\t\t\t\t\t; READ THE ZAK MODULATION CHANNEL\nkpwn\t\t=\t    \tkpw-.5\t\t\t\t\t; GET A PULSE WIDTH THAT GOES FROM -.5 TO .5\nkfco\t\texpseg  \t100+.1*ifco, .2*idur, ifco+100, .5*idur, ifco*.2+100, .1*idur, .4*ifco+100 ; FILTER ENVELOPE\nkpbend\toscil   \t1, 1/idur, ipbend  \t\t\t\t\t\t\t\t\t\t\t\t; PITCH BEND\nkamp\t\tlinseg  \t0, .01*idur, iamp, .2*idur, .8*iamp, .59*idur, .5*iamp, .2*idur, 0\t\t; AMP ENVELOPE\naamp\t\tinterp  \tkamp\nkfqc\t\t=\t    \tifqc*kpbend\n\nasig\t\tvco\t    \t1, kfqc, iwave, kpw, isine, imaxd\n\naout\t\trezzy   \tasig, kfco*kpbend, krez\t\t\t\t    \t; APPLY THE FILTER\n\n\t\touts    \taout*aamp, aout*aamp\t\t\t\t\t; STEREO OUPUT AND AMPLIFICATION\n\t\tendin\n\n;---------------------------------------------------------------\n; MOOG VCO WITH MIKLESON FILTER\n;---------------------------------------------------------------\n\t\tinstr\t13\n\t\t\t\t\t\t\t\t\t\t\nidur\t\t=\t    \tp3\t\t\t\t\t\t\t\t\t; DURATION\niamp\t\t=\t    \tp4\t\t\t\t\t\t\t\t\t; AMPLITUDE\nifqc\t\t=\t    \tcpspch(p5)\t\t\t\t\t\t\t; FREQUENCY\nirtfqc\t=\t    \tsqrt(ifqc)\t\t\t\t\t\t\t; SQUARE ROOT OF FREQUENCY\nifco\t\t=\t    \tp6*ifqc/500\t\t; FILTER CUT OFF (HIGHER FREQUENCIES GET A HIGHER CUT OFF)\nkrez\t\tinit    \tp7\t\t\t\t; RESONANCE DOES NOT CHANGE IN THIS INSTRUMENT\niwave\t=\t    \tp8\t\t\t\t; SELECTED WAVE FORM 1=SAW, 2=SQUARE/PWM, 3=TRI/SAW-RAMP-MOD\nisine\t=\t    \t1\nimaxd\t=\t    \t2/ifqc\n\nkpw\t\tinit    \t.5\t\t  \t\t; READ THE ZAK MODULATION CHANNEL\nkfco\t\texpseg  \t100+.1*ifco, .2*idur, ifco, .6*idur, ifco, .2*idur, .4*ifco+100\t  ; FILTER ENVELOPE\nkamp\t\tlinseg  \t0, .2*idur, iamp, .6*idur, iamp, .2*idur, 0  ; AMP ENVELOPE\naamp\t\tinterp  \tkamp\nkvibr\toscil   \t.002, 6, 1\nkfqc\t\t=\t   \tifqc*(1 + kvibr)\nkfclf1\toscil   \t.5, .5, 1\nkfclf2\toscil   \t.5, .6, 1\n\nasig1\tvco\t    \t1, kfqc*.998,  iwave, kpw, isine, imaxd\nasig2\tvco\t    \t1, kfqc*.999,  iwave, kpw, isine, imaxd\nasig3\tvco\t    \t1, kfqc*1.001, iwave, kpw, isine, imaxd\nasig4\tvco\t    \t1, kfqc*1.002, iwave, kpw, isine, imaxd\n\naoutl1\trezzy   \tasig1+asig3, kfco*0.99*(1+kfclf1), krez\t\t   ; APPLY THE FILTER\naoutr1\trezzy   \tasig2+asig4, kfco*1.01*(1+kfclf2), krez\t\t   ; APPLY THE FILTER\naoutl2\trezzy   \tasig1+asig3, kfco*1.51*(1+kfclf1), krez\t\t   ; APPLY THE FILTER\naoutr2\trezzy   \tasig2+asig4, kfco*1.49*(1+kfclf2), krez\t\t   ; APPLY THE FILTER\n\n\t\touts    \t(aoutl1+aoutl2)*aamp, (aoutr1+aoutr2)*aamp\t   ; STEREO OUPUT AND AMPLIFICATION\n\t\tendin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 16384 10 1\nf2 0 1024  -7 1 256 1 56 2 200 2 56 1.5 200 1.5 56 1 200 1\nf3 0 1024  -7 1 1024 1\nf4 0 1024  -7 1 300 1 62 1.1246 300 1.1246 62 1.0 300 1.0\n\n; SYNTH WAVE 1=SAW, 2=SQUARE/PWM, 3=TRI/SAW-RAMP-MOD\n;   STA  DUR  AMP   PITCH  FCO   REZ  WAVE\ni13 0    16  6000   6.04   2000  10   1\ni13 0    16  8000   8.04   2000  10   1\n;\ni13 12   16  8000   5.04   2000  10   1\ni13 12   16  7000   8.11   2000  10   1\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a fmstrings sound using FM synthesis and string synthesis and ring modulation", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FMSTRINGS.ORC and FMSTRINGS.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n;=======================================================================;\n; FMSTRINGS       FM Strings based on Dodge's \"Computer Music\" Text     ;\n;                 Designed by Garth Molyneux                            ;\n;                 University of Texas at Austin Computer Music Studio   ;\n;=======================================================================;\n; p5     =        frequency in pch                                      ;\n; p6     =        relative index level                                  ;\n; p7     =        code for envelope rise and fall times                 ;\n;                    1 = fast rise/fast fall, 2 = fast rise/slow fall   ;\n;                    3 = slow rise/fast fall, 4 = slow rise/slow fall   ;\n; p8     =        code for index envelope rise time                     ;\n;                    0 = fast, 1 = slow                                 ;\n;=======================================================================;\n          instr     1         \nkvamp     randi     .003,5,-1                ; VIBRATO DESIGN\nkvstdy    oscil1i   0,.013,p3,4\nkvibamp   =         kvstdy+kvamp+.003\nkvfrq     randi     1,7,-1\nksfrq     oscil1i   .15,4.9,p3,5\nkvibfrq   =         kvfrq+ksfrq+1\nkvib      oscil     kvibamp,kvibfrq,1\n\nibasoct   =\t\toctpch(p5)\nipitch    =\t\tcpspch(p5)\nksinc   \t=\t\tcpsoct(ibasoct+kvib)\n\n\niampfac   =         (p4*.25)*.16             ; TREMOLO DESIGN\nirfac     =         iampfac*.1\nktrnd     randi     irfac,4,-1\nktsamp    oscil1i   .41,iampfac,p3,4\nktamp     =         ktsamp+ktrnd+irfac\nkvtfrq    randi     1,5,-1\nkstfrq    oscil1i   .38,4,p3,5\nktfrq     =         kvtfrq+kstfrq+1\nktrem     oscil     ktamp,ktfrq,1\nkamp      =         (p4*.25)+ktrem\n\nkatamp    =         p4*.1                    ; ATTACK NOISE\nkatramp   oscil1i   0,katamp,.12,3\nkatrand   randi     katramp,ipitch*.2,-1\nknoise    oscil     katrand,2000,1,-1\n\nkmod1hz   =         ksinc                    ; MAIN INSTRUMENT DESIGN\nkmod2hz   =         ksinc*3\nkmod3hz   =         ksinc*4\ni1        =         7.5/log(ipitch)\ni2        =         15/sqrt(ipitch)\ni3        =         1.25/sqrt(ipitch)\nindx1     =         i1*p6\nindx2     =         i2*p6\nindx3     =         i3*p6\n\n          if        (p8 == 1) goto step1\nkindx1c   envlpx    indx1,.02,p3,p3-.02,2,.999,.01\nkindx2c   envlpx    indx2,.03,p3,p3-.03,2,.997,.01\nkindx3c   envlpx    indx3,.04,p3,p3-.04,2,.998,.01\n          goto      step2\nstep1:\nkindx1c   envlpx    indx1,p3*.698,p3,p3*.302,6,.999,.01\nkindx2c   envlpx    indx2,p3*.703,p3,p3*.297,6,.996,.01\nkindx3c   envlpx    indx3,p3*.695,p3,p3*.305,6,.996,.01     \n\nstep2:\nkindex1   =         kindx1c*kmod1hz\nkindex2   =         kindx2c*kmod2hz\nkindex3   =         kindx3c*kmod3hz\namod1     oscil     kindex1,kmod1hz,1,-1\namod2     oscil     kindex2,kmod2hz,1,-1\namod3     oscil     kindex3,kmod3hz,1,-1\nacarfrq   =         amod1+amod2+amod3+ksinc\nastr      oscili    kamp,acarfrq,1,-1\nasig      =         astr+knoise\n\nienvr     =         .17\nienvf     =         .21\nienvfn    =         2\n          if        (p7 == 2) igoto set2\n          if        (p7 == 3) igoto set3\n          if        (p7 == 4) igoto set4\n          igoto     set1\nset2:\nienvf     =         (p3-.17)*.95\n          igoto     set1\nset3:\nienvr     =         (p3-.21)*.9\nienvfn    =         7\n          igoto     set1\nset4:\nienvr     =         p3*.5\nienvf     =         p3*.5\nienvfn    =         7 \n\nset1:\nasnd      envlpx    asig,ienvr,p3,ienvf,ienvfn,.998,.01\nasine     oscili    p4*.6,ipitch,1\nasinenv   linen     asine,p3*.5,p3,p3*.4\nasignal   =         asnd+asinenv\n          out       asignal\n          endin\n\n</CsInstruments>\n<CsScore>\n;=======================================================================;\n; FMSTRINGS       Score for FM Strings based on Dodge coded by Molyneux ;\n;=======================================================================;\n; p6     =        relative index level                                  ;\n; p7     =        code for envelope rise and fall times                 ;\n;                    1 = fast rise/fast fall, 2 = fast rise/slow fall   ;\n;                    3 = slow rise/fast fall, 4 = slow rise/slow fall   ;\n; p8     =        code for index envelope rise time                     ;\n;                    0 = fast, 1 = slow                                 ;\n;=======================================================================;\n; sine\nf1     0       512    10       1\n; linear rise\nf2     0       513     7       0       513         1\n; linear fall\nf3     0       513     7       1       513         0\n; attack function for vibamp\nf4     0       513     7       0       400         1       113    .8 \n; attack function for vibamp\nf5     0       513     7       0       200        .56      250     1       63     .85 \n; index rise function\nf6     0       513     5      .001     62         .95      61     .55      200     1       190     .86\n; attack function\nf7     0       513     5      .001     200        .95      156    .7       157     1\n;=========================================================================;\n; FMSTRINGS            p4      p5       p6      p7      p8                ;\n;                      amp     pch      relndx  eg#     ndxeg             ;\n;=========================================================================;\ni1     0.00    5.02    7234    8.10     1       2       1\ni1     0.01    5.06    7394    8.11     1       2       1\ni1     0.02    5.04    7791    8.05     1       2       1\ni1     0.04    5.00    7891    8.04     1       2       1\ni1     4.25    5.08    9169    9.01    .5       4       0\ni1     4.26    5.06    8786    8.05    .5       4       0\ni1     4.27    5.04    8786    8.11    .5       4       0\ni1     4.29    5.07    8786    8.02    .5       4       0\ni1     8.52    6.61    7394    8.01    .7       2       1\ni1     8.62    6.39    8063    8.05    .7       2       1\ni1     8.65    6.40    8163    8.10    .7       2       1\ni1     8.69    6.45    9772    9.04    .7       2       1\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ROTOR ORGAN #2 using oscillator and Butterworth lowpass filter and Butterworth bandpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from ROTORLS3.ORC and ROTORLS3.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         2205\nksmps          =         20\nnchnls         =         2\n\n;***************************************************\n; TONE WHEEL ORGAN WITH ROTATING SPEAKER\n;***************************************************\n\n\ninstr          1                        ; ROTOR ORGAN #2\n\n  gaorgan      init      0\n  gaorgan2     init      0\n\n  iphase       =         p2\n; ikey         =         p6\n  ikey         =         12*int(p5-6) + 100*(p5-6)\n  ifqc         =         cpspch(p5)\n\n; THE LOWER TONE WHEELS HAVE INCREASED ODD HARMONIC CONTENT.\n  iwheel1      =         ((ikey-12) > 12 ? 1:2)\n  iwheel2      =         ((ikey+7)  > 12 ? 1:2)\n  iwheel3      =         (ikey         > 12 ? 1:2)\n  iwheel4      =         1\n  \n  kenv         linseg    0, .01, p4, p3-.02, p4, .01, 0\n\n  asubfund     oscil     p6,  .5*ifqc,       iwheel1, iphase/(ikey-12)\n  asub3rd      oscil     p7,  1.4983*ifqc,    iwheel2, iphase/(ikey+7)\n  afund        oscil     p8,  ifqc,           iwheel3, iphase/ikey\n  a2nd         oscil     p9,  2*ifqc,         iwheel4, iphase/(ikey+12)\n  a3rd         oscil     p10, 2.9966*ifqc,    iwheel4, iphase/(ikey+19)\n  a4th         oscil     p11, 4*ifqc,         iwheel4, iphase/(ikey+24)\n  a5th         oscil     p12, 5.0397*ifqc,    iwheel4, iphase/(ikey+28)\n  a6th         oscil     p13, 5.9932*ifqc,    iwheel4, iphase/(ikey+31)\n  a8th         oscil     p14, 8*ifqc,         iwheel4, iphase/(ikey+36)\n\n  gaorgan      =         gaorgan + kenv*(asubfund + asub3rd + afund + a2nd + a3rd + a4th + a5th + a6th + a8th)\n  gaorgan2     =         gaorgan\n\nendin\n\n;ROTATING SPEAKER\n               instr     3\n\n; SPEAKER PHASE OFFSET\n iofff         =         p4\n; PHASE SEPARATION BETWEEN RIGHT AND LEFT\n  isep         =         p5\n; GLOBAL INPUT FROM ORGAN\n  asig         =         gaorgan\n\n; DISTORTION EFFECT A LAZY \"S\" CURVE.  USE TABLE 6 FOR MORE DISTORTION.\n  asig         =         asig/40000\n  aclip        tablei    asig, 5, 1, .5\n  aclip        =         aclip*16000\n\n; DELAY BUFFER FOR ROTATING SPEAKER\n  aleslie      delayr    .02, 1\n               delayw    aclip\n\n; ACCELERATION\n  kenv         linseg    .8, 1, 8, 2, 8, 1, .8, 2, .8, 1, 8, 1, 8\n  kenvlow      linseg    .7, 2, 7, 1, 7, 2, .7, 1, .7, 2, 7, 1, 7\n\n; UPPER DOPPLER EFFECT\n  koscl        oscil     1, kenv, 1, iofff\n  koscr        oscil     1, kenv, 1, iofff + isep\n  kdopl        =         .01-koscl*.0002\n  kdopr        =         .012-koscr*.0002\n  aleft        deltapi   kdopl\n  aright       deltapi   kdopr\n\n; LOWER EFFECT\n  koscllow     oscil     1, kenvlow, 1, iofff\n  koscrlow     oscil     1, kenvlow, 1, iofff + isep\n  kdopllow     =         .01-koscllow*.0003\n  kdoprlow     =         .012-koscrlow*.0003\n  aleftlow     deltapi   kdopllow\n  arightlow    deltapi   kdoprlow\n\n; FILTER EFFECT\n; DIVIDE INTO THREE FREQUENCY RANGES FOR DIRECTIONAL SOUND.\n\n;  HIGH PASS\n  alfhi        butterbp  aleft,      7000, 6000\n  arfhi        butterbp  aright,  7000, 6000\n\n;  BAND PASS\n  alfmid       butterbp  aleft,      3000, 2000\n  arfmid       butterbp  aright,  3000, 2000\n\n;  LOW PASS\n  alflow       butterlp  aleftlow, 1000\n  arflow       butterlp  arightlow,     1000\n\n  kflohi       oscil     1, kenv, 3, iofff\n  kfrohi       oscil     1, kenv, 3, iofff + isep\n  kflomid      oscil     1, kenv, 4, iofff\n  kfromid      oscil     1, kenv, 4, iofff + isep\n  \n; AMPLITUDE EFFECT ON LOWER SPEAKER\n  kalosc       =         koscllow * .4 + 1\n  karosc       =         koscrlow * .4 + 1\n\n; ADD ALL FREQUENCY RANGES AND OUTPUT THE RESULT.\n               outs      alfhi*kflohi+alfmid*kflomid+alflow*kalosc, arfhi*kfrohi+arfmid*kfromid+arflow*karosc\n\n  gaorgan      =         0\n\n               endin\n\n;ROTATING SPEAKER\ninstr          4\n\n; SPEAKER PHASE OFFSET\n  iofff        =         p4\n\n; PHASE SEPARATION BETWEEN RIGHT AND LEFT\n  isep         =         .2\n\n; GLOBAL INPUT FROM ORGAN\n  asig         =         gaorgan2\n\n; DISTORTION EFFECT A LAZY \"S\" CURVE.  USE TABLE 6 FOR MORE DISTORTION.\n  asig         =         asig/40000\n  aclip        tablei    asig, 5, 1, .5\n  aclip        =         aclip*16000\n\n; DELAY BUFFER FOR ROTATING SPEAKER\n  aleslie      delayr    .02, 1\n               delayw    aclip\n\n; ACCELERATION\n  kenv         linseg    .8, 1, 8, 2, 8, 1, .8, 2, .8, 1, 8, 1, 8\n  kenvlow      linseg    .7, 2, 7, 1, 7, 2, .7, 1, .7, 2, 7, 1, 7\n\n; UPPER DOPPLER EFFECT\n  koscl        oscil     1, kenv, 1, iofff\n  koscr        oscil     1, kenv, 1, iofff + isep\n  kdopl        =         .01-koscl*.0002\n  kdopr        =         .012-koscr*.0002\n  aleft        deltapi   kdopl\n  aright       deltapi   kdopr\n\n; LOWER EFFECT\n  koscllow     oscil     1, kenvlow, 1, iofff\n  koscrlow     oscil     1, kenvlow, 1, iofff + isep\n  kdopllow     =         .01-koscllow*.0003\n  kdoprlow     =         .012-koscrlow*.0003\n  aleftlow     deltapi   kdopllow\n  arightlow    deltapi   kdoprlow\n\n; FILTER EFFECT\n; DIVIDE INTO THREE FREQUENCY RANGES FOR DIRECTIONAL SOUND.\n\n;  HIGH PASS\n  alfhi        butterbp  aleft,      7000, 6000\n  arfhi        butterbp  aright,  7000, 6000\n\n;  BAND PASS\n  alfmid       butterbp  aleft,      3000, 2000\n  arfmid       butterbp  aright,  3000, 2000\n\n;  LOW PASS\n  alflow       butterlp  aleftlow, 1000\n  arflow       butterlp  arightlow,     1000\n\n  kflohi       oscil     1, kenv, 3, iofff\n  kfrohi       oscil     1, kenv, 3, iofff + isep\n  kflomid      oscil     1, kenv, 4, iofff\n  kfromid      oscil     1, kenv, 4, iofff + isep\n  \n; AMPLITUDE EFFECT ON LOWER SPEAKER\n  kalosc       =         koscllow * .4 + 1\n  karosc       =         koscrlow * .4 + 1\n\n\n               outs      alfhi*kflohi+alfmid*kflomid+alflow*kalosc, arfhi*kfrohi+arfmid*kfromid+arflow*karosc\n\n  gaorgan2     =         0\n\n               endin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; Tone Wheel Organ with Rotating Speaker rev. 2\n; by Hans Mikelson 2/18/97 \n; ************************************************************************\n\n\n; GEN functions **********************************************************\n; Sine\nf1  0   8192  10   1 .02 .01\nf2  0   1024  10   1 0 .2 0 .1 0 .05 0 .02\n\n; Rotating Speaker Filter Envelopes\nf3   0    256   7  0   110  0 18 1 18 0  110 0\nf4   0    256   7  0    80 .2 16 1 64 1   16 .2 80 0  \n\n; Distortion Tables\nf5 0 8192   8 -.8 336 -.78  800 -.7 5920 .7  800 .78 336 .8\nf6 0 8192   8 -.8 336 -.76 3000 -.7 1520 .7 3000 .76 336 .8\n\n; score ******************************************************************\n\nt 0 200\n\n;  Tone Wheel Organ\n\n;  Start Dur   Amp   Pitch SubFund Sub3rd Fund 2nd 3rd 4th 5th 6th 8th\ni1   0    6    200    8.04   8       8     8    8   3   2   1   0   4\ni1   0    6    .      8.11   .       .     .    .   .   .   .   .   .\ni1   0    6    .      9.02   .       .     .    .   .   .   .   .   .\ni1   6    1    .      8.04   .       .     .    .   .   .   .   .   .\ni1   6    1    .      8.09   .       .     .    .   .   .   .   .   .\ni1   6    1    .      9.01   .       .     .    .   .   .   .   .   .\ni1   7    1    .      8.04   .       .     .    .   .   .   .   .   .\ni1   7    1    .      8.11   .       .     .    .   .   .   .   .   .\ni1   7    1    .      9.02   .       .     .    .   .   .   .   .   .\ni1   8    1    .      8.04   .       .     .    .   .   .   .   .   .\ni1   8    1    .      8.09   .       .     .    .   .   .   .   .   .\ni1   8    1    .      9.01   .       .     .    .   .   .   .   .   .\ni1   9    8    .      8.04   .       .     .    .   .   .   .   .   .\ni1   9    8    .      8.08   .       .     .    .   .   .   .   .   .\ni1   9    8    .      8.11   .       .     .    .   .   .   .   .   .\ni1   17   16   200   10.04   8       8     8    5   3   2   1   .   3\n\n;   Rotating Speaker\n;   Start  Dur  Offset  Sep\ni3    0    33.2  .5     .2\n;i4    0    33.2  .1     .1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for EXPLOSION STARTING WITH DX-100 PATCH using oscillator and resonant filter and reverb effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from explosion.orc and explosion.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n\ngaoutl\tinit\t\t0\ngaoutr\tinit\t\t0\ngain1\tinit\t\t0\ngain2\tinit\t\t0\n\ngifeed\tinit\t\t.5\ngilp1\tinit\t\t1/10\ngilp2\tinit\t\t1/23\ngilp3\tinit\t\t1/41\ngiroll\tinit\t\t3000\n\n\n\t\tinstr 1\t\t\t; EXPLOSION STARTING WITH DX-100 PATCH \n\nidur\t\t=\t\tp3\niamp\t\t=\t\tp4\nifqc\t\t=\t\tp5\niatk\t\t=\t\tp6\nipanl\t=\t\tp7\nipanr\t=\t\t1-p7\naop4\t\tinit\t\t0\n\n; OPERATOR ENVELOPES\nkamp\t\tlinseg\t0, .001, iamp, idur-.002, iamp, .001, 0 \nkamp1\tlinseg\t0, .01*iatk, 1, .2*idur, .8, .8*idur, 0 \nkamp2\tlinseg\t0, .01*iatk, 1, .2*idur, .8, .8*idur, 0 \nkamp3\tlinseg\t0, .01*iatk, 1, .2*idur, .8, .8*idur, 0 \nkamp4\tlinseg\t0, .01*iatk, 1, .2*idur, .8, .8*idur, 0 \n\n; RANDOM LFO\nkfqc\t\trandh\tifqc, 200\n\n; FM ALGORITHM\naop4\t\toscil\t10*kamp4, 3*(1+.8*aop4)*kfqc, 1 \naop3\t\toscil\t20*kamp3, .5*(1+aop4)*kfqc, 1\naop2\t\toscil\t16*kamp2, 5.19*kfqc, 1\naop1\t\toscil\t2*kamp1, .5*(1+aop2+aop3)*kfqc, 1 \n\n; FILTER OUT A BIT OF THE THE NOISE.\naout\t\ttone\t\taop1, ifqc*10\n\n; SEND TO REVERB\n\ngain1\t=\t\tgain1+aout*kamp*ipanl\ngain2\t=\t\tgain2+aout*kamp*ipanr\n\nendin\n\n\t\tinstr 2\t\t\t; EXPLOSION BASED ON FILTERED NOISE USED TO BULK UP EXPLOSION 1 \n\nidur\t\t=\t\tp3\niamp\t\t=\t\tp4\nifqc\t\t=\t\tp5\nipanl\t=\t\tp6\nipanr\t=\t\t1-p6\n\n; ENVELOPES\nkampenv\tlinseg\t0, .001, 1, idur-.002, 1, .001, 0 \nkamp\t\texpseg\t.0001, .1*idur, 1, .2*idur, .1, .7*idur, .0001 \nkrezenv\tlinseg\tifqc/10, .05*idur, ifqc, .1*idur, ifqc/20, .01, ifqc/20 \n\n; FILTERED NOISE\narand1\trand\t\tiamp\narez1\treson\tarand1, krezenv, krezenv/6\narez1\ttone\t\tarand1, krezenv ;, krezenv/6\nabal1\tbalance\tarez1, arand1\n\n\t\touts\t\tabal1*kampenv*ipanl, abal1*kampenv*ipanr \n\n\t\tendin\n\n\t\tinstr 3\t\t\t; RAY GUN I CAME UP WITH THIS WHILE TRYING TO MAKE AN EXPLOSION. \n\nidur\t\t=\t\tp3\niamp\t\t=\t\tp4\nifqc\t\t=\t\tp5\nipanl\t=\t\tp6\nipanr\t=\t\t1-p6\n\n; ENVELOPES\nkampenv\tlinseg\t0, .001, 1, idur-.002, 1, .001, 0 \nkrezenv\tlinseg\tifqc, .02, ifqc*4, .5*idur, ifqc/2, .01, ifqc/2 \n\n; FILTERED NOISE\narand1\trand\t\tiamp\narez1\treson\tarand1, krezenv, krezenv/5\nabal1\tbalance\tarez1, arand1\n\n; SEND TO ECHO\ngaoutl\t=\t\tabal1*kampenv*ipanl + gaoutl\ngaoutr\t=\t\tabal1*kampenv*ipanr + gaoutr\n\n\t\tendin\n\n\t\tinstr 4\t\t\t; ECHO\n\nadel1l\tinit\t\t0\nadel1r\tinit\t\t0\nadel2l\tinit\t\t0\nadel2r\tinit\t\t0\n\nkampenv\tlinseg\t0, .01, 1, p3-.02, 1, .01, 0 \n\n; ADD FEEDBACK FROM TWO DELAY LINES TOGETHER \nadell\t=\t\tadel1l + adel2l\nadelr\t=\t\tadel1r + adel2r\n\n; IN PUT FROM GLOBAL .6 WILL INCREASE OVER TIME \n; VALUES LESS THAN .5 SHOULD FADE.\nasigl\t=\t\tgaoutl + .6*adell\nasigr\t=\t\tgaoutr + .6*adelr\n\n; I THOUGHT I WOULD FILTER IT A BIT.\nafiltl\ttone\t\tasigl, 2000\nafiltr\ttone\t\tasigr, 2000\n\n; STEREO DELAY WITH DUAL TAPS.\nadell\tdelayr\t.5\nadel1l\tdeltap\t.1\nadel2l\tdeltap\t.3\n\t\tdelayw\tafiltl\nadelr\tdelayr\t.5\nadel1r\tdeltap\t.1\nadel2r\tdeltap\t.3\ndelayw\tafiltr\n\n\t\touts\t\tasigl*kampenv*2, asigr*kampenv*2\n\n; RESET GLOBALS TO ZERO\ngaoutl\t=\t\t0\ngaoutr\t=\t\t0\n\n\t\tendin\n\n; ERIC LYON'S REVERB\n\n;i1 0 dur FILE SKIP GAIN %ORIG INPUTDUR ATK \n\t\tinstr 11\ninputdur\t=\t\tp6\niatk\t\t=\t\tp7\nidk\t\t=\t\t.01\nidecay\t=\t\t.01\n;DATA FOR OUTPUT ENVELOPE\nioutsust\t=\t\tp3-idecay\nidur\t\t=\t\tinputdur-(iatk+idk)\nisust\t=\t\tp3-(iatk+idur+idk)\niorig\t=\t\tp5\nirev\t\t=\t\t1.0-p5\n\nigain\t=\t\tp6\nkclean\tlinseg\t0,iatk,igain,idur,igain,idk,0,isust,0 \nkout\t\tlinseg\t1,ioutsust,1,idecay,0\n; ain1,ain2 soundin ifile,iskip\nain1\t\t=\t\tgain1\nain2\t\t=\t\tgain2\nain1\t\t=\t\tain1*kclean\nain2\t\t=\t\tain2*kclean\najunk\talpass\tain1,1.7,.1\naleft\talpass\tajunk,1.01,.07\najunk\talpass\tain2,1.5,.2\naright\talpass\tajunk,1.33,.05\n\nkdel1\trandi\t.01,1,.666\nkdel1\t=\t\tkdel1 + .1\naddl1\tdelayr\t.3\nafeed1\tdeltapi\tkdel1\nafeed1\t=\t\tafeed1 + gifeed*aleft\n\t\tdelayw\taleft\n\nkdel2\trandi\t.01,.95,.777\nkdel2\t=\t\tkdel2 + .1\naddl2\tdelayr\t.3\nafeed2\tdeltapi\tkdel2\nafeed2\t=\t\tafeed2 + gifeed*aright\n\t\tdelayw\taright\n; GLOBAL REVERB\n\naglobin\t=\t\t(afeed1+afeed2)*.05\natap1\tcomb\t\taglobin,3.3,gilp1\natap2\tcomb\t\taglobin,3.3,gilp2\natap3\tcomb\t\taglobin,3.3,gilp3\naglobrev\talpass\tatap1+atap2+atap3,2.6,.085 \naglobrev\ttone\t\taglobrev,giroll\n\nkdel3\trandi\t.003,1,.888\nkdel3\t=\t\tkdel3 + .05\naddl3\tdelayr\t.2\nagr1\t\tdeltapi\tkdel3\n\t\tdelayw\taglobrev\n\nkdel4\trandi\t.003,1,.999\nkdel4\t=\t\tkdel4 + .05\naddl4\tdelayr\t.2\nagr2\t\tdeltapi\tkdel4\n\t\tdelayw\taglobrev\n\narevl\t=\t\tagr1+afeed1\narevr\t=\t\tagr2+afeed2\naoutl\t=\t\t(ain1*iorig)+(arevl*irev)\naoutr\t=\t\t(ain2*iorig)+(arevr*irev)\n\t\touts\t\taoutl*kout,aoutr*kout\ngain1\t=\t\t0\ngain2\t=\t\t0\n\t\tendin\n\n\t\tinstr 12\ninputdur\t=\t\t p8\niatk\t\t=\t\tp9\nidk\t\t=\t\t.01\nidecay\t=\t\t.01\n; DATA FOR OUTPUT ENVELOPE\nioutsust\t=\t\tp3-idecay\nidur\t\t=\t\tinputdur-(iatk+idk)\nisust\t=\t\tp3-(iatk+idur+idk)\niorig\t=\t\tp7\nirev\t\t=\t\t1.0-p7\n\nifile\t=\t\tp4\niskip\t=\t\tp5\nigain\t=\t\tp6\n; FOR MONO INPUT\nkout\t\tlinseg\t1,ioutsust,1,idecay,0\nasigin\tsoundin\tifile,iskip\nasigin\t=\t\tasigin * igain\najunk\talpass\tasigin,1.7,.1\naleft\talpass\tajunk,1.01,.07\najunk\talpass\tasigin,1.5,.2\naright\talpass\tajunk,1.33,.05\n\nkdel1\trandi\t.01,1,.666\nkdel1\t=\t\tkdel1 + .1\naddl1\tdelayr\t.3\nafeed1\tdeltapi\tkdel1\nafeed1\t=\t\tafeed1 + gifeed*aleft\n\t\tdelayw\taleft\n\nkdel2\trandi\t.01,.95,.777\nkdel2\t=\t\tkdel2 + .1\naddl2\tdelayr\t.3\nafeed2\tdeltapi\tkdel2\nafeed2\t=\t\tafeed2 + gifeed*aright\n\t\tdelayw\taright\n; GLOBAL REVERB\n\naglobin\t=\t\t(afeed1+afeed2)*.05\natap1\tcomb\t\taglobin,3.3,gilp1\natap2\tcomb\t\taglobin,3.3,gilp2\natap3\tcomb\t\taglobin,3.3,gilp3\naglobrev\talpass\tatap1+atap2+atap3,2.6,.085 \naglobrev\ttone\t\taglobrev,giroll\n\nkdel3\trandi\t.003,1,.888\nkdel3\t=\t\tkdel3 + .05\naddl3\tdelayr\t.2\nagr1\t\tdeltapi\tkdel3\n\t\tdelayw\taglobrev\n\nkdel4\trandi\t.003,1,.999\nkdel4\t=\t\tkdel4 + .05\naddl4\tdelayr\t.2\nagr2\t\tdeltapi\tkdel4\n\t\tdelayw\taglobrev\n\narevl\t=\t\tagr1+afeed1\narevr\t=\t\tagr2+afeed2\n; aoutl\t=\t\t(ain1*iorig)+(arevl*irev)\n; aoutr\t=\t\t(ain2*iorig)+(arevr*irev)\n;\t\touts\t\taoutl*kout,aoutr*kout\n\t\tendin\n\n\n</CsInstruments>\n<CsScore>\n; Score begins here\n\nf1 0 8192 10 1\nf2 0 2048 1 10 0 6 0\n;f3 0 8192 7 1 8192 -1\nf4 0 8192 7 0 2 .5 1 1 8189 0\n\nt 0 100\n\n; Ray Gun\n; Start Dur Amp Pitch Pan\ni3 0 1 1000 600 1\ni3 0 .5 800 4000 .2\ni3 .5 1 1000 800 0\ni3 .5 .5 800 2000 .8\ni4 0 2.2\n;i3 7 .9 500 700 .7\n;i3 7 .4 400 3000 .5\n;i4 7 2.2\n\n; Explosion\n; Sta Dur Amp Freq Atk Pan\ni1 2 4 1000 50 1 .8\ni1 2.2 1.5 800 400 1 .3\ni1 2.6 6 1200 50 40 .5\ni1 3.2 6 1200 50 100 .7\ni2 2.3 1 2000 200   .2\ni2 2.3 1.5 2000 160 .7\ni2 2.3 2 2000 100   .6\n\n;i1 9     4 600 150 1 .8\n;i1 9.2 1.5 400 200 1 .3\n;i1 9.6 6 700 150 40 .5\n;i1 9.2 6 700 80 100 .7\n;i2 9.3 1 1600 200  .2\n;i2 9.3 1.5 1300 160     .7\n;i2 9.3 2 1200 100  .6\n\n; Reverb\n;i1 0 dur gain %orig inputdur atk\ni11 0 12 1 .5 10    .5\n;i11 9 12 1 .5 10   .5\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur\t\t=\t    \tp3 using oscillator and analog-style oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from moogvco1.orc and moogvco1.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n;---------------------------------------------------------------\n; A SET OF ANALOG MODELING INSTRUMENTS USING RESONANT LOW-PASS\n; FILTER BY HANS MIKELSON NOVEMBER 1998\n;---------------------------------------------------------------\n\nzakinit 50, 50\n\n;---------------------------------------------------------------\n; LFO\n;---------------------------------------------------------------\n\t\tinstr   \t5\n\nidur\t\t=\t    \tp3\niamp\t\t=\t    \tp4\nifqc\t\t=\t    \tp5\niwave\t=\t    \tp6\nioffset\t=\t    \tp7\nioutch\t=\t    \tp8\n\nksig\t\toscil   \tiamp, ifqc, iwave\nkout\t\t=\t    \tksig*.5+ioffset\n\t\tzkw\t    \tkout, ioutch\n\n\t\tendin\n\n;---------------------------------------------------------------\n; VCO WITH REZZY FILTER\n;---------------------------------------------------------------\n\t\tinstr\t11\n\nidur\t\t=\t    \tp3\t\t\t\t\t; DURATION\niamp\t\t=\t    \tp4\t\t\t\t\t; AMPLITUDE\nifqc\t\t=\t    \tcpspch(p5)\t\t\t; FREQUENCY\nirtfqc\t=\t    \tsqrt(ifqc)\t\t\t; SQUARE ROOT OF FREQUENCY\nifco\t\t=\t    \tp6*ifqc/500\t\t\t; FILTER CUT OFF (HIGHER FREQUENCIES GET A HIGHER CUT OFF)\nkrez\t\tinit    \tp7\t\t\t\t\t; RESONANCE DOES NOT CHANGE IN THIS INSTRUMENT\niwave\t=\t    \tp8\t\t\t\t\t; SELECTED WAVE FORM 1=SAW, 2=SQUARE/PWM, 3=TRI/SAW-RAMP-MOD\nipwch\t=\t    \tp9\t\t\t\t\t; PWM CHANNEL\nipbend\t=\t    \tp10\t\t\t\t\t; PITCH BEND TABLE\nisine\t=\t    \t1\nimaxd\t=\t    \t2*ifqc\n\nileak\t=\t    \t(iwave==2 ? .999 : (iwave==3 ? .995 : .999)) ; LEAKY INTEGRATION VALUE\n\nkpw\t\tzkr\t    \tipwch\t\t\t\t\t\t\t\t; READ THE ZAK MODULATION CHANNEL\nkpwn\t\t=\t    \tkpw-.5\t\t\t\t\t\t\t\t; GET A PULSE WIDTH THAT GOES FROM -.5 TO .5\nkfco\t\texpseg  \t100+.5*ifco, .2*idur, ifco+100, .5*idur, ifco*.8+100, .1*idur, .5*ifco+100 ; FILTER ENVELOPE\nkpbend\toscil   \t1, 1/idur, ipbend  \t\t\t\t\t\t\t\t\t\t\t\t; PITCH BEND\nkamp\t\tlinseg  \t0, .01*idur, iamp, .2*idur, .9*iamp, .59*idur, .9*iamp, .2*idur, 0\t\t; AMP ENVELOPE\naamp\t\tinterp  \tkamp\nkfqc\t\t=\t    \tifqc*kpbend\n\nasig\t\tvco\t    \t1, kfqc, iwave, kpw, isine, imaxd\n\naout\t\trezzy   \tasig, kfco*kpbend, krez\t\t\t\t    \t; APPLY THE FILTER\n\n\t\touts    \taout*aamp, aout*aamp\t\t\t\t\t; STEREO OUPUT AND AMPLIFICATION\n\t\tendin\n\n;---------------------------------------------------------------\n; MOOG VCO WITH MIKLESON FILTER\n;---------------------------------------------------------------\n\t\tinstr\t12\n\nidur\t\t=\t    \tp3\t\t\t\t\t\t; DURATION\niamp\t\t=\t    \tp4\t\t\t\t\t\t; AMPLITUDE\nifqc\t\t=\t    \tcpspch(p5)\t\t\t\t; FREQUENCY\nirtfqc\t=\t    \tsqrt(ifqc)\t\t\t\t; SQUARE ROOT OF FREQUENCY\nifco\t\t=\t    \tp6*ifqc/500\t\t\t\t; FILTER CUT OFF (HIGHER FREQUENCIES GET A HIGHER CUT OFF)\nkrez\t\tinit    \tp7\t\t\t\t\t\t; RESONANCE DOES NOT CHANGE IN THIS INSTRUMENT\niwave\t=\t    \tp8\t\t\t\t\t\t; SELECTED WAVE FORM 1=SAW, 2=SQUARE/PWM, 3=TRI/SAW-RAMP-MOD\nipwch\t=\t    \tp9\t\t\t\t\t\t; PWM CHANNEL\nipbend\t=\t    \tp10\t\t\t\t\t\t; PITCH BEND TABLE\nisine\t=\t    \t1\nimaxd\t=\t    \t2*ifqc\n\nileak\t=\t    \t(iwave==2 ? .999 : (iwave==3 ? .995 : .999)) ; LEAKY INTEGRATION VALUE\n\nkpw\t\tzkr\t    \tipwch\t\t\t\t\t; READ THE ZAK MODULATION CHANNEL\nkpwn\t\t=\t    \tkpw-.5\t\t\t\t\t; GET A PULSE WIDTH THAT GOES FROM -.5 TO .5\nkfco\t\texpseg  \t100+.1*ifco, .2*idur, ifco+100, .5*idur, ifco*.2+100, .1*idur, .4*ifco+100 ; FILTER ENVELOPE\nkpbend\toscil   \t1, 1/idur, ipbend  \t\t\t\t\t\t\t\t\t\t\t\t; PITCH BEND\nkamp\t\tlinseg  \t0, .01*idur, iamp, .2*idur, .8*iamp, .59*idur, .5*iamp, .2*idur, 0\t\t; AMP ENVELOPE\naamp\t\tinterp  \tkamp\nkfqc\t\t=\t    \tifqc*kpbend\n\nasig\t\tvco\t    \t1, kfqc, iwave, kpw, isine, imaxd\n\naout\t\trezzy   \tasig, kfco*kpbend, krez\t\t\t\t    \t; APPLY THE FILTER\n\n\t\touts    \taout*aamp, aout*aamp\t\t\t\t\t; STEREO OUPUT AND AMPLIFICATION\n\t\tendin\n\n;---------------------------------------------------------------\n; MOOG VCO WITH MIKLESON FILTER\n;---------------------------------------------------------------\n\t\tinstr\t13\n\t\t\t\t\t\t\t\t\t\t\nidur\t\t=\t    \tp3\t\t\t\t\t\t\t\t\t; DURATION\niamp\t\t=\t    \tp4\t\t\t\t\t\t\t\t\t; AMPLITUDE\nifqc\t\t=\t    \tcpspch(p5)\t\t\t\t\t\t\t; FREQUENCY\nirtfqc\t=\t    \tsqrt(ifqc)\t\t\t\t\t\t\t; SQUARE ROOT OF FREQUENCY\nifco\t\t=\t    \tp6*ifqc/500\t\t; FILTER CUT OFF (HIGHER FREQUENCIES GET A HIGHER CUT OFF)\nkrez\t\tinit    \tp7\t\t\t\t; RESONANCE DOES NOT CHANGE IN THIS INSTRUMENT\niwave\t=\t    \tp8\t\t\t\t; SELECTED WAVE FORM 1=SAW, 2=SQUARE/PWM, 3=TRI/SAW-RAMP-MOD\nisine\t=\t    \t1\nimaxd\t=\t    \t2/ifqc\n\nkpw\t\tinit    \t.5\t\t  \t\t; READ THE ZAK MODULATION CHANNEL\nkfco\t\texpseg  \t100+.1*ifco, .2*idur, ifco, .6*idur, ifco, .2*idur, .4*ifco+100\t  ; FILTER ENVELOPE\nkamp\t\tlinseg  \t0, .2*idur, iamp, .6*idur, iamp, .2*idur, 0  ; AMP ENVELOPE\naamp\t\tinterp  \tkamp\nkvibr\toscil   \t.002, 6, 1\nkfqc\t\t=\t   \tifqc*(1 + kvibr)\nkfclf1\toscil   \t.5, .5, 1\nkfclf2\toscil   \t.5, .6, 1\n\nasig1\tvco\t    \t1, kfqc*.998,  iwave, kpw, isine, imaxd\nasig2\tvco\t    \t1, kfqc*.999,  iwave, kpw, isine, imaxd\nasig3\tvco\t    \t1, kfqc*1.001, iwave, kpw, isine, imaxd\nasig4\tvco\t    \t1, kfqc*1.002, iwave, kpw, isine, imaxd\n\naoutl1\trezzy   \tasig1+asig3, kfco*0.99*(1+kfclf1), krez\t\t   ; APPLY THE FILTER\naoutr1\trezzy   \tasig2+asig4, kfco*1.01*(1+kfclf2), krez\t\t   ; APPLY THE FILTER\naoutl2\trezzy   \tasig1+asig3, kfco*1.51*(1+kfclf1), krez\t\t   ; APPLY THE FILTER\naoutr2\trezzy   \tasig2+asig4, kfco*1.49*(1+kfclf2), krez\t\t   ; APPLY THE FILTER\n\n\t\touts    \t(aoutl1+aoutl2)*aamp, (aoutr1+aoutr2)*aamp\t   ; STEREO OUPUT AND AMPLIFICATION\n\t\tendin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 16384 10 1\nf2 0 1024\t -7 1 256 1 56 2 200 2 56 1.5 200 1.5 56 1 200 1\nf3 0 1024\t -7 1 1024 1\nf4 0 1024\t -7 1 300 1 62 1.1246 300 1.1246 62 1.0 300 1.0\n\nt 0 120\n\n; LFO NOTE 0<PWM<1\n;   STA  DUR  AMP  FQC  WAVE\tOFFSET  OUTCH\ni5  0    32   .5   .1   1\t.5\t    1\n\n; SYNTH WAVE 1=SAW, 2=SQUARE/PWM, 3=TRI/SAW-RAMP-MOD\n;   STA  DUR  AMP   PITCH  FCO   REZ  WAVE  PULSEWCH  PBEND\ni12 0    .63  20000 5.04\t  4000  20   2\t    1\t    3\ni12 +    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\n;\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .60  20000 5.11\t  .\t   .\t   .\t    .\t    .\ni12 .    .40  15000 5.10\t  .\t   .\t   .\t    .\t    .\n;\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\n;\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .63  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .37  15000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .34  20000 5.04\t  .\t   .\t   .\t    .\t    .\ni12 .    .33  15000 5.03\t  .\t   .\t   .\t    .\t    .\ni12 .    .33  15000 5.02\t  .\t   .\t   .\t    .\t    .\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for TABLE BASED REZZY SYNTH WITH ENVELOPED RESONANCE using oscillator and panning and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from tb305.orc and tb305.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         44100\nksmps          =         1\nnchnls         =         2\n\n;\n;-------------------------------------------------------------------------\n; TB WANNABE\n;-------------------------------------------------------------------------\n\n\n;-------------------------------------------------------------------------\n\ninstr          15        ; TABLE BASED REZZY SYNTH WITH ENVELOPED RESONANCE\n;-------------------------------------------------------------------------\n; A WHOLE BUNCH OF INITIALIZATIONS.\n;-------------------------------------------------------------------------\n\ninumsteps      =         16\nidur           =         p3\niamp           =         p4\nitabl1         =         p5\niaccent        =         p6\nienvdepth      =         p7\nifdecay        =         p8\niadecay        =         p9\nkvalley        init      0\nkpeak          init      0\nknewval        init      1\nknewpk         init      1\nksaveval       init      0\nksavepk        init      0\nkynm1          init      0\nkynm2          init      0\nktynm1         init      0\nktynm2         init      0\nkfrangenm1     init      0\nkfrangenm2     init      0\nknewrez        init      0\nkfsweep        init      30\nkstep          init      0\nknxtstp        init      1\n\n; LFO FREQUENCY SWEEP\n;-------------------------------------------------------------------------\n  kfsweep      oscil     1, 1/idur, 30\n  krez         oscil     1, 1/idur, 31\n\n; SEQUENCER SECTION\n;-------------------------------------------------------------------------\n  loop1:\n;     READ THE DURATION FOR THE CURRENT STEP OF THE SEQUENCE.\n      kdur          table     kstep, 21\n      kdur1         =         kdur/6                   ; MAKE THE STEP SMALLER.\n\n;     FREQUENCY ENVELOPE\n      kfco          expseg    (1-ienvdepth)*i(kfsweep)+10, .01, i(kfsweep), ifdecay, (1-ienvdepth)*i(kfsweep)+10\n\n;     AMPLITUDE ENVELOPE\n      kaenv         expseg    .00001, .01, 1, i(kdur1)-.02, iadecay, .01, .00001\n\n;     PANNING\n      kpanleft      table     kstep, 22\n      kpanright     table     kstep, 23\n\n;     PITCH FOR THE STEP OF THE SEQUENCE.\n      kpch1         table     kstep, 20\n      kfqc1         =         cpspch(kpch1)\n\n;     PITCH FOR THE NEXT STEP NEED FOR SLIDING TO THE NEXT STEP.\n      kpch2         table     knxtstp, 20\n      kfqc2         =         cpspch(kpch2)\n\n;     IF THE SLIDE IS TURNED ON THEN SLIDE UP TO THE NEXT STEP OTHERWISE \n;     DON\u0007T.\n      kslide        table     knxtstp, 24\n\n      if  (i(kslide) = 0)     goto skipslide\n        kfqc        linseg    i(kfqc1), i(kdur1)-.06, i(kfqc1), .06, i(kfqc2)\n        goto        nxtslide\n      skipslide:\n        kfqc        =         kfqc1\n      nxtslide:\n\n;     WHEN THE TIME RUNS OUT GO TO THE NEXT STEP OF THE SEQUENCE AND \n;     REINITIALIZE THE ENVELOPES.\n                    timout    0, i(kdur1), cont1\n        kstep       =         frac((kstep + 1)/inumsteps)*inumsteps\n        knxtstp     =         frac((kstep + 1)/inumsteps)*inumsteps\n\n        reinit      loop1\n  cont1:\n\n; START WITH MY LOW PASS RESONANT FILTER.\n\n; THIS RELATIONSHIP ATTEMPTS TO SEPARATE FREQ. FROM RES.\n    ka1             =         100/krez/sqrt(kfco)-1\n    kta1            =         100/sqrt(kfco)-1\n    ka2             =         1000/kfco\n\n; OSCILLATOR\n  kxn               oscil     iamp, kfqc, itabl1\n\n; REPLACE THE DIFFERENTIAL EQ. WITH A DIFFERENCE EQ.\n  kyn               =         ((ka1+2*ka2)*kynm1-ka2*kynm2+kxn)/(1+ka1+ka2)\n  ktyn              =         ((kta1+2*ka2)*ktynm1-ka2*ktynm2+kxn)/(1+kta1+ka2)\n\n; EXTRACT THE RESONANCE FROM THE FILTERED SIGNAL.\n  koldrez           =         knewrez\n  knewrez           =         kyn-ktyn\n\n; THIS SECTION DETERMINES CURRENT PEAK AND VALLEY VALUES AND THE RANGE.\n; AS LONG AS THE SIGNAL RISES IT TRACKS PEAK.  WHEN IT FALLS IT UPDATES\n; PEAK AND TRACKS VALLEY.\n\n  if      (koldrez>=knewrez)  goto next1\n    if    (knewval != 1)      goto next2\n      knewval       =         0\n      knewpk        =         1\n      kvalley       =         ksaveval\nnext2:         \n    ksavepk         =         knewrez\n\nnext1:\n  if      (koldrez<=knewrez)  goto next 3\n    if    (knewpk != 1)       goto next4\n      knewpk        =         0\n      knewval       =         1\n      kpeak         =         ksavepk\nnext4:\n    ksaveval        =         knewrez\n\nnext3:\n; THE CURRENT RANGE IS CALCULATED AND LOW PASS FILTERED.\n  krangen           =         abs(kpeak-kvalley)\n  kfrangen          =         ((kta1+2*ka2)*kfrangenm1-ka2*kfrangenm2+krangen)/(1+kta1+ka2)\n\n; THE FILTERED RANGE IS USED TO ENVELOPE THE RESONANCE THEN DISTORTION IS \n;ADDED.\n  kclip1            =         knewrez*kfrangen/krez/120000000\n  kclip             tablei    kclip1, 7, 1, .5\n  kout              =         ktyn + kclip*40000\n\n; UPDATE EVERYTHING FOR THE NEXT PASS.\n  kynm2             =         kynm1\n  kynm1             =         kyn\n  ktynm2            =         ktynm1\n  ktynm1            =         ktyn\n  kfrangenm2        =         kfrangenm1\n  kfrangenm1        =         kfrangen\n\n; CONVERT TO AUDIO RATES\n  aout              =         kout\n\n; AMP ENVELOPE, PAN AND OUTPUT\n                    outs      kaenv*kpanleft*aout, kaenv*kpanright*aout\n\nendin\n\n</CsInstruments>\n<CsScore>\n; INSTRUMENT IN THE STYLE OF THE TB303 WITH BUILT IN SEQUENCER.\n\nf10 0  1024   8  1  256 .2  128 0 256 -.2 256  -1\n\n; DISTORTION TABLE\n;----------------------------------------------------------------------\nf7 0 1024   8 -.8 42 -.78  200 -.74 200 -.7 140 .7  200 .74 200 .78 42 .8\n\n; 16 STEP SEQUENCER\n;----------------------------------------------------------------------\n; STEP          1     2     3     4     5     6     7     8     9     10    11    12    13    14    15    16\n; PITCH TABLE\nf20  0  16  -2  7.00  7.00  7.00  7.00  7.05  7.00  7.00  7.00  7.05  6.00  7.07  7.00  7.05  7.00  7.00  7.00\nf20  4   8  -2  7.00  6.00  7.00  6.00  6.05  6.00  6.05  6.00  6.10  6.07  6.05  6.03  6.02  6.00  7.00  7.00\n\n; DUR TABLE\nf21  0 16  -2   .5    .5    .5    1     .5    1     1     .5    1     1     .5    .5    .5    .5    1     .5\nf21  4 16  -2   .5    .5    .5    .5    .5    .5    1     .5    .5    .5    .5    .5    .5    1.5   1     2\n\n; PANNING AMPLITUDE TABLE  22=LEFT 23=RIGHT\nf22  0 16  -2   1     0     1     1     0     0     1     1    1     0     1     1     1     0     1     1\nf23  0 16  -2   0     1     1     0     0     1     1     0    0     1     1     0     1     1     1     0\n\n; SLIDE TABLE\nf24  0  8  -2   0     0     0     1     0     0     0     1    0     0     0     0     1     0     0     0\n\n; FREQUENCY SWEEP TABLE USED TO SIMULATE \"REAL TIME\" TWISTING OF THE KNOB.\nf30  0  256  -7  50 128 2000 128 50\nf30  1  256  -7  100 64 500 64 50 64 200 64 1000\n\n; RESONANCE SWEEP TABLE USED TO SIMULATE \"REAL TIME\" TWISTING OF THE KNOB.\nf31  0  256  -7  40 128 80 128 40\n\n; SCORE\n;----------------------------------------------------------------------\n; ENVELOPED DISTORTION FILTER\n;        Dur  Amp   Wave  Accent  EnvDepth  FreqDecay  AmpDecay\ni15  0   4    6000  10    0       1         .1         .5\ni15  +   4    6000  10    0       .99       .2         .2\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for gispeedi init   gispeedf    ;Save old speed using oscillator and Butterworth lowpass filter and Butterworth bandpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from rotortxt.orc and rotortxt.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 2205\nksmps  = 20\nnchnls = 2\n\n;------------------------------------------------------------------------\n; TONE WHEEL ORGAN WITH ROTATING SPEAKER\n;------------------------------------------------------------------------\n\n\n;------------------------------------------------------------------------\n; GLOBAL INITIALIZATION\n;------------------------------------------------------------------------\n\n         instr 1\ngispeedf init  p4           ;Initialize rotor speed\n         endin\n        \n;------------------------------------------------------------------------\n; THIS INSTRUMENT ACTS AS THE FOOT SWITCH CONTROLLING ROTOR SPEEDS.\n;------------------------------------------------------------------------\n         instr 2\n\ngispeedi init   gispeedf    ;Save old speed\ngispeedf init   p4          ;update new speed\n\ngkenv    linseg gispeedi*.8,1,gispeedf*.8,.01,gispeedf*.8 ;High freq. rotor acceleration\ngkenvlow linseg gispeedi*.7,2,gispeedf*.7,.01,gispeedf*.7 ;Low freq. rotor acceleration\n\n         endin\n\n;------------------------------------------------------------------------\n; TONE WHEEL ORGAN\n;------------------------------------------------------------------------\n         instr 3\n\ngaorgan  init  0                       ;Global send to speaker\niphase   init  p2                      ;Continuous phase change based on p2\nikey     init  12*int(p5-6)+100*(p5-6) ;Keyboard key pressed.\nifqc     init  cpspch(p5)              ;Convert to cycles/sec.\niwheel1  init  ((ikey-12) > 12 ? 1:2)  ;The lower 12 tone wheels have\niwheel2  init  ((ikey+7)  > 12 ? 1:2)  ;increased odd harmonic content.\niwheel3  init  (ikey      > 12 ? 1:2)\niwheel4  init  1                       \n  \n;------------------------------------------------------------------------\nkenv     linseg 0,.01,p4,p3-.02,p4,.01,0 ;Amplitude envelope.\n\n;------------------------------------------------------------------------\nasubfund oscil  p6,  .5*ifqc,      iwheel1, iphase/(ikey-12)  ;The organ tone is\nasub3rd  oscil  p7,  1.4983*ifqc,  iwheel2, iphase/(ikey+7)   ;made from adding\nafund    oscil  p8,  ifqc,         iwheel3, iphase/ikey       ;the weighted output\na2nd     oscil  p9,  2*ifqc,       iwheel4, iphase/(ikey+12)  ;of 9 equal temperament\na3rd     oscil  p10, 2.9966*ifqc,  iwheel4, iphase/(ikey+19)  ;tone wheels.\na4th     oscil  p11, 4*ifqc,       iwheel4, iphase/(ikey+24)\na5th     oscil  p12, 5.0397*ifqc,  iwheel4, iphase/(ikey+28)\na6th     oscil  p13, 5.9932*ifqc,  iwheel4, iphase/(ikey+31)\na8th     oscil  p14, 8*ifqc,       iwheel4, iphase/(ikey+36)\n\ngaorgan  =      gaorgan+kenv*(asubfund+asub3rd+afund+a2nd+a3rd+a4th+a5th+a6th+a8th)\n\n         endin\n\n;------------------------------------------------------------------------\n;ROTATING SPEAKER\n;------------------------------------------------------------------------\n         instr  4\n\niioff    init   p4\nisep     init   p5             ;Phase separation between right and left\niradius  init   .00025         ;Radius of the rotating horn.\niradlow  init   .00035         ;Radius of the rotating scoop.\nideleng  init   .02            ;Length of delay line.\n\n;------------------------------------------------------------------------\nasig     =      gaorgan        ;Global input from organ\n\n;------------------------------------------------------------------------\nasig     =      asig/40000     ;Distortion effect using waveshaping.\naclip    tablei asig,5,1,.5    ;A lazy \"S\" curve, use table 6 for increased\naclip    =      aclip*16000    ;distortion.\n\n;------------------------------------------------------------------------\naleslie delayr  ideleng,1      ;Put \"clipped\" signal into a delay line.\n        delayw  aclip\n\n;------------------------------------------------------------------------\nkoscl   oscil   1,gkenv,1,iioff            ;Doppler effect is the result\nkoscr   oscil   1,gkenv,1,iioff+isep       ;of delay taps oscillating\nkdopl   =       ideleng/2-koscl*iradius   ;through the delay line.  Left\nkdopr   =       ideleng/2-koscr*iradius   ;and right are slightly out of phase\naleft   deltapi kdopl                     ;to simulate separation between ears\naright  deltapi kdopr                     ;or microphones\n\n;------------------------------------------------------------------------\nkoscllow  oscil   1,gkenvlow,1,iioff           ;Doppler effect for the\nkoscrlow  oscil   1,gkenvlow,1,iioff+isep      ;lower frequencies.\nkdopllow  =       ideleng/2-koscllow*iradlow\nkdoprlow  =       ideleng/2-koscrlow*iradlow\naleftlow  deltapi kdopllow\narightlow deltapi kdoprlow\n\n;------------------------------------------------------------------------\nalfhi     butterbp aleft,8000,3000     ;Divide the frequency into three\narfhi     butterbp aright,8000,3000    ;groups and modulate each with a\nalfmid    butterbp aleft,3000,2000     ;different width pulse to account\narfmid    butterbp aright,3000,2000    ;for different  dispersion\nalflow    butterlp aleftlow,1000       ;of different frequencies.\narflow    butterlp arightlow,1000\n\nkflohi    oscil    1,gkenv,3,iioff\nkfrohi    oscil    1,gkenv,3,iioff+isep\nkflomid   oscil    1,gkenv,4,iioff\nkfromid   oscil    1,gkenv,4,iioff+isep\n  \n;------------------------------------------------------------------------\n; Amplitude Effect on Lower Speaker\nkalosc    = koscllow*.6+1\nkarosc    = koscrlow*.6+1\n\n; Add all frequency ranges and output the result.\nouts alfhi*kflohi+alfmid*kflomid+alflow*kalosc, arfhi*kfrohi+arfmid*kfromid+arflow*karosc\n\ngaorgan = 0\n\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; TONE WHEEL ORGAN WITH ROTATING SPEAKER REV. 2\n; BY HANS MIKELSON 2/18/97 \n; ************************************************************************\n\n\n; GEN functions **********************************************************\n; Sine\nf1  0   8192  10   1 .02 .01\nf2  0   1024  10   1 0 .2 0 .1 0 .05 0 .02\n\n; Rotating Speaker Filter Envelopes\nf3   0    256   7  .2    110 .4 18 1 18 .4  110 .2\nf4   0    256   7  .4    80  .6 16 1 64 1   16  .6 80 .4  \n\n; Distortion Tables\nf5 0 8192   8 -.8 336 -.78  800 -.7 5920 .7  800 .78 336 .8\nf6 0 8192   8 -.8 336 -.76 3000 -.7 1520 .7 3000 .76 336 .8\n\n; score ******************************************************************\n\nt 0 200\n\n;  TONE WHEEL ORGAN\n; INITIALIZES GLOBAL VARIABLES\ni1 0 1 1\n\n;ins  sta  dur  speed\ni2    0    6     1\ni2    +    6     10\ni2    .    12    1\ni2    .    6     10\n\n;  Start Dur   Amp   Pitch SubFund Sub3rd Fund 2nd 3rd 4th 5th 6th 8th\ni3   0    6    200    8.04   8       8     8    8   3   2   1   0   4\ni3   0    6    .      8.11   .       .     .    .   .   .   .   .   .\ni3   0    6    .      9.02   .       .     .    .   .   .   .   .   .\ni3   6    1    .      8.04   .       .     .    .   .   .   .   .   .\ni3   6    1    .      8.11   .       .     .    .   .   .   .   .   .\ni3   6    1    .      9.04   .       .     .    .   .   .   .   .   .\ni3   7    1    .      8.04   .       .     .    .   .   .   .   .   .\ni3   7    1    .      8.11   .       .     .    .   .   .   .   .   .\ni3   7    1    .      9.02   .       .     .    .   .   .   .   .   .\ni3   8    1    .      8.04   .       .     .    .   .   .   .   .   .\ni3   8    1    .      8.09   .       .     .    .   .   .   .   .   .\ni3   8    1    .      9.01   .       .     .    .   .   .   .   .   .\ni3   9    8    .      8.04   .       .     .    .   .   .   .   .   .\ni3   9    8    .      8.08   .       .     .    .   .   .   .   .   .\ni3   9    8    .      8.11   .       .     .    .   .   .   .   .   .\ni3   17   16   200   10.04   8       4     8    3   1   1   0   .   3\n;i3   20   13   200    9.09   8       4     8    3   1   1   0   .   3\n;i3   23   10   200    8.04   8       4     8    3   1   1   0   .   3 \n;i3   26   7    200    7.04   8       4     8    3   1   1   0   .   3 \n\n;   Rotating Speaker\n;   Start  Dur  Offset  Sep\ni4    0    33.2  .5     .1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for TABLE BASED REZZY SYNTH WITH ENVELOPED RESONANCE using oscillator and panning and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from tb304.orc and tb304.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         44100\nksmps          =         1\nnchnls         =         2\n\n;\n;-------------------------------------------------------------------------\n; TB WANNABE\n;-------------------------------------------------------------------------\n\n\n;-------------------------------------------------------------------------\n\ninstr          15        ; TABLE BASED REZZY SYNTH WITH ENVELOPED RESONANCE\n;-------------------------------------------------------------------------\n; A WHOLE BUNCH OF INITIALIZATIONS.\n;-------------------------------------------------------------------------\n\nidur           =         p3\niamp           =         p4\nifqc           =         cpspch(p5)\nirez           =         p7\nitabl1         =         p8\nkvalley        init      0\nkpeak          init      0\nknewval        init      1\nknewpk         init      1\nksaveval       init      0\nksavepk        init      0\nkynm1          init      0\nkynm2          init      0\nktynm1         init      0\nktynm2         init      0\nkfrangenm1     init      0\nkfrangenm2     init      0\nknewrez        init      0\nkfsweep        init      30\nkstep          init      0\nknxtstp        init      1\n\n; LFO FREQUENCY SWEEP\n;-------------------------------------------------------------------------\n  kfsweep      expseg    30, .5*p3, p6, .5*p3, 30\n\n; SEQUENCER SECTION\n;-------------------------------------------------------------------------\n  loop1:\n;     READ THE DURATION FOR THE CURRENT STEP OF THE SEQUENCE.\n      kdur     table     kstep, 21\n      kdur1    =         kdur/8                   ; MAKE THE STEP SMALLER.\n\n;     FREQUENCY ENVELOPE\n      kfco     expseg    20, .1, i(kfsweep), i(kdur1)-.1, 20\n\n;     AMPLITUDE ENVELOPE\n      kaenv    linseg    0, .01, 1, i(kdur1)-.02, 1, .01, 0\n\n;     PANNING\n      kpanleft      table     kstep, 22\n      kpanright     table     kstep, 23\n\n;     PITCH FOR THE STEP OF THE SEQUENCE.\n      kpch1         table     kstep, 20\n      kfqc1         =         cpspch(kpch1)\n\n;     PITCH FOR THE NEXT STEP NEED FOR SLIDING TO THE NEXT STEP.\n      kpch2         table     knxtstp, 20\n      kfqc2         =         cpspch(kpch2)\n\n;     IF THE SLIDE IS TURNED ON THEN SLIDE UP TO THE NEXT STEP OTHERWISE \n;DON\u0007T.\n      if            (p9 = 0)  goto skipslide\n        kfqc        linseg    i(kfqc1), i(kdur1)-.04, i(kfqc1), .04, i(kfqc2)\n        goto        nxtslide\n      skipslide:\n        kfqc        =         kfqc1\n      nxtslide:\n\n;     WHEN THE TIME RUNS OUT GO TO THE NEXT STEP OF THE SEQUENCE AND \n;REINITIALIZE THE ENVELOPES.\n                    timout    0, i(kdur1), cont1\n        kstep       =         frac((kstep + 1)/8)*8\n        knxtstp     =         frac((kstep + 1)/8)*8\n\n        reinit      loop1\n  cont1:\n\n; START WITH MY LOW PASS RESONANT FILTER.\n\n; THIS RELATIONSHIP ATTEMPTS TO SEPARATE FREQ. FROM RES.\n    ka1             =         100/irez/sqrt(kfco)-1\n    kta1            =         100/sqrt(kfco)-1\n    ka2             =         1000/kfco\n\n; OSCILLATOR\n  kxn               oscil     iamp, kfqc, itabl1\n\n; REPLACE THE DIFFERENTIAL EQ. WITH A DIFFERENCE EQ.\n  kyn               =         ((ka1+2*ka2)*kynm1-ka2*kynm2+kxn)/(1+ka1+ka2)\n  ktyn              =         ((kta1+2*ka2)*ktynm1-ka2*ktynm2+kxn)/(1+kta1+ka2)\n\n; EXTRACT THE RESONANCE FROM THE FILTERED SIGNAL.\n  koldrez           =         knewrez\n  knewrez           =         kyn-ktyn\n\n; THIS SECTION DETERMINES CURRENT PEAK AND VALLEY VALUES AND THE RANGE.\n; AS LONG AS THE SIGNAL RISES IT TRACKS PEAK.  WHEN IT FALLS IT UPDATES\n; PEAK AND TRACKS VALLEY.\n\n  if      (koldrez>=knewrez)  goto next1\n    if    (knewval != 1)      goto next2\n      knewval       =         0\n      knewpk        =         1\n      kvalley       =         ksaveval\nnext2:\n    ksavepk         =         knewrez\n\nnext1:\n  if      (koldrez<=knewrez)  goto next 3\n    if    (knewpk != 1)       goto next4\n      knewpk        =         0\n      knewval       =         1\n      kpeak         =         ksavepk\nnext4:\n    ksaveval        =         knewrez\n\nnext3:\n; THE CURRENT RANGE IS CALCULATED AND LOW PASS FILTERED.\n  krangen           =         abs(kpeak-kvalley)\n  kfrangen          = ((kta1+2*ka2)*kfrangenm1-ka2*kfrangenm2+krangen)/(1+kta1+ka2)\n\n; THE FILTERED RANGE IS USED TO ENVELOPE THE RESONANCE THEN DISTORTION IS \n;ADDED.\n  kclip1            =         knewrez*kfrangen/irez/120000000\n  kclip             tablei    kclip1, 7, 1, .5\n  kout              =         ktyn + kclip*40000\n\n; UPDATE EVERYTHING FOR THE NEXT PASS.\n  kynm2             =         kynm1\n  kynm1             =         kyn\n  ktynm2            =         ktynm1\n  ktynm1            =         ktyn\n  kfrangenm2        =         kfrangenm1\n  kfrangenm1        =         kfrangen\n\n; CONVERT TO AUDIO RATES\n  aout              =         kout\n\n; AMP ENVELOPE, PAN AND OUTPUT\n                    outs      kaenv*kpanleft*aout, kaenv*kpanright*aout\n\nendin\n\n</CsInstruments>\n<CsScore>\n; INSTRUMENT IN THE STYLE OF THE TB303 WITH BUILT IN SEQUENCER.\nt0 500\nf10 0  1024   8  1  256 .2  128 0 256 -.2 256  -1\n\n; DISTORTION TABLE\n;----------------------------------------------------------------------\nf7 0 1024   8 -.8 42 -.78  200 -.74 200 -.7 140 .7  200 .74 200 .78 42 .8\n\n; 8 STEP SEQUENCER\n;----------------------------------------------------------------------\n; STEP         1     2     3     4     5     6     7     8\n; PITCH TABLE\nf20  0   8  -2  7.00  7.00  7.00  7.00  7.05  7.00  7.00  7.00\nf20  3   8  -2  7.00  8.00  7.00  8.00  7.05  8.00  7.05  8.00\nf20  6   8  -2  6.07  7.05  6.07  7.00  7.05  6.07  6.07  6.07\nf20  9   8  -2  6.07  7.05  6.07  7.05  6.00  7.05  7.05  8.00\n\n; DUR TABLE\nf21  0  8  -2  1     1     1     1     1     1     1     1\n\n; PANNING AMPLITUDE TABLE  22=LEFT 23=RIGHT\nf22  0  8  -2  1     0     1     1     1     0     1     1\nf23  0  8  -2  0     1     1     0     1     1     1     0\n\n; SCORE\n;----------------------------------------------------------------------\n; ENVELOPED DISTORTION FILTER\n;        Dur  Amp     Dur   Fco   Res  Wave  Slide(1=On, 0=Off)\ni15  0   6   4000    .125   2000  50   10    1\ni15  6   6   4000    .125   2000  50   10    0\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using oscillator and Karplus-Strong plucked string and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from tanh1.orc and tanh1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n;------------------------------------------------------------------------------\n; MODIFIED HYPERBOLIC DISTORTION\n; CODED BY HANS MIKELSON DECEMBER 1998\n;------------------------------------------------------------------------------\n          zakinit   50, 50\n\n;------------------------------------------------------------------------------\n; PLUCKED INSTRUMENT\n;------------------------------------------------------------------------------\n          instr   1\n\nidur      =         p3                                                          ; Duration\niamp      =         p4                                                          ; Amplitude\nipch      =         cpspch(p5)                                                  ; Pitch\nitab1     =         p6\nioutch    =         p7                                                          ; Out Channel\n\nasig      pluck     iamp, ipch, ipch, itab1, 1                                  ; Generate a plucked tone\n          zawm      asig, ioutch                                                ; Mix to the Zak channel\n\n          endin\n\n;------------------------------------------------------------------------------\n; SINE WAVE\n;------------------------------------------------------------------------------\n          instr   2\n\nidur      =         p3                                                          ; Duration\niamp      =         p4                                                          ; Amplitude\nifqc      =         cpspch(p5)                                                  ; Pitch\nitab1     =         p6\nioutch    =         p7                                                          ; Out Channel\n\nasig      oscil     iamp, ifqc, itab1                                           ; Generate a plucked tone\n          zawm      asig, ioutch                                                ; Mix to the Zak channel\n\n          endin\n\n;------------------------------------------------------------------------------\n; TANH DISTORTION\n;------------------------------------------------------------------------------\n          instr   11\n\nidur      =         p3\nkpregn    =         p4/8000                                                     ; Pregain/Overdrive\nkpostg    =         p5*20000                                                    ; Postgain/Volume\nka1       =         p6/8000                                                     ; Shape 1 0=flat\nka2       =         p7/8000                                                     ; Shape 2\nirect     =         p8                                                          ; Rectification\niinch     =         p9                                                          ; Input Channel\nioutch    =         p10                                                         ; Output Channel\nioutlvl   =         p11                                                         ; Output Level\n\nkdclick   linseg    0, .002, 1, idur-.004, 1, .002, 0                           ; DeClick Envelope\n\nasig      zar       iinch\nkrms      rms       asig, 10\nasig      =         asig + irect*krms\n\nkoffs1    =         irect*krms*(p4/1000+(p6-.5)/8000)\nkoffs2    =         -irect*krms*(p4/1000+(p7-.5)/8000)\nkoffs3    =         irect*krms*p4/1000\nkoffs     =         (exp(koffs1)-exp(koffs2))/(exp(koffs3)+exp(-koffs3))\n\n\nax1       =         asig*(kpregn+ka1)                                           ; Precalculate a few values to save time\nax2       =         -asig*(kpregn+ka2)\nax3       =         asig*kpregn\n\naout      =         ((exp(ax1)-exp(ax2))/(exp(ax3)+exp(-ax3))-koffs)*kpostg     ; modified tanh distortion\n\n          zaw       aout*kdclick, ioutch                                        ; Output the result\n          outs      aout*kdclick*ioutlvl, aout*kdclick*ioutlvl                  ; Output the result\n\n          endin\n\n;------------------------------------------------------------------------------\n; Clear Zak\n;------------------------------------------------------------------------------\n          instr     99\n          zacl      0, 50\n          zkcl      0, 50\n          endin\n\n</CsInstruments>\n<CsScore>\n;------------------------------------------------------------------------------\n; MODIFIED HYPERBOLIC TANGENT DISTORTION\n; CODED BY HANS MIKELSON DECEMBER 1998\n;------------------------------------------------------------------------------\n; PLUCK\n;    Sta  Dur  Amp    Pitch  Table  OutCh\ni1   0    1    15000  7.00   0      1\ni1   0    1    15000  7.07   0      1\ni1   1    1    15000  8.00   0      1\ni1   1    .25  15000  7.05   0      1\ni1   +    .25  15000  7.07   0      1\ni1   .    .25  15000  7.10   0      1\ni1   .    .25  15000  8.00   0      1\ni1   2    1    15000  6.00   0      1\ni1   2    1    15000  7.00   0      1\n\n; DISTORTION\n;    Sta  Dur  Overdrive  Gain  Shape1  Shape2  Rect  InCh  OutCh  Output\ni11  0    3    2          .5    .2      0       0     1     2      1\n\n; PLUCK\n;    Sta  Dur  Amp    Pitch  Table  OutCh\ni1   3    1    15000  7.00   0      1\ni1   3    1    15000  7.07   0      1\ni1   4    1    15000  8.00   0      1\ni1   4    .25  15000  7.05   0      1\ni1   +    .25  15000  7.07   0      1\ni1   .    .25  15000  7.10   0      1\ni1   .    .25  15000  8.00   0      1\ni1   5    1    15000  6.00   0      1\ni1   5    1    15000  7.00   0      1\n\n; DISTORTION\n;    Sta  Dur  Overdrive  Gain  Shape1  Shape2  Rect  InCh  OutCh  Output\ni11  3    3    .5         1     0       0       0     1     2      1\n\n; PLUCK\n;    Sta  Dur  Amp    Pitch  Table  OutCh\ni1   6    1    15000  7.00   0      1\ni1   6    1    15000  7.07   0      1\ni1   7    1    15000  8.00   0      1\ni1   7    .25  15000  7.05   0      1\ni1   +    .25  15000  7.07   0      1\ni1   .    .25  15000  7.10   0      1\ni1   .    .25  15000  8.00   0      1\ni1   8    1    15000  6.00   0      1\ni1   8    1    15000  7.00   0      1\n\n; DISTORTION\n;    Sta  Dur  Overdrive  Gain  Shape1  Shape2  Rect  InCh  OutCh  Output\ni11  6    3    4          .5    0       .2      .5    1     2      1\n\n; ZAK CLEAR\ni99  0    9\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ACTUAL SOUND GENERATOR USING VALUES FROM INSTR 12 using oscillator and granular synthesis and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 2NDTRIPL.ORC and 2NDTRIPL.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         44100\nksmps          =         1         \n\n;2NDTRIPLET.ORC\n;FOR TEST OF SECOND TRIPLET (INSTR2, 12, 22)\n\n;----------    INIT GLOBAL VARIABLES ---------\ngkdur1         init      0    ;GRAIN CENTER DURATION \ngkrdd1         init      0    ;GRAIN RANDOMIC DURATION RANGE\ngkprt1         init      0    ;GRAIN RISE TIME\ngkamp1         init      0    ;GLOBAL EVENT OVERALL AMPLITUDE\ngkrd1          init      0    ;GRAIN RANDOMIC FREQUENCY RANGE\ngkfreq1        init      0    ;GRAIN CENTER FREQUENCY\ngkdel1         init      0    ;GRAIN CENTER DELAY\ngkph1          init      0    ;FUNCTION TABLE INIT PHASE\ngkran1         init      0    ;RANDOMIC FREQUENCY\ngkrnd1         init      0    ;RANDOMIC DURATION \n;---------------------------------------------------------------------------\n\ninstr          2              ;ACTUAL SOUND GENERATOR USING VALUES FROM INSTR 12\n\nidur           =         p4/1000                  ;INIT DETERMINISTIC TRAPEZOID DURATION IN SECS\nidel           =         p5/1000                  ;INIT TRAPEZOID DELAY IN SECS\nirdd           =         p6/1000                  ;INIT RANDOMIC DURATION IN SECS\niprt           =         p7 + 0.1                 ;INIT RISE (DECAY) FACTOR ( PLUS A MAGIC.. )\nird            =         p8                       ;INIT RANDOM FREQUENCY DEVIATION\nifreq          =         p9                       ;INIT GRAIN CENTER FREQUENCY\niph            =         p10                      ;INIT TABLE PHASE\nifun           =         p11                      ;INIT AUDIO FUNCTION TABLE\nirise          =         (idur + irdd)/iprt       ;    RISE TIME IS A FRACTION OF THE TRAPEZOID (FIG.1)\n                                                  ;     DURATION.  EXAMPLE : IDUR = 40 MSEC\n                                                  ;                    irdd = 5 msec\n                                                  ;                      iprt = 4\n                                                  ;                irise = (40 + 5 ) / 4 = 11.25 msec\nisus           =         (idur + irdd) -( 2 * irise )       ;COMPUTE SUSTAIN TRAPEZOID TIME \ngigrain        =         idur + irdd + idel                 ;COMPUTE TOTAL GRAIN DURATION\n               goto      start                              ;JUMP TO SWITCH ON TIMER ACTIVITY\nloop:\nidur           =         i(gkdur1)                          ;THE ACTUAL IDUR VALUE IS \"I-RATED\" FROM THE FREE-\n                                                            ;RUNNING FUNCTION GENERATOR THAT WORKS INSIDE AN\n                                                            ;INDIPENDENT INSTRUMENT (INSTR 11 FOR INSTR 1) AND\nidur           =         idur/1000                          ;CONVERTED FROM MSEC INTO SECS.\nirdd           =         i(gkrnd1)                          ;THE SAME FOR IRDD\nirdd           =         irdd/1000\nidel           =         i(gkdel1)                          ;THE SAME FOR IDEL\nidel           =         idel/1000\niprt           =         i(gkprt1)+0.1                      ;THE SAME FOR IPRT\nird            =         i(gkran1)                          ;THE SAME FOR IRD\nifreq          =         i(gkfreq1)                         ;THE SAME FOR IFREQ\niph            =         i(gkph1)                           ;THE SAME FOR IPH\n     irise     =         (idur + irdd)/iprt       \n     isus      =         idur + irdd - (2 * irise)     \n     gigrain   =         idur + irdd + idel\n               ;print    icount,gigrain,idur,irdd,idel      ;PRINT VALUES IF YOU WANT...\n\n;++++++++++++ TIMER SECTION\nstart:         timout    0,gigrain,cont                     ;IF TIMER VALUE IS NOT ZERO\n               ;goto     cont\n               reinit    loop                               ;ELSE JUMP TO A REINIT SECTION\ncont:     k1   linseg    0,irise,1,isus,1,irise,0,idel,0    ;GENERATE LINEAR GRAIN \n                                                            ;ENVELOPE (SCALED TO 1 )\n        k2     tablei    1023*k1,19                         ;SMOOTH ENVELOPE\n     ga1       oscil     k2,ird + ifreq,ifun,iph            ;GENERATE SOUND\nendin\n\ninstr          12                                           ;CONTROL FUNCTION GENERATOR\ngkdur1         oscil1    0,1,p3,p4                          ;CONTROL FUNCTION GENERATOR FOR IDUR\ngkdel1         oscil1    0,1,p3,p5                          ;                   idel\ngkrdd1         oscil1    0,1,p3,p6                          ;                   irdd \ngkprt1         oscil1    0,1,p3,p7                          ;                   iprt\ngkrd1          oscil1    0,1,p3,p8                          ;                   ird\ngkfreq1        oscil1    0,1,p3,p9                          ;                   ifreq\ngkph1          oscil1    0,1,p3,p10                         ;                   iph\ngkamp1         oscil1    0,1,p3,p11                         ;                   iamp\ngkran1         rand      gkrd1/2                            ;FREQUENCY RANDOM GENERATOR   \ngkrnd1         rand      gkrdd1/2                           ;DURATION RANDOM GENERATOR\nendin\n\ninstr          22                                           ;MIX-DELAY-RESCALE-OUT\niscale         =         p4                                 ;READ AMPLITUDE SCALE FACTOR\na1             =         ga1       \na2             delay     a1, 0.003                          ;3ms DELAY --\na3             delay     a1, 0.007                          ;7ms      |              \na4             delay     a1, 0.011                          ;11ms        |\na5             delay     a1, 0.015                          ;15ms         > ADJUST VALUES....\na6             delay     a1, 0.017                          ;17ms        |\na7             delay     a1, 0.023                          ;23ms        |\na8             delay     a1, 0.025                          ;25ms      --\nas1            =         (a1+a2+a3+a4)/4                    ;PREMIX AND RESCALE FIRST FOUR PSEUDO VOICES\nas2            =         (a5+a6+a7+a8)/4                    ;PREMIX AND RESCALE LAST  FOUR PSEUDO VOICES\n               out       ( as1+as2 ) * iscale * gkamp1      ;MIXDOWN, FINAL RESCALE ,OVERALL ADJUST\n                                                            ;AND OUTPUT SOUND SAMPLES.\n               ;out      a1 * iscale *  gkamp1                      \nendin\n\n</CsInstruments>\n<CsScore>\n;2NDTRIPLET.SCO\n;FOR TESTING SECOND TRIPLET (INSTR2, 12, 22)\n\n;=====================================================================\n;CONTROL FUNCTIONS\n;DURATION (THE LARGER, THE MORE SPARSE, E.G. >50 MSEC.)\n;f11 0 512 -7 20 256 50  256 20                   ;[see p4 of instr1]\nf21 0 512 -7 10 256 100 256 10\n;DELAY (THE SMALLER, THE MORE FUSED, DETACHED WHEN >50 MSEC.)\n;f12 0 512 -7 10  256 10 256 10                   ;[see p5]\nf22 0 512 -7 50 256 10 256 50\n;*******************\n;DURATION DEVIATION (DURATIONAL IRREGULARITY)\n;f13 0 512 -7 10 512 5                            ;[see p6]\n;f13 0 512 -7 20 512 1\n;FINIT ERROR IN INSTR1 WHEN 100 IN P6: NEGATIVE TIME PERIOD, BUT SOUNDS O.K.\n;f13 0 512 -7 100 256 1 256 100\n;ERROR MESSAGES WHEN 200 IN P6, MUST BE INIT VALUE = 100\n;f13 0 512 -7 100 256 200 50\nf23 0 512 -7 50 512 1\n;********************\n;RISE TIME\nf24 0 512 -7 2  512 2                             ;[SEE P7]\n;FREQUENCY\n;f15 0 512 -7 50  256 100 256 150                 ;[see p8]\nf25 0 512 -7 30 256 300 256 50 ;p8=30\n;FREQUENCY DEVIATION\n;f16 0 512 -7 100 256 200 256 400                 ;[see p9]\nf26 0 512 -7 50 100 100 412 400                   ;QUICKLY TO 100 HZ, THEN MORE SLOWLY TO 400 HZ\n;PHASE\nf27 0 512 -7 0 512 0                              ;[see p10]\n;GLOBAL ENVELOPE\nf28 0 512 7 0   64  1  384  1  64 0               ;[see p11]\n;SMOOTHING FUNCTION ;SAME FUNCTION AS IN TRIPLET #1\n;WHEN THIS FUNCTION IS ADJUSTED TO 29, 39, CHANGE TABLEI IN THE ORCHESTRA\nf19 0 1025 8  0 256 0.1 256 0.5 256 0.9 257 1\n\n;WAVEFORMS DETERMINE SOUND COLOR!\n;f1 0 1024  10 1                                  ;the usual\nf2 0 1024 10 1 .5 .3 .1                           ;\"sine2\". a little dull\n;f1 0 1024 10 0 .01 1 0 5 0                       ;\"sine3\", [strong 3rd & 5th partial], silvery\n;f1 0 1024 9 .25 1 90                             ;cosine, interesting dense sound\n\n;SCORE PROPER\n\n;p1 p2  p3   p4     p5     p6     p7     p8     p9     p10    p11    \n;         dur    del    rndd   prt    rndf   freq   phas   ifun   \n;i2  0   1    50    10     10      2     50    100     0      1\ni2  0    3   100    50     50      2     30     50     0      2\n;---------------------------------------------------------------------\n;         dur_f  del_f  rndd_f prt_f    rndf_f    freq_f phas_f amp_f\ni12 0   3    21     22     23     24    25      26     27     28\n;---------------------------------------------------------------------\n;AMPSCALE FOR SINE\ni22 0   3    24000\n;FOR COSINE\n;i22 0 3 16000\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp   \t=        p4 using oscillator and buzz/pulse generator and Butterworth highpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from blit1.orc and blit1.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\nnchnls\t=\t\t2\n\n;---------------------------------------------------------------------------------\n; A SET OF BAND LIMITED INSTRUMENTS WITH RESONANT FILTER\n; BY HANS MIKELSON 11/20/97\n; PARTIALLY DERIVED FROM CODE BY JOSEP MÂª COMAJUNCOSAS-CSOUND & TIM STILSON-CCRMA\n;---------------------------------------------------------------------------------\n\n\t\tzakinit \t30, 30\ngifqcadj\t=\t\t6600\n\t\t\t\n;---------------------------------------------------------------------------------\n; LOW FREQUENCY OSCILLATOR\n       \tinstr    1\n\niamp   \t=        p4\nilfo   \t=        p5\niwave  \t=        p6\nioutch \t=        p7\n\nklfo   \toscil    iamp, ilfo, iwave\n       \tzkw      klfo, ioutch\n\n\t \tendin\n\n;---------------------------------------------------------------------------------\n; ENVELOPE\n       \tinstr    2\n\nidur   \t=        p3\niamp   \t=        p4\nishape \t=        p5\nioutch \t=        p6\n\nkenv   \toscil    iamp, 1/idur, ishape\n       \tzkw      kenv, ioutch\n\n       \tendin\n\n;---------------------------------------------------------------------------------\n; OSCILLATOR SYNCH (BAND LIMITED IMPULSE TRAIN)\n        \tinstr   10\n\nidur    \t=       p3\niamp    \t=       p4*10\nifqc    \t=       cpspch(p5)\niampenv \t=       p6\nifcotab \t=       p7\nireztab \t=       p8\nifcoch  \t=       p9\nirezch  \t=       p10\nilfoch  \t=       p11\nipanl   \t=       sqrt(p12)\nipanr   \t=       sqrt(1-p12)\nkrms    \tinit    0\n\nkdclik \tlinseg  0, .002, iamp, idur-.004, iamp, .002, 0\nkamp   \toscil   kdclik, 1/idur, iampenv \nkfcoe  \toscil   1, 1/idur, ifcotab\nkreze  \toscil   1, 1/idur, ireztab\nkfcoc  \tzkr     ifcoch\nkrezc  \tzkr     irezch\nkfco   \t=       kfcoe*kfcoc\nkrez   \t=       kreze*krezc\n\t\nklfo   \tzkr     ilfoch\nkfqc   \t=       ifqc+klfo\nkfco   \toscil   1, 1/idur, ifcotab\nkrez   \toscil   1, 1/idur, ireztab\n\napulse1 \tbuzz    1, ifqc, sr/2/ifqc, 1  ; Avoid aliasing\napulse2 \tbuzz    1, ifqc*1.02, sr/2/ifqc*1.02, 1  ; Avoid aliasing\nasaw1dc \tinteg   apulse1\nasaw2dc \tinteg   apulse2\n\naosyncdc \tinteg   apulse1*abs(1-asaw2dc)+apulse2*abs(1-asaw1dc)\naosync   \t=       aosyncdc             ; Remove DC offset\naxn     \tbutterhp    aosync, 20\n\n; RESONANT LOWPASS FILTER (4 POLE)\nka1    \t=       gifqcadj/krez/kfco-1\nka2    \t=       gifqcadj/kfco\nkasq   \t=       ka2*ka2\nkb     \t=       1+ka1+kasq\n\nayn    \tnlfilt  axn/kb, (ka1+2*kasq)/kb, -kasq/kb, 0, 0, 1\nayn2   \tnlfilt  ayn/kb, (ka1+2*kasq)/kb, -kasq/kb, 0, 0, 1\n\n       \touts    kamp*ayn2*ipanl, kamp*ayn2*ipanr\n       \tendin\n\n;---------------------------------------------------------------------------------\n; OSCILLATOR SYNCH (BAND LIMITED IMPULSE TRAIN)\n        instr   11\n\nidur    \t=       p3\niamp    \t=       p4*10\nifqc    \t=       cpspch(p5)\niampenv \t=       p6\nifcotab \t=       p7\nireztab \t=       p8\nifcoch  \t=       p9\nirezch  \t=       p10\nilfoch  \t=       p11\nipanl   \t=       sqrt(p12)\nipanr   \t=       sqrt(1-p12)\nkrms    \tinit    0\n\nkdclik \tlinseg   0, .002, iamp, idur-.004, iamp, .002, 0\nkamp   \toscil    kdclik, 1/idur, iampenv \nkfcoe  \toscil    1, 1/idur, ifcotab\nkreze  \toscil    1, 1/idur, ireztab\nkfcoc  \tzkr      ifcoch\nkrezc  \tzkr      irezch\nkfco   \t=        kfcoe*kfcoc\nkrez   \t=        kreze*krezc\n\nklfo   \tzkr      ilfoch\nkfqc   \t=        ifqc+klfo\nkfco   \toscil    1, 1/idur, ifcotab\nkrez   \toscil    1, 1/idur, ireztab\n\napulse1 \tbuzz    1, ifqc, sr/2/ifqc, 1  ; Avoid aliasing\napulse2 \tbuzz    1, ifqc*1.02, sr/2/ifqc*1.02, 1  ; Avoid aliasing\nasaw1dc \tinteg   apulse1\nasaw2dc \tinteg   apulse2\n\naosyncdc \tinteg   apulse1*abs(1-asaw2dc)+apulse2*abs(1-asaw1dc)\naosync   \t=       aosyncdc             ; Remove DC offset\naxn     \tbutterhp    asaw1dc-.5, 20\n\n; RESONANT LOWPASS FILTER (4 POLE)\nka1    \t=        gifqcadj/krez/kfco-1\nka2    \t=        gifqcadj/kfco\nkasq   \t=        ka2*ka2\nkb     \t=        1+ka1+kasq\n\nayn    \tnlfilt   axn/kb, (ka1+2*kasq)/kb, -kasq/kb, 0, 0, 1\nayn2   \tnlfilt   ayn/kb, (ka1+2*kasq)/kb, -kasq/kb, 0, 0, 1\n\n       \touts     kamp*ayn2*ipanl, kamp*ayn2*ipanr\n       \tendin\n\n\n</CsInstruments>\n<CsScore>\n;---------------------------------------------------------------------------------\n; TEMPLES OF TYRIA\n;---------------------------------------------------------------------------------\nf1 0 16384 10 1                               ; SINE\n\n;---------------------------------------------------------------------------------\n; PART 1 DEEP DRONE\n;---------------------------------------------------------------------------------\nf10 0 1024 -7 200 256 5000 256 1000 256 1000 256 200   ; FCO DEEP DRONE\nf11 0 1024 -7 4 1024 6                      \t\t\t; REZ DEEP DRONE\nf12 0 1024  7 1 512 1 512 1                   \t\t; ENVFCO\nf13 0 1024  7 1  1024 1                       \t\t; ENVREZ\nf14 0 1024  7 0  64   1 256 .9 640 .8  64 0   \t\t; AMP\n\n; LFO\n;  Sta  Dur   Amp  Fqc  Wave  LFOCh\ni1 0.0  1.0   0.5  .5   1     2      ; Low Fqc\n\n; ENVELOPE\n;  Sta  Dur   Amp  Shape  OutKCh\ni2 0.0  1.0   1    12     3\ni2 0.0  1.0   1    13     4\n\n; PWM\n;   Sta   Dur  Amp    Pitch  AmpEnv  FcoEnv  RezEnv  FcoCh  RezCh  LFOCh  Pan\ni11  0.0  1.0  4000  8.00   14      10      11      3      4      2      .7\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a parosc sound using oscillator and linear segments and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from parosc.orc and parosc.sco\n; Original files preserved in same directory\n\nsr             =              44100\nkr             =              22050\nksmps          =              2\nnchnls         =              2\n\n; PARAMETRIC EQUATION OSCILLATORS\n\n; CYCLOID CURVE\n; THIS SET OF PARAMETRIC EQUATIONS DEFINES THE PATH TRACED BY\n; A POINT ON A CIRCLE OF RADIUS B ROTATING OUTSIDE OR INSIDE\n; A CIRCLE OF RADIUS A.\n               instr          2\n\nidur           =              p3             ; DURATION\niamp           =              p4             ; AMPLITUDE\nifqc           =              cpspch(p5)     ; CONVERT PITCH TO FREQUENCY\nia             =              p6             ; RADIUS CIRCLE A\nib             =              p7             ; RADIUS CIRCLE B\nihole          =              p8             ; POSITION ALONG CIRCLE B RADIUS WHICH IS FOLLOWED\nisgn           =              p9             ; SIGN +=OUTSIDE CIRCLE, -=INSIDE CIRCLE\nipbnd          =              p10            ; PITCH BEND TABLE\nibndrt         =              p11            ; PITCH BEND RATE\niscale         =              1/(ia+2*ib)    ; SCALING FACTOR TO NORMALIZE VOLUME\n\napbnd          oscil          1, ibndrt/idur, ipbnd                                  ; PITCH BEND\naamp           linseg         0, .02, iamp*iscale, idur-.04, iamp*iscale, .02, 0     ; DECLICK ENVELOPE\nafqc           =               apbnd*ifqc                                            ; BEND THE PITCH\n\n; SINE AND COSINE\nacos1          oscil          ia+ib*isgn, afqc, 1, .25                ; COSINE EQUATION 1\nacos2          oscil          ib*ihole, (ia-ib)/ib*afqc, 1, .25       ; COSINE EQUATION 2\nax             =              acos1 + acos2                           ; X VALUE IS THE SUM OF THE COSINES\n\nasin1          oscil          ia+ib*isgn, afqc, 1                     ; SINE EQUATION 1\nasin2          oscil          ib*ihole, (ia-ib)/ib*afqc, 1            ; SINE EQUATION 2\nay             =              asin1 - asin2                           ; Y VALUE IS THE DIFFERENCE OF THE SINES\n\n               outs           aamp*ax, aamp*ay                        ; DECLICK AND OUTPUT\n\n               endin\n\n; BUTTERFLY CURVES\n               instr          7\n\nidur           =              p3                  ; DURATION\niamp           =              p4                  ; AMPLITUDE\nifqc           =              cpspch(p5)          ; CONVERT PITCH TO FREQUENCY\nia             =              p6                  ; PARAMETER A\nib             =              p7                  ; PARAMETER B\nic             =              p8                  ; PARAMETER C\nid             =              p9                  ; PARAMETER D\nie             =              p10                 ; PARAMETER E\n\nkamp           linseg         0, .001, iamp, idur-.002, iamp, .001, 0 ; DECLICK AMPLITUDE ENVELOPE\n\nklfo1          oscil          .01, 6, 1                               ; LFO 1\nkrmp1          linseg         0, .1, 0, .2, 1, p3-.3, 1               ; RAMP 1\n\nklfo2          oscil          .02, 4, 1                               ; LFO 2\nkrmp2          linseg         0, .4, 1, p3-.2, 1                      ; Ramp 2\n\nkc             linseg         .5*ic, idur*.5, ic*2, idur*.5, .5*ic    ; MODULATE C WITH AN ENVELOPE\nkb             =              ib*(1+klfo1*krmp1)                      ; MODULATE B WITH AN LFO\nkd             =              id*(1+klfo2*krmp2)                      ; MODULATE D WITH AN LFO\n\n; COSINES\nacos1          oscil          1,  ifqc,    1, .25                     ; COSINE 1\nacos2          oscil          ia, kb*ifqc, 1, .25                     ; COSINE 2\nacos3          oscil          1, ifqc/kd,  1, .25                     ; COSINE 3\n\n; SINES\nasin1          oscil          1, ifqc,   1                            ; SINE 1\nasin2          pow            asin1, ic                               ; SINE 2\nasin3          oscil          1, ifqc/kd,   1                         ; SINE 3\n\narho           =              exp(ie*acos1)-acos2+asin2               ; GENERATE THE RADIUS\n\nax             =              arho*acos3                              ; GENERATE X VALUE\nay             =              arho*asin3                              ; GENERATE Y VALUE\n\n               outs           ax*kamp, ay*kamp                        ; DECLICK AND OUTPUT\n\n               endin\n\n; SPHERICAL LISSAJOUS FIGURES\n               instr     8\n\nidur           =         p3                            ; DURATION\niamp           =         p4                            ; AMPLITUDE\nifqc           =         cpspch(p5)                    ; CONVERT PITCH TO FREQUENCY\niu             =         p6                            ; U PARAMETER\niv             =         p7                            ; V PARAMETER\nirt2           =         sqrt(2)                       ; SQUARE ROOT OF 2\niradius        =         1                             ; RADIUS IS 1\n                    \nkamp           linseg    0, .002, iamp, idur-.004, iamp, .002, 0      ; DECLICK ENVELOPE\n\nacos1          oscil     1, .5, 1, .25\nasin1          oscil     1, .5, 1\n\n; COSINES\nacosu          oscil     1, iu*ifqc,    1, .25         ; COSINE OF FREQUENCY U\nacosv          oscil     1, iv*ifqc,    1, .25         ; COSINE OF FREQUENCY V\n\n; SINES\nasinu          oscil     1, iu*ifqc,    1              ; SINE OF FREQUENCY U\nasinv          oscil     1, iv*ifqc,    1              ; SINE OF FREQUENCY V\n\n; COMPUTE X AND Y\nax             =         iradius*asinu*acosv           ; COMPUTE X VALUE\nay             =         iradius*asinu*asinv           ; COMPUTE Y VALUE\naz             =         iradius*acosu                 ; COMPUTE Z VALUE\naz1            =         az*acos1                      ; MODULATE Z VALUE FOR X\naz2            =         az*asin1                      ; MODULATE Z VALUE FOR Y\n               outs      (ax+az1)*kamp/2, (ay+az2)*kamp/2   ; SCALE X AND Y VALUES AND ADD Z\n\n               endin\n\n\n\n</CsInstruments>\n<CsScore>\nf1 0 65536 10 1\nf2 0 1024  -7 1 1024 1\nf3 0 1024  -7 1 400  1 224 1.5 400 1.5\nf4 0 1024  -7 1 400  1 224 0.5 400 0.5\nf5 0 1024  -8 1 256 3 256 .2 256 2 256 1\n\n\n; CYCLOID\n;    Sta   Dur  Amp     Pitch   A    B    Hole  Sign  PBend BRate\ni2   0     .4   20000   8.00    8    2    1     1     3     1\ni2   +     .    .       7.11    5.6  .4   .8   -1     2     .\ni2   .     .    .       8.05    2    8.5  .7   -1     4     .\ni2   .     .    .       8.07    5    3    2     1     2     .\n\ni2   .     .4   20000   8.00    8    2    1     1     3     .\ni2   .     .    .       7.07    5.6  .4   .8   -1     2     .\ni2   .     .    .       8.03    2    8.5  .7   -1     4     .\ni2   .     .    .       8.00    5    3    2     1     2     .\n\ni2   .     1.6  20000   8.00    5    3    2     1     5     8\n\n; BUTTERFLY CURVES\n;    Sta  Dur  Amp    Frqc   A    B     C     D    E\ni7   5    .4   4000   7.00   2    4     5     22   1\ni7   +    .    .      7.07   2.1  6     7     30   .9\ni7   .    .    .      8.00   3.1  8     15    48   1\ni7   .    .    .      7.00   3.1  8     7     50   1\ni7   .    .    .      7.07   2.5  3     3     90   .8\ni7   .    .    .      8.00   3.1  8     9     80   1\n\n; SPHERICAL LISSAJOUS\n;    Sta  Dur  Amp    Frqc    U    V\ni8   7.5  .2   25000   6.00   3    4\ni8   +    .    26000   5.09   2    7\ni8   .    .    25000   6.04   5.3  4.7\ni8   .    .    26000   6.08   1    2\ni8   .    .    25000   6.04   5.3  4.7\ni8   .    .    26000   6.08   .7   3\ni8   .    .    25000   6.04   2.1  3.6\ni8   .    .    26000   6.08   .99  2.01\n;\ni8   .    .    25000   6.00   3    4\ni8   .    .    26000   5.09   2    7\ni8   .    .    25000   6.04   5.3  4.7\ni8   .    .    26000   6.08   1    2\ni8   .    .    25000   6.04   5.3  4.7\ni8   .    .    26000   6.08   .7   3\ni8   .    .    25000   6.04   2.1  3.6\ni8   .    .8   26000   6.08   .99  2.01\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a experiment sones sound using oscillator and interpolating oscillator and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Experiment1Sones.orc and Experiment1Sones.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2 \n\n;**************************************   DOUBLING OF LOUDNESS  ***************************************\n; THE \"SONE\" IS DEFINED AS THE LOUDNESS OF A 1000HZ TONE AT 40DB( A LOUDNESS LEVEL OF 40 PHONS). FOR \n; LOUDNESS LEVELS OF 40 PHONS OR GREATER, THE RELATIONSHIP BETWEEN LOUDNESS S IN SONES AND LOUDNESS \n; LEVEL L(S) IN PHONS RECOMMENDED BY THE INTERNATIONAL STANDARDS ORGANIZATION (ISO) IS S = 2 RAISED TO\n; {L(S) - 40}/10. AN EQUIVALENT EXPRESSION FOR LOUDNESS S THAT AVOIDS THE USE OF L(S) IS S = CP RAISED \n; TO THE 0.6, WHERE P IS THE SOUND PRESSURE AND C DEPENDS ON THE FREQUENCY. THE ABOVE EQUATIONS ARE \n; BASED ON THE WORK OF S.S. STEVENS, WHICH INDICATED A DOUBLING OF LOUDNESS FOR A 10DB INCREASES IN \n; SOUND PRESSURE LEVEL. SOME INVESTIGATORS, HOWEVER, HAVE FOUND A DOUBLING OF LOUDNESS FOR A 6DB IN-\n; CREASE IN SOUND PRESSURE LEVEL (WARREN, 1970). THIS SUGGESTS THE USE OF THE FORMULA IN WHICH LOUDNESS\n; IS PROPORTIONAL TO SOUND PRESSURE (HOWES, 1974): SS = K{P - P(0)}, WHERE P IS THE SOUND PRESSURE AND \n; P(0) IS THE PRESSURE AT SOME THRESHOLD LEVEL. \n; THIS CONTROVERSY ACTUATED ME TO CONDUCT MY OWN EXPERIMENT, EVALUATE THE RESULTS, AND DRAW MY \"OWN\" \n; CONCLUSIONS. WHAT IS PRESENTED TO THE LISTENER IS NOISE AND 5000HZ TONE PAIRS AT VARIED DECIBEL \n; LEVELS. THE FIRST TONE WILL REMAIN AT A CONSTANT OF 70DB, WHILE THE SECOND OF THE TONE PAIR WILL VARY\n; FROM +6DB - +15DB. THE TONES ARE .3 SECONDS EACH. A CALIBRATION TONE OF 7 SECONDS IS PROVIDED BEFORE\n; EACH SECTION WITH NOISE AND 5000HZ. \n;*****************************************   HEADER   *************************************************\n\n\n \n \n instr         1\n\n iamp          =         ampdb(p4)                ;P4 = AMPLITUDE IN DB \n ifreq         =         p5                       ;P5 = FREQUENCY\n \n k1            linen     iamp,.01,p3,.01         \n a1            oscili    k1,ifreq,1             \n               outs      a1,a1\n endin  \n \n instr         2\n\n iamp          =         ampdb(p4)                ;P4 = AMPLITUDE IN DB\n\n\n k1            linen     iamp,.01,p3,.01\n anoise        randi     k1, .998 * 10010         ;BROADBAND NOISE 20 - 20KHZ\n asig          oscil     anoise,anoise,1       \n               outs      asig,asig\n endin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 512 10 1                                                    ; SINE WAVE\n\n\n;*************************************   BROADBAND NOISE   *********************************************\n;   p1      p2      p3     p4          \n;  inst    strt    dur    amp                 \n    i2     1.0      7     70                                     ; CALIBRATION NOISE\n  s\n;***************************************   6DB - 15DB ACCRETION   **************************************\n;   p1      p2      p3     p4           \n;  inst    strt    dur    amp                 \n    i2     1.0     .3     70      \n    i2     1.40    .3     76      \n  s\n    i2     1.0     .3     70      \n    i2     1.40    .3     76.5    \n  s  \n    i2     1.0     .3     70      \n    i2     1.40    .3     77      \n  s\n    i2     1.0     .3     70      \n    i2     1.40    .3     77.5    \n  s  \n    i2     1.0     .3     70      \n    i2     1.40    .3     78      \n  s\n    i2     1.0     .3     70      \n    i2     1.40    .3     78.5    \n  s  \n    i2     1.0     .3     70      \n    i2     1.40    .3     79      \n  s\n    i2     1.0     .3     70      \n    i2     1.40    .3     79.5    \n  s\n    i2     1.0     .3     70      \n    i2     1.40    .3     80      \n  s  \n    i2     1.0     .3     70      \n    i2     1.40    .3     80.5    \n  s\n    i2     1.0     .3     70      \n    i2     1.40    .3     81      \n  s\n    i2     1.0     .3     70      \n    i2     1.40    .3     81.5      \n  s\n    i2     1.0     .3     70      \n    i2     1.40    .3     82    \n  s\n    i2     1.0     .3     70      \n    i2     1.40    .3     82.5      \n  s  \n    i2     1.0     .3     70      \n    i2     1.40    .3     83    \n  s\n    i2     1.0     .3     70      \n    i2     1.40    .3     83.5      \n  s\n    i2     1.0     .3     70      \n    i2     1.40    .3     84      \n  s  \n    i2     1.0     .3     70      \n    i2     1.40    .3     84.5    \n  s\n    i2     1.0     .3     70      \n    i2     1.40    .3     85      \n  s\n\n;*****************************************   5000Hz   ******************************************** \n;   p1      p2      p3     p4      p5      \n;  inst    strt    dur    amp    ifreq             \n    i1     1.0      7     70      5000                           ; CALIBRATION TONE\n  s\n;***************************************   6DB - 15DB ACCRETION   **************************************\n  s\n    i1     1.0     .3     70      5000\n    i1     1.40    .3     76      5000\n  s\n    i1     1.0     .3     70      5000\n    i1     1.40    .3     76.5    5000\n  s  \n    i1     1.0     .3     70      5000\n    i1     1.40    .3     77      5000\n  s\n    i1     1.0     .3     70      5000\n    i1     1.40    .3     77.5    5000\n  s  \n    i1     1.0     .3     70      5000\n    i1     1.40    .3     78      5000\n  s\n    i1     1.0     .3     70      5000\n    i1     1.40    .3     78.5    5000\n  s  \n    i1     1.0     .3     70      5000\n    i1     1.40    .3     79      5000\n  s\n    i1     1.0     .3     70      5000\n    i1     1.40    .3     79.5    5000\n  s\n    i1     1.0     .3     70      5000\n    i1     1.40    .3     80      5000\n  s  \n    i1     1.0     .3     70      5000\n    i1     1.40    .3     80.5    5000\n  s\n    i1     1.0     .3     70      5000\n    i1     1.40    .3     81      5000\n  s\n    i1     1.0     .3     70      5000\n    i1     1.40    .3     81.5    5000\n  s\n    i1     1.0     .3     70      5000\n    i1     1.40    .3     82      5000\n  s  \n    i1     1.0     .3     70      5000\n    i1     1.40    .3     82.5    5000\n  s\n    i1     1.0     .3     70      5000\n    i1     1.40    .3     83      5000\n  s  \n    i1     1.0     .3     70      5000\n    i1     1.40    .3     83.5    5000\n  s\n    i1     1.0     .3     70      5000\n    i1     1.40    .3     84      5000\n  s  \n    i1     1.0     .3     70      5000\n    i1     1.40    .3     84.5    5000\n  s\n    i1     1.0     .3     70      5000\n    i1     1.40    .3     85      5000\n  e  \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for irvt           =         1.5 using oscillator and resonant filter and reverb effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from rev8.orc and rev8.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         2205\nksmps          =         20\nnchnls         =         2\n\n;MONO -> MONO OR STEREO REVERB\n;WITH RESONANCE MOVING\n;f1 0 16384 10 1\n;i1 0 dur file skip srcdur gain iorig ; mono input\n;i2 0 dur file skip srcdur gain iorig ; stereo input\n\ninstr          1\nirvt           =         1.5\nifile          =         p4\niskip          =         p5\nindur          =         p6\nigain          =         p7\niorig          =         p8\nitail          =         p3 - indur\nirev           =         1. - iorig\n                                        ;NEXT LINE ONLY FOR STEREO OUTPUT\niorig          =         iorig * .707\nibfac          =         .15\nidev           =         .3\nicf1           =         4000\nicf2           =         2000\nicf3           =         1000\nicf1amp        =         icf1*idev\nicf2amp        =         icf2*idev\nicf3amp        =         icf3*idev\nirspeed1       =         .61\nirspeed2       =         .72\nirspeed3       =         .819\nicmbres1       =         37.5\nicmbres2       =         39.1352\nicmbres3       =         30.8677\nicmbres4       =         32.7032\nicmbres5       =         34.6478\nicmbres6       =         36.7081\nilp1           =         1./icmbres1\nilp2           =         1./icmbres2\nilp3           =         1./icmbres3\nilp4           =         1./icmbres4\nilp5           =         1./icmbres5\nilp6           =         1./icmbres6\nidev2          =         .5\nibfac2         =         .5\nicf4           =         3000\nicf5           =         5000\nicf4amp        =         icf4*idev2\nicf5amp        =         icf5*idev2\nirspeed4       =         .21\nirspeed5       =         .389\n               timout    indur, itail, contin\n     araw      soundin   ifile,iskip\n     araw      =         araw * igain\n     contin:\n     kcfdev1   oscil     icf1amp,irspeed1,1\n     kcf1      =         icf1 + kcfdev1\n     kbw1      =         kcf1 * ibfac\n     ares1     reson     araw, kcf1, kbw1, 1\n     kcfdev2   oscil     icf2amp,irspeed2,1\n     kcf2      =         icf2 + kcfdev2\n     kbw2      =         kcf2 * ibfac\n     ares2     reson     araw, kcf2, kbw2, 1\n     kcfdev3   oscil     icf3amp,irspeed3,1\n     kcf3      =         icf3 + kcfdev3\n     kbw3      =         kcf3 * ibfac\n     ares3     reson     araw, kcf3, kbw3, 1\n     acomb1    comb      ares1, irvt, ilp1\n     acomb2    comb      ares1, irvt, ilp2\n     acomb3    comb      ares2, irvt, ilp3\n     acomb4    comb      ares2, irvt, ilp4\n     acomb5    comb      ares3, irvt, ilp5\n     acomb6    comb      ares3, irvt, ilp6\n     acsum1    =         acomb1+acomb3+acomb5\n     acsum2    =         acomb2+acomb4+acomb6\n     kcfdev4   oscil     icf4amp,irspeed4,1\n     kcf4      =         icf4 + kcfdev4\n     kbw4      =         kcf4 * ibfac\n     ares4     reson     acsum1, kcf4, kbw4, 1\n     kcfdev5   oscil     icf5amp,irspeed5,1\n     kcf5      =         icf5 + kcfdev5\n     kbw5      =         kcf5 * ibfac\n     ares5     reson     acsum2, kcf5, kbw5, 1\n     ; STEREO OUTPUT\n     amono     =         araw * iorig\n     aleft     =         ares4*irev + amono\n     aright    =         ares5*irev + amono\n               outs      aleft, aright\n     ; MONO OUTPUT\n     ;arev     =         ares4 + ares5\n     ;         out       (iorig*araw)+(irev*arev)\nendin\n\ninstr          2\nirvt           =         1.5\nifile          =         p4\niskip          =         p5\nindur          =         p6\nigain          =         p7\niorig          =         p8\nitail          =         p3 - indur\nirev           =         1. - iorig\n     ;NEXT LINE ONLY FOR STEREO OUTPUT\niorig          =         iorig * .707\nibfac          =         .15\nidev           =         .3\nicf1           =         4000\nicf2           =         2000\nicf3           =         1000\nicf1amp        =         icf1*idev\nicf2amp        =         icf2*idev\nicf3amp        =         icf3*idev\nirspeed1       =         .61\nirspeed2       =         .72\nirspeed3       =         .819\nicmbres1       =         37.5\nicmbres2       =         39.1352\nicmbres3       =         30.8677\nicmbres4       =         32.7032\nicmbres5       =         34.6478\nicmbres6       =         36.7081\nilp1           =         1./icmbres1\nilp2           =         1./icmbres2\nilp3           =         1./icmbres3\nilp4           =         1./icmbres4\nilp5           =         1./icmbres5\nilp6           =         1./icmbres6\nidev2          =         .5\nibfac2         =         .5\nicf4           =         3000\nicf5           =         5000\nicf4amp        =         icf4*idev2\nicf5amp        =         icf5*idev2\nirspeed4       =         .21\nirspeed5       =         .389\n               timout    indur, itail, contin\n     a1,a2     soundin   ifile,iskip\n     a1        =         a1 * igain\n     a2        =         a2 * igain\n     contin:\n     kcfdev1   oscil     icf1amp,irspeed1,1\n     kcf1      =         icf1 + kcfdev1\n     kbw1      =         kcf1 * ibfac\n     ares1     reson     a1, kcf1, kbw1, 1\n     kcfdev2   oscil     icf2amp,irspeed2,1\n     kcf2      =         icf2 + kcfdev2\n     kbw2      =         kcf2 * ibfac\n     ares2     reson     a2, kcf2, kbw2, 1\n     kcfdev3   oscil     icf3amp,irspeed3,1\n     kcf3      =         icf3 + kcfdev3\n     kbw3      =         kcf3 * ibfac\n     ares3     reson     a1+a2, kcf3, kbw3, 1\n     acomb1    comb      ares1, irvt, ilp1\n     acomb2    comb      ares1, irvt, ilp2\n     acomb3    comb      ares2, irvt, ilp3\n     acomb4    comb      ares2, irvt, ilp4\n     acomb5    comb      ares3, irvt, ilp5\n     acomb6    comb      ares3, irvt, ilp6\n     acsum1    =         acomb1+acomb3+acomb5\n     acsum2    =         acomb2+acomb4+acomb6\n     kcfdev4   oscil     icf4amp,irspeed4,1\n     kcf4      =         icf4 + kcfdev4\n     kbw4      =         kcf4 * ibfac\n     ares4     reson     acsum1, kcf4, kbw4, 1\n     kcfdev5   oscil     icf5amp,irspeed5,1\n     kcf5      =         icf5 + kcfdev5\n     kbw5      =         kcf5 * ibfac\n     ares5     reson     acsum2, kcf5, kbw5, 1\n     ; STEREO OUTPUT\n     aleft     =         ares4*irev + (a1*iorig)\n     aright    =         ares5*irev + (a2*iorig)\n               outs      aleft, aright\n     ; MONO OUTPUT\n     ;arev     =         ares4 + ares5\n     ;         out       (iorig*araw)+(irev*arev)\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 16384 10 1\n;i2 0 dur file skip srcdur gain iorig ; stereo input\n\ni1 0 3 1 0 .8 1 .4\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur\t\t= \t\tp3 using filter processing and oscillator and Butterworth bandpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fbfilter.orc and fbfilter.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n\t\tzakinit \t30,30\n\n; FEEDBACK FILTER 1\n\t\tinstr 1\n\nidur\t\t= \t\tp3\niamp\t\t= \t\tp4\nifqc\t\t= \t\tcpspch(p5)\nitab\t\t= \t\tp6\nitabc\t= \t\tp7\nifeedbk \t= \t\tp8\n\nkdclick\tlinseg\t0, .002, 1, idur-.004, 1, .002, 0\nkfco\t \tlinseg\t500, .1*idur, 5000, .4*idur, 1000, .4*idur, 500, .1*idur, 500\n\nasig  \toscil \tkdclick, ifqc, itab\nafilt \ttone \tasig, kfco\n\nafdbk\t=\t\tafilt/10\t\t\t\t; REDUCE ORIGINAL SIGNAL\nadeli\tdelayr\t.2\t\t\t\t\t; FEED BACK DELAY\nadel1\tdeltapi\t1/kfco\nafilt2\tbutterbp\tadel1, kfco, kfco/4\t\t; FILTER THE DELAYED SIGNAL\nkamprms\trms\t\tafilt2\t\t\t\t; FIND RMS LEVEL\nkampn\t=\t\tkamprms/6\t\t\t\t; NORMALIZE RMS LEVEL 0-1.\nkcomp\ttablei\tkampn,itabc,1,0\t\t; LOOK UP COMPRESSION VALUE IN TABLE\n\t\tdelayw\tafdbk+kcomp*ifeedbk*afilt2 ; ADD LIMITED FEEDBACK\naout\t \t=\t\tadel1*10*kdclick*iamp\n\n\t\touts  \taout, aout\n\n\t\tendin\n\n; Feedback Filter 2\n\t\tinstr 2\n\nidur\t\t= \t\tp3\niamp\t\t= \t\tp4\nifqc\t\t= \t\tcpspch(p5)\nitab\t\t= \t\tp6\nitabc\t= \t\tp7\nifeedbk \t= \t\tp8/2\n\nkdclick\tlinseg\t0, .002, iamp, idur-.004, iamp, .002, 0\nkfco\t \tlinseg\t500, .1*idur, 5000, .4*idur, 1000, .4*idur, 500, .1*idur, 500\n\nasig\t \toscil\t1, ifqc, itab\nafilt\ttone\t\tasig, kfco\n\nafdbk\t=\t\tafilt/10\t\t\t\t; REDUCE ORIGINAL SIGNAL\nadeli\tdelayr\t.2\t\t\t\t\t; FEED BACK DELAY\nadel1\tdeltapi\t1/kfco\nafilt3\treson\tadel1, kfco, kfco/4\t\t; FILTER THE DELAYED SIGNAL\nafilt2\tbalance\tafilt3, adel1\t\t\t;\nkamprms\trms\t\tafilt2\t\t\t  \t; FIND RMS LEVEL\nkampn\t=\t\tkamprms/6\t\t\t  \t; NORMALIZE RMS LEVEL 0-1.\nkcomp\ttablei\tkampn,itabc,1,0\t  \t; LOOK UP COMPRESSION VALUE IN TABLE\n\t\tdelayw\tafdbk+kcomp*ifeedbk*afilt2 ; ADD LIMITED FEEDBACK\naout\t \t=\t\tadel1*10*kdclick\n\n\t\touts  \taout, aout\n\n\t\tendin\n\n; STANDARD TONE/BUTTERBP COMBO FILTER\n\t\tinstr 3\n\nidur\t\t= \t\tp3\niamp\t\t= \t\tp4\nifqc\t\t= \t\tcpspch(p5)\nitab\t\t= \t\tp6\nitabc\t= \t\tp7\nifeedbk \t= \t\tp8\n\nkdclick\tlinseg\t0, .002, 1, idur-.004, 1, .002, 0\nkfco\t \tlinseg\t500, .1*idur, 5000, .4*idur, 1000, .4*idur, 500, .1*idur, 500\n\nasig\t \toscil\tkdclick, ifqc, itab\nafilt\ttone\t\tasig, kfco\nafilt2\tbutterbp \tafilt, kfco, kfco/8/ifeedbk ; FILTER THE DELAYED SIGNAL\naout\t\t=\t\t(afilt/2+afilt2*ifeedbk*6)*kdclick*iamp\n\n\t\touts  \taout, aout\n\n\t\tendin\n\n; OSCILLATOR MODULE\n\t\tinstr 10\n\nidur\t\t=\t\tp3\niamp\t\t=\t \tp4\nifqc\t\t=\t  \tcpspch(p5)\nitab\t\t=\t  \tp6\nioutch\t=\t  \tp7\n\nkdclick \tlinseg \t0, .002, iamp, idur-.004, iamp, .002, 0\nasig\t\toscil  \tkdclick, ifqc, itab\n\t\tzaw\t  \tasig, ioutch\n\n\t\tendin\n\n\n; FEEDBACK FILTER MODULE\n\t\tinstr 20\n\nidur\t\t=\t\tp3\nifco\t\t=\t    \tp4\nimodtab \t=\t    \tp5\nifeedbk \t=\t    \tp6\nicmptab \t=\t    \tp7\niinch\t=\t    \tp8\nioutch\t=\t    \tp9\n\nkfco\t\toscil   \tifco, 1/idur, imodtab\n\nasig\t\tzar\t  \tiinch\nafilt\ttone\t \tasig, kfco\n\nafdbk\t=\t\tafilt/10\t\t\t\t; REDUCE ORIGINAL SIGNAL\nadeli\tdelayr \t.2\t\t\t\t\t; FEED BACK DELAY\nadel1\tdeltapi \t1/kfco\nafilt2\tbutterbp\tadel1, kfco, kfco/4\t\t; FILTER THE DELAYED SIGNAL\nkamprms\trms\t \tafilt2\t\t\t\t; FIND RMS LEVEL\nkampn\t=\t  \tkamprms/6\t\t\t\t; NORMALIZE RMS LEVEL 0-1.\nkcomp\ttablei  \tkampn,icmptab,1,0\t\t; LOOK UP COMPRESSION VALUE IN TABLE\n\t\tdelayw \tafdbk+kcomp*ifeedbk*afilt2 ; ADD LIMITED FEEDBACK\n\t\tzaw\t \tadel1*10, ioutch\n\n\t\tendin\n\n; OUTPUT AMPLIFIER MODULE\n\t\tinstr 99\n\nidur\t\t=\t\tp3\niamp\t\t=\t  \tp4\niamptab \t=\t  \tp5\nipantab \t=\t  \tp6\niinch\t=\t  \tp7\n\nkamp\t\toscil  \tiamp, 1/idur, iamptab\nkpan\t\toscil  \t1, 1/idur, ipantab\n\nasig\t\tzar\t  \tiinch \n\t\touts\t  \tasig*kamp*sqrt(kpan), asig*kamp*sqrt(1-kpan)\n\nendin\n\n; CLEAR THE ZAKS\n\t\tinstr 100\n\t\tzacl\t\t0,30\n\t\tendin\n\n\n</CsInstruments>\n<CsScore>\n; Waveforms\nf1 0 8192 10 1                     ; Sine\nf2 0 1024 7  1 512 1 0 -1 512 -1   ; Square\nf3 0 1024 7  1 1024 -1             ; Triangle\n\n; Compression Curve\nf6 0 1025 7 1 128 .2 128 .15 256 .04 256 .02 257 .001\n\n; Audio Oscillator\ni10 0    .15   2     7.00   2         1\ni10 +    .15   1     7.05   .         .\ni10 .    .15   .     6.07   .         .\ni10 .    .15   1.5    7.10   .         .\ni10 .    .15   1     8.05   .         .\ni10 .    .15   .     7.07   .         .\n;\ni10 .    .15   2     7.00   3         1\ni10 .    .15   1     7.05   .         .\ni10 .    .15   .     6.07   .         .\ni10 .    .15   1.5   7.10   .         .\ni10 .    .15   1     8.05   .         .\ni10 .    .15   .     7.07   .         .\n;\ni10 .    .15   2     7.00   2         1\ni10 .    .15   1     7.05   .         .\ni10 .    .15   .     6.07   .         .\ni10 .    .15   1.5   7.10   .         .\ni10 .    .15   1     8.05   .         .\ni10 .    .15   .     7.07   .         .\n;\ni10 .    .15   2     7.00   3         1\ni10 .    .15   1     7.05   .         .\ni10 .    .15   .     6.07   .         .\ni10 .    .15   1.5   7.10   .         .\ni10 .    .15   1     8.05   .         .\ni10 .    .15   .     7.07   .         .\n;\n;i10 .    .15   2     7.00   2         1\n;i10 .    .15   1     7.05   .         .\n;i10 .    .15   .     6.07   .         .\n;i10 .    .15   1.5   7.10   .         .\n;i10 .    .15   1     8.05   .         .\n;i10 .    .15   .     7.07   .         .\n;\n;i10 .    .15   2     7.00   3         1\n;i10 .    .15   1     7.05   .         .\n;i10 .    .15   .     6.07   .         .\n;i10 .    .15   1.5   7.10   .         .\n;i10 .    .15   1     8.05   .         .\n;i10 .    .15   .     7.07   .         .\n;\n;i10 .    .15   2     7.00   2         1\n;i10 .    .15   1     7.05   .         .\n;i10 .    .15   .     6.07   .         .\n;i10 .    .15   1.5   7.10   .         .\n;i10 .    .15   1     8.05   .         .\n;i10 .    .15   .     7.07   .         .\n;\n;i10 .    .15   2     7.00   3         1\n;i10 .    .15   1     7.05   .         .\n;i10 .    .15   .     6.07   .         .\n;i10 .    .15   1.5   7.10   .         .\n;i10 .    .15   1     8.05   .         .\n;i10 .    .15   .     7.07   .         .\n\n;Filter Module\nf10 0 1024 7  .2 256 1  256 .6 512 .2\nf11 0 1024 7  .5 256 .2 256 1  512 .6\nf12 0 1024 7  .8 256 .5 256 .2 512 1\n;   Sta  Dur  Fco   ModTab  FeedBk  CompTab InCh  OutCh\ni20 0    3.6  1000  10      1.20    6       1     2\ni20 0    3.6  3000  11      1.20    6       1     3\ni20 0    3.6  6000  12      1.20    6       1     4\n\n;Output Module\nf15 0 1024 7  0 64 1 896 1 64 0\nf16 0 1024 7  1 512 0 512 1\n;   Sta  Dur  Amp   AmpTab  PanTab  InCh\ni99 0    3.6  2000  15      16       2\ni99 0    3.6  2000  15      16       3\ni99 0    3.6  2000  15      16       4\n\n; Clear the Zaks\ni100 0 3.6\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur           =              p3 using oscillator and Karplus-Strong plucked string and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from tanh2.orc and tanh2.sco\n; Original files preserved in same directory\n\nsr             =              44100\nkr             =              4410\nksmps          =              10\nnchnls         =              2\n\n;------------------------------------------------------------------------------\n; MODIFIED HYPERBOLIC DISTORTION\n; CODED BY HANS MIKELSON DECEMBER 1998\n;------------------------------------------------------------------------------\n               zakinit        50, 50\n\n;------------------------------------------------------------------------------\n; PLUCKED INSTRUMENT\n;------------------------------------------------------------------------------\n               instr          1\n\nidur           =              p3                            ; DURATION\niamp           =              p4                            ; AMPLITUDE\nipch           =              cpspch(p5)                    ; PITCH\nitab1          =              p6\nioutch         =              p7                            ; OUT CHANNEL\n\nasig           pluck          iamp, ipch, ipch, itab1, 1    ; GENERATE A PLUCKED TONE\n               zawm           asig, ioutch                  ; MIX TO THE ZAK CHANNEL\n\n               endin\n\n;------------------------------------------------------------------------------\n; SINE WAVE\n;------------------------------------------------------------------------------\n               instr          2\n\nidur           =              p3                                 ; DURATION\niamp           =              p4                                 ; AMPLITUDE\nifqc           =              cpspch(p5)                         ; PITCH\nitab1          =              p6\nioutch         =              p7                                 ; OUT CHANNEL\n\nasig           oscil          iamp, ifqc, itab1                  ; GENERATE A PLUCKED TONE\n               zawm           asig, ioutch                       ; MIX TO THE ZAK CHANNEL\n\n               endin\n\n;------------------------------------------------------------------------------\n; TANH DISTORTION\n;------------------------------------------------------------------------------\n               instr          11\n\nidur           =              p3\nkpregn         =              p4/8000                            ; PREGAIN/OVERDRIVE\nkpostg         =              p5*20000                           ; POSTGAIN/VOLUME\nka1            =              p6/8000                            ; SHAPE 1 0=FLAT\nka2            =              p7/8000                            ; SHAPE 2\nirect          =              p8                                 ; RECTIFICATION\niinch          =              p9                                 ; INPUT CHANNEL\nioutch         =              p10                                ; OUTPUT CHANNEL\nioutlvl        =              p11                                ; OUTPUT LEVEL\n\nkdclick        linseg         0, .002, 1, idur-.004, 1, .002, 0  ; DECLICK ENVELOPE\n\nasig           zar            iinch\nkrms           rms            asig, 10\nasig           =              asig + irect*krms\n\nkoffs1         =              irect*krms*(p4/1000+(p6-.5)/8000)\nkoffs2         =              -irect*krms*(p4/1000+(p7-.5)/8000)\nkoffs3         =              irect*krms*p4/1000\nkoffs          =              (exp(koffs1)-exp(koffs2))/(exp(koffs3)+exp(-koffs3))\n\n\nax1            =              asig*(kpregn+ka1)   ; PRECALCULATE A FEW VALUES TO SAVE TIME\nax2            =              -asig*(kpregn+ka2)\nax3            =              asig*kpregn\n\naout           =              ((exp(ax1)-exp(ax2))/(exp(ax3)+exp(-ax3))-koffs)*kpostg                                        ; MODIFIED TANH DISTORTION\n\n               zaw            aout*kdclick, ioutch                         ; OUTPUT THE RESULT\n               outs           aout*kdclick*ioutlvl, aout*kdclick*ioutlvl   ; OUTPUT THE RESULT\n\n               endin\n\n;------------------------------------------------------------------------------\n; CLEAR ZAK\n;------------------------------------------------------------------------------\n               instr          99\n               zacl           0, 50\n               zkcl           0, 50\n               endin\n     \n\n</CsInstruments>\n<CsScore>\n;------------------------------------------------------------------------------\n; MODIFIED HYPERBOLIC TANGENT DISTORTION\n; CODED BY HANS MIKELSON OCTOBER 1998\n;------------------------------------------------------------------------------\nf1 0 8192 10 1\nf2 0 8192 11 20\n\n; PLUCK\n;    Sta   Dur  Amp    Pitch  Table  OutCh\ni1   0.0   .18  10000  6.00   0      1\ni1   0.0   .    .      7.07   .      .\ni1   0.2   .    .      6.00   .      .\ni1   0.2   .    .      7.07   .      .\n;\ni1   1.6   .    .      6.00   .      .\ni1   1.6   .    .      7.07   .      .\ni1   1.8   .    .      6.00   .      .\ni1   1.8   .    .      7.07   .      .\n;\ni1   3.2   .    .      6.00   .      .\ni1   3.2   .    .      7.07   .      .\ni1   3.4   .    .      6.00   .      .\ni1   3.4   .    .      7.07   .      .\n;\ni1   4.8   .    .      6.00   .      .\ni1   4.8   .    .      7.07   .      .\ni1   5.0   .    .      6.00   .      .\ni1   5.0   .    .      7.07   .      .\n;\ni1   6.4   .    .      6.00   .      .\ni1   6.4   .    .      7.07   .      .\ni1   6.6   .    .      6.00   .      .\ni1   6.6   .    .      7.07   .      .\n;\ni1   8.0   .    .      6.00   .      .\ni1   8.0   .    .      7.07   .      .\ni1   8.2   .    .      6.00   .      .\ni1   8.2   .    .      7.07   .      .\n;\ni1   9.6   .    .      6.00   .      .\ni1   9.6   .    .      7.07   .      .\ni1   9.8   .    .      6.00   .      .\ni1   9.8   .    .      7.07   .      .\n;\ni1  11.2   .    .      6.00   .      .\ni1  11.2   .    .      7.07   .      .\ni1  11.4   .    .      6.00   .      .\ni1  11.4   .    .      7.07   .      .\n;\ni1  12.8   .    .      6.00   .      .\ni1  12.8   .    .      7.07   .      .\ni1  13.0   .    .      6.00   .      .\ni1  13.0   .    .      7.07   .      .\n;\ni1  14.4   .    .      6.00   .      .\ni1  14.4   .    .      7.07   .      .\ni1  14.6   .    .      6.00   .      .\ni1  14.6   .    .      7.07   .      .\n\n; DISTORTION\n;    Sta  Dur   Overdrive  Gain  Shape1  Shape2  Rect  InCh  OutCh  Output\ni11  0    16.0  4          .2    0       0       0     1     2      1\n\n; PLUCK\n;    Sta   Dur  Amp    Pitch  Table  OutCh\ni1   3.2   .2   10000  7.00   0      3\ni1   +     .    <      7.07   .      .\ni1   .     .    <      8.05   .      .\ni1   .     .    <      6.03   .      .\ni1   .     .    <      7.03   .      .\ni1   .     .    <      7.07   .      .\ni1   .     .    <      6.07   .      .\ni1   .     .    20000  7.10   .      .\n;\ni1   6.4   .2   10000  7.00   0      3\ni1   +     .    <      7.07   .      .\ni1   .     .    <      8.05   .      .\ni1   .     .    <      6.03   .      .\ni1   .     .    <      7.03   .      .\ni1   .     .    <      7.07   .      .\ni1   .     .    <      6.07   .      .\ni1   .     .    20000  7.10   .      .\n;\ni1   9.6   .2   10000  7.00   0      3\ni1   +     .    <      7.09   .      .\ni1   .     .    <      8.07   .      .\ni1   .     .    <      6.03   .      .\ni1   .     .    <      7.05   .      .\ni1   .     .    <      7.10   .      .\ni1   .     .    <      6.06   .      .\ni1   .     .    20000  7.10   .      .\n;\ni1  12.8   .2   10000  7.00   0      3\ni1   +     .    <      7.09   .      .\ni1   .     .    <      8.07   .      .\ni1   .     .    <      6.03   .      .\ni1   .     .    <      7.05   .      .\ni1   .     .    <      7.10   .      .\ni1   .     .    <      6.06   .      .\ni1   .     .    20000  7.10   .      .\n\n; DISTORTION\n;    Sta  Dur   Overdrive  Gain  Shape1  Shape2  Rect  InCh  OutCh  Output\ni11  3.2  12.8  2          .2    0       0       0     3     4      1\n\n\n; ZAK CLEAR\ni99  0    16\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifreq          =              cpspch( p4) using oscillator and reverb effect and chorus effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from alg4.orc and alg4.sco\n; Original files preserved in same directory\n\nsr             =              44100\nkr             =              4410\nksmps          =              10\nnchnls         =              2\n\n\n               ;    INSTRUMENT 1   /    DX7  ALGORITHM 5\n\n               instr 1\n                                                                      \nifreq          =              cpspch(p4)                         ; p4 = NOTE\nifreq1         =              ifreq * p5                         ; p5,p6,p7 = CARRIER RATIO\nifreq2         =              ifreq * p6\nifreq3         =              ifreq * p7\nisc            =              15\n\n\n               ;    CARRIER   ENVELOPES\n\nkc1eg          oscil          isc * p11,1 / p3, 2                ; p11-p16 = OP AMPLITUDE\nkc2eg          oscil          isc * p12,1 / p3, 4\nkc3eg          oscil          isc * p13,1 / p3, 6\n\n\n               ;    MODULATOR ENVELOPES\n     \nkm1eg          oscil          isc * p14,1 / p3, 3\nkm2eg          oscil          isc * p15,1 / p3, 5\nkm3eg          oscil          isc * p16,1 / p3, 7\n\n\n               ;    MODULATOR OSCILLATORS\n     \nam1            oscil          km1eg,p8  * ifreq1, 1              ; p8,p9,p10 = C:M RATIO\nam2            oscil          km2eg,p9  * ifreq2, 1\namf            oscil          km3eg,p10 * ifreq3, 1\nam3            oscil          km3eg,p10 * ifreq3 + p17 * amf, 1  ; p17=FEEDBACK\n                                                                 \n\n               ;    CARRIER OSCILLATORS\n\nac1            oscil          kc1eg,ifreq1 + am1, 1\nac2            oscil          kc2eg,ifreq2 + am2, 1\nac3            oscil          kc3eg,ifreq3 + am3, 1\n\n\n               ;    PANNING LFO\n\nkpan           oscil          .5,  p19, 1\n\n\nautl           =              (p18 * (ac1 + ac2 + ac3)) * kpan\nautr           =              (p18 * (ac1 + ac2 + ac3)) * (1 - kpan)\n               outs           autl,autr\n\ngal1           =              autl\ngar1           =              autr\n               endin\n\n\n               ;    INSTRUMENT     2    /    THREE OPERATOR CHORUSED FM W/ PEG,VIB\n\n               instr 2\n\nifreq          =              cpspch( p4)\nimodrat        =              ifreq * 100 / 88\n     \n\n               ;    ENVELOPES (CARRIER, MODULATOR, PITCH)\n                                                                 \nkenv           oscil          p5,1 / p3,8                        ; p5=CVL\nkmen           oscil          p6,1 / p3,9                        ; p6=MVL\nkpeg           oscil          p7,1 / p3,10                       ; p7=PLVL\n\n\n               ;    CHORUS PANNING AND VIBRATO\n\nklfo           oscil     p10,p11,1                               ; p10=CHDEPTH,p11=CHSPEED\nkvib           oscil     p8,p9 + kmen,1                          ; p8=VIBDEP,p9=VIBFR\nkpan           oscil     .7,p16,1                                ; p16=PANSPEED\n\n\n               ;    MODULATORS\n\na2mod          oscil     p14 * kmen, p13 * imodrat,1         ; p14=2MVL,p13=2MODRAT\namod           oscil     kmen, imodrat + a2mod,1\n\n\n               ;    CARRIERS\n\na1             oscil     kenv,ifreq + amod + kpeg + kvib,1\na2             oscil     p12 * kenv,2 * ifreq + amod + klfo + kpeg + kvib,1    ; p12=CHLVL\n\nautl           =         (p15 * (a1 + a2)) * kpan\nautr           =         (p15 * (a1 + a2)) * (1 - kpan)     \n               outs      autl,autr\n\ngal2           =         autl\ngar2           =         autr\n               endin\n\n\n\n               ;    INSTRUMENT 3   /    TWO OPERATOR CHORUSED FM\n\n               instr 3\n\nifreq          =         p4\n\n\n               ;    ENVELOPES\n\nkmeg           oscil     p8,1 / p3,12\nkceg           oscil     p7,1 / p3,11   \n\n\n               ;    OSCILATORS\n\nam             oscil     kmeg,ifreq * p6,1\nac             oscil     kceg,ifreq * p5 + am,1\nac2            oscil     kceg,ifreq * p5 + am + 5,1\n\nautl           =         (p10 * (ac  + ac2)) * p9\nautr           =         (p10 * (ac2  + ac)) * (1 - p9)\n               outs      autl,autr\n\ngal3           =         autl\ngar3           =         autr\n               endin\n\n\n               ;    TRUE STEREO REVERB INSTRUMENT\n\n               instr 99\n\nitime          =         p4\ninorm          =         p5\n     \ngasl           =         (gal1 + gal2 + gal3) / inorm\ngasr           =         (gar1 + gar2 + gar3) / inorm\n\naretl          reverb    gasl,itime     \naretr          reverb    gasr,itime\n     \n               outs      aretl,aretr\n               endin\n\n</CsInstruments>\n<CsScore>\nt 0 40\n\n                                             ;FUNCTIONS\nf01 0 4096 10 1\nf02 0 2048 7 0 4 1 750 .7 330 0\nf03 0 2048 7 0 5 1 550 .7 220 0\nf04 0 2048 7 0 5    1 800 .9 500 0\nf05 0 2048 7 0 105 1 700 .9 400 0\nf06 0 2048 7 0 105 1 800 .9 400 0\nf07 0 2048 7 0 105 1 700 .9 400 0\nf08 0 4096 7 0 496 1 3600 0\nf09 0 4096 7 0 1496 1 1600 0 1000 5\nf10 0 2048 7 0 2048 1\nf11 0 256 7 1 156 .3 100 0\nf12 0 256 7 1 56 .3 200 0\n                                             ;NOTE LIST\n\n\ni99  0    10   3    8\n\ni3   5    .03       880       4    20   10000     1000 1    .7\ni3   +    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         <    .\ni3   .    .         <         .    .    .         <         0\ni3   .    1         800       .    .    .         10000     .5   .\n\ni1   0    2         8.00 1    1    2    12.4 4.3  1.7  73   95   95   60   89   85   0    1.5  .3\ni1   1    2         8.08 .    .    .    .         .    .    .    .    .    .    .    .    .    1.7  .\ni1   2    3         7.11 .    .    .    .         .    .    .    .    .    .    .    .    .    1.3  .\n\ni2   0    6         7.00 200  300  100  5    5    6    6    30   1.4  20 1 1\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur           =              p3 using oscillator and FM synthesis and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from strum.orc and strum.sco\n; Original files preserved in same directory\n\nsr             =              44100\nkr             =              22050\nksmps          =              2\nnchnls         =              2\n\n; ORCHESTRA\n; THIS INSTRUMENT IS DESIGNED FOR STRUMMING CHORDS.\n; CODED BY HANS MIKELSON 11/15/97\n\n\n; STRUMMER INSTRUMENT\n               instr          1\n\nidur           =              p3                       ; DURATION\niamp           =              p4                       ; AMPLITUDE\niroot          =              p5                       ; ROOT OF THE CHORD\nichord         =              p6                       ; THE TYPE OF CHORD\niwave          =              p7                       ; WAVE FORM\nireps          =              p8                       ; NUMBER OF STRUMS\nienv           =              p9                       ; ENVELOPE SHAPE\niphase         =              1-p10                    ; TIME BETWEEN INDIVIDUAL PICKS\nitemper        =              p11                      ; TEMPERAMENT\nicarr          =              1                        ; CARRIER\nimodu          =              3                        ; MODULATOR\n     \n; FIRST NOTE OF THE CHORD\nkamp1          oscil          1, ireps/idur, ienv      ; USED FOR ENVELOPE\nichd1          table          0, ichord                ; READ THE CHORD TABLE\nifqc1          cps2pch        iroot+ichd1/100, 12      ; COMPUTE THE FREQUENCY\n;                Amp    Fqc    Car    Mod    Index    Wave\nasig1          foscil         kamp1, ifqc1, icarr, imodu, kamp1*4, iwave   ; USE A SIMPLE FM TONE\n\n; SECOND NOTE OF THE CHORD\nkamp2          oscil          1, ireps/idur, ienv, iphase\nichd2          table          1, ichord\nifqc2          cps2pch        iroot+ichd2/100, 12\nasig2          foscil         kamp2, ifqc2, icarr, imodu, kamp2*4, iwave\n\n; THIRD NOTE OF THE CHORD\nkamp3          oscil          1, ireps/idur, ienv, iphase*2\nichd3          table          2, ichord\nifqc3          cps2pch        iroot+ichd3/100, 12\nasig3          foscil         kamp3, ifqc3, icarr, imodu, kamp3*4, iwave\n\n; FOURTH NOTE OF THE CHORD\nkamp4          oscil          1, ireps/idur, ienv, iphase*3\nichd4          table          3, ichord\nifqc4          cps2pch        iroot+ichd4/100, 12\nasig4          foscil         kamp4, ifqc4, icarr, imodu, kamp4*4, iwave\n\n; SUM AND OUTPUT THE HAPPY RESULT\naout           =              asig1+asig2+asig3+asig4\n               outs           aout*iamp, aout*iamp\n\n               endin\n\n; EQUAL TEMPERAMENT TEST\n               instr          2\n\nidur           =              p3\niamp           =              p4\nipch           =              p5\niwave          =              p6\nienv           =              p7\nitemper        =              p8\nicarr          =              1\nimodu          =              3\n\nkamp1          oscil          1, 1/idur, ienv\nifqc1          cps2pch        ipch, -4\n\n;                Amp    Fqc    Car    Mod    Index    Wave\nasig1          foscil         kamp1, ifqc1, icarr, imodu, kamp1*4, iwave\n\naout           =              asig1\n               outs           aout*iamp, aout*iamp\n\n               endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\nf2 0 1024 7  1 1024 -1\nf3 0 1024 7 0 16 1 368 .6 512 .4 128 0\n\n; TEMPERAMENTS I CAN\u0007T FIGURE OUT HOW TO GET THE TEMPERAMENTS TO WORK.\nf4 0 16 -2 1.000 1.067 1.121 1.196 1.273 1.344 1.422 1.496 1.600 1.703 1.798 1.903 2.000 ; WERKMEISTER III\nf5 0 16 -2 1.000 1.059 1.122 1.189 1.260 1.335 1.414 1.498 1.587 1.682 1.782 1.888 2.000 ; EQUAL\nf6 0 16 -2 1.000 2.000 3.000 4.000 1.260 1.335 1.414 1.498 1.587 1.682 1.782 1.888 2.000 ; EQUAL\n\n; CHORDS\nf10 0 4 -2  0  4  7 12      ; MAJOR\nf11 0 4 -2  0  3  7 12      ; MINOR\nf12 0 4 -2  0  5  7 12      ; SUS4\nf13 0 4 -2  0  2  7 12      ; SUS2\nf14 0 4 -2  0  4  7 10      ; 7TH\nf15 0 4 -2  0  3  7 10      ; MINOR7TH\nf16 0 4 -2  0  3  7 11      ; MIN/MAJ7TH\nf17 0 4 -2  0  4  7 11      ; MAJ7TH\nf18 0 4 -2  0  4  7  9      ; MAJOR6TH\nf19 0 4 -2  0  3  7  9      ; MINOR6TH\nf20 0 4 -2  0  4 10 14      ; 9TH\nf21 0 4 -2  0  4 10 17      ; 11TH\nf22 0 4 -2  0  4 10 21      ; 13TH\nf23 0 4 -2  0  3  6 12      ;\n\n;6/9:            0  4  7  9 14\n;MIN9TH:         0  3  7 10 14\n;MIN11TH:        0  3  7 10 17\n;MIN13TH:        0  3  7 10 21\n;MAJ9TH:         0  4  7 11 14\n;MAJ11TH:        0  4  7 11 17\n;MAJ13TH:        0  4  7 11 21\n;ADD2:           0  2  4  7\n\n;   STA  DUR  AMP   ROOT  CHORD  WAVE  REPEAT  ENV  PHASE  TEMPERAMENT\ni1  0    1.6  8000  7.02  10     1     2       3    .20    4\ni1  +    1.6  .     7.04  11     .     2       .    .      .\ni1  .    0.8  .     6.09  10     .     1       .    .      .\ni1  .    1.6  .     7.07  10     .     2       .    .10    .\ni1  .    1.6  .     7.02  10     .     1       .    .20    .\n;\ni1  .    0.8  .     7.02  10     .     1       .    .05    .\ni1  .    0.8  .     7.02  11     .     1       .    .05    .\ni1  .    0.8  .     7.02  12     .     1       .    .00    .\ni1  .    0.8  .     7.02  13     .     1       .    .00    .\ni1  .    0.8  .     7.02  23     .     1       .    .05    .\ni1  .    1.6  .     7.02  10     .     1       .    .10    .\n\n;   STA  DUR  AMP   PITCH  WAVE  ENV  TEMPERAMENT\n;i2  0    .2   8000  7.00   1     3    4\n;i2  +    .    .     7.01   .     .    .\n;i2  .    .    .     7.02   .     .    .\n;i2  .    .    .     7.03   .     .    .\n;i2  .    .    .     7.04   .     .    .\n;i2  .    .    .     7.05   .     .    .\n;i2  .    .    .     7.06   .     .    .\n;i2  .    .    .     7.07   .     .    .\n;i2  .    .    .     7.08   .     .    .\n;i2  .    .    .     7.09   .     .    .\n;i2  .    .    .     7.10   .     .    .\n;i2  .    .    .     7.11   .     .    .\n;i2  .    .    .     7.12   .     .    .\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a dodgefig sound using oscillator and linear envelope and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from dodgefig329.orc and dodgefig329.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t441\nksmps\t=\t\t100\nnchnls\t=\t\t1\n\n;;; THREE WAYS OF ARTICULATING PITCHES FROM RISSET'S \"MUTATIONS\" ;;; FIGURE 3.29 FROM DODGE & JERSE, P.97 \n\n\n\t\tinstr 1\t\t\t; A\nkamp1 \tlinen \tp4,.01,p3,.07\nkfreq1 \t=\t\tp5\nasig1 \toscil \tkamp1,kfreq1,1\nkamp2 \t=\t\tp6\nkfreq2 \t=\t\tp7\nasig2 \toscil \tkamp2,kfreq2,2\naout \t=\t\tasig1*asig2\n\t\tout\t\taout\n\t\tendin\n\n\n\t\tinstr 2\t\t\t; B\nkamp1 \tlinseg \t0,p3/2,p4,p3/2,0\nkfreq1 \t=\t\tp5\nasig1 \toscil \tkamp1,kfreq1,1\nkamp2 \t=\t\tp6\nkfreq2 \t=\t\tp7\nasig2 \toscil \tkamp2,kfreq2,2\naout \t=\t\tasig1*asig2\n\t\tout\t\taout\n\t\tendin\n\n\t\tinstr 3\t\t\t; C\niphsoff \t=\t\t(65/5)*.01\n\nka1\t\t=\t\tp4\nkf1\t\t=\t\t1/p3\niph1 \t=\t\t0\nkamp1 \toscil \tka1,kf1,3,iph1\nkfreq1 \t=\t\tp5\nasig1 \toscil \tkamp1,kfreq1,1\n\nka2\t\t=\t\tp4\nkf2\t\t=\t\t1/p3\niph2 \t=\t\tiph1+iphsoff\nkamp2 \toscil \tka2,kf2,3,iph2\nkfreq2 \t=\t\tp5*2\nasig2 \toscil \tkamp2,kfreq2,1\n\nka3\t\t=\t\tp4\nkf3\t\t=\t\t1/p3\niph3 \t=\t\tiph2+iphsoff\nkamp3 \toscil \tka3,kf3,3,iph3\nkfreq3 \t=\t\tp5*3\nasig3 \toscil \tkamp3,kfreq3,1\n\nka4\t\t=\t\tp4\nkf4\t\t=\t\t1/p3\niph4 \t=\t\tiph3+iphsoff\nkamp4 \toscil \tka4,kf4,3,iph4\nkfreq4 \t=\t\tp5*4\nasig4 \toscil \tkamp4,kfreq4,1\n\nka5\t\t=\t\tp4\nkf5\t\t=\t\t1/p3\niph5 \t=\t\tiph4+iphsoff\nkamp5 \toscil \tka5,kf5,3,iph5\nkfreq5 \t=\t\tp5*5\nasig5 \toscil \tkamp5,kfreq5,1\n\nka6\t\t=\t\tp4\nkf6\t\t=\t\t1/p3\niph6 \t=\t\tiph5+iphsoff\nkamp6 \toscil \tka6,kf6,3,iph6\nkfreq6 \t=\t\tp5*6\nasig6 \toscil \tkamp6,kfreq6,1\n\nka7\t\t=\t\tp4\nkf7\t\t=\t\t1/p3\niph7 \t=\t\tiph6+iphsoff\nkamp7 \toscil\tka7,kf7,3,iph7\nkfreq7 \t=\t\tp5*7\nasig7 \toscil \tkamp7,kfreq7,1\n\nka8\t\t=\t\tp4\nkf8\t\t=\t\t1/p3\niph8 \t=\t\tiph7+iphsoff\nkamp8 \toscil \tka8,kf8,3,iph8\nkfreq8 \t=\t\tp5*8\nasig8 \toscil \tkamp8,kfreq8,1\n\nka9\t\t=\t\tp4\nkf9\t\t=\t\t1/p3\niph9 \t=\t\tiph8+iphsoff\nkamp9 \toscil \tka9,kf9,3,iph9\nkfreq9 \t=\t\tp5*9\nasig9 \toscil \tkamp9,kfreq9,1\n\nka10 \t=\t\tp4\nkf10 \t=\t\t1/p3\niph10 \t=\t\tiph9+iphsoff\nkamp10 \toscil \tka10,kf10,3,iph10\nkfreq10 \t=\t\tp5*10\nasig10 \toscil \tkamp10,kfreq10,1\n\nadd1 \t=\t\tasig1+asig2+asig3+asig4+asig5\nadd2 \t=\t\tasig6+asig7+asig8+asig9+asig10\nadd\t\t=\t\tadd1+add2\nkenv \tlinseg \t0,p3/2,2,p3/2,0\naout \t=\t\tadd*kenv\n\t\tout\t\taout\n\t\tendin\n\n\n</CsInstruments>\n<CsScore>\n\n;;; SCORE FOR 3.29\n\nf1 0 8192 10 1\nf2 0 128 7 0 10 1 44 1 20 -1 44 -1 10 0\nf3 0 128 8 0 .5 0 63.5 1 63.5 0 .5 0\n;p1 p2 p3\tp4 p5 p6 p7\n;inst start length amp1 freq1 amp2 kfreq2 \ni1 0.5 0.1 125 587.3 120 590\ni. 0.6 0.3\t. 277.2 . 280\ni. 0.9 0.2\t. 466.2 . 470\ni. 1.1 0.3\t. 932.3 . 930\ni. 1.4 0.2\t. 659.3 . 660\n\ni2 0.9 3.4\t50 587.3 55 590\ni. 1.0 3.3\t. 277.2 . 280\ni. 1.3 3.1\t. 466.2 . 470\ni. 1.5 2.9\t. 932.3 . 930\ni. 1.8 2.6\t. 659.3 . 660\n\ni3 1.0 \t4.0\t 370\t587.3 \ni.\t. \t4.5\t . \t\t277.2 \ni.\t. \t6.5\t . \t\t466.2\ni.\t. \t7.5\t . \t\t932.3 \ni.\t. \t10.0 . \t\t659.3 \n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur    =       p3 using oscillator and interpolating oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from addit.orc and addit.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n\n;----------------------------------------------------------------------------------\n; Basic Additive Synthesis\n;----------------------------------------------------------------------------------\n       instr    1\n\nidur    =       p3\niamp    =       p4\nifqc    =       cpspch(p5)*2\nitable  =       p6\n\nkdvib   linseg  0, .1, 0, .1, .01, idur-.2, .01\nkvibr   oscil   kdvib, 6, 1\nkamp    linseg  0, .01, iamp, idur-.02, iamp*.8, .01, 0\naamp    interp  kamp\n\n;              AMP   FQC\naoutl   oscil  aamp, ifqc*(1.001+kvibr), itable\naoutr   oscil  aamp, ifqc*(0.999+kvibr), itable\n\n        outs   aoutl, aoutr\n\n      endin\n\n;----------------------------------------------------------------------------------\n; Linear Synthesis\n;----------------------------------------------------------------------------------\n       instr    2\n\nidur    =       p3\niamp    =       p4\nifqc    =       cpspch(p5)*2\nitable  =       p6\n\nkdvib   linseg  0, .2, 0, .2, .007, idur-.4, .01\nkvibr   oscil   kdvib, 6, 1\nkamp    linseg  0, .05, iamp, .1, iamp*.7, idur-.25, iamp*.5, .1, 0\n\naamp    interp  kamp\nattk    loscil  iamp/4, 440, 10, 440\n;asamp1 loscil  iamp, ifqc, iwav, ibase\n\n;              AMP   FQC             TABLE\naout    oscil  aamp, ifqc*(1+kvibr), itable\n\n        outs   attk+aout, attk+aout\n\n      endin\n\n;----------------------------------------------------------------------------------\n; Additive Synthesis 2\n;----------------------------------------------------------------------------------\n       instr    3\n\nidur   =       p3\niamp   =       p4\nifqc   =       cpspch(p5)\nitabl0 =       p6\nitab1  =       p7\nitab2  =       p8\nitab3  =       p9\nitab4  =       p10\nipch1  =       p11\nipch2  =       p12\nipch3  =       p13\nipch4  =       p14\n\naamp1  oscil  1, 1/idur, itab1\napch1  oscil  1, 1/idur, ipch1\naout1  oscil  aamp1, ifqc*apch1, itabl0\n\naamp2  oscil  1, 1/idur, itab2\napch2  oscil  1, 1/idur, ipch2\naout2  oscil  aamp2, ifqc*apch2, itabl0\n\naamp3  oscil  1, 1/idur, itab3\napch3  oscil  1, 1/idur, ipch3\naout3  oscil  aamp3, ifqc*apch3, itabl0\n\naamp4  oscil  1, 1/idur, itab4\napch4  oscil  1, 1/idur, ipch4\naout4  oscil  aamp4, ifqc*apch4, itabl0\n\naoutl  =      aout1+aout2+aout3\naoutr  =      aout1-aout3+aout4\n       outs   aoutl*iamp, aoutr*iamp\n\n       endin\n\n;----------------------------------------------------------------------------------\n; Basic Additive Synthesis\n;----------------------------------------------------------------------------------\n       instr    4\n\nidur    =       p3\niamp    =       p4\nifqc    =       cpspch(p5)*2\nitable  =       p6\nipbend  =       p7\n\nkpbend  oscili  1, 1/idur, ipbend\n\nkdvib   linseg  0, .1, 0, .1, .01, idur-.2, .01\nkvibr   oscil   kdvib, 6, 1\nkamp    linseg  0, .01, iamp, idur-.02, iamp*.8, .01, 0\naamp    interp  kamp\n\n;              AMP   FQC\naoutl   oscil  aamp, ifqc*(1.001+kvibr)*kpbend, itable\naoutr   oscil  aamp, ifqc*(0.999+kvibr)*kpbend, itable\n\n        outs   aoutl, aoutr\n\n      endin\n\n;----------------------------------------------------------------------------------\n; Tremelo\n;----------------------------------------------------------------------------------\n       instr    20\n\nidur    =       p3\niamp    =       p4\nifqc    =       cpspch(p5)\niwave   =       p6\nilfofqc =       p7\nilfowav =       p8\n\n;              AMP   FQC   TABLE\nkampo   oscil  iamp,    ilfofqc, ilfowav\nkamp    =      (kampo+iamp*.5)\nasig    oscil  kamp, ifqc, iwave\n\n        outs   asig, asig\n\n      endin\n\n;----------------------------------------------------------------------------------\n; Panning\n;----------------------------------------------------------------------------------\n       instr    21\n\nidur    =       p3\niamp    =       p4\nifqc    =       cpspch(p5)\niwave   =       p6\nilfofqc =       p7\nilfowav =       p8\n\n;              AMP   FQC   TABLE\nkampo   oscil  1,    ilfofqc, ilfowav\nkamp    =      (kampo+.5)\nasig    oscil  iamp, ifqc, iwave\n\n        outs   asig*sqrt(kamp), asig*sqrt(1-kamp)\n\n      endin\n\n\n</CsInstruments>\n<CsScore>\n; Sine Wave\nf1 0 16384 10 1\n\n; Saw Wave 1/n series\nf2 0 16384 10 1 .5 .33 .25 .2  .167\n\n; Square Wave 1/n odd series\nf3 0 16384 10 1 0  .5  0   .333 0  .25 0 .2 0 .167\n\n; Triangle Wave 1/n^2 odd series\nf4 0 16384 10 1 0  .1111  0  .04  0  .0204 0 .012346 0 .008264 0 .005917\n\n; Irregular Wave\nf5 0 1024 10 1 .3 .1 0 .2 .02 0 .1 .04\n\n; Pulse Wave 1/n odd series 1 point missing\nf6 0 16384 10 1 0  .5  0   .333  0  0  0 .2 0 .167\n\n; Sonatina in G major, Hob. XVI:8 Haydn\n; Treble\n;  Sta  Dur   Amp   Freq   Table\ni1 0.0  .15   5000  8.02   3\ni1 +    .05   .     8.07   .\n;\ni1 0.2  .20   .     8.02  .\ni1 +    .15   .     7.11  .\ni1 .    .05   .     8.02  .\ni1 .    .20   .     7.11  .\ni1 .    .15   .     7.07  .\ni1 .    .05   .     7.11  .\n;\ni1 1.0  .40   .     7.07  .\ni1 1.6  .20   10000 8.02  2\n;\ni1 1.8  .0667 .     8.00  .\ni1 +    .0667 .     8.02  .\ni1 .    .0666 .     8.04  .\ni1 .    .20   .     8.02  .\ni1 2.4  .20   .     7.07  .\n;\ni1 2.6  .0667 .     7.09  .\ni1 +    .0667 .     7.11  .\ni1 .    .0666 .     8.00  .\ni1 .    .20   .     7.11  .\n; Bass\ni2 0.2  .80   10000 6.11  4\ni2 .    .80   .     6.07  .\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for INSTRUMENT 1 / DX7     ALGORITHM 5 using oscillator and chorus effect and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from alg5.orc and alg5.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1             ; INSTRUMENT 1 / DX7     ALGORITHM 5\n\nifreq     =         cpspch(p4)               ; p4 = NOTE\nifreq1    =         ifreq * p5               ; p5, p6, p7 = CARRIER RATIO\nifreq2    =         ifreq * p6\nifreq3    =         ifreq * p7\nisc       =         15\n\n\n; CARRIER ENVELOPES\n\nkc1eg     oscil     isc * p11, 1 / p3, 2     ; p11-p16 = OP AMPLITUDE\nkc2eg     oscil     isc * p12, 1 / p3, 4\nkc3eg     oscil     isc * p13, 1 / p3, 6\n\n\n; MODULATOR ENVELOPES\n     \nkm1eg     oscil     isc * p14, 1 / p3, 3\nkm2eg     oscil     isc * p15, 1 / p3, 5\nkm3eg     oscil     isc * p16, 1 / p3, 7\n\n\n; MODULATOR OSCILLATORS\n     \nam1       oscil     km1eg, p8  * ifreq1, 1   ; p8,p9,p10 = C:M RATIO\nam2       oscil     km2eg, p9  * ifreq2, 1\namf       oscil     km3eg, p10 * ifreq3, 1\nam3       oscil     km3eg, p10 * ifreq3 + p17 * amf, 1 ; p17 = FEEDBACK\n\n\n; CARRIER OSCILLATORS\n\nac1       oscil     kc1eg, ifreq1 + am1, 1\nac2       oscil     kc2eg, ifreq2 + am2, 1\nac3       oscil     kc3eg, ifreq3 + am3, 1\n\n          out       p18 * (ac1 + ac2 + ac3)\n          endin\n\n\n          instr 2             ; INSTRUMENT 2 / THREE OPERATOR CHORUSED FM W/ PEG,VIB\n\nifreq     =         cpspch( p4)\nimodrat   =         ifreq * 100 / 88\n     \n\n; ENVELOPES (CARRIER, MODULATOR, PITCH)\n\nkenv      oscil     p5, 1 / p3, 8            ; p5 = CVL\nkmen      oscil     p6, 1 / p3, 9            ; p6 = MVL\nkpeg      oscil     p7, 1 / p3, 10           ; p7 = PLVL\n\n\n; CHORUS AND VIBRATO\n                                        \nklfo      oscil     p10, p11, 1              ;p10 = CHDEPTH, p11 = CHSPEED\nkvib      oscil     p8,  p9 + kmen, 1        ; p8 = VIBDEP, p9 = VIBFR\n\n\n; MODULATORS\n\na2mod     oscil     p14 * kmen, p13 * imodrat, 1 ; p14 = 2MVL, p13 = 2MODRAT\namod      oscil     kmen, imodrat + a2mod, 1\n\n\n; CARRIERS\n\na1        oscil     kenv, ifreq + amod + kpeg + kvib, 1\na2        oscil     p12 * kenv, 2 * ifreq + amod + klfo + kpeg + kvib, 1 ; p12 = CHLVL\n\n\n          out       p15 * (a1 + a2)\n          endin\n\n\n          instr 3             ; INSTRUMENT 3 / TWO OPERATOR CHORUSED FM\n\n\nifreq     =         p4\n\n\n; ENVELOPES\n\nkmeg      oscil     p8, 1 / p3,    12\nkceg      oscil     p7, 1 / p3,    11   \n\n\n; OSCILATORS\n\nam        oscil     kmeg, ifreq * p6,   1\nac        oscil     kceg, ifreq * p5 + am,   1\nac2       oscil     kceg, ifreq * p5 + am + 5,1\n\n\n          out       ac + ac2\n          endin\n\n</CsInstruments>\n<CsScore>\nt 0 40\n\n                                             ;FUNCTIONS\nf01 0 4096 10 1\nf02 0 2048 7 0 4 1 750 .7 330 0\nf03 0 2048 7 0 5 1 550 .7 220 0\nf04 0 2048 7 0 5    1 800 .9 500 0\nf05 0 2048 7 0 105 1 700 .9 400 0\nf06 0 2048 7 0 105 1 800 .9 400 0\nf07 0 2048 7 0 105 1 700 .9 400 0\nf08 0 4096 7 0 496 1 3600 0\nf09 0 4096 7 0 1496 1 1600 0 1000 5\nf10 0 2048 7 0 2048 1\nf11 0 256 7 1 156 .3 100 0\nf12 0 256 7 1 56 .3 200 0\n                                             ;NOTE LIST\n\n\ni3   5    .03       880       4    20   10000     10000\ni3   +    .         <         .    .    .         .\ni3   .    .         <         .    .    .         .\ni3   .    .         <         .    .    .         .\ni3   .    .         <         .    .    .         .\ni3   .    .         <         .    .    .         .\ni3   .    .         <         .    .    .         .\ni3   .    .         <         .    .    .         .\ni3   .    .         <         .    .    .         .\ni3   .    .         <         .    .    .         .\ni3   .    .         <         .    .    .         .\ni3   .    .         <         .    .    .         .\ni3   .    .         <         .    .    .         .\ni3   .    .         <         .    .    .         .\ni3   .    .         <         .    .    .         .\ni3   .    .         <         .    .    .         .\ni3   .    1         800       .    .    .         .\n\ni1   0    2         8.00 1    1    2    12.4 4.3  1.7  73   95   95   60   89   85   0    1.5\ni1   1    2         8.08 .    .    .    .    .    .    .    .    .    .    .    .    .    .    1\ni1   2    3         7.11 .    .    .    .    .    .    .    .    .    .    .    .    .    .    .5\n\ni2   0    6         7.00 200  300  100  5    5    6    6    30   1.4  20 1\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur           =              p3 using oscillator and FM synthesis and Butterworth bandpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from indust2.orc and indust2.sco\n; Original files preserved in same directory\n\nsr             =              44100\nkr             =              4410\nksmps          =              10\nnchnls         =              2\n\n;------------------------------------------------------------------\n; INDUSTRY\n; BY HANS MIKELSON APRIL 1998\n;------------------------------------------------------------------\n; ORCHESTRA\n\n\n;------------------------------------------------------------------\n; INDUSTRIAL LOOPS\n;------------------------------------------------------------------\n               instr          2\n\nidur           =              p3\niamp           =              p4*2\nifqc           =              cpspch(p5)\niplstab        =              p6\nirattab        =              p7\niratrat        =              p8\nipantab        =              p9\nimixtab        =              p10\niloop          =              p11\nadel           init           0\n\nkprate         oscil          1, iratrat, irattab                                    ; PULSE RATE\nkamp           oscil          iamp, kprate, iplstab                                  ; AMPLITUDE PULSE\nkloop          linseg         0, .005, 1, iloop-.01, 1, .005,  0, p3-iloop-.01, 0    ; GATE IN DELAY LOOP\nkpan           oscil          1, 1/idur, ipantab                                     ; PANNING\nkmix           oscil          1, 1/idur, imixtab                                     ; FADING\n\nasig           rand           kamp                                                   ; NOISE SOURCE\naflt           butterbp       asig, ifqc, ifqc/4                                     ; BAND FILTER\nabal           balance        aflt, asig                                             ; BRING LEVEL BACK UP\n\naout           =              abal*kloop+adel                                        ; GATE IN WITH FEEDBACK\nadel           delay          aout, iloop                                            ; DELAY\n\n               outs           aout*sqrt(kpan)*kmix, aout*sqrt(1-kpan)*kmix ; Output pan & fade\n\n               endin\n\n;------------------------------------------------------------------\n; SCIFI LOOPS\n;------------------------------------------------------------------\n               instr          3\n\nidur           =              p3\niamp           =              p4\nifqc           =              cpspch(p5)\nirattab        =              p6\niratrat        =              p7\nipantab        =              p8\nimixtab        =              p9\niloop          =              p10\nimodf          =              p11\nimodl          =              p12\nadel           init            0\n\nkrate          oscil          1, iratrat, irattab                                    ; PULSE RATE\nkloop          linseg         0, .005, 1, iloop-.01, 1, .005,  0, p3-iloop-.01, 0    ; GATE IN DELAY LOOP\nkpan           oscil          1, 1/idur, ipantab                                     ; PANNING\nkmix           oscil          1, 1/idur, imixtab                                     ; FADING\nkmodl          linseg         0, iloop/2, imodl, iloop/2, imodl/2, .01, 0, .01, 0\n\n;                             Amp   Fqc      Car   Mod    MAmp    Wave\nabal           foscil         iamp, ifqc*krate, 1,      imodf, imodl,  1             ; FM SOURCE\n\naout           =              abal*kloop+adel                                        ; GATE IN WITH FEEDBACK\nadel           delay          aout, iloop                                            ; DELAY\n\n               outs           aout*sqrt(kpan)*kmix, aout*sqrt(1-kpan)*kmix           ; OUTPUT PAN & FADE\n\n               endin\n\n\n\n\n</CsInstruments>\n<CsScore>\n; SCORE\nf1 0 8192 10 1      ; SINE\n\n; PULSE TABLES\nf10  0 1024   7  0 512 1 512 0\nf11  0 1024   7  0 256 0 256 1 256 0 256 0\nf12  0 1024   7  0 256 0 128 0 128 1 128 0 128 0 256 0\n; RATE TABLES\nf20  0 1024  -5  100  512  1000  512 100\nf21  0 1024  -5  10  1024 1000\nf22  0 1024  -5  100  512  10000 512  30\nf23  0 1024  -5  25  1024  62\nf24  0 1024  -7  500  1024  62\nf25  0 1024  -5  5000 1024  1000\nf26  0 1024  -7  50   512  500 512 50\nf27  0 1024  -5  .5   512  2 512 .5\nf28  0 1024  -5  .5   1024 4\nf29  0 1024  -7  .5   250 .5 6 2 250 2 6 1 250 1 6 4 256 .5\n; PAN TABLES\nf30  0 1024  7  0  1024  1\nf31  0 1024  7  1  1024  0\nf32  0 1024  7  1 512  0 512 1\nf33  0 1024  -7 .5 1024 .5\n; MIX TABLES\nf40  0 1024  5  .01 256 1 512 1 256 .01\nf41  0 1024  5  .01 128 1 768 1 128 .01\nf42  0 1024  5  1 1024 1\n; LOOP TABLE\nf50  0 1024 -7  .1 1024 .1\nf51  0 1024 -7  .4 1024 .4\n\n; FILTER FCO TABLE\nf60  0 1024  -7 .01 512 4 512 .01\nf61  0 1024  -5 .1 512 2 512 10\nf62  0 1024  -5 .1 256 2 256 .5 256 10 256 .1\nf63  0 1024  -5 .2 128 2 128 .2 128 3 128 .2 128 4 128 .2 128 5 128 .2\n\n; GENERATE INDUSTRIAL LOOPS\n;   Sta  Dur   Amp    Pitch  PulsTab  RtTab  RtRt  PanTab  MixTab  Loop   \ni2   0   0.8  10000   9.00    12       21     2    32      42      50    \n\n; GENERATE SCI-FI SOUNDS\n;   Sta  Dur  Amp   Pitch  RtTab  RtRt  PanTab  MixTab  Loop  FMFqc FMAmp\ni3  10   4   8000   8.00   27     1     31      41      .1    2     6\ni3  15   8   7000   7.00   28     4     33      41      .2    2     3\ni3  18   5   5000   8.00   29     3     30      41      .45   .5    4\ni3  24   6   8000   8.05   27     1     31      40      .05   2.53  4\ni3  28   4   4000   9.00   29     2     32      41      .3    1.21  7\n\n; LOOP TABLES\nf50 30 1024 -5  .41 50 .021 206 .45 56 .012 200 .58 56 .43 200 .025 56 .11 200 .32\n; GENERATE INDUSTRIAL LOOPS\n;   Sta  Dur  Amp   Pitch  PulsTab  RtTab  RtRt  PanTab  MixTab  Loop\n;i4  30   32   6000  8.00   12       25     1     31      41      50\n\n; LOOP TABLES\n;f51 36 1024 -5  .11 50 .11 206 .15 56 .12 200 .18 56 .13 200 .15 56 .13 200 .12\n; GENERATE INDUSTRIAL LOOPS\n;   Sta  Dur  Amp   Pitch  PulsTab  RtTab  RtRt  PanTab  MixTab  Loop\n;i4  36   12   6000  9.00   12       25     2     31      41      51\n\n;f52 42 1024 -7  .21 50 .21 206 .15 56 .12 200 .028 56 .023 200 .015 56 .0041 200 .052\n;   Sta  Dur  Amp   Pitch  PulsTab  RtTab  RtRt  PanTab  MixTab  Loop\n;i4  42   32   4000  7.00   10       20     1     31      41      52\n\n;f53 60 1024 -7  .12 512 .15 512 .24\n;   Sta  Dur  Amp   Pitch  RtTab  RtRt  PanTab  MixTab  Loop  SoundIn\n;i7  60   8    1     1      29     1     31      41      53    13\n\n; GENERATE SCI-FI SOUNDS\n;   Sta  Dur  Amp   Pitch  RtTab  RtRt  PanTab  MixTab  Loop  FMFqc FMAmp\n;i6  68   4   8000   6.07   50     2     30      41      42    2     6\n;i6  70   4   8000   8.00   29     2     31      41      42    2     6\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1        =         1/p3 using oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from RissetReed.orc and RissetReed.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n\n; Risset \"reedy/plucked\" #250\n\n          instr 1\ni1        =         1/p3\nk1        oscil     p4, i1, p5\na1        oscili    k1, p6, 1\n          out       a1\n          endin\n\n          instr 2\ni1        =         1/p3\nk1        oscil     p4, i1, p5\na1        oscili    k1, p6, 1\n          out       a1\n          endin\n\n          instr 3\ni1        =         1/p3\nk1        oscil     p4, i1, p5\na1        oscili    k1, p6, 1\n          out       a1\n          endin\n\n</CsInstruments>\n<CsScore>\n; Risset \"reedy/plucked\" #250\n\nf1 0 512 10 .4 .3 .35 .5 .1 .2 .15 0 .02 .05 .03\nf2 0 512 7 0 86 1 85 .8 85 .6 85 .7 85 .6 86 0\nf3 0 512 7 0 86 .7 85 .8 85 1 85 .5 85 .5 86 0\nf4 0 512 7 0 1 .6 119 .9 180 .7 100 .8 112 .6\nf5 0 512 7 0 1 .5 239 .6 272 .5\nf6 0 512 7 0 1 .6 19 .9 300 .3 192 0\nf7 0 512 7 0 1 .5 39 .8 260 .2 212 0\nf8 0 513 5 .00195 128 .99 128 .99 128 .00195 128 .00195\n\nf0 1\ns\ni1 1.0    .5  6000 2 486\ni1 1.5    .25    . . 615\ni.   +    .      . . 600\ni.   .    .5     . . 729\ni.   .    .25    . . 972\ni.   .    .      . . 890\ni.   .    .      . . 820\ni.   .    .      . . 729\ni.   .    .5     . . 820\ni.   . 2.0     . . 729\ns\ni1 1.0    .5  6000 4 486\ni1 1.5    .25    . . 615\ni.   +    .      . . 600\ni.   .    .5     . . 729\ni.   .    .25    . . 972\ni.   .    .      . . 890\ni.   .    .      . . 820\ni.   .    .      . . 729\ni.   .    .5     . . 820\ni.   . 2.0     . . 729\ns\ni1 1.0    .5  6000 5 486\ni1 1.5    .25    . . 615\ni.   +    .      . . 600\ni.   .    .5     . . 729\ni.   .    .25    . . 972\ni.   .    .      . . 890\ni.   .    .      . . 820\ni.   .    .      . . 729\ni.   .    .5     . . 820\ni.   . 2.0     . . 729\ns\ni1 1.0    .5  6000 6 486\ni1 1.5    .25    . . 615\ni.   +    .      . . 600\ni.   .    .5     . . 729\ni.   .    .25    . . 972\ni.   .    .      . . 890\ni.   .    .      . . 820\ni.   .    .      . . 729\ni.   .    .5     . . 820\ni.   . 2.0     . . 729\ns\ni1 1.0    .5  6000 7 486\ni1 1.5    .25    . . 615\ni.   +    .      . . 600\ni.   .    .5     . . 729\ni.   .    .25    . . 972\ni.   .    .      . . 890\ni.   .    .      . . 820\ni.   .    .      . . 729\ni.   .    .5     . . 820\ni.   . 2.0     . . 729\ns\ni1 1.0    .5  6000 8 486\ni1 1.5    .25    . . 615\ni.   +    .      . . 600\ni.   .    .5     . . 729\ni.   .    .25    . . 972\ni.   .    .      . . 890\ni.   .    .      . . 820\ni.   .    .      . . 729\ni.   .    .5     . . 820\ni.   . 2.0     . . 729\ns\n\ni1 1.0    .5  1000 2 486\ni1 1.5    .25    . . 615\ni.   +    .      . . 600\ni.   .    .5     . . 729\ni.   .    .25    . . 972\ni.   .    .      . . 890\ni.   .    .      . . 820\ni.   .    .      . . 729\ni.   .    .5     . . 820\ni.   . 2.0     . . 729\n\ni1 1.0    .5  1000 4 486\ni1 1.5    .25    . . 615\ni.   +    .      . . 600\ni.   .    .5     . . 729\ni.   .    .25    . . 972\ni.   .    .      . . 890\ni.   .    .      . . 820\ni.   .    .      . . 729\ni.   .    .5     . . 820\ni.   . 2.0     . . 729\n\ni1 1.0    .5  1000 5 486\ni1 1.5    .25    . . 615\ni.   +    .      . . 600\ni.   .    .5     . . 729\ni.   .    .25    . . 972\ni.   .    .      . . 890\ni.   .    .      . . 820\ni.   .    .      . . 729\ni.   .    .5     . . 820\ni.   . 2.0     . . 729\n\ni1 1.0    .5  1000 6 486\ni1 1.5    .25    . . 615\ni.   +    .      . . 600\ni.   .    .5     . . 729\ni.   .    .25    . . 972\ni.   .    .      . . 890\ni.   .    .      . . 820\ni.   .    .      . . 729\ni.   .    .5     . . 820\ni.   . 2.0     . . 729\n\ni1 1.0    .5  1000 7 486\ni1 1.5    .25    . . 615\ni.   +    .      . . 600\ni.   .    .5     . . 729\ni.   .    .25    . . 972\ni.   .    .      . . 890\ni.   .    .      . . 820\ni.   .    .      . . 729\ni.   .    .5     . . 820\ni.   . 2.0     . . 729\n\ni1 1.0    .5  1000 8 486\ni1 1.5    .25    . . 615\ni.   +    .      . . 600\ni.   .    .5     . . 729\ni.   .    .25    . . 972\ni.   .    .      . . 890\ni.   .    .      . . 820\ni.   .    .      . . 729\ni.   .    .5     . . 820\ni.   . 2.0     . . 729\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur           =              p3 using oscillator and FM synthesis and Butterworth bandpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from indust3.orc and indust3.sco\n; Original files preserved in same directory\n\nsr             =              44100\nkr             =              4410\nksmps          =              10\nnchnls         =              2\n\n;------------------------------------------------------------------\n; INDUSTRY\n; BY HANS MIKELSON APRIL 1998\n;------------------------------------------------------------------\n; ORCHESTRA\n\n\n;------------------------------------------------------------------\n; INDUSTRIAL LOOPS\n;------------------------------------------------------------------\n               instr          2\n\nidur           =              p3\niamp           =              p4*2\nifqc           =              cpspch(p5)\niplstab        =              p6\nirattab        =              p7\niratrat        =              p8\nipantab        =              p9\nimixtab        =              p10\niloop          =              p11\nadel           init           0\n\nkprate         oscil          1, iratrat, irattab                                    ; PULSE RATE\nkamp           oscil          iamp, kprate, iplstab                                  ; AMPLITUDE PULSE\nkloop          linseg         0, .005, 1, iloop-.01, 1, .005,  0, p3-iloop-.01, 0    ; GATE IN DELAY LOOP\nkpan           oscil          1, 1/idur, ipantab                                     ; PANNING\nkmix           oscil          1, 1/idur, imixtab                                     ; FADING\n\nasig           rand           kamp                                                   ; NOISE SOURCE\naflt           butterbp       asig, ifqc, ifqc/4                                     ; BAND FILTER\nabal           balance        aflt, asig                                             ; BRING LEVEL BACK UP\n\naout           =              abal*kloop+adel                                        ; GATE IN WITH FEEDBACK\nadel           delay          aout, iloop                                            ; DELAY\n\n               outs           aout*sqrt(kpan)*kmix, aout*sqrt(1-kpan)*kmix           ; OUTPUT PAN & FADE\n\n               endin\n\n;------------------------------------------------------------------\n; SCIFI LOOPS\n;------------------------------------------------------------------\n               instr          3\n\nidur           =              p3\niamp           =              p4\nifqc           =              cpspch(p5)\nirattab        =              p6\niratrat        =              p7\nipantab        =              p8\nimixtab        =              p9\niloop          =              p10\nimodf          =              p11\nimodl          =              p12\nadel           init           0\n\nkrate          oscil          1, iratrat, irattab                                    ; PULSE RATE\nkloop          linseg         0, .005, 1, iloop-.01, 1, .005,  0, p3-iloop-.01, 0    ; GATE IN DELAY LOOP\nkpan           oscil          1, 1/idur, ipantab                                     ; PANNING\nkmix           oscil          1, 1/idur, imixtab                                     ; FADING\nkmodl          linseg         0, iloop/2, imodl, iloop/2, imodl/2, .01, 0, .01, 0\n\n;                             Amp   Fqc      Car   Mod    MAmp    Wave\nabal           foscil         iamp, ifqc*krate, 1,      imodf, imodl,  1             ; FM SOURCE\n\naout           =              abal*kloop+adel                                        ; GATE IN WITH FEEDBACK\nadel           delay          aout, iloop                                            ; DELAY\n     \n               outs           aout*sqrt(kpan)*kmix, aout*sqrt(1-kpan)*kmix           ; OUTPUT PAN & FADE\n\n               endin\n\n;------------------------------------------------------------------\n; INDUSTRIAL LOOPS\n;------------------------------------------------------------------\n               instr          4\n\nidur           =              p3\niamp           =              p4*2\nifqc           =              cpspch(p5)\niplstab        =              p6\nirattab        =              p7\niratrat        =              p8\nipantab        =              p9\nimixtab        =              p10\nilptab         =              p11\n\nkpan           oscil          1, 1/idur, ipantab                 ; PANNING\nkmix           oscil          1, 1/idur, imixtab                 ; FADING\nkloop          oscil          1, 1/idur, ilptab                  ; LOOPING\n;kfc           expseg         .1, idur/2, 4, idur/2, .1          ; FQC CENTER\n\nloop1:\nkprate         oscil          1, iratrat/kloop, irattab          ; PULSE RATE\nkamp           oscil          iamp, kprate, iplstab              ; AMPLITUDE PULSE\n\nasig           rand           kamp                               ; NOISE SOURCE\n;aflt          butterbp       asig, ifqc*kfc, ifqc*kfc/4         ; BAND FILTER\naflt           butterbp       asig, ifqc, ifqc/4                 ; BAND FILTER\naout           balance        aflt, asig                         ; BRING LEVEL BACK UP\n\n;       WHEN THE TIME RUNS OUT REINITIALIZE\n               timout         0, i(kloop), cont1\n               reinit         loop1\ncont1:\n\n               outs           aout*sqrt(kpan)*kmix, aout*sqrt(1-kpan)*kmix      ; OUTPUT PAN & FADE\n\n               endin\n\n\n</CsInstruments>\n<CsScore>\n; SCORE\nf1 0 8192 10 1      ; SINE\n\n; PULSE TABLES\nf10  0 1024   7  0 512 1 512 0\nf11  0 1024   7  0 256 0 256 1 256 0 256 0\nf12  0 1024   7  0 256 0 128 0 128 1 128 0 128 0 256 0\n; RATE TABLES\nf20  0 1024  -5  100  512  1000  512 100\nf21  0 1024  -5  10  1024 1000\nf22  0 1024  -5  100  512  10000 512  30\nf23  0 1024  -5  25  1024  62\nf24  0 1024  -7  500  1024  62\nf25  0 1024  -5  5000 1024  1000\nf26  0 1024  -7  50   512  500 512 50\nf27  0 1024  -5  .5   512  2 512 .5\nf28  0 1024  -5  .5   1024 4\nf29  0 1024  -7  .5   250 .5 6 2 250 2 6 1 250 1 6 4 256 .5\n; FM TABLES\nf70  0 1024  -7  .5   250 .5 106 2 150 2 106 1 150 1 6 4 256 .5\n; PAN TABLES\nf30  0 1024  7  0  1024  1\nf31  0 1024  7  1  1024  0\nf32  0 1024  7  1 512  0 512 1\nf33  0 1024  -7 .5 1024 .5\nf34  0 1024  -7 0 512 1 512 0\n; MIX TABLES\nf40  0 1024  5  .01 256 1 512 1 256 .01\nf41  0 1024  5  .01 128 1 768 1 128 .01\nf42  0 1024  5  1 1024 1\n; LOOP TABLE\nf50  0 1024 -7  .1 1024 .1\nf51  0 1024 -7  .4 1024 .4\nf52  0 1024 -7  .5 1024 .1\n; FILTER FCO TABLE\nf60  0 1024  -7 .01 512 4 512 .01\nf61  0 1024  -5 .1 512 2 512 10\nf62  0 1024  -5 .1 256 2 256 .5 256 10 256 .1\nf63  0 1024  -5 .2 128 2 128 .2 128 3 128 .2 128 4 128 .2 128 5 128 .2\n; FM AMP TABLE\nf80  0 1024  -7  1 512 4 512 1\n\n\n; LOOP TABLES\n;f50 30 1024 -5  .41 50 .021 206 .45 56 .012 200 .58 56 .43 200 .025 56 .11 200 .32\n; GENERATE INDUSTRIAL LOOPS\n;   Sta  Dur  Amp   Pitch  PulsTab  RtTab  RtRt  PanTab  MixTab  Loop\ni4  0   32   6000  8.00   12       25     1     31      41      50\n\n; LOOP TABLES\n;f51 36 1024 -5  .11 50 .11 206 .15 56 .12 200 .18 56 .13 200 .15 56 .13 200 .12\n; GENERATE INDUSTRIAL LOOPS\n;   Sta  Dur  Amp   Pitch  PulsTab  RtTab  RtRt  PanTab  MixTab  Loop\ni4  6   12   6000  9.00   12       25     2     31      41      51\n\n;f52 42 1024 -7  .21 50 .21 206 .15 56 .12 200 .028 56 .023 200 .015 56 .0041 200 .052\n;   Sta  Dur  Amp   Pitch  PulsTab  RtTab  RtRt  PanTab  MixTab  Loop\ni4  12   32   4000  7.00   10       20     1     31      41      52\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for SORT OF KARPLUS-STRONG STRING using waveguide synthesis and oscillator and variable delay", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from wguidecl.orc and wguidecl.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n\n          instr 1\n                    ;SORT OF KARPLUS-STRONG STRING\n\nidamp     =         5000\nipitch    =         440\niperiod   =         1000/ipitch\nisc       =         100\nafeed     init      0\n\naimpl     oscilx    10000, ipitch, 1, 1\n     \narefl     tone      aimpl + afeed, idamp\naout      atone     arefl, idamp\nafeed     vdelay    arefl, iperiod, 1000\n          outs      aout*isc, aout*isc\n          endin\n\n          instr 2\n                    ;WAVEGUIDE PLUCKED STRING\n\nidamp     =         4000\nipitch    =         440\nisc       =         50\naright    init      0\naleft     init      0\n\n;SIMPLE WAVEGUIDE PLUCKED STRING MODEL.  NOT WORTH LOOKING OVER!\n\naimpl     oscilx    10000, ipitch/2, 1, 1         ;INITIAL STATE OF STRING \naimpr     oscilx    10000, ipitch/2, 2, 1\n\n;kpitch   oscil     ipitch, 1/p3, 3\nkpitch    =         ipitch\n\nanrefl    tone      aimpl - aright, idamp         ;REFLECT ON NUT\naoutn     atone     anrefl, idamp                 ;PICK SOUND FROM NUT\naleft     vdelay    anrefl, 500/kpitch, 1000 ;GO TO BRIDGE\nabrefl    tone      aimpr - aleft, idamp          ;REFLECT ON BRIDGE\naoutb     atone     abrefl, idamp                 ;PICK SOUND FROM BRIDGE\naright    vdelay    abrefl, 500/kpitch, 1000 ;GO BACK TO THE NUT\n          outs      aoutn*isc, aoutb*isc\n          endin\n\n          instr 3\n                    ;WAVEGUIDE CLARINET \n\n; INTERESTING POINTS IN THE EXTENDED CSOUND IMPLEMENTATION:\n; THE \"AM\" FACTOR FOR IPMAX = 10 TAKES SMALL VALUES LIKE .005 - .02.\n; IF THE VALUE IS SMALL (.005) THEN THE REED TAKES MORE TIME TO RESPOND\n; TO THE MOUTH PRESSURE.  FOR VALUES BIGGER THAN .03 STRANGE THINGS HAPPEN.\n; I WILL ASSUME THAT THEY ARE MULTIPHONICS OR SOME OVERFLOW OF AIR.\n; IF \"IPMAX\" IS LOWERED THEN THESE NUMBERS CHANGE.  \"IPMAX\" DOES NOT NEED \n; VALUES MUCH BIGGER THAN 10 SINCE OVERFLOW AND FEEDBACK SHOW UP.\n; \"AM\" AND\" \"IPMAX\" DETERMINE REED STIFFNESS AND EMBROCHURE  ( HOW TIGHT\n; THE REED IS PRESSED BY THE PLAYER).\n; \"IDAMP\" ACCORDING TO MY ACOUSTICS BOOK SHOULD BE BETWEEN 1400HZ TO 2000HZ.\n; 1000HZ SOUNDS FINE TO ME!\n; FOR SOME REASON PITCH IS IN THE WRONG OCTAVE.  I TRY TO BRING IT UP BY\n; MULTIPLYING IT BY 2 BUT I THING IT'S STILL OFF.\n; \"A GROWL\" IS A SIMPLE SIMULATION OF THE GROWLING SAX PLAYERS DO TO GET\n; MULTIPHONICS.  IF \"AGROWL\" IS USED WITH \"AM\" EQUAL TO .03 AND A LOW \n; CUTTOF FREQUENCY FOR THE BELL I GET A HARMONIC.\n; IN MIT'S CSOUND IMPLEMENTATION THE INSTRUMENT BEHAVES AND SOUNDS MUCH DIFFERENT.\n; THE HARMONIC TRICK DOES NOT WORK AND THE CUTOFF FREQUENCY SOUNDS GOOD AT 1800HZ.\n\n\n;         INIT SECTION\n\nidamp     =         1200                          ;DETERMINES BRIGHTNESS OF CLARINET\nipitch    =         4*cpspch( p4)                 ;PITCH (SOMETHING'S WRONG HERE! BUT IT WORKS)\nipmax     =         10                                 ;MAX MOUTH PRESSURE\nivol      =         1000                          ;BRING TO AUDIBLE LEVEL FACTOR\napbp      init      0                                  ;INIT THE RETURNING PRESSURE WAVE\n\n;         CONTROL SECTION\napm       linseg    0, p3/2, ipmax, p3/8, 0, 3*p3/8, 0      ;MOUTH PRESSURE\n\n;apm      linseg    0, .2, ipmax, .5, ipmax/2, p3-.7, 0\n\nam        =         .01                                ;EMBROCHURE/REED STIFFNESS FACTOR\n;am       linseg    .05, .02,.02, p3-.02, .02 \n\nkrand     rand      1                                  ;RANDOM ELEMENT\nkrand     port      krand, 1/kr\napm       =         apm - (krand * ipmax)/10\n\nkvs       line      0, p3, 1                      ;SIMPLE TIME VARYING VIBRATO\nkpitch    oscil     kvs*p6, kvs*5, 4\n;kbend    oscil     1000, 1/p3, p5\nkbend     =         0\nkpitch    =         ipitch - kpitch + kbend + krand * 50\n;agrowl   oscil     apm, .5, 5                         ;GROWLING\n;apm      =         agrowl\n\n;         WAVEGUIDE STARTS HERE\n;\n; THE UGLY VARIABLE NAMES MEAN:\n;\n; apdp:             Closed reed pressure drop\n; apbp, apbm:  Traveling pressure waves\n; atr:              Reed responce to pressure\n; abell:       Pressure wave at bell\n; arefl:       Reflected pressure wave at bell\n; aout:             Output from bell\n\napdp      =         2*apbp - apm\natr       =         1 - am*(apdp - ipmax)\n;atr      reed      apdp, ipmax, am          ;MY REED OPCODE (NOT USED NOW)\napbm      =         apm/2 + atr * apdp/2          ;START FROM REED\n\nabell     vdelay    apbm, 500/kpitch, 1000        ;GO TO BELL\narefl     tone      -abell, idamp                 ;DAMP/REFLECT ON BELL\naout      atone     abell, idamp                  ;GET OUT OF BELL\napbp      vdelay    arefl, 500/kpitch, 1000       ;GO BACK TO REED\n\n          outs      aout*ivol, aout*ivol          ;GIVE IT TO ME!\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 7 0 124 1 800 0\nf2 0 1024 7 0 800 1 124 0\nf3 0 1024 8 1 512 .8 512 1\nf4 0 1024 10 1\nf5 0 1024 10 1 1 1 1 1 1\n;f6 0 32768 1 10 0 1 1\nf7 0 1024 8 1 512 .1 128 1 384 1\nf8 0 1024 8 0 512 1 512 1\n\n;i1 0 2\ni2 0 2\n;i3 0 2 8.00 7 25\n;i3 4 2 9.04 8 100\n;I4 0 2\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for FREQUENCY using physical modeling and oscillator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from physmod.orc and physmod.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n;*********************************************\n; PHYSICAL MODELS 1                          *\n; CODED:        1/22/97 HANS MIKELSON        *\n;*********************************************\n\n\n;KARPLUS STRONG ALGORITHM\n\n          instr     1\n\n; FREQUENCY         \n\nifqc      =         cpspch(p5)\n\n; AMPLITUDE ENVELOPE\nkampenv linseg      0, .01, p4, p3-.02, p4, .01, 0\n\n; INITIALIZE THE DELAY LINE WITH NOISE\nkinitenv linseg 1, 1/ifqc, 1, 0, 0, p3-1/ifqc, 0\narand     rand      1\nadline    delayr    1/ifqc\n\n; FILTER THE DELAYED SIGNAL AND FEEDBACK INTO THE DELAY.\nafiltr    tone      adline, 2000\n        delayw      afiltr+arand*kinitenv\n\n; SCALE AND OUTPUT\n          out  afiltr*kampenv\n\n          endin\n\n;BASS PHYSICAL MODEL\n          instr     2\n\n; INITIALIZATIONS\nifqc      =         cpspch(p5)\nkcount  init   0\nabody1  init   0\nabody2  init   0\nadline  init   0\n\n; ENVELOPES\n;**********\n; FILTER ENVELOPE\nkenvflt linseg      0, .01, 1, p3-.11, 1, .1, 0\n; THIS ENVELOPE LOADS THE STRING WITH A TRIANGLE WAVE.\nkenvstr linseg      0, 1/ifqc/8, -p4/2, 1/ifqc/4, p4/2, 1/ifqc/8, 0, p3-1/ifqc, 0\n; THIS ENVELOPE IS FOR THE BODY RESONANCE\nkenvres linseg      0, .1, 1, p3-.1, 1\n\n; DELAY LINE WITH FILTERED FEEDBACK\nafiltr    tone      adline, ifqc*ifqc/10\nadline    delay     afiltr + kenvstr, 1/ifqc\n\n; RESONANCE OF THE BODY \nabody1    reson     afiltr, 160, 40\nabody2    reson     afiltr, 80, 20\n\naout      =         afiltr + .0001*kenvres*abody1 + .00004*kenvres*abody2\n          out  aout * kenvflt\n          endin\n\n;PERRY COOK'S SLIDE FLUTE\n\n          instr     3\n\naflute1 init   0\nifqc    =           cpspch(p5)\nipress  =           p6\nibreath =           p7\n\n; FLOW SETUP\nkenv1   linseg      0, .1, ipress, p3-.2, ipress, .1, 0 \nkenv2   linseg      0, .01, 1, p3-.02, 1, .01, 0\n\n; THE VALUES MUST BE AROUND -1 AND 1 OR THE CUBIC WILL BLOW UP.\naflow1    rand      1\naflow1    =         aflow1 * kenv1\n\n; .0356 CAN BE USED TO ADJUST THE \"BREATH\" LEVEL.\nasum1     =         ibreath*aflow1 + kenv1\nasum2     =         asum1 + aflute1*.4\n\n; EMBOUCHURE DELAY SHOULD BE 1/2 THE BORE DELAY\n\nax        delay     asum2, 1/ifqc/2 - 15/sr\n\napoly     =         ax - ax*ax*ax\nasum3     =         apoly + aflute1*.4\n\navalue    tone      asum3, 2000\n\n; BORE THE BORE LENGTH DETERMINES PITCH.  SHORTER IS HIGHER.\naflute1 delay  avalue, 1/ifqc - 15/sr\n\n          out  avalue*p4*kenv2\n\n          endin\n\n; JULIUS SMITH'S SINGLE REED INSTRUMENT\n\n          instr     4\nareedbell init      0\nifqc      =         cpspch(p5)\nifco      =         p7\n\n; I GOT THE ENVELOPE FROM PERRY COOKE'S CLARINET.\nkenv1   linseg      0, .005, .55 + .3*p6, p3 - .015, .55 + .3*p6, .01, 0\nkenvibr linseg      0, .1, 0, .9, 1, p3-1, 1  ; Vibrato envelope\n\n; SUPPOSEDLY HAS SOMETHING TO DO WITH REED STIFFNESS?\nkemboff =           p8\n\n; BREATH PRESSURE\navibr     oscil     .1*kenvibr, 5, 3\napressm =           kenv1 + avibr\n\n; REFLECTION FILTER FROM THE BELL IS LOWPASS.\narefilt tone   areedbell, ifco\n\n; THE DELAY FROM BELL TO REED.\nabellreed delay arefilt, 1/ifqc-15/sr\n\n; BACK PRESSURE AND REED TABLE LOOK UP.\nasum2     =         - apressm -.95*arefilt - kemboff\nareedtab tablei asum2/4+.34, p9, 1, .5\namult1    =         asum2 * areedtab\n\n; FORWARD PRESSURE\nasum1     =         apressm + amult1\n\nareedbell delay asum1, 1/ifqc-14/sr\n\naofilt    atone     areedbell, ifco\n\n          out  aofilt*p4\n\n          endin\n;PERRY COOK'S CLARINET\n          instr     5 \nasum2   init   0\nabellreed init      0\naout    init   0\nkenv1   linseg      0, .005, .55 + .3*p4, p3 - .015, .55 + .3*p4, .01, 0 \n\n; REED SECTION\napressm =           kenv1\narefilt tone   abellreed, 1500\nasum2     =         (-.95)*arefilt - apressm \nareedtab tablei asum2/4+.34, 1, 1, .5\n\nabellreed delayr 1/p5/2\n          delayw    aout\naout delayr 1/p5/2\n          delayw    apressm + areedtab*asum2\n\n          out  aout*10000\n          endin\n\n\n</CsInstruments>\n<CsScore>\n; TABLE FOR REED PHYSICAL MODEL\nf1 0 256 7 1 80 1 156 -1 40 -1\nf2 0 256 7 1 80 1 156 -1 40 -1\n\n; TABLE FOR VIOLIN\n;f4 0 256 7 0 40 0 50 1 76 1 50 0 40 0\n\nf3 0 1024 10 1\n;f4 0 1024 10 1 1 1 1 1 1\n\nt 0 800\n\n; PLUCKED STRING\n;  START  DUR   AMP        PITCH\ni1  0      2    30000      7.11\ni1  +      .    30000      7.11\ni1  .      .    30000      7.06\ni1  .      .    30000      7.11\ni1  .      .    30000      7.06\ni1  .      .    30000      7.06\ni1  .      .    30000      7.11\ni1  .      4    30000      7.06\n\n; PLUCKED BASS\n;  START DUR    AMP        PITCH\ni2  18    6     47000      5.11\ni2  +     4     43000      6.11\ni2  .     2     45000      6.06\ni2  .     6     38000      5.11\ni2  .     6     .          5.06\ni2  .     6     .          5.09\ni2  .     6     .          5.11\ni2  .     6     47000      6.02\n\n; CLARINET\n;   START  DUR    AMP      PITCH   PRESS  FILTER     EMBOUCHURE  REED TABLE\n;               (20000) (8.00-9.00) (0-2) (500-1200)   (0-1)      \ni4    60    30    8000      8.11     1.8  1000         .2            1\ni4    +     6     8000      7.11     1.8  1000         .2            1\ni4    .     6     8000      9.02     1.8  1000         .2            1\n\n; SLIDE FLUTE\n;  START  DUR  AMPLITUDE PITCH  PRESSURE  BREATH\n;i3  0      4    10000     8.00    1        .05\n;i3  +      .    <         8.02    <         .\n;i3  .      .    <         8.04    <         .\n;i3  .      .    <         8.05    <         .\n;i3  .      .    <         8.07    <         .\n;i3  .      .   10000      8.09    1.2       .\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur  \t=      \tp3 using oscillator and linear segments and exponential segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from ENVFILTR.ORC and ENVFILTR.SCO\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr  \t\t=  \t\t4410\nksmps \t=\t\t10\nnchnls \t= \t\t2\n\n; ************************************************************************\n; RESONANT LOW-PASS FILTER\n;*************************************************************************\n\n\n;******************************************************************\n\t\tinstr 1\n\nidur  \t=      \tp3\niamp  \t=      \tp4\nkstep \tinit   \t0\n\nloop1:\n       \ttimout \t0, p5, cont1\nkstep \t= \t\tfrac((kstep + 1)/8)*8\nreinit \tloop1\n\ncont1:\n\nkpch1 \ttable  \tkstep, 20\nkfqc  \t=      \tcpspch(kpch1)\naxn   \toscil  \tiamp, kfqc, 10\n  \t\touts \taxn, axn\n\n\t\tendin\n\n\n\t\tinstr 15   ; TABLE BASED REZZY SYNTH WITH ENVELOPED RESONANCE\n\nidur     \t=    \tp3\niamp     \t=    \tp4\nifqc     \t=    \tcpspch(p5)\nirez     \t=    \tp7\nitabl1   \t=    \tp8\nkvalley  \tinit \t0\nkpeak    \tinit \t0\nknewval  \tinit \t1\nknewpk   \tinit \t1\nksaveval \tinit \t0\nksavepk  \tinit \t0\n\n; INITIALIZE YN-1 & YN-2 TO ZERO\nkynm1      init \t0\nkynm2      init \t0\nktynm1     init \t0\nktynm2     init \t0\nkfrangenm1 init \t0\nkfrangenm2 init \t0\nknewrez    init \t0\nkfsweep    init \t30\nkstep      init \t0\nknxtstp    init \t1\n\n; FREQUENCY SWEEP\nkfsweep \texpseg \t30, .5*p3, p6, .5*p3, 30\n\n; SEQUENCER SECTION\n  \nloop1:\n\nkdur  \ttable  \tkstep, 21\nkdur1  \t=     \tkdur/8\n\n;     FREQUENCY ENVELOPE\n;kfco \t expseg \t 20, .1, i(kfsweep), p5-.1, 20\nkfco \texpseg \t20, .1, i(kfsweep), i(kdur1)-.1, 20\n\n;     AMPLITUDE ENVELOPE\n;kaenv  \t linseg \t 0, .01, 1, p5-.02, 1, .01, 0\nkaenv  \tlinseg \t0, .01, 1, i(kdur1)-.02, 1, .01, 0\n\n;     PANNING\nkpanleft  table \tkstep, 22\nkpanright table \tkstep, 23\nkpch1 \ttable  \tkstep, 20\nkfqc1 \t=      \tcpspch(kpch1)\nkpch2 \ttable  \tknxtstp, 20\nkfqc2 \t=      \tcpspch(kpch2)\nif \t\t(p9 = 0) \tgoto skipslide\nkfqc  \tlinseg \ti(kfqc1), i(kdur1)-.04, i(kfqc1), .04, i(kfqc2)\ngoto \tnxtslide\n\nskipslide:\nkfqc  \t= \t\tkfqc1\n\nnxtslide:\n\n;\t\t timout \t 0, p5, cont1\n\t\ttimout \t0, i(kdur1), cont1\nkstep   \t= \t\tfrac((kstep + 1)/8)*8\nknxtstp \t= \t\tfrac((kstep + 1)/8)*8\n\nreinit \tloop1\ncont1:\n\n; THIS RELATIONSHIP ATTEMPTS TO SEPARATE FREQ FROM RES.\nka1    \t= \t\t100/irez/sqrt(kfco)-1\nkta1   \t= \t\t100/sqrt(kfco)-1\nka2    \t= \t\t1000/kfco\n\n\n; OSCILLATOR\nkxn \t\toscil \tiamp, kfqc, itabl1\n;kxn2 \t oscil \t 1, kfqc/2, 2\n\n;kxn  \t =     \t kxn1*kxn2;+iamp*kxn2/2\n\n\n; REPLACE THE DIFFERENTIAL EQ. WITH A DIFFERENCE EQ.\nkyn \t\t= \t\t((ka1+2*ka2)*kynm1-ka2*kynm2+kxn)/(1+ka1+ka2)\nktyn \t= \t\t((kta1+2*ka2)*ktynm1-ka2*ktynm2+kxn)/(1+kta1+ka2)\n\n; THIS SECTION DETERMINES CURRENT PEAK AND VALLEY VALUES AND THE RANGE.\n; AS LONG AS THE SIGNAL RISES IT UPDATES PEAK.  WHEN IF FALLS IT UPDATES VALLEY.\n\nkoldrez \t= \t\tknewrez\nknewrez \t= \t\tkyn-ktyn\n\nif \t\t(koldrez>=knewrez) goto next1\nif \t\t(knewval != 1) goto next2\nknewval \t= \t\t0\nknewpk  \t= \t\t1\nkvalley \t= \t\tksaveval\nnext2:\nksavepk \t= \t\tknewrez\n\nnext1:\nif \t\t(koldrez<=knewrez) goto next 3\nif \t\t(knewpk != 1) goto next4\nknewpk  \t= \t\t0\nknewval \t= \t\t1\nkpeak   \t= \t\tksavepk\nnext4:\nksaveval \t= \t\tknewrez\n\nnext3:\n; THE CURRENT RANGE IS CALCULATED AND LOW PASS FILTERED.\n\nkrangen \t= \t\tabs(kpeak-kvalley)\n\nkfrangen \t= \t\t((kta1+2*ka2)*kfrangenm1-ka2*kfrangenm2+krangen)/(1+kta1+ka2)\n\n; THE FILTERED RANGE IS USED TO ENVELOPE THE RESONANCE THEN DISTORTION IS ADDED.\nkclip1 \t= \t\tknewrez*kfrangen/irez/120000000\nkclip \ttablei \tkclip1, 7, 1, .5\nkout \t= \t\tktyn + kclip*40000\n\n;kout \t = \t\t ktyn+knewrez*kfrangen/irez/100\n\n; UPDATE EVERYTHING FOR THE NEXT PASS.\nkynm2 \t= \t\tkynm1\nkynm1 \t= \t\tkyn\nktynm2 \t= \t\tktynm1\nktynm1 \t= \t\tktyn\nkfrangenm2 = \t\tkfrangenm1\nkfrangenm1 = \t\tkfrangen\n\naout \t= \t\tkout\n;  axn  = kxn\n;  axn2  = kxn2\n\n; AMP ENVELOPE AND OUTPUT\n\n\t\touts \tkaenv*kpanleft*aout, kaenv*kpanright*aout\n\n;  \t\touts kaenv*axn, kaenv*axn2*10000\n\n\t\tendin\n\n\n</CsInstruments>\n<CsScore>\n; Instrument in the style of the TB303 with built in sequencer.\n\n;f1  0  1024  10   1\n;f2  0  1024   7  -1 512 -1   0  1 512  1\n;f3  0   256   7   1 256 -1\n;f4  0   256   7  -1 128  1 128 -1\n;f5  0   256   7   1  64  1   0 -1  192 -1\n;f6  0   256   7  -1 256  1\n;f8  0   256   5  1  256  .01\n;f9  0   256   7  1  128  -.2  0  -1  128  .2\nf10 0  1024   8  1  256 .2  128 0 256 -.2 256  -1\n\n; Distortion Table\n;----------------------------------------------------------------------\nf7 0 1024   8 -.8 42 -.78  200 -.74 200 -.7 140 .7  200 .74 200 .78 42 .8\n\n; 8 Step Sequencer\n;----------------------------------------------------------------------\n; Step         1     2     3     4     5     6     7     8\n; Pitch Table\nf20  0   8  -2  7.00  7.00  7.00  7.00  7.05  7.00  7.00  7.00\nf20  3   8  -2  7.00  8.00  7.00  8.00  7.05  8.00  7.05  8.00\n\n; Dur Table\nf21  0  8  -2  1     1     1     1     1     1     1     1\n\n; Panning Amplitude Table  22=Left 23=Right\nf22  0  8  -2  1     0     1     1     1     0     1     1\nf23  0  8  -2  0     1     1     0     1     1     1     0\n\n; Score\n;----------------------------------------------------------------------\n; Enveloped Distortion Filter\n;        Dur  Amp     Dur   Fco   Res  Wave  Slide\ni15  0   6   4000    .125   2000  50   10    1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for MONO INPUT using oscillator and resonant filter and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from gator2.orc and gator2.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\n\ninstr          1                   ; MONO INPUT\niorig          =         .05\nirev           =         1.-iorig\nigain          =         1.0\nilpgain        =         1.5\nicgain         =         .1\nialpgain       =         0.1\nifile          =         p4\niskip          =         p5\nispeed1        =         p6\nispeed2        =         p7\nispeed3        =         p8\nispeed4        =         p9\nidel1          =         p10\nidel2          =         p11\nidel3          =         p12\nidel4          =         p13\nicf1           =         p14\nicf2           =         p15\nicf3           =         p16\nicf4           =         p17\nifac           =         2\nibw1           =         icf1/ifac\nibw2           =         icf2/ifac\nibw3           =         icf3/ifac\nibw4           =         icf4/ifac\naenv1          oscil     igain, ispeed1, 1\naenv2          oscil     igain, ispeed2, 2\naenv3          oscil     igain, ispeed3, 3\naenv4          oscil     igain, ispeed4, 4\naraw           soundin   p4,p5\nares1          reson     araw,icf1,ibw1,1\nares2          reson     araw,icf2,ibw2,1\nares3          reson     araw,icf3,ibw3,1\nares4          reson     araw,icf4,ibw4,1\nadel1          delay     ares1,idel1\nadel2          delay     ares2,idel2\nadel3          delay     ares3,idel3\nadel4          delay     ares4,idel4\nasum           =         (ares1*aenv1)+(ares2*aenv2)+(ares3*aenv3)+(ares4*aenv4)\nalp            tone      asum,1000\nadright        delay     alp,.178\nadleft         delay     alp,.215\nasumr          =         asum+(adright*ilpgain)\nasuml          =         asum+(adleft*ilpgain)\nacr1           comb      asumr,2,.063\nacr2           comb      acr1+asumr,.5,.026\nacl1           comb      asuml,2,.059\nacl2           comb      acl1+asuml,.5,.031\nacsumr         =         asumr+(acr2*icgain)\nacsuml         =         asuml+(acl2*icgain)\nalpo           alpass    asum,3,.085\nalpol          comb      alpo, 2.8, .526 \nalpor          comb      alpo, 2.8, .746 \nalol           tone      alpol,500\nalor           tone      alpor,500\nalold          delay     alol,.095\nalord          delay     alor,.11\narevl          =         (alpol*ialpgain)+acsuml+alold\narevr          =         (alpor*ialpgain)+acsumr+alord\naorig          =         araw*iorig\n               outs      (arevl*irev)+aorig,(arevr*irev)+aorig\n\nendin\n\n;STEREO INPUT\ninstr          2\niorig          =         .05\nirev           =         1.-iorig\nigain          =         1.0\nilpgain        =         1.5\nicgain         =         .1\nialpgain       =         0.1\nifile          =         p4\niskip          =         p5\nispeed1        =         p6\nispeed2        =         p7\nispeed3        =         p8\nispeed4        =         p9\nidel1          =         p10\nidel2          =         p11\nidel3          =         p12\nidel4          =         p13\nicf1           =         p14\nicf2           =         p15\nicf3           =         p16\nicf4           =         p17\nifac           =         2\nibw1           =         icf1/ifac\nibw2           =         icf2/ifac\nibw3           =         icf3/ifac\nibw4           =         icf4/ifac\naenv1          oscil     igain, ispeed1, 1\naenv2          oscil     igain, ispeed2, 2\naenv3          oscil     igain, ispeed3, 3\naenv4          oscil     igain, ispeed4, 4\nain1,ain2      soundin   p4,p5\nares1          reson     ain1,icf1,ibw1,1\nares2          reson     ain2,icf2,ibw2,1\nares3          reson     ain1,icf3,ibw3,1\nares4          reson     ain2,icf4,ibw4,1\nadel1          delay     ares1,idel1\nadel2          delay     ares2,idel2\nadel3          delay     ares3,idel3\nadel4          delay     ares4,idel4\nasum1          =         (ares1*aenv1)+(ares3*aenv3)\nasum2          =         (ares2*aenv2)+(ares4*aenv4)\nalp1           tone      asum1,1000\nalp2           tone      asum2,1000\nadright        delay     alp1,.178\nadleft         delay     alp2,.215\nasumr          =         asum1+(adright*ilpgain)\nasuml          =         asum2+(adleft*ilpgain)\nacr1           comb      asumr,2,.063\nacr2           comb      acr1+asumr,.5,.026\nacl1           comb      asuml,2,.059\nacl2           comb      acl1+asuml,.5,.031\nacsumr         =         asumr+(acr2*icgain)\nacsuml         =         asuml+(acl2*icgain)\nalpo1          alpass    asum1,3,.085\nalpo2          alpass    asum2,3,.085\nalpol          comb      alpo1, 2.8, .526 \nalpor          comb      alpo2, 2.8, .746 \nalol           tone      alpol,500\nalor           tone      alpor,500\nalold          delay     alol,.095\nalord          delay     alor,.11\narevl          =         (alpol*ialpgain)+acsuml+alold\narevr          =         (alpor*ialpgain)+acsumr+alord\naorig1         =         ain1*iorig\naorig2         =         ain2*iorig\n               outs      (arevl*irev)+aorig1,(arevr*irev)+aorig2\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 2048 -5 0.000001 205 1.0 205 .4 1638 0.000001\nf2 0 2048 -5 0.000001 103 1.0 205 .25 921 0.000001 819 0.000001\nf3 0 2048 -5 0.000001 410 1.0 512 .5 102 0.000001 1024 0.000001\nf4 0 2048 -5 0.000001 1434 1.0 614 0.000001\ni2 0 10.000000 1 0\n1.068664  0.957679  1.193976  1.210142  \n0.030699 0.071858 0.103109 0.173237\n2049.613770 567.451782 172.628906 42.963375\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp\t\t= \t\tampdb(p4) using oscillator and interpolating oscillator and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from PulsationThreshold.orc and PulsationThreshold.sco\n; Original files preserved in same directory\n\nsr\t\t\t=\t\t44100\nkr\t\t\t=\t\t4410\nksmps\t\t=\t\t10\nnchnls\t\t=\t\t1\n\n\n;*************************************\t PULSATION THRESHOLD   **************************************\n\n; PERCEPTION IS AN INTERPRETIVE PROCESS. OCACASIONALLY, SUCH INTERPRETIVE PROCESSES CAN BE FOOLED.\n; THIS CAN BE DEMONSTRATED AUDITORILY BY ALTERNATING A SINUSOIDAL SIGNAL WITH BURSTS OF NOISE. WHE-\n; THER THE SIGNAL IS PERCEIVED AS PULSATING OR CONTINUOS DEPENDS UPON THE RELATIVE INTENSITIES OF\n; THE SIGNAL AND NOISE.\n; IN THIS DEMONSTRATION, 125MS BURSTS OF A 2000HZ TONE ALTERNATE WITH 125MS BURSTS OF NOISE. THE \n; NOISE LEVEL REMAINS CONSTANT, WHILE THE TONE LEVEL DECREASES IN 15 STEPS OF -1DB AFTER EACH 4\n; TONES.\n\n;******************************************\t HEADER\t**********************************************\n\n instr \t\t1\n\n iamp\t\t= \t\tampdb(p4)\t\t\t    \n \n k1\t\t\tlinen \tiamp,.02,p3,.02\t   \n a1\t\t\toscili\tk1,2000,1\t\t  \n\t\t\tout \t\ta1\n endin  \n\n\n\n instr \t\t2\n \n iamp  \t\t=\t\tampdb(p4)\n ifc\t  \t\t=\t\tp5\n \n k1\t    \t\tlinen\tiamp,.02,p3,.02\n anoise  \t\trandi\tk1, .25 * ifc\t\t\t\t; NOISE WITH A BANDWIDTH FROM 1500HZ - 2500HZ\n a1\t    \t\toscil\tanoise, ifc, 1\n out\t \t\ta1\n endin\n\n</CsInstruments>\n<CsScore>\n\nf1 0 512 10 1\n\n\n;************************************   PULSATION THRESHOLD SC  **************************************\n\n;   p1      p2      p3      p4       p5      \n;  inst    strt     dur    iamp     ifc      \n    i2    0.250    .125     76     2000      \n    i1    0.375    .125     76     \n    i2    0.500    .125     76     2000      \n    i1    0.625    .125     76     \n    i2    0.750    .125     76     2000      \n    i1    0.875    .125     76     \n    i2    1.000    .125     76     2000      \n    i1    1.125    .125     76     \ns\n    i2    0.250    .125     76     2000      \n    i1    0.375    .125     75     \n    i2    0.500    .125     76     2000      \n    i1    0.625    .125     75     \n    i2    0.750    .125     76     2000      \n    i1    0.875    .125     75     \n    i2    1.000    .125     76     2000      \n    i1    1.125    .125     75     \ns\n    i2    0.250    .125     76     2000      \n    i1    0.375    .125     74     \n    i2    0.500    .125     76     2000      \n    i1    0.625    .125     74     \n    i2    0.750    .125     76     2000      \n    i1    0.875    .125     74     \n    i2    1.000    .125     76     2000      \n    i1    1.125    .125     74     \ns\n    i2    0.250    .125     76     2000      \n    i1    0.375    .125     73     \n    i2    0.500    .125     76     2000      \n    i1    0.625    .125     73     \n    i2    0.750    .125     76     2000      \n    i1    0.875    .125     73     \n    i2    1.000    .125     76     2000      \n    i1    1.125    .125     73     \ns\n    i2    0.250    .125     76     2000      \n    i1    0.375    .125     72     \n    i2    0.500    .125     76     2000      \n    i1    0.625    .125     72     \n    i2    0.750    .125     76     2000      \n    i1    0.875    .125     72     \n    i2    1.000    .125     76     2000      \n    i1    1.125    .125     72     \ns\n    i2    0.250    .125     76     2000      \n    i1    0.375    .125     71     \n    i2    0.500    .125     76     2000      \n    i1    0.625    .125     71     \n    i2    0.750    .125     76     2000      \n    i1    0.875    .125     71     \n    i2    1.000    .125     76     2000      \n    i1    1.125    .125     71     \ns\n    i2    0.250    .125     76     2000      \n    i1    0.375    .125     70     \n    i2    0.500    .125     76     2000      \n    i1    0.625    .125     70     \n    i2    0.750    .125     76     2000      \n    i1    0.875    .125     70     \n    i2    1.000    .125     76     2000      \n    i1    1.125    .125     70     \ns\n    i2    0.250    .125     76     2000      \n    i1    0.375    .125     69     \n    i2    0.500    .125     76     2000      \n    i1    0.625    .125     69     \n    i2    0.750    .125     76     2000      \n    i1    0.875    .125     69     \n    i2    1.000    .125     76     2000      \n    i1    1.125    .125     69     \ns\n    i2    0.250    .125     76     2000      \n    i1    0.375    .125     68     \n    i2    0.500    .125     76     2000      \n    i1    0.625    .125     68     \n    i2    0.750    .125     76     2000      \n    i1    0.875    .125     68     \n    i2    1.000    .125     76     2000      \n    i1    1.125    .125     68     \ns\n    i2    0.250    .125     76     2000      \n    i1    0.375    .125     67     \n    i2    0.500    .125     76     2000      \n    i1    0.625    .125     67     \n    i2    0.750    .125     76     2000      \n    i1    0.875    .125     67     \n    i2    1.000    .125     76     2000      \n    i1    1.125    .125     67     \ns\n    i2    0.250    .125     76     2000      \n    i1    0.375    .125     66     \n    i2    0.500    .125     76     2000      \n    i1    0.625    .125     66     \n    i2    0.750    .125     76     2000      \n    i1    0.875    .125     66     \n    i2    1.000    .125     76     2000      \n    i1    1.125    .125     66     \ns\n    i2    0.250    .125     76     2000      \n    i1    0.375    .125     65     \n    i2    0.500    .125     76     2000      \n    i1    0.625    .125     65     \n    i2    0.750    .125     76     2000      \n    i1    0.875    .125     65     \n    i2    1.000    .125     76     2000      \n    i1    1.125    .125     65     \ns\n    i2    0.250    .125     76     2000      \n    i1    0.375    .125     64     \n    i2    0.500    .125     76     2000      \n    i1    0.625    .125     64     \n    i2    0.750    .125     76     2000      \n    i1    0.875    .125     64     \n    i2    1.000    .125     76     2000      \n    i1    1.125    .125     64     \ns\n    i2    0.250    .125     76     2000      \n    i1    0.375    .125     63     \n    i2    0.500    .125     76     2000      \n    i1    0.625    .125     63     \n    i2    0.750    .125     76     2000      \n    i1    0.875    .125     63     \n    i2    1.000    .125     76     2000      \n    i1    1.125    .125     63     \ns\n    i2    0.250    .125     76     2000      \n    i1    0.375    .125     62     \n    i2    0.500    .125     76     2000      \n    i1    0.625    .125     62     \n    i2    0.750    .125     76     2000      \n    i1    0.875    .125     62     \n    i2    1.000    .125     76     2000      \n    i1    1.125    .125     62     \ns\n    i2    0.250    .125     76     2000      \n    i1    0.375    .125     61     \n    i2    0.500    .125     76     2000      \n    i1    0.625    .125     61     \n    i2    0.750    .125     76     2000      \n    i1    0.875    .125     61     \n    i2    1.000    .125     76     2000      \n    i1    1.125    .125     61     \ns\n    i2    0.250    .125     76     2000      \n    i1    0.375    .125     60     \n    i2    0.500    .125     76     2000      \n    i1    0.625    .125     60     \n    i2    0.750    .125     76     2000      \n    i1    0.875    .125     60     \n    i2    1.000    .125     76     2000      \n    i1    1.125    .125     60     \ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifreq     =         cpspch( p4 ) using oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from girth.orc and girth.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n          instr 1\nifreq     =         cpspch( p4 )\nivsp      =         1 * p8\nigain     =         5000 * p5\nivd1      =         .04/2\nivd2      =         .01/2\nivs1      =         p6\nivs2      =         p7\niatk1     =         .05\niatk2     =         .4\nidk       =         1.3\nisust     =         p3 - (iatk1+iatk2+idk)\niddepth   =         .002\nkenv      linseg    0, iatk1, .1*igain, iatk2, igain, idk, igain*.2, isust, 0\nkringenv  linseg    0, .02, igain*.5, 1.98, 0, p3-2, 0\nkvd       line      ifreq*ivd1, p3, ifreq*ivd2\nkvibr     oscil     kvd, ivsp,1    ;sine\nkfreq     =         kvibr + ifreq\nkfadedown line      1,p3,0\nkfadeup   line      0,p3,1\n     \nkfstvib1  oscil     ifreq*.02, ivs1, 1\nkfstvib2  oscil     ifreq*.02, ivs2, 1\nkfreq1    =         kfreq + kfstvib1\nkfreq2    =         kfreq + kfstvib2\n     \nasig1     oscil     kfadedown, kfreq1, 2     ; RICH WAVE\nasig2     oscil     kfadeup, kfreq1, 3       ; FEW HARMONIX\namix1     =         asig1 + asig2\namod1     oscil     1.0, kfreq1*2 + (kfreq1*kfadeup*amix1*3),1\n\nasig3     oscil     kfadedown, kfreq2, 2     ; RICH WAVE\nasig4     oscil     kfadeup, kfreq2, 3       ; FEW HARMONIX\namix2     =         asig3 + asig4\namod2     oscil     1.0, kfreq2*2 + (kfreq2*kfadeup*amix2*3),1\n     \naring     =         amod1*amod2*kringenv\naleft     =         (amix1 + amod1)*kenv + aring\naright    =         (amix2 + amod2)*kenv + aring\n     \n          outs       aleft, aright\n          endin\n\n;; FREQUENCY IN\n\n          instr 2\nifreq     =         p4 \nivsp      =         1 * p8\nigain     =         5000 * p5\nivd1      =         .04/2\nivd2      =         .01/2\nivs1      =         p6\nivs2      =         p7\niatk1     =         .05\niatk2     =         .4\nidk       =         1.3\nisust     =         p3 - (iatk1+iatk2+idk)\niddepth   =         .002\nkenv      linseg    0, iatk1, .1*igain, iatk2, igain, idk, igain*.2, isust, 0\nkringenv  linseg    0, .02, igain*.5, 1.98, 0, p3-2, 0\nkvd       line      ifreq*ivd1, p3, ifreq*ivd2\nkvibr     oscil     kvd, ivsp,1    ;sine\nkfreq     =         kvibr + ifreq\nkfadedown line      1,p3,0\nkfadeup   line      0,p3,1\n     \nkfstvib1  oscil     ifreq*.02, ivs1, 1\nkfstvib2  oscil     ifreq*.02, ivs2, 1\nkfreq1    =         kfreq + kfstvib1\nkfreq2    =         kfreq + kfstvib2\n     \nasig1     oscil     kfadedown, kfreq1, 2     ; RICH WAVE\nasig2     oscil     kfadeup, kfreq1, 3       ; FEW HARMONIX\namix1     =         asig1 + asig2\namod1     oscil     1.0, kfreq1*2 + (kfreq1*kfadeup*amix1*3),1\n                                             \nasig3     oscil     kfadedown, kfreq2, 2     ; RICH WAVE\nasig4     oscil     kfadeup, kfreq2, 3       ; FEW HARMONIX\namix2     =         asig3 + asig4\namod2     oscil     1.0, kfreq2*2 + (kfreq2*kfadeup*amix2*3),1\n     \naring     =         amod1*amod2*kringenv\naleft     =         (amix1 + amod1)*kenv + aring\naright    =         (amix2 + amod2)*kenv + aring\n     \n          outs      aleft, aright\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\nf2 0 8192 10 1 .5 .3 .2 .1 .1 0 0 .1 0 .05\nf3 0 8192 10 1 .2 .1\ni2 0.000000 6.151560 82.500000 0.400355 4.708251 5.450541 2.014654\ni2 0.610081 5.216457 234.931641 0.576492 4.876517 4.420244 1.128431\ni2 0.612632 6.423818 396.447144 0.625278 5.593759 5.595291 1.706403\ni2 2.061750 6.466097 88.099365 0.392131 4.450167 4.506176 1.584693\ni2 2.182288 6.275542 82.500000 0.558059 5.887390 4.653890 1.591267\ni2 3.009792 2.090536 82.500000 0.297968 5.086270 4.647751 1.223566\ni2 3.074452 5.417487 176.198730 0.596974 5.300749 4.373563 1.459546\ni2 3.117796 3.316101 61.875000 0.538826 4.517286 5.994097 0.567196\ni2 3.470471 3.802434 469.863281 0.566342 4.727359 4.997118 1.420790\ni2 4.343199 6.537045 352.397461 0.500377 5.196806 5.434659 1.208533\ni2 4.633284 4.157687 176.198730 0.667681 4.289270 4.011181 1.419168\ni2 4.695956 7.723205 74.333839 0.438826 4.384028 4.709887 1.543554\ni2 4.890697 2.487104 594.670715 0.496465 4.995175 5.205411 1.840821\ni2 5.578029 4.134661 88.099365 0.672984 4.724274 4.370751 1.436541\ni2 6.320045 7.118917 117.465820 0.626264 5.242954 5.179889 1.927953\ni2 6.758798 5.910351 440.000000 0.237370 5.982273 5.921543 0.677146\ni2 6.769025 6.329461 66.074524 0.257621 4.536265 4.340245 1.401353\ni2 6.995483 2.028392 660.000000 0.488853 4.331047 5.804648 1.593002\ni2 7.887722 5.640830 132.149048 0.280439 4.827780 4.103659 1.904517\ni2 8.022909 5.356289 297.335358 0.641982 5.376578 4.616471 0.646723\ni2 8.151274 6.129450 117.465820 0.353151 5.600891 5.253728 0.612254\ni2 8.529833 6.059953 110.000000 0.510221 4.657022 4.830373 1.010230\ni2 9.540546 6.509231 469.863281 0.295457 4.907160 5.878276 1.298468\ni2 10.470340 6.797430 132.149048 0.377069 4.445084 5.095475 1.940991\ni2 10.567530 7.749846 66.074524 0.261799 5.838529 4.851543 1.205357\ni2 10.968197 4.353909 330.000000 0.682316 4.053264 5.629400 1.082912\ni2 11.050292 2.574224 313.242188 0.323620 5.081246 4.130759 1.283340\ni2 11.102514 3.859298 417.656250 0.647834 4.244017 4.078475 0.867849\ni2 11.624053 5.202925 247.500000 0.325363 4.022723 5.976979 1.341440\ni2 13.138912 7.475231 176.198730 0.523120 4.530488 5.230663 1.990890\ni2 13.866991 5.257271 198.223572 0.433447 4.112955 5.331129 0.705199\ni2 14.685373 3.354485 440.000000 0.525718 4.868284 5.884433 1.402370\ni2 15.690510 4.691688 104.414063 0.399613 5.568910 4.728560 1.727424\ni2 15.815964 3.681089 148.667679 0.358725 4.234894 4.751027 2.000841\ni2 15.901794 7.820581 264.298096 0.217849 4.803214 5.069020 1.839763\ni2 16.389776 2.967230 234.931641 0.257671 5.620661 5.248008 1.332562\ni2 16.782770 3.771625 88.099365 0.456693 5.907711 4.023762 1.654102\ni2 17.430038 5.238068 313.242188 0.614822 5.763838 5.178746 0.733405\ni2 18.134142 4.283331 330.000000 0.596497 5.877924 4.607637 1.025817\ni2 20.337860 5.574059 198.223572 0.323035 4.302081 4.335421 1.136999\ni2 20.592485 3.775113 278.437500 0.415199 4.776185 5.221333 1.449701\ni2 21.036364 6.441019 176.198730 0.564178 4.633849 5.762370 0.897315\ni2 22.088039 5.297264 110.000000 0.561861 5.449138 5.027550 1.707752\ni2 23.338661 4.262218 117.465820 0.211664 5.435503 5.522049 0.643357\ni2 26.754408 2.575680 297.335358 0.537162 5.489566 4.614696 1.069601\ni2 27.048311 4.416182 330.000000 0.488125 5.213494 4.067635 0.697114\ni2 27.488367 2.172569 139.218750 0.249033 5.612963 5.272841 0.975041\ni2 28.121632 6.878368 264.298096 0.594782 4.235892 4.494223 1.301934\ni2 29.014906 4.444573 176.198730 0.276978 4.255954 4.608954 0.607520\ni2 29.640188 5.359812 198.223572 0.329472 4.433578 5.764815 2.016001\ni2 31.592997 3.407003 58.732910 0.536764 4.746684 5.412088 0.901459\ni2 33.030880 2.000000 208.828125 0.430129 4.138776 5.237764 0.543223\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for 1 : PLUCKED STRINGS CHORUSED LEFT/RIGHT AND using oscillator and Karplus-Strong plucked string and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n;csound -RWdm7o ./Xanadu.wav ./Temp.orc ./Temp.sco\n</CsOptions>\n<CsInstruments>\nsr          =           44100\nkr          =           4410\nksmps       =           10\nnchnls      =           2\n;--------------------------------------------------------\n;INSTRUMENT 1 : PLUCKED STRINGS CHORUSED LEFT/RIGHT AND\n;       PITCH-SHIFTED AND DELAYED TAPS THRU EXPONENTIAL\n;       FUNCTIONS, AND DELAYED.\n;--------------------------------------------------------\n\n            instr       1\nishift      =           .00666667               ;shift it 8/1200.\nipch        =           cpspch(p5)              ;convert parameter 5 to cps.\nioct        =           octpch(p5)              ;convert parameter 5 to oct.\nkvib        oscil       1/120, ipch/50, 1       ;vibrato\nag          pluck       2000, cpsoct(ioct+kvib), 1000, 1, 1\nagleft      pluck       2000, cpsoct(ioct+ishift), 1000, 1, 1\nagright     pluck       2000, cpsoct(ioct-ishift), 1000, 1, 1\nkf1         expon       .1, p3, 1.0             ;exponential from 0.1 to 1.0\nkf2         expon       1.0, p3, .1             ;exponential from 1.0 to 0.1\nadump       delayr      2.0                     ;set delay line of 2.0 sec\n            delayw      ag                      ;put ag signal into delay line.\natap1       deltapi     kf1                     ;tap delay line with kf1 func.\natap2       deltapi     kf2                     ;tap delay line with kf2 func.\nad1         deltap      2.0                     ;delay 2 sec.\nad2         deltap      1.1                     ;delay 1.1 sec.\n            outs        agleft+atap1+ad1, agright+atap2+ad2\n            endin       \n;-------------------------------------------------------------\n;INSTRUMENT 2 : PLUCKED STRINGS CHORUSED LEFT/RIGHT AND\n;       PITCH-SHIFTED WITH FIXED DELAYED TAPS.\n;------------------------------------------------------------\n\n            instr       2\nishift      =           .00666667               ;shift it 8/1200.\nipch        =           cpspch(p5)              ;convert parameter 5 to cps.\nioct        =           octpch(p5)              ;convert parameter 5 to oct.\nkvib        oscil       1/120, ipch/50, 1       ;vibrato\nag          pluck       1000, cpsoct(ioct+kvib), 1000, 1, 1\nagleft      pluck       1000, cpsoct(ioct+ishift), 1000, 1, 1\nagright     pluck       1000, cpsoct(ioct-ishift), 1000, 1, 1\nadump       delayr      0.3                     ;set delay line of 0.3 sec\n            delayw      ag                      ;put ag sign into del line.\nad1         deltap      0.1                     ;delay 100 msec.\nad2         deltap      0.2                     ;delay 200 msec.\n            outs        agleft+ad1, agright+ad2\n            endin       \n;-----------------------------------------------------------\n;INSTRUMENT 3 : NEW FM ALGORITHM, MODIFIED TO PRODUCE LARGE TIMBRE\n;               SHIFTS USING MODULATION OF I AND R. DETUNED CHORUSING EMPLOYED. \n;-----------------------------------------------------------\n            instr       3\nishift      =           .00666667               ;shift it 8/1200.\nipch        =           cpspch(p5)              ;convert parameter 5 to cps.\nioct        =           octpch(p5)              ;convert parameter 5 to oct.\nkadsr       linseg      0, p3/3, 1.0, p3/3, 1.0, p3/3, 0 ;ADSR envelope \nkmodi       linseg      0, p3/3, 5, p3/3, 3, p3/3, 0 ;ADSR envelope for I\nkmodr       linseg      p6, p3, p7              ;r moves from p6->p7 in p3 sec.\na1          =           kmodi*(kmodr-1/kmodr)/2\na1ndx       =           abs(a1*2/20)            ;a1*2 is normalized from 0-1.\na2          =           kmodi*(kmodr+1/kmodr)/2\na3          tablei      a1ndx, 3, 1             ;lookup tbl in f3, normal index\nao1         oscil       a1, ipch, 2             ;cosine\na4          =           exp(-0.5*a3+ao1)\nao2         oscil       a2*ipch, ipch, 2        ;cosine\naoutl       oscil       1000*kadsr*a4, ao2+cpsoct(ioct+ishift), 1 ;fnl outleft\naoutr       oscil       1000*kadsr*a4, ao2+cpsoct(ioct-ishift), 1 ;fnl outright\n            outs        aoutl, aoutr\n            endin       \n</CsInstruments>\n<CsScore>\n;       SCORE FOR FINAL PROJECT IN DIGITAL AUDIO PROCESSING\n;       ---------------------------------------------------\n\n;           Piece entitled :  X A N A D U (short version)\n;                           Joseph T. Kung, 12/12/88\n\n;           THE FIRST PART OF THE SCORE WILL SPECIFY ALL FUNCTION\n;       TABLES USED IN THE PIECE. THE SECOND PART SPECIFIES\n;       THE INSTRUMENTS AND NOTES. THE LATTER IS DIVIDED INTO\n;       7 SECTIONS, EACH PLAYING A CHORD ON A DIFFERENT \n;                 INSTRUMENT.\n;       THE CHORDS ARE UNCOMMON GUITAR CHORDS THAT USE THE OPEN\n;       B AND E STRINGS OFTEN. THESE WILL BE TRANSPOSED BY\n;       OCTAVES ON SOME CHORDS.\n\n;       EACH INSTRUMENT WILL PLAY A CHORD FOR 15 SECONDS. THE \n;                 TIMBRE\n;       OF THE INSTRUMENT WILL CHANGE IN THAT INTERVAL AND JOIN\n;       WITH THE NEXT INSTRUMENT/CHORD SEQUENCE. INSTRUMENT 3\n;       USES A MODIFIED FM SYNTHESIS TECHNIQUE. THIS IS JOINED\n;       BY AN ADDITIONAL PLUCKED-STRING INSTRUMENT\n;       (INSTRUMENTS 1 AND 2).\n\n;   The Function Tables\n;   -------------------\n;All functions are post-normalized (max value is 1) if p4 is \n;POSITIVE.\n\nf1 0 8192 10 1      ;sine wave\nf2 0 8192 11 1      ;cosine wave\nf3 0 8192 -12 20.0  ;unscaled ln(I(x)) from 0 to 20.0\n\n;-----------------------------------------------------------\n\n;----- THIS SECTION COMPRISES ALL THE NEW FM SOUNDS -----------\n\n;F#7addB chord on a guitar\ni3 0 15 0 7.06 2.0 0.2  ;F#\ni3 . . . 8.01 . .   ;C# above\ni3 . . . 8.06 . .   ;F# octave above 1st one\ni3 . . . 8.10 . .   ;Bb next one up\ni3 . . . 8.11 . .   ;B\ni3 . . . 9.04 . .   ;E\n\n;D6add9 chord on a guitar\ni3 7.5 15 0 6.02 1.7 0.5    ;D\ni3 . . . 6.09 . .   ;A above\ni3 . . . 7.02 . .   ;D octave above 1st one\ni3 . . . 7.06 . .   ;F# next one up\ni3 . . . 6.11 . .   ;B\ni3 . . . 7.04 . .   ;E\n\n;Bmajadd11 chord on a guitar\ni3 15 15 0 7.11 1.4 0.8 ;B\ni3 . . . 8.06 . .   ;F# above\ni3 . . . 8.11 . .   ;B octave above 1st one\ni3 . . . 9.03 . .   ;D# next one up\ni3 . . . 8.11 . .   ;B\ni3 . . . 9.04 . .   ;E;\n\n;Amajadd9 chord on a guitar\ni3 22.5 15 0 6.09 1.1 1.1   ;A\ni3 . . . 7.04 . .   ;E above\ni3 . . . 8.09 . .   ;A octave above 1st one\ni3 . . . 8.01 . .   ;C# next one up\ni3 . . . 7.11 . .   ;B\ni3 . . . 8.04 . .   ;E\n\n;Bmajadd11 chord on a guitar\ni3 30 15 0 6.11 0.8 1.4 ;B\ni3 . . . 7.06 . .   ;F# above\ni3 . . . 7.11 . .   ;B octave above 1st one\ni3 . . . 8.03 . .   ;D# next one up\ni3 . . . 7.11 . .   ;B\ni3 . . . 8.04 . .   ;E;\n\n;Gmaj6 chord on a guitar\ni3 37.5 15 0 5.07 0.5 1.7   ;G\ni3 . . . 6.02 . .   ;D above\ni3 . . . 6.07 . .   ;G octave above 1st one\ni3 . . . 6.11 . .   ;B on G string\ni3 . . . 6.11 . .   ;B\ni3 . . . 7.04 . .   ;E\n\n;F#7addB chord on a guitar\ni3 45 15 0 7.06 0.2 2.0 ;F#\ni3 . . . 8.01 . .   ;C# above\ni3 . . . 8.06 . .   ;F# octave above 1st one\ni3 . . . 8.10 . .   ;Bb next one up\ni3 . . . 8.11 . .   ;B\ni3 . . . 9.04 . .   ;E\n\n; THIS SECTION ADDS THE PLUCKED CHORDS TO THE BEGINNING OF EACH \n; SECTION.\n\n;F#7addB chord on a guitar\ni1 0 10 0 8.06  ;F#\ni1 0.1 . . 9.01 ;C# above\ni1 0.2 . . 9.06 ;F# octave above 1st one\ni1 0.3 . . 9.10 ;Bb next one up\ni1 0.4 . . 9.11 ;B\ni1 0.5 . . 10.04    ;E\n\n;D6add9 chord on a guitar\ni2 7.5 10 0 8.02    ;D\ni2 7.6 . . 8.09     ;A above\ni2 7.7 . . 9.02     ;D octave above 1st one\ni2 7.8 . . 9.06     ;F# next one up\ni2 7.9 . . 9.11     ;B\ni2 8.0 . . 10.04    ;E\n\n;Bmajadd11 chord on a guitar\ni2 15 10 0 8.11     ;B\ni2 15.1 . . 9.06    ;F# above\ni2 15.2 . . 9.11    ;B octave above 1st one\ni2 15.3 . . 10.03   ;D# next one up\ni2 15.4 . . 9.11    ;B\ni2 15.5 . . 10.04   ;E;\n\n;Amajadd9 chord on a guitar\ni2 22.5 10 0 8.09   ;A\ni2 22.6 . . 9.04    ;E above\ni2 22.7 . . 10.09   ;A octave above 1st one\ni2 22.8 . . 10.01   ;C# next one up\ni2 22.9 . . 9.11    ;B\ni2 23.0 . . 10.04   ;E\n\n;Bmajadd11 chord on a guitar\ni2 30 10 0 8.11     ;B\ni2 30.1 . . 9.06    ;F# above\ni2 30.2 . . 9.11    ;B octave above 1st one\ni2 30.3 . . 10.03   ;D# next one up\ni2 30.4 . . 9.11    ;B\ni2 30.5 . . 10.04   ;E;\n\n;Gmaj6 chord on a guitar\ni2 37.5 10 0 8.07   ;G\ni2 37.6 . . 9.02    ;D above\ni2 37.7 . . 9.07    ;G octave above 1st one\ni2 37.8 . . 9.11    ;B on G string\ni2 37.9 . . 9.11    ;B\ni2 38.0 . . 10.04   ;E\n\n;F#7addB chord on a guitar\ni1 45 10 0 9.06     ;F#\ni1 45.1 . . 10.01   ;C# above\ni1 45.2 . . 10.06   ;F# octave above 1st one\ni1 45.3 . . 10.10   ;Bb next one up\ni1 45.4 . . 10.11   ;B\ni1 45.5 . . 11.04   ;E\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for gispeedi init   gispeedf    ;Save old speed using oscillator and Butterworth lowpass filter and Butterworth bandpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from newrotortxt.orc and newrotortxt.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 2205\nksmps  = 20\nnchnls = 2\n\n;------------------------------------------------------------------------\n; Tone Wheel Organ with Rotating Speaker\n;------------------------------------------------------------------------\n\n\n;------------------------------------------------------------------------\n; Global initialization\n;------------------------------------------------------------------------\n\n         instr 1\ngispeedf init  p4           ;Initialize rotor speed\n         endin\n        \n;------------------------------------------------------------------------\n; This instrument acts as the foot switch controlling rotor speeds.\n;------------------------------------------------------------------------\n         instr 2\n\ngispeedi init   gispeedf    ;Save old speed\ngispeedf init   p4          ;update new speed\n\ngkenv    linseg gispeedi*.8,1,gispeedf*.8,.01,gispeedf*.8 ;High freq. rotor acceleration\ngkenvlow linseg gispeedi*.7,2,gispeedf*.7,.01,gispeedf*.7 ;Low freq. rotor acceleration\n\n         endin\n\n;------------------------------------------------------------------------\n; Tone Wheel Organ\n;------------------------------------------------------------------------\n         instr 3\n\ngaorgan  init  0                       ;Global send to speaker\niphase   init  p2                      ;Continuous phase change based on p2\nikey     init  12*int(p5-6)+100*(p5-6) ;Keyboard key pressed.\nifqc     init  cpspch(p5)              ;Convert to cycles/sec.\niwheel1  init  ((ikey-12) > 12 ? 1:2)  ;The lower 12 tone wheels have\niwheel2  init  ((ikey+7)  > 12 ? 1:2)  ;increased odd harmonic content.\niwheel3  init  (ikey      > 12 ? 1:2)\niwheel4  init  1                       \n  \n;------------------------------------------------------------------------\nkenv     linseg 0,.01,p4,p3-.02,p4,.01,0 ;Amplitude envelope.\n\n;------------------------------------------------------------------------\nasubfund oscil  p6,  .5*ifqc,      iwheel1, iphase/(ikey-12)  ;The organ tone is\nasub3rd  oscil  p7,  1.4983*ifqc,  iwheel2, iphase/(ikey+7)   ;made from adding\nafund    oscil  p8,  ifqc,         iwheel3, iphase/ikey       ;the weighted output\na2nd     oscil  p9,  2*ifqc,       iwheel4, iphase/(ikey+12)  ;of 9 equal temperament\na3rd     oscil  p10, 2.9966*ifqc,  iwheel4, iphase/(ikey+19)  ;tone wheels.\na4th     oscil  p11, 4*ifqc,       iwheel4, iphase/(ikey+24)\na5th     oscil  p12, 5.0397*ifqc,  iwheel4, iphase/(ikey+28)\na6th     oscil  p13, 5.9932*ifqc,  iwheel4, iphase/(ikey+31)\na8th     oscil  p14, 8*ifqc,       iwheel4, iphase/(ikey+36)\n\ngaorgan  =      gaorgan+kenv*(asubfund+asub3rd+afund+a2nd+a3rd+a4th+a5th+a6th+a8th)\n\n         endin\n\n;------------------------------------------------------------------------\n;Rotating Speaker\n;------------------------------------------------------------------------\n         instr  4\n\niioff    init   p4\nisep     init   p5             ;Phase separation between right and left\niradius  init   .00025         ;Radius of the rotating horn.\niradlow  init   .00035         ;Radius of the rotating scoop.\nideleng  init   .02            ;Length of delay line.\n\n;------------------------------------------------------------------------\nasig     =      gaorgan        ;Global input from organ\n\n;------------------------------------------------------------------------\nasig     =      asig/40000     ;Distortion effect using waveshaping.\naclip    tablei asig,5,1,.5    ;A lazy \"S\" curve, use table 6 for increased\naclip    =      aclip*16000    ;distortion.\n\n;------------------------------------------------------------------------\naleslie delayr  ideleng,1      ;Put \"clipped\" signal into a delay line.\n        delayw  aclip\n\n;------------------------------------------------------------------------\nkoscl   oscil   1,gkenv,1,iioff            ;Doppler effect is the result\nkoscr   oscil   1,gkenv,1,iioff+isep       ;of delay taps oscillating\nkdopl   =       ideleng/2-koscl*iradius   ;through the delay line.  Left\nkdopr   =       ideleng/2-koscr*iradius   ;and right are slightly out of phase\naleft   deltapi kdopl                     ;to simulate separation between ears\naright  deltapi kdopr                     ;or microphones\n\n;------------------------------------------------------------------------\nkoscllow  oscil   1,gkenvlow,1,iioff           ;Doppler effect for the\nkoscrlow  oscil   1,gkenvlow,1,iioff+isep      ;lower frequencies.\nkdopllow  =       ideleng/2-koscllow*iradlow\nkdoprlow  =       ideleng/2-koscrlow*iradlow\naleftlow  deltapi kdopllow\narightlow deltapi kdoprlow\n\n;------------------------------------------------------------------------\nalfhi     butterbp aleft,8000,3000     ;Divide the frequency into three\narfhi     butterbp aright,8000,3000    ;groups and modulate each with a\nalfmid    butterbp aleft,3000,2000     ;different width pulse to account\narfmid    butterbp aright,3000,2000    ;for different  dispersion\nalflow    butterlp aleftlow,1000       ;of different frequencies.\narflow    butterlp arightlow,1000\n\nkflohi    oscil    1,gkenv,3,iioff\nkfrohi    oscil    1,gkenv,3,iioff+isep\nkflomid   oscil    1,gkenv,4,iioff\nkfromid   oscil    1,gkenv,4,iioff+isep\n  \n;------------------------------------------------------------------------\n; Amplitude Effect on Lower Speaker\nkalosc    = koscllow*.6+1\nkarosc    = koscrlow*.6+1\n\n; Add all frequency ranges and output the result.\nouts alfhi*kflohi+alfmid*kflomid+alflow*kalosc, arfhi*kfrohi+arfmid*kfromid+arflow*karosc\n\ngaorgan = 0\n\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; Tone Wheel Organ with Rotating Speaker rev. 2\n; by Hans Mikelson 2/18/97 \n; ************************************************************************\n\n\n; GEN functions **********************************************************\n; Sine\nf1  0   8192  10   1 .02 .01\nf2  0   1024  10   1 0 .2 0 .1 0 .05 0 .02\n\n; Rotating Speaker Filter Envelopes\nf3   0    256   7  .2    110 .4 18 1 18 .4  110 .2\nf4   0    256   7  .4    80  .6 16 1 64 1   16  .6 80 .4  \n\n; Distortion Tables\nf5 0 8192   8 -.8 336 -.78  800 -.7 5920 .7  800 .78 336 .8\nf6 0 8192   8 -.8 336 -.76 3000 -.7 1520 .7 3000 .76 336 .8\n\n; score ******************************************************************\n\nt 0 200\n\n;  Tone Wheel Organ\n; Initializes global variables\ni1 0 1 1\n\n;ins  sta  dur  speed\ni2    0    6     1\ni2    +    6     10\ni2    .    12    1\ni2    .    6     10\n\n;  Start Dur   Amp   Pitch SubFund Sub3rd Fund 2nd 3rd 4th 5th 6th 8th\ni3   0    6    200    8.04   8       8     8    8   3   2   1   0   4\ni3   0    6    .      8.11   .       .     .    .   .   .   .   .   .\ni3   0    6    .      9.02   .       .     .    .   .   .   .   .   .\ni3   6    1    .      8.04   .       .     .    .   .   .   .   .   .\ni3   6    1    .      8.11   .       .     .    .   .   .   .   .   .\ni3   6    1    .      9.04   .       .     .    .   .   .   .   .   .\ni3   7    1    .      8.04   .       .     .    .   .   .   .   .   .\ni3   7    1    .      8.11   .       .     .    .   .   .   .   .   .\ni3   7    1    .      9.02   .       .     .    .   .   .   .   .   .\ni3   8    1    .      8.04   .       .     .    .   .   .   .   .   .\ni3   8    1    .      8.09   .       .     .    .   .   .   .   .   .\ni3   8    1    .      9.01   .       .     .    .   .   .   .   .   .\ni3   9    8    .      8.04   .       .     .    .   .   .   .   .   .\ni3   9    8    .      8.08   .       .     .    .   .   .   .   .   .\ni3   9    8    .      8.11   .       .     .    .   .   .   .   .   .\ni3   17   16   200   10.04   8       4     8    3   1   1   0   .   3\n;i3   20   13   200    9.09   8       4     8    3   1   1   0   .   3\n;i3   23   10   200    8.04   8       4     8    3   1   1   0   .   3 \n;i3   26   7    200    7.04   8       4     8    3   1   1   0   .   3 \n\n;   Rotating Speaker\n;   Start  Dur  Offset  Sep\ni4    0    33.2  .5     .1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iwave     =         2 using oscillator and FM synthesis and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from slingpling.orc and slingpling.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n\ninstr 1\n     iwave     =         2\n     ienvp     =         1\n     inote     =         cpspch( p4)\n\n     kamp linseg    p5, p3/2, 1000, p3/2, 500\n\n     kop1 oscil     kamp, 2,   ienvp\n     kop2 oscil     kamp, 2.2, ienvp\n     kop3 oscil     kamp, 7.2, ienvp\n     kop4 oscil     kamp, 5.2, ienvp\n     kop5 oscil     kamp, 3.2, ienvp\n     kop6 oscil     kamp, 4.2, ienvp\n\n     aop1 oscil     kop1, inote,   iwave\n     aop2 oscil     kop2, inote*2, iwave\n     aop3 oscil     kop3, inote*3, iwave\n     aop4 oscil     kop4, inote*4, iwave\n     aop5 oscil     kop5, inote*5, iwave\n     aop6 oscil     kop6, inote*6, iwave\n\n     aout =         (aop1+aop2+aop3+aop4+aop5+aop6)\n     apan oscil     .5, 1, 1\n     apan =         (apan + .5)*1.3\n\n     outs aout*apan, aout*(1-apan)\nendin\n\ninstr 2\n     knos linseg    1, .01, 0, p3-.01, 0\n     kamp expon     10000, .5, .0001\n     a1        oscil     kamp/2, 100, 3\n     a2        oscil     kamp, 50, 3\n     a3        rand 5000\n     aout =         (a1+a2+knos*a3)/2\n     outs aout, aout\nendin\n\ninstr 3\n     kamp line 1, p3, 0\n     ans       rand 10000\n     a1        oscil     2000*kamp, 180, 3\n     a2        oscil     2000*kamp, 200, 3\n     afn1 reson     ans, 500, 100\n     afn2 reson     ans, 1000, 200\n     afn3 reson     ans, 1500, 400\n     \n     anss =         kamp*(afn1 + afn2 + afn3 + 10*ans)\n     aout      =         (anss + a2 + a1)/75\n     outs aout, aout\nendin\n\ninstr 4\n     kamp expon     1, p3, .000000001\n     ans       rand 10000\n     afn1 reson     ans, 2500, 100\n     afn2 reson     ans, 3000, 200\n     afn3 reson     ans, 4000, 400\n\n     aout =         kamp*(afn1 + afn2 + afn3)/75\n     outs aout, aout\nendin\n\ninstr 5\n     inote     =    cpspch(p4)\n\n     kamp line 1000, p3, 0\n\n     aop1 foscil    10*kamp, 1, inote, inote, 1, 4\n     afil tone aop1, kamp\n\n     aout =    afil/4\n     outs aout, aout\nendin\n\ninstr 6\n     inote     =    cpspch(p4)\n\n     kamp linseg    p5, p3/4, 10000, 3*p3/4, 5000\n\n     aop1 foscil    kamp, 1, inote, inote, 2, 4\n     aop2 foscil    kamp, 1, inote+2, inote+2, 2, 4\n     aop3 foscil    kamp, 1, inote-2, inote-2, 2, 4\n\n     aouf =         aop1 + aop2 + aop3\n     kfrs oscil     200, .2, 3\n     kfr       =         kfrs + 500\n     aoul tone aouf, kfr\n     aour reson     aouf, kfr*4, 100\n     \n     aout =         (aour/3 + aoul)/60\n\n     outs aout, aout\nendin\n\ninstr 7\n     kp   expon     p4, p3, 240\n     ka   line 5000, p3, 0\n     a1   oscil     ka, kp, 3\n     outs a1, a1\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1024 7 1 1024 0\nf2 0 1024 7 0 128 1 128 0 128 1 256 -1 128 0 128 -1 128 0\nf3 0 1024 10 1\nf4 0 1024 7 -.5 24 .5 1000 -.5\n\n;    BAR 1\nt 0 50\n\ni1 0 4 7.00 0\ni1 0 4 7.09 0\n\ni2 0 .5\ni5 0 .5 5.09\n\ni2 .75 .5\ni5 .75 .5 5.09\ni2 2 .5\ni5 2 .5 5.09\ni2 2.75 .5\ni5 2.75 .5 5.09\ni2 3.25 .5\ni5 3.25 .5 5.08\n\ni3 1 .2\ni3 3 .2\ni4 0 .3\ni4 .5 .3\ni4 1 .3\ni4 1.5 .3\ni4 2 .3\ni4 2.5 .3\ni4 3 .3\ni4 3.5 .3\n\ni7 1.50 .08 200\ni7 1.75 .08 200\ni7 3.50 .08 280\ni7 3.75 .08 280\n\ni6 0 4 8.04 0\ni6 0 4 8.09 0\ni6 0 4 9.00 0\ni6 0 4 9.04 0\ns\n;         BAR 2\nt 0 50\n\ni1 0 4 7.00 500\ni1 0 4 7.07 500\n\ni2 0 .5\ni5 0 .5 5.07\ni2 .75 .5\ni5 .75 .5 5.07\ni2 2 .5\ni5 2 .5 5.07\ni2 2.75 .5\ni5 2.75 .5 5.07\ni2 3.25 .5\ni5 3.25 .5 5.08\ni3 1 .2\ni3 3 .2\ni4 1 .3\ni4 1.5 .3\ni4 2 .3\ni4 2.5 .3\ni4 3 .3\ni4 3.5 .3\ni4 0 .3\ni4 .5 .3\n\ni7 1.50 .08 200\ni7 1.75 .08 200\ni7 3.50 .08 280\ni7 3.75 .08 280\n\ni6 0 4 8.04 5000\ni6 0 2 8.07 0\ni6 0 2 8.11 0\ni6 0 2 9.02 0\ns\n;         BAR 3\nt 0 50\n\ni1 0 4 7.00 500\ni1 0 4 7.09 500\n\ni2 0 .5\ni5 0 .5 5.09\ni2 .75 .5\ni5 .75 .5 5.09\ni2 2 .5\ni5 2 .5 5.09\ni2 2.75 .5\ni5 2.75 .5 5.09\ni2 3.25 .5\ni5 3.25 .5 5.08\n\ni3 1 .2\ni3 3 .2\ni4 1 .3\ni4 1.5 .3\ni4 2 .3\ni4 2.5 .3\ni4 3 .3\ni4 3.5 .3\ni4 0 .3\ni4 .5 .3\n\ni7 1.50 .08 200\ni7 1.75 .08 200\ni7 3.50 .08 280\ni7 3.75 .08 280\n\ni6 0 4 8.04 5000\ni6 0 4 8.09 0\ni6 0 4 9.00 0\ni6 0 4 9.04 0\ns\n;         BAR 4\nt 0 50\n\ni1 0 4 7.00 500\ni1 0 4 7.07 500\n\ni2 0 .5\ni5 0 .5 5.07\ni2 .75 .5\ni5 .75 .5 5.07\ni2 2 .5\ni5 2 .5 5.07\ni2 2.75 .5\ni5 2.75 .5 5.07\ni2 3.25 .5\ni5 3.25 .5 5.06\ni3 1 .2\ni3 3 .2\ni4 1 .3\ni4 1.5 .3\ni4 2 .3\ni4 2.5 .3\ni4 3 .3\ni4 3.5 .3\ni4 0 .3\ni4 .5 .3\n\ni7 1.50 .08 200\ni7 1.75 .08 200\ni7 3.50 .08 280\ni7 3.75 .08 280\n\ni6 0 4 8.04 5000\ni6 0 2 8.07 0\ni6 0 2 8.11 0\ni6 0 2 9.02 0\ns\n;         BAR 5\nt 0 50\n\ni1 0 4 7.00 500\ni1 0 4 7.07 500\n\ni2 0 .5\ni5 0 .5 5.05\ni2 .75 .5\ni5 .75 .5 5.05\ni2 2 .5\ni5 2 .5 5.05\ni2 2.75 .5\ni5 2.75 .5 5.05\ni2 3.25 .5\ni5 3.25 .5 5.06\ni3 1 .2\ni3 3 .2\ni4 1 .3\ni4 1.5 .3\ni4 2 .3\ni4 2.5 .3\ni4 3 .3\ni4 3.5 .3\ni4 0 .3\ni4 .5 .3\n\ni7 1.50 .08 200\ni7 1.75 .08 200\ni7 3.50 .08 280\ni7 3.75 .08 280\n\ni6 0 4 8.04 5000\ni6 0 4 8.05 0\ni6 0 4 8.09 0\ni6 0 4 9.00 0\ns\n;         BAR 7\nt 0 50\n\ni1 0 4 7.02 500\ni1 0 4 7.07 500\n\ni2 0 .5\ni5 0 .5 5.07\ni2 .75 .5\ni5 .75 .5 5.07\ni2 2 .5\ni5 2 .5 5.07\ni2 2.75 .5\ni5 2.75 .5 5.07\ni2 3.25 .5\ni5 3.25 .5 5.08\ni3 1 .2\ni3 3 .2\ni4 1 .3\ni4 1.5 .3\ni4 2 .3\ni4 2.5 .3\ni4 3 .3\ni4 3.5 .3\ni4 0 .3\ni4 .5 .3\n\ni7 1.50 .08 200\ni7 1.75 .08 200\ni7 3.50 .08 280\ni7 3.75 .08 280\n\n\ni6 0 4 8.07 0\ni6 0 4 8.02 0\ni6 0 2 9.00 5000\ni6 2 2 8.11 0\ns\n;         BAR 8\nt 0 50\n\ni1 0 6 7.01 500\ni1 0 6 7.09 500\n\ni2 0 .5\ni5 0 .5 5.09\ni2 .75 .5\ni5 .75 .5 5.09\ni2 2 .5\ni5 2 .5 5.09\ni2 2.75 .5\ni5 2.75 .5 5.09\ni2 3.25 .5\ni5 3.25 .5 5.09\ni3 1 .2\ni3 3 .2\ni4 1 .3\ni4 1.5 .3\ni4 2 .3\ni4 2.5 .3\ni4 3 .3\ni4 3.5 .3\ni4 0 .3\ni4 .5 .3\n\ni7 1.50 .08 200\ni7 1.75 .08 200\ni7 3.50 .08 280\ni7 3.75 .08 280\n\ni6 0 4 8.04 0\ni6 0 4 8.09 0\ni6 0 4 9.01 0\n\ni2 0 .5\ni5 0 .5 5.09\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Soprano Mk 1. using oscillator and delay effect and FOF formant synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Soprano.orc and Soprano.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 2205\nksmps  = 20\nnchnls = 1\n\n\ninstr    1 ; Soprano Mk 1.\n\nileng    = abs(p3)\nilevl    = p4*.4\ninote    = cpspch(p5)\nivowl1   = p6/4 + 1\nivowl2   = p7/4 + 1\nivibdel  = p8\niport    = p9\niseed    = frac(p2 + .123/inote)\niviblev  = inote/50 + 9\n\nistied   tival\n\ntigoto   tieinit\nibegp    = inote\niprev    = inote\ngoto     cont\n\ntieinit:\nibegp    = iprev\niprev    = inote\ncont:\n\nkpitch   linseg  ibegp, iport, inote, ileng, inote       ; Pitch Env\n\nibegl     = (istied == 1 ? 1 : 0)\niendl     = (p3 < 0 ? 1 : 0)\n\nkenv     linseg  ibegl, .25, 1, ileng-.5, 1, .25, iendl  ; Legato Amp Env\n\nkn1      randi  25, 5, iseed ; 25% Vibrato Depth Randomiser\nkn1      = (kn1 + 100)/100\nkn2      randi  10, 7, iseed ; 10% Vibrato Rate Randomiser\nkn2      = (kn2 + 100)/100\nkn3      randi .25, 8, iseed ; 1/4% Pitch Randomiser\nkn3      = (kn3 + 100)/100\n\nk0       linseg  1, ileng-.25, 1, .25, 1.5               ; Vibrato Rate\nk1       linseg  0, ivibdel, 1, ileng-ivibdel, 1         ; Vibrato Delay\nk1       oscil  iviblev*kn1*k1*k0, 6*kn2*k0, 3           ; Vibrato LFO\n;kenv     linseg  0, .25, 1, ileng-.35, 1, .1, 0         ; Non Legato Amp Env\n\nkpitch   = kpitch*kn3 + k1\n\nkn5      randi  40, 2\nkn6      randi  50, 3.4\nkn7      randi  60, 4.3\nkn8      randi  70, 5.2\nkn9      randi  80, 6.1\n\ni1f1     table  ivowl1, 11, 1\ni2f1     table  ivowl1, 12, 1\ni3f1     table  ivowl1, 13, 1\ni4f1     table  ivowl1, 14, 1\ni5f1     table  ivowl1, 15, 1\n\ni1f2     table  ivowl2, 11, 1\ni2f2     table  ivowl2, 12, 1\ni3f2     table  ivowl2, 13, 1\ni4f2     table  ivowl2, 14, 1\ni5f2     table  ivowl2, 15, 1\n\nk1f      line  i1f1, ileng, i1f2\nk2f      line  i2f1, ileng, i2f2\nk3f      line  i3f1, ileng, i3f2\nk4f      line  i4f1, ileng, i4f2\nk5f      line  i5f1, ileng, i5f2\n\ni1b1     table  ivowl1, 21, 1\ni2b1     table  ivowl1, 22, 1\ni3b1     table  ivowl1, 23, 1\ni4b1     table  ivowl1, 24, 1\ni5b1     table  ivowl1, 25, 1\n\ni1b2     table  ivowl2, 21, 1\ni2b2     table  ivowl2, 22, 1\ni3b2     table  ivowl2, 23, 1\ni4b2     table  ivowl2, 24, 1\ni5b2     table  ivowl2, 25, 1\n\nk1b      line  i1b1, ileng, i1b2\nk2b      line  i2b1, ileng, i2b2\nk3b      line  i3b1, ileng, i3b2\nk4b      line  i4b1, ileng, i4b2\nk5b      line  i5b1, ileng, i5b2\n\ni2l1     table  ivowl1, 32, 1\ni3l1     table  ivowl1, 33, 1\ni4l1     table  ivowl1, 34, 1\ni5l1     table  ivowl1, 35, 1\n\ni2l2     table  ivowl2, 32, 1\ni3l2     table  ivowl2, 33, 1\ni4l2     table  ivowl2, 34, 1\ni5l2     table  ivowl2, 35, 1\n\nk2l      line  i2l1, ileng, i2l2\nk3l      line  i3l1, ileng, i3l2\nk4l      line  i4l1, ileng, i4l2\nk5l      line  i5l1, ileng, i5l2\n\nk1l      = 32000\nk2l      = ampdb(90 - k2l)\nk3l      = ampdb(90 - k3l)\nk4l      = ampdb(90 - k4l)\nk5l      = ampdb(90 - k5l)\n\na1       fof  k1l, kpitch, k1f + kn5, 0, k1b, .003, .02, .007, 1000, 1, 2, ileng\na2       fof  k2l, kpitch, k2f + kn6, 0, k2b, .003, .02, .007, 1000, 1, 2, ileng\na3       fof  k3l, kpitch, k3f + kn7, 0, k3b, .003, .02, .007, 1000, 1, 2, ileng\na4       fof  k4l, kpitch, k4f + kn8, 0, k4b, .003, .02, .007, 1000, 1, 2, ileng\na5       fof  k5l, kpitch, k5f + kn9, 0, k5b, .003, .02, .007, 1000, 1, 2, ileng\n\nout      (a1 + a2 + a3 + a4 + a5)*kenv\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 4096 10 1 ; Sine\nf2 0 1024 19 .5 .5 270 .5 ; 1/4 Sine for FOF\nf3 0 4096 10 8 1 .5 ; Distorted Sine for Vibrato\n\n;f11 0 1024 -7  600 256  400 256  250 256  400 256  350 ; Bass Frequencies\n;f12 0 1024 -7 1040 256 1620 256 1750 256  750 256  600\n;f13 0 1024 -7 2250 256 2400 256 2600 256 2400 256 2400\n;f14 0 1024 -7 2450 256 2800 256 3050 256 2600 256 2675\n;f15 0 1024 -7 2750 256 3100 256 3340 256 2900 256 2950\n\n;f21 0 1024 -7   60 256   40 256   60 256   40 256   40 ; Bass Bandwidths\n;f22 0 1024 -7   70 256   80 256   90 256   80 256   80\n;f23 0 1024 -7  110 256  100 256  100 256  100 256  100\n;f24 0 1024 -7  120 256  120 256  120 256  120 256  120\n;f25 0 1024 -7  130 256  120 256  120 256  120 256  120\n\n;f31 0 1024 -7    0 256    0 256    0 256    0 256    0 ; Bass Levels (dB)\n;f32 0 1024 -7   20 256   11 256   30 256   12 256    7\n;f33 0 1024 -7   32 256   21 256   16 256    9 256    9\n;f34 0 1024 -7   28 256   20 256   22 256   12 256    9\n;f35 0 1024 -7   36 256   40 256   28 256   18 256   36\n\n;f11 0 1024 -7  650 256  400 256  290 256  400 256  350 ; Tenor Frequencies\n;f12 0 1024 -7 1080 256 1700 256 1870 256  800 256  600\n;f13 0 1024 -7 2650 256 2600 256 2800 256 2600 256 2700\n;f14 0 1024 -7 2900 256 3200 256 3250 256 2800 256 2900\n;f15 0 1024 -7 3250 256 3580 256 3540 256 3000 256 3300\n\n;f21 0 1024 -7   80 256   70 256   40 256   40 256   40 ; Tenor Bandwidths\n;f22 0 1024 -7   90 256   80 256   90 256   80 256   60\n;f23 0 1024 -7  120 256  100 256  100 256  100 256  100\n;f24 0 1024 -7  130 256  120 256  120 256  120 256  120\n;f25 0 1024 -7  140 256  120 256  120 256  120 256  120\n\n;f31 0 1024 -7    0 256    0 256    0 256    0 256    0 ; Tenor Levels (dB)\n;f32 0 1024 -7    6 256   14 256   15 256   10 256   20\n;f33 0 1024 -7    7 256   12 256   18 256   12 256   17\n;f34 0 1024 -7    8 256   14 256   20 256   12 256   14\n;f35 0 1024 -7   22 256   20 256   30 256   26 256   26\n\n;f11 0 1024 -7  800 256  400 256  350 256  450 256  325 ; Contralto Frequencies\n;f12 0 1024 -7 1150 256 1600 256 1700 256  800 256  700\n;f13 0 1024 -7 2800 256 2700 256 2700 256 2830 256 2530\n;f14 0 1024 -7 3500 256 3300 256 3700 256 3500 256 3500\n;f15 0 1024 -7 4950 256 4950 256 4950 256 4950 256 4950\n\n;f21 0 1024 -7   80 256   60 256   50 256   70 256   50 ; Contralto Bandwidths\n;f22 0 1024 -7   90 256   80 256  100 256   80 256   60\n;f23 0 1024 -7  120 256  120 256  120 256  100 256  170\n;f24 0 1024 -7  130 256  150 256  150 256  130 256  180\n;f25 0 1024 -7  140 256  200 256  200 256  135 256  200\n\n;f31 0 1024 -7    0 256    0 256    0 256    0 256    0 ; Contralto Levels (dB)\n;f32 0 1024 -7    4 256   24 256   20 256    9 256   12\n;f33 0 1024 -7   20 256   30 256   30 256   16 256   30\n;f34 0 1024 -7   36 256   35 256   36 256   28 256   40\n;f35 0 1024 -7   60 256   60 256   60 256   55 256   64\n\nf11 0 1024 -7  800 256  350 256  270 256  450 256  325 ; Soprano Frequencies\nf12 0 1024 -7 1150 256 2000 256 2140 256  800 256  700\nf13 0 1024 -7 2900 256 2800 256 2950 256 2830 256 2700\nf14 0 1024 -7 3900 256 2600 256 3900 256 3800 256 3800\nf15 0 1024 -7 4950 256 4950 256 4950 256 4950 256 4950\n\nf21 0 1024 -7   80 256   60 256   60 256   70 256   50 ; Soprano Bandwidths\nf22 0 1024 -7   90 256  100 256   90 256   80 256   60\nf23 0 1024 -7  120 256  120 256  100 256  100 256  170\nf24 0 1024 -7  130 256  150 256  120 256  130 256  180\nf25 0 1024 -7  140 256  200 256  120 256  135 256  200\n\nf32 0 1024 -7    6 256   20 256   12 256   11 256   16 ; Soprano Levels (dB)\nf33 0 1024 -7   32 256   15 256   26 256   22 256   35\nf34 0 1024 -7   20 256   40 256   26 256   22 256   40\nf35 0 1024 -7   50 256   56 256   44 256   50 256   60\n\n;1=A 2=E 3=I 4=O 5=U\n\n;     Strt  Leng  Levl  Pitch Vowl1 Vowl2 Delay Glide\ni1    0.00 -0.50  1.00  09.00 2.00  1.00  2.00  0.25\ni1    +    -1.50  .     09.05 1.00  0.75  .     .\ni1    +    -0.25  .     09.03 0.75  1.00  .     0.125\ni1    +     0.25  .     09.05 1.00  1.00  .     .\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for PANER WHICH AFFECTS EVERY NOTE using panning and oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from PANER.ORC and PANER.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\n\nga1            init      0\n\ninstr          1                        ;PANER WHICH AFFECTS EVERY NOTE\nk2             linseg    0,p3*.001,p4,p3*.2,p4*.2,p3*.799,0\na1             oscili    k2,p5,1        ;SOUNDING OSC\nk1             oscil     1,1/p3,2\n               outs1     a1*k1\n               outs2     a1*(1-k1)\nendin\n\ninstr          2                        ;GLOBAL PANER\nk1             oscil     1,1/p3,2       ;PAN INSTR SHOULD BE ONE LONG NOTE FOR DUR\n               outs1     ga1*k1\n               outs2     ga1*(1-k1)\nendin\n\n;instr         3                        ;GLOBAL SOURCE\n;k2            linseg    0,p3*.001,p4,p3*.2,p4*.2,p3*.799,0\n;ga1           oscili    k2,p5,1        ;SOUNDING OSC\n;endin\n\ninstr          3\nk1             expseg    p4*1.5,.1,p4,p3*.9,p4,.05,p4*.001\nga1            foscil    k1,1,p5,p5*.57,p6,1,0\nendin\n\n\n</CsInstruments>\n<CsScore>\n\nf 1 0 2049 9 1 1 0 2 .0117 0 3 .3603 0 4 .0147 0 5 .6176 0 6 .0220\n0 7 .1176 0 8 .0514 0 9 .2058 0 10 .0411 0 11 .0735 0 12 .0735 0\n13 .1103 0 14 .0220 0 15 .0235 0 16 .0117 0 17 .0367 0 18 .0073 0\n19 .0029 0 20 .0058 0 21 .0044 0\n\nf 2 0 1025 7 .5 24 1 24 0 150 .5 24 0 24 1 150 .5 24 0 24 1 208 .5\n24 0 24 1 104 .5 104 1 24 0 92 0\n\n\ni1 0   .1 2000 440\ni1 .21 .1 .     >\ni1 .31 .1 .     >\ni1 .41 .1 .     >\ni1 .51 .1 .     >\ni1 .61 .1 3000  >\ni1 .71 .1 2000  >\ni1 .81 .1 .     >\ni1 .91 .1 .      >\ni1 1   .1 .      >\ni1 1.1 .1 3000   >\ni1 1.2 .1 2000   >\ni1 1.3 .1 .      >\ni1 1.4 .1 .      >\ni1 1.5 .1 .      >\ni1 1.6 .1 .      >\ni1 1.7 .1 3000   >\ni1 1.8 .1 2000   >\ni1 1.9 .1 .     800\ni1 2   .1 .      >\ni1 2.1 .1 .      >\ni1 2.21 .1 3000  >\ni1 2.31 .1 2000  >\ni1 2.41 .1 .     >\ni1 2.51 .1 .     >\ni1 2.61 .1 .     >\ni1 2.71 .1 .     >\ni1 2.81 .1 .     >\ni1 2.91 .1 .     >\ni1 3.   .1 . 1200 4\ne\n\ni2  0   17\ni3  0   1 2000 2440 2\ni3  .21 1 .    >  >\ni3  .31 1 .    >  >\ni3  .41 1 .    >  >\ni3  .51 1 .    >  >\ni3  .61 1 .    >  >\ni3  .71 1 .    >  >\ni3  .81 1 .    >  >\ni3  .91 1 .    >  >\ni3  1   1 .    >  >\ni3  1.1 1 .    >  >\ni3  1.2 1 .    >  >\ni3  1.3 1 .    >  >\ni3  1.4 1 .   900  4\ni3  1.5 1 .    >  >\ni3  1.6 1 .    >  >\ni3  1.7 1 .    >  >\ni3  1.8 1 .    >  >\ni3  1.9 1 .    >  >\ni3  2   1 .    >  >\ni3  2.1 1 .    >  >\ni3  2.21 1 .   >  >\ni3  2.31 1 .   >  >\ni3  2.41 1 .   >  >\ni3  2.51 1 .   >  >\ni3  2.61 1 .   >  >\ni3  2.71 1 .   >  >\ni3  2.81 1 .   >  >\ni3  2.91 1 .   >  >\ni3  3. 1 .     >  >\ni3  3.1 1 .    >  >\ni3  3.2 1 .    >  >\ni3  3.31 1 .   >  >\ni3  3.41 1 .   >  >\ni3  3.51 1 .   >  >\ni3  3.61 1 .   >  >\ni3  3.71 1 .   >  >\ni3  3.81 1 .   >  >\ni3  3.91 1 .   1300  >\ni3  4    1 .   >  3\ni3  4.1  1 .   >  >\ni3  4.21 1 .   >  >\ni3  4.31 1 .   >  >\ni3  4.41 1 .   >  >\ni3  4.51 1 .   >  >\ni3  4.61 1 .   >  >\ni3  4.71 1 .   >  >\ni3  4.81 1 .   >  >\ni3  5    1 2000 >  >\ni3  5.21 1 .   >  >\ni3  5.31 1 .    >  >\ni3  5.41 1 .    >  >\ni3  5.51 1 .    >  >\ni3  5.61 1 .    >  >\ni3  5.71 1 .    >  >\ni3  5.81 1 .    >  >\ni3  5.91 1 .    >  >\ni3  6.1  1 .    >  >\ni3  6.1  1 .    >  >\ni3  6.2  1 .    >  >\ni3  6.3  1 .    >  >\ni3  6.4  1 .    450  2\ni3  6.5 1 .     >  >\ni3  6.6 1 .     >  >\ni3  6.7 1 .     >  >\ni3  6.8 1 .     >  >\ni3  6.9 1 .     >  >\ni3  7   1 .     >  >\ni3  7.1 1 .     >  >\ni3  7.21 1 .    >  >\ni3  7.31 1 .    >  >\ni3  7.41 1 .    >  >\ni3  7.51 1 .    >  >\ni3  7.61 1 .    >  >\ni3  7.71 1 .    >  >\ni3  7.81 1 .    >  >\ni3  7.91 1 .    >  >\ni3  8. 1 .      >  4\ni3  8.1 1 .     >  >\ni3  8.2 1 .     >  >\ni3  8.31 1 .    >  >\ni3  8.41 1 .    >  >\ni3  8.51 1 .    >  >\ni3  8.61 1 .    >  >\ni3  8.71 1 .    1200  3.5\ni3  8.81 1 .    >  >\ni3  8.91 1 .    >  >\ni3  9   1 .     >  >\ni3  9.1 1 .     >  >\ni3  9.21 1 .    >  >\ni3  9.31 1 .    >  >\ni3  9.41 1 .    >  >\ni3  9.51 1 .    >  >\ni3  9.61 1 .    >  >\ni3  9.71 1 .    >  >\ni3  9.81 1 .    >  >\ni3  10 1 2000   >  >\ni3  10.21 1 .   >  >\ni3  10.31 1 .   >  >\ni3  10.41 1 .   >  >\ni3  10.51 1 .   >  >\ni3  10.61 1 .   >  >\ni3  10.71 1 .   >  >\ni3  10.81 1 .   >  >\ni3  10.91 1 .   >  >\ni3  11   1 .    >  >\ni3  11.1 1 .    >  >\ni3  11.2 1 .    300  5\ni3  11.3 1 .    >  >\ni3  11.4 1 .    >  >\ni3  11.5 1 .    >  >\ni3  11.6 1 .    >  >\ni3  11.7 1 .    >  >\ni3  11.8 1 .    >  >\ni3  11.9 1 .    >  >\ni3  12   1 .    >  3\ni3  12.1 1 .    >  >\ni3  12.21 1 .   >  >\ni3  12.31 1 .   >  >\ni3  12.41 1 .   >  >\ni3  12.51 1 .   >  >\ni3  12.61 1 .   >  >\ni3  12.71 1 .   >  >\ni3  12.81 1 .   >  >\ni3  12.91 1 .   >  >\ni3  13. 1 .     >  >\ni3  13.1 1 .    >  >\ni3  13.2 1 .    >  >\ni3  13.31 1 .   >  >\ni3  13.41 1 .   >  >\ni3  13.51 1 .   >  >\ni3  13.61 1 .   >  >\ni3  13.71 1 .   >  >\ni3  13.81 1 .   >  >\ni3  13.91 1 .   >  >\ni3  14    1 .   >  >\ni3  14.1  1 .   >  >\ni3  14.21 1 .   >  >\ni3  14.31 1 .   >  >\ni3  14.41 1 .   >  >\ni3  14.51 1 .   >  >\ni3  14.61 1 .   >  >\ni3  14.71 1 .   >  >\ni3  14.81 1 .   >  >\ni3  15    1 2500 >  >\ni3  15.21 1 .   >  >\ni3  15.31 1 .   >  >\ni3  15.41 1 .   >  >\ni3  15.51 1 .   >  >\ni3  15.61 1 .   >  >\ni3  15.71 1 .   >  >\ni3  15.81 1 .   >  >\ni3  15.91 1 .   4000  1.14\ns\ni2  0   16\ni3  0   1 2000 4000 2\ni3  .21 1 .    >  >\ni3  .31 1 .    >  >\ni3  .41 1 .    >  >\ni3  .51 1 .    >  >\ni3  .61 1 .    >  >\ni3  .71 1 .    >  >\ni3  .81 1 .    >  >\ni3  .91 1 .    >  >\ni3  1   1 .    >  >\ni3  1.1 1 .    >  >\ni3  1.2 1 .    >  >\ni3  1.3 1 .    >  >\ni3  1.4 1 .   200  5\ni3  1.5 1 .    >  >\ni3  1.6 1 .    >  >\ni3  1.7 1 .    >  >\ni3  1.8 1 .    >  >\ni3  1.9 1 .    >  >\ni3  2   1 .    >  >\ni3  2.1 1 .    >  >\ni3  2.21 1 .   >  >\ni3  2.31 1 .   >  >\ni3  2.41 1 .   >  >\ni3  2.51 1 .   >  >\ni3  2.61 1 .   >  >\ni3  2.71 1 .   >  >\ni3  2.81 1 .   >  >\ni3  2.91 1 .   >  >\ni3  3. 1 .     >  >\ni3  3.1 1 .    >  >\ni3  3.2 1 .    >  >\ni3  3.31 1 .   >  >\ni3  3.41 1 .   >  >\ni3  3.51 1 .   >  >\ni3  3.61 1 .   >  >\ni3  3.71 1 .   >  >\ni3  3.81 1 .   >  >\ni3  3.91 1 .   2300 1.25\ni3  4    1 .   >  >\ni3  4.1  1 .   >  >\ni3  4.21 1 .   >  >\ni3  4.31 1 .   >  >\ni3  4.41 1 .   >  >\ni3  4.51 1 .   >  >\ni3  4.61 1 .   >  >\ni3  4.71 1 .   >  >\ni3  4.81 1 .   >  >\ni3  5    1 2000 >  >\ni3  5.21 1 .   >  >\ni3  5.31 1 .    >  >\ni3  5.41 1 .    >  >\ni3  5.51 1 .    >  >\ni3  5.61 1 .    >  >\ni3  5.71 1 .    >  >\ni3  5.81 1 .    >  >\ni3  5.91 1 .    >  >\ni3  6.1  1 .    >  >\ni3  6.1  1 .    >  >\ni3  6.2  1 .    >  >\ni3  6.3  1 .    >  >\ni3  6.4  1 .    50  3\ni3  6.5 1 .     >  >\ni3  6.6 1 .     >  >\ni3  6.7 1 .     >  >\ni3  6.8 1 .     >  >\ni3  6.9 1 .     >  >\ni3  7   1 .     >  >\ni3  7.1 1 .     >  >\ni3  7.21 1 .    >  >\ni3  7.31 1 .    >  >\ni3  7.41 1 .    >  >\ni3  7.51 1 .    >  >\ni3  7.61 1 .    >  >\ni3  7.71 1 .    >  >\ni3  7.81 1 .    >  >\ni3  7.91 1 .    >  >\ni3  8. 1 .      >  >\ni3  8.1 1 .     >  >\ni3  8.2 1 .     >  >\ni3  8.31 1 .    >  >\ni3  8.41 1 .    >  >\ni3  8.51 1 .    >  >\ni3  8.61 1 .    >  >\ni3  8.71 1 .    1400  6\ni3  8.81 1 .    >  >\ni3  8.91 1 .    >  >\ni3  9   1 .     >  >\ni3  9.1 1 .     >  >\ni3  9.21 1 .    >  >\ni3  9.31 1 .    >  >\ni3  9.41 1 .    >  >\ni3  9.51 1 .    >  >\ni3  9.61 1 .    >  >\ni3  9.71 1 .    >  >\ni3  9.81 1 .    >  >\ni3  10 1 2000   >  >\ni3  10.21 1 .   >  >\ni3  10.31 1 .   >  >\ni3  10.41 1 .   >  >\ni3  10.51 1 .   >  >\ni3  10.61 1 .   >  >\ni3  10.71 1 .   >  >\ni3  10.81 1 .   >  >\ni3  10.91 1 .   >  >\ni3  11   1 .    >  >\ni3  11.1 1 .    >  >\ni3  11.2 1 .    750  3\ni3  11.3 1 .    >  >\ni3  11.4 1 .    >  >\ni3  11.5 1 .    >  >\ni3  11.6 1 .    >  >\ni3  11.7 1 .    >  >\ni3  11.8 1 .    >  >\ni3  11.9 1 .    >  >\ni3  12   1 .    >  >\ni3  12.1 1 .    >  >\ni3  12.21 1 .   >  >\ni3  12.31 1 .   >  >\ni3  12.41 1 .   >  >\ni3  12.51 1 .   >  >\ni3  12.61 1 .   >  >\ni3  12.71 1 .   >  >\ni3  12.81 1 .   >  >\ni3  12.91 1 .   >  >\ni3  13. 1 .     >  >\ni3  13.1 1 .    >  >\ni3  13.2 1 .    >  >\ni3  13.31 1 .   >  >\ni3  13.41 1 .   >  >\ni3  13.51 1 .   >  >\ni3  13.61 1 .   >  >\ni3  13.71 1 .   >  >\ni3  13.81 1 .   >  >\ni3  13.91 1 .   >  >\ni3  14    1 .   >  >\ni3  14.1  1 .   >  >\ni3  14.21 1 .   >  >\ni3  14.31 1 .   >  >\ni3  14.41 1 .   >  >\ni3  14.51 1 .   >  >\ni3  14.61 1 .   >  >\ni3  14.71 1 .   >  >\ni3  14.81 1 .   >  >\ni3  15    1 2500 >  >\ni3  15.21 1 .   >  >\ni3  15.31 1 .   >  >\ni3  15.41 1 .   >  >\ni3  15.51 1 .   >  >\ni3  15.61 1 .   >  >\ni3  15.71 1 .   >  >\ni3  15.81 1 .   >  >\ni3  15.91 1 .   40   2\ns\n\n\n\n\ne\n                .  .\n                .  .\n                .  .\n                .  .\n                .  .\n                .  .\n                .  .\n                .  .\n                .  .\n                .  .\n                .  .\n                .  .\n                .  .\n                .  .\n                .  .\n                .  .\n                .  .\n                .  .\n                .  .\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using oscillator and Karplus-Strong plucked string and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from physmtx5.orc and physmtx5.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1    \n\n;-------------------------------------------------------------\n; BIG DOOR\n; CODED:        1/22/97 HANS MIKELSON\n;-------------------------------------------------------------\n          zakinit   30, 30\n\n;---------------------------------------------------------------------------\n; BIG DOOR\n;---------------------------------------------------------------------------\n          instr  1\n\nidur      =         p3\niamp      =         p4          ; AMPLITUDE\nifqc      =         cpspch(p5)  ; CONVERT TO FREQUENCY\nitab1     =         p6          ; INITIAL TABLE\nimeth     =         p7          ; METHOD\niruff     =         p8\n\nkamp      linseg    0, .001, iamp, idur-.002, iamp, .001, 0      ; DECLICK\n\naplk      pluck     kamp, ifqc, ifqc, itab1, imeth, iruff        ; PLUCK WAVEGUIDE MODEL\n          out       aplk                                         ; WRITE TO OUTPUT\n          endin\n\n          instr   8  ; DRUM STICK 1\n\nidur      init      p3\niamp      init      p4\nifqc      =         cpspch(p5)\nitab      init      p6\nifco      init      p7\nimeth     init      p8\nioutch    init      p9\n\nif (imeth!=1) goto next1\nashape    oscil     iamp, ifqc, itab\n          goto finish\n          next1:\nashape    rand      iamp\nfinish:\n\nastick    tone      ashape, ifco\n          zawm      astick, ioutch\n\n          endin\n\n          instr 9  ; A SQUARE DRUM\n\niamp      init      p4\nifqc      init      cpspch(p5)\nilength   init      p6\niwidth    init      p7\nifdbkdrum init      p8/3\nifcodrum  init      p9\nitube     init      p10\nifdbktube init      p11\nifcotube  init      p12\ninch      init      p13\nidiagnl   =         sqrt(iwidth * iwidth + ilength * ilength)\n\nanodea    init      0\nanodeb    init      0\nanodec    init      0\nanoded    init      0\nafiltr    init      0\n\nastick    zar       inch\n\n; AMPLITUDE ENVELOPE\nkampenv   linseg    0, .001, p4, p3 - .002, p4, .001, 0\n\n; DELAY LINES\nalineab   delay     anodea + astick + afiltr, ilength / ifqc\nalineba   delay     anodeb + astick + afiltr, ilength / ifqc\nalinebc   delay     anodeb + astick + afiltr, iwidth / ifqc\nalinecb   delay     anodec + astick + afiltr, iwidth / ifqc\nalinecd   delay     anodec + astick + afiltr, ilength / ifqc\nalinedc   delay     anoded + astick + afiltr, ilength / ifqc\nalinead   delay     anodea + astick + afiltr, iwidth / ifqc\nalineda   delay     anoded + astick + afiltr, iwidth / ifqc\nalineac   delay     anodea + astick + afiltr, idiagnl / ifqc\nalineca   delay     anodec + astick + afiltr, idiagnl / ifqc\nalinebd   delay     anodeb + astick + afiltr, idiagnl / ifqc\nalinedb   delay     anoded + astick + afiltr, idiagnl / ifqc\n\n; FILTER THE DELAYED SIGNAL AND FEEDBACK INTO THE DELAY.\n; IMPLEMENTS DC BLOCKING.\nasuma     =         -(alineba + alineca + alineda) * ifdbkdrum\nafilta    butterlp  asuma, ifcodrum\nanodea    butterhp  afilta, 10\n\n; NODE B\nasumb     =         -(alineba + alineca + alineda) * ifdbkdrum\nafiltb    butterhp  asumb, ifcodrum\nanodeb    butterhp  afiltb, 10\n\n; NODE C\nasumc     =         -(alineba + alineca + alineda) * ifdbkdrum\nafiltc    butterhp  asumc, ifcodrum\nanodec    butterhp  afiltc, 10\n\n; NODE D\nasumd     =         -(alineba + alineca + alineda) * ifdbkdrum\nafiltd    butterhp  asumd, ifcodrum\nanoded    butterhp  afiltd, 10\n\n; BODY RESONANCE\natube     delay     anodea, itube / ifqc\nafiltr    butterlp  atube, ifcotube\nafiltr    =         afiltr * ifdbktube\n\n; SCALE AND OUTPUT\n          out       anodea*kampenv\n          zacl      0,30\n\n          endin\n\n</CsInstruments>\n<CsScore>\n; BIG DOOR\n\nf1 0 8192 10 1\n\n;   STA  DUR  AMP    PITCH  FUNC  METHOD  ROUGH\n;i1  0    1    10000  7.00   1     3       .5\n\nf2 0 1024 7 0 256 1 512 -1 256 0\n\nf3 0 1024 7 0 512 1 512 0\n;   STA  DUR  AMP  TABLE  FCO   METHOD  OUTCH\n;i8  .01  .002 10   2      100   0       1\n;i8  .01  .02  10   2      2000  1       1\n;   STA  DUR  AMP   PITCH  LENGTH  WIDTH  FDBKDRUM  FCODRUM  TUBEL  FDBKTUBE  FCOTUBE  INCH\n;i9  0    1    8000  4.00   1       .47    .8        100      1.7    .5        500      1\n;   STA  DUR  AMP  PITCH  TABLE  FCO   METHOD  OUTCH\ni8  .01  .02  10   5.00   2      2000  0       1\ni8  .01  .01  5    5.00   3      2000  1       1\n;   STA  DUR  AMP   PITCH  LENGTH  WIDTH  FDBKDRUM  FCODRUM  TUBEL  FDBKTUBE  FCOTUBE  INCH\ni9  0    1    8000  5.00   1       .4     1.1       1000      1.7    0         1500     1\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp   \t=      \tp4          ; AMPLITUDE using chorus effect and oscillator and Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from CHORUS.ORC and CHORUS.SCO\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t22050\nksmps\t=\t\t2\nnchnls\t=\t\t2\n\n;---------------------------------------------------------------------------\n; CHORUS EFFECTS\n;---------------------------------------------------------------------------\n\n\n\t\tzakinit \t30, 30\n\n;---------------------------------------------------------------------------\n; PLUCK PHYSICAL MODEL\n;---------------------------------------------------------------------------\n       \tinstr  2\n\niamp   \t=      \tp4          ; AMPLITUDE\nifqc   \t=      \tcpspch(p5)  ; CONVERT TO FREQUENCY\nitab1  \t=      \tp6          ; INITIAL TABLE\nimeth  \t=      \tp7          ; DECAY METHOD\nioutch \t=      \tp8          ; OUTPUT CHANNEL\n\naplk   \tpluck  \tiamp, ifqc, ifqc, itab1, imeth       ; PLUCK WAVEGUIDE MODEL\n       \tzawm   \taplk, ioutch                         ; WRITE TO OUTPUT\n       \tendin\n\n;---------------------------------------------------------------------------\n; LFO\n;---------------------------------------------------------------------------\n          instr   7\niamp      init    \tp4\nifqc      init    \tp5\nitab1     init    \tp6\niphase    init    \tp7\nioffset   init    \tp8\niout      init    \tp9\n\nkoscil    oscil   \tiamp, ifqc, itab1, iphase  \t\t  ;TABLE OSCILLATOR\nkout      =       \tkoscil+ioffset\n\n          zkw     \tkout, iout           \t\t\t  ;SEND TO OUTPUT CHANNEL\n\n          endin\n\n;---------------------------------------------------------------------------\n;LORENZ ATTRACTOR\n;---------------------------------------------------------------------------\n        \tinstr  8\n\niamp    \tinit   \tp4/40\nkx      \tinit   \tp5\nky      \tinit   \tp6\nkz      \tinit   \tp7\nis      \tinit   \tp8\nir      \tinit   \tp9\nib      \tinit   \tp10\nih      \tinit   \tp11/10000\nioutch  \tinit   \tp12\nioffset \tinit   \tp13\n\nkxnew   \t=      \tkx+ih*is*(ky-kx)\nkynew   \t=      \tky+ih*(-kx*kz+ir*kx-ky)\nkznew   \t=      \tkz+ih*(kx*ky-ib*kz)\n\t\nkx      \t=      \tkxnew\nky      \t=      \tkynew\nkz      \t=      \tkznew\n\n\t\tprintk   .5, kx\n\t\tprintk   .5, ky\n\t\tprintk   .5, kz\n\n        \tzkw    \tkx*iamp+ioffset, ioutch\n        \tendin\n\n;---------------------------------------------------------------------------\n; CHORUS\n;---------------------------------------------------------------------------\n         instr   35\n\t\t\t\t\t\t\t\t\t\nimixch   \t=       \tp4             \t\t; MIX OF CHORUSED SIGNAL\nimix     \t=       \t1-imixch       \t\t; MIX OF DIRECT SIGNAL\nizin     \t=       \tp5            \t\t\t; INPUT CHANNEL\nizout    \t=       \tp6            \t\t\t; OUTPUT CHANNEL\nikin     \t=       \tp7            \t\t\t; INPUT K CHANNEL\n\nasig     \tzar     \tizin           \t\t; READ INPUT CHANNEL\nkinsig   \tzkr     \tikin           \t\t; READ K INPUT\n\nadel1    \tvdelay  \tasig, kinsig, 100      \t; VARIABLE DELAY TAP\naout     \t=       \tadel1*imixch+asig*imix \t; MIX DIRECT AND CHORUSED SIGNALS\n\n;aout     =       \tkinsig*500\n         \tzaw     \taout, izout            \t; WRITE TO OUTPUT CHANNEL\n\n         \tendin\n\n;---------------------------------------------------------------------------\n; MIXER SECTION\n;---------------------------------------------------------------------------\n          instr 100\n\nasig1     zar   \tp4             \t\t; READ INPUT CHANNEL 1\nigl1      init  \tp5*sqrt(p6)    \t\t; LEFT GAIN\nigr1      init  \tp5*sqrt(1-p6)  \t\t; RIGHT GAIN\n\nkdclick   linseg  \t0, .001, 1, p3-.002, 1, .001, 0  ; DECLICK\n\nasigl     =     \tasig1*igl1       \t\t; SCALE AND SUM\nasigr     =     \tasig1*igr1\n\n          outs  \tkdclick*asigl, kdclick*asigr   ; OUTPUT STEREO PAIR\n\n          endin\n\n;---------------------------------------------------------------------------\n; CLEAR AUDIO & CONTROL CHANNELS\n;---------------------------------------------------------------------------\n          instr \t110\n\n          zacl  \t0, 30          \t\t; CLEAR AUDIO CHANNELS 0 TO 30\n          zkcl  \t0, 30          \t\t; CLEAR CONTROL CHANNELS 0 TO 30\n\n          endin\n\n\n</CsInstruments>\n<CsScore>\n;---------------------------------------------------------------------------\n; WAVEFORMS\n;---------------------------------------------------------------------------\n; SINE WAVE\nf1 0 8192 10 1\n; TRIANGLE WAVE\nf2 0 8192 7  -1  4096 1 4096 -1\n; TRIANGLE WAVE\nf4 0 8192 7 0 4096 1 4096 0\n\n; PLUCK\n;   Sta  Dur  Amp    Fqc   Func  Meth  OutCh\ni2  0.0  1.6  16000  7.00   0     1    1\ni2  0.2  1.4  12000  7.05   .     .    .\ni2  0.4  1.2  10400  8.00   .     .    .\ni2  0.6  1.0  12000  8.05   .     .    .\ni2  0.8  0.8  16000  7.00   .     .    .\ni2  1.0  0.6  12000  7.05   .     .    .\ni2  1.2  0.4  10400  8.00   .     .    .\ni2  1.4  0.2  12000  8.05   .     .    .\n;\ni2  1.6  1.6  16000  7.00   0     1    1\ni2  1.8  1.4  12000  7.07   .     .    .\ni2  2.0  1.2  10400  8.03   .     .    .\ni2  2.2  1.0  12000  8.00   .     .    .\ni2  2.4  0.8  16000  7.05   .     .    .\ni2  2.6  0.6  12000  7.05   .     .    .\ni2  2.8  0.4  10400  8.07   .     .    .\ni2  3.0  0.2  12000  8.00   .     .    .\n;\ni2  3.2  1.6  16000  7.00   0     1    1\ni2  3.4  1.4  12000  7.05   .     .    .\ni2  3.6  1.2  10400  8.00   .     .    .\ni2  3.8  1.0  12000  8.05   .     .    .\ni2  4.0  0.8  16000  7.00   .     .    .\ni2  4.2  0.6  12000  7.05   .     .    .\ni2  4.4  0.4  10400  8.00   .     .    .\ni2  4.6  0.2  12000  8.05   .     .    .\n;\ni2  4.8  1.6  16000  7.07   0     1    1\ni2  5.0  1.4  12000  7.03   .     .    .\ni2  5.2  1.2  10400  8.05   .     .    .\ni2  5.4  1.0  12000  7.00   .     .    .\ni2  5.6  0.8  16000  7.05   .     .    .\ni2  5.8  0.6  12000  7.03   .     .    .\ni2  6.0  0.4  10400  7.10   .     .    .\ni2  6.2  0.2  12000  8.00   .     .    .\n\n; LFO\n;   Sta  Dur  Amp  Fqc  Table  Phase  Offset  OutKCh\n;i7  0    1.6  3    .6   1      0      25      1\n;i7  0    1.6  3    .6   1      .25    26      2\n\n; LORENZ OSCILLATOR\n;   Sta  Dur  Amp   X    Y    Z     S    R   B      h(rate)  OutKCh Offset\ni8  0    6.4  2.5   7.8  1.1  33.4  10   28  2.667  .5       1      25\ni8  0    6.4  2.5  14.1 20.7  26.6  10   28  2.667  .5       2      26\ni8  0    6.4  2.5  14.0 20.2  26.4  10   28  2.667  .5       3      26\ni8  0    6.4  2.5  -6.3 -12.4  8.2  10   28  2.667  .5       4      26\n\n; CHORUS\n;   Sta  Dur  Mix  InCh  OutCh  InKCh\ni35 0    6.4  .5   1     2      1\ni35 0    6.4  .5   1     3      2\ni35 0    6.4  1    2     4      3\ni35 0    6.4  1    3     5      4\n\n; MIXER\n;    Sta Dur  Ch  Gain  Pan\ni100 0   6.4  2   1     1\ni100 0   6.4  3   1     0\ni100 0   6.4  4   1     1\ni100 0   6.4  4   1     0\n\ni110 0   6.4\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Random 64Hz to 1024Hz step generator:-) using oscillator and interpolating oscillator and reverb effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from csoundpiece.orc and csoundpiece.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n\ngarvbsig init 0\ngaol init 0\ngaor init 0\n\ninstr    1 ; Random 64Hz to 1024Hz step generator:-)\nidur     =\t\tp3\nilevl    = \t\tp4 \t\t\t\t\t\t\t\t\t\t; Output level\nirate    = \t\tp5       \t\t\t\t\t\t\t\t; Rate\niseed    = \t\tp6      \t\t\t\t\t\t\t\t\t; Seed\nitabl    = \t\tp7       \t\t\t\t\t\t\t\t; Table for volume envelope\nilowest  = \t\tp8      \t\t\t\t\t\t\t\t\t; lowest frequency\ninumber  = \t\tp9       \t\t\t\t\t\t\t\t; max number of steps\nistep    = \t\tp10      \t\t\t\t\t\t\t\t; steps in freq\n\nk0       linseg  0, .1, 1, p3-.2, 1, .1, 0 \t\t\t; Overall env\nk1       randh  inumber/2, irate, iseed            \t; 'Sample and hold'\nk2       = \t\tint(k1 + inumber/2+1)                    ; Convert to whole numbers\na3       oscil  1, irate, itabl            \t\t\t; Read table for volume envelope\na4       oscil  a3, ilowest+istep*k2, 1             ; Generate random notes 128Hz apart\nkpan     line \t0,idur*.7,1\naol\t\t=\t\ta4*k0*ilevl*kpan\naor\t\t=\t\ta4*k0*ilevl*(1-kpan)\n\t\touts    aol*k0, aor*k0          \t\t\t\t\t; Output and envelope\nasoundz\t=\t\taol*k0+aor*k0\t\t\ngarvbsig=\t\tgarvbsig+asoundz\n\t\tendin\n\ninstr    2 ; Random 64Hz to 1024Hz step generator:-)\nidur     =p3\nilevl    = p4 \t\t\t\t\t\t\t\t\t\t; Output level\nirate    = p5       \t\t\t\t\t\t\t\t; Rate\niseed    = p6       \t\t\t\t\t\t\t\t; Seed\nitabl    = p7      \t\t\t\t\t\t\t\t\t; Table for volume envelope\nilowest  = p8      \t\t\t\t\t\t\t\t\t; lowest frequency\ninumber  = p9       \t\t\t\t\t\t\t\t; max number of steps\nistep    = p10     \t\t\t\t\t\t\t\t\t; steps in freq\n\nk0       linseg  0, .2, 1, p3-.2, 1, .2, 0 \t\t    ; Overall env\nk1       randh  inumber/2, irate, iseed           \t; 'Sample and hold'\nk2       = int(k1 + inumber/2+1)                    ; Convert to whole numbers\na3       oscil  1, irate, itabl            \t\t\t; Read table for volume envelope\na4       oscil  a3, ilowest+istep*k2/2, 1           ; Generate random notes 64Hz apart\nkpan     line 0,idur*.8,1\naol=a4*k0*ilevl*kpan\naor=a4*k0*ilevl*(1-kpan)\nouts     aol*k0, aor*k0          \t\t\t\t\t; Output and envelope\nastuff=aol*k0+aor*k0\ngarvbsig=garvbsig+astuff\nendin\n\ninstr 3;Begin: Untitled1\nkpan  = p8\n     aamp expseg .5,p3-.01,1,.01,.1\n     kenv1   linseg 500, p5, 495, p3, 475, p6, 500\n     asig1   oscili kenv1, p7, p4\n     krtl =sqrt(2)/2*cos(kpan)+sin(kpan)\n     krtr =sqrt(2)/2*cos(kpan)-sin(kpan)\n     aol=(asig1*aamp)*krtl\n     aor=(asig1*aamp)*krtr\n     gaol=gaol+aol\n     gaor=gaor+aor\n     outs aol*aamp,aor*aamp\nendin    ;\ninstr    4; Random 64Hz to 1024Hz step generator:-)\nidur     =p3\nilevl    = p4 ; Output level\nirate    = p5       ; Rate\niseed    = p6       ; Seed\nitabl    = p7       ; Table for volume envelope\nilowest  = p8       ; lowest frequency\ninumber  = p9       ; max number of steps\nistep    = p10      ; steps in freq\n\nk0       linseg  0, .1, 1, p3-.2, 1, .1, 0 \t\t\t; Overall env\nk1       randh  inumber/2, irate, iseed            \t; 'Sample and hold'\nk2       = int(k1 + inumber/2+1)                    ; Convert to whole numbers\na3       oscil  1, irate, itabl            \t\t\t; Read table for volume envelope\na4       oscil  a3, ilowest+istep*k2, 1             ; Generate random notes 128Hz apart\nkpan     line 0,idur*.7,1\naol=a4*k0*ilevl*kpan\naor=a4*k0*ilevl*(1-kpan)\nouts     aol*k0, aor*k0         \t\t\t\t\t; Output and envelope\nasoundz=aol*k0+aor*k0\ngarvbsig=garvbsig+asoundz\nendin\n\ninstr  50\nidur=p3\nigainl=p4\nitiml=p5\n\nigainr=p6\nitimr=p7\n\n\nafltl init 0\nafltr init 0\naamp linseg 0,.005,1,idur-.01,1,.005,0\nadell delay (gaol+afltl)*igainl,itiml*2\nadelr delay (gaor+afltr)*igainr,itimr*2\ngaol=0\ngaor=0\nouts adell*aamp,adelr*aamp\nendin\n\n\ninstr 98\n\na1 reverb2 garvbsig, p4, p5\n outs     a1,a1\n\ngarvbsig=0\n\nendin\n\n</CsInstruments>\n<CsScore>\n;SCO\n;TABLES FOR VOLUME ENVELOPES (NOT PITCHES)\nf1 0 4096 10 1          ; SINE\nf2 0 1024 5 1 1024 .001 ; EXPONENTIAL DECAY\nf3 0 1024 7 1 1024 0    ; LINEAR DECAY\nf4 0 1024 20 2          ; HANNING\nf5 0 1024 20 6          ; GAUSSIAN\nf6 0 1024 21 10 1 2     ; WEIBULL\n\n;=====================================================================\n;     Start Leng  Level Rate  Seed  Table  ilowest inumber  istep\n;=====================================================================\ni1    0     8     400   8    .00007   4      64     20      256\ni1    1     .     410   .    ~     .         .       .       .\ni1    2     .     420   .    ~     .         .       .       .\ni1    3     .     430   .    ~     .         .       .       .\ni1    4     .     440   .    ~     .         .       .       .\ni1    5     .     400   .    .99   .         64              .\ni1    0     30    400   2    .001   5       128     15       64\ni1    1     12    .     .    ~     .         .       .       .\ni1    2     15    .     .    ~     .         .       .       .\ni1    3     31    .     .    ~     .         .       .       .\ni1    4     31    .     .    ~     .         .       .       .\ni1    5     29    .     .   .85    .         .       .       .\n\n;=====================================================================\n;     Start Leng  Level Rate  Seed  Table   ilowest inumber  istep\n;=====================================================================\ni2    .2     8     300   7    .0009     4      128      20        64\ni2    1.2   20      .     .     ~     .          .       2        .\ni2    2.2   .       .     .     ~     .          .       2        .\ni2    3.2   .       .     .     ~     .          .       4        .\ni2    4.2   15      .     .     ~     .          .       4        .\ni2    5     .       .     .   .79     .          .       7        .\ni2    .2     8      .     .    .7     .         64       2        .\ni2    1.2   31      .     .     ~     .          .      20        .\ni2    2.2   .       .     .     ~     .          .      20        .\ni2    3.2   .       .     .     ~     .          .       4        .\ni2    4.2   25      .     .     ~     .          .       2        .\ni2    5     30      .     .   .95     .       1024      24        .\n\n;=====================================================================\n; p1=Instr  p2:Start  p3:Duration  p4:User  p5:User  p6:User  p7:User\n;=====================================================================\np8\ni3              5          8         1       0.9      0.9       64           0\ni3              7         14         .    0.5      0.9         128           1\ni3             13          4         .    0.9      0.9         192           1\ni3             17          1         .    0.7      0.9         224           0\ni3             17.3        1         .    0.7      0.9         256           0\ni3             17.5        1         .    0.9      0.9         272           1\ni3             17.6        1         .    0.9      0.9         336           1\ni3             17.8        1         .    0.8      0.9         128           0\ni3              8.4        9         .    0.7      0.9         384           1\ni3              9.4        6         .    0.6      0.9         341.3         0\ni3             10.5        6         .    0.5      0.8         512           0\ni3             11.55       7         .    0.8      0.9         544           0\ni3             12.6        7         .    0.9      0.9         272           1\ni3             13.65       8         .    0.9      0.9         192           0\ni3             14.7        8         .    0.9      0.9         128           0\ni3             15.75       8         .    0.6      0.8         341.3         1\ni3             16.8        9         .    0.7      0.8         384           0\ni3             17.85       9         .    0.8      0.4         496           1\ni3             18.9        9         .    0.6      0.9         544           0\ni3             19.95      10         .    0.9      0.5         682.6         1\ni3             21         10         .    0.9      0.1         672           0\n\ni4    10     8    400   8   .00007  4        64      20      512\ni4    +     .     410   .    ~      .         .       .       .\ni4    .     .     420   .    ~      .         .       .       .\ni4    .     .     430   .    ~      .         .       .       .\ni4    .     .     440   .    ~      .         .       .       .\ni4    .     .     400   .   .99     .        64               .\ni4    .     30    400   2   .001    5       256      15      64\ni4    .     12    .     .    ~      .         .       .       .\ni4    .     15    .     .    ~      .         .       .       .\ni4    .     31    .     .    ~      .         .       .       .\ni4    .     31    .     .    ~      .         .       .       .\ni4    .     29    .     .   .85     .         .       .       .\n\n;     Start Leng  Level Rate  Seed  Table   ilowest inumber  istep\ni4    20    8     300   7    .0009   4      128      20        64\ni4    +    20     .     .     ~      .        .       2        .\ni4    .     .     .     .     ~      .        .       2        .\ni4    .     .     .     .     ~      .        .       4        .\ni4    .    15     .     .     ~      .        .       4        .\ni4    .     .     .     .    .79     .        .       7        .\ni4    .     8     .     .    .7      .       64       2        .\ni4    .    31     .     .     ~      .        .      20        .\ni4    .     .     .     .     ~      .        .      20        .\ni4    .     .     .     .     ~      .        .       4        .\ni4    .    25     .     .     ~      .        .       2        .\ni4    .    30     .     .    .95     .      448      24        .\n\ni50  0  286 9  .90  8 .90\n\n;THIS IS FOR REVERB SETTINGS\n;=================================\n;p1     p2   p3      p4      p5\n;=================================\n;instr strt  dur  rvbtime   hfdif\n;=================================\ni98     0    286     10      .7\n\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      init      p3 using oscillator and linear segments and exponential segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from RZBOUNCE.ORC and RZBOUNCE.SCO\n; Original files preserved in same directory\n\nsr        =         44100                    ; THESE INSTRUMENTS REQUIRE sr=kr\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n;-------------------------------------------------------------------------\n; SAW-RAMP TRANSFORM REZZY SYNTH\n;-------------------------------------------------------------------------\n          instr 1   \n                                             \nidur      init      p3\niamp      init      p4\nifqc      init      cpspch(p5)               ; CONVERT TO CYCLES/SECOND\nirez      init      p7 \naynm1     init      0                        ; INITIALIZE Yn-1\naynm2     init      0                        ; & Yn-2 TO ZERO.\nkx        init      -p4\nkdx       init      p4*4*ifqc/sr\nkmax      init      p4\n\nklfo      oscil     .9,1,1                   ; LOW FREQUENCY OSCILLATOR\nklfo      =         klfo+1                   ; FOR TRIANGLE RAMP TRANSFORM.\nkdx1      =         4*p4*ifqc/sr/klfo\nkdx2      =         2*p4*ifqc/(sr-sr/2*klfo)\n\n;-------------------------------------------------------------------------\nkaenv     linseg    0,.01,1,p3-.02,1,.01,0   ; AMPLITUDE ENVELOPE\nkfco      expseg    10,.2*p3,p6,.4*p3,.5*p6,.4*p3,.1*p6 ; FREQUENCY SWEEP\n\n;-------------------------------------------------------------------------\nka1       =         100/irez/sqrt(kfco)-1    ; ADJUST Q AND Fco FOR\nka2       =         1000/kfco                ; COEFFICIENTS A1 & A2.\n\n;-------------------------------------------------------------------------\n\n; BOUNCING BALL ALGORITHM-A BALL BOUNCING BETWEEN TWO PARALLEL WALLS IE:PONG\n;-------------------------------------------------------------------------\nknewx     =         kx+kdx                   ; FIND NEXT POSITION \n                                             \n          if        (knewx<=kmax)  goto next1     ; IF NEXT IS BEYOND THE TOP WALL\nknewx     =         kmax-kdx2*(kdx1-kmax+kx)/kdx1; THEN FIND THE BOUNCE POSITION\nkdx       =         -kdx2                    ; AND DOWNWARD SLOPE.\n                                             \nnext1:\n          if        (knewx>=-kmax)      goto next2     ; IF NEXT IS BEYOND THE BOTTOM WALL\nknewx     =         -kmax+kdx1*(kdx2-kmax-kx)/kdx2     ; THEN FIND THE BOUNCE POSITION\nkdx       =         kdx1                      ; AND UPWARD SLOPE.\n\nnext2:\nkx        =         knewx\n\naxn       =         kx\n\n;-------------------------------------------------------------------------\nayn       =         ((ka1+2*ka2)*aynm1-ka2*aynm2+axn)/(1+ka1+ka2) ; DIFFERENCE EQ. APP.\naynm2     =         aynm1                    ; OF DIFFERENTIAL EQ.\naynm1     =         ayn                      ; SAVE Yn-1 & Yn-2.\n\n;-------------------------------------------------------------------------\naout      =         ayn*kaenv                ; SCALE AND OUTPUT\n          outs      aout,axn\n\n          endin\n\n\n;-------------------------------------------------------------------------\n; OSCILLATOR SYNC REZZY SYNTH\n;-------------------------------------------------------------------------\n       instr 2   \n          \nidur      init      p3\niamp      init      p4\nifqc      init      cpspch(p5)                   ; CONVERT TO CYCLES/SECOND\nifqcs     init      cpspch(p5)*p8\nirez      init      p7 \naynm1     init      0                        ; INITIALIZE Yn-1\naynm2     init      0                   ; & Yn-2 TO ZERO.\nkxn       init      -p4\nkdx       init      p4*8*ifqc/sr\nkmax      init      p4\nksyncm    init      -1\nksyncs    init      -1\n          \n;-------------------------------------------------------------------------\nkaenv     linseg    0,.001,1,p3-.002,1,.001,0  ; AMPLITUDE ENVELOPE\nkfco      expseg    10,.2*p3,p6,.4*p3,.5*p6,.4*p3,.1*p6  ; FREQUENCY SWEEP\n\n;-------------------------------------------------------------------------\nka1       =         100/irez/sqrt(kfco)-1    ; ADJUST Q AND Fco FOR\nka2       =         1000/kfco           ; COEFFICIENTS A1 & A2.\n\n;-------------------------------------------------------------------------\nkxn            =    kxn+kdx             ; FIND NEXT POSITION \n\nksmprev   =         ksyncm              ; WATCH MASTER FOR TRANSITION\nksyncm    oscil     1,ifqc,2            ; FROM -1 TO 1 THEN RESET axn.\nkxn  =              ((ksmprev=-1)&&(ksyncm=1) ? -kmax : kxn)\n\nkssprev =           ksyncs              ; WATCH SLAVE FOR TRANSITION\nksyncs  oscil       1,ifqcs,2           ; FROM -1 TO 1 THEN RESET axn.\nkxn  =              ((kssprev=-1)&&(ksyncs=1) ? -kmax : kxn)\n\naxn       =         kxn\n;-------------------------------------------------------------------------\nayn       =         ((ka1+2*ka2)*aynm1-ka2*aynm2+axn)/(1+ka1+ka2) ; DIFFERENCE EQ. APP.\naynm2     =         aynm1               ; OF DIFFERENTIAL EQ.\naynm1     =         ayn                 ; SAVE Yn-1 & Yn-2.\n\n;-------------------------------------------------------------------------\naout      =         ayn*kaenv           ; SCALE AND OUTPUT\n          outs      aout,axn\n\n          endin\n\n</CsInstruments>\n<CsScore>\n; Tables\n;-----------------------------------------------------------\nf1  0  1024  10  1                                 ;Sine\nf2  0  256   7  -1  128  -1    0     1  128   1    ;Square\nf3  0  256   7   1  256  -1                        ;Sawtooth\nf4  0  256   7  -1  128   1    128  -1             ;Triangle\nf5  0  1024  8 -.8  42   -.78  400  -.7 140 .7  400 .78 42   .8 ;Distortion\n\n;-----------------------------------------------------------\n; Score\n;-----------------------------------------------------------\nt 0 400\n\n\n;-----------------------------------------------------------\n; Saw Ramp Transform Sync\n;-----------------------------------------------------------\n;Ins  Sta Dur Amp    Pitch   Fco   Q\ni1    0   4   12000  7.00    50    5\ni1    +   2   12000  7.07    1000  100\n\n;-----------------------------------------------------------\n; Oscillator Sync\n;-----------------------------------------------------------\n;Ins  Sta Dur Amp   Pitch   Fco   Q  Ratio\ni2    6   2  4000   8.03    100  10  1.5\ni2    +   4  4000   8.00    100  10  2.01\ni2    .   1  4000   8.07    80   10  1.23\ni2    .   1  4000   8.05    70   10  1.20\ni2    .   1  4000   8.07    60   10  1.15\ni2    .   1  4000   8.05    50   10  1.1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for EXPLOSION using oscillator and resonant filter and reverb effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from explode.orc and explode.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\ngaoutl    init      0\ngaoutr    init      0\ngain1     init      0\ngain2     init      0\n\ngifeed    init      .5\ngilp1     init      1/10\ngilp2     init      1/23\ngilp3     init      1/41\ngiroll    init      3000\n\n\n          instr 1             ; EXPLOSION\n\nidur      =         p3\niamp      =         p4\nifqc      =         p5\niatk      =         p6\nipanl     =         p7\nipanr     =         1-p7\naop4      init      0\n\nkamp      linseg    0, .001, iamp, idur-.002, iamp, .001, 0\nkamp1     linseg    0, .01*iatk, 1, .2*idur, .8, .8*idur, 0\nkamp2     linseg    0, .01*iatk, 1, .2*idur, .8, .8*idur, 0\nkamp3     linseg    0, .01*iatk, 1, .2*idur, .8, .8*idur, 0\nkamp4     linseg    0, .01*iatk, 1, .2*idur, .8, .8*idur, 0\n\nkfqc      randh     ifqc, 200\n\naop4      oscil     10*kamp4, 3*(1+.8*aop4)*kfqc, 1\naop3      oscil     20*kamp3,   .5*(1+aop4)*kfqc, 1\naop2      oscil     16*kamp2,          5.19*kfqc, 1\naop1      oscil     2*kamp1, .5*(1+aop2+aop3)*kfqc, 1\n\naout      tone      aop1, ifqc*10\n\n;         outs      aout*kamp*ipanl, aout*kamp*ipanr\ngain1     =         gain1+aout*kamp*ipanl\ngain2     =         gain2+aout*kamp*ipanr\n\n          endin\n\n          instr 2             ; EXPLOSION\n\nidur      =         p3\niamp      =         p4\nifqc      =         p5\nipanl     =         p6\nipanr     =         1-p6\n\nkampenv   linseg    0, .001, 1, idur-.002, 1, .001, 0\nkamp      expseg    .0001, .1*idur, 1, .2*idur, .1, .7*idur, .0001\nkrezenv   linseg    ifqc/10, .05*idur, ifqc, .1*idur, ifqc/20, .01, ifqc/20\n\narand1    rand      iamp\narez1     reson     arand1, krezenv, krezenv/6\narez1     tone      arand1, krezenv ;, krezenv/6\nabal1     balance   arez1, arand1\n\n          outs      abal1*kampenv*ipanl, abal1*kampenv*ipanr\n\n          endin\n\n          instr 3             ; RAY GUN\n\nidur      =         p3\niamp      =         p4\nifqc      =         p5\nipanl     =         p6\nipanr     =         1-p6\n\nkampenv   linseg    0, .001, 1, idur-.002, 1, .001, 0\nkdelenv   linseg    0, idur/4, 0, idur/4, 1, idur/2, 1\n\nkrezenv   linseg    ifqc, .02, ifqc*4, .5*idur, ifqc/2, .01, ifqc/2\n\narand1    rand      iamp\narez1     reson     arand1, krezenv, krezenv/5\nabal1     balance   arez1, arand1\n\ngaoutl     =        abal1*kampenv*ipanl*kdelenv + gaoutl\ngaoutr     =        abal1*kampenv*ipanr*kdelenv + gaoutr\n\n          endin\n\n          instr 4             ; ECHO\n\nadel1l    init      0\nadel1r    init      0\nadel2l    init      0\nadel2r    init      0\n\nkampenv   linseg    0, .01, 1, p3-.02, 1, .01, 0\n\nadell     =         adel1l + adel2l\nadelr     =         adel1r + adel2r\n\nasigl     =         gaoutl + .6*adell\nasigr     =         gaoutr + .6*adelr\nafiltl    tone      asigl, 2000\nafiltr    tone      asigr, 2000\n\nadell     delayr    .5\nadel1l    deltap    .1\nadel2l    deltap    .3\n          delayw    afiltl\nadelr     delayr    .5\nadel1r    deltap    .1\nadel2r    deltap    .3\n          delayw    afiltr\n\n          outs      asigl*kampenv*2, asigr*kampenv*2\n\ngaoutl    =         0\ngaoutr    =         0\n\n          endin\n\n; ALIEN WEAPONRY\n\n          instr     5\n\n;--------------------------------------------------------------------\nidur      init      p3\niamp      init      p4\nifqc      init      p5\nifqc2     init      p6\nax        init      p7\nay        init      p8\naz        init      p9\nas        init      p10\nar        init      p11\nab        init      p12\nah        init      p13\n\n;--------------------------------------------------------------------\nkamp      linseg    0, .2, iamp, idur-.21, iamp, .01, 0\nkrezenv   linseg    50, p3/2, 5000, p3/2, 5000\nkfqc      linseg    ifqc, p3/2, ifqc2, p3/2, ifqc2\n\naxnew     =         ax+ah*as*(ay-ax)\naynew     =         ay+ah*(-ax*az+ar*ax-ay)\naznew     =         az+ah*(ax*ay-ab*az)\n\n;--------------------------------------------------------------------\nax        =         axnew\nay        =         aynew\naz        =         aznew\n\n;--------------------------------------------------------------------\n\nasigx     oscil     1, kfqc*(1+ax), 1\nasigy     oscil     1, kfqc*(1+ay), 1\n\narezx     reson     asigx, krezenv, krezenv/8\naoutx     balance   arezx, asigx\narezy     reson     asigy, krezenv, krezenv/8\naouty     balance   arezy, asigy\n\n          outs      aoutx*kamp,aouty*kamp\n\n\n          endin\n\n\n; ERIC LYON'S REVERB\n\n; i1 0 dur FILE SKIP GAIN %ORIG inputdur atk\n          instr 11\ninputdur  =         p6\niatk      =         p7\nidk       =    .01\nidecay    =         .01\n; DATA FOR OUTPUT ENVELOPE\nioutsust  =         p3-idecay\nidur      =         inputdur-(iatk+idk)\nisust     =         p3-(iatk+idur+idk)\niorig     =         p5\nirev      =         1.0-p5\n\nigain     =         p6\nkclean    linseg    0,iatk,igain,idur,igain,idk,0,isust,0\nkout      linseg    1,ioutsust,1,idecay,0\n; ain1,ain2 soundin ifile,iskip\nain1      =         gain1\nain2      =         gain2\nain1      =         ain1*kclean\nain2      =         ain2*kclean\najunk     alpass    ain1,1.7,.1\naleft     alpass    ajunk,1.01,.07\najunk     alpass    ain2,1.5,.2\naright    alpass    ajunk,1.33,.05\n\nkdel1     randi     .01,1,.666\nkdel1     =         kdel1 + .1\naddl1     delayr    .3\nafeed1    deltapi   kdel1\nafeed1    =         afeed1 + gifeed*aleft\n          delayw    aleft\n\nkdel2     randi     .01,.95,.777\nkdel2     =         kdel2 + .1\naddl2     delayr    .3\nafeed2    deltapi   kdel2\nafeed2    =         afeed2 + gifeed*aright\n          delayw    aright\n; GLOBAL REVERB\n\naglobin   =         (afeed1+afeed2)*.05\natap1     comb      aglobin,3.3,gilp1\natap2     comb      aglobin,3.3,gilp2\natap3     comb      aglobin,3.3,gilp3\naglobrev  alpass    atap1+atap2+atap3,2.6,.085\naglobrev  tone      aglobrev,giroll\n\nkdel3     randi     .003,1,.888\nkdel3     =         kdel3 + .05\naddl3     delayr    .2\nagr1      deltapi    kdel3\n          delayw    aglobrev\n\nkdel4     randi     .003,1,.999\nkdel4     =         kdel4 + .05\naddl4     delayr    .2\nagr2      deltapi   kdel4\n          delayw    aglobrev\n\narevl     =         agr1+afeed1\narevr     =         agr2+afeed2\naoutl     =         (ain1*iorig)+(arevl*irev)\naoutr     =         (ain2*iorig)+(arevr*irev)\n          outs      aoutl*kout,aoutr*kout\ngain1     =         0\ngain2     =         0\n          endin\n\n          instr 12\ninputdur  =         p8\niatk      =         p9\nidk       =         .01\nidecay    =         .01\n; DATA FOR OUTPUT ENVELOPE\nioutsust  =         p3-idecay\nidur      =         inputdur-(iatk+idk)\nisust     =         p3-(iatk+idur+idk)\niorig     =         p7\nirev      =         1.0-p7\n\nifile     =         p4\niskip     =         p5\nigain     =         p6\n; FOR MONO INPUT \nkout      linseg    1,ioutsust,1,idecay,0\nasigin    soundin   ifile,iskip\nasigin    =         asigin * igain\najunk     alpass    asigin,1.7,.1\naleft     alpass    ajunk,1.01,.07\najunk     alpass    asigin,1.5,.2\naright    alpass    ajunk,1.33,.05\n\nkdel1     randi     .01,1,.666\nkdel1     =         kdel1 + .1\naddl1     delayr    .3\nafeed1    deltapi   kdel1\nafeed1    =         afeed1 + gifeed*aleft\n          delayw    aleft\n\nkdel2     randi     .01,.95,.777\nkdel2     =         kdel2 + .1\naddl2     delayr    .3\nafeed2    deltapi   kdel2\nafeed2    =         afeed2 + gifeed*aright\n          delayw    aright\n; GLOBAL REVERB\n\naglobin   =         (afeed1+afeed2)*.05\natap1     comb      aglobin,3.3,gilp1\natap2     comb      aglobin,3.3,gilp2\natap3     comb      aglobin,3.3,gilp3\naglobrev  alpass    atap1+atap2+atap3,2.6,.085\naglobrev  tone      aglobrev,giroll\n\nkdel3     randi     .003,1,.888\nkdel3     =         kdel3 + .05\naddl3     delayr    .2\nagr1      deltapi   kdel3\n          delayw    aglobrev\n\nkdel4     randi     .003,1,.999\nkdel4     =         kdel4 + .05\naddl4     delayr    .2\nagr2      deltapi   kdel4\n          delayw    aglobrev\n\narevl     =         agr1+afeed1\narevr     =         agr2+afeed2\n; aoutl   =         (ain1*iorig)+(arevl*irev)\n; aoutr   =         (ain2*iorig)+(arevr*irev)\n;         outs      aoutl*kout,aoutr*kout\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\nf2 0 2048  1 10 0 6 0\n;f3 0 8192  7 1 8192 -1\nf4 0 8192  7 0 2 .5 1 1 8189 0\n\nt 0 100\n\n; Ray Gun warming up\n;   Sta  Dur  Amp   Freq1 Freq2  X   Y   Z   s    r   b      h\ni5  0.5  .9   1000  220   440    .6  .6  .6  10   28  2.667  .01\ni5  0    1.4  1000  80    120    .6  .6  .6  10   28  2.667  .004\ni5  .2   1.2  1000  50    1200   .6  .6  .6  10   28  2.667  .003\n\n; Ray Gun\n;  Start  Dur  Amp   Pitch  Pan\ni3  1.4   1    1000  600    1\ni3  1.4   .5   800   4000   .2\ni3  1.9   1    1000  800    0\ni3  1.9   .5   800   2000   .8\ni4  1.4   2.2\n;i3   7    .9   500   700    .7\n;i3   7    .4   400   3000   .5\n;i4   7    2.2\n\n; Explosion\n;    Sta   Dur Amp   Freq  Atk  Pan\ni1   3.4   4   1000  50    1    .8\ni1   3.6   1.5  800  400   1    .3\ni1   4.0   6   1200  50   40    .5\ni1   4.6   6   1200  50   100   .7\ni2   3.7   1   2000  200        .2\ni2   3.7   1.5 2000  160        .7\ni2   3.7   2   2000  100        .6\n\n;i1   9     4   600  150    1    .8\n;i1   9.2   1.5  400  200   1    .3\n;i1   9.6   6   700  150   40    .5\n;i1   9.2   6   700  80   100   .7\n;i2   9.3   1   1600  200        .2\n;i2   9.3   1.5 1300  160        .7\n;i2   9.3   2   1200  100        .6\n\n;i1 0 dur  gain %orig inputdur atk\ni11 0 13.4  1    .5    10       .5\n;i11 9 12  1    .5    10       .5\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp      init      p4 using oscillator and Karplus-Strong plucked string and delay line read", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from PDETECT.ORC and PDETECT.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\nzakinit 30, 30\n\n;---------------------------------------------------------------------------\n; SOUND SOURCE\n\n; SIMPLE SIN WAVE GENERATOR\n          instr     1\n\niamp      init      p4\nifqc      init      p5\nizout     init      p6\nkamp      linseg    0, .002, p4, p3-.004, p4, .002, 0\n\nasin1     oscil     kamp, ifqc, 1\n          zawm      asin1, izout\n\n          endin\n\n;---------------------------------------------------------------------------\n; PLUCK PHYSICAL MODEL\n;---------------------------------------------------------------------------\n          instr     2\n\niamp      =         p4         ; AMPLITUDE\nifqc      =         p5         ; CONVERT TO FREQUENCY\nitab1     =         p6         ; INITIAL TABLE\nimeth     =         p7         ; DECAY METHOD\nioutch    =         p8         ; OUTPUT CHANNEL\n\nkamp      linseg    0, .002, iamp, p3-.004, iamp, .002, 0   ; DECLICK\n\naplk      pluck     kamp, ifqc, ifqc, itab1, imeth          ; PLUCK WAVEGUIDE MODEL\n          zawm      aplk, ioutch                            ; WRITE TO OUTPUT\ngifqc     =         ifqc\n          endin\n\n          instr     10\n\nimnfqc    init      p4\nimxtim    init      1/p4\nimxfqc    init      p5\nimntim    init      1/p5\nizin      init      p6\nizout     init      p7\nklkmax    init      3\nklkmin    init      .8\nklooklow  init      1    \nklookhi   init      0\nkt2       init      imntim\nkt1       init      imxtim\ngkfqc     init      1/imxtim\nkosc1     init      0\n\nasig      zar       izin\n\nkosc2     =         kosc1\nkosc1     oscil     1, imnfqc, 4\n\nkdtime    =         kosc1*imxtim+imntim\n\nadel1     delayr    imxtim+imntim\nadel2     deltapi   kdtime\n          delayw    asig\n\nadel3     =         adel1-adel2\nkrms1     rms       adel3, 1/imntim/16\nkrms2     rms       adel3, 1/imxtim/16\nkfind     =         krms1/(krms2+1)\n\nif        (klooklow!=1) goto cont1\nif        (kfind>=klkmin) goto cont1\nkt2       =         kt1\nkt1       =         kdtime\nif        (kosc2<kosc1) goto cont3\ngkfqc     =         .5/(kt2>kt1 ? kt2-kt1 : kt1-kt2)\ncont3:\nklooklow  =         0\nklookhi   =         1\ngoto      cont2\n\ncont1:\nif (klookhi!=1) goto cont2\nif (kfind<=klkmax) goto cont2\n    klooklow=1\n    klookhi =0\n\ncont2:\n\naout      =         kfind*10000\n;aout     =         krms1\n;aout     =         100*gkfqc\n;aout     =         10/kt1\n\n          zaw       aout, izout\n\n          endin\n\n          instr     20\n\nizout     init      p4\n\n;  kamp linseg 0,   .002, p4, p3-.004, p4, .002, 0\n\nasin1     oscil     20000, gkfqc, 1\n          zaw       asin1, izout\n\n          endin\n\n\n; MIXER SECTION\n;---------------------------------------------------------------------------\n;    STA DUR  CH1  GAIN  PAN  CH2  GAIN  PAN  CH3  GAIN  PAN  CH4  GAIN  PAN\n\n; MIXER\n          instr     100\nasig1     zar       p4\nigl1      init      p5*p6\nigr1      init      p5*(1-p6)\nasig2     zar       p7\nigl2      init      p8*p9\nigr2      init      p8*(1-p9)\nasig3     zar       p10\nigl3      init      p11*p12\nigr3      init      p11*(1-p12)\nasig4     zar       p13\nigl4      init      p14*p15\nigr4      init      p14*(1-p15)\n\nasigl     =         asig1*igl1 + asig2*igl2 + asig3*igl3 + asig4*igl4\nasigr     =         asig1*igr1 + asig2*igr2 + asig3*igr3 + asig4*igr4\n\n          outs      asigl, asigr\n          zacl      0, 30\n\n          endin\n\n</CsInstruments>\n<CsScore>\n;---------------------------------------------------------------------------\n; WAVEFORMS\n;---------------------------------------------------------------------------\n; SINE WAVE\nf1 0 8192 10 1\n\n; TRIANGLE WAVE -1 TO 1\nf2 0 8192 7  -1  4096 1 4096 -1\n\n; TRIANGLE WAVE 0 TO 1\nf4 0 8192 7 0 4096 1 4096 0\n\n; PLUCK\n;i2  0.0  1.0  16000  220   0     1    1\ni1  0   1  20000  220  1\n\n; PITCH DETECTOR\n;    STA  DUR  MINFQC  MAXFQC  INCH  OUTCH\ni10  0    1    50      2000    1     2\n\n; SINE\n;    STA  DUR  OUTCH\ni20  0    1    3\n\n; MIXER\n;    STA DUR  CH1  GAIN  PAN  CH2  GAIN  PAN  CH3  GAIN  PAN  CH4  GAIN  PAN\ni100 0   1.1  1    1     1    2    1     0    3    0     1    3    0     0\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp         init      p4 using oscillator and Karplus-Strong plucked string and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from TUBEAMP3.ORC and TUBEAMP3.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         22050\nksmps          =         2\nnchnls         =         1\n\n\ngasig          init      0\n\n; SIMPLE SIN\ninstr          1\n\n  iamp         init      p4\n  ifqc         init      p5\n  kamp         linseg    0, .01, p4, p3-.02, p4, .01, 0\n\n  asin1        oscil     kamp, ifqc, 1\n;              out       asin1\n  gasig        =         gasig + asin1\n\nendin\n\n; PLUCK\ninstr          2\n\n  ifqc         =         cpspch(p5)\n  kamp         linseg    0, .01, p4, p3-.02, p4/2, .01, 0\n\n  asin1        pluck     kamp, ifqc, ifqc, p6, p7\n  asig1        butterhp  asin1, 10\n  asig         butterlp  asig1, 5000\n;  out         asig\n  gasig        =         gasig + asig\n\nendin\n\n; TUBE AMP\ninstr          10\n\nasig           init      0\nkamp           linseg    0, .002, 1, p3-.004, 1, .002, 0\nigaini         =         p4\nigainf         =         p5\niduty          =         p6\nislope         =         p7\n\naold           =         asig\nasig           =         igaini*gasig/40000       ; DISTORTION EFFECT USING WAVESHAPING.\naclip          tablei    asig,5,1,.5              ; A LAZY \"S\" CURVE, USE TABLE 6 FOR INCREASED\n;aclip         =         asig\naclip          =         igainf*aclip*10000       ; DISTORTION.\n\n; TUBE AMPLIFIERS SHOW A SHIFTED DUTY CYCLE WHICH I TRY TO EMULATE WITH\n; A DELAY LINE.  THE SLOPE BIT IS JUST SOMETHING GOOFY I THOUGHT I WOULD ADD.\natemp          delayr    .1\nadel1          deltapi   (1-iduty*asig)/1500 + (1+islope*(asig-aold))/1500\n               delayw    aclip\n\n               out       adel1*kamp\n\n  gasig        =         0\n\nendin\n\n\n</CsInstruments>\n<CsScore>\n; AN ATTEMPT AT EMULATING TUBE DISTORTION.\n\n; SINE WAVE\nf1 0 8192 10 1\n; TRIANGLE WAVE\nf2 0 8192 7  -1  256 1 256 -1 512 0 7168 0\n; EXP WAVE\nf3 0 8192 7  .001  4096 1 4096 .001\n\n; DISTORTION TABLES\n;----------------------------------------------------------------------\n; HEAVY DISTORTION\n;f5 0 8192   8 -.8 336 -.76 3000 -.7 1520 .7 3000 .76 336 .8\n; SLIGHT DISTORTION\n;f5 0 8192   8 -.8 336 -.78  800 -.7 5920 .7  800 .78 336 .8\n; TUBE DISTORTION\n; LIGHT\n;f5 0 8192 7 -.8 834 -.79 834 -.77 834 -.64 834 -.48 1520 .47 2000 .48 1336 .48\n; HEAVY\nf5 0 8192 7 -.8 934 -.79 934 -.77 934 -.64 1034 -.48 520 .47 2300 .48 1536 .48\n\n;   Sta  Dur  Amp    Fqc\n;i1  0    .4   5000   1000\n;i1  .2   .2   5000   1500\n\n; TUBE AMP\n;   Sta  Dur  PreGain PostGain  DutyOffset  SlopeShift\ni10 0    3.2  2       2         2           10\n\n\n\n; PLUCK USE FUNC 2 FOR DISTORTION\n;   Sta  Dur  Amp   Fqc   Func  Meth\ni2  0.0  1.6  8000  7.00   0     1\ni2  0.2  1.4  6000  7.05   .     .\ni2  0.4  1.2  5200  8.00   .     .\ni2  0.6  1.0  6000  8.05   .     .\ni2  0.8  0.8  8000  7.00   .     .\ni2  1.0  0.6  6000  7.05   .     .\ni2  1.2  0.4  5200  8.00   .     .\ni2  1.4  0.2  6000  8.05   .     .\n\ni2  1.6  0.8  8000  9.00   .     .\ni2  2.4  0.8  8000  8.10   .     .\n\n;i2  1.6  1.6  2200  8.07   .     .\n;i2  1.8  1.4  6000  8.05   .     .\n;i2  2.0  1.2  4000  8.00   .     .\n;i2  2.2  1.0  3000  7.05   .     .\n;i2  2.4  0.8  2200  8.07   .     .\n;i2  2.6  0.6  6000  8.05   .     .\n;i2  2.8  0.4  4000  8.00   .     .\n;i2  3.0  0.2  3000  7.05   .     .\n\n;i2  3.2  1.6  2500  7.00   .     .\n;i2  3.21 1.8  3000  7.05   .     .\n\n;i2  1.8  1.6  2600  8.00   .     .\n;i2  1.8  1.6  3000  8.05   .     .\n;i2  2.0  1.4  2200  8.07   .     .\n;i2  2.2  2    6000  8.05   .     .\n;i2  2.4  1.8  4000  8.00   .     .\n;i2  2.6  1.6  3000  7.05   .     .\n;i2  2.8  1.4  2500  7.00   .     .\n\n;i2  3.0  1.8  3000  7.05   .     .\n;i2  3.2  1.6  2600  8.00   .     .\n;i2  3.4  1.6  3000  8.05   .     .\n;i2  3.6  1.4  2200  8.07   .     .\n;i2  3.8  2    6000  8.05   .     .\n;i2  4.0  1.8  4000  8.00   .     .\n;i2  4.2  1.6  3000  7.05   .     .\n;i2  4.4  1.4  2500  7.00   .     .\n\n; PLUCK\n;   Sta  Dur  Amp   Fqc   Func  Meth\n;i2  4.0  2    4000  250   2     1\n;i2  4.2  1.8  3000  375   .     1\n;i2  4.4  1.6  2600  500   .     1\n;i2  4.6  1.4  2200  1000  .     1\n;i2  6    2    6000  250   .     1\n;i2  6.05 1.95 4000  375   .     1\n;i2  6.1  1.9  3000  500   .     1\n;i2  6.15 1.85 2500  1000  .     1\n\n; PLUCK\n;   Sta   Dur  Amp   Fqc   Func  Meth\n;i2  8.0   2    2000  250   2     1\n;i2  8.2   1.8  1500  375   .     1\n;i2  8.4   1.6  1300  500   .     1\n;i2  8.6   1.4  1100  1000  .     1\n;i2  10    2    3000  250   .     1\n;i2  10.05 1.95 2000  375   .     1\n;i2  10.1  1.9  1500  500   .     1\n;i2  10.15 1.85 1250  1000  .     1\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for GLOBAL INITIALIZATION using oscillator and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from spirogr.orc and spirogr.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\n\ninstr 1                            ;GLOBAL INITIALIZATION\n\n  gi2fqc       init      cpspch(p4)\n  gi3fqc       init      cpspch(p5)\n\nendin\n\ninstr 2                            ; EPICYCLOID OR SPIROGRAPH CURVE\n                                   ; THIS SET OF PARAMETRIC EQUATIONS DEFINES THE PATH TRACED BY\n                                   ; A POINT ON A CIRCLE OF RADIUS B ROTATING OUTSIDE A CIRCLE OF\n                                   ; RADIUS A.\n\nifqc           init      cpspch(p5)\nifqci          init      gi2fqc\ngi2fqc         init      ifqc\nia             init      p6\nib             init      p7\nihole          init      p8\niscale         init      1/(ia+2*ib)\n\nkampenv        linseg    0, .02, p4*iscale, p3-.04, p4*iscale, .02, 0\nkptchenv       linseg    ifqci, .2*p3, ifqc, .8*p3, ifqc\nkvibenv        linseg    0, .5, 0, .2, 1, .2, 1\nkvibr          oscil     20, 8, 1\nkfqc           =         kptchenv+kvibr*kvibenv\n\n; SINE AND COSINE\nacos1          oscil     ia+ib, kfqc, 1, .25\nacos2          oscil     ib*ihole, (ia-ib)/ib*kfqc, 1, .25\nax             =         acos1 + acos2\n\nasin1          oscil     ia+ib, kfqc, 1\nasin2          oscil     ib, (ia-ib)/ib*kfqc, 1\nay             =         asin1 - asin2\n\nouts           kampenv*ax, kampenv*ay\n\nendin\n\ninstr 3 ; HYPOCYCLOID OR SPIROGRAPH CURVE\n        ; THIS SET OF PARAMETRIC EQUATIONS DEFINES THE PATH TRACED BY\n        ; A POINT ON A CIRCLE OF RADIUS B ROTATING INSIDE A CIRCLE OF\n        ; RADIUS A.\n\nifqc           =         cpspch(p5)\nifqci          init      gi3fqc\ngi3fqc         init      ifqc\nia             =         p6\nib             =         p7\nihole          =         p8\niscale         =         (ia<ib ? 1/ib:1/ia)\n\nkampenv        linseg    0, .1, p4*iscale, p3-.2, p4*iscale, .1, 0\nkptchenv       linseg    ifqci, .2*p3, ifqc, .8*p3, ifqc\nkvibenv        linseg    0, .5, 0, .2, 1, .2, 1\nkvibr          oscil     20, 8, 1\nkfqc           =         kptchenv+kvibr*kvibenv\n\n; SINE AND COSINE\nacos1          oscil     ia-ib, kfqc, 1, .25\nacos2          oscil     ib*ihole, (ia-ib)/ib*kfqc, 1, .25\nax             =         acos1 + acos2\n\nasin1          oscil     ia-ib, kfqc, 1\nasin2          oscil     ib, (ia-ib)/ib*kfqc, 1\nay             =         asin1 - asin2\n\n               outs      kampenv*ax, kampenv*ay\n\nendin\n\ninstr          4                                  ; BANCHOFF KLEIN BOTTLE\n\nifqc           init      cpspch(p5)\niu             init      p6\niv             init      p7\nirt2           init      sqrt(2)\n\nkampenv        linseg    0, .02, p4, p3-.04, p4, .02, 0\n\n; COSINES\nacosu          oscil     1, iu*ifqc,      1, .25\nacosu2         oscil     1, iu*ifqc/2, 1, .25\nacosv          oscil     1, iv*ifqc,      1, .25\n\n; SINES\nasinu          oscil     1, iu*ifqc,      1\nasinu2         oscil     1, iu*ifqc/2, 1\nasinv          oscil     1, iv*ifqc,      1\n\n; COMPUTE X AND Y\nax             =         acosu*(acosu2*(irt2+acosv)+asinu2*asinv*acosv)\nay             =         asinu*(acosu2*(irt2+acosv)+asinu2*asinv*acosv)\n\n; LOW FREQUENCY ROTATION IN SPHERICAL COORDINATES Z, PHI, THETA.\n  klfsinth     oscil     1,4,1\n  klfsinph     oscil     1,1,1\n  klfcosth     oscil     1,4,1,.25\n  klfcosph     oscil     1,1,1,.25\n\n  aox          =         -ax*klfsinth+ay*klfcosth\n  aoy          =         -ax*klfsinth*klfcosph-ay*klfsinth*klfcosph+klfsinph\n\n\nouts           kampenv*aox, kampenv*aoy\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\n\nt 0 400\n\n; INSTRUMENT 1 INITIALIZES PITCHES FOR USE IN PORTAMENTO INSTRUMENTS.\n;  Start Dur Pitch2 Pitch3\ni1 0     1   7.09   10.00\n\n; EPICYCLOID\n;   Start Dur  Amp    Frqc   A    B    Hole\ni2   0     6  8000    8.00   10   2     1\ni2   4     4  .       7.11   5.6  .4    .8\ni2   +     4  .       8.05   2    8.5   .7\ni2   .     2  .       8.02   4    5     .6\ni2   .     2  .       8.02   5    .5   1.2\ni2   0     2  24000    7.09   5.6  .4    1.8\ni2   0     2  24000   7.09   4     5    .6\ni4   0    16  10000    7.00   4    5\n\n; HYPOCYCLOID\n;   Start Dur  Amp    Frqc   A    B    Hole\ni3   16    6  8000    8.00  10   2     1\ni3   20    4  .       7.11   5.6  .4    .8\ni3   +     4  .       8.05   2   8.5    .7\ni3   .     2  .       8.02   4   5      .6\ni3   .     2  .       8.02   5    .5   1.2\n; KLEIN BOTTLE\n;   Start Dur  Amp    Frqc   U    V  \ni4   32    6  6000    6.00   3    2\ni4   36    4  .       5.11   5.6  .4\ni4   +     4  .       6.05   2    8.5\ni4   .     2  .       6.02   4    5\ni4   .     2  .       6.02   5    .5\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ROSSLER'S ATTRACTOR using oscillator and linear segments and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fractxt.orc and fractxt.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n;--------------------------------------------------------------------\n; An assortment of chaotic, fractal and related instruments\n; Coded by Hans Mikelson  March 27, 1997\n;--------------------------------------------------------------------\n; 1. The Lorenz Attractor\n; 2. The Rossler Attractor\n; 3. Planet Orbiting in a Binary Star System\n\n\n;--------------------------------------------------------------------\n; This instrument is based on the Lorenz equations one of the \n; first chaotic systems discovered.  I use it here as an\n; oscillator.  ah can be used to change the pitch.  Scale\n; will change the volume.                                  \n;--------------------------------------------------------------------\n\n          instr     1\n\n;--------------------------------------------------------------------\nax        init      p5\nay        init      p6\naz        init      p7\nas        init      p8\nar        init      p9\nab        init      p10\nah        init      p11\n\nkampenv   linseg    0,.01,p4,p3-.02,p4,.01,0 ; AMPLITUDE ENVELOPE\n\n;--------------------------------------------------------------------\naxnew     =         ax+ah*as*(ay-ax)\naynew     =         ay+ah*(-ax*az+ar*ax-ay)\naznew     =         az+ah*(ax*ay-ab*az)\n\n;--------------------------------------------------------------------\nax        =         axnew\nay        =         aynew\naz        =         aznew\n\n;--------------------------------------------------------------------\n          outs      ax*kampenv,ay*kampenv\n          endin\n\n;--------------------------------------------------------------------\n          instr 2             ; ROSSLER'S ATTRACTOR\n;--------------------------------------------------------------------\n\nax        init      0\nay        init      0\naz        init      0\nih        init      p5\naa        init      .375\nib        init      p6\nic        init      p7\n\n; AMPLITUDE ENVELOPE\n;--------------------------------------------------------------------\nkampenv   linseg    0,.01,p4,p3-.02,p4,.01,0\n\n;--------------------------------------------------------------------\naa        oscil     1/7,.5,1\naa        =         .3+aa\n\n;--------------------------------------------------------------------\naxnew     =         ax+ih*(-ay-az)\naynew     =         ay+ih*(ax+aa*ay)\naznew     =         az+ih*(ib+ax*az-ic*az)\n\n;--------------------------------------------------------------------\nax        =         axnew\nay        =         aynew\naz        =         aznew\n\n;--------------------------------------------------------------------\n          outs      kampenv*ax,kampenv*ay\n\n          endin\n\n;--------------------------------------------------------------------\n; THIS SIMULATES A PLANET ORBITING IN A MULTIPLE STAR SYSTEM.\n;--------------------------------------------------------------------\n         instr  3\n\n;--------------------------------------------------------------------\nkampenv   linseg    0, .1, p4, p3-.2, p4, .1, 0\n\n;--------------------------------------------------------------------\n; PLANET POSITION (X, Y, Z) & VELOCITY (VX, VY, VZ)\nkx        init      0\nky        init      .1\nkz        init      0\nkvx       init      .5\nkvy       init      .6\nkvz       init      -.1\nih        init      p5\n\n;--------------------------------------------------------------------\n; STAR 1 MASS & X, Y, Z\nimass1    init      p6\nis1x      init      0\nis1y      init      0\nis1z      init      p8\n\n;--------------------------------------------------------------------\n; STAR 2 MASS & X, Y, Z\nimass2    init      p7\nis2x      init      0\nis2y      init      0\nis2z      init      -p8\n\n;--------------------------------------------------------------------\n; CALCULATE DISTANCE TO STAR 1\nkdx       =         is1x-kx\nkdy       =         is1y-ky\nkdz       =         is1z-kz\nksqradius =         kdx*kdx+kdy*kdy+kdz*kdz+1\nkradius   =         sqrt(ksqradius)\n\n;--------------------------------------------------------------------\n; DETERMINE ACCELERATION DUE TO STAR 1 (AX, AY, AZ)\nkax       =         imass1/ksqradius*kdx/kradius\nkay       =         imass1/ksqradius*kdy/kradius\nkaz       =         imass1/ksqradius*kdz/kradius\n\n;--------------------------------------------------------------------\n; CALCULATE DISTANCE TO STAR 2\nkdx       =         is2x-kx\nkdy       =         is2y-ky\nkdz       =         is2z-kz\nksqradius =         kdx*kdx+kdy*kdy+kdz*kdz+1\nkradius   =         sqrt(ksqradius)\n\n;--------------------------------------------------------------------\n; DETERMINE ACCELERATION DUE TO STAR 2 (AX, AY, AZ)\nkax       =         kax+imass2/ksqradius*kdx/kradius\nkay       =         kay+imass2/ksqradius*kdy/kradius\nkaz       =         kaz+imass2/ksqradius*kdz/kradius\n\n;--------------------------------------------------------------------\n; UPDATE THE VELOCITY\nkvx       =         kvx+ih*kax\nkvy       =         kvy+ih*kay\nkvz       =         kvz+ih*kaz\n\n;--------------------------------------------------------------------\n; UPDATE THE POSITION\nkx        =         kx+ih*kvx\nky        =         ky+ih*kvy\nkz        =         kz+ih*kvz\n\naoutx     =         kx*kampenv\naouty     =         ky*kampenv\n          outs      aoutx,aouty\n\n         endin\n\n\n\n</CsInstruments>\n<CsScore>\n;************************************************************\n; An assortment of chaotic, fractal and related instruments\n; Coded by Hans Mikelson  March 27, 1997\n;************************************************************\n; 1. The Lorenz Attractor\n; 2. The Rossler Attractor\n; 3. Planet Orbiting in a Binary Star System\n\nf1 0 8192 10 1\n\nt 0 400\n\n;  Start  Dur Amp  X   Y   Z    S    R   B      h\ni1  0     8   600  .6  .6  .6  10   28  2.667  .01\ni1  +     .   600  .6  .6  .6  22   28  2.667  .01\ni1  .     .   600  .6  .6  .6  32   28  2.667  .01\n\n; Rossler Attractor\n;  Start  Dur  Amp   Freq  B  C\ni2  24     8   3000   .1   2  4\ni2  +      .   4000   .1   3  4\ni2  .      .   8000   .04  4  4\n\n; Planetary orbit in a binary star system\n;  Start  Dur  Amp      h Mass1 Mass2 Separation\ni3  48    16   3000    .5   .4    .34     1.1\ni3  60    .    2500    .2   .5    .6      2    \ni3  72    .    3000    .3   .5    .5      1\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using FM synthesis and synthesizer and oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fmsynth.orc and fmsynth.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n          zakinit   50, 50\n\n          instr     5\n\nidur      =         p3\niamp      =         p4\nirate     =         p5\nitab1     =         p6\nioutch    =         p7\n\nklfo      oscil     iamp, irate/idur, itab1\n          zkw       klfo, ioutch\n\n          endin\n\n\n          instr     10\n\nidur      =         p3+.2\np3        =         p3+.2\niamp      =         p4\nifqc      =         cpspch(p5)\nitab1     =         p6\niactch    =         p7\n\nkact1     zkr       iactch\n\niatk1     =         .04\nidec1     =         .2\nidl1      =         .8\nisl1      =         .6\nirel1     =         .2\n\niatk2     =         .2\nidec2     =         .2\nidl2      =         .4\nisl2      =         .1\nirel2     =         .2\n\niatk3     =         .1\nidec3     =         .1\nidl3      =         .8\nisl3      =         .6\nirel3     =         .2\n     \niatk4     =         .01\nidec4     =         .1\nidl4      =         .1\nisl4      =         .01\nirel4     =         .1\n\niatk5     =         .01\nidec5     =         .1\nidl5      =         .05\nisl5      =         .001\nirel5     =         .2\n\niatk6     =         .01\nidec6     =         .1\nidl6      =         .5\nisl6      =         .1\nirel6     =         .1\n\nifa       =         1\naop1      init      0\naop2      init      0\naop3      init      0\n\nkenv1     linseg    0, iatk1, 1  , idec1, idl1,     idur-iatk1-idec1-irel1, isl1,     irel1, 0 \nkenv2     linseg    0, iatk2, ifa, idec2, idl2*ifa, idur-iatk2-idec2-irel2, isl2*ifa, irel2, 0 \nkenv3     linseg    0, iatk3, ifa, idec3, idl3*ifa, idur-iatk3-idec3-irel3, isl3*ifa, irel3, 0 \nkenv4     linseg    0, iatk4, ifa, idec4, idl4*ifa, idur-iatk4-idec4-irel4, isl4*ifa, irel4, 0 \nkenv5     linseg    0, iatk5, ifa, idec5, idl5*ifa, idur-iatk5-idec5-irel5, isl5*ifa, irel5, 0 \nkenv6     linseg    0, iatk6, ifa, idec6, idl6*ifa, idur-iatk6-idec6-irel6, isl6*ifa, irel6, 0 \n\n;                   Amp            Fqc   Car                    Mod                 Env      Table Phase\naop3      foscil    kenv5*3,       ifqc, (1+aop2*2)*2.5,       (1+aop1*3)*.5,       kenv6*4, itab1\naop2      foscil    kenv3*kact1,   ifqc, 2,                    (1+aop3*3)*4,        kenv4*4, itab1\naop1      foscil    kenv1,         ifqc, 1+aop3,               (1+aop2)*.333*kact1, kenv2*6, itab1\n\naout      rezzy     aop1, 100+kenv2*500+aop2*20, 10\n\n          outs      aout*iamp, aout*iamp\n\n          endin\n\n          instr     11\n\nidur      =         p3+.2\np3        =         p3+.2\niamp      =         p4\nifqc      =         cpspch(p5)\nitab1     =         p6\niactch    =         p7\nipan      =         p8\n\nkact1     zkr       iactch\n\niatk1     =         2.4\nidec1     =         2.2\nidl1      =         .8\nisl1      =         .6\nirel1     =         1.2\n\niatk2     =         1.2\nidec2     =         1.2\nidl2      =         .4\nisl2      =         .1\nirel2     =         1.2\n\niatk3     =         1.1\nidec3     =         1.1\nidl3      =         .8\nisl3      =         .6\nirel3     =         .2\n\niatk4     =         .1\nidec4     =         .1\nidl4      =         .1\nisl4      =         .01\nirel4     =         .1\n\niatk5     =         .1\nidec5     =         .1\nidl5      =         .05\nisl5      =         .01\nirel5     =         .2\n\niatk6     =         .1\nidec6     =         .1\nidl6      =         .5\nisl6      =         .1\nirel6     =         .1\n\nifa       =         1\naop1      init      0\naop2      init      0\naop3      init      0\n\nkenv1     linseg    0, iatk1, 1  , idec1, idl1,     idur-iatk1-idec1-irel1, isl1,     irel1, 0 \nkenv2     linseg    0, iatk2, ifa, idec2, idl2*ifa, idur-iatk2-idec2-irel2, isl2*ifa, irel2, 0 \nkenv3     linseg    0, iatk3, ifa, idec3, idl3*ifa, idur-iatk3-idec3-irel3, isl3*ifa, irel3, 0 \nkenv4     linseg    0, iatk4, ifa, idec4, idl4*ifa, idur-iatk4-idec4-irel4, isl4*ifa, irel4, 0 \nkenv5     linseg    0, iatk5, ifa, idec5, idl5*ifa, idur-iatk5-idec5-irel5, isl5*ifa, irel5, 0 \nkenv6     linseg    0, iatk6, ifa, idec6, idl6*ifa, idur-iatk6-idec6-irel6, isl6*ifa, irel6, 0 \n\nanz       rand      1/10\nafnz      butterbp  anz, ifqc/2/kact1, ifqc/2/kact1/200\n\n;                   Amp            Fqc   Car                    Mod                 Env      Table Phase\naop3      foscil    kenv5*3,       ifqc, (1+aop2*2)*2.5,       (1+aop1*3)*.5+afnz,  kenv6*4, itab1\naop2      foscil    kenv3*kact1,   ifqc, 2,                    (1+aop3*3)*4,        kenv4*4, itab1\naop1      foscil    kenv1,         ifqc, 1+aop3,               (1+aop2)*.333*kact1, kenv2*6, itab1\n\naout      rezzy     aop1, 200+kenv2*900+aop2*50, 40\n     \n          outs      (aout+afnz)*iamp*sqrt(ipan), (aout+afnz)*iamp*sqrt(1-ipan)\n\n          endin\n\n          instr     12\n\nidur      =         p3+.1\np3        =         p3+.1\niamp      =         p4\nifqc      =         cpspch(p5)\nitab1     =         p6\niactch    =         p7\nipan      =         p8\n\nkact1     zkr       iactch\n\niatk1     =         0.04\nidec1     =         0.1\nidl1      =         .8\nisl1      =         .6\nirel1     =         0.2\n\niatk2     =         0.02\nidec2     =         0.1\nidl2      =         .4\nisl2      =         .1\nirel2     =         0.2\n\niatk3     =         0.01\nidec3     =         0.1\nidl3      =         .8\nisl3      =         .6\nirel3     =         .2\n\niatk4     =         .01\nidec4     =         .1\nidl4      =         .1\nisl4      =         .01\nirel4     =         .1\n\niatk5     =         .01\nidec5     =         .1\nidl5      =         .05\nisl5      =         .01\nirel5     =         .2\n\niatk6     =         .01\nidec6     =         .1\nidl6      =         .5\nisl6      =         .1\nirel6     =         .1\n\nifa       =         1\naop1      init      0\naop2      init      0\naop3      init      0\n\nkenv1     linseg    0, iatk1, 1  , idec1, idl1,     idur-iatk1-idec1-irel1, isl1,     irel1, 0 \nkenv2     linseg    0, iatk2, ifa, idec2, idl2*ifa, idur-iatk2-idec2-irel2, isl2*ifa, irel2, 0 \nkenv3     linseg    0, iatk3, ifa, idec3, idl3*ifa, idur-iatk3-idec3-irel3, isl3*ifa, irel3, 0 \nkenv4     linseg    0, iatk4, ifa, idec4, idl4*ifa, idur-iatk4-idec4-irel4, isl4*ifa, irel4, 0 \nkenv5     linseg    0, iatk5, ifa, idec5, idl5*ifa, idur-iatk5-idec5-irel5, isl5*ifa, irel5, 0 \nkenv6     linseg    0, iatk6, ifa, idec6, idl6*ifa, idur-iatk6-idec6-irel6, isl6*ifa, irel6, 0 \n\nanz       rand      1/2\nafnz      butterbp  anz, ifqc/2/kact1, ifqc/2/kact1/200\n\n;                   Amp            Fqc   Car                    Mod                 Env      Table Phase\naop3      foscil    kenv5*3,       ifqc, (1+aop2*2)*2.5,       (1+aop1*3)*.5,  kenv6*4, itab1\naop2      foscil    kenv3*kact1,   ifqc, 2,                    (1+aop3*3)*4,        kenv4*4, itab1\naop1      foscil    kenv1,         ifqc, 1+aop3,               (1+aop2)*.333*kact1, kenv2*6, itab1\n\naout      rezzy     aop1, 150+kenv2*400+aop2*10, 20\n\naamp      linseg    0, .005, iamp, idur-.01, iamp, .005, 0\n          outs      aout*sqrt(ipan)*aamp, aout*sqrt(1-ipan)*aamp\n\n          endin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 65536 10 1\nf2 0 65536 10 1 .5 .333 .25  .2\nf3 0 65536 10 1 .05 .03 .02\n\nf10 0 1024 -7 1 1024 1\n\n;   Sta  Dur  Amp    Rate  Table  OutCh\ni5  0    8    1      1     10     1\n\n;   Sta  Dur  Amp    Pitch  Table  AccentCh\ni10  0.0  .4   15000  7.00   1     1\ni10  +    .2   .      7.07   .     .\ni10  .    .4   .      6.10   .     .\ni10  .    .4   .      7.00   .     .\ni10  .    .2   .      7.05   .     .\ni10  .    .4   .      6.10   .     .\ni10  .    .4   .      7.00   .     .\ni10  .    .2   .      7.07   .     .\ni10  .    .4   .      7.00   .     .\ni10  .    .4   .      7.00   .     .\ni10  .    .2   .      8.00   .     .\ni10  .    .2   .      8.00   .     .\ni10  .    .2   .      8.00   .     .\n;\ni10  .    .4   15000  7.00   1     1\ni10  .    .2   .      7.07   .     .\ni10  .    .4   .      6.10   .     .\ni10  .    .4   .      7.00   .     .\ni10  .    .2   .      7.05   .     .\ni10  .    .4   .      6.10   .     .\ni10  .    .4   .      7.00   .     .\ni10  .    .2   .      7.07   .     .\ni10  .    .4   .      7.00   .     .\ni10  .    .4   .      7.00   .     .\ni10  .    .2   .      8.00   .     .\ni10  .    .2   .      8.00   .     .\ni10  .    .2   .      8.00   .     .\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iamp          =         ampdb(p4) using pitch and oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from MaskingVirtualPitch.orc and MaskingVirtualPitch.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n\n;*****************************   MASKING SPECTRAL AND VIRTUAL PITCH   **************************\n\n; THIS DEMONSTRATION USES MASKING NOISE OF HIGH AND LOW FREQUENCY TO MASK OUT, ALTERNATELY, A \n; MELODY CARRIED BY SINGLE PURE TONES OF LOW FREQUENCY AND THE SAME MELODY RESULTING FROM THE \n; VIRTUAL PITCH FROM GROUPS OF THREE TONES OF HIGH FREQUENCY (4TH, 5TH AND 6TH HARMONICS). THE \n; INABILITY OF THE LOW-FREQUENCY NOISE TO MASK THE VIRTUAL PITCH IN THE SAME RANGE POINTS OUT THE\n; INADEQUENCY OF THE PLACE THEORY OF PITCH.\n; YOU WILL HEAR THE FAMILIAR WESTMINISTER CHIME MELODY PLAYED WITH PAIRS OF TONES. THE FIRST TONE\n; OF EACH PAIR IS A SINUSOID, THE SECOND A COMPLEX TONE OF THE SAME PITCH. THEN YOU WILL HEAR THE \n; PURE TONE NOTES MASKED WITH A LOW-PASS NOISE. YOU WILL WILL STILL HEAR THE PITCHES OF THE COMPLEX \n; TONES. LASTLY THE COMPLEX TONES IS MASKED BY HIGH-PASS NOISE. THE PURE TONE MELODY IS STILL HEARD.\n\n\n;*****************************************   HEADER   **********************************************\n\n\n\n instr         1\n\n iamp          =         ampdb(p4)               \n ifunc         =         p6\n \n k1            linen     iamp,.02,p3,.02         \n a1            oscili    k1,p5,ifunc             \n               out       a1\n endin  \n \n \n \n instr         2 \n \n iamp          =         ampdb(p4)\n ifc           =         p5                                      ; CENTER FREQUENCY\n\n\n k1            linen     iamp,.02,p3,.02\n anoise        randi     k1, .38 * ifc                           ; NOISE WITH A BANDWIDTH FROM 182.9HZ - 407.1HZ\n a1            oscil     anoise, ifc, 1\n               out       a1\n endin\n \n \n \n instr         3\n \n iamp          =         ampdb(p4)\n ifc           =         p5                                      ; CENTER FREQUENC   \n\n k1            linen     iamp,.02,p3,.02\n anoise        randi     k1, .47 * ifc                           ; NOISE WITH A BANDWIDTH FROM 731.87HZ - 2029.91HZ\n a1            oscil     anoise, ifc,1\n               out       a1 \n endin\n\n</CsInstruments>\n<CsScore>\n\nf1 0 512 10 1                                          ; SINE WAVE\nf2 0 512 10 0 0 0 .5 .5 .5\n\n\n\n\n;***********************   MASKING SPECTRAL AND VIRTUAL PITCH  *********************************\n\nt 0 67\n\n;   p1      p2      p3    p4       p5       p6     \n;  inst    strt    isus   amp     ifc      ifunc     \n    i1     1.00     .5    76      261.63     1\n    i1     1.55     .5    76      261.63     2\n    i1     2.10     .5    76      329.63     1\n    i1     2.65     .5    76      329.63     2\n    i1     3.20     .5    76      293.66     1\n    i1     3.75     .5    76      293.66     2\n    i1     4.30     .5    76      196.00     1\n    i1     4.85     .5    76      196.00     2\n    i1     6.00     .5    76      261.63     1\n    i1     6.55     .5    76      261.63     2\n    i1     7.10     .5    76      293.66     1\n    i1     7.65     .5    76      293.66     2\n    i1     8.20     .5    76      329.63     1\n    i1     8.75     .5    76      329.63     2\n    i1     9.30     .5    76      261.63     1\n    i1     9.85     .5    76      261.63     2\n    i1    11.00     .5    76      329.63     1\n    i1    11.55     .5    76      329.63     2\n    i1    12.10     .5    76      293.66     1\n    i1    12.65     .5    76      293.66     2\n    i1    13.20     .5    76      261.63     1\n    i1    13.75     .5    76      261.63     2\n    i1    14.30     .5    76      196.00     1\n    i1    14.85     .5    76      196.00     2\n    i1    16.00     .5    76      261.63     1\n    i1    16.55     .5    76      261.63     2\n    i1    17.10     .5    76      293.66     1\n    i1    17.65     .5    76      293.66     2\n    i1    18.20     .5    76      329.63     1\n    i1    18.75     .5    76      329.63     2\n    i1    19.30     .5    76      261.63     1\n    i1    19.85     .5    76      261.63     2\n    s\n    \n;***********************************    PURE TONES ARE MASKED   ************************************\n\nt 0 67\n\n;   p1      p2      p3    p4       p5       p6     \n;  inst    strt    isus   amp     ifc      ifunc     \n    i1     1.00     .5    76      261.63     1\n    i1     1.55     .5    76      261.63     2\n    i1     2.10     .5    76      329.63     1\n    i1     2.65     .5    76      329.63     2\n    i1     3.20     .5    76      293.66     1\n    i1     3.75     .5    76      293.66     2\n    i2     4.25   10.0    88.5    295.00     \n    i1     4.30     .5    76      196.00     1\n    i1     4.85     .5    76      196.00     2\n    i1     6.00     .5    76      261.63     1\n    i1     6.55     .5    76      261.63     2\n    i1     7.10     .5    76      293.66     1\n    i1     7.65     .5    76      293.66     2\n    i1     8.20     .5    76      329.63     1\n    i1     8.75     .5    76      329.63     2\n    i1     9.30     .5    76      261.63     1\n    i1     9.85     .5    76      261.63     2\n    i1    11.00     .5    76      329.63     1\n    i1    11.55     .5    76      329.63     2\n    i1    12.10     .5    76      293.66     1\n    i1    12.65     .5    76      293.66     2\n    i1    13.20     .5    76      261.63     1\n    i1    13.75     .5    76      261.63     2\n    i1    14.30     .5    76      196.00     1\n    i1    14.85     .5    76      196.00     2\n    i1    16.00     .5    76      261.63     1\n    i1    16.55     .5    76      261.63     2\n    i1    17.10     .5    76      293.66     1\n    i1    17.65     .5    76      293.66     2\n    i1    18.20     .5    76      329.63     1\n    i1    18.75     .5    76      329.63     2\n    i1    19.30     .5    76      261.63     1\n    i1    19.85     .5    76      261.63     2\n   s\n\n;***********************************   COMPLEX TONE IS MASKED   **********************************    \n\n\nt 0 67\n\n;   p1      p2      p3    p4       p5       p6     \n;  inst    strt    isus   amp     ifc      ifunc     \n    i1     1.00     .5    73      261.63     1\n    i1     1.55     .5    73      261.63     2\n    i1     2.10     .5    73      329.63     1\n    i1     2.65     .5    73      329.63     2\n    i1     3.20     .5    73      293.66     1\n    i1     3.75     .5    73      293.66     2\n    i3     4.25   10.0    90     1380.89    \n    i1     4.30     .5    73      196.00     1\n    i1     4.85     .5    73      196.00     2\n    i1     6.00     .5    73      261.63     1\n    i1     6.55     .5    73      261.63     2\n    i1     7.10     .5    73      293.66     1\n    i1     7.65     .5    73      293.66     2\n    i1     8.20     .5    73      329.63     1\n    i1     8.75     .5    73      329.63     2\n    i1     9.30     .5    73      261.63     1\n    i1     9.85     .5    73      261.63     2\n    i1    11.00     .5    73      329.63     1\n    i1    11.55     .5    73      329.63     2\n    i1    12.10     .5    73      293.66     1\n    i1    12.65     .5    73      293.66     2\n    i1    13.20     .5    73      261.63     1\n    i1    13.75     .5    73      261.63     2\n    i1    14.30     .5    73      196.00     1\n    i1    14.85     .5    73      196.00     2\n    i1    16.00     .5    73      261.63     1\n    i1    16.55     .5    73      261.63     2\n    i1    17.10     .5    73      293.66     1\n    i1    17.65     .5    73      293.66     2\n    i1    18.20     .5    73      329.63     1\n    i1    18.75     .5    73      329.63     2\n    i1    19.30     .5    73      261.63     1\n    i1    19.85     .5    73      261.63     2\ne    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kamp1     line      p5, p3, 0 using FOF formant synthesis and oscillator and Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from kingfof1.orc and kingfof1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n\n\n          instr 1 \n\nkamp1     line      p5, p3, 0\nkamp2     line      p5*0.35,p3,0\nkamp3     envlpx    p5, 0.02, p3/2, 0.03,3,1,.01,-0.5\n\na1        pluck     kamp1, cpspch(p4), cpspch(p4)*.95,7,1\na2        fof       kamp2,cpspch(p4),50,0,.4,.003,.02,.007,57,1,3,p3\n\n;a3       loscil    1, cpspch(p4), 11, 440, 0\n\n          outs      a1,a2\n\n          endin\n\n          instr  2 \n\nkamp1     line      p5, p3, 0\nkamp2     line      p5*0.35,p3,0\nkamp3     envlpx    p5, 0.02, p3/2, 0.03,3,1,.01,-0.5\n\na1        pluck     kamp1, cpspch(p4), cpspch(p4)*1.05,7,2,3\na2        oscil     kamp2, cpspch(p4), 1\n\n;a3       loscil    1, cpspch(p4), 11, 440, 0\n\n          outs      a2,a1\n\n          endin\n\n          instr  3 \n\nkamp1     line      p5, p3, 0\nkamp2     line      p5*0.35,p3,0\nkamp3     envlpx    p5, 0.02, p3/2, 0.03,3,1,.01,-0.5\n\na1        pluck     kamp1, cpspch(p4), cpspch(p4)*.95,8,2,3\na2        oscil     kamp2, cpspch(p4), 1\n\n;a3       loscil    1, cpspch(p4), 11, 440, 0\n\n          outs      a1,a2\n\n          endin\n\n          instr  4 \n\nkamp1     line      p5, p3, 0\nkamp2     line      p5*0.35,p3,0\nkamp3     envlpx    p5, 0.02, p3/2, 0.03,3,1,.01,-0.5\n\na1        pluck     kamp1, cpspch(p4), cpspch(p4)*1.05,1,2,3\na2        oscil     kamp2, cpspch(p4), 1\n\n;a3       loscil    1, cpspch(p4), 11, 440, 0\n\n          outs      a2,a1\n\n          endin\n\n</CsInstruments>\n<CsScore>\n;------- algorithmic furniture music ---------------\n; SINE WAVE\nf1 0 512 10 10 6 3 5 3 5 4 3 1 2 1\n; RAMP\nf2 0 513  7 0 512 0 \n; EXPONENTIAL RISE SHAPE\nf3 0 513  5 .001 512 1\n; QUARTER SINE IN 8192 LOCATIONS + GUARD POINT\nf4 0 8193  9 0.25 1 0 \n; QUARTER COSINE WAVE\nf5 0 8193  9 0.25 1 90 \n; TRIANGLE WAVE\nf6 0 512  10 1 0 .111 0 .04 0 .02 0 .012\n; SAWTOOTH WAVE\nf7 0 512  10 1 .5  .3  .25 .2  .167 .14 .125 .111\n; SQUARE WAVE\nf8 0 512  10 1  0  .3  0  .2  0  .14  0  .111\n; NARROW PULSE WAVE\nf9 0 512  10 1  1  1  1  .7  .5  .3  .1 \n; EXPONENTIAL RISE AND DECAY\nf10 0 513  5 .1   32   1   480   .01 \n; LOSCIL    \n;f11  0  0  -1  c:\\csound\\a.wav  0  4  0\nt  0          35\n   \ni1 1.5    1.5    6  0 \ni1 0.5    1.5    6  8000 \ni1 0.75   1.25   6  8000 \ni1  3     6      5  9000 \ni1  1.67  2.33   5  8000 \ni1   3.67 1.33   5  8000 \ni1  4.94  1.06   5  8000 \ni1  5.5   1.5    6  9000 \ni1  5   3     6     8000 \ni1  6   3     5     8000 \ni1  8   2     5     8000 \ni1  7   4     5     9000 \ni1 10   2     6     8000 \ni2 2.33 2.33  7.11  8000         \n\ni2 6    1.06  7.04  8000         \n\ni2 1    1     7.07  8000         \n\ni2 1.67 1.33  7.02  9000         \n\ni2 2.25 1.75  7.11  8000         \n\ni2 2.67 2.33  6.1   8000         \n\ni2 3.67 2.33  6.07  8000         \n\ni2 5.25 1.75  7.05  9000         \n\ni2 5    3     7.06  8000         \n\ni2 3    6     6.09  8000         \n\ni2 6    4     7.1   8000         \n\ni2 5    6     7.1   9000         \n\ni3 8    8     7.02  8000         \n\ni3 0.75 1.75  8     8000         \n\ni3 0.75 1.25  7.04  8000         \n\ni3 1    4     8.04  9000         \n\ni3 1    3     7.11  8000         \n\ni3 3.94 1.06  8     8000         \n\ni3 4.67 1.33  7.02  8000         \n\ni3 5.67 1.33  7.04  9000         \n\ni3 0    8     8.07  8000         \n\ni3 7.5  1.5   7     8000         \n\ni3 8.88 1.12  7.11  8000         \n\ni3 8    3     8.05  9000         \n\ni4 1.33 1.33  8.1   8000         \n\ni4 6    1.06  8.07  8000         \n\ni4 6    8     8     8000         \n\ni4 1.25 1.75  9.02  9000         \n\ni4 2.75 1.25  8.1   8000         \n\ni4 3    8     9.09  8000         \n\ni4 4    2     9     8000         \n\ni4 4    3     9.11  9000         \n\ni4 5.67 2.33  9.06  8000         \n\ni4 6    3     9.06  8000         \n\ni4 4    6     9.07  8000         \n\ni4 8.67 2.33  9     9000         \n\ni4 9    3     9.11  8000         \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for gkphase  oscil 1, p4, 7 using oscillator and Butterworth lowpass filter and Butterworth bandpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from ROTORLSL.ORC and ROTORLSL.SCO\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 2205\nksmps  = 20\nnchnls = 2\n\n;------------------------------------------------------------------------\n; Tone Wheel Organ with Rotating Speaker\n;------------------------------------------------------------------------\n\n\n; Shaft\n         instr 5\ngkphase  oscil 1, p4, 7      \n         endin\n\n\n\n;------------------------------------------------------------------------\n; Global Rotorspeed/Drawbar Initialization\n;------------------------------------------------------------------------\n\n         instr 1\ngispeedf   init p4\ngksubfund  init p5\ngksub3rd   init p6\ngkfund     init p7\ngk2nd      init p8\ngk3rd      init p9\ngk4th      init p10\ngk5th      init p11\ngk6th      init p12\ngk8th      init p13\n         endin\n        \n;------------------------------------------------------------------------\n; This instrument acts as the foot switch controlling rotor speeds.\n;------------------------------------------------------------------------\n         instr 2\n\ngispeedi init   gispeedf    ;Save old speed\ngispeedf init   p4          ;update new speed\n\ngkenv    linseg gispeedi*.8,1,gispeedf*.8,.01,gispeedf*.8 ;High freq. rotor acceleration\ngkenvlow linseg gispeedi*.7,2,gispeedf*.7,.01,gispeedf*.7 ;Low freq. rotor acceleration\n\n         endin\n\n;------------------------------------------------------------------------\n; Tone Wheel Organ\n;------------------------------------------------------------------------\n         instr 3\n\ngaorgan  init  0                       ;Global send to speaker\n;iphase   init  p2                      ;Continuous phase change based on p2\nikey     init  12*int(p5-6)+100*(p5-6) ;Keyboard key pressed.\nifqc     init  cpspch(p5)              ;Convert to cycles/sec.\niwheel1  init  ((ikey-12) > 12 ? 1:2)  ;The lower 12 tone wheels have\niwheel2  init  ((ikey+7)  > 12 ? 1:2)  ;increased odd harmonic content.\niwheel3  init  (ikey      > 12 ? 1:2)\niwheel4  init  1                       \n  \n;------------------------------------------------------------------------\nkenv     linseg 0,.01,p4,p3-.02,p4,.01,0 ;Amplitude envelope.\n\n;------------------------------------------------------------------------\nasubfund oscil  gksubfund, .5*ifqc,      iwheel1, i(gkphase)/(ikey-12)  ;The organ tone is\nasub3rd  oscil  gksub3rd,  1.4983*ifqc,  iwheel2, i(gkphase)/(ikey+7)   ;made from adding\nafund    oscil  gkfund,    ifqc,         iwheel3, i(gkphase)/ikey       ;the weighted output\na2nd     oscil  gk2nd,     2*ifqc,       iwheel4, i(gkphase)/(ikey+12)  ;of 9 equal temperament\na3rd     oscil  gk3rd,     2.9966*ifqc,  iwheel4, i(gkphase)/(ikey+19)  ;tone wheels.\na4th     oscil  gk4th,     4*ifqc,       iwheel4, i(gkphase)/(ikey+24)\na5th     oscil  gk5th,     5.0397*ifqc,  iwheel4, i(gkphase)/(ikey+28)\na6th     oscil  gk6th,     5.9932*ifqc,  iwheel4, i(gkphase)/(ikey+31)\na8th     oscil  gk8th,     8*ifqc,       iwheel4, i(gkphase)/(ikey+36)\n\ngaorgan  =      gaorgan+kenv*(asubfund+asub3rd+afund+a2nd+a3rd+a4th+a5th+a6th+a8th)\n\n         endin\n\n;------------------------------------------------------------------------\n;Rotating Speaker\n;------------------------------------------------------------------------\n         instr  4\n\niofff     init   p4\nisep     init   p5             ;Phase separation between right and left\niradius  init   .00025         ;Radius of the rotating horn.\niradlow  init   .00035         ;Radius of the rotating scoop.\nideleng  init   .02            ;Length of delay line.\n\n;------------------------------------------------------------------------\nasig     =      gaorgan        ;Global input from organ\n\n;------------------------------------------------------------------------\nasig     =      asig/40000     ;Distortion effect using waveshaping.\naclip    tablei asig,5,1,.5    ;A lazy \"S\" curve, use table 6 for increased\naclip    =      aclip*16000    ;distortion.\n\n;------------------------------------------------------------------------\naleslie delayr  ideleng,1      ;Put \"clipped\" signal into a delay line.\n        delayw  aclip\n\n;------------------------------------------------------------------------\nkoscl   oscil   1,gkenv,1,iofff            ;Doppler effect is the result\nkoscr   oscil   1,gkenv,1,iofff+isep       ;of delay taps oscillating\nkdopl   =       ideleng/2-koscl*iradius   ;through the delay line.  Left\nkdopr   =       ideleng/2-koscr*iradius   ;and right are slightly out of phase\naleft   deltapi kdopl                     ;to simulate separation between ears\naright  deltapi kdopr                     ;or microphones\n\n;------------------------------------------------------------------------\nkoscllow  oscil   1,gkenvlow,1,iofff           ;Doppler effect for the\nkoscrlow  oscil   1,gkenvlow,1,iofff+isep      ;lower frequencies.\nkdopllow  =       ideleng/2-koscllow*iradlow\nkdoprlow  =       ideleng/2-koscrlow*iradlow\naleftlow  deltapi kdopllow\narightlow deltapi kdoprlow\n\n;------------------------------------------------------------------------\nalfhi     butterbp aleft,5000,4000     ;Divide the frequency into three\narfhi     butterbp aright,5000,4000    ;groups and modulate each with a\nalfmid    butterbp aleft,2000,1500     ;different width pulse to account\narfmid    butterbp aright,2000,1500    ;for different  dispersion\nalflow    butterlp aleftlow,500        ;of different frequencies.\narflow    butterlp arightlow,500\n\nkflohi    oscil    1,gkenv,3,iofff\nkfrohi    oscil    1,gkenv,3,iofff+isep\nkflomid   oscil    1,gkenv,4,iofff\nkfromid   oscil    1,gkenv,4,iofff+isep\n  \n;------------------------------------------------------------------------\n; Amplitude Effect on Lower Speaker\nkalosc    = koscllow*.4+1\nkarosc    = koscrlow*.4+1\n\n; Add all frequency ranges and output the result.\nouts alfhi*kflohi+2*alfmid*kflomid+alflow*kalosc, arfhi*kfrohi+2*arfmid*kfromid+arflow*karosc\n\ngaorgan = 0\n\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; TONE WHEEL ORGAN WITH ROTATING SPEAKER REV. 3\n; BY HANS MIKELSON 6/1/97 \n; ************************************************************************\n\n\n; GEN FUNCTIONS **********************************************************\n; SINE\nf1  0   8192  10   1 .02 .01\nf2  0   8192  10   1 0 .2 0 .1 0 .05 0 .02\n\n; ROTATING SPEAKER FILTER ENVELOPES\n; DEFLECTORS REMOVED\n;f3   0    1024   8  .2    440 .4 72 1 72 .4  440 .2\n;f4   0    1024   8  .4    320 .6 64 1 256 1   64  .6 320 .4\n; WITH DEFLECTORS\nf3   0    1024   8  .95 24 .85 24 1 24 .85 24 1 24 .85 248 .9  72 .8 72 1 72 .8  72 .9 248 .85 24 1 24 .85 24 1 24 .85 24 .95\nf4   0    1024   8  .95 48 .85 96 .75 240 .8 64 1 128 1 64 .8 240 .75 96 .85 48 .95\n\n; DISTORTION TABLES\n; SLIGHT DISTORTION\nf5 0 8192   8 -.8 336 -.78  800 -.7 5920 .7  800 .78 336 .8\n; HEAVY DISTORTION\n;f5 0 8192   8 -.8 336 -.76 3000 -.7 1520 .7 3000 .76 336 .8\n\n; CENTRAL SHAFT TABLE\nf7 0 256    7  0  256  1\n\n; Score ******************************************************************\n\nt 0 200\n\n;  TONE WHEEL ORGAN\n; INITIALIZES GLOBAL VARIABLES AND DRAWBARS.\n;       Speed SubFund Sub3rd Fund 2nd 3rd 4th 5th 6th 8th\ni1 0  1 1      8       8     8    8   3   2   1   0   4\ni1 17 1 1      8       4     8    3   1   1   0   .   3\n\n; ROTOR ORGAN CENTRAL SHAFT\n;   Start Dur Frqc\ni5  0     52  1\n\n; ROTATING SPEAKER START/STOP\n;ins  sta  dur  speed\ni2    0    6     1\ni2    +    6     10\ni2    .    12    1\ni2    .    6     10\ni2    35.7 6     1\n\n;  Start Dur   Amp   Pitch \ni3   0    6    200    8.04   \ni3   0    6    .      8.11\ni3   0    6    .      9.02\ni3   6    1    .      8.04\ni3   6    1    .      8.11\ni3   6    1    .      9.04\ni3   7    1    .      8.04\ni3   7    1    .      8.11\ni3   7    1    .      9.02\ni3   8    1    .      8.04\ni3   8    1    .      8.09\ni3   8    1    .      9.01\ni3   9    8    .      8.04\ni3   9    8    .      8.08\ni3   9    8    .      8.11\ni3   17   16   200   10.04\ni3   33     .2   200   10.02\ni3   33.1   .2   200   10.00\ni3   33.2   .2   200   9.11\ni3   33.3   .2   200   9.09\ni3   33.4   .2   200   9.07\ni3   33.5   .2   200   9.05\ni3   33.6   .2   200   9.04\ni3   33.7   .2   200   9.02\ni3   33.8   .2   200   9.00\ni3   33.9   .2   200   8.11\ni3   34.0   .2   200   8.09\ni3   34.1   .2   200   8.07\ni3   34.2   .2   200   8.05\ni3   34.3   .2   200   8.04\ni3   34.4   .2   200   8.02\ni3   34.5   .2   200   8.00\ni3   34.6   .2   200   7.11\ni3   34.7   .2   200   7.09\ni3   34.8   .2   200   7.07\ni3   34.9   .2   200   7.05\ni3   35.0   .2   200   7.04\ni3   35.1   .2   200   7.02\ni3   35.2   .2   200   7.00\ni3   35.3   .2   200   6.11\ni3   35.4   .2   200   6.09\ni3   35.5   .2   200   6.07\ni3   35.6   .2   200   6.05\ni3   35.7   16.3   200   6.04\n\n;   ROTATING SPEAKER\n;   Start  Dur  Offset  Sep\ni4    0    52.2  .5     .1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for gibpv\t=\t\t3 using FOF formant synthesis and oscillator and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fofrale.orc and fofrale.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\n\ngibpv\t=\t\t3\ngitpv\t=\t\t3\ngicpv\t=\t\t3\ngiapv\t=\t\t3\ngispv\t=\t\t3\n\t\ngibpn\t=\t\tcpspch( 6.00)\ngitpn\t=\t\tcpspch( 6.00)\ngicpn\t=\t\tcpspch( 7.00)\ngiapn\t=\t\tcpspch( 7.00)\ngispn\t=\t\tcpspch( 8.00)\nendin\n\ninstr 2\n\ninote\t=\t\tcpspch(p4)\np3\t\t=\t\tp3 + 1.7 * (1/inote)\n;p2\t\t=\t\tp2 + ktdev - .1\nidur\t\t=\t\tp3\niphase\t=\t\tp12\n\nif\tp5 == 2\t\tigoto\tpb\nif\tp5 == 5\t\tigoto\tpt\nif\tp5 == 8\t\tigoto\tpc\nif\tp5 == 11\t\tigoto\tpa\nif\tp5 == 14\t\tigoto\tps\npb:\n\tipvowel\t\t=\tgibpv\n\tipnote\t\t=\tgibpn\n\tgibpn\t\t=\tinote\n\tgibpv\t\t=\tp6\n\tiolaps\t\t=\t4\n\tigoto cont\npt:\n\tipvowel\t\t=\tgitpv\n\tipnote\t\t=\tgitpn\n\tgitpn\t\t=\tinote\n\tgitpv\t\t=\tp6\n\tiolaps\t\t=\t5\n\tigoto cont\npc:\n\tipvowel\t\t=\tgicpv\n\tipnote\t\t=\tgicpn\n\tgicpn\t\t=\tinote\n\tgicpv\t\t=\tp6\n\tiolaps\t\t=\t6\n\tigoto cont\npa:\n\tipvowel\t\t=\tgiapv\n\tipnote\t\t=\tgiapn\n\tgiapn\t\t=\tinote\n\tgiapv\t\t=\tp6\n\tiolaps\t\t=\t7\n\tigoto cont\nps:\n\tipvowel\t\t=\tgispv\n\tipnote\t\t=\tgispn\n\tgispn\t\t=\tinote\n\tgispv\t\t=\tp6\n\tiolaps\t\t=\t8\n\tigoto cont\n\ncont:\n\n\tindex\t\t=\t5 * p6\n\tipindex\t\t=\t5 * ipvowel\n\tidb\t\t\t=\t80\n\n\tiform1freq\ttable\tindex,p5,\t0\n\tiform1db\t\ttable\tindex,p5 + 1, 0\n\tiform1amp\t\t=\t\tampdb( idb + iform1db)\n\tiform1band\ttable\tindex,p5 + 2,\t0\n\t\n\tiform2freq\ttable\tindex + 1,p5, 0\n\tiform2db\t\ttable\tindex + 1,p5 + 1, 0\n\tiform2amp\t\t=\t\tampdb( idb + iform2db)\n\tiform2band\ttable\tindex + 1,p5 + 2,\t0\n\n\tiform3freq\ttable\tindex + 2,p5, 0\n\tiform3db\t\ttable\tindex + 2,p5 + 1, 0\n\tiform3amp\t\t=\t\tampdb( idb + iform3db)\n\tiform3band\ttable\tindex + 2,p5 + 2, 0\n\n\tiform4freq\ttable\tindex + 3,p5, 0\n\tiform4db\t\ttable\tindex + 3,p5 + 1, 0\n\tiform4amp\t\t=\t\tampdb( idb + iform4db)\n\tiform4band\ttable\tindex + 3,p5 + 2, 0\n\n\tiform5freq\ttable\tindex + 4,p5, 0\n\tiform5db\t\ttable\tindex + 4,p5 + 1, 0\n\tiform5amp\t\t=\t\tampdb( idb + iform5db)\n\tiform5band\ttable\tindex + 4,p5 + 2, 0\n\n\tipform1\t\ttable\tipindex,\t\tp5,\t0\n\tipform2\t\ttable\tipindex + 1,\tp5,\t0\n\tipform3\t\ttable\tipindex + 2,\tp5,\t0\n\tipform4\t\ttable\tipindex + 3,\tp5,\t0\n\tipform5\t\ttable\tipindex + 4,\tp5,\t0\n\n\tipform1db\t\ttable\tipindex,\t\tp5 + 1,\t0\n\tipform2db\t\ttable\tipindex + 1,\tp5 + 1,\t0\n\tipform3db\t\ttable\tipindex + 2,\tp5 + 1,\t0\n\tipform4db\t\ttable\tipindex + 3,\tp5 + 1,\t0\n\tipform5db\t\ttable\tipindex + 4,\tp5 + 1,\t0\n\n\tipform1amp\t=\t\tampdb( idb + ipform1db)\n\tipform2amp\t=\t\tampdb( idb + ipform2db)\n\tipform3amp\t=\t\tampdb( idb + ipform3db)\n\tipform4amp\t=\t\tampdb( idb + ipform4db)\n\tipform5amp\t=\t\tampdb( idb + ipform5db)\n\nnumcrunch:\n\n;PITCH, VIBRATO AND AMPLITUDE CONTROLS\n\n\tkvibdepth\tlinseg\t0,\t1,\t1,\tp3 - 1,\t0\n\tkvib\t\toscil\t4 * inote / 100 * kvibdepth,\t5 ,\t1\n\n\tkrand1\trandi\t2 * inote / 100,\t14\n\tkrand2\trandi\t.6 * inote / 100,\t1.6\n\tkrand3\trandi\tinote / 100,\t125\n\tkrand\t=\t\tkrand1 + krand2 + krand3 - 1.8\n\tkfund\t=\t\tkvib + krand\n\n\tkenv\t\tlinseg \tp7, p9, 1, (p3 - 2 * p9), 1, p9, p8\n\tkrand3\trandi  \t.2, 4\n\tkrand3\tport\t\tkrand3,\t2\n\tkamp\t\t=\t\tkenv ;+ krand3 - .1\n\n\tknote\texpseg\tipnote, p11, inote,\t(p3 - p11), inote\n\tkpitch\t=\t\tknote + kfund\n\t\n;/LA/ FORMANT FUNCTION GENERATORS\n\n\tif\tp13\t== \t0\tgoto norms\n\t\n\tit\t\t=\tp9\n\tipform1\t=\t220\t\t\t;/l/ Formants\n\tipform2\t=\t1300\n\tipnote\t=\tinote\n\n;FORMANT FUNCTION GENERATORS\n\nnorms:\n\n\tit\t\t=\t2 * p9\n\n\tkform1\t\tlinseg\tipform1, it, iform1freq, p3 - it,\tiform1freq\n\tkform2\t\tlinseg\tipform2, it, iform2freq, p3 - it,\tiform2freq\n\tkform3\t\tlinseg\tipform3, it, iform3freq, p3 - it,\tiform3freq\n\tkform4\t\tlinseg\tipform4, it, iform4freq, p3 - it,\tiform4freq\n\tkform5\t\tlinseg\tipform5, it, iform5freq, p3 - it,\tiform5freq\n\n\n;AMPLITUDE SMOOTHING LINES\n\n\tkform1amp\t\tlinseg\tipform1amp, it, iform1amp, p3 - it, iform1amp\n\tkform2amp\t\tlinseg\tipform2amp, it, iform2amp, p3 - it, iform2amp\n\tkform3amp\t\tlinseg\tipform3amp, it, iform3amp, p3 - it, iform3amp\n\tkform4amp\t\tlinseg\tipform4amp, it, iform4amp, p3 - it, iform4amp\n\tkform5amp\t\tlinseg\tipform5amp, it, iform5amp, p3 - it, iform5amp\n\n;FORMANTS\nforms:\n\n\taform1 \t\tfof kform1amp * kamp, kpitch, kform1,\t1,  iform1band, .003, .01, .007, iolaps, 1, 1, idur, iphase\n\taform2 \t\tfof kform2amp * kamp, kpitch, kform2,\t1,  iform2band, .003, .01, .007, iolaps, 1, 1, idur, iphase\n\taform3 \t\tfof kform3amp * kamp, kpitch, kform3,\t1,  iform3band, .003, .01, .007, iolaps, 1, 1, idur, iphase\n\taform4 \t\tfof kform4amp * kamp, kpitch, kform4,\t1,  iform4band, .003, .01, .007, iolaps, 1, 1, idur, iphase\n\taform5 \t\tfof kform5amp * kamp, kpitch, kform5,\t1,  iform5band, .003, .01, .007, iolaps, 1, 1, idur, iphase\n\n;SUMMATION OF FORMANTS AND OUTPUT\n\n\tavx\t\t=\t(aform1 + aform2 + aform3  + aform4 + aform5) / p10\n\t\t \tout\tavx\n\t\t\tendin\n\n</CsInstruments>\n<CsScore>\nf01\t0\t512\t10\t1\nf02\t0\t32\t-2\t600 1040 2250 2450 2750 400 1620 2400 2800 3100 250 1750 2600 3050 3340 400 750 2400 2600 2900 350 600 2400 2675 2950\nf03\t0\t32\t-2\t0 -7 -9 -9 -20 0 -12 -9 -12 -18 0 -30 -16 -22 -28 0 -11 -21 -20 -40 0 -20 -32 -28 -36\nf04\t0\t32\t-2\t60 70 110 120 130 40 80 100 120 120 60 90 100 120 120 40 80 100 120 120 40 80 100 120 120 \nf05\t0\t32\t-2\t650 1080 2650 2900 3250 400 1700 2600 3200 3580 290 1870 2800 3250 3540 400 800 2600 2800 3000 650 600 2700 2900 3300\nf06\t0\t32\t-2\t0 -6 -7 -8 -22 0 -14 -12 -14 -20 0 -15 -18 -20 -30 0 -10 -12 -12 -26 0 -20 -17 -14 -16\nf07\t0\t32\t-2\t80 90 120 130 140 70 80 100 120 120 40 90 100 120 120 40 80 100 120 120 40 60 100 120 120 \nf08\t0\t32\t-2\t660 1120 2750 3000 3350 440 1800 2700 3000 3300 270 1850 2900 3350 3590 430 820 2700 3000 3300 370 630 2750 3000 3400\nf09\t0\t32\t-2\t0 -6 -23 -24 -38 0 -14 -18 -20 -20 0 -24 -24 -36 -36 0 -10 -26 -22 -34 0 -20 -23 -30 -34\nf10\t0\t32\t-2\t80 90 120 130 140 70 80 100 120 120 40 90 100 120 120 40 80 100 120 120 40 60 100 120 120 \nf11\t0\t32\t-2\t800 1150 2800 3500 4950 400 1600 2700 3300 4950 350 1700 2700 3700 4950 450 800 2830 3500 4950 325 700 2530 3500 4950\nf12\t0\t32\t-2\t0 -4 -20 -36 -60 0 -24 -30 -35 -60 0 -20 -30 -36 -60 0 -9 -16 -28 -55 0 -12 -30 -40 -64\nf13\t0\t32\t-2\t80 90 120 130 140 60 80 120 150 200 50 100 120 150 200 70 80 100 130 135 50 60 170 180 200\nf14\t0\t32\t-2\t800 1150 2900 3900 4950 350 2000 2800 3600 4950 270 2140 2950 3900 4950 450 800 2830 3800 4950 325 700 2700 3800 4850\nf15\t0\t32\t-2\t0 -6 -32 -20 -50 0 -20 -15 -40 -56 0 -12 -26 -26 -44 -0 -11 -22 -22 -50 0 -16 -35 -40 -60\nf16\t0\t32\t-2\t80 90 120 130 140 60 100 120 150 200 60 90 100 120 120 70 80 100 130 135 50 60 170 180 200\n\nt\t0\t200\n\ni1\t0\t1\n; 2 5 8 11 14\n\n; PART 1 COUNTERTENOR\n;=======================================================================================\n;\t\t\tnote\tvoice\tvowel\tstamp\tendamp\tchtime\tnorm    portime iphase\t/l/\n;=======================================================================================\ni2\t0\t1\t7.07\t8\t\t0\t\t.8\t\t0\t\t.08\t\t1\t\t.1\t\t0\t\t0\ni2\t+\t1\t7.07\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t1\ni2\t+\t1\t7.04\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t4\t7.09\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t4\t7.07\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ne\ni2\t+\t6\t7.07\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t2\t7.05\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t8\t7.04\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t4\t7.05\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t4\t7.09\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t8\t7.07\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t6\t7.05\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t1\t7.07\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t1\t7.05\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t8\t7.04\t.\t\t.\t\t.\t\t0\t\t.\t\t.\t\t.\t\t.\t\t.\n\n;PART 2 TENOR\n;=======================================================================================\n;\t\t\tnote\tvoice\tvowel\tstamp\tendamp\tchtime\tnorm    portime iphase\t/l/\n;=======================================================================================\ni2\t2\t2\t7.04\t5\t\t3\t\t0\t\t.7\t\t.3\t\t3\t\t.1\t\t128\t\t0\ni2\t+\t4\t7.04\t.\t\t.\t\t.7\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t4\t7.00\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t4\t7.05\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t4\t7.04\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t2\t7.02\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t2\t6.11\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t2\t7.00\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t2\t7.02\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t8\t7.00\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t4\t7.02\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t4\t7.05\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t4\t7.05\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t4\t7.04\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t6\t7.02\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t2\t7.02\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t8\t7.00\t.\t\t.\t\t.\t\t0\t\t.\t\t.\t\t.\t\t.\t\t.\n\n;PART 3 BASS\n;=======================================================================================\n;\t\t\tnote\tvoice\tvowel\tstamp\tendamp\tchtime\tnorm    portime iphase\t/l/\n;=======================================================================================\ni2\t6\t2\t6.07\t2\t\t0\t\t0\t\t.8\t\t.3\t\t3.5\t\t.1\t\t200\t\t0\ni2\t+\t2\t7.00\t.\t\t.\t\t.8\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t2\t6.10\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t2\t6.09\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t2\t6.11\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t2\t7.00\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t1\t7.02\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t1\t7.00\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t2\t6.11\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t2\t6.07\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t2\t6.09\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t2\t6.11\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t2\t7.00\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t2\t6.07\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t2\t7.00\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t2\t6.10\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t6\t6.09\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t1\t7.02\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t1\t7.00\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t2\t6.11\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t2\t6.07\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t8\t7.00\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t4\t6.11\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\t\t.\ni2\t+\t8\t7.00\t.\t\t.\t\t.\t\t0\t\t.\t\t.\t\t.\t\t.\t\t.\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for p4\t = amplitude of output wave using FM synthesis and oscillator and interpolating oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FmChowningA.orc and FmChowningA.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t1\n\n\n\t\tinstr 1\n; p4\t = amplitude of output wave\n; p5\t = carrier frequency in Hz\n; p6\t = modulating frequency in Hz\n; p7\t = modulation index 1\n; p8\t = modulation index 2\n; p9\t = carrier envelope function\n; p10 = modulator envelope function\n\ni1\t\t=\t\t1/p3\t\t\t\t\t; ONE CYCLE PER DURATION OF NOTE\ni2\t\t=\t\tp7 * p6\t\t\t\t; CALCULATES DEVIATION FOR INDEX 1\ni3\t\t=\t\t(p8-p7) * p6\t\t\t; CALCULATES DEVIATION FOR INDEX 2\n\t\t\t\t\t\t\t\t\t\nampcar\toscil\tp4,i1,p9\t\t\t\t; AMP ENVELOPE FOR THE CARRIER\nampmod\toscil\ti3,i1,p10\t\t\t\t; AMP ENVELOPE FOR THE MODULATOR\n\t\t\namod\t\toscili\tampmod+i2,p6,1\t\t\t; MODULATING OSCILLATOR\nasig\t\toscili\tampcar,p5+amod,1\t\t; CARRIER OSCILLATOR\n\t\tout\t\tasig\n\t\tendin\n\n; DOUBLE CARRIER FM\n\t\tinstr 2\n; p4\t = amplitude of output wave\n; p5\t = carrier frequency specified in Hz\n; p6\t = modulating frequency specified in Hz\n; p7\t = modulation index 1\n; p8\t = modulation index 2\n; p9\t = carrier envelope function\n; p10 = modulator envelope function\n; p11 = amplitude scaler for second carrier\n; p12 = modulation index scaler for second carrier\n; p13 = frequency of second carrier specified in Hz\n\t\t\t\t\t\ni1\t\t=\t\t1/p3\t\t\t\t\t; ONE CYCLE PER DURATION OF NOTE\ni2\t\t=\t\tp7 * p6\t\t\t\t; CALCULATES DEVIATION FOR INDEX 1\ni3\t\t=\t\t(p8-p7) * p6\t\t\t; CALCULATES DEVIATION FOR INDEX 2\n\nampcar\toscil\tp4,i1,p9\t\t\t\t; AMP ENV FOR THE CARRIER\nampmod\toscil\ti3,i1,p10\t\t\t\t; AMP ENV FOR THE MODULATOR\n\namod\t\toscili\tampmod+i2,p6,1\t\t\t; MODULATING OSC\t\t\nasig1\toscili\tampcar,p5+amod,1\t\t; CARRIER OSC\nasig2\toscili\tampcar*p11,p13+(amod*p12),1  ; SECOND CARRIER\t \n\t\tout\t\tasig1+asig2\n\t\tendin\n\n; CHOWNING'S FM SOPRANO INSTRUMENT\n\t\tinstr   3\n;**********************initialization...\niamp\t   \t=\t\tp6\t\t\t\t\t; RANGE 0 < AMP < 1\nifenvfn \t=\t    \tp7\niportfn \t=\t    \tp8\nifmtfn1 \t=\t    \tp9\nifmtfn2 \t=\t    \tp10\nifmtfn3 \t=\t    \tp11\nifundfn \t=\t    \tp12\nirange\t=\t    \t3\t\t\t\t \t; MAX RANGE OF 3 OCTAVES\nibase\t=\t    \toctpch(7.07)\t\t\t; LOWEST NOTE = g3\nicaroct \t=\t    \toctpch(p5)\nicarhz\t=\t    \tcpspch(p5)\nipoint\t=\t    \t(icaroct-ibase)/irange*511.999\n\nifmthz\ttable   \tipoint,ifmtfn1\t\t    \t; RELATIVE POS. OF FORMANT\nifmthz\t=\t    \tifmthz*3000\t\t   \t; MAP ONTO FREQUENCY RANGE\nifmthz\t=\t    \tint(ifmthz/icarhz+.5)*icarhz ; AS NEAREST HARMONIC\n\nifmtfac \ttable   \tipoint,ifmtfn2\t\t    \t; RELATIVE AMP. OF FORMANT\nifmtfac \t=\t    \tifmtfac*.1\t\t\t; MAX VALUE = .1\nifndfac \t=\t\t1-ifmtfac\t\t\t\t; RELATIVE AMP. OF FUND\n\nifmtndx \ttable   \tipoint,ifmtfn3\t\t   \t; RELATIVE INDEX OF FORMANT\nifmtndx \t=\t    \tifmtndx*5\t\t\t   \t; MAX VALUE = 5\n\nifndndx \ttable   \tipoint,ifundfn\t\t   \t; RELATIVE INDEX OF FUND\nifndndx \t=\t    \tifndndx*.25\t\t   \t; MAX VALUE = .25\n\nifndamp \t=\t    \tifndfac * sqrt(iamp)\t; AMP**.5 \nifmtamp \t=\t    \tifmtfac * iamp * sqrt(iamp)\t; AMP**1.5\n\nimodhz\t=\t    \ticarhz\t\t\t   \t; CALCULATE MODULATOR AND\nipkdev1 \t=\t    \tifndndx*imodhz\t\t   \t; PEAK DEVIATION\n\n; COMPUTE VIBRATO PARAMETERS:\nilog2pch \t=\t    \tlog(icarhz)/log(2)\t   \nivibwth  \t=\t    \t.002*ilog2pch\t\t   \t; RELATE WIDTH TO FUND PCH\nivibhz\t=\t    \t5\t\t\t\t   \t; FROM 5 TO 6.5 Hz AVERAGE\nirandhz  \t=\t    \t125\t\t\t\t   \t; FROM MORRILL TRUMPET DESIGN\niportdev \t=\t    \t.05\t\t\t\t   \t;  \"\t \"\t    \"\t \"\n\n;************************* performance...\n; VIBRATO\nkrand\trandi   \tivibwth,irandhz\nkvibwth \tlinen   \tivibwth,.6,p3,.1\t   \t; GATE VIBRATO WIDTH\nkport\toscil1  \t0,iportdev,.2,iportfn   \t; INITIAL PORTAMENTO\nkvib\t \toscili  \tkvibwth,ivibhz,1\t   \t; fn1 = SINE\nkv\t \t=\t   \t1+kvib+kport+krand\t   \t; VIBRATO FACTOR ALWAYS CA 1\n; FM\nadev1\toscili  \tipkdev1,imodhz*kv,1\t   \t; MODULATOR\nadev2\t=\t    \tadev1*ifmtndx/ifndndx   \t; RESCALE FOR FORMANT CARRIER\nafundhz \t=\t    \t(icarhz+adev1)*kv\t   \t; VIB THE MODULATED FUND...\naformhz \t=\t    \t(ifmthz+adev2)*kv\t   \t; ...AND MODULATED FORMANT\n\nafund\tlinen   \tifndamp,.1,p3,.08\nafund\toscili  \tafund,afundhz,1\naform\tenvlpx  \tifmtamp,.1,p3,.08,ifenvfn,1,.01  \naform\toscili  \taform,aformhz,1\n\nasig\t \t=\t    (afund+aform)*p4\t   \t; SCALE TO PEAK AMP HERE\n\t\tout\t  \tasig\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n        ; Sine Wave\nf1 0 1024 9 1 1 0\n\n        ; ADSR Trumpet Envelope  - fig 1.11\nf2 0 513 7 0 85.33 1 85.33 .75 85.33 .65  170.66 .50  85.33 0\n\n        ; AR Woodwind Envelope for Carrier - fig 1.12\nf3 0 513 7 0 100 1 392 .9 20 0\n\n        ; Gated Woodwind Envelope for Modulator - fig 1.13\nf4 0 513 7 0 100 1 412 1\n\n        ; Exponential decaying envelope for bell-like timbres.\nf5 0 513 5 1 512 .001\n\n        ; Modification of Exponential envelope for drumlike sounds\nf6 0 513 5 .7 16 .8 48 1 64 .8 128 .2 256 .001\n\n        ; Modulator envelope for wood-drum sounds\nf7 0 513 7 0 12 1 52 0 460 0\n\n\n        ; f0 statement is used to extend the section's duration\n        ; empty pfields will carry the value from above\n        ; the + symbol in p2 will give the value of p2+p3 from the  \n        ; previous note\n\n\n;  st  dur  amp     carFreq modFreq Index1  Index2  CarEG   ModEg\n\n        ; Brass Timbre\nf0 5\ni1 0   .6   10000   440     440     0       5       2       2\ni. +\ni1 2   .    .       220     220\ni. +\ns\n        ; Woodwind Timbre\nf0 5\ni1 0   .5   10000   900     300     0       2       3       4\ni. +\ni1 1.5 .    .       300     100\ni. +\ns\n        ; Bassoon Timbre\nf0 5\ni1 0   .5   10000   500     100     0       1.5     3       4\ni. +\ni1 1.5 .    .       1000    200\ni. +\ns\n        ; Reed Timbre\nf0 5\ni1 0   .5   10000   900     600     4       2       3       4\ni. +\ni1 1.5 .    .       300     200\ni. +\ns\n        ; Bell Timbre\nf0 12\ni1 0    10  10000   200     280     0       10      5       5\ns\n        ; Drum Timbre\nf0 4\ni1 0   .2   10000   80      55      0       25      6       6\ni. +\ni. +\ni. +\ni1 1   .2   10000   160     110\ni. +\ni. +\ni. +\ns\n        ; Wood-drum Timbre\nf0 4\ni1 0   .2   10000   80      55      0       25      6       7\ni. +\ni. +\ni. +\ni1 1   .2   10000   160     110\ni. +\ni. +\ni. +\ns\n        ; Double-carrier Instrument\n        ; Amplitude of 2100Hz formant increases\n\n;  st dur C1amp C1frq Mfrq Indx1 Indx2 Cenv Menv C2amp C2indx C2frq\n\nf0 8\ni2 0  .6  10000 300   300  1     3     2    4    .2    .5     2100\ni. +\ni. +  .   .     .     .    .     .     .    .    .4\ni. +\ni. +  .   .     .     .    .     .     .    .    .6\ni. +\ni. +  .   .     .     .    .     .     .    .    .8\ni. +\ni. +  .   .     .     .    .     .     .    .    1\ni. +\ns\n        ; Double-carrier Instrument\n        ; Bandwidth of 2100Hz formant increases\n\n;  st dur C1amp C1frq Mfrq Indx1 Indx2 Cenv Menv C2amp C2indx C2frq\n\nf0 8\ni2 0  .6  10000 300   300  1     3     2    4    .5    .2     2100\ni. +\ni. +  .   .     .     .    .     .     .    .    .     .3\ni. +\ni. +  .   .     .     .    .     .     .    .    .     .5\ni. +\ni. +  .   .     .     .    .     .     .    .    .     .7\ni. +\ni. +  .   .     .     .    .     .     .    .    .     .9\ni. +\ns\n        ; Double-carrier Instrument\n        ; Frequency of formant changes\n\n;  st dur C1amp C1frq Mfrq Indx1 Indx2 Cenv Menv C2amp C2indx C2frq\n\ni2 0  .6  10000 150   150  1     3     2    4    .5    .5     600\ni. +\ni. +  .   .     .     .    .     .     .    .    .     .      1200\ni. +\ni. +  .   .     .     .    .     .     .    .    .     .      1800\ni. +\ni. +  .   .     .     .    .     .     .    .    .     .      2100\ni. +\ni. +  .   .     .     .    .     .     .    .    .     .      2400\ni. +\ni. +  .   .     .     .    .     .     .    .    .     .      2700\ni. +\ni. +  .   .     .     .    .     .     .    .    .     .      3000\ni. +\ni. +  .   .     .     .    .     .     .    .    .     .      3300\ni. +\ni. +  .   .     .     .    .     .     .    .    .     .      3600\ni. +\ns\n\nf0 2\n\ns\n\n    ; test score for chowning soprano instrument\n\nf01        0   512    10     1\n; fmt amplitude rise function\nf02        0   513     7     0   256    .2   256     1\n; portamento function\nf03        0   513     7    -1   200     1   100     0   212     0\n; fmt freq lookup function\nf04        0   513     7     1    80     1   200    .9   200    .6    32    .6\n; fmt amplitude factor lookup function\nf05        0   513     7    .4   100    .2   412     1\n; index 1 lookup function\nf06        0   513     7     1   100     1   112    .4   300   .15\n; index 2 lookup function\nf07        0   513     7     1   100    .5    80   .25   132    .5   100    .7\n   100    .4\n\n; play some notes\n; p4 = amp; p5 = fund; p6 = 0 < ampfac < 1; p7 = fmt env func\n; p8 = port func; p9 = fmt hz func; p10 = fmt amp func; p11, 12 = i1,i2 fns\n\ni3    0 1 20000  7.07    .5 2     3     4     5 6     7\ni3    1 .     .  8.04\ni3    2 .     .  9.01\ni3    3 .     .  9.10\ni3    4 2     . 10.07\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for bassguitarpastorioso: using oscillator and buzz/pulse generator and Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from band.orc and band.sco\n; Original files preserved in same directory\n\nsr        =    44100\nkr        =    4410\nksmps     =    10\nnchnls    =    1\n\n\n; BAND\n          \n          instr 1\n          bassguitarpastorioso:\n\nkamp      line      8000,p3,5500\na1        oscil     kamp,cpspch(p4),1\na2        buzz      kamp,cpspch(p4),6,1\na3        pluck     kamp,cpspch(p4),440,0,1\n          out       a1+a2+a3\n          endin\n\n          \n          instr 2\nflutenpoopensker:\n\na1        oscil     10000,cpspch(p4),2\n          out       a1\n          endin\n\n\n          instr 3\nglockenschpeeel1:\n\nkamp      line      3000,p3,500\na1        oscil     kamp,cpspch(p4),1\na2        buzz      kamp*.81,cpspch(p4),8,1\na3        pluck     kamp,cpspch(p4),880,0,3,.5\n          out       a1+a2+a3\n          endin\n\n\n          instr 4\nglockenklinkinzerklanker2:\n\nkamp      line      4000,p3,500\na1        oscil     kamp,cpspch(p4),3\na2        buzz      kamp,cpspch(p4),6,3\na3        pluck     kamp,cpspch(p4),660,0,1\n          out       a1+a2+a3\n          endin\n\n          instr 5\nsnareonabadhairday:\nitablesize =        6\nkindx     phasor    p5*p6\nkpch      table     kindx*itablesize,4\nkamp      line      10000,p3,1100\na1        pluck     kamp*1.5,cpspch(kpch),p4,0,1\n          out       a1\n          endin\n\n\n</CsInstruments>\n<CsScore>\n;sco\nf1 0 8192 10 1\nf2 0 512 10 -1\nf3 0 256 10  1\nf4 0 8192 2 6.00 6.05 7.00 7.05 8.00 8.05\nt    0    70\ni1 0 .12   6.00\ni1 .13 .12 6.03\ni1 .26 .15 6.00\ni1 .42 .12 6.05\ni1 .55 .15 6.00\ni1 .71 .12 6.07\ni1 .84 .15 6.00\ni1 1   .12 6.09\ni1 1.13 .15 6.11\ni1 1.29 .12 6.00\ni1 1.41 .12 5.03\ni1 1.54 .12 6.00\ni1 1.67 .12 5.05\ni1 1.80 .12 6.00 \ni1 1.93 .12 5.07\ni1 2.05 .12 6.00\ni1 2.18 .12 5.09\ni1 2.30 .12 6.00\ni1 2.42 .12 5.11\ni1 2.55 .12 6.00\ni1 2.67 .24 6.00\ni1 2.92 .24 6.00 \ni1 3  0.12   6.00\ni1 3.13 .12 6.03\ni1 3.26 .15 6.00\ni1 3.42 .12 6.05\ni1 3.55 .15 6.00\ni1 3.71 .12 6.07\ni1 3.84 .15 6.00\ni1 4   .12 6.09\ni1 4.13 .15 6.11\ni1 4.29 .12 6.00\ni1 4.41 .12 5.03\ni1 4.54 .12 6.00\ni1 4.67 .12 5.05\ni1 4.80 .12 6.00 \ni1 4.93 .12 5.07\ni1 5.05 .12 6.00\ni1 5.18 .12 5.09\ni1 5.30 .12 6.00\ni1 5.42 .12 5.11\ni1 5.55 .12 6.00\ni1 5.67 .33 6.00\ni2 0    .48 9.00\ni2 .49  .96 9.03\ni2 1.46 .48 9.00\ni2 1.95 .97 9.03\ni2 3    .48 9.00\ni2 3.49 .96 9.03\ni2 4.46 .48 9.00\ni2 5    1   9.00\ni3 0    .24 10.00\ni3 .25  .24 11.03\ni3 .50  .24 10.07\ni3 .75  .24 10.00\ni3 1    .24 10.03\ni3 1.25 .24 11.03\ni3 1.50 .24 10.07\ni3 1.75 .24 10.00\ni3 2    .24 10.07\ni3 2.25 .24 11.03\ni3 2.50 .24 10.07\ni3 2.75 .24 10.00\ni3 3    .24 10.05\ni3 3.25 .24 11.03\ni3 3.50 .24 10.07\ni3 3.75 .24 10.00\ni3 4    .24 10.09\ni3 4.25 .24 11.03\ni3 4.50 .24 10.07\ni3 4.75 .24 10.00\ni3 5    .24 10.11\ni3 5.25 .24 11.03\ni3 5.50 .24 10.07\ni3 5.75 .24 10.00\ni4 0   .18  11.00\ni4 .19 .18  10.09\ni4 .38 .18  10.07\ni4 .57 .18  10.05\ni4 .76 .24  10.03\ni4 1   .18  10.00\ni4 1.19 .18  10.03\ni4 1.38 .18  10.05\ni4 1.57 .18  10.07\ni4 1.76 .24  10.09\ni4 2   .18  11.00\ni4 2.19 .18  10.09\ni4 2.38 .18  10.07\ni4 2.57 .18  10.05\ni4 2.76 .24  10.03\ni4 3   .18  10.00\ni4 3.19 .18  10.07\ni4 3.38 .18  10.07\ni4 3.57 .18  10.05\ni4 3.76 .24  10.05\ni4 4   .18  10.00\ni4 4.19 .18  10.01\ni4 4.38 .18  10.07\ni4 4.57 .18  10.05\ni4 4.76 .24  10.03\ni4 5   .18  11.00\ni4 5.19 .18  10.09\ni4 5.38 .18  10.07\ni4 5.57 .18  10.05\ni4 5.76 .24  10.03\ni5 0    1.5  6.00   4   1\ni5 1.51 1.5  7.00   4  .97\ni5 3    1.5  8.00   6  .95\ni5 4.51 1.5  7.00   8  .89\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipitch         =         cpspch(p4) using oscillator and linear segments and exponential segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pwm2.orc and pwm2.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; COPYRIGHT 1998 PAUL M. WINKLER, ZARMZARM@EROLS.COM\n; LAST MODIFIED: MON DEC 14 03:52:13 1998\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n                    \n\ngkLFO          init      0\ngkamp          init      0\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; WE SIMULATE A SQUARE WAVE BY OVERDRIVING A TABLE INDEX, \n; AND SIMULATE PWM BY VARYING AN OFFSET TO THE INDEX.\n; ALIASING IS REDUCED BY MAKING THE AMOUNT OF OVERDRIVE \n; INVERSELY PROPORTIONAL TO PITCH.\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n               instr 5\nipitch         =         cpspch(p4)\nianti_alias    =         10                            ; RECOMMENDED RANGE IS 4 TO ABOUT 30\nisquareness    =         sr/(ipitch * ianti_alias) \n\n; INFINITE isquareness YIELDS A SQUARE WAVE \n; isquareness < 1  YIELDS A SINE\n\nknarrowness    =         gkLFO * isquareness\naindex         oscil     isquareness, ipitch, 1        ; SINE WAVE INDEX\naindex         =         aindex + knarrowness\naout           table     aindex, 5, 1, 0               ; f5 SHOULD BE STRAIGHT LINE +- 1\naout           dcblock   aout\nkamp           adsr     .01, .02, .5, .2\nkamp           =         kamp*32000*gkamp\n               out       aout*kamp\n               endin\n\n               instr 98                                ; GLOBAL FADES - P4 IS RISE AND DECAY TIME\ngkamp          expseg    0.005, p4, 1, (p3 - (p4 * 2)), 1, p4, 0.005\n               endin\n\n               instr 99                                ; GLOBAL LFO\nklfo           linseg    p4, p3, p5                    ; RAMP FROM P4 TO P5\ngkLFO          oscil     0.5, klfo, 1                  ; USE F1\ngkLFO          =         gkLFO + 0.5                   ; RANGE FROM 0 TO 1\n               endin\n\n</CsInstruments>\n<CsScore>\nt  0 120\n\n; LFO WAVE SHAPE ... IT'S WEIGHTED TOWARD THE TOP\n; I SHOULD FIGURE OUT HOW TO MAKE THE MODULATION RESPOND\n; BETTER TO A LINEAR CONTROL SIGNAL! \n\nf1 0 512  7  1 128 .5 128 -1 128 .5 128 1\n\n; STRAIGHT LINE FOR INSTR 5\n\nf5 0 512 -7 -1 512 1 \n\n; SET UP LFO AND FADES\n\ni 98 0 32 1.0 \ni 99 0 32 0.3 .6 \n\n; BASS_1, TRACK 0, NOW AT 0\n\ni 5 0.0 0.5 6.00 \ni 5 0.5 0.5 6.01 \ni 5 1.0 0.5 6.02 \ni 5 1.5 0.5 7.00 \ni 5 2.0 0.5 6.00 \ni 5 2.5 0.5 7.00 \ni 5 3.0 0.5 6.01 \ni 5 3.5 0.5 6.02 \ni 5 4.0 0.5 6.05 \ni 5 4.5 0.5 6.00 \ni 5 5.0 0.5 5.09 \ni 5 5.5 0.5 6.02 \ni 5 6.0 0.5 6.05 \ni 5 6.5 0.5 6.04 \ni 5 7.0 0.5 6.03 \ni 5 7.5 0.5 6.00 \n\n; BASS_1, TRACK 0, NOW AT 8\n\ni 5  8.0 0.5 8.0 \ni 5  8.5 0.5 8.01 \ni 5  9.0 0.5 8.02 \ni 5  9.5 0.5 9.0 \ni 5 10.0 0.5 8 \ni 5 10.5 0.5 9 \ni 5 11.0 0.5 8.01 \ni 5 11.5 0.5 8.02 \ni 5 12.0 0.5 8.05 \ni 5 12.5 0.5 8 \ni 5 13.0 0.5 7.09 \ni 5 13.5 0.5 8.02 \ni 5 14.0 0.5 8.05 \ni 5 14.5 0.5 8.04 \ni 5 15.0 0.5 8.03 \ni 5 15.5 0.5 8 \n\n; BASS_1, TRACK 0, NOW AT 16\n\ni 5 16.0 0.5 5 \ni 5 16.5 0.5 5.01 \ni 5 17.0 0.5 5.02 \ni 5 17.5 0.5 6 \ni 5 18.0 0.5 5 \ni 5 18.5 0.5 6 \ni 5 19.0 0.5 5.01 \ni 5 19.5 0.5 5.02 \ni 5 20.0 0.5 5.05 \ni 5 20.5 0.5 5 \ni 5 21.0 0.5 4.09 \ni 5 21.5 0.5 5.02 \ni 5 22.0 0.5 5.05 \ni 5 22.5 0.5 5.04 \ni 5 23.0 0.5 5.03 \ni 5 23.5 0.5 5 \n\n; BASS_1, TRACK 0, NOW AT 24\n\ni 5 24.0 0.5 11 \ni 5 24.5 0.5 11.01 \ni 5 25.0 0.5 11.02 \ni 5 25.5 0.5 12 \ni 5 26.0 0.5 11 \ni 5 26.5 0.5 12 \ni 5 27.0 0.5 11.01 \ni 5 27.5 0.5 11.02 \ni 5 28.0 0.5 11.05 \ni 5 28.5 0.5 11 \ni 5 29.0 0.5 10.09 \ni 5 29.5 0.5 11.02 \ni 5 30.0 0.5 11.05 \ni 5 30.5 0.5 11.04 \ni 5 31.0 0.5 11.03 \ni 5 31.5 0.5 11 \n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a newscramble sound using panning and linear segments and disk streaming", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from newscramble.orc and newscramble.sco\n; Original files preserved in same directory\n\nsr     =       44100\nkr     =       4410\nksmps  =       10\nnchnls =       2\n\n; Orchestra\n; Scrambler by Hans Mikelson\n\n; Select random sections from a file and loop them a few times.\n\n       instr   1\n\nirlps  =       p4                ; Max random loops\nirdr1  =       p5                ; Max random duration\nirdr2  =       p6                ; Minimum duration\niroff  =       p7                ; Max random offset\nipanl  =       sqrt(p8)          ; Pan left\nipanr  =       sqrt(1-p8)        ; or right\n\nidur    =      rnd(irdr1)+irdr2  ; Initial random duration\nioffs   =      rnd(iroff)        ; Initial random offset\ninloops =      rnd(irlps)        ; Initial random loops\n\nicount  =      0                 ; Count starts at zero\n\nkdclk   linseg  0, .002, 1, p3-.004, 1, .002, 0 ; Overall declick\n\nloop:                                              ; Reinit loop here\n  kaenv  linseg  0, .002, 1, idur-.004, 1, .002, 0 ; Segment declick\n  asig   diskin  \"allofme.aif\", 1, ioffs           ; Read in the sound\n  aout   =       asig*kaenv                        ; Declick the segment\n\n  timout 0, idur, cont1                            ; If time isn't up goto cont1\n    icount = icount + 1                            ; Count number of segments\n    if (icount<=inloops) igoto next                ; if (Count>NLoops) then\n       icount  = 0                                 ;   Reset count to zero\n       inloops = rnd(irlps)                        ;   Get next random loops\n       idur    = rnd(irdr1)+irdr2                  ;   Get next random duration\n       ioffs   = rnd(iroff)                        ;   Get next random offset\nnext:                                              ; Endif\n\n  reinit loop                                      ; Reinit up to loop\n\ncont1:                                             ; Arrive here before timeout\n\n       outs    aout*kdclk*ipanl, aout*kdclk*ipanr  ; Overall declick, pan and output\n\n       endin\n\n</CsInstruments>\n<CsScore>\n\n\n; Score\n;   Sta  Dur  Loops  Dur  Dur2  Offs  Pan\ni1  0    16   16     .1   .02   2     1\ni1  0    16   16     .1   .02   2     0\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for AMPLITUDE ENVELOPE using panning and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from orbit.orc and orbit.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n;***************************************************************** \n; Orchestra\n; Planetary Orbit Instrument\n; Coded: 3/6/97 by Hans Mikelson\n;***************************************************************** \n\n\n          instr 1\n\n; AMPLITUDE ENVELOPE\nkampenv   linseg    0, .1, p4, p3-.2, p4, .1, 0 \n\n; PLANET POSITION (X, Y, Z) & VELOCITY (VX, VY, VZ) \nkx        init      0\nky        init      .1\nkz        init      0\nkvx       init      .5\nkvy       init      .6\nkvz       init      -.1\n\n; STAR 1 MASS & X, Y, Z\nimass1    init      p5\nis1x      init      0\nis1y      init      0\nis1z      init      p7\n\n; STAR 2 MASS & X, Y, Z\nimass2    init      p6\nis2x      init      0\nis2y      init      0\nis2z      init      -p7\n\n; CALCULATE DISTANCE TO STAR 1\nkdx       =         is1x-kx\nkdy       =         is1y-ky\nkdz       =         is1z-kz\nksqradius =         kdx*kdx+kdy*kdy+kdz*kdz+1\nkradius   =         sqrt(ksqradius)\n\n; DETERMINE ACCELERATION DUE TO STAR 1 (AX, AY, AZ) \nkax       =         imass1/ksqradius*kdx/kradius\nkay       =         imass1/ksqradius*kdy/kradius\nkaz       =         imass1/ksqradius*kdz/kradius\n\n; CALCULATE DISTANCE TO STAR 2\nkdx       =         is2x-kx\nkdy       =         is2y-ky\nkdz       =         is2z-kz\nksqradius =         kdx*kdx+kdy*kdy+kdz*kdz+1\nkradius   =         sqrt(ksqradius)\n\n; DETERMINE ACCELERATION DUE TO STAR 2 (AX, AY, AZ) \nkax       =         kax+imass2/ksqradius*kdx/kradius\nkay       =         kay+imass2/ksqradius*kdy/kradius\nkaz       =         kaz+imass2/ksqradius*kdz/kradius\n\n; UPDATE THE VELOCITY\nkvx       =         kvx+kax\nkvy       =         kvy+kay\nkvz       =         kvz+kaz\n\n; UPDATE THE POSITION\nkx        =         kx+kvx\nky        =         ky+kvy\nkz        =         kz+kvz\n\n; PAN X & Y COORDINATES TO SEPARATE CHANNELS \naoutx     =         kx*kampenv\naouty     =         ky*kampenv\n          outs      aoutx, aouty\n\n          endin\n\n</CsInstruments>\n<CsScore>\n:*************************************************************** \n; Score\n;*************************************************************** \n\nt 0 400\n\n; Planetary orbit in a binary star system \n; Start Dur Amplitude Mass1 Mass2 Separation \ni1 0 8    2000 .4 .34    1.1\ni1 6 4    1000 .5 .6     2\ni1 7 4    6000 .5 .5     1\ni1 10     4    3000 .4 .4     1.2\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifc       =         p4     ; Center Frequency using parametric equalizer and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from eq.orc and eq.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n;----------------------------------------------------------------\n; BIQUADRATIC EQUALIZER FILTER\n; CODED BY HANS MIKELSON NOVEMBER 1998\n;----------------------------------------------------------------\n\n\nzakinit   30, 30\n\n;----------------------------------------------------------------\n; 1 BAND PARAMETRIC EQUALIZER BY ROBERT BRISTOW-JOHNSON\n;----------------------------------------------------------------\n        instr 10\n\nifc       =         p4     ; Center Frequency\nibw       =         p5     ; Band Width in Octaves\nigain     =         p6     ; Gain/Cut in dB\n\niomega0   =         2*taninv(ifc*6.5/2/sr)  ; I seem to have to multiply by 6.5 to get Fc correct?\nigamma    =         sinh(log(2)/2*ibw*iomega0/sin(iomega0))*sin(iomega0) ; Gamma as defined in the paper\nik        =         ampdb(igain)             ; Convert dB to Amplitude\n\nigrtk     =         igamma*sqrt(ik)               ; Calculate in advance\nigortk    =         igamma/sqrt(ik)               ; to save time\n\nkb0       =         1+igrtk                  ; Compute the coefficients\nkb1       =         -2*cos(iomega0)\nkb2       =         1-igrtk\nka0       =         1+igortk\nka1       =         kb1\nka2       =         1-igortk\n\nasig      rand      10000                        ; Random number source for testing\n\naout      biquad    asig, kb0, kb1, kb2, ka0, ka1, ka2  ; Biquad filter  \n          outs      aout, aout              ; Output the results\n\n          endin\n\n;----------------------------------------------------------------\n; LOW SHELF BY CHRIS TOWNSEND CONVERTED TO CSOUND BY HANS MIKELSON\n;----------------------------------------------------------------\n          instr     11\n\nifc       =         p4     ; Center / Shelf\niq        =         p5     ; Quality factor sqrt(.5) is no resonance\nigain     =         p6     ; Gain/Cut in dB\ni2pi      =         2*3.14159265\n\niomega0   =         i2pi*ifc/sr\nik        =         tan(iomega0/2)\niv        =         ampdb(igain)             ; Convert dB to Amplitude\n     \nkb0       =         1+sqrt(2*iv)*ik+iv*ik*ik ; Compute the coefficients\nkb1       =         2*(iv*ik*ik-1)\nkb2       =         1-sqrt(2*iv)*ik+iv*ik*ik\nka0       =         1+ik/iq+ik*ik\nka1       =         2*(ik*ik-1)\nka2       =         1-ik/iq+ik*ik\n\nasig      rand      5000                    ; Random number source for testing\n\n; aout    biquad    asig, kb0, kb1, kb2, ka0, ka1, ka2  ; Biquad filter    \naout      pareq     asig, ifc, iv, iq, 1\n          outs      aout, aout              ; Output the results\n\n          endin\n\n;----------------------------------------------------------------\n; HIGH SHELF BY HANS MIKELSON DERIVED FROM LOW SHELF BY CHRIS TOWNSEND\n;----------------------------------------------------------------\n          instr     12\n\nifc       =         p4     ; Center / Shelf\niq        =         p5     ; Quality factor sqrt(.5) is no resonance\nigain     =         p6     ; Gain/Cut in dB\nipi       =         3.14159265\ni2pi      =         2*ipi\n\niomega0   =         i2pi*ifc/sr\nik        =         tan((ipi-iomega0)/2)\niv        =         ampdb(igain)             ; Convert dB to Amplitude\n\nkb0       =         1+sqrt(2*iv)*ik+iv*ik*ik ; Compute the coefficients\nkb1       =         -2*(iv*ik*ik-1)\nkb2       =         1-sqrt(2*iv)*ik+iv*ik*ik\nka0       =         1+ik/iq+ik*ik\nka1       =         -2*(ik*ik-1)\nka2       =         1-ik/iq+ik*ik\n\nasig      rand      5000                   ; Random number source for testing\n     \naout      biquad    asig, kb0, kb1, kb2, ka0, ka1, ka2  ; Biquad filter  \n     \n          outs      aout, aout              ; Output the results\n\n          endin\n\n;----------------------------------------------------------------\n; PEAKING EQ BY CHRIS TOWNSEND CONVERTED TO CSOUND BY HANS MIKELSON\n;----------------------------------------------------------------\n          instr     13\n\nifc       =         p4     ; Center / Shelf\niq        =         p5     ; Quality factor\nigain     =         p6     ; Gain/Cut in dB\nipi       =         3.14159265\ni2pi      =         2*ipi\n\niomega0   =         i2pi*ifc/sr\nik        =         tan(iomega0/2)\niv        =         ampdb(igain)             ; Convert dB to Amplitude\n\nkb0       =         1+iv*ik/iq+ik*ik  ; Compute the coefficients\nkb1       =         2*(ik*ik-1)\nkb2       =         1-iv*ik/iq+ik*ik\nka0       =         1+ik/iq+ik*ik\nka1       =         2*(ik*ik-1)\nka2       =         1-ik/iq+ik*ik\n\nasig      rand      5000                   ; Random number source for testing\n\naout      biquad    asig, kb0, kb1, kb2, ka0, ka1, ka2  ; Biquad filter  \n\n          outs      aout, aout              ; Output the results\n\n          endin\n\n;----------------------------------------------------------------\n; THREE BAND EQUALIZER BY HANS MIKELSON\n;----------------------------------------------------------------\n          instr     14\n\ninch      =         p4\nifcl      =         p5     ; Low shelf f\niql       =         p6     ; Quality factor sqrt(.5) is no resonance\nigainl    =         p7     ; Gain/Cut in dB\nifcc      =         p8     ; EQ fc\niqc       =         p9     ; Quality factor\nigainc    =         p10    ; Gain/Cut in dB\nifch      =         p11    ; High shelf f\niqh       =         p12    ; Quality factor\nigainh    =         p13    ; Gain/Cut in dB\nipi       =         3.14159265\ni2pi      =         2*ipi\n     \nasig      zar       inch                    ; Random number source for testing\n\n; LOW SHELF\niomega0l  =         i2pi*ifcl/sr\nikl       =         tan(iomega0l/2)\nivl       =         ampdb(igainl)             ; Convert dB to Amplitude\nkb0l      =         1+sqrt(2*ivl)*ikl+ivl*ikl*ikl ; Compute the coefficients\nkb1l      =         2*(ivl*ikl*ikl-1)\nkb2l      =         1-sqrt(2*ivl)*ikl+ivl*ikl*ikl\nka0l      =         1+ikl/iql+ikl*ikl\nka1l      =         2*(ikl*ikl-1)\nka2l      =         1-ikl/iql+ikl*ikl\n\naoutl     biquad    asig, kb0l, kb1l, kb2l, ka0l, ka1l, ka2l  ; Biquad filter\n\n; CENTER FREQUENCY\niomega0c  =         i2pi*ifcc/sr\nikc       =         tan(iomega0c/2)\nivc       =         ampdb(igainc)             ; Convert dB to Amplitude\nkb0c      =         1+ivc*ikc/iqc+ikc*ikc  ; Compute the coefficients\nkb1c      =         2*(ikc*ikc-1)\nkb2c      =         1-ivc*ikc/iqc+ikc*ikc\nka0c      =         1+ikc/iqc+ikc*ikc\nka1c      =         2*(ikc*ikc-1)\nka2c      =         1-ikc/iqc+ikc*ikc\n\naoutc     biquad    aoutl, kb0c, kb1c, kb2c, ka0c, ka1c, ka2c  ; Biquad filter  \n\n; HIGH SHELF\niomega0h  =         i2pi*ifch/sr\nikh       =         tan((ipi-iomega0h)/2)\nivh       =         ampdb(igainh)             ; Convert dB to Amplitude\nkb0h      =         1+sqrt(2*ivh)*ikh+ivh*ikh*ikh ; Compute the coefficients\nkb1h      =         -2*(ivh*ikh*ikh-1)\nkb2h      =         1-sqrt(2*ivh)*ikh+ivh*ikh*ikh\nka0h      =         1+ikh/iqh+ikh*ikh\nka1h      =         -2*(ikh*ikh-1)\nka2h      =         1-ikh/iqh+ikh*ikh\n\naout      biquad    aoutc, kb0h, kb1h, kb2h, ka0h, ka1h, ka2h  ; Biquad filter  \n\n          outs      aout, aout              ; Output the results\n\n          endin\n\n;----------------------------------------------------------------\n; LOW SHELF BY CHRIS TOWNSEND CONVERTED TO CSOUND BY HANS MIKELSON\n;----------------------------------------------------------------\n          instr 15\n\nifc       =         p4     ; Center / Shelf\niq        =         p5     ; Quality factor sqrt(.5) is no resonance\nigain     =         p6     ; Gain/Cut in dB\niv        =         ampdb(igain)             ; Convert dB to Amplitude\n\nasig      rand      5000                    ; Random number source for testing\n\naout      pareq     asig, ifc, iv, iq, 1\n          outs      aout, aout              ; Output the results\n\n          endin\n\n</CsInstruments>\n<CsScore>\n;   STA  DUR  FCENTER  BANDWIDTH(OCTAVES)  BOOST/CUT(dB)\ni11 0    1    1000     .707                 12\ni11 +    .    5000     .707                 12\ni11 .    .    1000     .707                -12\ni11 .    .    5000     .707                -12\n\ni12 4    1    1000     .707                 12\ni12 +    .    5000     .707                 12\ni12 .    .    1000     .707                -12\ni12 .    .    5000     .707                -12\n\ni13 8    1    1000     .707                 12\ni13 +    .    5000     .707                 12\ni13 .    .    1000     .707                -12\ni13 .    .    5000     .707                -12\n\n\n;                     LOWSHELF        CENTERFQC         HIGHSHELF\n;    STA  DUR  INCH  FQC  Q     GAIN  FQC   Q     GAIN  FQC   Q     GAIN\ni14  0    1    1     200  .707  12    3000  .707  12    8000  .707  12\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a week sound using pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from week10_5.orc and week10_5.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n \nitrans    =         cpspch(8.00)/cpspch(p5)  ; RATIO OF ORIG TO NEW PITCH\naindex    phasor    (.894/1.5)/(1.5*itrans)  ; READ ONCE IN TABLE DURATION\nasig      table     aindex*32768,1           ; READ TABLE 1\n          out       asig                     ; OUTPUT \n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 65536 -1 \"hellorcb.aif\" 0 4 0          ; GEN-01 STATEMENT (ACCESSES 2 SEC FILE \"TSE-U\")\n\n;      st       dur     amp        pitch\n\ni1     0         2       0         7.00     ;  C PLAYED FOR 2 SECONDS\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1        rand      44100 using cross-synthesis and random noise and disk streaming", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from cross3.orc and cross3.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls\t= \t\t1\n\n                              \n          instr 1\na1        rand      44100\na2        diskin    \"speech1.aif\", 1\na3        cross2    a1, a2, 512, 2, 3, .25\n          out       a3\n          endin\n\n          instr 2\na1        diskin    \"allofme.aif\", 1\na2        diskin    \"speech1.aif\", 1\na3        cross2    a1, a2, 2048, 2, 3, .95\n          out       a3\n          endin\n\n</CsInstruments>\n<CsScore>\nf3 0 8192 20 2\n\ni2 0 7\ns\ni1 0 7\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Random wavecycle delete - complementary outputs using random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from RndDelete.orc and RndDelete.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 2\n\n\ninstr    1 ; Random wavecycle delete - complementary outputs\n\nilevl    = p4       ; Output level\niline1   = p5*2 - 1 ; Fraction deleted - start\niline2   = p6*2 - 1 ; Fraction deleted - end\n\nain      soundin  \"monks.1\"\n\nkin      downsamp  ain                 ; Convert input to kr\nkline    line  iline1, p3, iline2      ; Generate control line\nkrand    rand  1                       ; Generate random signal\nkzero    trigger  kin, 0, 0            ; Detect zero crossings\nif       kzero = 0 goto output         ; Do nothing if not zero\nif       krand + kline < 0 goto delete ; Goto delete if random < 0\nadelete  = 1                           ; Don't delete wavecycle\ngoto     output\ndelete:\nadelete  = 0                           ; Delete wavecycle\noutput:\nouts1    ain*adelete*ilevl             ; Output, delete and level\nouts2    ain*(1 - adelete)*ilevl       ; Output, -delete and level\n\nendin\n\n</CsInstruments>\n<CsScore>\n;Delete - Left:  0=100% 1=0%\n;Delete - Right: 0=0% 1=100%\n\n;   Strt  Leng  Levl  Delete1 Delete2\ni1  0.00  1.47  1.00  0.00    1.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1   rand 10000 using random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from smphld.orc and smphld.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\ninstr 1\n     a1   rand 10000\n     a2   samphold  a1, 1000\n     out  a2\nendin\n\n\n</CsInstruments>\n<CsScore>\ni1 0 3\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for arand     rand      0.5,0.213 using random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from ex7.orc and ex7.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n;-- ex7.orc   \n\n          instr     1\narand     rand      0.5,0.213\nasig      table     0.5 + arand,1,1,0,0\n          out       asig\n          endin\n\n</CsInstruments>\n<CsScore>\n;-- ex7.sco\n\nf1 0 8193 21 8 1; Gaussian\nf2 0 8193 21 8 100\n\ni1 0 3\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Random wavecycle invert using random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from RndInvert.orc and RndInvert.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 44100\nksmps  = 1\nnchnls = 1\n\n\ninstr    1 ; Random wavecycle invert\n\nilevl    = p4                        ; Output level\ninv      = p5*2 - 1                  ; % Inverted\n\nain      soundin  \"monks.1\"\n\nkin      downsamp  ain               ; Convert input to kr\nkrand    rand  1                     ; Generate random signal\nkzero    trigger  kin, 0, 0          ; Detect zero crossings\nif       kzero = 0 goto output       ; Do nothing if not zero\nif       krand + inv < 0 goto invert ; Goto invert if random < 0\nainvert  = 1                         ; Don't invert wavecycle\ngoto     output\ninvert:\nainvert  = -1                        ; Invert wavecycle\noutput:\nout      ain*ainvert*ilevl           ; Output, invert and level\n\nendin\n\n</CsInstruments>\n<CsScore>\n;Invert: 0=0% 1=100% (50% is maximum effect)\n\n;   Strt  Leng  Levl  Invert\ni1  0.00  1.47  1.00  0.50\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating random noise and white noise and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 10_01_1.orc and 10_01_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:        10_01_1.ORC\n; timbre:       various controlled noise spectra\n; synthesis:    Random Number Generation(10)\n;               RAND(01)\n;               LINEN envelope(1)\n; coded:        jpg 10/93\n\n\ninstr 1; *****************************************************************\nidur  = p3\niamp  = p4\nirise = .4\nidec  = .4\n\n   k1    linen     iamp, irise, idur, idec\n   a1    rand      k1\n         out       a1\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     10_01_1.SCO\n; coded:     jpg 10/93\n\n\n; score ******************************************************************\n;             RAND\n;       idur  iamp\ni1   0   4    8000\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a week sound using random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from week7_1.orc and week7_1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n\nasig      rand      10000                    ; PRODUCE VALUES BETWEEN -10000 AND 1000 \n          out       asig\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1      0 512 10 1              ; A SINE WAVE\n\n;      st      dur     amp       \n\ni1     0        2       -\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for EXPONENTIALLY ENVELOPED WHITE NOISE INSTRUMENT using random noise and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from conrev.orc and conrev.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n; convrev.orc\n\n\n          instr 1             ; EXPONENTIALLY ENVELOPED WHITE NOISE INSTRUMENT\nidur      =         p3\niexpstrt  =         p4                       ; RANGE = .0000001 TO 1 (0 IS ILLEGAL)\niexpend   =         p5                       ; RANGE = .0000001 TO 1 (0 IS ILLEGAL)\niwhite    =         32000                    ; SET TO THE MAXIMUM AMPLITUDE FOR A 16 BIT LINEAR DAC\niseedl    =         .1                       ; SEED THE RANDOM NUMBER GENERATORS\niseedr    =         .3\n\nkamp      expon     iexpstrt, idur, iexpend   \nasigl     rand      iwhite, iseedl\nasigr     rand      iwhite, iseedr\n          outs      kamp * asigl, kamp * asigr\n          endin\n\n          instr 2             ; EXPONENTIALLY ENVELOPED SOUNDIN INSTRUMENT\nidur      =         p3\niexpstrt  =         p4                       ; RANGE = .0000001 TO 1\niexpend   =         p5                       ; RANGE = .0000001 TO 1\ninput     =         p6                       ; soundin.x -   x = NUMBERS FROM 1 TO 10 \n                                             ; RENAME YOUR INPUT FILES ACCORDINGLY\nkamp      expon     iexpstrt, idur, iexpend\nal, ar    soundin   input, 0, 4\n          outs      kamp * al, kamp * ar\n          endin\n\n</CsInstruments>\n<CsScore>\n;   idur = p3\n;   iexpstrt = p4             ; range = .0000001 to 1\n;   iexpend = p5              ; range = .0000001 to 1\n;   input = p6               ; soundin.x -   x = numbers from 1 to 10 \n\ni1   0    2.6    1      .001\ns\nf0 2                               ; 2 seconds of silence\ns\ni1   0    2.6    .001    1\ns\nf0 2                               ; 2 seconds of silence\ns\ni2   0    2.6     1     .0001  6    ; read in the file named - soundin.6\ns\nf0 2                               ; 2 seconds of silence\ns\ni2   0    2.6     1     .0001  5    ; read in the file named - soundin.5\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using random noise and linear segments and disk streaming", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fracflt.orc and fracflt.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n          instr     1\n\nidur      =         p3\n\naxn       init      0\naxnm1     init      0\naxnm2     init      0\nayn       init      0\naynm1     init      0\naynm2     init      0\n\nkc1       linseg    .2, idur*.5, .8, idur*.5, .1\nkc2       linseg    3.5, idur*.2, .4, idur*.8, 3.1\n\nax1n, ax2n diskin   \"hellorcb2.aif\", 1\n;axn       =         ax1n/32000\naxn       rand      1\n\n; DIGITAL FILTER WITH ARBITRARILY COMPLEX FUNCTION.\nayn       =         kc1*sin(axn*2+3*cos(kc2*aynm2))-.3*axnm1*aynm1+.1*ayn*axnm2*sqrt(ayn*ayn+axnm1*axnm1)\n\naxnm2     =         axnm1\naxnm1     =         axn\naynm2     =         aynm1\naynm1     =         ayn\n\n          outs      ayn*32000, ayn*32000\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\n\n;   Sta  Dur\ni1  0.0  2.0\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifc\t\t=\t\tp4\t\t\t\t\t; CENTER FREQUENCY using filter processing and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from eqfilter.orc and eqfilter.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n; ORCHESTRA\n;----------------------------------------------------------------\n; Biquadratic Equalizer Filter\n; Coded by Hans Mikelson November 1998\n; based on the following paper:\n; The Equivalence of Various Methods of Computing Biquad Coefficients for\n; Audio Parametric Equalizers by Robert Bristow-Johnson\n; http://www.harmony-central.com/Effects/Articles/EQ_Coefficients/\n;----------------------------------------------------------------\n\n;----------------------------------------------------------------\n; 1 BAND PARAMETRIC EQUALIZER\n;----------------------------------------------------------------\n\t\tinstr 1\n\nifc\t\t=\t\tp4\t\t\t\t\t; CENTER FREQUENCY\nibw\t\t=\t\tp5\t\t\t\t\t; BAND WIDTH IN OCTAVES\nigain\t=\t\tp6\t\t\t\t\t; GAIN/CUT IN dB\n\niomega0 =\t\t2*taninv(ifc*6.5/2/sr) ; I SEEM TO HAVE TO MULTIPLY BY 6.5 TO GET Fc CORRECT?\nigamma\t=\t\tsinh(log(2)/2*ibw*iomega0/sin(iomega0))*sin(iomega0) ; GAMMA AS DEFINED IN THE PAPER\nik\t\t=\t\tampdb(igain)\t\t; CONVERT dB TO AMPLITUDE\n\nigrtk\t=\t\tigamma*sqrt(ik)\t\t; CALCULATE IN ADVANCE\nigortk\t=\t\tigamma/sqrt(ik)\t\t; TO SAVE TIME\n\nkb0\t\t=\t\t1+igrtk\t\t\t\t; COMPUTE THE COEFFICIENTS\nkb1\t\t=\t\t-2*cos(iomega0)\nkb2\t\t=\t\t1-igrtk\nka0\t\t=\t\t1+igortk\nka1\t\t=\t\tkb1\nka2\t\t=\t\t1-igortk\n\nasig\trand\t10000\t\t\t\t; RANDOM NUMBER SOURCE FOR TESTING\n\naout\tbiquad\tasig, kb0, kb1, kb2, ka0, ka1, ka2 ; BIQUAD FILTER\n\n\t\touts\taout, aout\t\t\t; OUTPUT THE RESULTS\n\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n; SCORE\n;  Sta  Dur  Fcenter  BandWidth(Octaves)  Boost/Cut(dB)\ni1 0    1    1000     .5                   12\ni1 +    .    5000     .5                   12\ni1 .    .    5000     .2                   12\ni1 .    .    1000     .5                  -12\ni1 .    .    5000     .5                  -12\ni1 .    .    5000     1                   -12\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for KICK DRUM 2 using drum sound and random noise and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bdrum5.orc and bdrum5.sco\n; Original files preserved in same directory\n\nsr        =              44100                         ; SAMPLE RATE\nkr        =              44100                         ; KONTROL RATE\nksmps     =              1                             ; SAMPLES/KONTROL PERIOD\nnchnls    =              2                             ; NORMAL STEREO\n\n;---------------------------------------------------------\n; KICK DRUM\n; CODED BY HANS MIKELSON AUGUST 25, 1999\n;---------------------------------------------------------\n          zakinit        50,50                         ; MAY NEED THIS LATER\n\n\n;---------------------------------------------------------\n; KICK DRUM 2\n;---------------------------------------------------------\n          instr          11\n\nidur      =              p3                  ; DURATION\niamp      =              p4                  ; AMPLITUDE\niacc      =              p5                  ; ACCENT\nirez      =              p6                  ; RESONANCE\niod       =              p7                  ; OVERDRIVE\nilowf     =              p8                  ; LOW FREQUENCY\n     \nkfenv     linseg         1000*iacc,  .02, 180, .04, 120, idur-.06, ilowf   ; FREQ ENVELOPE\nkaenv     expseg         .1, .001, 1, .02, 1, .04, .7, idur-.062, .7       ; AMP ENVELOPE\nkdclck    linseg         0, .002, 1, idur-.042, 1, .04, 0                  ; DECLICK\nasig      rand           2                                                 ; RANDOM NUMBER\n\naflt      rezzy          asig, kfenv, irez*40                              ; FILTER\n\naout1     =              aflt*kaenv*3*iod/iacc                             ; SCALE THE SOUND\n\nkrms      rms            aout1, 1000                                       ; LIMITER, GET RMS\nklim      table3         krms*.5, 5, 1                                     ; GET LIMITING VALUE\naout      =              aout1*klim*iamp*kdclck/sqrt(iod)*1.3              ; SCALE AGAIN AND OUPUT\n     \n          outs           aout, aout                                        ; OUTPUT THE SOUND\n\n          endin\n\n</CsInstruments>\n<CsScore>\n\n\nf1 0 65536 10 1\nf5 0 1024 -8 1 256 1 256 .5 128 .3 128 .1 256 .1\n\n;a 0 0 5.68\n;    Sta   Dur  Amp    Accent  Q    Overdrive  LowFqc\ni11  0.0   .18  30000  1       1    2          60\ni11  0.5   .    .      .       <    2.5        .\ni11  1.0   .    .      .       <    2          .\ni11  1.5   .    .      .       1.5  3          .\n\ni11  2.0   .18  30000  1       1    2          60\ni11  2.5   .    .      .       <    2.5        .\ni11  3.0   .    .      .       <    2          .\ni11  3.5   .    .      .       1.5  3          .\n\ni11  4.0   .18  30000  1       1    2          60\ni11  4.5   .    .      .       <    2.5        .\ni11  5.0   .    .      .       <    2          .\ni11  5.5   .    .      .       1.5  3          .\n\ni11  6.0   .18  30000  1       1    2          60\ni11  6.5   .    .      .       <    2.5        .\ni11  7.0   .    .      .       <    2          .\ni11  7.5   .    .      .       <    2          .\ni11  7.75  .25  .      .       1.5  3          .\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a popcornfractal sound using random noise and white noise and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from popcornfractal.orc and popcornfractal.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n; MIKELSON POPCORN FRACTAL SR MUST EQUAL KR\n\n\n          instr     2\n\nidur      =         p3                  ; DURATION\niamp      =         p4                  ; AMPLITUDE\nifqc      =         cpspch(p5)          ; PITCH TO FREQUENCY\nifade     =         p6                  ; FADE IN AND OUT\nih        =         .004                ; DELTA T\naxn       init      1                   ; INITIAL X VALUE\nayn       init      -.5                 ; INITIAL Y VALUE\n\naamp      linseg    0, ifade, iamp, idur-2*ifade, iamp, ifade, 0 ; Amp envelope\n\n; Popcorn fractal\naxnp1     =         axn - ih*sin(ayn + tan(3*ayn))\naynp1     =         ayn - ih*sin(axn + tan(3*axn))\naxn       =         axnp1\nayn       =         aynp1\n\narnd      rand      2                   ; GENERATE NOISE\n\naenv1     linseg    200, idur, 1000     ; FREQUENCY RAMP\naenv2     linseg    40, idur, 400       ; FREQUENCY MODULATION RAMP\n\naoutr     rezzy     arnd, aenv1+ayn*aenv2, 50 ; FILTER NOISE AND SWEEP FREQUENCY\n\n          outs      aoutr*aamp, aoutr*aamp  ; OUTPUT\n\n          endin\n\n</CsInstruments>\n<CsScore>\n\n\n; SCORE\nf1 0 65536 10 1 ; NOT USED SINE WAVE\n\n;   STA  DUR  AMP      PITCH  FADE\ni2  0    60   9000      6.00  2\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifc\t \t=\t    \tp4\t\t\t\t\t; CENTER / SHELF using random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from peakfilt.orc and peakfilt.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n; ORCHESTRA\n;----------------------------------------------------------------\n; Biquadratic Equalizer Filters\n; Coded by Hans Mikelson November 1998\n;----------------------------------------------------------------\n\n;----------------------------------------------------------------\n; Low Shelf by Chris Townsend converted to Csound by Hans Mikelson\n;----------------------------------------------------------------\n\t\tinstr 11\n\nifc\t \t=\t    \tp4\t\t\t\t\t; CENTER / SHELF\niq\t   \t=\t    \tp5\t\t\t\t\t; QUALITY FACTOR SQRT(.5) IS NO RESONANCE\nigain   \t=\t    \tp6\t\t\t\t\t; GAIN/CUT IN dB\ni2pi\t   \t=\t    \t2*3.14159265\n\niomega0 \t=\t    \ti2pi*ifc/sr\nik\t   \t=\t    \ttan(iomega0/2)\niv\t   \t=\t    \tampdb(igain)\t\t\t; CONVERT dB TO AMPLITUDE\n\t\nkb0\t   \t=\t    \t1+sqrt(2*iv)*ik+iv*ik*ik\t; COMPUTE THE COEFFICIENTS\nkb1\t   \t=\t    \t2*(iv*ik*ik-1)\nkb2\t   \t=\t    \t1-sqrt(2*iv)*ik+iv*ik*ik\nka0\t   \t=\t    \t1+ik/iq+ik*ik\nka1\t   \t=\t    \t2*(ik*ik-1)\nka2\t   \t=\t\t1-ik/iq+ik*ik\n\nasig\t   \trand  \t5000\t\t\t\t\t; RANDOM NUMBER SOURCE FOR TESTING\n\naout\t   \tbiquad \tasig, kb0, kb1, kb2, ka0, ka1, ka2\t ; BIQUAD FILTER\n\n\t   \touts\t\taout, aout\t\t\t; OUTPUT THE RESULTS\n\n\t\tendin\n\n;----------------------------------------------------------------\n; High Shelf by Hans Mikelson derived from low shelf by Chris Townsend\n;----------------------------------------------------------------\n\t\tinstr 12\n\nifc\t\t=\t    \tp4\t\t\t\t\t; CENTER / SHELF\niq\t   \t=\t    \tp5\t\t\t\t\t; QUALITY FACTOR SQRT(.5) IS NO RESONANCE\nigain   \t=\t    \tp6\t\t\t\t\t; GAIN/CUT IN dB\nipi\t   \t=\t    \t3.14159265\ni2pi\t   \t=\t    \t2*ipi\n\t\niomega0 \t=\t    \ti2pi*ifc/sr\nik\t   \t=\t    \ttan((ipi-iomega0)/2)\niv\t   \t=\t    \tampdb(igain)\t\t\t; CONVERT dB TO AMPLITUDE\n\nkb0\t   \t=\t    \t1+sqrt(2*iv)*ik+iv*ik*ik\t; COMPUTE THE COEFFICIENTS\nkb1\t   \t=\t   \t-2*(iv*ik*ik-1)\nkb2\t   \t=\t    \t1-sqrt(2*iv)*ik+iv*ik*ik\nka0\t   \t=\t    \t1+ik/iq+ik*ik\nka1\t   \t=\t   \t-2*(ik*ik-1)\nka2\t   \t=\t    \t1-ik/iq+ik*ik\n\nasig\t   \trand  \t5000\t\t\t\t\t; RANDOM NUMBER SOURCE FOR TESTING\n\t\naout\t   \tbiquad \tasig, kb0, kb1, kb2, ka0, ka1, ka2\t ; BIQUAD FILTER\n\n\t   \touts\t\taout, aout\t\t\t; OUTPUT THE RESULTS\n\nendin\n\n;----------------------------------------------------------------\n; Peaking EQ by Chris Townsend converted to Csound by Hans Mikelson\n;----------------------------------------------------------------\n\t   \tinstr 13\n\nifc\t   \t=\t    \tp4\t\t\t\t\t; CENTER / SHELF\niq\t   \t=\t    \tp5\t\t\t\t\t; QUALITY FACTOR\nigain   \t=\t    \tp6\t\t\t\t\t; GAIN/CUT IN dB\nipi\t   \t=\t    \t3.14159265\ni2pi\t   \t=\t    \t2*ipi\n\niomega0 \t=\t    \ti2pi*ifc/sr\nik\t   \t=\t    \ttan(iomega0/2)\niv\t   \t=\t\tampdb(igain)\t\t\t; CONVERT dB TO AMPLITUDE\n\nkb0\t   \t=\t    1+iv*ik/iq+ik*ik\t\t; COMPUTE THE COEFFICIENTS\nkb1\t   \t=\t    2*(ik*ik-1)\nkb2\t   \t=\t    1-iv*ik/iq+ik*ik\nka0\t   \t=\t    1+ik/iq+ik*ik\nka1\t   \t=\t    2*(ik*ik-1)\nka2\t   \t=\t    1-ik/iq+ik*ik\n\nasig\t   \trand  \t5000\t\t\t\t\t; RANDOM NUMBER SOURCE FOR TESTING\n\t\naout\t   \tbiquad \tasig, kb0, kb1, kb2, ka0, ka1, ka2\t ; BIQUAD FILTER\n\n\t   \touts\t\taout, aout\t\t\t; OUTPUT THE RESULTS\n\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n; SCORE\n; Low shelf\n;   Sta  Dur  Fcenter  BandWidth(Octaves)  Boost/Cut(dB)\ni11 0    1    1000     .707                 12\ni11 +    .    5000     .707                 12\ni11 .    .    1000     .707                -12\ni11 .    .    5000     .707                -12\n; High Shelf\ni12 4    1    1000     .707                 12\ni12 +    .    5000     .707                 12\ni12 .    .    1000     .707                -12\ni12 .    .    5000     .707                -12\n; EQ\ni13 8    1    1000     .707                 12\ni13 +    .    5000     .707                 12\ni13 .    .    1000     .707                -12\ni13 .    .    5000     .707                -12\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Noise With Filter Sweep. using noise generation and parameter sweep and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from NoiseSweep.orc and NoiseSweep.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1 \n\n\ninstr    1 ; Noise With Filter Sweep.\n\nileng  = p3\nilevl  = p4*16000\nivcf1  = p5\nivcf2  = p6\niband  = p7\n\nk1       expseg  ivcf1, ileng, ivcf2\nk2       linseg  0, .01, 1, ileng-.02, 1, .01, 0\nanoise   rand  ilevl\na1       reson  anoise, k1, iband, 2\nout      a1*k2\n\nendin\n\n\n</CsInstruments>\n<CsScore>\n;   Strt  Leng  Levl Vcf1  Vcf2  Bandwidth\ni1  0.00  4.00  0.50 10000 500   25\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for S&H with 'Reson' Filter using resonant filter and sample-and-hold random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from StepReson.orc and StepReson.sco\n; Original files preserved in same directory\n\nsr      = 44100\nkr      = 4410\nksmps   = 10\nnchnls  = 1\n\n \ninstr     1 ; S&H with 'Reson' Filter\n \nilevl     = p4/200 ; Output level\nifreq     = p5     ; Base frequency\nidpth     = p6/2   ; S&H depth\nirate     = p7     ; S&H rate\niseed     = p8     ; Seed\n\nk1        randh  idpth, irate, iseed\nk1        = k1 + idpth\na1        soundin  \"Sample1\"\na2        reson  a1, ifreq + k1, (ifreq + k1)/16\nout       a2*ilevl       \n\nendin\n\n</CsInstruments>\n<CsScore>\n;   Strt  Leng  Levl  Freq  Depth Rate  Seed\ni1  0.00  1.47  1.00  500   1000  10.85 0.50\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipitch    =         cpspch(p5) using delay effect and resonant filter and one-sample delay", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from DELAY1.ORC and DELAY1.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n\n               instr     1\n     ipitch    =         cpspch(p5)\n     idlt      =         1/ipitch\n     arnd      rand      p4\n     apop      envlpx    arnd,.002,.005,.002,2,1,.01\n     asig      init      0\n     adelay    delay     (apop+asig),idlt    \n     afilter   reson     adelay,ipitch,(ipitch*.1),1\n     abal      balance   afilter,arnd\n     asig      envlpx    abal,.03,p3,.1,2,.15,.01\n               out       asig\n               endin\n \n\n</CsInstruments>\n<CsScore>\nf1   0    512  10   1\nf2   0    513  5    0.001     512  1    1    1    \ni1   0    5    4000 8.00e\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for k1             envlpx    p5,p6,p3,p7,1,.8,.01 using resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from harRESON.ORC and harRESON.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n\ninstr          1\nk1             envlpx    p5,p6,p3,p7,1,.8,.01\nk1             =         k1 * p5\nasig           soundin   p4,p8\nasig           =         k1 * asig\nasig2          reson     asig,p9, p10, 1\nout            asig2\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1025 5 .01 1024 1\n  i1 0.000 6.000 5 0.800 0.010 2 0 330 20\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for k1             envlpx    p5,p6,p3,p7,1,.8,.01 using resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from harRESON2.ORC and harRESON2.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\ninstr          1\nk1             envlpx    p5,p6,p3,p7,1,.8,.01\nk1             =         k1 * p5\nasig           soundin   p4,p8\nasig           =         k1 * asig\nasig2          reson     asig,p9, p10, 1\nasig3          reson     asig,p11, p12, 1\n               out       asig2 + asig3\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 1025 5 .01 1024 1\nf2 0 1025 5 .01 512 1 512 .01\n  i1 0.000 3.000 5 1.000 0.010 2 0 50 1500 2 2092.990\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating resonant filter and random noise and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 50_01_1.orc and 50_01_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 2 \n\n; ************************************************************************\n; ACCCI:     50_01_1.ORC\n; timbre:    bands of noise\n; synthesis: subtractive synthesis(50)\n;            basic design(01)\n;            RAND source(1)\n; coded:     jpg 11/93\n\n\n\n\ninstr 1; *****************************************************************\nidur  = p3\niamp  = p4\nicfq  = cpspch(p5)\nibw   = p6*icfq\n\n \n   anoise  rand   iamp                        ; white noise\n   a1      reson  anoise,  icfq, ibw, 2       ; filter\n   a1      linen  a1, .1, idur, .1\n           outs    a1, a1\n\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     50_01_1.SCO\n; coded:     jpg 11/93\n\n\n; score ******************************************************************\n\n;    start idur  iamp   ipch   iperc\ni1    0     1    8000  11.00   .05\ni1    1.1   .    .     10.00   .\ni1    2.3   8    .      9.00   .\ni1    3     2    4000  10.07   .\ni1    3     2    5000   8.00   .\ni1    3     2    3500  12.04   .\ni1    6     .3   4000  14.07   .\ni1    6     .    5000  13.00   .\ni1    6     .    3500  13.04   .\ni1    6.3   .4   4000  10.07   .\ni1    6.3   .    5000   9.00   .\ni1    6.3   .    3500  11.04   .\ni1    8.1   1   10000  11.04   .\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for il1       =         .55 using reverb effect and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Reverb11.orc and Reverb11.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\ngipiotwo  =         1.571\n; MONO IN, STEREO OUT - ALLPASS REVERB WITH SPATIALIZED RESONANCE\n          instr 1\nil1       =         .55\nil2       =         .15\nil3       =         .65\nil4       =         .25\nil5       =         .75\nil6       =         .35\nil7       =         .85\nil8       =         .45\n\ngil1      =         sin(il1 * gipiotwo)\ngil2      =         sin(il2 * gipiotwo)\ngil3      =         sin(il3 * gipiotwo)\ngil4      =         sin(il4 * gipiotwo)\ngil5      =         sin(il5 * gipiotwo)\ngil6      =         sin(il6 * gipiotwo)\ngil7      =         sin(il7 * gipiotwo)\ngil8      =         sin(il8 * gipiotwo)\ngir1      =         cos(il1 * gipiotwo)\ngir2      =         cos(il2 * gipiotwo)\ngir3      =         cos(il3 * gipiotwo)\ngir4      =         cos(il4 * gipiotwo)\ngir5      =         cos(il5 * gipiotwo)\ngir6      =         cos(il6 * gipiotwo)\ngir7      =         cos(il7 * gipiotwo)\ngir8      =         cos(il8 * gipiotwo)\n\nicf1      =         100\nicf2      =         200\nicf3      =         400\nicf4      =         800\nicf5      =         1600\nicf6      =         3200\nicf7      =         6400\nicf8      =         12800\nibfac     =         .6\nibw1      =         icf1 * ibfac\nibw2      =         icf2 * ibfac\nibw3      =         icf3 * ibfac\nibw4      =         icf4 * ibfac\nibw5      =         icf5 * ibfac\nibw6      =         icf6 * ibfac\nibw7      =         icf7 * ibfac\nibw8      =         icf8 * ibfac\nilpt1     =         .037\nilpt2     =         .047\nilpt3     =         .0513\nilpt4     =         .0638\nilpt5     =         .0821\nilpt6     =         .0916\nilpt7     =         .114\nilpt8     =         .237\nirvt1     =         3.\nirvt2     =         2.13\nirvt3     =         2.27\nirvt4     =         1.56\nirvt5     =         1.1\nirvt6     =         .8\nirvt7     =         .4\nirvt8     =         .2\namono     soundin   p4,p5, 4\narev1     alpass    amono, irvt1, ilpt1\narev2     alpass    amono, irvt2, ilpt2\narev3     alpass    amono, irvt3, ilpt3\narev4     alpass    amono, irvt4, ilpt4\narev5     alpass    amono, irvt5, ilpt5\narev6     alpass    amono, irvt6, ilpt6\narev7     alpass    amono, irvt7, ilpt7\narev8     alpass    amono, irvt8, ilpt8\nares1     reson     arev1, icf1, ibw1, 1\nares2     reson     arev2, icf2, ibw2, 1\nares3     reson     arev3, icf3, ibw3, 1\nares4     reson     arev4, icf4, ibw4, 1\nares5     reson     arev5, icf5, ibw5, 1\nares6     reson     arev6, icf6, ibw6, 1\nares7     reson     arev7, icf7, ibw7, 1\nares8     reson     arev8, icf8, ibw8, 1\nalsub1    =         (ares1*gil1)+(ares2*gil2)+(ares3*gil3)+(ares4*gil4)\nalsub2    =         (ares5*gil5)+(ares6*gil6)+(ares7*gil7)+(ares8*gil8)\naleft     =         alsub1 + alsub2\narsub1    =         (ares1*gir1)+(ares2*gir2)+(ares3*gir3)+(ares4*gir4)\narsub2    =         (ares5*gir5)+(ares6*gir6)+(ares7*gir7)+(ares8*gir8)\naright    =         arsub1 + arsub2\n          outs      aleft, aright\n          endin\n\n</CsInstruments>\n<CsScore>\ni1 0 7.5 5 0\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using resonant filter and random noise and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from altoflute.orc and altoflute.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n                                                  ;SOUSTRACTIF PAR TABLES\n\n;p1       =         ins\n;P2       =         date\n;p3       =         dur\n;1        =         nÂ¡ table d'env d'amplitude\n;2        =         nÂ¡ table freq \n;p6       =         amplitude globale\n     \n          instr     1\n\nidur      =         p3 \nkfreq     oscil1i   p2,1,p3,2\nkenvamp   oscil1i   p2,300,p3,1\nanoise    rand      kenvamp                       ; WHITE NOISE\na1        reson     anoise,  kfreq, kfreq/100, 2  ; FILTER\na1        linen     a1, .1, idur, .1\n\n          out       a1\n \n          endin\n\n</CsInstruments>\n<CsScore>\n;;SCO    INDIAN ALTO FLUTE\n\nf    1    0.0454    8193 -7   0    119  10000     118  4317 119  2111 119  1073 119  1806 118  862  119  1931 119  1085 119  2436 118  3392 119  3829 119  435  118  1011 119  619  119  510  119  715  118  756  119  866  119  850  118  937  119  697  119  637  119  627  118  581  119  597  119  221  119  576  118  673  119  192  119  416  118  107  119  554  119  252  119  552  118  704  119  603  119  1446 119  2195 118  2574 119  2850 119  3147 118  3146 119  3275 119  2794 119  1781 118  1020 119  180  119  20   119  210  118  148  119  96   119  227  118  218  119  246  119  189  119  41   118  59   119  138  119  74   118  121  119  86   119  77   119  76   118  90   119  52   119  65   119  58   118  4    119  0    \nf    2    0.0454    8193 -7   331  119  437  118  435  119  401  119  367  119  391  118  366  119  392  119  364  119  392  118  430  119  432  119  322  118  362  119  351  119  351  119  352  118  352  119  353  119  353  118  354  119  353  119  353  119  353  118  352  119  353  119  342  119  352  118  353  119  345  119  352  118  340  119  353  119  344  119  351  118  352  119  386  119  388  119  390  118  391  119  392  119  392  118  392  119  393  119  394  119  395  118  363  119  357  119  294  119  292  118  299  119  297  119  292  118  293  119  293  119  290  119  284  118  263  119  265  119  261  118  263  119  263  119  262  119  262  118  263  119  258  119  262  119  261  118  262  119  320  \nf 3  0  1024 10 1\n\ni    1    0.0454    7.6190    \ne\n\n;JEAN-MICHEL DARREMONT\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for igain          =         p16 using resonant filter and reverb effect and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from rev6.orc and rev6.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\n\n;i1 0 8 1 .4 2.2 35 36 37.173 39.766 1.1 .077 .0631 .85 .15\n;1 in 2 out ambient\n;i1 0 dur file skip rvt1 res1 res2 res3 res4\n;echo_rvt echolpt1 echolpt2 iorig iecho\n\ninstr          1\nigain          =         p16\nifile          =         p4\niskip          =         p5\nirvt1          =         p6             ; AUDIO COMB REVERB LENGTH\nilpt1          =         1/p7           ; AUDIO COMB RESONANCES\nilpt2          =         1/p8\nilpt3          =         1/p9\nilpt4          =         1/p10\niechot         =         p11            ;ECHO LENGTH\nilpt5          =         p12            ; ECHO LOOPTIMES\nilpt6          =         p13\niorig          =         p14\niecho          =         p15\nirev           =         1.-iorig\nialpt          =         0.07\nijuice         =         .6\niroll          =         2000\nipres          =         5000\nipbw           =         1000\niatk           =         0.01\nidk            =         .05\nisust          =         p3-(iatk+idk)\n     aenv      linseg    0,iatk,igain,isust,igain,idk,0\n     araw      soundin   ifile,iskip\n     acmb1     comb      araw,irvt1,ilpt1\n     acmb2     comb      araw,irvt1,ilpt2\n     acmb3     comb      araw,irvt1,ilpt3\n     acmb4     comb      araw,irvt1,ilpt4\n     acmbmix1  =         acmb1+acmb2*.5+acmb3*.25+acmb4*.125\n     acmbmix2  =         acmb4+acmb3*.5+acmb2*.25+acmb1*.125\n     aecho1    comb      acmbmix1,ilpt5,iechot\n     aecho2    comb      acmbmix2,ilpt5,iechot\n     aecmix1   =         (acmbmix1*ijuice)+(aecho1*iecho)\n     aecmix2   =         (acmbmix2*ijuice)+(aecho2*iecho)\n     alp1      alpass    aecmix2,ialpt,.06\n     alp2      alpass    aecmix1,ialpt,.063\n     apres1    reson     alp1,ipres,ipbw,1\n     apres2    reson     alp2,ipres,ipbw,1\n     arevraw1  =         aecmix1+alp1\n     arevraw2  =         aecmix2+alp2\n     alpf1     tone      arevraw1,iroll\n     alpf2     tone      arevraw2,iroll\n     ao        =         araw*iorig\n     aout1     =         ao+(alpf1+apres1)*irev\n     aout2     =         ao+(alpf2+apres2)*irev\n               outs      aout1*aenv,aout2*aenv\nendin\n\n</CsInstruments>\n<CsScore>\ni1 0 4.000000 1 0.000000 2.421249 35.801517 34.275620 46.886345 51.539425 0.575749 0.098021 0.069816 0.600000 0.247023 1.000000\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for INSTRUMENT SETUPS using resonant filter and delay effect and amplitude balance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 1IN1OUT.ORC and 1IN1OUT.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n;    1IN1OUT.ORC\n\ngasig          init      0\n\ninstr          1\n;  INSTRUMENT SETUPS\n;         DURATION TABLES\n;  TABLE FOR SOUNDIN.# IN ATTACK MODULE\ni1             table     p4, 50\n\n;  INITIALIZE THE AUDIO SIGNALS\nasig1          init      0\n\n; RESET VALUE OF P3 HERE\n; MAKE P60 THE SWITCH.  IF ANYTHING IS THERE, THEN DON'T CHANGE P3.\n; OTHERWISE, CHOOSE THE LONGEST OF THE SOUNDFILES TO REPRESENT P3.\nif             p60 > 0   igoto nochange\np3             =         (i1 > p3? i1 : p3)\nnochange:\n\n; ATTACK MODULE - p4:soundfile, p5:ampfac, p6:attack, p7:decay, p8:skip\n;  p9:delay (not implemented yet)\n;  SWITCH TO SKIP THIS MODULE: (p10)\nif             p10 == 1  goto skipatt\n;\n;  ENVELOPE\nk1             envlpx    p5,p6,(p60 == 1? p3: i1),p7,1,.9,.01\n\n;  AUDIO SIGNAL - READ IN SOUNDFILE\nasig1          soundin   p4,p8\n\n;  FILTER SIGNAL? (0? SKIP FILTER)\nif             p11 == 0  goto nofilter\n\n;  USE TABLES? (2? YES)\nif             p11== 2   goto usetables\ni2             = p12\ni3             = p13\nprint          i2\nprint          i3\ngoto           dofilter\n\nusetables:\n;  TABLE FOR CENTER FREQUENCY FOR BANDPASS FILTER\ni2             table     p4, p12\nprint          i2\n;\n;  TABLE FOR BANDWIDTH OF BANDPASS FILTER\ni3             table     p4, p13\nprint          i3\n\ndofilter:\nares1          reson     asig1,i2, i3, 1\nasig1          balance   ares1, asig1\n\nnofilter:\nasig           =         k1 * asig1\n\nskipatt:\n\n; OUTPUT\n;  SWITCH TO PUT OUT SIGNAL OR SEND IT ON FOR PROCESSING\nif p61         ==        0 goto sendout\ngasig          =         gasig + asig\nigoto          done\nsendout:\n               out       asig\ndone:\n\nendin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 4097 5 .001 4096 1\nf50 0 128 -2 4 6 7 7 7 5.5 3.6 13 10 2.5 6.4 6.6 6.5 2.12 4.25 4.5 1.67 1.75 2.1 4.3 4 3.5 3.5 0 0 4.5 6.8 4.5 6.5 8.5 6.5 4.5 6 8 3.75 6 6.5 6.5 6.5 0 4.5 6 5.5 5.25 4.75 11.0 9.5 19.0 4.745 4.745 3.75 3.3 3.75 9 4 7.5 8 8 9 8 8 0 0 0 0 0 0 0 0 0 3 10 10 8.5 10 10 10 0 0 0 0 0 0 0 0 0 0 0 0 0 2 2.8 1.75 5 1.75 3 2.5 6 1.5 3.25 2.5 4\nf51 0 128 -2 130.8 130.8 130.8 130.8 130.8 130.8 130.8 130.8 130.8 130.8 130.8 130.8 130.8 261.6 261.6 261.6 261.6 261.6 261.6 261.6 523.25 523.25 523.25 0 0 440 415 493.88 457 130 261.626 523.25 293.665 330 622.25 349.23 739.99 195.99 391.99 0 32.7 32.7 32.7 32.7 130.8 130.8 130.8 130.8 130.8 130.8 523.25 392 261.626 783.99 783.99 783 783 275 261.626 392 392\nf52 0 128 -2 100 30 40 40 40 40 40 40 50 50 50 50 50 30 30 30 30 30 30 30 100 40 40 0 0 15 25 40 30 8 10 40 20 10 50 20 40 10 20 0 60 60 60 60 200 200 200 200 200 200 30 40 30 50 50 50 40 250 200 30 50\n  i1 0.000 0.100 5 0.800 0.001 0.005 0 0 0 0 3737 456 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0\n  i1 0.097 0.100 6 0.600 0.001 0.005 0 0 0 0 662 657 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0\n  i1 0.192 0.100 5 0.600 0.001 0.005 0 0 0 0 3439 917 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0\n  i1 0.285 0.100 6 0.600 0.001 0.005 0 0 0 0 1489 401 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0\n  i1 0.380 0.100 5 0.800 0.001 0.005 0 0 0 0 3601 428 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0\n  i1 0.472 0.100 6 0.500 0.001 0.005 0 0 0 0 3762 399 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0\n  i1 0.578 0.100 5 0.500 0.001 0.005 0 0 0 0 3358 675 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0\n  i1 0.671 0.100 6 0.500 0.001 0.005 0 0 0 0 3779 654 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0\n  i1 0.765 0.100 5 0.500 0.001 0.005 0 0 0 0 2710 696 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0\n  i1 0.861 1.000 6 0.900 0.001 0.005 0 0 0 0 1541 202 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\n  i1 1.853 0.100 5 0.800 0.001 0.005 0 0 0 0 1658 492 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0\n  i1 1.956 0.100 6 0.600 0.001 0.005 0 0 0 0 748 967 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0\n  i1 2.057 0.100 5 0.600 0.001 0.005 0 0 0 0 3901 63 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0\n  i1 2.151 1.500 6 0.600 0.001 0.005 0 0 0 0 1401 64 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\n  i1 3.656 0.100 5 0.900 0.001 0.005 0 0 0 0 2039 370 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0\n  i1 3.762 0.100 6 0.800 0.001 0.005 0 0 0 0 3500 379 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0\n  i1 3.863 0.100 5 0.600 0.001 0.005 0 0 0 0 3473 451 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0\n  i1 3.965 0.100 6 0.600 0.001 0.005 0 0 0 0 3344 948 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0\n  i1 4.057 0.100 5 0.600 0.001 0.005 0 0 0 1 801 307 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0\n  i1 4.157 2.000 6 0.600 0.001 0.005 0 0 0 0 932 812 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kamp      linen     .01,.01,p3,.2 using noise generation and resonant filter and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from noise3.orc and noise3.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n;GIVEN: THERE EXIST TRADE-OFFS WHEN FILTERING NOISE IN AN EFFORT TO MAKE USABLE \n;SOUNDS.\n;THAT DOES NOT MEAN IT CAN'T BE FUN.\n;NEARLY ANY VARIABLE EFFECTS OUTPUT (AMPLITUDE). \n;I FIND THIS TALK OF NOISE CARVING ARTISTICALLY FASCINATING. \n\n\n          instr 1\n\nkamp      linen     .01,.01,p3,.2\nkpass     line      p4,p3,p5\narand     rand      10000\nafilter   reson     arand,kpass,0.048\nasculpt   =         kamp*afilter\namold     envlpx    .00005,.03,p3,.06,1,.5,.01,0.8 \n          outs      asculpt*amold,asculpt*amold\n          endin\n\n\n</CsInstruments>\n<CsScore>\n;SCORE FILE ONE...SIX TONES\n\nf1 0 32 -2 1 2 3 2 2 2 1 1 1 1 1 1 1 1\nt 0 150\n;I START DUR BEGIN  END\ni1 0    .72  400    375\ni1 1    .72  330    300\ni1 2    .72  205    200\ni1 3    .72  144    140\ni1 4    .72  100     90\ni1 5    .72  74      75\n\n\n;SCORE FILE TWO...RHYTHMIC CONFIGURATION \n\ns\nt 0 150\n;I START DUR BEGIN END\ni1 0     .72 144   140\ni1 0.24  .72 74     75\ni1 .75   .72 205   200\ni1 1.5   .72 144   140\ni1 1.44  .72 74     75\ni1 2.25  .72 440   375\ni1 2.15  .72 330   300\ni1 3     .72 144   140\ni1 3.05  .72 74     75        \ni1 4     .72 100    90\ni1 5     .72 144   140\ni1 5.06  .72 74     75\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Random Vowel Reson Filter. using voice synthesis and resonant filter and interpolating random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from VoiceBox.orc and VoiceBox.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Random Vowel Reson Filter.\n\nilevl    = p4/550\nirate    = p5\niseed    = p6\n\na0       soundin  \"Sample1\"\n\nk1       randi  .5, irate, iseed\nk1       = k1 + .5\nk1f      table  k1, 11, 1\nk2f      table  k1, 12, 1\nk3f      table  k1, 13, 1\nk4f      table  k1, 14, 1\nk5f      table  k1, 15, 1\nk1b      table  k1, 21, 1\nk2b      table  k1, 22, 1\nk3b      table  k1, 23, 1\nk4b      table  k1, 24, 1\nk5b      table  k1, 25, 1\na1       reson  a0, k1f, k1b\na2       reson  a0, k2f, k2b\na3       reson  a0, k3f, k3b\na4       reson  a0, k4f, k4b\na5       reson  a0, k5f, k5b\nout      (a1 + a2 + a3 + a4 + a5)*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\n;f11 0 1024 -7  600 256  400 256  250 256  400 256  350 ; Bass\n;f12 0 1024 -7 1040 256 1620 256 1750 256  750 256  600\n;f13 0 1024 -7 2250 256 2400 256 2600 256 2400 256 2400\n;f14 0 1024 -7 2450 256 2800 256 3050 256 2600 256 2675\n;f15 0 1024 -7 2750 256 3100 256 3340 256 2900 256 2950\n\n;f21 0 1024 -7   60 256   40 256   60 256   40 256   40\n;f22 0 1024 -7   70 256   80 256   90 256   80 256   80\n;f23 0 1024 -7  110 256  100 256  100 256  100 256  100\n;f24 0 1024 -7  120 256  120 256  120 256  120 256  120\n;f25 0 1024 -7  130 256  120 256  120 256  120 256  120\n\nf11 0 1024 -7  650 256  400 256  290 256  400 256  350 ; Tenor\nf12 0 1024 -7 1080 256 1700 256 1870 256  800 256  600\nf13 0 1024 -7 2650 256 2600 256 2800 256 2600 256 2700\nf14 0 1024 -7 2900 256 3200 256 3250 256 2800 256 2900\nf15 0 1024 -7 3250 256 3580 256 3540 256 3000 256 3300\n\nf21 0 1024 -7   80 256   70 256   40 256   40 256   40\nf22 0 1024 -7   90 256   80 256   90 256   80 256   60\nf23 0 1024 -7  120 256  100 256  100 256  100 256  100\nf24 0 1024 -7  130 256  120 256  120 256  120 256  120\nf25 0 1024 -7  140 256  120 256  120 256  120 256  120\n\n;   Strt  Leng  Levl  Rate  Seed\ni1  0.00  1.47  0.80  2.75  0.88\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ires1     =         p4 using resonant filter and interpolating random and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from glnoi.orc and glnoi.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n          \n; DOUBLE RESONATED NOISE\n\n\n;i1 0 DUR res1 res1a res2 AMP SEED\n          instr 1\nires1     =         p4\nires1a    =         p5\nires2     =         p6\nibf       =         .5\niamp      =         p7*32767 * 5\niseed     =         p8\nibw       =         p4*ibf\nkenv      linseg    0,p3/2,iamp,p3/2,0\nanoise    randi     1.0, 13000, iseed\nkres1     linseg    ires1, p3, ires1a\nkbw       =         kres1 * ibf\nares      reson     anoise,ires1,ibw,1\naresmove  reson     anoise,kres1,kbw,1\naresmix   =         ares + aresmove\nares1     reson     aresmix,ires2,ibw,1\n          out       ares1*kenv\n          endin\n\n;i1 0 DUR res1 AMP SEED\n          instr 2\nires1     =         p4\nibf       = .05\niamp      = p5*32767 * 2.5\niseed     = p6\nibw       = p4*ibf\nkenv      linseg    0,p3/2,iamp,p3/2,0\nanoise    randi     1.0, 13000, iseed\nares1     reson     anoise,ires1,ibw,1\nares2     reson     ares1,ires1,ibw,1\n          out       ares2*kenv\n          endin\n\n\n</CsInstruments>\n<CsScore>\ni2 0.0000 3.7435 1189.3414 0.5555 0.5139\ni2 0.4623 2.1510 3520.0000 0.3913 0.1757\ni2 0.6191 2.8322 2378.6829 0.2592 0.3087\ni2 0.6978 1.3175 880.0000 0.5567 0.5345\ni2 0.9333 1.1934 1980.0000 0.2348 0.9476\ni2 1.2803 3.6454 4228.7695 0.5870 0.1717\ni2 1.5750 1.7770 660.0000 0.4123 0.7022\ni2 1.6553 3.5145 1189.3414 0.2428 0.2264\ni2 1.6638 2.8715 4228.7695 0.2889 0.4948\ni2 1.8204 1.2279 1320.0000 0.5968 0.1247\ni2 2.1828 3.9342 792.8943 0.4432 0.0839\ni2 2.4009 2.9834 1585.7886 0.5810 0.3896\ni2 2.5149 1.1926 1189.3414 0.4233 0.2772\ni2 2.6718 3.6846 1585.7886 0.6677 0.3681\ni2 2.7806 3.3860 1585.7886 0.4268 0.9834\ni2 2.9296 1.3398 3960.0000 0.5458 0.5354\ni2 3.1418 3.7271 1760.0000 0.6808 0.7657\ni2 3.5433 1.7360 3520.0000 0.3540 0.6465\ni2 5.1380 3.5193 528.5962 0.6921 0.7671\ni2 5.6212 2.7183 528.5962 0.6548 0.7802\ni2 6.0322 1.3311 880.0000 0.3387 0.8230\ni2 6.1155 2.0525 704.7949 0.3847 0.1519\ni2 6.1483 3.0339 594.6707 0.6713 0.6255\ni2 7.0409 2.9998 3758.9063 0.5326 0.3147\ni2 7.7239 1.0676 2114.3848 0.6780 0.3469\ni2 7.9014 1.8797 880.0000 0.6446 0.9172\ni2 8.0173 2.6333 792.8943 0.4213 0.5198\ni2 8.5460 2.2953 594.6707 0.4149 0.4012\ni2 8.7164 2.8396 3171.5771 0.5215 0.6068\ni2 9.1364 3.8344 4228.7695 0.2591 0.7854\ni2 9.4650 3.7576 3171.5771 0.6679 0.9315\ni2 9.9185 2.5830 2819.1797 0.3770 0.8699\ni2 9.9379 1.9854 4228.7695 0.4505 0.8665\ni2 10.1673 2.5897 939.7266 0.2271 0.6745\ni2 10.8415 2.9005 3171.5771 0.2337 0.7584\ni2 11.6074 2.1788 792.8943 0.4853 0.5819\ni2 11.6525 2.2351 1189.3414 0.6141 0.3892\ni2 12.0223 3.6775 4757.3657 0.4460 0.3556\ni2 12.7077 1.6932 594.6707 0.5281 0.2002\ni2 12.9910 1.1066 880.0000 0.2030 0.8269\ni2 12.9920 3.9055 1760.0000 0.3428 0.4159\ni2 13.1509 1.6274 2819.1797 0.2712 0.4635\ni2 13.2654 3.0900 2114.3848 0.5840 0.9792\ni2 13.3322 1.0981 880.0000 0.5661 0.1264\ni2 13.5411 1.3121 1879.4531 0.2390 0.2126\ni2 13.6660 2.4761 4228.7695 0.3107 0.9585\ni2 13.8099 1.4379 704.7949 0.4120 0.7375\ni2 14.2465 1.0392 3171.5771 0.2198 0.4091\ni2 14.4671 3.2121 2378.6829 0.4647 0.7801\ni2 14.5577 3.9571 3520.0000 0.4041 0.7579\ni2 15.1906 2.7575 939.7266 0.6746 0.9568\ni2 15.2546 3.5431 1409.5898 0.6034 0.0281\ni2 15.4080 2.0096 880.0000 0.5888 0.3187\ni2 16.0559 1.7914 3171.5771 0.6458 0.7569\ni2 17.0171 2.5429 2378.6829 0.4360 0.2430\ni2 17.2732 2.0772 1057.1924 0.5667 0.5895\ni2 18.0529 1.9471 792.8943 0.5904 0.0434\ni2 18.9539 1.0461 1760.0000 0.6573 0.9560\ni2 19.3829 0.6171 1409.5898 0.2816 0.3191\ni2 19.4811 0.5189 939.7266 0.4119 0.0594\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for endin using resonant filter and interpolating random and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from drnoi.orc and drnoi.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n          \n; DOUBLE RESONATED NOISE\n\n          instr 1\n          endin\n\n;i1 0 DUR res1 res2 AMP SEED\n          instr 2\nires1     =         p4\nires2     =         p5\nibf       =         .02\niamp      =         p6*32767 * 5\niseed     =         p7\nibw       =         p4*ibf\nkenv      linseg    0,p3/2,iamp,p3/2,0\nanoise    randi     1.0, 13000, iseed\nares      reson     anoise,ires1,ibw,1\nares1     reson     ares,ires2,ibw,1\n          out       ares1*kenv\n          endin\n\n\n</CsInstruments>\n<CsScore>\ni1 0 10.000000 1 0.000000\ni2 1.038985 4.388 300.000 301.752 0.334672 0.179087\ni2 0.184884 4.879 800.001 799.203 0.494906 0.511906\ni2 0.000000 4.650 2400.003 2408.098 0.573940 0.693463\ni2 0.996641 4.580 120.000 120.888 0.455472 0.010761\ni2 1.783102 3.875 180.000 181.000 0.528844 0.813391\ni2 2.797150 3.735 450.000 446.991 0.349597 0.954783\ni2 2.256083 3.815 675.000 670.953 0.289263 0.436964\ni2 2.104223 4.395 771.428 766.604 0.531764 0.500691\ni2 3.041450 3.932 1028.571 1018.610 0.347155 0.168321\ni2 3.070754 4.050 2571.428 2553.102 0.431622 0.007736\ni2 1.445545 4.470 2999.999 2980.616 0.572924 0.670822\ni2 3.894145 4.207 3999.998 4014.355 0.262387 0.922141\ni2 2.851077 4.241 4571.426 4527.762 0.533778 0.810250\ni2 5.554506 4.153 102.872 103.023 0.458690 0.043139\ni2 4.185457 4.276 120.017 119.481 0.236059 0.713853\ni2 5.503090 4.497 140.020 138.852 0.435435 0.378447\ni2 4.243340 4.644 326.667 324.884 0.307037 0.675316\ni2 7.114023 2.886 392.000 389.832 0.430979 0.413900\ni2 4.438764 4.151 490.000 485.110 0.267212 0.046142\ni2 6.805604 3.194 1225.000 1219.117 0.353967 0.274146\ni2 4.998450 4.381 2940.001 2947.063 0.431847 0.549432\ni2 5.108520 3.977 3430.001 3419.631 0.366749 0.613136\ni2 8.741129 1.259 137.162 136.768 0.581772 0.775111\ni2 5.875623 4.124 156.757 155.293 0.301969 0.429858\ni2 7.586683 2.413 391.893 393.002 0.379175 0.568557\ni2 8.578154 1.422 1045.048 1038.694 0.579027 0.644098\ni2 7.682146 2.318 2612.621 2591.897 0.236094 0.830192\ni2 8.434505 1.565 3483.494 3508.208 0.200656 0.841071\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifrq      =         cpspch(p5) using physical modeling and resonant filter and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from physical2.orc and physical2.sco\n; Original files preserved in same directory\n\nsr        =    44100\nkr        =    4410\nksmps     =    10\nnchnls    =    2\n\n\n\n          ; SOUNDS LIKE A WHISTLE... FROM A MOUTH WITH NO TEETH AT ALL ;)))\n\n          instr 1\nifrq      =         cpspch(p5)\niamp      =         ampdb(p4)\nkenv      linseg    0,p3/3,iamp,2*p3/3,0\na1        rand      kenv,1\na2        atone     a1,3000,1\naflt      reson     a2*.3,ifrq,10,0,1\n          outs      aflt*p6,aflt*(1-p6)\n          endin\n\n\n\n\n</CsInstruments>\n<CsScore>\n\ni 1  0.5  0.313     65.  9.05 1    \ni 1  0.5  0.313     65.  9.02 0    \ni 1  0.813     0.313     65.  9.1  1    \ni 1  0.813     0.313     65.  9.07 0    \ni 1  1.125     0.156     65.  9.1  1    \ni 1  1.125     0.156     65.  9.07 0    \ni 1  1.281     0.156     65.  10.  1    \ni 1  1.281     0.156     65.  9.09 0    \ni 1  1.438     0.156     65.  9.1  1    \ni 1  1.438     0.156     65.  9.07 0    \ni 1  1.594     0.156     65.  9.09 1    \ni 1  1.594     0.156     65.  9.06 0    \ni 1  1.751     0.313     65.  9.07 1    \ni 1  1.751     0.313     65.  9.04 0    \ni 1  2.063     0.313     65.  9.03 1    \ni 1  2.063     0.313     65.  8.12 0    \ni 1  2.376     0.313     65.  9.03 1    \ni 1  2.376     0.313     65.  8.12 0    \ni 1  2.688     0.313     65.  10.  1    \ni 1  2.688     0.313     65.  9.09 0    \ni 1  3.001     0.156     65.  10.  1    \ni 1  3.001     0.156     65.  9.09 0    \ni 1  3.158     0.156     65.  10.02     1    \ni 1  3.158     0.156     65.  9.11 0    \ni 1  3.314     0.156     65.  10.  1    \ni 1  3.314     0.156     65.  9.09 0    \ni 1  3.471     0.156     65.  9.1  1    \ni 1  3.471     0.156     65.  9.07 0    \ni 1  3.627     0.313     65.  9.09 1    \ni 1  3.627     0.313     65.  9.06 0    \ni 1  3.94 0.313     65.  9.05 1    \ni 1  3.94 0.313     65.  9.02 0    \ni 1  4.252     0.313     65.  9.05 1    \ni 1  4.252     0.313     65.  9.02 0    \ni 1  4.565     0.313     65.  10.02     1    \ni 1  4.565     0.313     65.  9.11 0    \ni 1  4.877     0.156     65.  10.02     1    \ni 1  4.877     0.156     65.  9.11 0    \ni 1  5.034     0.156     65.  10.03     1    \ni 1  5.034     0.156     65.  9.12 0    \ni 1  5.19 0.156     65.  10.02     1    \ni 1  5.19 0.156     65.  9.11 0    \ni 1  5.346     0.156     65.  10.  1    \ni 1  5.346     0.156     65.  9.09 0    \ni 1  5.503     0.313     65.  9.1  1    \ni 1  5.503     0.313     65.  9.07 0    \ni 1  5.815     0.313     65.  9.07 1    \ni 1  5.815     0.313     65.  9.04 0    \ni 1  6.128     0.156     65.  9.07 1    \ni 1  6.128     0.156     65.  9.04 0    \ni 1  6.284     0.156     65.  9.07 1    \ni 1  6.284     0.156     65.  9.04 0    \ni 1  6.441     0.313     65.  9.07 1    \ni 1  6.441     0.313     65.  9.04 0    \ni 1  6.753     0.313     65.  10.  1    \ni 1  6.753     0.313     65.  9.09 0    \ni 1  7.066     0.313     65.  9.09 1    \ni 1  7.066     0.313     65.  9.06 0    \ni 1  7.378     1.25 65.  9.1  1    \ni 1  7.378     1.25 65.  9.07 0    \ni 1  0.5  0.313     65.  9.05 1    \ni 1  0.5  0.313     65.  9.02 0    \ni 1  0.813     0.313     65.  9.1  1    \ni 1  0.813     0.313     65.  9.07 0    \ni 1  1.125     0.156     65.  9.1  1    \ni 1  1.125     0.156     65.  9.07 0    \ni 1  1.281     0.156     65.  10.  1    \ni 1  1.281     0.156     65.  9.09 0    \ni 1  1.438     0.156     65.  9.1  1    \ni 1  1.438     0.156     65.  9.07 0    \ni 1  1.594     0.156     65.  9.09 1    \ni 1  1.594     0.156     65.  9.06 0    \ni 1  1.751     0.313     65.  9.07 1    \ni 1  1.751     0.313     65.  9.04 0    \ni 1  2.063     0.313     65.  9.03 1    \ni 1  2.063     0.313     65.  8.12 0    \ni 1  2.376     0.313     65.  9.03 1    \ni 1  2.376     0.313     65.  8.12 0    \ni 1  2.688     0.313     65.  10.  1    \ni 1  2.688     0.313     65.  9.09 0    \ni 1  3.001     0.156     65.  10.  1    \ni 1  3.001     0.156     65.  9.09 0    \ni 1  3.158     0.156     65.  10.02     1    \ni 1  3.158     0.156     65.  9.11 0    \ni 1  3.314     0.156     65.  10.  1    \ni 1  3.314     0.156     65.  9.09 0    \ni 1  3.471     0.156     65.  9.1  1    \ni 1  3.471     0.156     65.  9.07 0    \ni 1  3.627     0.313     65.  9.09 1    \ni 1  3.627     0.313     65.  9.06 0    \ni 1  3.94 0.313     65.  9.05 1    \ni 1  3.94 0.313     65.  9.02 0    \ni 1  4.252     0.313     65.  9.05 1    \ni 1  4.252     0.313     65.  9.02 0    \ni 1  4.565     0.313     65.  10.02     1    \ni 1  4.565     0.313     65.  9.11 0    \ni 1  4.877     0.156     65.  10.02     1    \ni 1  4.877     0.156     65.  9.11 0    \ni 1  5.034     0.156     65.  10.03     1    \ni 1  5.034     0.156     65.  9.12 0    \ni 1  5.19 0.156     65.  10.02     1    \ni 1  5.19 0.156     65.  9.11 0    \ni 1  5.346     0.156     65.  10.  1    \ni 1  5.346     0.156     65.  9.09 0    \ni 1  5.503     0.313     65.  9.1  1    \ni 1  5.503     0.313     65.  9.07 0    \ni 1  5.815     0.313     65.  9.07 1    \ni 1  5.815     0.313     65.  9.04 0    \ni 1  6.128     0.156     65.  9.07 1    \ni 1  6.128     0.156     65.  9.04 0    \ni 1  6.284     0.156     65.  9.07 1    \ni 1  6.284     0.156     65.  9.04 0    \ni 1  6.441     0.313     65.  9.07 1    \ni 1  6.441     0.313     65.  9.04 0    \ni 1  6.753     0.313     65.  10.  1    \ni 1  6.753     0.313     65.  9.09 0    \ni 1  7.066     0.313     65.  9.09 1    \ni 1  7.066     0.313     65.  9.06 0    \ni 1  7.378     1.25 65.  9.1  1    \ni 1  7.378     1.25 65.  9.07 0 \n\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifrq      =         cpspch(p5) using resonant filter and random noise and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from xmas.orc and xmas.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n; SOUNDS LIKE A WHISTLE... FROM A MOUTH WITH NO TEETH AT ALL \n; )))\n\n          instr 1\nifrq      =         cpspch(p5)\niamp      =         ampdb(p4)\nkenv      linseg    0,p3/3,iamp,2*p3/3,0\na1        rand      kenv,1\na2        atone     a1,3000,1\naflt      reson     a2*.3,ifrq,10,0,1\n          outs      aflt*p6,aflt*(1-p6)\n          endin\n\n\n</CsInstruments>\n<CsScore>\ni 1 0.5 0.313 65.   9.05 1\ni 1 0.5 0.313 65.   9.02 0\ni 1 0.813 0.313 65. 9.1 1\ni 1 0.813 0.313 65. 9.07 0\ni 1 1.125 0.156 65. 9.1 1\ni 1 1.125 0.156 65. 9.07 0\ni 1 1.281 0.156 65. 10. 1\ni 1 1.281 0.156 65. 9.09 0\ni 1 1.438 0.156 65. 9.1 1\ni 1 1.438 0.156 65. 9.07 0\ni 1 1.594 0.156 65. 9.09 1\ni 1 1.594 0.156 65. 9.06 0\ni 1 1.751 0.313 65. 9.07 1\ni 1 1.751 0.313 65. 9.04 0\ni 1 2.063 0.313 65. 9.03 1\ni 1 2.063 0.313 65. 8.12 0\ni 1 2.376 0.313 65. 9.03 1\ni 1 2.376 0.313 65. 8.12 0\ni 1 2.688 0.313 65. 10. 1\ni 1 2.688 0.313 65. 9.09 0\ni 1 3.001 0.156 65. 10. 1\ni 1 3.001 0.156 65. 9.09 0\ni 1 3.158 0.156 65. 10.02 1\ni 1 3.158 0.156 65. 9.11 0\ni 1 3.314 0.156 65. 10. 1\ni 1 3.314 0.156 65. 9.09 0\ni 1 3.471 0.156 65. 9.1 1\ni 1 3.471 0.156 65. 9.07 0\ni 1 3.627 0.313 65. 9.09 1\ni 1 3.627 0.313 65. 9.06 0\ni 1 3.94 0.313 65.  9.05 1\ni 1 3.94 0.313 65.  9.02 0\ni 1 4.252 0.313 65. 9.05 1\ni 1 4.252 0.313 65. 9.02 0\ni 1 4.565 0.313 65. 10.02 1\ni 1 4.565 0.313 65. 9.11 0\ni 1 4.877 0.156 65. 10.02 1\ni 1 4.877 0.156 65. 9.11 0\ni 1 5.034 0.156 65. 10.03 1\ni 1 5.034 0.156 65. 9.12 0\ni 1 5.19 0.156 65.  10.02 1\ni 1 5.19 0.156 65.  9.11 0\ni 1 5.346 0.156 65. 10. 1\ni 1 5.346 0.156 65. 9.09 0\ni 1 5.503 0.313 65. 9.1 1\ni 1 5.503 0.313 65. 9.07 0\ni 1 5.815 0.313 65. 9.07 1\ni 1 5.815 0.313 65. 9.04 0\ni 1 6.128 0.156 65. 9.07 1\ni 1 6.128 0.156 65. 9.04 0\ni 1 6.284 0.156 65. 9.07 1\ni 1 6.284 0.156 65. 9.04 0\ni 1 6.441 0.313 65. 9.07 1\ni 1 6.441 0.313 65. 9.04 0\ni 1 6.753 0.313 65. 10. 1\ni 1 6.753 0.313 65. 9.09 0\ni 1 7.066 0.313 65. 9.09 1\ni 1 7.066 0.313 65. 9.06 0\ni 1 7.378 1.25 65.  9.1 1\ni 1 7.378 1.25 65.  9.07 0\ni 1 0.5 0.313 65.   9.05 1\ni 1 0.5 0.313 65.   9.02 0\ni 1 0.813 0.313 65. 9.1 1\ni 1 0.813 0.313 65. 9.07 0\ni 1 1.125 0.156 65. 9.1 1\ni 1 1.125 0.156 65. 9.07 0\ni 1 1.281 0.156 65. 10. 1\ni 1 1.281 0.156 65. 9.09 0\ni 1 1.438 0.156 65. 9.1 1\ni 1 1.438 0.156 65. 9.07 0\ni 1 1.594 0.156 65. 9.09 1\ni 1 1.594 0.156 65. 9.06 0\ni 1 1.751 0.313 65. 9.07 1\ni 1 1.751 0.313 65. 9.04 0\ni 1 2.063 0.313 65. 9.03 1\ni 1 2.063 0.313 65. 8.12 0\ni 1 2.376 0.313 65. 9.03 1\ni 1 2.376 0.313 65. 8.12 0\ni 1 2.688 0.313 65. 10. 1\ni 1 2.688 0.313 65. 9.09 0\ni 1 3.001 0.156 65. 10. 1\ni 1 3.001 0.156 65. 9.09 0\ni 1 3.158 0.156 65. 10.02 1\ni 1 3.158 0.156 65. 9.11 0\ni 1 3.314 0.156 65. 10. 1\ni 1 3.314 0.156 65. 9.09 0\ni 1 3.471 0.156 65. 9.1 1\ni 1 3.471 0.156 65. 9.07 0\ni 1 3.627 0.313 65. 9.09 1\ni 1 3.627 0.313 65. 9.06 0\ni 1 3.94 0.313 65.  9.05 1\ni 1 3.94 0.313 65.  9.02 0\ni 1 4.252 0.313 65. 9.05 1\ni 1 4.252 0.313 65. 9.02 0\ni 1 4.565 0.313 65. 10.02 1\ni 1 4.565 0.313 65. 9.11 0\ni 1 4.877 0.156 65. 10.02 1\ni 1 4.877 0.156 65. 9.11 0\ni 1 5.034 0.156 65. 10.03 1\ni 1 5.034 0.156 65. 9.12 0\ni 1 5.19 0.156 65.  10.02 1\ni 1 5.19 0.156 65.  9.11 0\ni 1 5.346 0.156 65. 10. 1\ni 1 5.346 0.156 65. 9.09 0\ni 1 5.503 0.313 65. 9.1 1\ni 1 5.503 0.313 65. 9.07 0\ni 1 5.815 0.313 65. 9.07 1\ni 1 5.815 0.313 65. 9.04 0\ni 1 6.128 0.156 65. 9.07 1\ni 1 6.128 0.156 65. 9.04 0\ni 1 6.284 0.156 65. 9.07 1\ni 1 6.284 0.156 65. 9.04 0\ni 1 6.441 0.313 65. 9.07 1\ni 1 6.441 0.313 65. 9.04 0\ni 1 6.753 0.313 65. 10. 1\ni 1 6.753 0.313 65. 9.09 0\ni 1 7.066 0.313 65. 9.09 1\ni 1 7.066 0.313 65. 9.06 0\ni 1 7.378 1.25 65.  9.1 1\ni 1 7.378 1.25 65.  9.07 0\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifile          =         p4 using reverb effect and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from rev10.orc and rev10.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\n;2IN 2OUT WET REVERB\n;i1 0 dur file skip gain\ninstr          1\nifile          =         p4\niskip          =         p5\nigain          =         p6 * 3\nit1d1          =         .023\nit1d2          =         .027\nit1d3          =         .031\nit2d1          =         .029\nit2d2          =         .039\nit2d3          =         .037\nitapgain       =         .2\niallrvt        =         2.0\nilpfraw        =         3000\nicombrvt       =         2.5\nilpt1a         =         1/79.3\nilpt1b         =         1/69.3\nilpt1c         =         1/59.3\nilpt2a         =         1/73.3\nilpt2b         =         1/64.3\nilpt2c         =         1/55.3\nicombgain      =         .33\nicomblpf       =         600\na1in, a2in     soundin   ifile, iskip\na1in           =         a1in * igain\na2in           =         a2in * igain\natap1a         delay     a1in, it1d1\natap1b         delay     a1in, it1d2\natap1c         delay     a1in, it1d3\natap2a         delay     a2in, it2d1\natap2b         delay     a2in, it2d2\natap2c         delay     a2in, it2d3\natap1sum       =         (atap1a+atap1b+atap1c)*itapgain\natap2sum       =         (atap2a+atap2b+atap2c)*itapgain\naall1          alpass    atap1sum, iallrvt, .06\naall2          alpass    atap2sum, iallrvt, .06\nain1sum        =         a1in+aall1\nain2sum        =         a2in+aall2\naraw1          atone     ain1sum, ilpfraw\naraw2          atone     ain2sum, ilpfraw\n; MIDLEVEL REVERB\nacomb1a        comb      araw1, icombrvt, ilpt1a\nacomb1b        comb      araw1, icombrvt, ilpt1b\nacomb1c        comb      araw1, icombrvt, ilpt1c\nacomb2a        comb      araw2, icombrvt, ilpt2a\nacomb2b        comb      araw2, icombrvt, ilpt2b\nacomb2c        comb      araw2, icombrvt, ilpt2c\nacombsum1      =         (acomb1a+acomb1b+acomb1c)\nacombsum2      =         (acomb2a+acomb2b+acomb2c)\nalpfc1         tone      acombsum1, icomblpf\nalpfc2         tone      acombsum2, icomblpf\nacdel1         delay     alpfc1, .03\nacdel1         =         acdel1 * .4\nacdel2         delay     alpfc2, .015\nacdel2         =         acdel2 * .4\nalpfc1         =         alpfc1 + acdel1\nalpfc2         =         alpfc2 + acdel2\n               ; sum     raw + comb\narcsum1        =         alpfc1 + araw1\narcsum2        =         alpfc2 + araw2\niechorvt       =         4.5\nielpt1a        =         .237\nielpt1b        =         .391\nielpt1c        =         .473\nielpt2a        =         .221\nielpt2b        =         .385\nielpt2c        =         .507\nirawgain       =         .6\nilpfcgain      =         .1\niechogain      =         .1\naecho1a        comb      arcsum1, iechorvt, ielpt1a\naecho1b        comb      arcsum1, iechorvt, ielpt1b\naecho1c        comb      arcsum1, iechorvt, ielpt1c\naecho2a        comb      arcsum2, iechorvt, ielpt2a\naecho2b        comb      arcsum2, iechorvt, ielpt2b\naecho2c        comb      arcsum2, iechorvt, ielpt2c\naecho1sum      =         (aecho1a+aecho1b+aecho1c)\naecho2sum      =         (aecho2a+aecho2b+aecho2c)\naout1          =         (araw1*irawgain)+(alpfc1*ilpfcgain)+(aecho1sum*iechogain)\naout2          =         (araw2*irawgain)+(alpfc2*ilpfcgain)+(aecho2sum*iechogain)\n               outs      aout1, aout2\nendin\n\n</CsInstruments>\n<CsScore>\ni1 0 3 1 0 .5\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a circle sound using reverb effect and stereo reverb and panning", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from circle01.orc and circle01.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n; ROTATION OF SOUNDS IN CIRCLES WITH DOPPLER SHIFT\n; WAV-FILES LOOPS USING LOSCIL\n; PETER ESCH (PESCH@PRATIQUE.FR), JULY 1998\n\n\ngal       init      0\ngar       init      0\n\n          instr 1\n\nidur      =         p3                       ; DURATION\ninote     =         p4                       ; NOTE IN PCH NOTATION\nisloop    =         p5                       ; START LOOP (IN SAMPLES) OF WAVFILE\nieloop    =         p6                       ; END LOOP (IN SAMPLES) OF WAVFILE\ninrot     =         p7                       ; NUMBER OF ROTATIONS DURING idur\nidrot     =         p8                       ; DIRECTION OF ROTATION, ANTI-CLOCKWISE (idrot=1), CLOCKWISE (idrot=2)\nisrot     =         p9                       ; STARTPOSITION OF THE ROTATION (0-1)\n                                             ; CLOCKWISE      FRONT(0), LEFT(0.25), BACK(0.5), RIGHT(0.75) \n                                             ; ANTI-CLOCKWISE FRONT(0), LEFT(0.75), BACK(0.5), RIGHT(0.25)       \niwavf     =         p10                      ; WAVFILE\nidiam     =         p11                      ; DIAMETER OF THE \"CIRCLE\" (5-15)\n\nicfreq    =         inrot/idur               ; \"CIRCLE\" FREQUENCY\n\nk1        phasor    icfreq\nk2        tablei    k1,idrot,1,isrot,1  \nk3        tablei    k1,3,1,isrot,1      \nk4        tablei    k1,4,1,isrot,1      \n\nkdegree   =         k2*90                    ; PAN\nkdistance =         1+idiam*k3               ; DISTANCE\nkfreq     =         (340/(340+3.14*idiam*k4*icfreq))*cpspch(inote) ; DOPPLER SHIFT\n\nkenv      linseg    0,.005*idur,1,.99*idur,1,.005*idur,0\nawav      loscil    kenv*30000,kfreq,iwavf,cpspch(8.09),1,isloop,ieloop\n\nal,ar     locsig    awav,kdegree,kdistance,.1\narl,arr   locsend       \n\ngal       =         gal+arl+.1*arr\ngar       =         gar+arr+.1*arl\n\n          outs      al,ar\n          endin\n\n          instr 99\n\nkrvbt     =         p4                       ; REVERB TIME\n\nal        reverb2   gal,krvbt,.5\nar        reverb2   gar,krvbt,.5\n\n          outs      al,ar\ngal       =         0\ngar       =         0\n\n          endin\n\n</CsInstruments>\n<CsScore>\n\nf1 0 1024 19 1 1 0 1          ;FUNCTION TABLE FOR CLOCKWISE ROTATION\n\nf2 0 1024 19 1 1 180 1        ;FUNCTION TABLE FOR ANTI-CLOCKWISE ROTATION\n\nf3 0 1024 9 .5 1 0            ;FUNCTION TABLE FOR DISTANCE\n\nf4 0 1024 9 .5 1 90           ;FUNCTION TABLE FOR DOPPLER SHIFT \n\nf5 0 0 1 \"b603a.wav\" 0 4 0    ;INPUT WAV.FILE ISLOOP 4041 IELOOP 19848\n\nf6 0 0 1 \"b603o.wav\" 0 4 0    ;INPUT WAV.FILE ISLOOP 4385 IELOOP 19765\n                                 \n      \n;    idur  inote isloop   ieloop  inrot idrot  isrot iwavf idiam\n;================================================================\ni1 0  8    8.09  4041     19848   1     1      .5     5     13\ni1 4  8    9.00  4385     19765   1.5   2      .25    6     13\ni1 8  5    8.09  4041     19848   1     2      .75    5     13\ni1 14 8    8.09  4041     19848   1     1      .5     5     13\ni1 14 8    9.00  4385     19765   1     2      .5     6     13\n\n;    idur krvbt\n;===============\ni99 0 25   2.5\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for a1\t\tloscil\t15000, 1, 1, 1, 1, 1, 87936 using reverb effect and stereo reverb and looping oscillator/sampler", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from revex.orc and revex.sco\n; Original files preserved in same directory\n\nsr \t\t= \t\t44100\nkr \t\t= \t\t4410\nksmps \t= \t\t10\nnchnls \t= \t\t2\n\n\nga1 \t\tinit\t\t0\nga2 \t\tinit\t\t0\nga3 \t\tinit\t\t0\nga4 \t\tinit\t\t0\n\n\t\tinstr 1\n\na1\t\tloscil\t15000, 1, 1, 1, 1, 1, 87936\n\t\touts\t\ta1, a1\n\nga1 \t\t= \t\ta1 * p4\nga2 \t\t= \t\ta1 * p4\nga3 \t\t= \t\ta1 * p5\nga4 \t\t= \t\ta1 * p5\n\t\tendin\n\n\t\tinstr 2\na1\t\treverb\tga1, p5\na2\t\treverb\tga2, p5\n\t\n\t\touts\t\ta1 * p4, a2 * p4\nga1 \t\t= \t\t0\nga2 \t\t= \t\t0\n\t\tendin\n\n\t\tinstr 3\na1\t\treverb2\tga3, p5, .3\na2\t\treverb2\tga4, p5, .3\n\n\t\touts\t\ta1 * p4, a2 * p4\nga3 \t\t= \t\t0\nga4 \t\t= \t\t0\n\t\tendin\n\n\t\tinstr 4\na1\t\toscilx\t32000, 1, 2, 1\n\nga1 \t\t= \t\ta1 * p4\nga2 \t\t= \t\ta1 * p4\nga3 \t\t= \t\ta1 * p5\nga4 \t\t= \t\ta1 * p5\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 131072 1 \"drumloop.aif\" 0 4 1\n\ni2 0 4 .2 4\ni1 0 .3 1 0\n\ni3 4 4 .2 4\ni1 4 .3 0 1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur   =         p3            ; Duration using percussion and waveguide synthesis and reverb effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from newgoofyperc.orc and newgoofyperc.sco\n; Original files preserved in same directory\n\nnchnls = 2\n\n; ORC\n;---------------------------------------------------------\n; Percussion\n;---------------------------------------------------------\n       instr     18\n\nidur   =         p3            ; Duration\niamp   =         p4            ; Amplitude\nifqc   =         cpspch(p5)    ; Pitch to frequency\nipanl  =         sqrt(p6)      ; Pan left\nipanr  =         sqrt(1-p6)    ; Pan right\nitime  =         p7            ; Reverb time\nifdbk  =         p8            ; Feedback level\nidecay =         p9            ; Impulse decay time\nisweep =         p10           ; Delay sweep\niq     =         p11           ; Resonance/Q\n\nadel   init      0\n\nkdclck linseg    1, idur-.002, 1, .002, 0 ; Declick envelope\nkclk   linseg    1, idecay, 0, idur-idecay, 0 ; Generate a click\nktime  expseg    itime, idur, itime*isweep\n\nanois  rand      kclk                         ; Genrate impulse\nasig   rezzy     anois*5, ifqc, iq, 1         ; High pass rezzy\n\n\n\nadel   vdelay3    (asig+adel)*ifdbk, ktime*1000, 1000\n\naout   =         (adel+asig)*iamp*kdclck\n       outs      aout*ipanl, aout*ipanr            ; Output the sound\n\n       endin\n\n</CsInstruments>\n<CsScore>\n\n\nf1 0 65536 10 1\n\n; Percussion 1\n;    Sta     Dur  Amp     Pitch  Pan  DelTime  FdBack Decay  DelaySweep  Q\ni18  1.375   .2   16000   9.00   .2   0.02     .7      .01   .5          20\ni18  2.625   .2   14000   9.00   .8   0.02     .8      .01   .4          10\ni18  3.375   .2   16000   9.00   .2   0.02     .7      .01   .5          20\ni18  3.625   .2   14000   9.00   .8   0.02     .8      .01   .4          10\ni18  5.375   .2   16000   9.00   .2   0.02     .7      .01   .5          20\ni18  6.625   .2   14000   9.00   .8   0.02     .8      .01   .4          10\ni18  7.375   .2   16000   9.00   .2   0.02     .7      .01   .5          20\n;i18  7.625   .2   12000   9.00   .8   0.02     .8      .01   .4          10\ni18  7.750   .25  0       9.00   .8   0.02     .8      .01   .4          10\n\n; Perc sound 2\ni18  0.125   .2   25000   8.00   .4   0.1      .2      .05   .8          10\ni18  1.125   .2   35000   8.00   .4   0.1      .2      .05   .8          60\ni18  2.125   .2   25000   8.00   .4   0.1      .2      .05   .8          10\ni18  3.125   .2   35000   8.00   .4   0.1      .2      .05   .8          60\ni18  4.125   .2   25000   8.00   .4   0.1      .2      .05   .8          10\ni18  5.125   .2   35000   8.00   .4   0.1      .2      .05   .8          60\ni18  6.125   .2   25000   8.00   .4   0.1      .2      .05   .8          10\ni18  7.125   .2   35000   8.00   .4   0.1      .2      .05   .8          60\n\n; Perc sound 3\ni18  0.875   .4   15000   10.00  .0   0.04     .7      .02   2           5\ni18  2.875   .4   15000   10.00  .0   0.04     .7      .02   1.8         10\ni18  4.875   .4   15000   10.00  .0   0.04     .7      .02   2           20\ni18  6.875   .4   15000   10.00  .0   0.04     .7      .02   2.2         10\n\n; Perc sound 4\ni18  5.625   .25  20000   8.07   .4   0.18     .7      .01   .1          10\ni18  7.626   .25  19000   8.07   .6   0.18     .7      .01   .1          10\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for inputdur\t= \t\tp8 using reverb effect and delay line read and delay line write", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Reverb12.orc and Reverb12.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls \t=\t\t 2\n\n;CHORUS, COMB BASED REVERB - STEREO IN STEREO OUT,\n;BUT YOU CAN USE THE COMMENTED LINES FOR MONO INPUT.\n\n\ngifeed \t= \t\t.5\ngilp1 \t= \t\t1/10\ngilp2 \t= \t\t1/23\ngilp3 \t= \t\t1/41\ngiroll \t= \t\t3000\n\n\t\tinstr 1\n\ninputdur\t= \t\tp8\niatk \t= \t\tp9\nidk \t\t= \t\t.2\nidecay \t= \t\t.2\n\n; DATA FOR OUTPUT ENVELOPE\nioutsust\t= \t\tp3-idecay\nidur \t= \t\tinputdur-(iatk+idk)\nisust \t= \t\tp3-(iatk+idur+idk)\niorig \t= \t\tp7\nirev \t= \t\t1.0-p7\nifile \t= \t\tp4\niskip \t= \t\tp5\nigain \t= \t\tp6\n\n; FOR MONO INPUT \nasigin \tsoundin \tifile,iskip\nasigin \t= \t\tasigin * igain\najunk \talpass \tasigin,1.7,.1\naleft \talpass \tajunk,1.01,.07\najunk \talpass \tasigin,1.5,.2\naright \talpass \tajunk,1.33,.05\n        \n\n; FOR STEREO INPUT\n; kclean \tlinseg \t0,iatk,igain,idur,igain,idk,0,isust,0\n; ain1,ain2 soundin ifile,iskip\n; ain1 \t= \t\tain1*kclean\n; ain2 \t= \t\tain2*kclean\n; ajunk \talpass \tain1,1.7,.1\n; aleft \talpass \tajunk,1.01,.07\n; ajunk \talpass \tain2,1.5,.2\n; aright \talpass \tajunk,1.33,.05\n\nkdel1 \trandi \t.01,1,.666\nkdel1 \t=\t\tkdel1 + .1\naddl1 \tdelayr \t.3\nafeed1 \tdeltapi \tkdel1\nafeed1 \t= \t\tafeed1 + gifeed*aleft\n\t\tdelayw \taleft\n\nkdel2 \trandi \t.01,.95,.777\nkdel2 \t= \t\tkdel2 + .1\naddl2 \tdelayr \t.3\nafeed2 \tdeltapi \tkdel2\nafeed2 \t= \t\tafeed2 + gifeed*aright\n\t\tdelayw\t aright\n\n; GLOBAL REVERB\n\naglobin \t= \t\t(afeed1+afeed2)*.05\natap1 \tcomb \taglobin,3.3,gilp1\natap2 \tcomb \taglobin,3.3,gilp2\natap3 \tcomb \taglobin,3.3,gilp3\naglobrev \talpass \tatap1+atap2+atap3,2.6,.085\naglobrev \ttone \taglobrev,giroll\n\nkdel3 \trandi \t.003,1,.888\nkdel3 \t=\t\tkdel3 + .05\naddl3 \tdelayr \t.2\nagr1 \tdeltapi \tkdel3\n\t\tdelayw \taglobrev\n\nkdel4 \trandi \t.003,1,.999\nkdel4 \t=\t\tkdel4 + .05\naddl4 \tdelayr \t.2\nagr2 \tdeltapi \tkdel4\n\t\tdelayw \taglobrev\n\narevl \t= \t\tagr1+afeed1\narevr \t= \t\tagr2+afeed2\n; FOR MONO INPUT\naoutl \t= \t\t(asigin*iorig)+(arevl*irev)\naoutr \t= \t\t(asigin*iorig)+(arevr*irev)\n; FOR STEREO INPUT\n; aoutl \t= \t\t(ain1*iorig)+(arevl*irev)\n; aoutr \t= \t\t(ain2*iorig)+(arevr*irev)\n\nkout \tlinseg \t1,ioutsust,1,idecay,0\n\t\touts \taoutl*kout,aoutr*kout\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n;ins start dur  sndin   skip   gain  %_of_original_signal   soundin_duration   attack\ni1   0     7    5       0      1     .5                      2.5               .01\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using reverb effect and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from brStanford.orc and brStanford.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\nga1       init      0\nga2       init      0\n\n          instr 9\nidur      =         p3\niamp      =         p4\nifileno   =         p5\niskiptime =         p6\niattack   =         p7\nirelease  =         p8\nipan      =         p9                       ; 1 = LEFT, .5 = CENTER, 0 = RIGHT\nirvbgain  =         p10\n\nkamp      linen     iamp, iattack, idur, irelease\nasig      soundin   ifileno, iskiptime, 4\narampsig  =         kamp * asig\n\naoutl     =         arampsig * ipan\naoutr     =         arampsig * (1 - ipan)\n\nga2       =         aoutl * p10\nga1       =         aoutr * p11\n\n          outs      aoutl, aoutr\n  \n          endin\n\n          instr 99                           ; ACCEPTS GLOBAL OUTPUTS AND ADDS REVERB\n                                   \nirevfactor =        p4\nilowpass   =        9000\nioutputscale =      p5\n\nidel1     =         1237.000/sr\nidel2     =         1381.000/sr\nidel3     =         1607.000/sr\nidel4     =         1777.000/sr\nidel5     =         1949.000/sr\nidel6     =         2063.000/sr\nidel7     =         307.000/sr\nidel8     =         97.000/sr\nidel9     =         71.000/sr\nidel10    =         53.000/sr\nidel11    =         47.000/sr\nidel12    =         37.000/sr\nidel13    =         31.000/sr\n\nicsc1     =         .822 * irevfactor\nicsc2     =         .802 * irevfactor\nicsc3     =         .773 * irevfactor\nicsc4     =         .753 * irevfactor\nicsc5     =         .753 * irevfactor\nicsc6     =         .753 * irevfactor\n\nicsc7     =         .7 * irevfactor\n                    \nacomb1    comb      ga1, icsc1, idel1\nacomb2    comb      ga1, icsc2, idel2\nacomb3    comb      ga1, icsc3, idel3\nacomb4    comb      ga1, icsc4, idel4\nacomb5    comb      ga1, icsc5, idel5\nacomb6    comb      ga1, icsc6, idel6\n\nacomball  =         acomb1 + acomb2 + acomb3 + acomb4 + acomb5 + acomb6\n\nallp1     alpass    acomball, icsc7, idel7\nallp2     alpass    allp1, icsc7, idel8\nallp3     alpass    allp2, icsc7, idel9\nalow      tone      allp3, ilowpass\nallp4     alpass    alow, icsc7, idel10\nallp5     alpass    allp4, icsc7, idel12\narevout1  =         allp5 * ioutputscale\n\nacomb1    comb      ga2, icsc1, idel1\nacomb2    comb      ga2, icsc2, idel2\nacomb3    comb      ga2, icsc3, idel3\nacomb4    comb      ga2, icsc4, idel4\nacomb5    comb      ga2, icsc5, idel5\nacomb6    comb      ga2, icsc6, idel6\n\nacomball  =         acomb1 + acomb2 + acomb3 + acomb4 + acomb5 + acomb6\n\nallp1     alpass    acomball, icsc7, idel7\nallp2     alpass    allp1, icsc7, idel8\nallp3     alpass    allp2, icsc7, idel9\nalow      tone      allp3, ilowpass\nallp4     alpass    alow, icsc7, idel10\nallp6     alpass    allp4,icsc7, idel13\narevout2  =         allp6 * ioutputscale\n\n          outs      arevout1, arevout2\n\nga1       =         0\nga2       =         0\n\n          endin\n\n</CsInstruments>\n<CsScore>\n; ins     strt     dur      rvbtime    rvbreturn\n  i99      0       25       2.1        .4 \n; ins   strt  dur amp   snd#    skip  atk   rel blnce(0-1)  rvbLsnd rvbRsnd\n   i9   0     3   1     5       0     0     .1    .5         .2     .3\n   i9   +     .   .     5       0     0     .1    0         .3     .4\n   i9   +     .   .     5       0     0     .1    1        .4     .1\n   i9   +     .   .     5       0     0     .1    0         .1     .3\n   i9   +     .   .     5       0     0     .1    .3         .3     .4\n   i9   +     .   .     5       0     0     .1    .8        .3     .2\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for tighter reverb using reverb effect and delay line read and delay line write", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from rev3.orc and rev3.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\ngifeed         =         .5\ngilp1          =         1/30\ngilp2          =         1/23\ngilp3          =         1/41\ngiroll         =         2500\ninstr          1\n;tighter reverb\n;i1 0 dur file skip gain iorig\niorig          =         p7\nirev           =         (1.0-iorig)\n\nifile          =         p4\niskip          =         p5\nigain          =         p6\n     ;FOR MONO INPUT \n     asigin    soundin   ifile,iskip\n     asigin    =         asigin * igain\n     ajunk     alpass    asigin,.7,.044\n     aleft     alpass    ajunk,.3,.037\n\n     kdel1     randi     .01,1,.666\n     kdel1     =kdel1    + .02\n     addl1     delayr    .3\n     afeed1    deltapi   kdel1\n     afeed1    = afeed1  + gifeed*aleft\n               delayw    aleft\n\n;GLOBAL REVERB\n\n     aglobin   =         (afeed1)*.2\n     atap1     comb      aglobin,3.3,gilp1\n     atap2     comb      aglobin,3.3,gilp2\n     atap3     comb      aglobin,3.3,gilp3\n     aglobrev  alpass    atap1+atap2+atap3,2.6,.085\n     aglobrev  tone      aglobrev,giroll\n\n     kdel3     randi     .003,1,.888\n     kdel3     =         kdel3 + .05\n     addl3     delayr    .2\n     agr1      deltapi   kdel3\n               delayw    aglobrev\n\n\n     arevl     =         agr1+afeed1\n     aoutl     =         (asigin*iorig)+(arevl*irev)\n     out       aoutl\nendin\n\ninstr          100\nendin\n\n</CsInstruments>\n<CsScore>\n;i1 0 dur file skip gain iorig\n\ni1 0 3 1 0 1. .5\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iorig          =         p7 using reverb effect and delay line read and delay line write", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from rev2.orc and rev2.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\n;PANNING TAP BASED STEREO REVERB : MONO INPUT ONLY\n;i1 0 dur file skip gain iorig\ngigain         =         2.1\ngipiotwo       =         1.571\ngil1           =         sin(0)\ngil2           =         sin((1/5) * gipiotwo)\ngil3           =         sin((2/5) * gipiotwo)\ngil4           =         sin((3/5) * gipiotwo)\ngil5           =         sin((4/5) * gipiotwo)\ngil6           =         sin((1) * gipiotwo)\ngir1           =         cos(0)\ngir2           =         cos((1/5) * gipiotwo)\ngir3           =         cos((2/5) * gipiotwo)\ngir4           =         cos((3/5) * gipiotwo)\ngir5           =         cos((4/5) * gipiotwo)\ngir6           =         cos((1) * gipiotwo)\ninstr          1\niorig          =         p7\nirev           =         1-iorig\narawsig        soundin   p4,p5\narawsig        =         arawsig * p6 * gigain\naline1         delayr    1.2\natap1          deltap    .1\natap2          deltap    .3\natap3          deltap    .5\natap4          deltap    .4\natap5          deltap    .2\n               delayw    arawsig\nkenv1          randi     .49,3,.666\nkenv2          randi     .49,3.1,.555\nkenv3          randi     .49,3.2,.444\nkenv4          randi     .49,3.3,.333\nkenv5          randi     .49,3.4,.222\nkenv1          =         kenv1 + .5\nkenv2          =         kenv2 + .5\nkenv3          =         kenv3 + .5\nkenv4          =         kenv4 + .5\nkenv5          =         kenv5 + .5\natap1          =         atap1 * kenv1\natap2          =         atap2 * kenv1\natap3          =         atap3 * kenv1\natap4          =         atap4 * kenv1\natap5          =         atap5 * kenv1\naleft          =         (atap1*gil1)+(atap2*gil2)+(atap3*gil3)+(atap4*gil4)+(atap5*gil5)\naright         =         (atap1*gir1)+(atap2*gir2)+(atap3*gir3)+(atap4*gir4)+(atap5*gir5)\naleftout       =         (aleft*irev)+(arawsig*iorig)\narightout      =         (aright*irev)+(arawsig*iorig)\n               outs      aleftout,arightout\nendin\n\ninstr          100\nendin\n\n</CsInstruments>\n<CsScore>\n;i1 0 dur file skip gain iorig\n\ni1 0 3 1 0 1. .5\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for inputdur       =         p8 using reverb effect and delay line read and delay line write", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from rev1.orc and rev1.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\ngifeed         =         .5\ngilp1          =         1/10\ngilp2          =         1/23\ngilp3          =         1/41\ngiroll         =         3000\n;i1 0 dur file skip gain %orig inputdur atk\ninstr          1\ninputdur       =         p8\niatk           =         p9\nidk            =         .01\nidecay         =         .01\n;data for output envelope\nioutsust       =         p3-idecay\nidur           =         inputdur-(iatk+idk)\nisust          =         p3-(iatk+idur+idk)\niorig          =         p7\nirev           =         1.0-p7\n\nifile          =         p4\niskip          =         p5\nigain          =         p6\n;for mono input \n;asigin        soundin   ifile,iskip\n;asigin        =         asigin * igain\n;ajunk         alpass    asigin,1.7,.1\n;aleft         alpass    ajunk,1.01,.07\n;ajunk         alpass    asigin,1.5,.2\n;aright        alpass    ajunk,1.33,.05\n;for stereo input\nkclean         linseg    0,iatk,igain,idur,igain,idk,0,isust,0\nkout           linseg    1,ioutsust,1,idecay,0\nain1,ain2      soundin   ifile,iskip\nain1           =         ain1*kclean\nain2           =         ain2*kclean\najunk          alpass    ain1,1.7,.1\naleft          alpass    ajunk,1.01,.07\najunk          alpass    ain2,1.5,.2\naright         alpass    ajunk,1.33,.05\n\nkdel1          randi     .01,1,.666\nkdel1          =         kdel1 + .1\naddl1          delayr    .3\nafeed1         deltapi   kdel1\nafeed1         =         afeed1 + gifeed*aleft\ndelayw         aleft\n\nkdel2          randi     .01,.95,.777\nkdel2          =         kdel2 + .1\naddl2          delayr    .3\nafeed2         deltapi   kdel2\nafeed2         =         afeed2 + gifeed*aright\n               delayw    aright\n;GLOBAL REVERB\n\naglobin        =         (afeed1+afeed2)*.05\natap1          comb      aglobin,3.3,gilp1\natap2          comb      aglobin,3.3,gilp2\natap3          comb      aglobin,3.3,gilp3\naglobrev       alpass    atap1+atap2+atap3,2.6,.085\naglobrev       tone      aglobrev,giroll\n\nkdel3          randi     .003,1,.888\nkdel3          =         kdel3 + .05\naddl3          delayr    .2\nagr1           deltapi   kdel3\n               delayw    aglobrev\n\nkdel4          randi     .003,1,.999\nkdel4          =         kdel4 + .05\naddl4          delayr    .2\nagr2           deltapi   kdel4\n               delayw    aglobrev\n\narevl          =         agr1+afeed1\narevr          =         agr2+afeed2\naoutl          =         (ain1*iorig)+(arevl*irev)\naoutr          =         (ain2*iorig)+(arevr*irev)\n               outs      aoutl*kout,aoutr*kout\nendin\n\ninstr          100\nendin\n\n</CsInstruments>\n<CsScore>\ni1 0 16.650 1 0 1 .65 15.650 .01\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for k1        linen     p4, 0, p3, .08 using hi-hat and reverb effect and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from hihat.orc and hihat.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n\n\ngarev1    init      0\ngarev2    init      0\n\n\n          ; HIHAT\n\n          instr 1\nk1        linen     p4, 0, p3, .08\nasig      rand      k1\na1        =         (1-p6)*asig\na2        =         p6*asig\n          outs      a1*(1-p7), a2*(1-p7)\n          \ngarev1    =         garev1 + a1*p7\ngarev2    =         garev2 + a2*p7\n          endin\n\n\n          ; REVERB\n          \n          instr 99\na1        reverb    garev1, p4\na2        reverb    garev2, p4+.03\n          outs      a1, a2\ngarev1    =         0\ngarev2    =         0\n          endin\n\n\n</CsInstruments>\n<CsScore>\n\n;HIHAT SCORE\n\nt\t0\t70\nf0\t0 \t.5\n\ns\nt\t0\t70\n\n\ni99     0       8       1\ni1      0.5     .125    50      880     0.0     .5\ni.      1.5     .       .       .       1.0     .\ni.      2.5     .       .       .       0.0     .\ni.      3.5     .       .       .       1.0     .\ni.      4.5     .       .       .       0.0     .\ni.      5.5     .       .       .       1.0     .\ni.      6.5     .       .       .       0.0     .\ni.      7.5     .5      .       .       1.0     .\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ifile          =         p4 using reverb effect and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from rev7.orc and rev7.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\n\n\n;MONO -> MONO REVERB\n; INDUSTRIAL SOUND\n;i1 0 dur file skip srcdur gain revtime\ninstr          1\nifile          =         p4\niskip          =         p5\nindur          =         p6\nigain          =         p7\nirvt           =         p8\nitail          =         p3 - indur\nidel1          =         .07\nidel2          =         idel1 + .053\n;irvt          =         1.33\niclpt1         =         1/33\niclpt2         =         1/47.12\niclpt3         =         1/53.59\niclpt4         =         1/67.13\niclpt5         =         1/83.16\niclpt6         =         1/106.0\niallrvt        =         .15\niall1          =         .02\niall2          =         .031\niorig          =         .7\nirev           =         (1.-iorig) \n               timout    indur, itail, contin\naraw           soundin   ifile,iskip\naraw           =         araw * igain\ncontin: adel1  delay     araw,idel1\nadel2          delay     araw,idel2\nacmb1          comb      araw, irvt, iclpt1\nacmb2          comb      araw, irvt, iclpt2\nacmb3          comb      adel1, irvt, iclpt3\nacmb4          comb      adel1, irvt, iclpt4\nacmb5          comb      adel2, irvt, iclpt5\nacmb6          comb      adel2, irvt, iclpt6\nacmbsum1       =         acmb1+acmb3+acmb5\nacmbsum2       =         acmb2+acmb4+acmb6\nallp1          alpass    acmbsum1,iallrvt,iall1\nallp2          alpass    acmbsum2,iallrvt,iall2\narev           =         allp1+allp2\narev           =         arev * irev\nalrev          atone     arev, 50\naraw           =         araw * iorig\n               out       alrev+araw\nendin\ninstr          100\nendin\n\n</CsInstruments>\n<CsScore>\n;i1 0 dur file skip srcdur gain revtime\n\ni1 0 3 1 0 .8  1 3\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using reverb effect and stereo reverb and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from reverb3.orc and reverb3.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         22050\nksmps     =         2\nnchnls    =         2\n\nzakinit   30,30\n\n;----------------------------------------------------------------------------------\n; NOISE CLICK FOR TESTING THE DECAY CURVE OF THE REVERB.\n          instr  1\n\nidur      =         p3\niamp      =         p4\nioutch    =         p5\n\nkamp      linseg    0, .002, iamp, .002, 0, idur-.004, 0\naout      rand      kamp\n\n          zaw       aout, ioutch\n;         outs      aout, aout\n\n          endin\n\n;----------------------------------------------------------------------------------\n; DISK INPUT\n          instr  2\n\niamps     =         p4\niamp      =         p5\nirate     =         p6\nisndin    =         p7\nioutch    =         p8\n\nain       diskin    isndin, irate\n          zaw       ain*iamps, ioutch\n          outs      ain*iamp, ain*iamp\n\n          endin\n\n;----------------------------------------------------------------------------------\n; REVERB\n          instr  10\n\nidur      =         p3\nirevtm    =         p4\niinch     =         p5\n\nain       zar       iinch               ; READ THE CHANNEL\naout      reverb    ain, irevtm         ; DELAY FOR TIME\n          outs      aout, -aout         ; OUTPUT THE CHANNEL\n\n       endin\n\n;----------------------------------------------------------------------------------\n; REVERB2\n          instr  11\n\nidur      =         p3\nirevtm    =         p4\nihidif    =         p5\niinch     =         p6\n\nain       zar       iinch                    ; READ THE CHANNEL\naout      reverb2   ain, irevtm, ihidif      ; DELAY FOR TIME\n          outs      aout, -aout              ; OUTPUT THE CHANNEL\n\n          endin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 16384 10 1                               ; SINE\n\n;\tSTA  \tDUR  \tAMP    \tOUTCH\n;i1  0.0  \t.1   \t20000  \t1\n;-------------------------------------------------------------------------------\n;   \tSTA  \tDUR  \tSEND  \tAMP  \tPITCH  \tSOUNDIN  \tOUTCH\ni2  \t0.0  \t2.0  \t.2    \t.2   \t1      \t12       \t1\ni2  \t3.0  \t2.0  \t.2    \t.2   \t1      \t12       \t1\n\n;   \tSTA  \tDUR  \tREVTIME  \tINCH\ni10 \t0.0  \t2.5  \t1.5      \t1\n\n;   \tSTA  \tDUR  \tREVTIME  \tHIDIFF  \tINCH\ni11 \t3.0  \t2.5  \t1.5      \t.8      \t1\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for al        reverb    gasigl, girvb using reverb effect and envelope follower and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from covell.orc and covell.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n;; gcc.orc\n;; Grant Chu Covell\n;; 24 May 98\n;; azalea@world.std.com or gcovell@c-bridge.com\n\n\n;; This orchestra and score represents a technique I've developed to \n;; generate complex textures from exceedingly short sound sources. Much \n;; of the implementation is somewhat arbitrary ( panning, envelope ), \n;; but should be enough to indicate this technique's potential. \n;; There can be clear similarities in the results with granular synthesis, \n;; but I have found more control and better surprises with this technique. \n;; I've used this technique extensively in _I.X. Talking about Counterpoint_.\n\n\n\n\ngipan     init      0\ngasigl    init      0\ngasigr    init      0\ngirvb     init      0\n\n\n          instr 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39\n;; PARAMETERS\nidurtotal =         p3                       ;; DURATION OF THE RESULTING SOUND\nilenmin   =         p4                       ;; MIN AND\nilenmax   =         p5                       ;; MAX SAMPLE LENGTH ( IN SECONDS )\nidevstr   =         p6                       ;; START AND\nidevend   =         p7                       ;; END DEVIATION OF THE PLAYBACK RATE ( RELATIVE TO 1.0 )        \nioffstr   =         p8                       ;; START AND\nioffend   =         p9                       ;; END OFFSET ( IN SECONDS )\nifnum     =         p10                      ;; FUNCTION TABLE WITH THE STORED SOUND\niampl     =         p11                      ;; AMP ADJUSTMENT HERE\nirvb      =         p12                      ;; REVERB STRENGTH ( CAN BE ENHANCED )\n\n;; \"ENVELOPE\" SHAPE\n\n;; THIS CAN OBVIOUSLY BE \"SCULPTED\" IN ANY DESIRED WAY      \nkshape    linseg    0, 1, 0, 20, 1, idurtotal - 25, 1, 4, 0\n\n;; INTERNAL SHAPES\nkdevline  line      idevstr, idurtotal, idevend\nkoffline  line      ioffstr, idurtotal, ioffend\n\n;; INITIALIZE PANNING START ( THE PANNING TECHNIQUE IS ARBITRARY )\ngipan     unirand   1.99\ngipan     =         int ( gipan )\n\n;; INITIALIZE FOR LOOP\nirnddur   unirand   ( ilenmax - ilenmin )    \nirnddur   =         irnddur + ilenmin\n\n;; THE LOOP\ncore:\n\n;; \"REINIT\" LOOP PARAMETERS\nirnddur   unirand   ( ilenmax - ilenmin )\nirnddur   =         irnddur + ilenmin\n          timout    0, irnddur, do\n\n;; DEVIATION\nidevline  =         i ( kdevline )\nidevline  =         ( idevline = 0 ? idevstr: idevline )    \n\n;; THE CHANGE IN SAMPLING RATE CAN EITHER FOLLOW A SET LINE...             \nichange   =         idevline\n\n;; ...OR THE CHANGE CAN DEVIATE RANDOMLY FROM WITHIN A RANGE               \n;; ichange iunirand ( idevline - ( 1 / idevline ) )              \n;; ichange =        ichange + ( 1 / idevline )\n;; OFFSET\nioffline  =         i ( koffline )\nioffline  =         ( ioffline = 0 ? ioffstr : ioffline )                  \nioffset   =         ioffline * sr\n\n;; THIS PANNING TECHNIQUE IS SOMEWHAT ARBITRARY\nipans     =         gipan\nipane     =         abs ( ipans - 1 )\ngipan     =         ipane\n          \n          reinit    core\n\ndo:\nkpanenv   line      ipans, irnddur, ipane\nkintshape linen     1, irnddur * .1, irnddur, irnddur * .1\nasdex     init      0\na1        tablei    asdex, ifnum, 0, ioffset, 0\n          outs      a1 * kpanenv * kintshape * kshape * iampl, a1 * ( 1 - kpanenv ) * kintshape * kshape * iampl\ngasigl    =         gasigl + a1 * kpanenv * kintshape * kshape\ngasigr    =         gasigr + a1 * ( 1 - kpanenv ) * kintshape * kshape               \ngirvb     =         irvb\nasdex     =         asdex + ( 1 * ichange )\n\nrireturn\n          endin\n\n          instr 99\n\nal        reverb    gasigl, girvb\nar        reverb    gasigr, girvb\n\n          outs      al * .15, ar * .15\ngasigl    =         0\ngasigr    =         0\n\n          endin\n\n</CsInstruments>\n<CsScore>\n\n\n\n\n;; gcc.sco\n;; Grant Chu Covell\n;; 24 May 98\n;; azalea@world.std.com or gcovell@c-bridge.com\n\n\n;; SOURCE\nf1 0 32768 -1 \"spritzer.aif\" 0 4 0 ;; mono, 0.71 sec\n\n\n;; REVERB\ni99 0 65\n\n\n;; SIMPLE EXAMPLE\ni20 0 60 0.15 0.35 1.00 1.25 0.00 0.35 1 1 .15 \ns\nf0 2\ns\n;; SIMPLE TEXTURE\ni20 0 60 0.15 0.25 1.01 1.25 0.00 0.30 1 1 .15 \ni21 0 60 0.15 0.25 1.02 1.25 0.00 0.30 1 1 .15 \ni22 0 60 0.15 0.35 1.00 0.85 0.35 0.00 1 1 .15 \ni23 0 60 0.15 0.35 0.99 0.85 0.35 0.00 1 1 .15\ns\nf0 2\ns\n;; COMPLEX TEXTURE\ni20 0 60 0.15 0.35 1.00 1.25 0.00 0.20 1 1 .15 \ni21 0 60 0.15 0.35 1.00 1.25 0.00 0.20 1 1 .15 \ni22 0 60 0.15 0.35 1.00 0.85 0.00 0.20 1 1 .15 \ni23 0 60 0.15 0.35 1.00 0.85 0.00 0.20 1 1 .15 \ni24 0 60 0.05 0.10 0.40 0.50 0.70 0.50 1 1 .15 \ni25 0 60 0.05 0.10 0.40 0.55 0.70 0.50 1 1 .15 \ni26 0 60 0.05 0.10 0.40 0.45 0.70 0.50 1 1 .15 \ni27 0 60 0.05 0.10 0.40 0.40 0.70 0.50 1 1 .15 \ni28 0 60 0.25 0.40 3.00 8.00 0.20 0.30 1 1 .15 \ni29 0 60 0.25 0.40 3.00 8.00 0.20 0.30 1 1 .15 \ni30 0 60 0.25 0.40 3.00 8.00 0.20 0.30 1 1 .15 \ni31 0 60 0.25 0.40 3.00 8.00 0.20 0.30 1 1 .15 \ni32 0 60 0.45 0.15 2.00 0.80 0.20 0.30 1 1 .15 \ni33 0 60 0.45 0.16 2.00 0.80 0.20 0.30 1 1 .15 \ni34 0 60 0.45 0.17 2.00 0.80 0.20 0.30 1 1 .15 \ni35 0 60 0.45 0.18 2.00 0.80 0.20 0.30 1 1 .15 \ni36 0 60 0.65 0.50 0.50 3.00 0.00 0.10 1 1 .15 \ni37 0 60 0.65 0.50 0.50 3.00 0.00 0.10 1 1 .15 \ni38 0 60 0.65 0.50 0.50 3.00 0.00 0.10 1 1 .15 \ni39 0 60 0.65 0.50 0.50 3.00 0.00 0.10 1 1 .15\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ga2  init 0 using stereo reverb", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from stanverb.orc and stanverb.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n\ninstr 1\n     ga2  init 0\n\n     a1   =              ga2\n     a2   reverb2        a1, 2.1\n     out  a2\n     ga2 = 0\nendin\n\ninstr 2\n     ga1  init 0\n\n     ir   =         2.1\n     a1   =         ga1\n\n     a2   comb a1, .822, 1237. / sr\n     a3   comb a1, .802, 1381. / sr\n     a4   comb a1, .773, 1607. / sr\n     a5   comb a1, .753, 1777. / sr\n     a6   comb a1, .753, 1949. / sr\n     a7   comb a1, .753, 2063. / sr\n     a8   =         a2 + a3 + a4 + a5 + a6 + a7\n\n     a9   alpass    a8, .7*ir, 307. / sr\n     a10  alpass    a9, .7*ir, 97. / sr\n     a11  alpass    a10, .7*ir, 71. / sr\n     a12  alpass    a11, .7*ir, 53. / sr\n     a13  alpass    a12, .7*ir, 37. / sr\n\n     out  a13\n     ga1 = 0\nendin\n\ninstr 3\n    a1 soundin 5, 0, 4\n     ga1 = a1 * p4\n     ga2 = a1 * p5\n     ;out a1\nendin\n\ninstr 4\n    a1 soundin 5, 0, 4\n     ;a2 multitap   a1, .0199, 1.02, .0354, .818, .0389, .0635, .0414, .719, .0699, .267, .0796, .242\n     a2 multitap    a1, .0043, .841, .0215, .504, .0225, .491, .0268, .379, .0270, .380, .0298, .346, .0458, .289, .0485, .272, .0572, .192, .0587, .193, .0595, .217, .0612, .181, .0707, .180, .0708, .181, .0726, .176, .0741, .142, .0753, .167, .0797, .134\n     out a2\nendin     \n\n</CsInstruments>\n<CsScore>\nf1 0 1024 10 1\n;i1 2 6\n;i2 0 6\n\n;i3 0 3 .3 0 \n;i3 + 3 0 .3 \ni4 0 3\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for 'Streson' resonator bank using string resonator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Resonators.orc and Resonators.sco\n; Original files preserved in same directory\n\nsr      = 44100\nkr      = 4410\nksmps   = 10\nnchnls  = 1\n\n \ninstr     1 ; 'Streson' resonator bank\n \nilevl     = p4/10                         ; Output level (roughly scaled)\nipitch1   = (p5 < 20 ? cpspch(p5) : p5)   ; Filter 1 freq\nipitch2   = (p6 < 20 ? cpspch(p6) : p6)   ; Filter 2 freq\nipitch3   = (p7 < 20 ? cpspch(p7) : p7)   ; Filter 3 freq\nipitch4   = (p8 < 20 ? cpspch(p8) : p8)   ; Filter 4 freq\nipitch5   = (p9 < 20 ? cpspch(p9) : p9)   ; Filter 5 freq\nipitch6   = (p10 < 20 ? cpspch(p10): p10) ; Filter 6 freq\nifdbk     = p11                           ; Filter bandwidth\n\nain       soundin  \"sing.aif\"\nares1     streson  ain, ipitch1, ifdbk\nares2     streson  ain, ipitch2, ifdbk\nares3     streson  ain, ipitch3, ifdbk\nares4     streson  ain, ipitch4, ifdbk\nares5     streson  ain, ipitch5, ifdbk\nares6     streson  ain, ipitch6, ifdbk\naout      = ares1 + ares2 + ares3 + ares4 + ares5 + ares6\n\nout       aout*ilevl       \n\nendin\n\n</CsInstruments>\n<CsScore>\n;Pitches <20.00=cpspch, >20.00=Hz\n\n;   Strt  Leng  Levl  Ptch1 Ptch2 Ptch3 Ptch4 Ptch5 Ptch6 Feedback\ni1  0.00  1.47  0.66  220   473   1023  1777  2345  3333  0.99\ni1  2.00  .     .     55    56    57    58    59    60    .\ni1  4.00  .     .     07.00 07.07 08.00 08.03 08.07 09.00 .\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for EQ-Based Stereoizer using stereo processing and tone control filter and anti-tone control filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Stereoizer.orc and Stereoizer.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 4410\nksmps    = 10\nnchnls   = 2\n\n\ninstr    1 ; EQ-Based Stereoizer\n\nilevl    = p4*2.5 ; Output level\n\nain      soundin  \"Sample1\"\n\nain      = ain*ilevl\na01      tonex  ain,    50, 2\na02      atonex  ain,    50, 2\na02      tonex  a02,   100, 2\na03      atonex  ain,   100, 2\na03      tonex  a03,   200, 2\na04      atonex  ain,   200, 2\na04      tonex  a04,   400, 2\na05      atonex  ain,   400, 2\na05      tonex  a05,   800, 2\na06      atonex  ain,   800, 2\na06      tonex  a06,  1600, 2\na07      atonex  ain,  1600, 2\na07      tonex  a07,  3200, 2\na08      atonex  ain,  3200, 2\na08      tonex  a08,  6400, 2\na09      atonex  ain,  6400, 2\na09      tonex  a09, 12800, 2\na10      atonex  ain, 12800, 2\nouts1    a01 + a03 + a05 + a07 + a09\nouts2    a02 + a04 + a06 + a08 + a10\n\nendin\n\n</CsInstruments>\n<CsScore>\n;   Strt  Leng  Levl\ni1  0.00  1.47  1.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for aout      wgpluck2  .1, 20000, 100, .1, p4 using plucked string and waveguide synthesis and waveguide plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from wgpluck2a.orc and wgpluck2a.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n\n          instr 1 \n\naout      wgpluck2  .1, 20000, 100, .1, p4\n          out       aout\n          endin\n\n</CsInstruments>\n<CsScore>\ni1 0 6 .01\ni1 + 6 .1\ni1 + 5 .5\ni1 + 4 .8\ni1 + 3 .9\ni1 + 2 .99\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates granular processing opcodes: grain, grain2, grain3, granule, partikkel, syncgrain, syncloop", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Wavetable for grain source\ngiSine ftgen 0, 0, 8192, 10, 1\ngiWave ftgen 0, 0, 8192, 10, 1, 0.5, 0.3, 0.2, 0.1\n\ninstr 1\n    ; grain opcode: ares grain kamp, kpitch, kdensity, kampoff, kpitchoff, kgdur, igfn, iwfn, imgdur [, igrnd]\n    ; Basic granular synthesis\n    ; kamp - amplitude\n    ; kpitch - pitch (Hz)\n    ; kdensity - grain density (grains/sec)\n    ; kampoff - amplitude offset\n    ; kpitchoff - pitch offset\n    ; kgdur - grain duration (seconds)\n    \n    kAmp = 0.3\n    kPitch = 440\n    kDensity = 50\n    kAmpOff = 0\n    kPitchOff = 0\n    kGrainDur = 0.05\n    \n    aGrain grain kAmp, kPitch, kDensity, kAmpOff, kPitchOff, kGrainDur, giSine, giSine, 0.5\n    \n    outs aGrain, aGrain\nendin\n\ninstr 2\n    ; grain2 opcode: ares grain2 kamp, kfreq, kdens, kampoff, kpitchoff, kgdur, iovrlp, ifn1, ifn2, imaxgdur [, igrnd]\n    ; Enhanced granular synthesis\n    ; iovrlp - overlap factor\n    \n    kAmp = 0.3\n    kFreq linseg 220, p3*0.5, 880, p3*0.5, 330\n    kDens = 60\n    kAmpOff = 0\n    kPitchOff linseg 0, p3, 0.1\n    kGrainDur = 0.04\n    iOvrlp = 0.5\n    iMaxGdur = 0.2\n    \n    aGrain grain2 kAmp, kFreq, kDens, kAmpOff, kPitchOff, kGrainDur, iOvrlp, giSine, giSine, iMaxGdur\n    \n    outs aGrain, aGrain\nendin\n\ninstr 3\n    ; grain3 opcode: ares grain3 kamp, kpitch, kdens, kampoff, kpitchoff, kgdur, igfn, iwfn, imgdur [, igrnd]\n    ; Third version of grain\n    \n    kAmp = 0.3\n    kPitch = 165\n    kDens linseg 30, p3*0.5, 100, p3*0.5, 50\n    kAmpOff = 0\n    kPitchOff lfo 0.05, 2, 0\n    kGrainDur linseg 0.08, p3, 0.02\n    \n    aGrain grain3 kAmp, kPitch, kDens, kAmpOff, kPitchOff, kGrainDur, giWave, giSine, 0.5\n    \n    outs aGrain, aGrain\nendin\n\ninstr 4\n    ; granule opcode: ares granule asig, kpitch, kdensity, kampoff, kpitchoff, kgdur, iovrlp, ifn1, ifn2, imaxgdur\n    ; Granular processing of input signal\n    \n    ; Input signal\n    aIn vco2 0.3, 110, 0\n    \n    kPitch = 1  ; Pitch ratio\n    kDens = 80\n    kAmpOff = 0\n    kPitchOff lfo 0.03, 1.5, 0\n    kGrainDur = 0.03\n    iOvrlp = 0.5\n    iMaxGdur = 0.2\n    \n    aGran granule aIn, kPitch, kDens, kAmpOff, kPitchOff, kGrainDur, iOvrlp, giSine, giSine, iMaxGdur\n    \n    outs aIn*0.4, aGran*0.6\nendin\n\ninstr 5\n    ; partikkel opcode - Advanced granular synthesis\n    ; Simplified example (partikkel has many parameters)\n    ; Note: Full partikkel implementation is complex\n    \n    ; Simulating with grain3\n    kAmp = 0.3\n    kPitch linseg 220, p3*0.25, 440, p3*0.25, 330, p3*0.25, 660, p3*0.25, 220\n    kDens = 100\n    kAmpOff lfo 0.2, 3, 0\n    kPitchOff lfo 0.08, 1.2, 0\n    kGrainDur linseg 0.02, p3*0.5, 0.06, p3*0.5, 0.03\n    \n    aGrain grain3 kAmp, kPitch, kDens, kAmpOff, kPitchOff, kGrainDur, giWave, giSine, 0.5\n    \n    ; Stereo positioning\n    kPan lfo 0.5, 0.7, 0\n    kPan = (kPan + 1) * 0.5\n    \n    aL = aGrain * sqrt(1-kPan)\n    aR = aGrain * sqrt(kPan)\n    \n    outs aL, aR\nendin\n\ninstr 6\n    ; syncgrain opcode: ares syncgrain kamp, kfreq, kpitch, kgrsize, kprate, ifun1, ifun2, iolaps\n    ; Synchronous granular synthesis\n    ; kgrsize - grain size (secs)\n    ; kprate - pointer rate\n    ; iolaps - number of overlaps\n    \n    kAmp = 0.3\n    kFreq = 220\n    kPitch linseg 1, p3*0.5, 2, p3*0.5, 0.5\n    kGrSize = 0.04\n    kPRate = 1\n    iOlaps = 2\n    \n    aSync syncgrain kAmp, kFreq, kPitch, kGrSize, kPRate, giWave, giSine, iOlaps\n    \n    outs aSync, aSync\nendin\n\ninstr 7\n    ; syncloop opcode: ares syncloop kfreq, kpitch, kgrsize, kprate, klstart, klend, ifun1, ifun2, iolaps [, istart, iskip]\n    ; Granular loop player\n    ; klstart - loop start\n    ; klend - loop end\n    \n    kFreq = 165\n    kPitch linseg 0.5, p3*0.5, 1.5, p3*0.5, 1\n    kGrSize linseg 0.08, p3, 0.02\n    kPRate = 1\n    kLStart = 0\n    kLEnd = 1\n    iOlaps = 2\n    \n    aLoop syncloop kFreq, kPitch, kGrSize, kPRate, kLStart, kLEnd, giWave, giSine, iOlaps\n    \n    outs aLoop, aLoop\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 4 4\ni3 9 4\ni4 14 3\ni5 18 5\ni6 24 4\ni7 29 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates vector processing opcodes: vadd, smult, port, vpow", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; vadd opcode: vadd ifn1, ifn2, ielements [, idstoffset] [, isrcoffset]\n    ; Adds elements of two tables and stores result in first table\n    ; ifn1 - destination table (will be modified)\n    ; ifn2 - source table to add\n    ; ielements - number of elements to process\n    ; idstoffset - offset in destination table (optional)\n    ; isrcoffset - offset in source table (optional)\n    \n    ; Create two tables with different waveforms\n    ifn1 ftgen 1, 0, 1024, 10, 1, 0.5, 0.3, 0.2  ; Harmonic series\n    ifn2 ftgen 2, 0, 1024, 10, 0.5, 0.3, 0.2, 0.1  ; Different harmonic series\n    \n    ; Add the tables together\n    vadd 1, 2, 1024\n    \n    ; Use the combined table for oscillator\n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    aOsc oscili kAmp*0.3, 220, 1\n    \n    outs aOsc, aOsc\nendin\n\ninstr 2\n    ; smult opcode: smult ifn, ival, ielements [, idstoffset]\n    ; Multiplies all elements in a table by a scalar value\n    ; ifn - table to modify\n    ; ival - scalar multiplier\n    ; ielements - number of elements to process\n    ; idstoffset - offset in table (optional)\n    \n    ; Create a table\n    ifn ftgen 3, 0, 1024, 10, 1, 0.8, 0.6, 0.4, 0.2\n    \n    ; Scale the table by 0.5\n    smult 3, 0.5, 1024\n    \n    kAmp madsr 0.02, 0.08, 0.6, 0.3\n    aOsc oscili kAmp*0.4, 165, 3\n    \n    outs aOsc, aOsc\nendin\n\ninstr 3\n    ; port opcode: kres port ksig, khtim [, isig]\n    ; Portamento (glissando) on k-rate signals\n    ; ksig - input signal\n    ; khtim - half-time of the function (seconds)\n    ; isig - initial value (optional)\n    \n    ; Target frequency jumps between values\n    kTrig metro 2\n    kTarget randomh 200, 800, 2\n    \n    ; Apply portamento with 0.2 second half-time\n    kFreq port kTarget, 0.2\n    \n    kAmp madsr 0.005, 0.02, 0.9, 0.1\n    aOsc oscili kAmp*0.25, kFreq, -1, 0\n    \n    outs aOsc, aOsc\nendin\n\ninstr 4\n    ; Multiple port operations with different times\n    kTrig metro 1.5\n    kTarget1 randomh 150, 600, 1.5\n    kTarget2 randomh 300, 1200, 1.5\n    \n    ; Fast portamento\n    kFreq1 port kTarget1, 0.05\n    ; Slow portamento\n    kFreq2 port kTarget2, 0.4\n    \n    kAmp madsr 0.01, 0.05, 0.8, 0.2\n    aOsc1 oscili kAmp*0.15, kFreq1, -1, 0\n    aOsc2 oscili kAmp*0.15, kFreq2, -1, 0\n    \n    outs aOsc1, aOsc2\nendin\n\ninstr 5\n    ; vpow opcode: vpow ifn, ipow, ielements [, idstoffset]\n    ; Raises each element of a table to a power\n    ; ifn - table to modify\n    ; ipow - power exponent\n    ; ielements - number of elements to process\n    ; idstoffset - offset in table (optional)\n    \n    ; Create a sine table\n    ifn ftgen 4, 0, 1024, 10, 1\n    \n    ; Raise all values to power of 3 (waveshaping)\n    vpow 4, 3, 1024\n    \n    kAmp madsr 0.015, 0.1, 0.65, 0.25\n    aOsc oscili kAmp*0.35, 330, 4\n    \n    outs aOsc, aOsc\nendin\n\ninstr 6\n    ; Combined vector operations\n    ; Create base table\n    ifn1 ftgen 5, 0, 1024, 10, 1, 0.5, 0.25\n    ifn2 ftgen 6, 0, 1024, 10, 0.3, 0.4, 0.2\n    \n    ; Add tables\n    vadd 5, 6, 1024\n    ; Scale result\n    smult 5, 0.7, 1024\n    ; Apply waveshaping\n    vpow 5, 2, 1024\n    \n    ; Use portamento on frequency\n    kTarget randomi 100, 400, 0.5\n    kFreq port kTarget, 0.15\n    \n    kAmp madsr 0.02, 0.12, 0.7, 0.3\n    aOsc oscili kAmp*0.3, kFreq, 5\n    \n    outs aOsc, aOsc\nendin\n\n</CsInstruments>\n<CsScore>\n\n; vadd - add tables\ni1 0 3\n\n; smult - scale table\ni2 3.5 3\n\n; port - basic portamento\ni3 7 4\n\n; port - multiple portamento\ni4 11.5 4\n\n; vpow - table power operation\ni5 16 3\n\n; Combined operations\ni6 19.5 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates amplitude envelope processing opcodes: envlpx, envlpxr, transeg, transegr", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; envlpx opcode: ares envlpx xamp, irise, idur, idec, ifn, iatss, iatdec [, ixmod]\n    ; Sophisticated envelope with configurable curves\n    ; xamp - amplitude\n    ; irise - rise time (seconds)\n    ; idur - overall duration\n    ; idec - decay time (seconds)\n    ; ifn - function table for envelope shape\n    ; iatss - attack segment type (0=linear, 1=exponential)\n    ; iatdec - decay segment type\n    ; ixmod - exponential modifier\n    \n    ; Oscillator\n    aOsc oscili 0.3, 440, -1, 0\n    \n    ; Apply envelope\n    iRise = 0.1\n    iDur = p3\n    iDec = 0.3\n    iFn = -1  ; Linear segments\n    iAtSs = 0  ; Linear attack\n    iAtDec = 1  ; Exponential decay\n    \n    aEnv envlpx 1, iRise, iDur, iDec, iFn, iAtSs, iAtDec\n    \n    aOut = aOsc * aEnv\n    \n    outs aOut, aOut\nendin\n\ninstr 2\n    ; envlpxr opcode: ares envlpxr xamp, irise, irelease, ifn, iatss, iatdec [, ixmod]\n    ; Envelope with MIDI-style release\n    ; irelease - release time after note off\n    \n    aOsc oscili 0.3, 330, -1, 0\n    \n    iRise = 0.05\n    iRelease = 0.4\n    iFn = -1\n    iAtSs = 1  ; Exponential attack\n    iAtDec = 1  ; Exponential release\n    \n    aEnv envlpxr 1, iRise, iRelease, iFn, iAtSs, iAtDec\n    \n    aOut = aOsc * aEnv\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; transeg opcode: ares transeg ia, idur1, itype1, ib [, idur2, itype2, ic] [...]\n    ; Multi-segment envelope with different curve types\n    ; ia, ib, ic - breakpoint values\n    ; idur - duration of segment\n    ; itype - curve type (positive=exponential, negative=other curves)\n    \n    aOsc oscili 0.3, 220, -1, 0\n    \n    ; Complex envelope\n    aEnv transeg 0, 0.05, 5, 1, 0.1, -3, 0.7, p3-0.45, 0, 0.5, 0.3, -5, 0\n    \n    aOut = aOsc * aEnv\n    \n    outs aOut, aOut\nendin\n\ninstr 4\n    ; transegr opcode: ares transegr ia, idur1, itype1, ib [, idur2, itype2, ic] [...], irel, ireltype, irelval\n    ; transeg with release segment\n    ; irel - release duration\n    ; ireltype - release curve type\n    ; irelval - final release value\n    \n    aOsc oscili 0.3, 165, -1, 0\n    \n    ; Envelope with release\n    aEnv transegr 0, 0.03, 4, 1, 0.05, -2, 0.8, 0.1, 0, 0.7, 0.5, -8, 0\n    \n    aOut = aOsc * aEnv\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 2\ni2 2.5 1.5\ni3 4.5 3\ni4 8 2\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates cosine segment envelope opcodes: cosseg, cossegr", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; cosseg opcode: ares cosseg ia, idur1, ib [, idur2, ic] [...]\n    ; Cosine interpolated segments (smooth curves)\n    ; ia, ib, ic - breakpoint values\n    ; idur - duration of each segment\n    \n    aOsc oscili 0.3, 440, -1, 0\n    \n    ; Smooth cosine envelope\n    aEnv cosseg 0, 0.15, 1, 0.2, 0.7, p3-0.55, 0.7, 0.2, 0\n    \n    aOut = aOsc * aEnv\n    \n    outs aOut, aOut\nendin\n\ninstr 2\n    ; cossegr opcode: ares cossegr ia, idur1, ib [, idur2, ic] [...], irel, irelval\n    ; cosseg with release segment\n    ; irel - release duration\n    ; irelval - final release value\n    \n    aOsc oscili 0.3, 330, -1, 0\n    \n    ; Envelope with smooth release\n    aEnv cossegr 0, 0.08, 1, 0.15, 0.8, 0.3, -3, 0\n    \n    aOut = aOsc * aEnv\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; Complex cosseg envelope\n    aSaw vco2 0.25, 220, 0\n    \n    ; Multi-segment smooth envelope\n    aEnv cosseg 0, 0.05, 0.3, 0.1, 1, 0.2, 0.9, 0.3, 0.6, p3-0.95, 0.6, 0.3, 0\n    \n    aOut = aSaw * aEnv\n    \n    outs aOut, aOut\nendin\n\ninstr 4\n    ; Comparing linear vs cosine\n    aPulse vco2 0.3, 165, 2, 0.4\n    \n    ; Cosine envelope (smooth)\n    aEnvCos cosseg 0, 0.2, 1, p3-0.4, 1, 0.2, 0\n    \n    aOut = aPulse * aEnvCos\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 2\ni2 2.5 1.5\ni3 4.5 3\ni4 8 2\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates amplitude analysis opcodes: rms, balance, follow, follow2", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; rms opcode: kres rms asig [, ihp] [, iskip]\n    ; Calculate RMS (root mean square) amplitude\n    ; ihp - half-power point for internal filter (Hz)\n    ; iskip - skip initialization\n    \n    ; Signal with varying amplitude\n    kAmp linseg 0.1, p3*0.3, 0.8, p3*0.4, 0.3, p3*0.3, 0.1\n    aIn oscili kAmp, 440, -1\n    \n    ; Measure RMS\n    kRMS rms aIn\n    \n    ; Use RMS to control gain of another signal\n    aOsc2 buzz 0.5, 220, 10, -1\n    aOut = aOsc2 * kRMS * 2\n    \n    outs aIn*0.5, aOut*0.5\nendin\n\ninstr 2\n    ; balance opcode: ares balance asig, acomp [, ihp] [, iskip]\n    ; Match the power of asig to acomp\n    ; acomp - comparison signal\n    ; ihp - half-power point (Hz)\n    \n    ; Source signal with inconsistent amplitude\n    aSource vco2 0.5, 330, 10\n    aSource *= linseg(0.2, p3*0.25, 1, p3*0.5, 0.5, p3*0.25, 0.3)\n    \n    ; Reference signal with constant amplitude\n    aRef oscili 0.3, 330, -1\n    \n    ; Balance source to match reference\n    aBalanced balance aSource, aRef\n    \n    outs aSource*0.5, aBalanced*0.5\nendin\n\ninstr 3\n    ; follow opcode: ares follow asig, kdown [, kup]\n    ; Envelope follower\n    ; kdown - decay time (seconds)\n    ; kup - attack time (seconds, defaults to kdown/10)\n    \n    ; Input with amplitude variations\n    kMod lfo 0.5, 3, 0\n    aIn oscili 0.3+kMod, 220, -1\n    \n    ; Follow with different time constants\n    aEnv1 follow aIn, 0.1\n    aEnv2 follow aIn, 0.5, 0.01\n    \n    ; Use envelopes to control other signals\n    aOut1 buzz 0.4, 440, 15, -1\n    aOut1 *= aEnv1\n    \n    aOut2 vco2 0.4, 330, 0\n    aOut2 *= aEnv2\n    \n    outs aOut1, aOut2\nendin\n\ninstr 4\n    ; follow2 opcode: ares follow2 asig, katt, krel\n    ; Envelope follower with separate attack/release\n    ; katt - attack time (seconds)\n    ; krel - release time (seconds)\n    \n    ; Percussive input\n    aEnvIn expseg 1, 0.05, 0.3, 0.2, 0.1, p3-0.25, 0.001\n    aIn rand 0.5\n    aIn *= aEnvIN\n    \n    ; Follow with fast attack, slow release\n    aEnv follow2 aIn, 0.005, 0.3\n    \n    ; Apply to pitched sound\n    aOut oscili aEnv*0.5, 440, -1\n    \n    outs aIn*0.5, aOut*0.8\nendin\n\ninstr 5\n    ; Combining RMS and balance for dynamics control\n    ; Two signals of different levels\n    aSig1 vco2 0.2, 220, 0\n    aSig2 buzz 0.6, 330, 20, -1\n    \n    ; Measure their levels\n    kRMS1 rms aSig1\n    kRMS2 rms aSig2\n    \n    ; Balance sig2 to match sig1's level\n    aBalanced balance aSig2, aSig1\n    \n    ; Mix at equal perceived loudness\n    aMix = aSig1 + aBalanced*0.5\n    \n    outs aMix, aMix\nendin\n\ninstr 6\n    ; Envelope following for side-chain compression\n    ; Main signal\n    aMain vco2 0.4, 110, 10\n    \n    ; Side-chain trigger\n    aTrigger oscili 0.5, 2, -1\n    aTrigger *= expseg(1, 0.01, 0.3, 0.1, 0.1, 0.39, 0.001)\n    \n    ; Follow the trigger\n    aEnv follow2 aTrigger, 0.001, 0.15\n    \n    ; Duck the main signal\n    aDucked = aMain * (1 - aEnv*0.7)\n    \n    outs aDucked, aDucked\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 4 3\ni3 8 3\ni4 12 2\ni5 15 3\ni6 19 2\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates FFT processing opcodes: fft, fftinv, rfft, rifft", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; fft/fftinv opcodes: kout[] fft kin[]; kout[] fftinv kin[]\n    ; Forward and inverse FFT on k-rate arrays\n    \n    ; Create a signal in k-rate array\n    kArr[] init 256\n    kndx = 0\n    while kndx < 256 do\n        kArr[kndx] = sin(2*$M_PI*kndx*5/256)  ; 5 cycles\n        kndx += 1\n    od\n    \n    ; Forward FFT\n    kFreq[] fft kArr\n    \n    ; Modify spectrum (zero out high frequencies)\n    kndx = 128\n    while kndx < 256 do\n        kFreq[kndx] = 0\n        kndx += 1\n    od\n    \n    ; Inverse FFT\n    kTime[] fftinv kFreq\n    \n    ; Use first value to modulate frequency\n    kMod = kTime[0] * 100\n    aOut oscili 0.3, 440+kMod, -1\n    \n    outs aOut, aOut\nendin\n\ninstr 2\n    ; rfft/rifft opcodes: kout[] rfft kin[]; kout[] rifft kin[]\n    ; Real FFT (more efficient for real-valued signals)\n    \n    ; Generate real signal\n    kArr[] init 512\n    kndx = 0\n    while kndx < 512 do\n        kArr[kndx] = cos(2*$M_PI*kndx*3/512) + 0.5*cos(2*$M_PI*kndx*7/512)\n        kndx += 1\n    od\n    \n    ; Real FFT (output is half size + 1)\n    kFreq[] rfft kArr\n    \n    ; Manipulate spectrum\n    kndx = 50\n    while kndx < 257 do\n        kFreq[kndx] *= 0.5  ; Attenuate high frequencies\n        kndx += 1\n    od\n    \n    ; Inverse real FFT\n    kTime[] rifft kFreq\n    \n    ; Use modified signal to control synthesis\n    kPhase = kTime[0]\n    aOut oscili 0.3, 330, -1, kPhase\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; Spectral manipulation with FFT\n    ; Process audio through FFT/IFFT\n    \n    ; Input signal\n    aIn vco2 0.3, 220, 0\n    \n    ; Convert to k-rate arrays (simplified example)\n    ; In practice, would use a-rate FFT with overlap-add\n    \n    ; Simulate spectral processing with filtering\n    ; Low-pass for low freqs, high-pass for highs\n    aLow butterlp aIn, 500\n    aHigh butterhp aIn, 2000\n    \n    ; Recombine with modified weights\n    aOut = aLow*1.5 + aHigh*0.5\n    \n    outs aIn*0.5, aOut*0.5\nendin\n\ninstr 4\n    ; FFT-based filtering\n    kSize = 1024\n    kArr[] init kSize\n    \n    ; Fill with audio samples (simplified)\n    kndx = 0\n    kPhase = 0\n    while kndx < kSize do\n        kPhase += 2*$M_PI*440/sr\n        kArr[kndx] = sin(kPhase)\n        kndx += 1\n    od\n    \n    ; FFT\n    kFreq[] fft kArr\n    \n    ; Notch filter in frequency domain\n    kNotchBin = int(440 * kSize / sr)\n    kFreq[kNotchBin] = 0\n    kFreq[kNotchBin-1] *= 0.3\n    kFreq[kNotchBin+1] *= 0.3\n    \n    ; IFFT\n    kTime[] fftinv kFreq\n    \n    ; Generate audio\n    aOut oscili 0.3, 330, -1\n    \n    outs aOut, aOut\nendin\n\ninstr 5\n    ; Spectral freeze effect using FFT concepts\n    aIn buzz 0.3, 165, 20, -1\n    \n    ; Use PVS for actual FFT processing\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Freeze spectrum periodically\n    kFreeze linseg 0, p3*0.3, 0, 0.01, 1, p3*0.4, 1, 0.01, 0, p3*0.3-0.02, 0\n    ffrz pvsfreeze fsig, kFreeze, kFreeze\n    \n    aOut pvsynth ffrz\n    \n    outs aIn*0.4, aOut*0.6\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 4 3\ni3 8 3\ni4 12 3\ni5 16 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates pitch detection opcodes: pitch, ptrack, pvspitch", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; pitch opcode: koct, kamp pitch asig, iupdte, ilo, ihi, idbthresh [, ifrqs] [, iconf]\n    ; Time-domain pitch tracker\n    ; iupdte - analysis update rate (seconds)\n    ; ilo, ihi - pitch range (Hz)\n    ; idbthresh - amplitude threshold (dB)\n    ; Returns koct (octave format) and kamp (amplitude)\n    \n    ; Generate a signal with varying pitch\n    kFreq linseg 220, p3*0.5, 440, p3*0.5, 330\n    aIn oscili 0.3, kFreq, -1\n    \n    ; Detect pitch\n    koct, kamp pitch aIn, 0.01, 100, 1000, -60\n    \n    ; Convert octave to Hz\n    kDetectedHz = cpsoct(koct)\n    \n    ; Create a sine following the detected pitch\n    aFollow oscili kamp*0.5, kDetectedHz, -1\n    \n    outs aIn, aFollow\nendin\n\ninstr 2\n    ; ptrack opcode: kfreq, kamp ptrack asig, ihopsize [, ipeaks]\n    ; FFT-based pitch tracker\n    ; ihopsize - hop size (power of 2)\n    ; ipeaks - number of spectral peaks to analyze\n    \n    ; Input with vibrato\n    kVib oscili 8, 5, -1\n    aIn oscili 0.3, 330+kVib, -1\n    \n    ; Track pitch\n    kFreq, kAmp ptrack aIn, 512\n    \n    ; Generate harmonics based on detected pitch\n    aHarm1 oscili kAmp*0.3, kFreq, -1\n    aHarm2 oscili kAmp*0.2, kFreq*2, -1\n    aHarm3 oscili kAmp*0.1, kFreq*3, -1\n    \n    aOut = aHarm1 + aHarm2 + aHarm3\n    \n    outs aIn*0.5, aOut*0.5\nendin\n\ninstr 3\n    ; pvspitch opcode: kfreq, kamp pvspitch fsig, ithresh\n    ; Phase vocoder-based pitch tracking\n    ; ithresh - amplitude threshold\n    \n    ; Complex input signal\n    aOsc1 oscili 0.15, 220, -1\n    aOsc2 oscili 0.15, 330, -1\n    aIn = aOsc1 + aOsc2\n    \n    ; Analyze\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Track pitch\n    kFreq, kAmp pvspitch fsig, 0.01\n    \n    ; Use detected pitch to control a filter\n    aFilt butterbp aIn, kFreq*2, kFreq*0.5\n    \n    outs aIn*0.5, aFilt*0.8\nendin\n\ninstr 4\n    ; Pitch-to-MIDI conversion example\n    kMidiNote linseg 60, p3*0.3, 72, p3*0.4, 67, p3*0.3, 60\n    kFreq = cpsmidinn(kMidiNote)\n    aIn oscili 0.3, kFreq, -1\n    \n    ; Detect and quantize to nearest semitone\n    koct, kamp pitch aIn, 0.01, 100, 1000, -60\n    kHz = cpsoct(koct)\n    kMidiDetected = round(ftom(kHz))\n    kQuantized = cpsmidinn(kMidiDetected)\n    \n    ; Generate quantized version\n    aQuantized oscili kamp*0.5, kQuantized, -1\n    \n    outs aIn*0.5, aQuantized*0.5\nendin\n\ninstr 5\n    ; Pitch tracking with confidence\n    aIn vco2 0.3, 165, 0\n    aIn += rand(0.05)  ; Add noise\n    \n    ; Track with pitch opcode\n    koct, kamp pitch aIn, 0.01, 80, 800, -50, 16, 7\n    kFreq = cpsoct(koct)\n    \n    ; Only use detection when amplitude is strong\n    kGate = (kamp > 0.1 ? 1 : 0)\n    kFreqFiltered = (kGate == 1 ? kFreq : 165)\n    \n    ; Generate clean version\n    aClean oscili kamp*0.6, kFreqFiltered, -1\n    \n    outs aIn*0.5, aClean*0.5\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 4 3\ni3 8 3\ni4 12 3\ni5 16 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates spectral analysis opcodes: centroid, pvsfreeze, pvscross, pvsfilter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; centroid opcode: kcent centroid asig [, itype] [, ifn] [, ikcount]\n    ; Spectral centroid calculation\n    ; itype - calculation type\n    ; ifn - window function\n    ; ikcount - number of samples\n    \n    ; Signal with changing spectral content\n    kCf linseg 500, p3*0.5, 3000, p3*0.5, 800\n    aIn butterlp buzz(0.3, 220, 30, -1), kCf\n    \n    ; Calculate centroid\n    kCent centroid aIn\n    \n    ; Use centroid to modulate another parameter\n    aOsc oscili 0.3, 440, -1\n    aOut butterlp aOsc, kCent*2\n    \n    outs aIn*0.5, aOut*0.5\nendin\n\ninstr 2\n    ; pvsfreeze opcode: fsig pvsfreeze fsigin, kfreeza, kfreezf\n    ; Freeze spectral amplitudes and/or frequencies\n    ; kfreeza - freeze amplitudes (0=off, 1=on)\n    ; kfreezf - freeze frequencies (0=off, 1=on)\n    \n    aIn vco2 0.3, 220, 0\n    \n    ; Analyze\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Freeze spectrum periodically\n    kFreezA linseg 0, p3*0.25, 0, 0.01, 1, p3*0.5, 1, 0.01, 0, p3*0.25-0.02, 0\n    kFreezF = 0\n    \n    ffrz pvsfreeze fsig, kFreezA, kFreezF\n    \n    ; Synthesize\n    aOut pvsynth ffrz\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; pvscross opcode: fsig pvscross fsrc, fdest, kamp1, kamp2\n    ; Cross-fade between two spectra\n    ; kamp1 - amplitude of source\n    ; kamp2 - amplitude of destination\n    \n    ; Two sources\n    aSrc buzz 0.3, 220, 20, -1\n    aDest vco2 0.3, 165, 10\n    \n    ; Analyze\n    fSrc pvsanal aSrc, 1024, 256, 1024, 1\n    fDest pvsanal aDest, 1024, 256, 1024, 1\n    \n    ; Cross-fade\n    kCross linseg 0, p3*0.5, 1, p3*0.5, 0\n    kAmp1 = 1 - kCross\n    kAmp2 = kCross\n    \n    fcross pvscross fSrc, fDest, kAmp1, kAmp2\n    \n    ; Synthesize\n    aOut pvsynth fcross\n    \n    outs aOut, aOut\nendin\n\ninstr 4\n    ; pvsfilter opcode: fsig pvsfilter fsigin, fsigfil, kdepth\n    ; Spectral filtering using another spectrum\n    ; fsigfil - filter spectrum\n    ; kdepth - filter depth (0-1)\n    \n    ; Input signal\n    aIn vco2 0.3, 330, 0\n    \n    ; Filter shape (noise burst)\n    aFilt rand 0.5\n    aFilt *= linseg(1, 0.1, 0, p3-0.1, 0)\n    \n    ; Analyze both\n    fIn pvsanal aIn, 1024, 256, 1024, 1\n    fFilt pvsanal aFilt, 1024, 256, 1024, 1\n    \n    ; Apply spectral filter\n    kDepth linseg 0, p3*0.3, 0.9, p3*0.4, 0.9, p3*0.3, 0\n    ffilt pvsfilter fIn, fFilt, kDepth\n    \n    ; Synthesize\n    aOut pvsynth ffilt\n    \n    outs aOut, aOut\nendin\n\ninstr 5\n    ; Combining centroid with spectral processing\n    aIn buzz 0.3, 165, 25, -1\n    \n    ; Calculate centroid\n    kCent centroid aIn\n    \n    ; Analyze for processing\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Freeze when centroid is high\n    kFreeze = (kCent > 2000 ? 1 : 0)\n    ffrz pvsfreeze fsig, kFreeze, 0\n    \n    ; Synthesize\n    aOut pvsynth ffrz\n    \n    outs aIn*0.4, aOut*0.6\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 5 3\ni3 9 4\ni4 14 3\ni5 18 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates ATS (Analysis-Transformation-Synthesis) opcodes: ATSread, ATSinfo, ATSbufread, ATSinterpread, ATSpartialtap", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; ATSread opcode: kfreq, kamp ATSread ktimepnt, iatsfile, ipartial\n    ; Read frequency and amplitude from ATS analysis file\n    ; ktimepnt - time pointer (seconds)\n    ; iatsfile - ATS file\n    ; ipartial - partial number\n    \n    ; Note: Requires ATS analysis file\n    ; Simulating with oscillator bank\n    \n    ; Time pointer\n    kTime line 0, p3, p3\n    \n    ; Simulate reading partials\n    ; In practice: kFr1, kAm1 ATSread kTime, \"file.ats\", 1\n    \n    ; Simulated partial data\n    kFr1 linseg 220, p3*0.5, 440, p3*0.5, 330\n    kAm1 linseg 0.2, p3*0.5, 0.4, p3*0.5, 0.3\n    \n    kFr2 = kFr1 * 2.01\n    kAm2 = kAm1 * 0.6\n    \n    kFr3 = kFr1 * 3.02\n    kAm3 = kAm1 * 0.4\n    \n    ; Synthesize partials\n    aOut1 oscili kAm1, kFr1, -1\n    aOut2 oscili kAm2, kFr2, -1\n    aOut3 oscili kAm3, kFr3, -1\n    \n    aOut = (aOut1 + aOut2 + aOut3) * 0.5\n    \n    outs aOut, aOut\nendin\n\ninstr 2\n    ; ATSinfo opcode: idata ATSinfo iatsfile, ilocation\n    ; Get information from ATS file\n    ; iatsfile - ATS file path\n    ; ilocation - what info to get (0=sample rate, 1=frame size, etc.)\n    \n    ; Note: Returns information at i-time\n    ; Simulating ATS playback\n    \n    ; Simulated partial bank\n    kTime line 0, p3, p3\n    \n    ; Multiple partials with varying amplitudes\n    iNumPartials = 8\n    aSum = 0\n    \n    indx = 1\n    while indx <= iNumPartials do\n        kFr = 110 * indx * (1 + indx*0.002)\n        kAm = 0.3 / indx\n        aPartial oscili kAm, kFr, -1\n        aSum = aSum + aPartial\n        indx += 1\n    od\n    \n    aSum *= 0.4\n    \n    outs aSum, aSum\nendin\n\ninstr 3\n    ; ATSbufread opcode: kfreq, kamp ATSbufread ktimepnt, kfmod, ibufno, ipartial\n    ; Read from buffered ATS data\n    ; ktimepnt - time pointer\n    ; kfmod - frequency modulation\n    ; ibufno - buffer number\n    ; ipartial - partial number\n    \n    kTime line 0, p3, p3\n    kFmod linseg 1, p3*0.5, 1.5, p3*0.5, 0.8\n    \n    ; Simulate frequency-scaled ATS partials\n    kFr1 = 165 * kFmod\n    kAm1 = 0.3\n    \n    kFr2 = 330 * kFmod * 1.01\n    kAm2 = 0.2\n    \n    kFr3 = 495 * kFmod * 1.02\n    kAm3 = 0.15\n    \n    aP1 oscili kAm1, kFr1, -1\n    aP2 oscili kAm2, kFr2, -1\n    aP3 oscili kAm3, kFr3, -1\n    \n    aOut = (aP1 + aP2 + aP3) * 0.5\n    \n    outs aOut, aOut\nendin\n\ninstr 4\n    ; ATSinterpread opcode: kfreq, kamp ATSinterpread ktimepnt, iatsfile, ipartial\n    ; Read with interpolation between frames\n    \n    kTime line 0, p3, p3\n    \n    ; Simulate smooth partial evolution\n    kFr1 linseg 220, p3*0.25, 330, p3*0.25, 275, p3*0.25, 440, p3*0.25, 330\n    kAm1 linseg 0.2, p3*0.25, 0.35, p3*0.25, 0.25, p3*0.25, 0.4, p3*0.25, 0.3\n    \n    kFr2 = kFr1 * 2.003\n    kAm2 = kAm1 * 0.7\n    \n    kFr3 = kFr1 * 3.007\n    kAm3 = kAm1 * 0.5\n    \n    kFr4 = kFr1 * 4.011\n    kAm4 = kAm1 * 0.3\n    \n    aP1 oscili kAm1, kFr1, -1\n    aP2 oscili kAm2, kFr2, -1\n    aP3 oscili kAm3, kFr3, -1\n    aP4 oscili kAm4, kFr4, -1\n    \n    aOut = (aP1 + aP2 + aP3 + aP4) * 0.4\n    \n    outs aOut, aOut\nendin\n\ninstr 5\n    ; ATSpartialtap opcode: kfreq, kamp ATSpartialtap ipartial\n    ; Tap specific partial from ATS data\n    ; ipartial - partial number to tap\n    \n    ; Simulate tapping different partials\n    kTime line 0, p3, p3\n    \n    ; Tap partials 1, 3, 5 (odd harmonics)\n    kFr1 = 110\n    kAm1 = 0.3\n    aP1 oscili kAm1, kFr1, -1\n    \n    kFr3 = 330 * 1.005\n    kAm3 = 0.2\n    aP3 oscili kAm3, kFr3, -1\n    \n    kFr5 = 550 * 1.008\n    kAm5 = 0.15\n    aP5 oscili kAm5, kFr5, -1\n    \n    aOut = (aP1 + aP3 + aP5) * 0.5\n    \n    outs aOut, aOut\nendin\n\ninstr 6\n    ; Complex ATS resynthesis simulation\n    ; Time-varying partial selection\n    \n    kTime line 0, p3, p3\n    \n    ; Number of active partials changes over time\n    kNumPartials linseg 3, p3*0.5, 12, p3*0.5, 5\n    \n    ; Generate partial bank\n    aSum = 0\n    indx = 1\n    while indx <= 12 do\n        kActive = (indx <= kNumPartials ? 1 : 0)\n        kFr = 110 * indx * (1 + indx*0.003)\n        kAm = kActive * (0.25 / indx)\n        aPartial oscili kAm, kFr, -1\n        aSum = aSum + aPartial\n        indx += 1\n    od\n    \n    aSum *= 0.4\n    \n    outs aSum, aSum\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 5 3\ni3 9 4\ni4 14 5\ni5 20 3\ni6 24 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates auto-wah filter effect opcodes: wguide1, wguide2, resonant filters with envelope following", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; Basic auto-wah using envelope follower + resonant filter\n    ; Input signal\n    aIn vco2 0.4, 110, 2, 0.5\n    aIn *= linseg(0.1, 0.05, 1, 0.1, 0.3, p3-0.15, 0.1)\n    \n    ; Follow envelope\n    aEnv follow2 aIn, 0.005, 0.1\n    \n    ; Map envelope to filter frequency\n    kCf = 300 + aEnv*2500\n    \n    ; Resonant bandpass filter\n    aWah butterbp aIn, kCf, kCf*0.3\n    \n    ; Mix dry and wet\n    aOut = aIn*0.3 + aWah*0.7\n    \n    outs aOut, aOut\nendin\n\ninstr 2\n    ; Auto-wah with variable resonance\n    aIn buzz 0.4, 165, 20, -1\n    aIn *= expseg(1, 0.01, 0.3, 0.2, 0.5, p3-0.21, 0.1)\n    \n    ; Envelope follower\n    aEnv follow2 aIn, 0.002, 0.08\n    \n    ; Control frequency and Q\n    kCf = 200 + aEnv*3000\n    kQ linseg 5, p3*0.5, 20, p3*0.5, 10\n    \n    ; Resonant filter\n    aWah rbjeq aIn, 2, kCf, kQ, 1  ; Mode 2 = bandpass\n    \n    aOut = aIn*0.2 + aWah*0.8\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; Multi-mode auto-wah\n    ; Switches between lowpass and bandpass\n    \n    aIn vco2 0.4, 220, 0\n    aIn *= linseg(0.2, 0.1, 1, 0.2, 0.4, p3-0.3, 0.2)\n    \n    ; Envelope\n    aEnv follow2 aIn, 0.01, 0.15\n    \n    ; Frequency control\n    kCf = 400 + aEnv*2000\n    \n    ; Mode switching\n    kMode linseg 0, p3*0.5, 1, p3*0.5, 0\n    \n    ; Lowpass wah\n    aLP butterlp aIn, kCf\n    \n    ; Bandpass wah\n    aBP butterbp aIn, kCf, kCf*0.4\n    \n    ; Crossfade between modes\n    aWah = aLP*(1-kMode) + aBP*kMode\n    \n    aOut = aIn*0.3 + aWah*0.7\n    \n    outs aOut, aOut\nendin\n\ninstr 4\n    ; Wah with LFO modulation\n    aIn vco2 0.4, 165, 10\n    \n    ; Envelope follower\n    aEnv follow2 aIn, 0.005, 0.1\n    \n    ; LFO for sweep\n    kLFO lfo 1, 1.5, 0\n    kLFO = (kLFO + 1) * 0.5  ; 0 to 1\n    \n    ; Combine envelope and LFO\n    kCf = 300 + aEnv*1500 + kLFO*1000\n    \n    ; Apply filter\n    aWah butterbp aIn, kCf, kCf*0.5\n    \n    aOut = aIn*0.3 + aWah*0.7\n    \n    outs aOut, aOut\nendin\n\ninstr 5\n    ; Wah with variable sensitivity\n    aIn buzz 0.4, 110, 25, -1\n    aIn *= linseg(0.1, 0.08, 1, 0.15, 0.5, p3-0.23, 0.2)\n    \n    ; Envelope\n    aEnv follow2 aIn, 0.003, 0.12\n    \n    ; Sensitivity control\n    kSens linseg 1, p3*0.5, 5, p3*0.5, 2\n    \n    ; Apply sensitivity\n    kEnvScaled = aEnv * kSens\n    kEnvScaled limit kEnvScaled, 0, 1\n    \n    ; Filter\n    kCf = 250 + kEnvScaled*3000\n    aWah butterbp aIn, kCf, kCf*0.4\n    \n    aOut = aIn*0.25 + aWah*0.75\n    \n    outs aOut, aOut\nendin\n\ninstr 6\n    ; Stereo auto-wah with different frequencies per channel\n    aIn vco2 0.4, 220, 0\n    aIn *= linseg(0.2, 0.05, 1, 0.1, 0.4, p3-0.15, 0.2)\n    \n    ; Envelope\n    aEnv follow2 aIn, 0.005, 0.1\n    \n    ; Different frequency ranges for L and R\n    kCfL = 400 + aEnv*2000\n    kCfR = 600 + aEnv*1800\n    \n    ; Stereo filters\n    aWahL butterbp aIn, kCfL, kCfL*0.4\n    aWahR butterbp aIn, kCfR, kCfR*0.4\n    \n    aOutL = aIn*0.3 + aWahL*0.7\n    aOutR = aIn*0.3 + aWahR*0.7\n    \n    outs aOutL, aOutR\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 4 3\ni3 8 4\ni4 13 4\ni5 18 3\ni6 22 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates lo-fi effects: bit reduction, sample rate reduction, aliasing", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; Bit reduction (bit crushing)\n    ; Reduces bit depth for lo-fi effect\n    \n    aIn vco2 0.4, 220, 0\n    \n    ; Bit depth parameter (bits)\n    kBits linseg 16, p3*0.5, 4, p3*0.5, 8\n    \n    ; Calculate step size\n    kSteps = 2^kBits\n    kStepSize = 2 / kSteps\n    \n    ; Quantize signal\n    aCrushed = floor(aIn / kStepSize + 0.5) * kStepSize\n    \n    outs aIn*0.5, aCrushed*0.5\nendin\n\ninstr 2\n    ; Sample rate reduction\n    ; Creates aliasing artifacts\n    \n    aIn buzz 0.4, 330, 20, -1\n    \n    ; Target sample rate\n    kSampleRate linseg 44100, p3*0.5, 4000, p3*0.5, 12000\n    \n    ; Sample and hold at reduced rate\n    kPeriod = sr / kSampleRate\n    aSH samphold aIn, kPeriod\n    \n    outs aIn*0.5, aSH*0.5\nendin\n\ninstr 3\n    ; Combined bit and sample rate reduction\n    aIn vco2 0.4, 165, 10\n    \n    ; Reduce sample rate\n    kSR = 8000\n    kPeriod = sr / kSR\n    aSH samphold aIn, kPeriod\n    \n    ; Reduce bit depth\n    kBits = 6\n    kSteps = 2^kBits\n    kStepSize = 2 / kSteps\n    aLoFi = floor(aSH / kStepSize + 0.5) * kStepSize\n    \n    outs aIn*0.5, aLoFi*0.5\nendin\n\ninstr 4\n    ; Variable lo-fi intensity\n    aIn buzz 0.4, 220, 25, -1\n    \n    ; Sweep through lo-fi intensity\n    kLoFi linseg 0, p3*0.33, 1, p3*0.33, 1, p3*0.34, 0\n    \n    ; Bit depth (16 to 3 bits)\n    kBits = 16 - kLoFi*13\n    kSteps = 2^kBits\n    kStepSize = 2 / kSteps\n    aBitReduced = floor(aIn / kStepSize + 0.5) * kStepSize\n    \n    ; Sample rate (44100 to 4000 Hz)\n    kSR = 44100 - kLoFi*40100\n    kPeriod = sr / kSR\n    aLoFi samphold aBitReduced, kPeriod\n    \n    outs aIn*0.5, aLoFi*0.5\nendin\n\ninstr 5\n    ; Lo-fi with filtering\n    ; Add characteristic lo-fi tone\n    \n    aIn vco2 0.4, 110, 0\n    \n    ; Bit crush\n    kBits = 5\n    kSteps = 2^kBits\n    kStepSize = 2 / kSteps\n    aCrushed = floor(aIn / kStepSize + 0.5) * kStepSize\n    \n    ; Sample rate reduce\n    kSR = 6000\n    kPeriod = sr / kSR\n    aLoFi samphold aCrushed, kPeriod\n    \n    ; Add lo-fi character with filtering\n    aFiltered butterlp aLoFi, 3000\n    aFiltered butterhp aFiltered, 80\n    \n    outs aIn*0.4, aFiltered*0.6\nendin\n\ninstr 6\n    ; Aliasing effect\n    ; Intentional aliasing for texture\n    \n    aIn buzz 0.4, 440, 30, -1\n    \n    ; Very low sample rate for strong aliasing\n    kSR linseg 22050, p3*0.5, 2000, p3*0.5, 8000\n    kPeriod = sr / kSR\n    aAlias samphold aIn, kPeriod\n    \n    ; Mix with noise for texture\n    aNoise rand 0.05\n    aOut = aAlias + aNoise\n    \n    outs aIn*0.4, aOut*0.6\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 5 4\ni3 10 3\ni4 14 4\ni5 19 3\ni6 23 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates tremolo and vibrato effects using vdelay, vibration, vibrato opcodes", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; Simple tremolo (amplitude modulation)\n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Oscillator\n    aOsc oscili kAmp*0.3, 440, -1, 0\n    \n    ; Tremolo LFO\n    kTrem oscili 0.5, 5, -1, 0  ; 5 Hz\n    kMod = 0.5 + kTrem\n    \n    aTrem = aOsc * kMod\n    \n    outs aTrem, aTrem\nendin\n\ninstr 2\n    ; vibrato opcode: ares vibrato asig, kfreq, kdepth [, itype]\n    ; Vibrato effect (frequency modulation)\n    ; asig - input signal\n    ; kfreq - vibrato rate (Hz)\n    ; kdepth - vibrato depth (cents, typically 5-50)\n    ; itype - LFO type (optional)\n    \n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Oscillator\n    aOsc oscili kAmp*0.3, 330, -1, 0\n    \n    ; Apply vibrato\n    kRate = 5\n    kDepth = 20  ; cents\n    \n    aVib vibrato aOsc, kRate, kDepth\n    \n    outs aVib, aVib\nendin\n\ninstr 3\n    ; Manual vibrato using vdelay\n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.3, 220, 0\n    \n    ; LFO for vibrato (delay modulation)\n    kLFO oscili 3, 6, -1, 0  ; Â±3ms at 6Hz\n    kDelTime = 15 + kLFO\n    \n    ; Variable delay for vibrato\n    aVib vdelay aSaw, kDelTime, 25\n    \n    outs aVib, aVib\nendin\n\ninstr 4\n    ; vibration opcode: kres vibration kpitch, kamp, kfreq [, itype] [, istart]\n    ; Generate vibrato modulation signal\n    ; kpitch - base pitch (Hz)\n    ; kamp - vibrato depth (Hz)\n    ; kfreq - vibrato rate (Hz)\n    ; itype - waveform type\n    ; istart - starting phase\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Generate vibrato modulation\n    kBasePitch = 440\n    kVibDepth = 8  ; Hz\n    kVibRate = 5.5\n    kModPitch vibration kBasePitch, kVibDepth, kVibRate\n    \n    ; Apply to oscillator\n    aOsc oscili kAmp*0.3, kModPitch, -1, 0\n    \n    outs aOsc, aOsc\nendin\n\ninstr 5\n    ; Combined tremolo and vibrato\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 165, 2, 0.4\n    \n    ; Vibrato\n    kVibRate = 5.5\n    kVibDepth = 15\n    aVib vibrato aPulse, kVibRate, kVibDepth\n    \n    ; Tremolo\n    kTremRate = 3.7\n    kTrem oscili 0.4, kTremRate, -1, 0\n    kTremMod = 0.6 + kTrem\n    \n    aOut = aVib * kTremMod\n    \n    outs aOut, aOut\nendin\n\ninstr 6\n    ; Stereo tremolo/vibrato\n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Two oscillators\n    aOsc1 oscili kAmp*0.15, 220, -1, 0\n    aOsc2 oscili kAmp*0.15, 220.5, -1, 0\n    \n    ; Different tremolo rates L/R\n    kTremL oscili 0.5, 4, -1, 0\n    kTremR oscili 0.5, 3, -1, 0.25\n    \n    kModL = 0.5 + kTremL\n    kModR = 0.5 + kTremR\n    \n    ; Apply tremolo\n    aL = aOsc1 * kModL\n    aR = aOsc2 * kModR\n    \n    ; Add vibrato\n    aVibL vibrato aL, 5, 12\n    aVibR vibrato aR, 5.3, 12\n    \n    outs aVibL, aVibR\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 4.5 4\ni3 9 4\ni4 13.5 4\ni5 18 4\ni6 22.5 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates vocoder opcodes: pvsvoc, vocoder, pvscross", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; pvsvoc opcode: fsig pvsvoc famp, ffr, kdepth [, kgain] [,kcoefs]\n    ; Phase vocoder cross-synthesis\n    ; famp - amplitude spectrum source (modulator)\n    ; ffr - frequency spectrum source (carrier)\n    ; kdepth - vocoding depth (0-1)\n    \n    ; Modulator (speech-like)\n    aMod buzz 0.3, 110, 20, -1\n    aMod *= linseg(1, 0.1, 0.3, 0.15, 1, 0.2, 0.5, p3-0.45, 0.5)\n    kModFreq linseg 110, p3*0.5, 220, p3*0.5, 165\n    aMod = butlp(aMod, kModFreq*8)\n    \n    ; Carrier (pitched)\n    aCarr vco2 0.3, 220, 0\n    \n    ; Analyze both signals\n    fMod pvsanal aMod, 1024, 256, 1024, 1\n    fCarr pvsanal aCarr, 1024, 256, 1024, 1\n    \n    ; Vocoding\n    kDepth = 0.9\n    fvoc pvsvoc fMod, fCarr, kDepth\n    \n    ; Synthesize\n    aOut pvsynth fvoc\n    \n    outs aMod*0.4, aOut*0.6\nendin\n\ninstr 2\n    ; Vocoder with variable depth\n    ; Modulator (noise burst)\n    aMod rand 0.3\n    aMod *= linseg(1, 0.05, 0.2, 0.1, 1, 0.15, 0.3, p3-0.3, 0.1)\n    aMod butterlp aMod, 2000\n    \n    ; Carrier (harmonic)\n    aCarr buzz 0.3, 165, 30, -1\n    \n    ; Analyze\n    fMod pvsanal aMod, 1024, 256, 1024, 1\n    fCarr pvsanal aCarr, 1024, 256, 1024, 1\n    \n    ; Variable vocoding depth\n    kDepth linseg 0, p3*0.3, 1, p3*0.4, 1, p3*0.3, 0\n    fvoc pvsvoc fMod, fCarr, kDepth\n    \n    aOut pvsynth fvoc\n    \n    outs aCarr*0.3, aOut*0.7\nendin\n\ninstr 3\n    ; pvscross opcode: fsig pvscross fsrc, fdest, kamp1, kamp2\n    ; Spectral cross-synthesis/morphing\n    ; kamp1 - amplitude of source\n    ; kamp2 - amplitude of destination\n    \n    ; Source 1\n    aSrc1 buzz 0.3, 220, 15, -1\n    \n    ; Source 2\n    aSrc2 vco2 0.3, 330, 10\n    \n    ; Analyze\n    fSrc1 pvsanal aSrc1, 1024, 256, 1024, 1\n    fSrc2 pvsanal aSrc2, 1024, 256, 1024, 1\n    \n    ; Morph between sources\n    kMorph linseg 0, p3*0.5, 1, p3*0.5, 0\n    kAmp1 = 1 - kMorph\n    kAmp2 = kMorph\n    \n    fcross pvscross fSrc1, fSrc2, kAmp1, kAmp2\n    \n    aOut pvsynth fcross\n    \n    outs aOut, aOut\nendin\n\ninstr 4\n    ; Multi-band vocoder simulation\n    ; Using filter banks\n    \n    ; Modulator\n    aMod rand 0.4\n    aMod *= linseg(1, 0.1, 0.4, 0.2, 1, p3-0.3, 0.5)\n    \n    ; Carrier\n    aCarr vco2 0.4, 110, 0\n    \n    ; Band 1: Low (100-300 Hz)\n    aModB1 butterbp aMod, 200, 150\n    aCarrB1 butterbp aCarr, 200, 150\n    aEnv1 follow2 aModB1, 0.005, 0.05\n    aOut1 = aCarrB1 * aEnv1 * 3\n    \n    ; Band 2: Low-mid (300-800 Hz)\n    aModB2 butterbp aMod, 550, 400\n    aCarrB2 butterbp aCarr, 550, 400\n    aEnv2 follow2 aModB2, 0.005, 0.05\n    aOut2 = aCarrB2 * aEnv2 * 3\n    \n    ; Band 3: Mid (800-2000 Hz)\n    aModB3 butterbp aMod, 1400, 900\n    aCarrB3 butterbp aCarr, 1400, 900\n    aEnv3 follow2 aModB3, 0.005, 0.05\n    aOut3 = aCarrB3 * aEnv3 * 3\n    \n    ; Band 4: High (2000-5000 Hz)\n    aModB4 butterbp aMod, 3500, 2500\n    aCarrB4 butterbp aCarr, 3500, 2500\n    aEnv4 follow2 aModB4, 0.005, 0.05\n    aOut4 = aCarrB4 * aEnv4 * 3\n    \n    ; Mix bands\n    aOut = (aOut1 + aOut2 + aOut3 + aOut4) * 0.4\n    \n    outs aOut, aOut\nendin\n\ninstr 5\n    ; Formant vocoder\n    ; Emphasis on formant regions\n    \n    ; Modulator with formant structure\n    aMod buzz 0.3, 110, 40, -1\n    aMod *= linseg(1, 0.1, 0.5, 0.15, 1, p3-0.25, 0.7)\n    \n    ; Add formants to modulator\n    aF1 butterbp aMod, 800, 100\n    aF2 butterbp aMod, 1200, 120\n    aF3 butterbp aMod, 2500, 200\n    aMod = aMod*0.3 + aF1 + aF2*0.8 + aF3*0.6\n    \n    ; Carrier\n    aCarr vco2 0.3, 165, 0\n    \n    ; Vocode\n    fMod pvsanal aMod, 1024, 256, 1024, 1\n    fCarr pvsanal aCarr, 1024, 256, 1024, 1\n    \n    fvoc pvsvoc fMod, fCarr, 0.95\n    \n    aOut pvsynth fvoc\n    \n    outs aMod*0.3, aOut*0.7\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 5 4\ni3 10 4\ni4 15 3\ni5 19 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates multi-tap delay opcodes: multitap, tapstop", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Table for tap times (in milliseconds)\ngitaps ftgen 1, 0, 8, -2, 100, 200, 350, 550, 800, 1100, 1500, 2000\n; Table for tap gains\ngigains ftgen 2, 0, 8, -2, 1.0, 0.8, 0.6, 0.5, 0.4, 0.3, 0.2, 0.1\n\ninstr 1\n    ; multitap opcode: ares multitap asig [, itime1, igain1] [, itime2, igain2] [...]\n    ; Multi-tap delay with up to 20 taps\n    ; asig - input signal\n    ; itimeN - delay time for tap N (milliseconds)\n    ; igainN - gain for tap N\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Impulse source\n    aImp mpulse kAmp*0.5, 2\n    \n    ; Multi-tap delay with 4 taps\n    aDelayed multitap aImp, 100, 0.7, 250, 0.5, 450, 0.3, 700, 0.2\n    \n    ; Mix\n    aMix = aImp + aDelayed\n    \n    outs aMix, aMix\nendin\n\ninstr 2\n    ; Complex multi-tap delay\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Pluck sound\n    aPluck pluck kAmp*0.4, 330, 330, 0, 1\n    \n    ; Multiple taps for dense echo\n    aDelayed multitap aPluck, \\\n        80, 0.8, \\\n        150, 0.7, \\\n        240, 0.6, \\\n        350, 0.5, \\\n        480, 0.4, \\\n        630, 0.3, \\\n        800, 0.25, \\\n        1000, 0.2\n    \n    aMix = aPluck + aDelayed\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; Rhythmic multi-tap delay\n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Short sound\n    aSaw vco2 kAmp*0.3, 220, 0\n    aEnv expon 1, 0.15, 0.01\n    aSound = aSaw * aEnv\n    \n    ; Rhythmic taps (120 BPM = 500ms per beat)\n    ; Taps at 1/16 notes\n    aDelayed multitap aSound, \\\n        125, 0.6, \\  ; 16th note\n        250, 0.5, \\  ; 8th note\n        375, 0.4, \\  ; dotted 8th\n        500, 0.35, \\ ; quarter note\n        750, 0.25    ; dotted quarter\n    \n    outs aDelayed, aDelayed\nendin\n\ninstr 4\n    ; tapstop is not a standard Csound opcode, \n    ; but we can demonstrate stopping delay taps dynamically\n    ; by using conditional processing\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 165, 2, 0.4\n    \n    ; Multi-tap with dynamic control\n    kTaps linseg 8, p3*0.5, 8, p3*0.5, 2\n    \n    ; Full delay\n    aDelayed multitap aPulse, \\\n        100, 0.7, \\\n        200, 0.6, \\\n        300, 0.5, \\\n        400, 0.4, \\\n        500, 0.3, \\\n        600, 0.25, \\\n        700, 0.2, \\\n        800, 0.15\n    \n    ; Fade out delayed signal\n    kFade = (kTaps > 4 ? 1 : kTaps/4)\n    aDelayed = aDelayed * kFade\n    \n    aMix = aPulse*0.5 + aDelayed\n    \n    outs aMix, aMix\nendin\n\ninstr 5\n    ; Stereo multi-tap delay\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.3, 110, 0\n    \n    ; Different tap patterns for L/R\n    aDelayedL multitap aSaw, \\\n        120, 0.6, \\\n        280, 0.5, \\\n        480, 0.4, \\\n        720, 0.3\n    \n    aDelayedR multitap aSaw, \\\n        150, 0.6, \\\n        330, 0.5, \\\n        550, 0.4, \\\n        810, 0.3\n    \n    aL = aSaw*0.4 + aDelayedL\n    aR = aSaw*0.4 + aDelayedR\n    \n    outs aL, aR\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 3.5 2\ni3 6 3\ni4 9.5 4\ni5 14 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates basic delay opcodes: delay, delay1, delayk", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; delay opcode: ares delay asig, idlt [, iskip]\n    ; Simple delay line with fixed delay time\n    ; asig - input signal\n    ; idlt - delay time (seconds)\n    ; iskip - skip initialization (optional)\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Short pluck\n    aPluck pluck kAmp*0.4, 440, 440, 0, 1\n    \n    ; Add echo at 0.3 seconds\n    aEcho delay aPluck, 0.3\n    \n    ; Mix dry and delayed\n    aMix = aPluck + aEcho*0.6\n    \n    outs aMix, aMix\nendin\n\ninstr 2\n    ; Multiple delays for rhythmic echo\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Impulse source\n    aImp mpulse kAmp*0.5, 2\n    \n    ; Three delays\n    aD1 delay aImp, 0.15\n    aD2 delay aImp, 0.3\n    aD3 delay aImp, 0.45\n    \n    ; Mix with decay\n    aMix = aImp + aD1*0.7 + aD2*0.5 + aD3*0.3\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; delay1 opcode: ares delay1 asig [, iskip]\n    ; Single-sample delay (1/sr seconds)\n    ; asig - input signal\n    ; iskip - skip initialization\n    ; Useful for feedback loops and basic filters\n    \n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Oscillator\n    aOsc oscili kAmp*0.3, 220, -1, 0\n    \n    ; Create feedback with single-sample delay\n    aDelayed delay1 aOsc\n    aFeedback = aOsc + aDelayed*0.5\n    \n    outs aFeedback, aFeedback\nendin\n\ninstr 4\n    ; delayk opcode: kr delayk ksig, idel [, imode]\n    ; Delay for k-rate signals\n    ; ksig - input k-rate signal\n    ; idel - delay time (seconds)\n    ; imode - 0=clip to valid range, 1=wrap (default 0)\n    \n    ; Fast-changing k-rate signal\n    kRaw linseg 200, p3, 800\n    \n    ; Delayed version\n    kDelayed delayk kRaw, 0.5\n    \n    ; Use both for two oscillators\n    kAmp madsr 0.01, 0.08, 0.7, 0.2\n    aOsc1 oscili kAmp*0.15, kRaw, -1, 0\n    aOsc2 oscili kAmp*0.15, kDelayed, -1, 0\n    \n    outs aOsc1, aOsc2\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 2\ni2 2.5 3\ni3 6 3\ni4 9.5 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates delay line read/write opcodes: delayr, delayw, deltap, deltapi, deltap3", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; delayr/delayw opcodes: create delay line\n    ; ares delayr idlt [, iskip]\n    ; delayw asig\n    ; deltap opcode: ares deltap kdlt\n    ; Read from delay line at k-rate time\n    ; idlt - maximum delay time\n    ; kdlt - tap time (seconds, 0 to idlt)\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Impulse train\n    aImp mpulse kAmp*0.4, 1.5\n    \n    ; Create delay line (max 1 second)\n    aBuf delayr 1.0\n    \n    ; Tap at 0.25 seconds\n    aTap deltap 0.25\n    \n    ; Write to delay\n    delayw aImp\n    \n    ; Mix\n    aMix = aImp + aTap*0.6\n    \n    outs aMix, aMix\nendin\n\ninstr 2\n    ; Multiple taps from one delay line\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Pluck sound\n    aPluck pluck kAmp*0.4, 330, 330, 0, 1\n    \n    ; Delay line\n    aBuf delayr 0.8\n    \n    ; Multiple taps at different times\n    aTap1 deltap 0.15\n    aTap2 deltap 0.3\n    aTap3 deltap 0.6\n    \n    delayw aPluck\n    \n    ; Mix with decreasing gains\n    aMix = aPluck + aTap1*0.6 + aTap2*0.4 + aTap3*0.2\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; deltapi opcode: ares deltapi xdlt\n    ; Linear interpolated delay tap (for smooth varying delays)\n    ; xdlt - delay time (can be k-rate or a-rate)\n    \n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Continuous sound\n    aOsc oscili kAmp*0.3, 440, -1, 0\n    \n    ; Delay line\n    aBuf delayr 0.5\n    \n    ; Varying tap time\n    kTapTime linseg 0.05, p3*0.5, 0.4, p3*0.5, 0.1\n    aTap deltapi kTapTime\n    \n    delayw aOsc\n    \n    ; Mix\n    aMix = aOsc*0.5 + aTap*0.5\n    \n    outs aMix, aMix\nendin\n\ninstr 4\n    ; deltap3 opcode: ares deltap3 xdlt\n    ; Cubic interpolated delay tap (higher quality)\n    ; xdlt - delay time\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.25, 220, 0\n    \n    ; Delay line\n    aBuf delayr 0.6\n    \n    ; LFO-modulated tap time for chorus\n    kLFO oscili 0.02, 0.3, -1, 0\n    kTapTime = 0.03 + kLFO\n    aTap deltap3 kTapTime\n    \n    delayw aSaw\n    \n    ; Stereo output\n    outs aSaw, aTap\nendin\n\ninstr 5\n    ; Feedback delay using delayr/delayw\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Impulse\n    aImp mpulse kAmp*0.5, 3\n    \n    ; Delay with feedback\n    aBuf delayr 0.3\n    aTap deltap 0.3\n    \n    ; Add feedback\n    aFeedback = aImp + aTap*0.6\n    \n    delayw aFeedback\n    \n    outs aFeedback, aFeedback\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 3.5 2\ni3 6 4\ni4 10.5 4\ni5 15 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates advanced delay tap opcodes: deltapn, deltapx, deltapxw", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; deltapn opcode: ares deltapn xnumsamps\n    ; Tap delay line by number of samples (not seconds)\n    ; xnumsamps - delay in samples\n    ; More precise for short delays\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Impulse train\n    aImp mpulse kAmp*0.4, 2\n    \n    ; Delay line\n    aBuf delayr 0.1\n    \n    ; Tap at specific sample count (e.g., 2205 samples = 0.05 sec at 44100 Hz)\n    iSamps = 2205\n    aTap deltapn iSamps\n    \n    delayw aImp\n    \n    aMix = aImp + aTap*0.6\n    \n    outs aMix, aMix\nendin\n\ninstr 2\n    ; deltapx opcode: aout1 [, aout2, ...] deltapx adel, [, j]\n    ; Multiple interpolated taps at a-rate delay time\n    ; adel - a-rate delay time\n    ; j - number of taps (1-8, default 4)\n    \n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.25, 165, 0\n    \n    ; Delay line\n    aBuf delayr 0.5\n    \n    ; A-rate modulated delay time\n    aLFO oscili 0.015, 0.4, -1, 0\n    aDelTime = 0.05 + aLFO\n    \n    ; Four taps with deltapx\n    aTap1, aTap2, aTap3, aTap4 deltapx aDelTime, 4\n    \n    delayw aSaw\n    \n    ; Mix taps\n    aMix = (aTap1 + aTap2 + aTap3 + aTap4) * 0.2\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; deltapxw opcode: deltapxw ain, adel, [, j]\n    ; Write to delay and tap simultaneously with a-rate delay\n    ; ain - input signal to write\n    ; adel - a-rate delay time\n    ; j - number of taps (1-8)\n    \n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 220, 2, 0.4\n    \n    ; Delay line\n    aBuf delayr 0.4\n    \n    ; Varying delay time\n    aLFO oscili 0.02, 0.6, -1, 0\n    aDelTime = 0.1 + aLFO\n    \n    ; Write and tap\n    aTap1, aTap2 deltapxw aPulse, aDelTime, 2\n    \n    ; Mix\n    aL = aPulse + aTap1*0.5\n    aR = aPulse + aTap2*0.5\n    \n    outs aL, aR\nendin\n\ninstr 4\n    ; Complex multi-tap delay with deltapn\n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Pluck\n    aPluck pluck kAmp*0.4, 330, 330, 0, 1\n    \n    ; Delay line\n    aBuf delayr 1.0\n    \n    ; Multiple taps at specific sample counts\n    aTap1 deltapn 4410   ; 0.1 sec\n    aTap2 deltapn 8820   ; 0.2 sec\n    aTap3 deltapn 17640  ; 0.4 sec\n    aTap4 deltapn 35280  ; 0.8 sec\n    \n    delayw aPluck\n    \n    ; Exponential decay mix\n    aMix = aPluck + aTap1*0.6 + aTap2*0.4 + aTap3*0.25 + aTap4*0.15\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 3.5 4\ni3 8 4\ni4 12.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates variable delay opcodes: vdelay, vdelay3", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; vdelay opcode: ares vdelay asig, adel, imaxdel [, iskip]\n    ; Variable delay with linear interpolation\n    ; asig - input signal\n    ; adel - delay time (can be a-rate or k-rate, milliseconds)\n    ; imaxdel - maximum delay time (milliseconds)\n    ; iskip - skip initialization\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Oscillator\n    aOsc oscili kAmp*0.3, 440, -1, 0\n    \n    ; Varying delay time (in milliseconds)\n    kDelTime linseg 10, p3*0.5, 100, p3*0.5, 20\n    \n    ; Variable delay\n    aDelayed vdelay aOsc, kDelTime, 150\n    \n    ; Mix\n    aMix = aOsc*0.5 + aDelayed*0.5\n    \n    outs aMix, aMix\nendin\n\ninstr 2\n    ; Vibrato using vdelay\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.3, 330, 0\n    \n    ; LFO for vibrato\n    kLFO oscili 5, 5, -1, 0  ; Â±5ms at 5 Hz\n    kDelTime = 15 + kLFO\n    \n    aVibrato vdelay aSaw, kDelTime, 25\n    \n    outs aVibrato, aVibrato\nendin\n\ninstr 3\n    ; vdelay3 opcode: ares vdelay3 asig, adel, imaxdel [, iskip]\n    ; Variable delay with cubic interpolation (higher quality)\n    ; Same parameters as vdelay but smoother interpolation\n    \n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 220, 2, 0.4\n    \n    ; Smooth delay modulation\n    kLFO oscili 30, 0.3, -1, 0\n    kDelTime = 50 + kLFO\n    \n    ; High-quality variable delay\n    aDelayed vdelay3 aPulse, kDelTime, 100\n    \n    outs aDelayed, aDelayed\nendin\n\ninstr 4\n    ; Chorus effect with vdelay3\n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Square wave\n    aSq vco2 kAmp*0.25, 165, 2\n    \n    ; Two delayed copies with different LFOs\n    kLFO1 oscili 3, 0.7, -1, 0\n    kLFO2 oscili 4, 0.53, -1, 0.3\n    \n    kDel1 = 25 + kLFO1\n    kDel2 = 30 + kLFO2\n    \n    aChorus1 vdelay3 aSq, kDel1, 35\n    aChorus2 vdelay3 aSq, kDel2, 40\n    \n    ; Stereo output\n    aL = aSq*0.4 + aChorus1*0.3\n    aR = aSq*0.4 + aChorus2*0.3\n    \n    outs aL, aR\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 4.5 4\ni3 9 4\ni4 13.5 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates advanced variable delay opcodes: vdelayxw, vdelayxq, vdelayxs", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; vdelayxw opcode: aout1 [, aout2, ...] vdelayxw ain, adl, imd, iws [, ist]\n    ; Variable delay with multi-tap and write\n    ; ain - input signal\n    ; adl - delay time (a-rate, milliseconds)\n    ; imd - maximum delay (milliseconds)\n    ; iws - window size for interpolation (4-128, default 4)\n    ; ist - skip initialization\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Oscillator\n    aOsc oscili kAmp*0.3, 440, -1, 0\n    \n    ; A-rate delay modulation\n    aLFO oscili 15, 0.4, -1, 0\n    aDelTime = 30 + aLFO\n    \n    ; Variable delay with high-quality interpolation\n    aDelayed vdelayxw aOsc, aDelTime, 60, 16\n    \n    ; Mix\n    aMix = aOsc*0.5 + aDelayed*0.5\n    \n    outs aMix, aMix\nendin\n\ninstr 2\n    ; vdelayxq opcode: aout1, aout2, aout3, aout4 vdelayxq ain, adl, imd, iws [, ist]\n    ; Variable delay with 4 taps (quadruple)\n    ; Returns 4 delayed signals\n    \n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.25, 220, 0\n    \n    ; Modulated delay\n    aLFO oscili 20, 0.6, -1, 0\n    aDelTime = 40 + aLFO\n    \n    ; Four taps\n    aTap1, aTap2, aTap3, aTap4 vdelayxq aSaw, aDelTime, 80, 8\n    \n    ; Mix taps\n    aL = aTap1*0.3 + aTap3*0.2\n    aR = aTap2*0.3 + aTap4*0.2\n    \n    outs aL, aR\nendin\n\ninstr 3\n    ; vdelayxs opcode: aout1, aout2 vdelayxs ain, adl, imd, iws [, ist]\n    ; Variable delay with 2 taps (stereo)\n    ; Returns 2 delayed signals\n    \n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 165, 2, 0.4\n    \n    ; Two LFOs for independent modulation\n    aLFO1 oscili 10, 0.5, -1, 0\n    aLFO2 oscili 12, 0.37, -1, 0.25\n    \n    aDelTime1 = 25 + aLFO1\n    aDelTime2 = 30 + aLFO2\n    \n    ; Average delay for vdelayxs\n    aDelTimeAvg = (aDelTime1 + aDelTime2) * 0.5\n    \n    ; Stereo taps\n    aL, aR vdelayxs aPulse, aDelTimeAvg, 50, 12\n    \n    ; Mix with dry\n    aOutL = aPulse*0.4 + aL*0.3\n    aOutR = aPulse*0.4 + aR*0.3\n    \n    outs aOutL, aOutR\nendin\n\ninstr 4\n    ; Complex modulation with vdelayxw\n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Rich source\n    aSaw1 vco2 kAmp*0.15, 110, 0\n    aSaw2 vco2 kAmp*0.15, 110.5, 0\n    aSrc = aSaw1 + aSaw2\n    \n    ; Complex modulation\n    aLFO1 oscili 8, 0.7, -1, 0\n    aLFO2 oscili 5, 1.3, -1, 0.33\n    aDelTime = 35 + aLFO1 + aLFO2\n    \n    ; High-quality delay\n    aDelayed vdelayxw aSrc, aDelTime, 60, 32\n    \n    outs aSrc*0.6, aDelayed*0.6\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 4.5 4\ni3 9 4\ni4 13.5 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates variable delay write opcodes: vdelaywq, vdelayws", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; vdelaywq opcode: a1, a2, a3, a4 vdelaywq ain, adl, imd, iws [, ist]\n    ; Variable delay write with 4 read taps (quadruple)\n    ; ain - input to write to delay line\n    ; adl - delay time (a-rate, milliseconds)\n    ; imd - maximum delay (milliseconds)\n    ; iws - window size (4-128)\n    ; ist - skip initialization\n    ; Returns 4 taps at different positions\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Impulse train\n    aImp mpulse kAmp*0.4, 1.5\n    \n    ; Modulated delay\n    aLFO oscili 15, 0.4, -1, 0\n    aDelTime = 40 + aLFO\n    \n    ; Write and read 4 taps\n    aTap1, aTap2, aTap3, aTap4 vdelaywq aImp, aDelTime, 80, 8\n    \n    ; Mix all taps with decay\n    aMix = aImp + aTap1*0.6 + aTap2*0.4 + aTap3*0.3 + aTap4*0.2\n    \n    outs aMix, aMix\nendin\n\ninstr 2\n    ; vdelayws opcode: a1, a2 vdelayws ain, adl, imd, iws [, ist]\n    ; Variable delay write with 2 read taps (stereo)\n    ; ain - input to write\n    ; adl - delay time (a-rate, milliseconds)\n    ; imd - maximum delay (milliseconds)\n    ; iws - window size\n    ; ist - skip initialization\n    ; Returns 2 taps for stereo processing\n    \n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Pluck sound\n    aPluck pluck kAmp*0.4, 330, 330, 0, 1\n    \n    ; Delay modulation\n    aLFO oscili 10, 0.5, -1, 0\n    aDelTime = 35 + aLFO\n    \n    ; Stereo taps\n    aL, aR vdelayws aPluck, aDelTime, 60, 12\n    \n    ; Mix with dry signal\n    aOutL = aPluck*0.5 + aL*0.4\n    aOutR = aPluck*0.5 + aR*0.4\n    \n    outs aOutL, aOutR\nendin\n\ninstr 3\n    ; Feedback delay with vdelaywq\n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.25, 220, 0\n    \n    ; Initialize feedback\n    aFeedback init 0\n    \n    ; Add input and feedback\n    aInput = aSaw + aFeedback*0.5\n    \n    ; Delay with feedback\n    aLFO oscili 8, 0.6, -1, 0\n    aDelTime = 45 + aLFO\n    \n    aTap1, aTap2, aTap3, aTap4 vdelaywq aInput, aDelTime, 70, 10\n    \n    ; Use first tap for feedback\n    aFeedback = aTap1\n    \n    ; Mix outputs\n    aL = aTap2*0.4 + aTap4*0.3\n    aR = aTap3*0.4 + aTap1*0.3\n    \n    outs aL, aR\nendin\n\ninstr 4\n    ; Stereo chorus with vdelayws\n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 165, 2, 0.3\n    \n    ; Two independent LFOs\n    aLFO1 oscili 6, 0.7, -1, 0\n    aLFO2 oscili 7, 0.53, -1, 0.3\n    \n    ; First chorus pair\n    aDelTime1 = 28 + aLFO1\n    aChorus1L, aChorus1R vdelayws aPulse, aDelTime1, 45, 16\n    \n    ; Second chorus pair\n    aDelTime2 = 35 + aLFO2\n    aChorus2L, aChorus2R vdelayws aPulse, aDelTime2, 50, 16\n    \n    ; Mix\n    aL = aPulse*0.3 + aChorus1L*0.25 + aChorus2L*0.2\n    aR = aPulse*0.3 + aChorus1R*0.25 + aChorus2R*0.2\n    \n    outs aL, aR\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 4.5 3\ni3 8 4\ni4 12.5 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates distortion and saturation opcodes: taninv, taninv2, clip", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; taninv opcode: ares taninv asig [, iscl]\n    ; Arctangent distortion\n    ; asig - input signal\n    ; iscl - scale factor (default 1)\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Clean sine\n    aOsc oscili kAmp*0.8, 220, -1, 0\n    \n    ; Light distortion\n    iScale = 2\n    aDist taninv aOsc, iScale\n    \n    outs aDist*0.5, aDist*0.5\nendin\n\ninstr 2\n    ; taninv2 opcode: ares taninv2 asig [, ka, kb]\n    ; Arctangent distortion with variable parameters\n    ; asig - input signal\n    ; ka, kb - distortion parameters (affect curve shape)\n    \n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.6, 165, 0\n    \n    ; Dynamic distortion\n    ka linseg 1, p3*0.5, 5, p3*0.5, 2\n    kb = 0.5\n    \n    aDist taninv2 aSaw, ka, kb\n    \n    outs aDist*0.4, aDist*0.4\nendin\n\ninstr 3\n    ; Heavy taninv distortion\n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.7, 110, 2, 0.4\n    \n    ; Heavy saturation\n    iScale = 8\n    aDist taninv aPulse, iScale\n    \n    ; Filter to smooth\n    aFilt butlp aDist, 3000\n    \n    outs aFilt*0.4, aFilt*0.4\nendin\n\ninstr 4\n    ; clip opcode for soft clipping: ares clip asig, ktype, klimit [, iarg]\n    ; Soft limiter/saturator\n    ; ktype: 0=Bram de Jong, 1=sine, 2=tanh\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Hot signal\n    aSaw vco2 kAmp*0.8, 220, 0\n    \n    ; Soft clip with tanh\n    kType = 2\n    kLimit = 0.4\n    \n    aClip clip aSaw, kType, kLimit\n    \n    outs aClip, aClip\nendin\n\ninstr 5\n    ; Sine waveshaping with clip\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Square wave\n    aSq vco2 kAmp*0.7, 165, 2\n    \n    ; Sine waveshaping\n    kType = 1\n    kLimit = 0.5\n    \n    aShape clip aSq, kType, kLimit\n    \n    outs aShape*0.6, aShape*0.6\nendin\n\ninstr 6\n    ; Tube-style saturation with taninv2\n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Two detuned saws\n    aSaw1 vco2 kAmp*0.3, 110, 0\n    aSaw2 vco2 kAmp*0.3, 110.5, 0\n    aMix = aSaw1 + aSaw2\n    \n    ; Tube-like saturation\n    ka = 3\n    kb linseg 0.3, p3*0.5, 0.8, p3*0.5, 0.5\n    \n    aSat taninv2 aMix, ka, kb\n    \n    ; High-pass to remove DC\n    aOut buthp aSat, 20\n    \n    outs aOut*0.5, aOut*0.5\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 3.5 4\ni3 8 3\ni4 11.5 3\ni5 15 3\ni6 18.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates compression and limiting opcodes: compress, compress2, dam, clip", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; compress opcode: ares compress asig, actl, kthresh, kloknee, khiknee, kratio, katt, krel, ilook\n    ; Classic compressor with control signal\n    ; asig - input signal\n    ; actl - control signal (usually same as input)\n    ; kthresh - threshold (dB)\n    ; kloknee, khiknee - knee range (dB)\n    ; kratio - compression ratio\n    ; katt, krel - attack and release times (seconds)\n    ; ilook - lookahead time (seconds)\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Dynamic source\n    aOsc oscili kAmp*0.5, 440, -1, 0\n    \n    ; Compress\n    kThresh = -20\n    kLoKnee = 0\n    kHiKnee = 10\n    kRatio = 4\n    kAtt = 0.01\n    kRel = 0.1\n    iLook = 0.005\n    \n    aComp compress aOsc, aOsc, kThresh, kLoKnee, kHiKnee, kRatio, kAtt, kRel, iLook\n    \n    outs aComp, aComp\nendin\n\ninstr 2\n    ; compress2 opcode: ares compress2 asig, actl, kthresh, kloknee, khiknee, kratio, katt, krel, ilook\n    ; Updated compressor with improved algorithm\n    ; Same parameters as compress\n    \n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Varying amplitude source\n    kMod oscili 0.4, 0.5, -1, 0\n    aOsc oscili (0.3 + kMod)*kAmp, 330, -1, 0\n    \n    ; Heavier compression\n    kThresh = -15\n    kLoKnee = 0\n    kHiKnee = 5\n    kRatio = 8\n    kAtt = 0.005\n    kRel = 0.08\n    iLook = 0.01\n    \n    aComp compress2 aOsc, aOsc, kThresh, kLoKnee, kHiKnee, kRatio, kAtt, kRel, iLook\n    \n    outs aComp, aComp\nendin\n\ninstr 3\n    ; dam opcode: ares dam asig, kthresh, icomp1, icomp2, irtime, iftime\n    ; Dynamic amplitude modifier (compressor/expander)\n    ; asig - input signal\n    ; kthresh - threshold (0-1)\n    ; icomp1 - compression below threshold\n    ; icomp2 - compression above threshold\n    ; irtime - rise time (seconds)\n    ; iftime - fall time (seconds)\n    \n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.4, 220, 2, 0.4\n    \n    ; Apply dam\n    kThresh = 0.3\n    iComp1 = 0.5  ; Expand below threshold\n    iComp2 = 2.0  ; Compress above threshold\n    iRTime = 0.01\n    iFTime = 0.1\n    \n    aDam dam aPulse, kThresh, iComp1, iComp2, iRTime, iFTime\n    \n    outs aDam, aDam\nendin\n\ninstr 4\n    ; clip opcode: ares clip asig, ktype, klimit [, iarg]\n    ; Soft/hard clipping limiter\n    ; asig - input signal\n    ; ktype - 0=Bram de Jong, 1=sine, 2=tanh (default 0)\n    ; klimit - clipping threshold (0-1)\n    ; iarg - optional argument for some types\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Hot signal\n    aSaw vco2 kAmp*0.8, 165, 0\n    \n    ; Soft clip\n    kType = 2  ; tanh\n    kLimit = 0.5\n    \n    aClip clip aSaw, kType, kLimit\n    \n    outs aClip, aClip\nendin\n\ninstr 5\n    ; Parallel compression\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Rich source\n    aSaw1 vco2 kAmp*0.2, 110, 0\n    aSaw2 vco2 kAmp*0.2, 110.5, 0\n    aSrc = aSaw1 + aSaw2\n    \n    ; Heavy compression on parallel path\n    kThresh = -25\n    kRatio = 10\n    aComp compress2 aSrc, aSrc, kThresh, 0, 8, kRatio, 0.003, 0.05, 0.008\n    \n    ; Mix dry and compressed\n    aMix = aSrc*0.5 + aComp*0.5\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 4.5 4\ni3 9 3\ni4 12.5 3\ni5 16 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates envelope following with the peak opcode for dynamics", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; peak opcode for envelope following: kmax peak asig\n    ; Tracks the peak amplitude of a signal\n    ; asig - input signal to analyze\n    ; Returns maximum absolute value\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Audio signal\n    aOsc oscili kAmp*0.3, 440, -1, 0\n    \n    ; Track envelope\n    kEnv peak aOsc\n    \n    ; Use envelope to control filter\n    kCutoff = 300 + kEnv*2000\n    aFilt butlp aOsc, kCutoff\n    \n    outs aFilt, aFilt\nendin\n\ninstr 2\n    ; Envelope follower for side-chain effect\n    ; Input source\n    kAmp1 madsr 0.015, 0.08, 0.65, 0.25\n    aSrc oscili kAmp1*0.3, 330, -1, 0\n    \n    ; Side-chain trigger (pulse)\n    kAmp2 madsr 0.01, 0.05, 0.3, 0.1\n    aSideChain vco2 kAmp2*0.5, 2, 2, 0.5\n    \n    ; Follow side-chain envelope\n    kSCEnv peak aSideChain\n    \n    ; Duck main signal\n    kDuck = 1 - kSCEnv*0.8\n    aOut = aSrc * kDuck\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; Envelope-controlled synthesis\n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Modulator\n    aMod oscili kAmp*0.4, 220, -1, 0\n    \n    ; Track modulator envelope\n    kModEnv peak aMod\n    \n    ; Use for FM depth\n    kDepth = kModEnv * 500\n    aCarrier oscili kAmp*0.3, 440 + aMod*kDepth, -1, 0\n    \n    outs aCarrier, aCarrier\nendin\n\ninstr 4\n    ; Dynamic EQ based on envelope\n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Variable amplitude source\n    kMod oscili 0.3, 0.5, -1, 0\n    aOsc oscili (0.25 + kMod)*kAmp, 165, -1, 0\n    \n    ; Track envelope\n    kEnv peak aOsc\n    \n    ; Dynamic EQ: boost lows when quiet, boost highs when loud\n    kLowGain = (kEnv < 0.3 ? 2 - kEnv*3 : 1)\n    kHighGain = (kEnv > 0.2 ? 1 + kEnv : 1)\n    \n    aLow butlp aOsc, 400\n    aHigh buthp aOsc, 1500\n    aMid = aOsc - aLow - aHigh\n    \n    aMix = aLow*kLowGain + aMid + aHigh*kHighGain\n    aMix = aMix * 0.4\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 4.5 5\ni3 10 4\ni4 14.5 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates gates and ducking with compress2 and hvs1 opcodes", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; compress2 as expander/gate\n    ; Use very low ratio for expansion, high for compression\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Noisy signal\n    aOsc oscili kAmp*0.3, 440, -1, 0\n    aNoise noise kAmp*0.05, 0\n    aSig = aOsc + aNoise\n    \n    ; Gate: expand below threshold (ratio < 1)\n    kThresh = -30\n    kLoKnee = 0\n    kHiKnee = 5\n    kRatio = 0.2  ; < 1 = expansion/gate\n    kAtt = 0.001\n    kRel = 0.05\n    iLook = 0.005\n    \n    aGate compress2 aSig, aSig, kThresh, kLoKnee, kHiKnee, kRatio, kAtt, kRel, iLook\n    \n    outs aGate, aGate\nendin\n\ninstr 2\n    ; Side-chain ducking with compress2\n    ; Main signal\n    kAmp1 madsr 0.015, 0.08, 0.65, 0.25\n    aMain oscili kAmp1*0.3, 330, -1, 0\n    \n    ; Side-chain (kick drum simulation)\n    kAmp2 madsr 0.005, 0.02, 0.1, 0.08\n    aSC oscili kAmp2*0.6, 60, -1, 0\n    \n    ; Use side-chain as control\n    kThresh = -25\n    kRatio = 8\n    kAtt = 0.001\n    kRel = 0.15\n    \n    aDucked compress2 aMain, aSC, kThresh, 0, 5, kRatio, kAtt, kRel, 0.005\n    \n    ; Mix with side-chain\n    aMix = aDucked + aSC*0.8\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; hvs1 opcode: hvs1 asig, katt, krel, istor\n    ; Half-wave rectifier with smoothing (envelope follower)\n    ; asig - input signal\n    ; katt - attack time (seconds)\n    ; krel - release time (seconds)\n    ; istor - skip initialization\n    \n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 220, 2, 0.4\n    \n    ; Extract envelope with hvs1\n    kAtt = 0.005\n    kRel = 0.1\n    aEnv hvs1 aPulse, kAtt, kRel, 0\n    \n    ; Use envelope to modulate frequency\n    aOsc oscili kAmp*0.3, 440 + aEnv*200, -1, 0\n    \n    outs aOsc, aOsc\nendin\n\ninstr 4\n    ; Gate with fast attack, slow release\n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Impulse train with noise\n    aImp mpulse kAmp*0.5, 1.5\n    aNoise noise kAmp*0.1, 0\n    aSig = aImp + aNoise\n    \n    ; Aggressive gate\n    kThresh = -35\n    kRatio = 0.1  ; Strong expansion\n    kAtt = 0.0005\n    kRel = 0.2\n    \n    aGate compress2 aSig, aSig, kThresh, 0, 3, kRatio, kAtt, kRel, 0.002\n    \n    outs aGate, aGate\nendin\n\ninstr 5\n    ; Rhythm gate effect\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Sustained sound\n    aSaw vco2 kAmp*0.3, 110, 0\n    \n    ; Rhythmic control signal\n    aCtl vco2 kAmp*0.5, 4, 2, 0.3\n    \n    ; Use as gate control\n    kThresh = -20\n    kRatio = 0.3\n    kAtt = 0.001\n    kRel = 0.05\n    \n    aGated compress2 aSaw, aCtl, kThresh, 0, 5, kRatio, kAtt, kRel, 0.005\n    \n    outs aGated, aGated\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 4.5 5\ni3 10 4\ni4 14.5 4\ni5 19 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates equalization opcodes: rbjeq, pareq, lowshelf, highshelf", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; rbjeq opcode: ares rbjeq asig, kfco, klvl, kQ, kS [, imode]\n    ; Robert Bristow-Johnson's EQ filter collection\n    ; asig - input signal\n    ; kfco - cutoff/center frequency (Hz)\n    ; klvl - level/gain (dB for shelf/peak, linear for others)\n    ; kQ - Q factor (bandwidth)\n    ; kS - shelf slope (0.5-2, used for shelving filters)\n    ; imode - filter type: 0=lowpass, 1=highpass, 2=bandpass, 3=bandreject,\n    ;                      4=peaking, 5=lowshelf, 6=highshelf, 7=allpass\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Rich sawtooth\n    aSaw vco2 kAmp*0.3, 110, 0\n    \n    ; Lowpass mode\n    kFreq expseg 300, p3*0.5, 2500, p3*0.5, 500\n    kQ = 2\n    iMode = 0  ; Lowpass\n    \n    aFilt rbjeq aSaw, kFreq, 1, kQ, 1, iMode\n    \n    outs aFilt, aFilt\nendin\n\ninstr 2\n    ; rbjeq - peaking EQ\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 165, 2, 0.4\n    \n    ; Peak at 1000 Hz with gain boost\n    kCenter = 1000\n    kGain = 12  ; dB boost\n    kQ = 4  ; Narrow peak\n    iMode = 4  ; Peaking\n    \n    aFilt rbjeq aPulse, kCenter, kGain, kQ, 1, iMode\n    \n    outs aFilt, aFilt\nendin\n\ninstr 3\n    ; pareq opcode: ares pareq asig, kc, kv, kq [, imode, iskip]\n    ; Parametric equalizer\n    ; asig - input signal\n    ; kc - center frequency (Hz)\n    ; kv - gain at center (linear, 1=unity)\n    ; kq - Q value\n    ; imode - 0=constant-Q, 1=constant bandwidth (default 0)\n    ; iskip - skip initialization\n    \n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.3, 220, 0\n    \n    ; Boost at 800 Hz\n    kCenter = 800\n    kGain = 3  ; 3x = ~9.5 dB\n    kQ = 5\n    \n    aFilt pareq aSaw, kCenter, kGain, kQ\n    \n    outs aFilt, aFilt\nendin\n\ninstr 4\n    ; lowshelf opcode: ares lowshelf asig, kfc, kgain [, istor]\n    ; Low-frequency shelving filter\n    ; asig - input signal\n    ; kfc - corner frequency (Hz)\n    ; kgain - gain (linear, >1 boost, <1 cut)\n    ; istor - skip initialization\n    \n    kAmp madsr 0.01, 0.1, 0.65, 0.25\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 110, 2, 0.3\n    \n    ; Boost low frequencies\n    kCorner = 400\n    kGain = 2.5  ; Boost\n    \n    aFilt lowshelf aPulse, kCorner, kGain\n    \n    outs aFilt, aFilt\nendin\n\ninstr 5\n    ; highshelf opcode: ares highshelf asig, kfc, kgain [, istor]\n    ; High-frequency shelving filter\n    ; asig - input signal\n    ; kfc - corner frequency (Hz)\n    ; kgain - gain (linear)\n    ; istor - skip initialization\n    \n    kAmp madsr 0.015, 0.08, 0.7, 0.2\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.3, 165, 0\n    \n    ; Boost high frequencies\n    kCorner = 1500\n    kGain = 3  ; Significant boost\n    \n    aFilt highshelf aSaw, kCorner, kGain\n    \n    outs aFilt, aFilt\nendin\n\ninstr 6\n    ; Combined EQ: low shelf + peak + high shelf\n    kAmp madsr 0.02, 0.1, 0.6, 0.3\n    \n    ; Square wave\n    aSq vco2 kAmp*0.25, 220, 2\n    \n    ; Low shelf boost\n    aEQ1 lowshelf aSq, 300, 1.8\n    \n    ; Mid peak\n    aEQ2 pareq aEQ1, 1200, 2, 4\n    \n    ; High shelf cut\n    aEQ3 highshelf aEQ2, 3000, 0.6\n    \n    outs aEQ3, aEQ3\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 3.5 3\ni3 7 3\ni4 10.5 3\ni5 14 3\ni6 17.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the peakq opcode for resonant peaking EQ", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; peakq opcode: ares peakq asig, kfc, kq, kgain [, istor]\n    ; Resonant peaking EQ filter\n    ; asig - input signal\n    ; kfc - center frequency (Hz)\n    ; kq - Q value (0.5-100+, higher = narrower)\n    ; kgain - gain (linear, >1 boost, <1 cut)\n    ; istor - skip initialization\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Sawtooth with rich harmonics\n    aSaw vco2 kAmp*0.3, 110, 0\n    \n    ; Wide boost at 800 Hz\n    kCenter = 800\n    kQ = 2  ; Wide\n    kGain = 4  ; 12 dB boost\n    \n    aFilt peakq aSaw, kCenter, kQ, kGain\n    \n    outs aFilt, aFilt\nendin\n\ninstr 2\n    ; Narrow resonant peak\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Noise source\n    aNoise noise kAmp*0.4, 0\n    \n    ; Very narrow peak (resonator-like)\n    kCenter expseg 400, p3*0.5, 2000, p3*0.5, 600\n    kQ = 20  ; Very narrow\n    kGain = 8\n    \n    aFilt peakq aNoise, kCenter, kQ, kGain\n    \n    outs aFilt, aFilt\nendin\n\ninstr 3\n    ; Multiple peaking filters\n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.25, 165, 2, 0.4\n    \n    ; Three formant-like peaks\n    aFilt1 peakq aPulse, 600, 8, 3\n    aFilt2 peakq aFilt1, 1200, 10, 2.5\n    aFilt3 peakq aFilt2, 2400, 6, 2\n    \n    outs aFilt3, aFilt3\nendin\n\ninstr 4\n    ; Notch (cut instead of boost)\n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.3, 220, 0\n    \n    ; Notch at 880 Hz\n    kCenter = 880\n    kQ = 10\n    kGain = 0.1  ; Cut\n    \n    aFilt peakq aSaw, kCenter, kQ, kGain\n    \n    outs aFilt, aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 3.5 4\ni3 8 3\ni4 11.5 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the hilbert and hilbert2 opcodes for Hilbert transforms", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; hilbert opcode: ar1, ar2 hilbert asig [, ifftsize]\n    ; Hilbert transform - creates two signals 90 degrees out of phase\n    ; asig - input signal\n    ; ifftsize - FFT size (default 512)\n    ; Returns: ar1 (real), ar2 (imaginary/90 degrees shifted)\n    ; Used for frequency shifting, SSB modulation\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Oscillator\n    aOsc oscili kAmp*0.3, 440, -1, 0\n    \n    ; Hilbert transform\n    aReal, aImag hilbert aOsc\n    \n    ; Frequency shift up by 200 Hz\n    ; Shift oscillator\n    aShift1 oscili 1, 200, -1, 0\n    aShift2 oscili 1, 200, -1, 0.25  ; 90 degrees\n    \n    ; Single sideband: upper\n    aSSB = aReal * aShift1 - aImag * aShift2\n    \n    outs aSSB, aSSB\nendin\n\ninstr 2\n    ; Frequency shifting down\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Higher frequency source\n    aOsc oscili kAmp*0.3, 660, -1, 0\n    \n    ; Hilbert transform\n    aReal, aImag hilbert aOsc\n    \n    ; Shift down by 150 Hz\n    aShift1 oscili 1, -150, -1, 0\n    aShift2 oscili 1, -150, -1, 0.25\n    \n    ; Lower sideband\n    aSSB = aReal * aShift1 - aImag * aShift2\n    \n    outs aSSB, aSSB\nendin\n\ninstr 3\n    ; Dynamic frequency shifting\n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.25, 330, 0\n    \n    ; Hilbert transform\n    aReal, aImag hilbert aSaw\n    \n    ; Sweep shift amount\n    kShiftFreq linseg -200, p3*0.5, 200, p3*0.5, -200\n    \n    aShift1 oscili 1, kShiftFreq, -1, 0\n    aShift2 oscili 1, kShiftFreq, -1, 0.25\n    \n    aSSB = aReal * aShift1 - aImag * aShift2\n    \n    outs aSSB, aSSB\nendin\n\ninstr 4\n    ; hilbert2 opcode: ar1, ar2 hilbert2 asig, ifreq1, ifreq2 [, iq]\n    ; More efficient Hilbert transformer with specific frequency range\n    ; asig - input signal\n    ; ifreq1 - lower frequency limit (Hz)\n    ; ifreq2 - upper frequency limit (Hz)\n    ; iq - number of filter sections (default 10)\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 220, 2, 0.4\n    \n    ; Hilbert transform for specific range\n    aReal, aImag hilbert2 aPulse, 100, 5000, 12\n    \n    ; Ring modulation effect\n    kModFreq = 150\n    aShift1 oscili 1, kModFreq, -1, 0\n    aShift2 oscili 1, kModFreq, -1, 0.25\n    \n    aSSB = aReal * aShift1 - aImag * aShift2\n    \n    outs aSSB, aSSB\nendin\n\ninstr 5\n    ; Stereo frequency shifter\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Square wave\n    aSq vco2 kAmp*0.3, 165, 2\n    \n    ; Hilbert transform\n    aReal, aImag hilbert aSq\n    \n    ; Different shifts for L/R\n    aShiftL1 oscili 1, 100, -1, 0\n    aShiftL2 oscili 1, 100, -1, 0.25\n    \n    aShiftR1 oscili 1, -100, -1, 0\n    aShiftR2 oscili 1, -100, -1, 0.25\n    \n    aL = aReal * aShiftL1 - aImag * aShiftL2\n    aR = aReal * aShiftR1 - aImag * aShiftR2\n    \n    outs aL, aR\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 3.5 3\ni3 7 4\ni4 11.5 3\ni5 15 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates filter analysis opcodes: peak, median, mediank", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; peak opcode: kmax peak asig\n    ; Maintains the output equal to the highest absolute value received\n    ; Returns the maximum absolute value\n    ; Useful for metering and envelope detection\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Generate test signal\n    aOsc oscili kAmp*0.3, 440, -1, 0\n    \n    ; Track peak level\n    kPeak peak aOsc\n    \n    ; Print peak value every 0.1 seconds\n    kTrig metro 10\n    if kTrig == 1 then\n        printk2 kPeak\n    endif\n    \n    outs aOsc, aOsc\nendin\n\ninstr 2\n    ; Using peak for automatic gain control\n    kAmp madsr 0.02, 0.15, 0.6, 0.3\n    \n    ; Signal with varying amplitude\n    aOsc oscili kAmp*0.5, 330, -1, 0\n    \n    ; Track peak\n    kPeak peak aOsc\n    \n    ; Normalize based on peak (with safety threshold)\n    kGain = (kPeak > 0.01 ? 0.3 / kPeak : 1)\n    kGain limit kGain, 0, 10\n    \n    aOut = aOsc * kGain\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; median opcode: ares median asig, isize [, imaxsize]\n    ; Calculates median value of audio signal over a window\n    ; asig - input signal\n    ; isize - window size (must be odd number)\n    ; imaxsize - maximum window size (optional)\n    ; Useful for removing impulse noise and smoothing\n    \n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Generate noisy signal\n    aOsc oscili kAmp*0.25, 220, -1, 0\n    aNoise noise kAmp*0.15, 0\n    aSig = aOsc + aNoise\n    \n    ; Apply median filter to smooth\n    ; Window size of 5 samples\n    aSmooth median aSig, 5\n    \n    outs aSmooth, aSmooth\nendin\n\ninstr 4\n    ; Larger median window for more smoothing\n    kAmp madsr 0.01, 0.1, 0.6, 0.2\n    \n    ; Signal with impulses\n    aOsc oscili kAmp*0.2, 165, -1, 0\n    aImpulse mpulse kAmp*0.8, 0.25\n    aSig = aOsc + aImpulse\n    \n    ; Larger window to remove impulses\n    aSmooth median aSig, 11\n    \n    outs aSmooth, aSmooth\nendin\n\ninstr 5\n    ; mediank opcode: kres mediank ksig, isize [, imaxsize]\n    ; Median filter for k-rate signals\n    ; ksig - input k-rate signal\n    ; isize - window size (must be odd)\n    ; imaxsize - maximum window size (optional)\n    \n    ; Generate noisy k-rate signal\n    kBase linseg 200, p3, 800\n    kNoise random -100, 100\n    kSig = kBase + kNoise\n    \n    ; Smooth with median filter\n    kSmooth mediank kSig, 7\n    \n    ; Use smoothed signal for frequency\n    kAmp madsr 0.01, 0.08, 0.7, 0.2\n    aOsc oscili kAmp*0.3, kSmooth, -1, 0\n    \n    outs aOsc, aOsc\nendin\n\ninstr 6\n    ; Compare raw vs median-filtered control\n    kAmp madsr 0.015, 0.1, 0.65, 0.25\n    \n    ; Noisy control signal\n    kRaw randomi 300, 1200, 8\n    \n    ; Smoothed version\n    kSmooth mediank kRaw, 9\n    \n    ; Two oscillators for comparison\n    aRaw oscili kAmp*0.15, kRaw, -1, 0\n    aSmooth oscili kAmp*0.15, kSmooth, -1, 0\n    \n    ; Raw to left, smooth to right\n    outs aRaw, aSmooth\nendin\n\n</CsInstruments>\n<CsScore>\n\n; peak - track maximum\ni1 0 3\n\n; peak - AGC\ni2 3.5 3\n\n; median - basic smoothing\ni3 7 3\n\n; median - impulse removal\ni4 10.5 3\n\n; mediank - k-rate smoothing\ni5 14 4\n\n; mediank - comparison\ni6 18.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the K35_lpf and K35_hpf opcodes for Korg 35 filter emulation", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; K35_lpf opcode: ares K35_lpf asig, xcf, xQ [, inlp, isaturation, istor]\n    ; Korg 35 lowpass filter emulation\n    ; asig - input signal\n    ; xcf - cutoff frequency (Hz)\n    ; xQ - resonance (1-10)\n    ; inlp - non-linearity amount (0-1, default 0)\n    ; isaturation - saturation (0-2, default 1)\n    ; istor - skip initialization (default 0)\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Sawtooth source\n    aSaw vco2 kAmp*0.3, 110, 0\n    \n    ; Sweep cutoff frequency\n    kCutoff expseg 200, p3*0.3, 3000, p3*0.4, 800, p3*0.3, 300\n    kRes = 5\n    \n    ; Apply K35 lowpass filter\n    aFilt K35_lpf aSaw, kCutoff, kRes, 0.5, 1.2\n    \n    outs aFilt, aFilt\nendin\n\ninstr 2\n    ; K35_hpf opcode: ares K35_hpf asig, xcf, xQ [, inlp, isaturation, istor]\n    ; Korg 35 highpass filter emulation\n    \n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.35, 165, 2, 0.3\n    \n    ; Sweep highpass cutoff\n    kCutoff expseg 3000, p3*0.4, 400, p3*0.3, 2000, p3*0.3, 1500\n    kRes = 6\n    \n    ; Apply K35 highpass filter\n    aFilt K35_hpf aPulse, kCutoff, kRes, 0.3, 1.0\n    \n    outs aFilt, aFilt\nendin\n\ninstr 3\n    ; High resonance K35_lpf\n    kAmp madsr 0.01, 0.12, 0.6, 0.3\n    \n    ; Two detuned saws\n    aSaw1 vco2 kAmp*0.2, 220, 0\n    aSaw2 vco2 kAmp*0.2, 220.5, 0\n    aMix = aSaw1 + aSaw2\n    \n    ; Fixed cutoff with high resonance\n    kCutoff = 1200\n    kRes linseg 3, p3*0.5, 9, p3*0.5, 4\n    \n    ; High saturation for analog character\n    aFilt K35_lpf aMix, kCutoff, kRes, 0.7, 1.8\n    \n    outs aFilt, aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 4.5 4\ni3 9 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the diode_ladder opcode for diode ladder filter emulation", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; diode_ladder opcode: ares diode_ladder asig, xcf, xk [, knlp, ksaturation, kistor]\n    ; Diode ladder filter (inspired by EMS and Steiner filters)\n    ; asig - input signal\n    ; xcf - cutoff frequency (Hz)\n    ; xk - resonance (0-17, self-oscillates above ~10)\n    ; knlp - non-linearity amount (0-1)\n    ; ksaturation - saturation (0-2)\n    ; kistor - skip initialization\n    \n    kAmp madsr 0.02, 0.1, 0.65, 0.3\n    \n    ; Sawtooth wave\n    aSaw vco2 kAmp*0.3, 110, 0\n    \n    ; Moderate resonance sweep\n    kCutoff expseg 150, p3*0.4, 2500, p3*0.6, 200\n    kRes = 6\n    \n    aFilt diode_ladder aSaw, kCutoff, kRes, 0.5, 1.0\n    \n    outs aFilt, aFilt\nendin\n\ninstr 2\n    ; Self-oscillating diode ladder\n    kAmp madsr 0.01, 0.08, 0.5, 0.2\n    \n    ; Low-level noise excitation\n    aNoise noise kAmp*0.05, 0\n    \n    ; High resonance for self-oscillation\n    kCutoff linseg 400, p3*0.5, 1500, p3*0.5, 600\n    kRes = 12\n    \n    aFilt diode_ladder aNoise, kCutoff, kRes, 0.3, 1.0\n    \n    outs aFilt, aFilt\nendin\n\ninstr 3\n    ; High saturation diode ladder\n    kAmp madsr 0.015, 0.12, 0.7, 0.25\n    \n    ; Square wave\n    aSq vco2 kAmp*0.35, 165, 2\n    \n    ; Moderate cutoff with varying resonance\n    kCutoff = 800\n    kRes linseg 2, p3*0.3, 10, p3*0.4, 5, p3*0.3, 3\n    \n    ; High non-linearity and saturation\n    aFilt diode_ladder aSq, kCutoff, kRes, 0.8, 1.6\n    \n    outs aFilt, aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 4.5 4\ni3 9 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the zdf_1pole and zdf_2pole opcodes for zero-delay feedback filters", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; zdf_1pole opcode: ares zdf_1pole asig, xcf [, kmode, istor]\n    ; Zero-delay feedback 1-pole filter (6 dB/oct)\n    ; asig - input signal\n    ; xcf - cutoff frequency (Hz)\n    ; kmode - 0=lowpass, 1=highpass (default 0)\n    ; istor - skip initialization\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Sawtooth source\n    aSaw vco2 kAmp*0.3, 220, 0\n    \n    ; Lowpass mode\n    kCutoff expseg 300, p3*0.5, 2000, p3*0.5, 400\n    kMode = 0\n    \n    aFilt zdf_1pole aSaw, kCutoff, kMode\n    \n    outs aFilt, aFilt\nendin\n\ninstr 2\n    ; zdf_1pole highpass mode\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.35, 165, 2, 0.5\n    \n    ; Highpass mode\n    kCutoff expseg 2000, p3*0.4, 300, p3*0.6, 1500\n    kMode = 1\n    \n    aFilt zdf_1pole aPulse, kCutoff, kMode\n    \n    outs aFilt, aFilt\nendin\n\ninstr 3\n    ; zdf_2pole opcode: ares zdf_2pole asig, xcf, xQ [, kmode, istor]\n    ; Zero-delay feedback 2-pole filter (12 dB/oct)\n    ; asig - input signal\n    ; xcf - cutoff frequency (Hz)\n    ; xQ - resonance (0.5-25)\n    ; kmode - 0=lowpass, 1=highpass, 2=bandpass, 3=bandreject, 4=allpass (default 0)\n    ; istor - skip initialization\n    \n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.3, 110, 0\n    \n    ; Lowpass with resonance\n    kCutoff expseg 200, p3*0.3, 3000, p3*0.4, 600, p3*0.3, 250\n    kRes = 5\n    kMode = 0\n    \n    aFilt zdf_2pole aSaw, kCutoff, kRes, kMode\n    \n    outs aFilt, aFilt\nendin\n\ninstr 4\n    ; zdf_2pole bandpass mode\n    kAmp madsr 0.01, 0.1, 0.55, 0.2\n    \n    ; Noise source\n    aNoise noise kAmp*0.4, 0\n    \n    ; Bandpass filter\n    kCenter expseg 500, p3*0.5, 2500, p3*0.5, 800\n    kQ = 8\n    kMode = 2\n    \n    aFilt zdf_2pole aNoise, kCenter, kQ, kMode\n    \n    outs aFilt, aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 3.5 3\ni3 7 4\ni4 11.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the zdf_ladder opcode for zero-delay feedback ladder filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; zdf_ladder opcode: ares zdf_ladder asig, xcf, xQ [, kmode, ksaturation, istor]\n    ; Zero-delay feedback ladder filter (24 dB/oct Moog-style)\n    ; asig - input signal\n    ; xcf - cutoff frequency (Hz)\n    ; xQ - resonance (0-10, self-oscillates around 10)\n    ; kmode - 0=lowpass I, 1=lowpass II, 2=lowpass III, 3=lowpass IV,\n    ;         4=highpass I, 5=highpass II, 6=highpass III, 7=highpass IV,\n    ;         8=bandpass I, 9=bandpass II (default 0)\n    ; ksaturation - saturation amount (0-3, default 1)\n    ; istor - skip initialization\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Sawtooth wave\n    aSaw vco2 kAmp*0.3, 110, 0\n    \n    ; Classic sweep with resonance\n    kCutoff expseg 150, p3*0.3, 3500, p3*0.4, 800, p3*0.3, 200\n    kRes = 7\n    kMode = 0  ; Lowpass I (4-pole)\n    \n    aFilt zdf_ladder aSaw, kCutoff, kRes, kMode, 1.0\n    \n    outs aFilt, aFilt\nendin\n\ninstr 2\n    ; Self-oscillating zdf_ladder\n    kAmp madsr 0.015, 0.08, 0.5, 0.25\n    \n    ; Minimal excitation\n    aNoise noise kAmp*0.03, 0\n    \n    ; High resonance\n    kCutoff linseg 300, p3*0.5, 2000, p3*0.5, 500\n    kRes = 9.5\n    kMode = 0\n    \n    aFilt zdf_ladder aNoise, kCutoff, kRes, kMode, 1.0\n    \n    outs aFilt, aFilt\nendin\n\ninstr 3\n    ; Bandpass mode\n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.35, 165, 2, 0.4\n    \n    ; Bandpass filter\n    kCenter expseg 400, p3*0.4, 2500, p3*0.6, 700\n    kQ = 6\n    kMode = 8  ; Bandpass I\n    \n    aFilt zdf_ladder aPulse, kCenter, kQ, kMode, 1.2\n    \n    outs aFilt, aFilt\nendin\n\ninstr 4\n    ; High saturation zdf_ladder\n    kAmp madsr 0.01, 0.1, 0.65, 0.2\n    \n    ; Square wave\n    aSq vco2 kAmp*0.3, 220, 2\n    \n    ; Moderate sweep with high saturation\n    kCutoff expseg 300, p3*0.5, 1800, p3*0.5, 500\n    kRes = 6.5\n    kMode = 0\n    \n    ; High saturation for warmth\n    aFilt zdf_ladder aSq, kCutoff, kRes, kMode, 2.5\n    \n    outs aFilt, aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 4.5 4\ni3 9 4\ni4 13.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the mvchpf family of opcodes for highpass filtering", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; mvchpf opcode: ares mvchpf asig, xcf [, istor]\n    ; 4-pole highpass filter (24 dB/oct)\n    ; asig - input signal\n    ; xcf - cutoff frequency (Hz)\n    ; istor - skip initialization\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Pulse wave with rich harmonics\n    aPulse vco2 kAmp*0.35, 110, 2, 0.3\n    \n    ; Sweep highpass cutoff\n    kCutoff expseg 2000, p3*0.4, 200, p3*0.6, 1500\n    \n    aFilt mvchpf aPulse, kCutoff\n    \n    outs aFilt, aFilt\nendin\n\ninstr 2\n    ; mvchpf1 opcode: ares mvchpf1 asig, xcf [, istor]\n    ; 1-pole highpass filter (6 dB/oct)\n    \n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.3, 165, 0\n    \n    ; Gentle highpass\n    kCutoff expseg 1500, p3*0.5, 300, p3*0.5, 1000\n    \n    aFilt mvchpf1 aSaw, kCutoff\n    \n    outs aFilt, aFilt\nendin\n\ninstr 3\n    ; mvchpf2 opcode: ares mvchpf2 asig, xcf [, istor]\n    ; 2-pole highpass filter (12 dB/oct)\n    \n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Square wave\n    aSq vco2 kAmp*0.3, 220, 2\n    \n    ; Medium highpass\n    kCutoff expseg 1800, p3*0.3, 400, p3*0.4, 1200, p3*0.3, 800\n    \n    aFilt mvchpf2 aSq, kCutoff\n    \n    outs aFilt, aFilt\nendin\n\ninstr 4\n    ; mvchpf3 opcode: ares mvchpf3 asig, xcf [, istor]\n    ; 3-pole highpass filter (18 dB/oct)\n    \n    kAmp madsr 0.01, 0.1, 0.55, 0.2\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.35, 165, 2, 0.5\n    \n    ; Steep highpass\n    kCutoff expseg 2500, p3*0.5, 350, p3*0.5, 1800\n    \n    aFilt mvchpf3 aPulse, kCutoff\n    \n    outs aFilt, aFilt\nendin\n\ninstr 5\n    ; mvchpf4 opcode: ares mvchpf4 asig, xcf [, istor]\n    ; Same as mvchpf (4-pole, 24 dB/oct)\n    \n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.3, 110, 0\n    \n    ; Very steep highpass\n    kCutoff expseg 3000, p3*0.4, 250, p3*0.6, 2000\n    \n    aFilt mvchpf4 aSaw, kCutoff\n    \n    outs aFilt, aFilt\nendin\n\ninstr 6\n    ; Compare different slopes\n    kAmp madsr 0.01, 0.1, 0.6, 0.2\n    \n    ; Rich source\n    aPulse vco2 kAmp*0.25, 220, 2, 0.4\n    \n    ; Same cutoff for all\n    kCutoff expseg 1500, p3*0.5, 400, p3*0.5, 1200\n    \n    ; Different slopes\n    aFilt1 mvchpf1 aPulse, kCutoff  ; 6 dB/oct\n    aFilt2 mvchpf3 aPulse, kCutoff  ; 18 dB/oct\n    \n    outs aFilt1, aFilt2\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 3.5 3\ni3 7 3\ni4 10.5 3\ni5 14 3\ni6 17.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates general convolution opcodes: convolve, dconv, ftconv, pconvolve", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Create impulse response tables\ngiIR1 ftgen 0, 0, 8192, 10, 1, 0.5, 0.3, 0.2, 0.1, 0.05  ; Simple harmonic IR\ngiIR2 ftgen 0, 0, 4096, 7, 0, 100, 1, 100, 0.5, 200, 0.2, 3696, 0  ; Decay envelope IR\n\ninstr 1\n    ; convolve opcode: ar1 [, ar2] convolve ain, ifilcod [, ichannel]\n    ; Time-domain convolution with impulse response file\n    ; ifilcod - filename or function table\n    ; ichannel - channel number for stereo files\n    \n    ; Note: In practice, this uses an external IR file\n    ; For this example, we'll simulate with filtering\n    \n    ; Dry signal\n    aIn oscili 0.3, 220, -1\n    aIn *= linseg(1, 0.01, 1, 0.1, 0, p3-0.11, 0)\n    \n    ; Simulate convolution with comb filter\n    aDel1 delayr 0.05\n    aTap1 deltap 0.029\n          delayw aIn\n    \n    aDel2 delayr 0.1\n    aTap2 deltap 0.047\n          delayw aIn + aTap1*0.5\n    \n    aOut = aIn + aTap1*0.6 + aTap2*0.4\n    \n    outs aOut, aOut\nendin\n\ninstr 2\n    ; dconv opcode: ar1 dconv asig, isize, ifn\n    ; Direct convolution with function table\n    ; isize - partition size (power of 2)\n    ; ifn - impulse response function table\n    \n    ; Input signal\n    aIn vco2 0.3, 330, 2, 0.5\n    aIn *= expseg(1, 0.01, 1, 0.2, 0.001, p3-0.21, 0.001)\n    \n    ; Convolve with IR table\n    aConv dconv aIn, 1024, giIR1\n    \n    outs aIn*0.3, aConv*0.7\nendin\n\ninstr 3\n    ; ftconv opcode: ar1 [, ar2] [, ar3] [, ar4] ftconv ain, ift, iplen [, iskipsamples] [, iirlen] [, iskipinit] [, iformat]\n    ; Fast convolution with function table\n    ; ift - impulse response table\n    ; iplen - partition length (power of 2, typically 256-2048)\n    ; iirlen - IR length (0=use full table)\n    \n    ; Input\n    aIn buzz 0.3, 220, 15, -1\n    aIn *= linseg(1, 0.01, 1, 0.15, 0, p3-0.16, 0)\n    \n    ; Fast convolution\n    aConv ftconv aIn, giIR2, 512\n    \n    outs aIn*0.3, aConv*0.7\nendin\n\ninstr 4\n    ; pconvolve opcode: ar1 [, ar2] [, ar3] [, ar4] pconvolve ain, ifilcod [, ipartitionsize] [, ichannel]\n    ; Partitioned convolution for long IRs\n    ; ifilcod - IR filename\n    ; ipartitionsize - partition size (default=512)\n    ; ichannel - channel selection\n    \n    ; Note: This would normally use an external IR file\n    ; Simulating with multi-tap delay\n    \n    aIn vco2 0.3, 165, 0\n    aIn *= linseg(1, 0.01, 1, 0.1, 0, p3-0.11, 0)\n    \n    ; Multi-tap simulation of IR\n    aDel delayr 0.5\n    aT1 deltap 0.029\n    aT2 deltap 0.037\n    aT3 deltap 0.053\n    aT4 deltap 0.071\n    aT5 deltap 0.097\n        delayw aIn + (aT1+aT2+aT3+aT4+aT5)*0.3\n    \n    aOut = aIn + aT1*0.7 + aT2*0.5 + aT3*0.35 + aT4*0.2 + aT5*0.1\n    \n    outs aOut, aOut\nendin\n\ninstr 5\n    ; Creative convolution: using musical signals as IRs\n    ; \"Convolve\" a percussive sound with a harmonic sound\n    \n    ; Percussive signal\n    aPerc rand 0.5\n    aPerc *= expseg(1, 0.005, 0.3, 0.05, 0.01, p3-0.055, 0.001)\n    \n    ; \"IR\" - harmonic content\n    aHarm buzz 0.3, 110, 30, -1\n    \n    ; Store harmonic signal in table for convolution\n    giConvRT ftgen 0, 0, 16384, 7, 0, 16384, 0\n    \n    ; Simulate convolution effect with filtering\n    aFilt1 butterbp aPerc, 220, 100\n    aFilt2 butterbp aPerc, 440, 150\n    aFilt3 butterbp aPerc, 660, 200\n    \n    aOut = aPerc*0.4 + aFilt1*0.3 + aFilt2*0.2 + aFilt3*0.1\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 4 3\ni3 8 3\ni4 12 3\ni5 16 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates FFT phase vocoder opcodes: pvstencil, pvsmaska, pvsbufread2", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; pvstencil opcode: fsig pvstencil fsigin, kgain, klevel, iftable\n    ; Spectral gating using a function table as mask\n    ; kgain - overall gain\n    ; klevel - threshold level\n    ; iftable - function table containing the stencil\n    \n    ; Source signal\n    aIn buzz 0.3, 220, 20, -1\n    \n    ; Analyze\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Create simple stencil - keep only certain frequency regions\n    ; Table with 512 points (half of FFT size)\n    giStencil ftgen 0, 0, 512, 7, 0, 100, 0, 50, 1, 100, 1, 50, 0.5, 100, 0.5, 112, 0\n    \n    ; Apply stencil\n    fres pvstencil fsig, 1, 0.1, giStencil\n    \n    ; Synthesize\n    aOut pvsynth fres\n    \n    outs aOut, aOut\nendin\n\ninstr 2\n    ; pvsmaska opcode: fsig pvsmaska fsig, fmask, kdepth\n    ; Apply spectral masking using another spectrum\n    ; fmask - masking spectrum\n    ; kdepth - masking depth (0-1)\n    \n    ; Main signal\n    aMain vco2 0.3, 330, 0\n    \n    ; Mask signal (noise)\n    aMask rand 0.2\n    \n    ; Analyze both\n    fMain pvsanal aMain, 1024, 256, 1024, 1\n    fMask pvsanal aMask, 1024, 256, 1024, 1\n    \n    ; Apply masking with variable depth\n    kDepth linseg 0, p3*0.5, 0.9, p3*0.5, 0\n    fres pvsmaska fMain, fMask, kDepth\n    \n    ; Synthesize\n    aOut pvsynth fres\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; pvsbufread2 opcode: fsig pvsbufread2 ktime, khandle [, iunit, iinterp]\n    ; Read from a buffer at specific time\n    ; ktime - time position to read\n    ; khandle - buffer handle\n    ; iunit - time units (0=seconds, 1=sample frames)\n    ; iinterp - interpolation (0=off, 1=on)\n    \n    ; Create a buffer with some sound\n    ; In practice, this would be loaded from a file\n    aSource vco2 0.3, 220, 10\n    aSource *= linseg(1, p3*0.5, 0.5, p3*0.5, 1)\n    \n    ; Analyze and buffer\n    fsig pvsanal aSource, 1024, 256, 1024, 1\n    \n    ; Buffer for 2 seconds\n    khandle pvsbuffer fsig, 2\n    \n    ; Read from buffer with time scrubbing\n    kTime linseg 0, p3, 1.5\n    fread pvsbufread2 kTime, khandle\n    \n    ; Synthesize\n    aOut pvsynth fread\n    \n    outs aOut, aOut\nendin\n\ninstr 4\n    ; Combining multiple PVS operations\n    aIn buzz 0.25, 165, 15, -1\n    \n    ; Analyze\n    fsig pvsanal aIn, 2048, 512, 2048, 1\n    \n    ; Create mask table\n    giMask2 ftgen 0, 0, 1024, 7, 1, 200, 1, 100, 0.3, 300, 0.3, 424, 1\n    \n    ; Apply stencil\n    fstenc pvstencil fsig, 1.2, 0.05, giMask2\n    \n    ; Synthesize\n    aOut pvsynth fstenc\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 5 4\ni3 10 3\ni4 14 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates advanced phase vocoder opcodes: pvsdemix, pvsvoc, pvslock, pvsbin, pvscent", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; pvsdemix opcode: fsig1, fsig2 pvsdemix fsigin, fsigmask, kdepth, kgain\n    ; Spectral source separation\n    ; fsigmask - mask spectrum\n    ; kdepth - separation depth\n    ; kgain - overall gain\n    \n    ; Mixed signal (harmonic + noise)\n    aHarm buzz 0.2, 220, 15, -1\n    aNoise rand 0.15\n    aMix = aHarm + aNoise\n    \n    ; Analyze\n    fMix pvsanal aMix, 1024, 256, 1024, 1\n    fNoise pvsanal aNoise, 1024, 256, 1024, 1\n    \n    ; Demix\n    fHarmonic, fResidual pvsdemix fMix, fNoise, 0.7, 1\n    \n    ; Synthesize separated components\n    aOutHarm pvsynth fHarmonic\n    aOutResid pvsynth fResidual\n    \n    ; Pan separated sources\n    outs aOutHarm*0.8, aOutResid*0.8\nendin\n\ninstr 2\n    ; pvsvoc opcode: fsig pvsvoc famp, ffr, kdepth [, kgain] [,kcoefs]\n    ; Classic phase vocoder cross-synthesis\n    ; famp - amplitude spectrum source\n    ; ffr - frequency spectrum source\n    ; kdepth - cross-synthesis depth\n    \n    ; Two sources\n    aOsc1 buzz 0.25, 330, 20, -1\n    aOsc2 vco2 0.25, 110, 0\n    \n    ; Analyze\n    fAmp pvsanal aOsc1, 1024, 256, 1024, 1\n    fFreq pvsanal aOsc2, 1024, 256, 1024, 1\n    \n    ; Cross-synthesize\n    kDepth linseg 0, p3*0.3, 1, p3*0.4, 1, p3*0.3, 0\n    fvoc pvsvoc fAmp, fFreq, kDepth\n    \n    ; Synthesize\n    aOut pvsynth fvoc\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; pvslock opcode: fsig pvslock fsigin, klock\n    ; Lock phases for cleaner spectral processing\n    ; klock - lock factor (0-1)\n    \n    aIn vco2 0.3, 220, 0\n    \n    ; Analyze\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Lock phases\n    kLock linseg 0, p3*0.5, 1, p3*0.5, 0\n    flocked pvslock fsig, kLock\n    \n    ; Synthesize\n    aOut pvsynth flocked\n    \n    outs aOut, aOut\nendin\n\ninstr 4\n    ; pvsbin opcode: kamp, kfr pvsbin fsig, kbin\n    ; Read individual bin values\n    ; kbin - bin number to read\n    \n    aIn buzz 0.3, 165, 25, -1\n    \n    ; Analyze\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Read specific bins\n    kBin = 10\n    kAmp, kFr pvsbin fsig, kBin\n    \n    ; Use bin data to control synthesis\n    aOsc oscili kAmp*5, kFr, -1\n    \n    ; Also output original\n    aOrig pvsynth fsig\n    \n    outs aOrig*0.5, aOsc*0.5\nendin\n\ninstr 5\n    ; pvscent opcode: kcent pvscent fsig\n    ; Calculate spectral centroid\n    \n    aIn vco2 0.3, 110, 10\n    aIn *= linseg(1, p3*0.5, 0.3, p3*0.5, 1)\n    \n    ; Analyze\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Get centroid\n    kCent pvscent fsig\n    \n    ; Use centroid to modulate filter\n    aFilt butterlp aIn, kCent*2\n    \n    ; Synthesize\n    aOut pvsynth fsig\n    \n    outs aOut*0.5 + aFilt*0.5, aOut*0.5 + aFilt*0.5\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 5 4\ni3 10 3\ni4 14 3\ni5 18 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates linear prediction opcodes: lpread, lpreson, lpfreson", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; lpread opcode: krmsr, krmso, kerr, kcps lpread ktimpt, ifilcod [, inpoles] [, ifrmrate]\n    ; Read linear prediction coefficients from analysis file\n    ; ktimpt - time pointer (seconds)\n    ; ifilcod - analysis file name\n    ; inpoles - number of poles\n    ; ifrmrate - frame rate\n    \n    ; Note: Requires LP analysis file\n    ; This example simulates with formant synthesis\n    \n    ; Excitation (pulse train)\n    kFreq = 110\n    aBuzz buzz 0.3, kFreq, int(sr/(2*kFreq)), -1\n    \n    ; Simulate formant filtering (LP-like)\n    aF1 butterbp aBuzz, 800, 80   ; First formant\n    aF2 butterbp aBuzz, 1200, 100 ; Second formant\n    aF3 butterbp aBuzz, 2500, 120 ; Third formant\n    \n    aOut = aBuzz*0.3 + aF1 + aF2*0.8 + aF3*0.6\n    aOut *= 0.4\n    \n    outs aOut, aOut\nendin\n\ninstr 2\n    ; lpreson opcode: ares lpreson asig\n    ; Resynthesis using LP coefficients\n    ; Must be preceded by lpread\n    \n    ; Excitation signal (can be impulse, noise, or buzz)\n    aNoise rand 0.3\n    \n    ; Simulate LP resynthesis with formant filtering\n    ; Moving formants\n    kF1 linseg 600, p3*0.5, 900, p3*0.5, 700\n    kF2 linseg 1000, p3*0.5, 1400, p3*0.5, 1200\n    kF3 = 2500\n    \n    aF1 butterbp aNoise, kF1, kF1*0.1\n    aF2 butterbp aNoise, kF2, kF2*0.1\n    aF3 butterbp aNoise, kF3, 200\n    \n    aOut = aF1 + aF2*0.8 + aF3*0.5\n    aOut *= 0.5\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; lpfreson opcode: ares lpfreson asig, kfrqratio\n    ; Formant synthesis using LP data\n    ; kfrqratio - frequency scaling ratio\n    \n    ; Excitation (voiced)\n    kPitch linseg 100, p3*0.5, 200, p3*0.5, 150\n    aBuzz buzz 0.3, kPitch, int(sr/(2*kPitch)), -1\n    \n    ; Frequency ratio for formant scaling\n    kRatio linseg 1, p3*0.5, 1.5, p3*0.5, 0.8\n    \n    ; Simulate formant synthesis with scaled frequencies\n    aF1 butterbp aBuzz, 700*kRatio, 80\n    aF2 butterbp aBuzz, 1200*kRatio, 100\n    aF3 butterbp aBuzz, 2600*kRatio, 150\n    \n    aOut = aF1 + aF2*0.7 + aF3*0.5\n    aOut *= 0.5\n    \n    outs aOut, aOut\nendin\n\ninstr 4\n    ; Vowel synthesis using LP-like formants\n    ; /a/ vowel\n    kPitch = 110\n    aBuzz buzz 0.3, kPitch, int(sr/(2*kPitch)), -1\n    \n    ; /a/ formants: F1=730, F2=1090, F3=2440\n    aF1 butterbp aBuzz, 730, 80\n    aF2 butterbp aBuzz, 1090, 120\n    aF3 butterbp aBuzz, 2440, 180\n    \n    aVowel = aF1 + aF2*0.8 + aF3*0.6\n    aVowel *= 0.4\n    \n    outs aVowel, aVowel\nendin\n\ninstr 5\n    ; Morphing between vowels\n    kPitch = 130\n    aBuzz buzz 0.3, kPitch, int(sr/(2*kPitch)), -1\n    \n    ; Morph from /i/ to /a/ to /u/\n    ; /i/: F1=270, F2=2290, F3=3010\n    ; /a/: F1=730, F2=1090, F3=2440\n    ; /u/: F1=300, F2=870, F3=2240\n    \n    kF1 linseg 270, p3*0.33, 730, p3*0.33, 300, p3*0.34, 270\n    kF2 linseg 2290, p3*0.33, 1090, p3*0.33, 870, p3*0.34, 2290\n    kF3 linseg 3010, p3*0.33, 2440, p3*0.33, 2240, p3*0.34, 3010\n    \n    aF1 butterbp aBuzz, kF1, kF1*0.1\n    aF2 butterbp aBuzz, kF2, kF2*0.1\n    aF3 butterbp aBuzz, kF3, 200\n    \n    aOut = aF1 + aF2*0.7 + aF3*0.5\n    aOut *= 0.4\n    \n    outs aOut, aOut\nendin\n\ninstr 6\n    ; Unvoiced synthesis (whispered speech)\n    ; Using noise excitation\n    \n    aNoise rand 0.4\n    \n    ; /s/ sound formants\n    aF1 butterbp aNoise, 4000, 1000\n    aF2 butterbp aNoise, 6000, 1500\n    aF3 butterhp aNoise, 7000\n    \n    aOut = (aF1 + aF2*0.8 + aF3*0.5) * 0.3\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 2\ni2 3 3\ni3 7 4\ni4 12 2\ni5 15 5\ni6 21 2\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the chorus opcode for chorus effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; chorus opcode: a1, a2 chorus asig, kpreset, kgain, \\ \n    ;                idepth, idelay [, iseed] [, iprelay]\n    ; Stereo chorus effect\n    ; asig - input signal\n    ; kpreset - chorus preset (1-9)\n    ; kgain - output gain\n    ; idepth - modulation depth (0-1)\n    ; idelay - base delay time (ms, typically 5-30)\n    ; iseed - random seed (optional)\n    ; iprelay - predelay (optional)\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.3, 220, 0\n    \n    ; Apply chorus\n    kPreset = 1\n    kGain = 1\n    iDepth = 0.8\n    iDelay = 15\n    \n    aChorusL, aChorusR chorus aSaw, kPreset, kGain, iDepth, iDelay\n    \n    outs aChorusL, aChorusR\nendin\n\ninstr 2\n    ; Subtle chorus\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 165, 2, 0.4\n    \n    ; Subtle settings\n    kPreset = 2\n    kGain = 0.9\n    iDepth = 0.4\n    iDelay = 10\n    \n    aL, aR chorus aPulse, kPreset, kGain, iDepth, iDelay\n    \n    outs aL, aR\nendin\n\ninstr 3\n    ; Deep chorus\n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Square wave\n    aSq vco2 kAmp*0.3, 110, 2\n    \n    ; Deep chorus\n    kPreset = 5\n    kGain = 1.1\n    iDepth = 0.95\n    iDelay = 25\n    \n    aL, aR chorus aSq, kPreset, kGain, iDepth, iDelay\n    \n    outs aL, aR\nendin\n\ninstr 4\n    ; Changing preset\n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Sawtooth\n    aSaw1 vco2 kAmp*0.15, 110, 0\n    aSaw2 vco2 kAmp*0.15, 110.5, 0\n    aSrc = aSaw1 + aSaw2\n    \n    ; Sweep presets\n    kPreset linseg 1, p3*0.33, 3, p3*0.33, 6, p3*0.34, 8\n    kGain = 1\n    iDepth = 0.7\n    iDelay = 18\n    \n    aL, aR chorus aSrc, kPreset, kGain, iDepth, iDelay\n    \n    outs aL, aR\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 4.5 4\ni3 9 4\ni4 13.5 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates flanging opcodes: flanger, wguide1, wguide2", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; flanger opcode: ares flanger asig, adel, kfeedback [, imaxd]\n    ; Classic flanger effect\n    ; asig - input signal\n    ; adel - delay time (a-rate, seconds)\n    ; kfeedback - feedback amount (0-1)\n    ; imaxd - maximum delay time (optional)\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.3, 220, 0\n    \n    ; LFO for flanger\n    kLFO oscili 0.003, 0.4, -1, 0\n    aDelTime = 0.005 + kLFO\n    \n    ; Apply flanger\n    kFeedback = 0.7\n    aFlange flanger aSaw, aDelTime, kFeedback, 0.01\n    \n    outs aFlange, aFlange\nendin\n\ninstr 2\n    ; Jet flanger (negative feedback)\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 165, 2, 0.4\n    \n    ; Fast LFO\n    kLFO oscili 0.004, 1.2, -1, 0\n    aDelTime = 0.002 + kLFO\n    \n    ; Negative feedback for jet effect\n    kFeedback = -0.8\n    aFlange flanger aPulse, aDelTime, kFeedback, 0.008\n    \n    outs aFlange, aFlange\nendin\n\ninstr 3\n    ; wguide1 opcode: ares wguide1 asig, xfreq, kcutoff, kfeedback\n    ; Waveguide-based flanger/chorus\n    ; asig - input signal\n    ; xfreq - frequency (Hz, can be k or a-rate)\n    ; kcutoff - lowpass cutoff (Hz)\n    ; kfeedback - feedback amount\n    \n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Square wave\n    aSq vco2 kAmp*0.3, 110, 2\n    \n    ; Varying frequency\n    kFreq linseg 100, p3*0.5, 800, p3*0.5, 200\n    kCutoff = 3000\n    kFeedback = 0.6\n    \n    aWG wguide1 aSq, kFreq, kCutoff, kFeedback\n    \n    outs aWG, aWG\nendin\n\ninstr 4\n    ; wguide2 opcode: ares wguide2 asig, xfreq, kcutoff, kfeedback\n    ; Similar to wguide1 but different algorithm\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.25, 165, 0\n    \n    ; LFO-modulated frequency\n    kLFO oscili 200, 0.3, -1, 0\n    kFreq = 400 + kLFO\n    kCutoff = 4000\n    kFeedback = 0.7\n    \n    aWG wguide2 aSaw, kFreq, kCutoff, kFeedback\n    \n    outs aWG, aWG\nendin\n\ninstr 5\n    ; Stereo flanger\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Rich source\n    aSaw1 vco2 kAmp*0.15, 110, 0\n    aSaw2 vco2 kAmp*0.15, 110.3, 0\n    aSrc = aSaw1 + aSaw2\n    \n    ; Different LFOs for L/R\n    kLFO1 oscili 0.004, 0.5, -1, 0\n    kLFO2 oscili 0.003, 0.37, -1, 0.3\n    \n    aDelL = 0.004 + kLFO1\n    aDelR = 0.005 + kLFO2\n    \n    kFeedback = 0.65\n    aFlangeL flanger aSrc, aDelL, kFeedback, 0.012\n    aFlangeR flanger aSrc, aDelR, kFeedback, 0.012\n    \n    outs aFlangeL, aFlangeR\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 4.5 4\ni3 9 4\ni4 13.5 4\ni5 18 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates phasing opcodes: phaser1, phaser2", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; phaser1 opcode: ares phaser1 asig, kfreq, kord, kfeedback [, iskip]\n    ; First-order allpass phaser\n    ; asig - input signal\n    ; kfreq - center frequency (Hz)\n    ; kord - number of stages (1-4, higher = more notches)\n    ; kfeedback - feedback amount (-1 to 1)\n    ; iskip - skip initialization\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.3, 220, 0\n    \n    ; Sweep phaser\n    kFreq expseg 200, p3*0.5, 3000, p3*0.5, 500\n    kOrd = 4\n    kFeedback = 0.6\n    \n    aPhase phaser1 aSaw, kFreq, kOrd, kFeedback\n    \n    outs aPhase, aPhase\nendin\n\ninstr 2\n    ; Subtle phaser\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 165, 2, 0.4\n    \n    ; LFO modulation\n    kLFO oscili 1000, 0.3, -1, 0\n    kFreq = 800 + kLFO\n    kOrd = 2\n    kFeedback = 0.4\n    \n    aPhase phaser1 aPulse, kFreq, kOrd, kFeedback\n    \n    outs aPhase, aPhase\nendin\n\ninstr 3\n    ; phaser2 opcode: ares phaser2 asig, kfreq, kq, knotch, \\ \n    ;                  kmode, kverbtime, kfeedback [, iskip]\n    ; Advanced phaser with resonance\n    ; asig - input signal\n    ; kfreq - center frequency (Hz)\n    ; kq - Q factor (resonance)\n    ; knotch - number of notches (1-12)\n    ; kmode - 1=allpass, 2=notch (default 1)\n    ; kverbtime - reverb time (optional)\n    ; kfeedback - feedback amount\n    ; iskip - skip initialization\n    \n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Square wave\n    aSq vco2 kAmp*0.3, 110, 2\n    \n    ; Phaser parameters\n    kFreq expseg 300, p3*0.4, 2500, p3*0.6, 600\n    kQ = 8\n    kNotches = 6\n    kMode = 1\n    kVerbTime = 0.5\n    kFeedback = 0.7\n    \n    aPhase phaser2 aSq, kFreq, kQ, kNotches, kMode, kVerbTime, kFeedback\n    \n    outs aPhase, aPhase\nendin\n\ninstr 4\n    ; Resonant phaser\n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.25, 165, 0\n    \n    ; High Q for resonant peaks\n    kLFO oscili 800, 0.4, -1, 0\n    kFreq = 600 + kLFO\n    kQ = 12\n    kNotches = 8\n    kMode = 1\n    kVerbTime = 0.3\n    kFeedback = 0.8\n    \n    aPhase phaser2 aSaw, kFreq, kQ, kNotches, kMode, kVerbTime, kFeedback\n    \n    outs aPhase, aPhase\nendin\n\ninstr 5\n    ; Stereo phaser with different rates\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Rich source\n    aSaw1 vco2 kAmp*0.15, 110, 0\n    aSaw2 vco2 kAmp*0.15, 110.5, 0\n    aSrc = aSaw1 + aSaw2\n    \n    ; Different LFOs for L/R\n    kLFO1 oscili 1200, 0.5, -1, 0\n    kLFO2 oscili 1000, 0.37, -1, 0.25\n    \n    kFreqL = 700 + kLFO1\n    kFreqR = 800 + kLFO2\n    \n    aPhaseL phaser1 aSrc, kFreqL, 4, 0.6\n    aPhaseR phaser1 aSrc, kFreqR, 4, 0.6\n    \n    outs aPhaseL, aPhaseR\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 4.5 4\ni3 9 4\ni4 13.5 4\ni5 18 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates noise reduction and gating opcodes: median, mediank, compress2 as gate", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; median opcode: ares median asig, ksize [, imaxsize]\n    ; Median filter for impulse noise removal\n    ; ksize - window size (must be odd)\n    \n    ; Clean signal\n    aClean oscili 0.3, 440, -1\n    \n    ; Add impulse noise\n    kTrig metro 10\n    aNoise rand 0.5\n    aNoise *= kTrig\n    \n    aNoisy = aClean + aNoise\n    \n    ; Remove impulses with median filter\n    aFiltered median aNoisy, 5\n    \n    outs aNoisy*0.5, aFiltered*0.5\nendin\n\ninstr 2\n    ; mediank opcode: kres mediank ksig, ksize [, imaxsize]\n    ; Median filter for k-rate signals\n    \n    ; Generate noisy control signal\n    kClean linseg 220, p3, 880\n    kNoise random -50, 50\n    kNoisy = kClean + kNoise\n    \n    ; Smooth with median filter\n    kSmooth mediank kNoisy, 7\n    \n    ; Use for frequency control\n    aOscNoisy oscili 0.3, kNoisy, -1\n    aOscSmooth oscili 0.3, kSmooth, -1\n    \n    outs aOscNoisy*0.5, aOscSmooth*0.5\nendin\n\ninstr 3\n    ; Noise gate using compress2\n    ; compress2 opcode: ar1 compress2 asig, actl, kthresh, kloknee, khiknee, kratio, katt, krel, ilook\n    ; With ratio < 1, acts as expander/gate\n    \n    ; Signal with varying amplitude\n    aIn vco2 0.4, 220, 0\n    aIn *= linseg(0.05, 0.5, 0.8, 1, 0.1, 0.5, 0.6, p3-2, 0.05)\n    \n    ; Add noise floor\n    aNoise rand 0.03\n    aIn = aIn + aNoise\n    \n    ; Gate parameters\n    kThresh = -30  ; Threshold in dB\n    kLoKnee = 3\n    kHiKnee = 3\n    kRatio = 0.1   ; Expansion ratio (< 1 for gate)\n    kAtt = 0.003\n    kRel = 0.05\n    iLook = 0.005\n    \n    ; Apply gate\n    aGated compress2 aIn, aIn, kThresh, kLoKnee, kHiKnee, kRatio, kAtt, kRel, iLook\n    \n    outs aIn*0.5, aGated*0.5\nendin\n\ninstr 4\n    ; Adaptive noise reduction\n    ; Estimate and subtract noise floor\n    \n    ; Main signal\n    aMain buzz 0.4, 330, 15, -1\n    aMain *= linseg(1, 0.3, 0.2, 0.5, 1, p3-0.8, 0.5)\n    \n    ; Add noise\n    aNoise rand 0.1\n    aNoisy = aMain + aNoise\n    \n    ; Measure noise level during quiet passages\n    kRMS rms aNoisy\n    kNoiseFloor = (kRMS < 0.15 ? kRMS : kNoiseFloor)\n    \n    ; Gate based on noise floor\n    kThresh = ampdb(dbamp(kNoiseFloor) + 6)\n    kGate = (kRMS > kThresh ? 1 : 0)\n    kGateSmooth port kGate, 0.01\n    \n    aOut = aNoisy * kGateSmooth\n    \n    outs aNoisy*0.5, aOut*0.5\nendin\n\ninstr 5\n    ; Spectral noise reduction using PVS\n    ; Reduce noise in frequency domain\n    \n    ; Signal with noise\n    aSignal vco2 0.3, 220, 10\n    aNoise rand 0.08\n    aIn = aSignal + aNoise\n    \n    ; Analyze\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Create noise profile (in practice would be learned)\n    ; Simulate with spectral gate\n    fgated pvsgain fsig, 0.8\n    \n    ; Synthesize\n    aOut pvsynth fgated\n    \n    outs aIn*0.5, aOut*0.5\nendin\n\ninstr 6\n    ; Multi-band gating\n    ; Different gates for different frequency bands\n    \n    aIn vco2 0.4, 165, 0\n    aIn *= linseg(0.8, 0.3, 0.1, 0.4, 0.7, 0.5, 0.2, p3-1.2, 0.1)\n    \n    ; Add noise\n    aNoise rand 0.05\n    aIn = aIn + aNoise\n    \n    ; Split into bands\n    aLow butterlp aIn, 500\n    aMid butterbp aIn, 1500, 1000\n    aHigh butterhp aIn, 3000\n    \n    ; Gate each band\n    kThreshLow = -35\n    kThreshMid = -30\n    kThreshHigh = -25\n    \n    aLowGated compress2 aLow, aLow, kThreshLow, 3, 3, 0.1, 0.005, 0.05, 0.005\n    aMidGated compress2 aMid, aMid, kThreshMid, 3, 3, 0.1, 0.005, 0.05, 0.005\n    aHighGated compress2 aHigh, aHigh, kThreshHigh, 3, 3, 0.1, 0.005, 0.05, 0.005\n    \n    ; Recombine\n    aOut = aLowGated + aMidGated + aHighGated\n    \n    outs aIn*0.5, aOut*0.5\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 4 4\ni3 9 4\ni4 14 3\ni5 18 3\ni6 22 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates phase manipulation opcodes: hilbert, hilbert2, phaser1, phaser2", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; hilbert opcode: ar1, ar2 hilbert asig\n    ; 90-degree phase difference (quadrature)\n    ; For single-sideband modulation and frequency shifting\n    \n    aIn oscili 0.3, 440, -1\n    \n    ; Generate quadrature pair\n    aReal, aImag hilbert aIn\n    \n    ; Frequency shifter\n    kShift = 200  ; Shift by 200 Hz\n    aShiftReal = aReal * cos(2*$M_PI*kShift*timeinstk()/sr)\n    aShiftImag = aImag * sin(2*$M_PI*kShift*timeinstk()/sr)\n    \n    ; Single sideband (USB)\n    aUSB = aShiftReal + aShiftImag\n    \n    ; Single sideband (LSB)\n    aLSB = aShiftReal - aShiftImag\n    \n    outs aIn*0.4, aUSB*0.6\nendin\n\ninstr 2\n    ; hilbert2 opcode: ar1, ar2 hilbert2 asig, ifftsize\n    ; FFT-based Hilbert transform (better quality)\n    \n    aIn vco2 0.3, 220, 0\n    \n    ; Generate quadrature\n    aReal, aImag hilbert2 aIn, 1024\n    \n    ; Dynamic frequency shift\n    kShift linseg -200, p3*0.5, 200, p3*0.5, 0\n    aShiftReal = aReal * cos(2*$M_PI*kShift*timeinstk()/sr)\n    aShiftImag = aImag * sin(2*$M_PI*kShift*timeinstk()/sr)\n    \n    aOut = aShiftReal + aShiftImag\n    \n    outs aIn*0.4, aOut*0.6\nendin\n\ninstr 3\n    ; Phase inversion and cancellation\n    ; Create phase-inverted signals\n    \n    aIn buzz 0.3, 330, 20, -1\n    \n    ; Original\n    aOrig = aIn\n    \n    ; 180-degree phase shift (inversion)\n    aInv = -aIn\n    \n    ; 90-degree phase shift\n    aReal, aImag hilbert aIn\n    a90 = aImag\n    \n    ; Output different phase relationships\n    kSelect linseg 0, p3*0.25, 1, p3*0.25, 2, p3*0.25, 3, p3*0.25, 0\n    \n    aOut = (kSelect < 0.5 ? aOrig : \\\n           (kSelect < 1.5 ? aInv : \\\n           (kSelect < 2.5 ? a90 : aReal)))\n    \n    outs aIn*0.5, aOut*0.5\nendin\n\ninstr 4\n    ; Frequency shifting with variable shift\n    ; Single-sideband modulation\n    \n    aIn vco2 0.3, 165, 10\n    \n    ; Hilbert transform\n    aReal, aImag hilbert aIn\n    \n    ; Sweep frequency shift\n    kShift linseg 0, p3*0.33, 300, p3*0.33, -200, p3*0.34, 0\n    \n    ; Modulation oscillators\n    aCos oscili 1, abs(kShift), -1\n    aSin oscili 1, abs(kShift), -1, 0.25  ; 90-degree phase\n    \n    ; Apply shift\n    aShifted = (kShift >= 0 ? aReal*aCos + aImag*aSin : aReal*aCos - aImag*aSin)\n    \n    outs aIn*0.4, aShifted*0.6\nendin\n\ninstr 5\n    ; Ring modulation using phase manipulation\n    ; Create sidebands with Hilbert transform\n    \n    ; Carrier\n    aCarr oscili 0.3, 440, -1\n    \n    ; Modulator\n    kModFreq linseg 50, p3, 200\n    aMod oscili 1, kModFreq, -1\n    \n    ; Hilbert transform of carrier\n    aReal, aImag hilbert aCarr\n    \n    ; Quadrature modulation for specific sidebands\n    aUpper = aReal * aMod\n    aLower = aImag * aMod\n    \n    ; Upper sideband only\n    outs aCarr*0.3, aUpper*0.7\nendin\n\ninstr 6\n    ; Stereo widening using phase\n    ; Phase-shifted stereo image\n    \n    aIn vco2 0.3, 220, 0\n    \n    ; Create quadrature pair\n    aReal, aImag hilbert aIn\n    \n    ; Use real and imaginary for L and R\n    ; Creates phase-coherent stereo\n    aLeft = aReal\n    aRight = aImag\n    \n    ; Adjust balance\n    aLeft *= 0.9\n    aRight *= 0.9\n    \n    outs aLeft, aRight\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 5 4\ni3 10 4\ni4 15 4\ni5 20 4\ni6 25 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates pitch shifting and time stretching opcodes: pvshift, pvscale, pvstanal, sndwarp, sndwarpst, mincer, temposcal, pshift", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; pvsanal/pvshift/pvsynth - phase vocoder pitch shifting\n    ; pvshift opcode: fsig pvshift fsig, kshift, klowest [, kkeepform, kgain, kcoefs]\n    ; Pitch shift using phase vocoder\n    ; fsig - input fsig\n    ; kshift - shift in Hz\n    ; klowest - lowest frequency to shift\n    ; kkeepform - preserve formants (0-1)\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Sawtooth source\n    aSaw vco2 kAmp*0.3, 220, 0\n    \n    ; Analyze\n    fftsig pvsanal aSaw, 1024, 256, 1024, 1\n    \n    ; Shift up by 300 Hz\n    fshift pvshift fftsig, 300, 0, 0\n    \n    ; Resynthesize\n    aShift pvsynth fshift\n    \n    outs aShift, aShift\nendin\n\ninstr 2\n    ; pvscale - time scaling\n    ; fsig pvscale fsig, kscale [, kkeepform, kgain, kcoefs]\n    ; kscale - scaling factor (2=up octave, 0.5=down octave)\n    \n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 165, 2, 0.4\n    \n    ; Analyze\n    fftsig pvsanal aPulse, 1024, 256, 1024, 1\n    \n    ; Scale up octave\n    fscale pvscale fftsig, 2\n    \n    ; Resynthesize\n    aScale pvsynth fscale\n    \n    outs aScale, aScale\nendin\n\ninstr 3\n    ; mincer opcode: asig mincer atimept, kamp, kpitch, ifile [, ilock, ifftsize, idecim]\n    ; Time stretching with pitch shifting\n    ; atimept - time pointer into file (seconds)\n    ; kamp - amplitude\n    ; kpitch - pitch scaling (1=normal, 2=up octave)\n    ; ifile - file table or file name\n    ; Note: Requires audio file\n    \n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Generate source\n    aSrc vco2 kAmp*0.3, 110, 0\n    \n    ; Simulated with pvscale\n    fftsig pvsanal aSrc, 2048, 512, 2048, 1\n    \n    ; Pitch shift\n    kPitch = 1.5\n    fshift pvscale fftsig, kPitch\n    \n    aOut pvsynth fshift\n    \n    outs aOut, aOut\nendin\n\ninstr 4\n    ; temposcal - independent time/pitch control\n    ; ares temposcal ktimescal, kpitch, asig [, ifftsize, ioverlap, iwintype]\n    ; ktimescal - time scaling (1=normal, 2=half speed)\n    ; kpitch - pitch scaling (1=normal, 2=up octave)\n    ; Note: Not all Csound builds have this\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Square wave\n    aSq vco2 kAmp*0.3, 220, 2\n    \n    ; Use pvscale as alternative\n    fftsig pvsanal aSq, 1024, 256, 1024, 1\n    fscale pvscale fftsig, 0.5  ; Down octave\n    \n    aOut pvsynth fscale\n    \n    outs aOut, aOut\nendin\n\ninstr 5\n    ; pshift - simple pitch shifter\n    ; aout1, aout2 pshift ain, kratio, kloopsize, kifftsize, ioverlap\n    ; kratio - pitch ratio (2=up octave)\n    ; Note: May not be available in all builds\n    \n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.25, 165, 0\n    \n    ; Use pvscale\n    fftsig pvsanal aSaw, 2048, 512, 2048, 1\n    kRatio = 1.25893  ; Perfect fifth up\n    fshift pvscale fftsig, kRatio\n    \n    aOut pvsynth fshift\n    \n    outs aOut, aOut\nendin\n\ninstr 6\n    ; Dynamic pitch shifting\n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 220, 2, 0.3\n    \n    ; Analyze\n    fftsig pvsanal aPulse, 1024, 256, 1024, 1\n    \n    ; Sweep pitch\n    kScale linseg 0.5, p3*0.5, 2, p3*0.5, 1\n    fshift pvscale fftsig, kScale\n    \n    aOut pvsynth fshift\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 3.5 3\ni3 7 3\ni4 10.5 3\ni5 14 3\ni6 17.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates resampling and interpolation opcodes: upsamp, downsamp, interp", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; upsamp opcode: ares upsamp ksig\n    ; Convert k-rate signal to a-rate\n    ; ksig - k-rate input signal\n    \n    ; K-rate control signal\n    kFreq linseg 220, p3*0.5, 880, p3*0.5, 440\n    \n    ; Convert to a-rate\n    aFreq upsamp kFreq\n    \n    ; Use for audio-rate frequency modulation\n    aOsc oscili 0.3, aFreq, -1\n    \n    outs aOsc, aOsc\nendin\n\ninstr 2\n    ; downsamp opcode: kr downsamp asig\n    ; Convert a-rate signal to k-rate\n    ; asig - a-rate input signal\n    \n    ; A-rate signal\n    aLFO oscili 200, 3, -1\n    \n    ; Downsample to k-rate\n    kFreq downsamp aLFO\n    kFreq = 440 + kFreq\n    \n    ; Use k-rate value\n    aOsc oscili 0.3, kFreq, -1\n    \n    outs aOsc, aOsc\nendin\n\ninstr 3\n    ; interp opcode: ares interp ksig [, iskip]\n    ; Interpolate k-rate to a-rate (smoother than upsamp)\n    ; ksig - k-rate signal\n    ; iskip - skip initialization\n    \n    ; K-rate envelope\n    kEnv linseg 0, p3*0.25, 1, p3*0.5, 0.5, p3*0.25, 0\n    \n    ; Interpolate to a-rate\n    aEnv interp kEnv\n    \n    ; Apply to oscillator\n    aOsc vco2 0.3, 330, 10\n    aOut = aOsc * aEnv\n    \n    outs aOut, aOut\nendin\n\ninstr 4\n    ; Comparing upsamp vs interp\n    ; upsamp creates steps, interp is smooth\n    \n    kStep linseg 0.2, 1, 0.2, 0.01, 0.8, 1, 0.8, 0.01, 0.5, p3-2.02, 0.5\n    \n    ; Upsamp - stepped\n    aStep upsamp kStep\n    aOsc1 oscili aStep, 440, -1\n    \n    ; Interp - smooth\n    aSmooth interp kStep\n    aOsc2 oscili aSmooth, 440, -1\n    \n    outs aOsc1*0.5, aOsc2*0.5\nendin\n\ninstr 5\n    ; Downsample for control rate analysis\n    ; A-rate signal downsampled for k-rate processing\n    \n    aIn vco2 0.4, 165, 0\n    aIn *= linseg(1, p3*0.5, 0.3, p3*0.5, 1)\n    \n    ; Downsample to k-rate for analysis\n    kLevel downsamp aIn\n    kLevel = abs(kLevel)\n    \n    ; Use for threshold gate\n    kGate = (kLevel > 0.2 ? 1 : 0)\n    aGate interp kGate\n    \n    aOut = aIn * aGate\n    \n    outs aIn*0.5, aOut*0.5\nendin\n\ninstr 6\n    ; Rate conversion for modulation\n    ; K-rate LFO converted to a-rate for audio modulation\n    \n    ; K-rate LFO\n    kLFO lfo 0.5, 2, 0\n    \n    ; Convert to a-rate with interpolation\n    aLFO interp kLFO\n    \n    ; Use for amplitude modulation\n    aCarrier oscili 0.3, 440, -1\n    aOut = aCarrier * (1 + aLFO)\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 4 3\ni3 8 4\ni4 13 4\ni5 18 3\ni6 22 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates table interpolation opcodes: vaget, tablei, table3, tablexkt", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function tables\ngiSine ftgen 0, 0, 8192, 10, 1\ngiSaw ftgen 0, 0, 8192, 7, -1, 4096, 1, 4096, -1\ngiWave ftgen 0, 0, 8192, 10, 1, 0.5, 0.3, 0.2, 0.1\ngiEnv ftgen 0, 0, 1024, 7, 0, 100, 1, 200, 0.8, 724, 0\n\ninstr 1\n    ; tablei opcode: ares tablei andx, ifn [, ixmode] [, ixoff] [, iwrap]\n    ; Table lookup with linear interpolation\n    ; andx - index (normalized or raw)\n    ; ifn - function table number\n    ; ixmode - index mode (0=raw, 1=normalized)\n    ; ixoff - index offset\n    ; iwrap - wraparound mode\n    \n    ; Phase for table lookup\n    aPhase phasor 220\n    \n    ; Read table with linear interpolation\n    aOut tablei aPhase, giSine, 1\n    aOut *= 0.3\n    \n    outs aOut, aOut\nendin\n\ninstr 2\n    ; table3 opcode: ares table3 andx, ifn [, ixmode] [, ixoff] [, iwrap]\n    ; Table lookup with cubic interpolation (higher quality)\n    ; andx - index\n    ; ifn - function table\n    \n    ; Variable frequency\n    kFreq linseg 110, p3*0.5, 440, p3*0.5, 220\n    aPhase phasor kFreq\n    \n    ; Read with cubic interpolation\n    aOut table3 aPhase, giWave, 1\n    aOut *= 0.3\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; tablexkt opcode: ares tablexkt andx, kfn, kwarp, iwsize [, ixmode] [, ixoff] [, iwrap]\n    ; Table lookup with crossfade between tables\n    ; kfn - table number (can morph between tables)\n    ; kwarp - warp factor\n    ; iwsize - window size\n    \n    ; Phase\n    aPhase phasor 330\n    \n    ; Morph between tables\n    kTable linseg 1, p3*0.5, 2, p3*0.5, 1\n    \n    ; Crossfade between sine and saw\n    kBlend = kTable - 1  ; 0 to 1\n    \n    aSine tablei aPhase, giSine, 1\n    aSaw tablei aPhase, giSaw, 1\n    aOut = aSine*(1-kBlend) + aSaw*kBlend\n    aOut *= 0.3\n    \n    outs aOut, aOut\nendin\n\ninstr 4\n    ; vaget opcode: ares vaget andx, ifn, ixmode [, interp]\n    ; Variable-rate table read\n    ; andx - index\n    ; ifn - function table\n    ; ixmode - index mode\n    ; interp - interpolation type\n    \n    ; Time-varying index\n    aIndex linseg 0, p3, 1\n    \n    ; Read envelope table\n    aEnv tablei aIndex, giEnv, 1\n    \n    ; Apply to oscillator\n    aOsc oscili 0.3, 440, -1\n    aOut = aOsc * aEnv\n    \n    outs aOut, aOut\nendin\n\ninstr 5\n    ; Comparing interpolation methods\n    ; Linear vs cubic\n    \n    kFreq = 165\n    aPhase phasor kFreq\n    \n    ; Linear interpolation\n    aLinear tablei aPhase, giWave, 1\n    \n    ; Cubic interpolation (smoother)\n    aCubic table3 aPhase, giWave, 1\n    \n    ; Scale\n    aLinear *= 0.3\n    aCubic *= 0.3\n    \n    outs aLinear, aCubic\nendin\n\ninstr 6\n    ; Dynamic table scanning\n    ; Variable speed scanning through table\n    \n    ; Scan speed varies\n    kSpeed linseg 0.5, p3*0.5, 3, p3*0.5, 1\n    aPhase phasor kSpeed\n    \n    ; Read with cubic interpolation\n    aOut table3 aPhase, giWave, 1\n    aOut *= 0.3\n    \n    ; Apply envelope\n    aEnv linseg 1, p3*0.9, 1, p3*0.1, 0\n    aOut *= aEnv\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 2\ni2 3 4\ni3 8 4\ni4 13 3\ni5 17 3\ni6 21 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates oscillator interpolation opcodes: oscili, osciliktp", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Waveform tables\ngiSine ftgen 0, 0, 8192, 10, 1\ngiTri ftgen 0, 0, 8192, 10, 1, 0, -0.111, 0, 0.04, 0, -0.020408\ngiSaw ftgen 0, 0, 8192, 10, 1, -0.5, 0.333, -0.25, 0.2, -0.167\ngiSquare ftgen 0, 0, 8192, 10, 1, 0, 0.333, 0, 0.2, 0, 0.143\n\ninstr 1\n    ; oscili opcode: ares oscili xamp, xcps, ifn [, iphs]\n    ; Oscillator with linear interpolation\n    ; xamp - amplitude\n    ; xcps - frequency (Hz)\n    ; ifn - function table\n    ; iphs - initial phase (0-1)\n    \n    ; Basic sine oscillator\n    aOsc oscili 0.3, 440, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 2\n    ; oscili with variable frequency\n    ; Demonstrates smooth interpolation during frequency changes\n    \n    kFreq linseg 220, p3*0.5, 880, p3*0.5, 330\n    aOsc oscili 0.3, kFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 3\n    ; oscili with different waveforms\n    ; Triangle wave\n    \n    kFreq = 330\n    aTri oscili 0.3, kFreq, giTri\n    \n    outs aTri, aTri\nendin\n\ninstr 4\n    ; osciliktp opcode: ares osciliktp kcps, kfn, kphs [, iphs]\n    ; Oscillator with k-rate table and phase control\n    ; kcps - frequency (k-rate)\n    ; kfn - function table (k-rate, can change)\n    ; kphs - phase (k-rate)\n    ; iphs - initial phase\n    \n    kFreq = 220\n    \n    ; Morph between waveforms\n    kTable linseg 1, p3*0.33, 2, p3*0.33, 3, p3*0.34, 1\n    \n    ; Select table based on kTable\n    kFn = (kTable < 1.5 ? giSine : (kTable < 2.5 ? giTri : giSaw))\n    \n    ; Phase control\n    kPhase = 0\n    \n    aOsc osciliktp kFreq, kFn, kPhase\n    aOsc *= 0.3\n    \n    outs aOsc, aOsc\nendin\n\ninstr 5\n    ; Phase offset with oscili\n    ; Multiple oscillators with phase offsets for stereo\n    \n    kFreq = 165\n    \n    ; Left channel - phase 0\n    aL oscili 0.25, kFreq, giSine, 0\n    \n    ; Right channel - phase 0.25 (90 degrees)\n    aR oscili 0.25, kFreq, giSine, 0.25\n    \n    outs aL, aR\nendin\n\ninstr 6\n    ; Dynamic phase control with osciliktp\n    ; Phase modulation\n    \n    kFreq = 220\n    kFn = giSine\n    \n    ; Varying phase offset\n    kPhase linseg 0, p3*0.5, 0.5, p3*0.5, 0\n    \n    aOsc osciliktp kFreq, kFn, kPhase\n    aOsc *= 0.3\n    \n    outs aOsc, aOsc\nendin\n\ninstr 7\n    ; Waveform morphing with osciliktp\n    ; Smooth transitions between multiple waveforms\n    \n    kFreq linseg 110, p3, 440\n    \n    ; Cycle through waveforms\n    kWavePos linseg 0, p3, 4\n    \n    ; Crossfade between adjacent waveforms\n    kBlend = frac(kWavePos)\n    iWave1 = int(kWavePos) % 4\n    iWave2 = (int(kWavePos) + 1) % 4\n    \n    ; Generate from both tables\n    aOsc1 oscili 0.3, kFreq, giSine + iWave1\n    aOsc2 oscili 0.3, kFreq, giSine + iWave2\n    \n    ; Crossfade\n    aOut = aOsc1*(1-kBlend) + aOsc2*kBlend\n    \n    outs aOut, aOut\nendin\n\ninstr 8\n    ; High-quality additive synthesis using oscili\n    ; Multiple oscillators with precise interpolation\n    \n    kFund = 110\n    \n    ; 8 harmonics with interpolation\n    aSum = 0\n    iHarm = 1\n    while iHarm <= 8 do\n        kFreq = kFund * iHarm\n        kAmp = 0.3 / iHarm\n        aPartial oscili kAmp, kFreq, giSine\n        aSum = aSum + aPartial\n        iHarm += 1\n    od\n    \n    aSum *= 0.4\n    \n    outs aSum, aSum\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 2\ni2 3 4\ni3 8 2\ni4 11 5\ni5 17 3\ni6 21 4\ni7 26 5\ni8 32 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates algorithmic reverb opcodes: reverb, reverb2", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; reverb opcode: ares reverb asig, krvt [, iskip]\n    ; Simple reverb with reverb time parameter\n    ; asig - input signal\n    ; krvt - reverb time (seconds)\n    ; iskip - skip initialization\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Short pluck\n    aPluck pluck kAmp*0.4, 440, 440, 0, 1\n    \n    ; Add reverb\n    kRvtTime = 2.5\n    aReverb reverb aPluck, kRvtTime\n    \n    ; Mix dry and wet\n    aMix = aPluck*0.3 + aReverb*0.7\n    \n    outs aMix, aMix\nendin\n\ninstr 2\n    ; Variable reverb time\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 330, 2, 0.4\n    aEnv expon 1, 0.2, 0.01\n    aSound = aPulse * aEnv\n    \n    ; Sweep reverb time\n    kRvtTime linseg 0.5, p3, 4.0\n    aReverb reverb aSound, kRvtTime\n    \n    outs aReverb, aReverb\nendin\n\ninstr 3\n    ; reverb2 opcode: aoutL, aoutR reverb2 asigL, asigR, ktime, khdif [, iskip]\n    ; Stereo reverb with high-frequency diffusion\n    ; asigL, asigR - stereo input\n    ; ktime - reverb time (seconds)\n    ; khdif - high-frequency diffusion (0-1, default 0.5)\n    ; iskip - skip initialization\n    \n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.3, 220, 0\n    aEnv expon 1, 0.15, 0.01\n    aSound = aSaw * aEnv\n    \n    ; Stereo reverb\n    kTime = 3.0\n    kHdif = 0.6\n    aRevL, aRevR reverb2 aSound, aSound, kTime, kHdif\n    \n    ; Mix\n    aL = aSound*0.2 + aRevL*0.8\n    aR = aSound*0.2 + aRevR*0.8\n    \n    outs aL, aR\nendin\n\ninstr 4\n    ; Dynamic reverb parameters\n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Impulse train\n    aImp mpulse kAmp*0.5, 1.5\n    \n    ; Varying parameters\n    kTime linseg 1.0, p3*0.5, 4.0, p3*0.5, 1.5\n    kHdif linseg 0.3, p3, 0.9\n    \n    aRevL, aRevR reverb2 aImp, aImp, kTime, kHdif\n    \n    outs aRevL, aRevR\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 4.5 4\ni3 9 4\ni4 13.5 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the freeverb opcode for Freeverb algorithm", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; freeverb opcode: aoutL, aoutR freeverb ainL, ainR, kRoomSize, kHFDamp [, iSRate, iSkip]\n    ; Freeverb stereo reverb algorithm\n    ; ainL, ainR - stereo input\n    ; kRoomSize - room size (0-1, default 0.5)\n    ; kHFDamp - high-frequency damping (0-1, default 0.5)\n    ; iSRate - sample rate (optional)\n    ; iSkip - skip initialization\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Pluck sound\n    aPluck pluck kAmp*0.4, 330, 330, 0, 1\n    \n    ; Apply freeverb\n    kRoomSize = 0.8\n    kHFDamp = 0.5\n    \n    aRevL, aRevR freeverb aPluck, aPluck, kRoomSize, kHFDamp\n    \n    ; Mix\n    aL = aPluck*0.2 + aRevL*0.8\n    aR = aPluck*0.2 + aRevR*0.8\n    \n    outs aL, aR\nendin\n\ninstr 2\n    ; Small room\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 220, 2, 0.4\n    aEnv expon 1, 0.2, 0.01\n    aSound = aPulse * aEnv\n    \n    ; Small room, bright\n    kRoomSize = 0.3\n    kHFDamp = 0.2\n    \n    aRevL, aRevR freeverb aSound, aSound, kRoomSize, kHFDamp\n    \n    outs aRevL, aRevR\nendin\n\ninstr 3\n    ; Large hall\n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.25, 165, 0\n    aEnv expon 1, 0.15, 0.01\n    aSound = aSaw * aEnv\n    \n    ; Large room, damped\n    kRoomSize = 0.95\n    kHFDamp = 0.8\n    \n    aRevL, aRevR freeverb aSound, aSound, kRoomSize, kHFDamp\n    \n    outs aRevL, aRevR\nendin\n\ninstr 4\n    ; Dynamic room size\n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Impulse\n    aImp mpulse kAmp*0.5, 2\n    \n    ; Sweep room size\n    kRoomSize linseg 0.2, p3*0.5, 0.95, p3*0.5, 0.4\n    kHFDamp = 0.6\n    \n    aRevL, aRevR freeverb aImp, aImp, kRoomSize, kHFDamp\n    \n    ; Mix\n    aL = aImp*0.3 + aRevL*0.7\n    aR = aImp*0.3 + aRevR*0.7\n    \n    outs aL, aR\nendin\n\ninstr 5\n    ; Dynamic damping\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Square wave\n    aSq vco2 kAmp*0.3, 110, 2\n    aEnv expon 1, 0.18, 0.01\n    aSound = aSq * aEnv\n    \n    ; Fixed room, varying damping\n    kRoomSize = 0.75\n    kHFDamp linseg 0.1, p3*0.5, 0.9, p3*0.5, 0.3\n    \n    aRevL, aRevR freeverb aSound, aSound, kRoomSize, kHFDamp\n    \n    outs aRevL, aRevR\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 4.5 3\ni3 8 4\ni4 12.5 5\ni5 18 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates convolution reverb opcodes: convolve, dconv, ftconv", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Simple impulse response table\ngiIR ftgen 1, 0, 8192, 10, 1, 0.8, 0.6, 0.4, 0.3, 0.2, 0.15, 0.1\n\ninstr 1\n    ; convolve opcode: ares convolve asig, ifilcod [, ichannel]\n    ; Convolve audio signal with impulse response file\n    ; asig - input signal\n    ; ifilcod - impulse response file (WAV/AIFF)\n    ; ichannel - channel to use from IR file\n    ; Note: Requires external IR file\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Impulse train for testing\n    aImp mpulse kAmp*0.5, 1.5\n    \n    ; Convolve (would use external IR file)\n    ; aConv convolve aImp, \"impulse_response.wav\"\n    \n    ; Simulated with simple delay network\n    aBuf delayr 0.5\n    aD1 deltap 0.05\n    aD2 deltap 0.12\n    aD3 deltap 0.23\n    aD4 deltap 0.38\n    delayw aImp\n    \n    aConv = aImp + aD1*0.6 + aD2*0.4 + aD3*0.3 + aD4*0.2\n    \n    outs aConv, aConv\nendin\n\ninstr 2\n    ; ftconv opcode: ares ftconv asig, ift, iplen [, iskip [, ilen [, iparts]]]\n    ; Fast table-based convolution\n    ; asig - input signal\n    ; ift - function table with impulse response\n    ; iplen - partition length (power of 2)\n    ; iskip - skip initialization\n    ; ilenExcerpt - length of IR to use\n    ; iparts - number of partitions\n    \n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Pluck sound\n    aPluck pluck kAmp*0.4, 330, 330, 0, 1\n    \n    ; Convolve with table\n    iPlen = 256\n    aConv ftconv aPluck, giIR, iPlen\n    \n    outs aConv, aConv\nendin\n\ninstr 3\n    ; dconv opcode: ares dconv asig, isize, ifn\n    ; Direct convolution\n    ; asig - input signal\n    ; isize - size of impulse response\n    ; ifn - function table with IR\n    \n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 220, 2, 0.4\n    aEnv expon 1, 0.15, 0.01\n    aSound = aPulse * aEnv\n    \n    ; Direct convolution\n    iSize = ftlen(giIR)\n    aConv dconv aSound, iSize, giIR\n    \n    outs aConv, aConv\nendin\n\ninstr 4\n    ; Complex IR with ftconv\n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.25, 165, 0\n    aEnv expon 1, 0.18, 0.01\n    aSound = aSaw * aEnv\n    \n    ; Partitioned convolution for efficiency\n    iPlen = 512\n    aConv ftconv aSound, giIR, iPlen\n    \n    ; Mix\n    aMix = aSound*0.2 + aConv*0.8\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 3.5 3\ni3 7 3\ni4 10.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the platerev opcode for plate reverb simulation", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; platerev opcode: aoutL, aoutR platerev ainL, ainR, kbandwidth, ktail, kblend [, isamplerate] [, iskip]\n    ; Plate reverb simulation\n    ; ainL, ainR - stereo input\n    ; kbandwidth - bandwidth (0-1, affects density)\n    ; ktail - tail length (0-1, affects decay time)\n    ; kblend - wet/dry mix (0-1, 0=dry, 1=wet)\n    ; isamplerate - sample rate (optional)\n    ; iskip - skip initialization\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Pluck sound\n    aPluck pluck kAmp*0.4, 440, 440, 0, 1\n    \n    ; Plate reverb\n    kBW = 0.7\n    kTail = 0.75\n    kBlend = 0.8\n    \n    aRevL, aRevR platerev aPluck, aPluck, kBW, kTail, kBlend\n    \n    outs aRevL, aRevR\nendin\n\ninstr 2\n    ; Bright plate\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 330, 2, 0.4\n    aEnv expon 1, 0.2, 0.01\n    aSound = aPulse * aEnv\n    \n    ; Bright, short plate\n    kBW = 0.9\n    kTail = 0.4\n    kBlend = 0.9\n    \n    aRevL, aRevR platerev aSound, aSound, kBW, kTail, kBlend\n    \n    outs aRevL, aRevR\nendin\n\ninstr 3\n    ; Dark, long plate\n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.25, 220, 0\n    aEnv expon 1, 0.15, 0.01\n    aSound = aSaw * aEnv\n    \n    ; Dark, long plate\n    kBW = 0.3\n    kTail = 0.95\n    kBlend = 0.85\n    \n    aRevL, aRevR platerev aSound, aSound, kBW, kTail, kBlend\n    \n    outs aRevL, aRevR\nendin\n\ninstr 4\n    ; Dynamic plate parameters\n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Impulse train\n    aImp mpulse kAmp*0.5, 2\n    \n    ; Sweep parameters\n    kBW linseg 0.3, p3*0.5, 0.95, p3*0.5, 0.5\n    kTail linseg 0.4, p3, 0.9\n    kBlend = 0.8\n    \n    aRevL, aRevR platerev aImp, aImp, kBW, kTail, kBlend\n    \n    outs aRevL, aRevR\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 4.5 3\ni3 8 4\ni4 12.5 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates signal flow control opcodes: denorm, vactrol, lag, lagud, port, portk, tlineto", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; denorm opcode: ar denorm ain [, iflag]\n    ; Remove denormalized numbers (prevent CPU spikes)\n    ; iflag - processing flag\n    \n    aOsc oscili 0.3, 440, -1\n    aOsc *= expseg(1, p3-0.5, 0.0001, 0.5, 0.00000001)\n    \n    ; Apply denorm to prevent CPU issues with very small numbers\n    aClean denorm aOsc\n    \n    outs aClean, aClean\nendin\n\ninstr 2\n    ; vactrol opcode: ares vactrol asig, kattack, krelease [, ilevel]\n    ; Optical compressor-style envelope follower\n    ; kattack - attack time\n    ; krelease - release time\n    \n    aIn buzz 0.5, 220, 20, -1\n    aIn *= linseg(0.2, 0.1, 1, 0.3, 0.3, p3-0.4, 0.5)\n    \n    ; Vactrol envelope following\n    kAtt = 0.02\n    kRel = 0.25\n    aEnv vactrol aIn, kAtt, kRel\n    \n    ; Use envelope for dynamics\n    aOsc vco2 0.3, 330, 10\n    aOut = aOsc * aEnv * 2\n    \n    outs aIn*0.4, aOut*0.6\nendin\n\ninstr 3\n    ; lag opcode: kr lag ksig, klag [, initialvalue]\n    ; Exponential lag (portamento)\n    ; klag - lag time (seconds)\n    \n    ; Step changes in control signal\n    kStep linseg 220, 1, 220, 0.01, 440, 1, 440, 0.01, 330, p3-2.02, 330\n    \n    ; Apply lag\n    kLagTime = 0.3\n    kSmooth lag kStep, kLagTime\n    \n    ; Use for frequency control\n    aOsc oscili 0.3, kSmooth, -1\n    \n    outs aOsc, aOsc\nendin\n\ninstr 4\n    ; lagud opcode: kr lagud ksig, kup, kdown [, initialvalue]\n    ; Lag with separate up/down times\n    ; kup - attack time\n    ; kdown - release time\n    \n    kStep linseg 0.2, 0.5, 0.2, 0.01, 0.8, 0.5, 0.8, 0.01, 0.4, p3-1.02, 0.4\n    \n    ; Different up/down times\n    kUp = 0.05   ; Fast attack\n    kDown = 0.4  ; Slow release\n    kSmooth lagud kStep, kUp, kDown\n    \n    aOsc vco2 kSmooth, 440, 0\n    \n    outs aOsc, aOsc\nendin\n\ninstr 5\n    ; port opcode: kres port ksig, ihtim [, isig]\n    ; Portamento with half-time\n    ; ihtim - half-time (time to reach halfway to target)\n    \n    kTarget linseg 220, 1, 220, 0.01, 660, 1.5, 660, 0.01, 330, p3-2.52, 330\n    \n    ; Apply portamento\n    iHalfTime = 0.2\n    kSmooth port kTarget, iHalfTime\n    \n    aOsc oscili 0.3, kSmooth, -1\n    \n    outs aOsc, aOsc\nendin\n\ninstr 6\n    ; portk opcode: kres portk ksig, khtim [, isig]\n    ; K-rate portamento (time can vary)\n    ; khtim - half-time (k-rate)\n    \n    kTarget linseg 165, 1, 165, 0.01, 440, 1, 440, 0.01, 275, p3-2.02, 275\n    \n    ; Variable portamento time\n    kHalfTime linseg 0.05, p3*0.5, 0.5, p3*0.5, 0.1\n    kSmooth portk kTarget, kHalfTime\n    \n    aOsc vco2 0.3, kSmooth, 10\n    \n    outs aOsc, aOsc\nendin\n\ninstr 7\n    ; tlineto opcode: kres tlineto ksig, ktime\n    ; Linear interpolation to target value\n    ; ktime - time to reach target\n    \n    ; Target values\n    kTarget linseg 220, 1, 440, 1, 330, 1, 550, p3-3, 275\n    \n    ; Time to reach target (variable)\n    kTime linseg 0.3, p3*0.5, 0.8, p3*0.5, 0.2\n    \n    kSmooth tlineto kTarget, kTime\n    \n    aOsc oscili 0.3, kSmooth, -1\n    \n    outs aOsc, aOsc\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 4 3\ni3 8 4\ni4 13 3\ni5 17 4\ni6 22 4\ni7 27 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates crossfading opcodes: xfade, xfin, xfout", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; Manual crossfade\n    ; Two signals with complementary amplitude envelopes\n    \n    ; Source A\n    aOscA oscili 0.3, 220, -1\n    \n    ; Source B\n    aOscB vco2 0.3, 330, 10\n    \n    ; Crossfade parameter (0=A, 1=B)\n    kXfade linseg 0, p3*0.5, 1, p3*0.5, 0\n    \n    ; Equal power crossfade\n    kGainA = cos(kXfade * $M_PI / 2)\n    kGainB = sin(kXfade * $M_PI / 2)\n    \n    aMix = aOscA*kGainA + aOscB*kGainB\n    \n    outs aMix, aMix\nendin\n\ninstr 2\n    ; Linear crossfade\n    aOscA buzz 0.3, 165, 20, -1\n    aOscB vco2 0.3, 220, 0\n    \n    ; Linear crossfade (simpler but not equal power)\n    kXfade linseg 0, p3, 1\n    \n    aMix = aOscA*(1-kXfade) + aOscB*kXfade\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; Multi-source crossfade\n    ; Fade through multiple sources\n    \n    aSine oscili 0.3, 220, -1\n    aSaw vco2 0.3, 220, 0\n    aSq vco2 0.3, 220, 2, 0.5\n    aTri vco2 0.3, 220, 10\n    \n    ; Position in crossfade (0-3)\n    kPos linseg 0, p3, 3\n    \n    ; Calculate gains for each source\n    kG1 = (kPos < 1 ? 1-kPos : 0)\n    kG2 = (kPos >= 0 && kPos < 2 ? (kPos < 1 ? kPos : 2-kPos) : 0)\n    kG3 = (kPos >= 1 && kPos < 3 ? (kPos < 2 ? kPos-1 : 3-kPos) : 0)\n    kG4 = (kPos >= 2 ? kPos-2 : 0)\n    \n    aMix = aSine*kG1 + aSaw*kG2 + aSq*kG3 + aTri*kG4\n    \n    outs aMix, aMix\nendin\n\ninstr 4\n    ; Crossfade with filtering\n    ; As we fade, also change filter characteristics\n    \n    aIn vco2 0.4, 110, 0\n    \n    ; Two different filtered versions\n    aLow butterlp aIn, 500\n    aHigh butterlp aIn, 3000\n    \n    ; Crossfade\n    kXfade linseg 0, p3*0.5, 1, p3*0.5, 0\n    kGainA = sqrt(1-kXfade)  ; Equal power\n    kGainB = sqrt(kXfade)\n    \n    aMix = aLow*kGainA + aHigh*kGainB\n    \n    outs aMix, aMix\nendin\n\ninstr 5\n    ; Stereo crossfade\n    ; Different crossfade for L and R channels\n    \n    aOscA oscili 0.3, 330, -1\n    aOscB vco2 0.3, 440, 10\n    \n    ; Independent crossfade for each channel\n    kXfadeL linseg 0, p3, 1\n    kXfadeR linseg 1, p3, 0\n    \n    ; Equal power crossfade\n    kGainLA = cos(kXfadeL * $M_PI / 2)\n    kGainLB = sin(kXfadeL * $M_PI / 2)\n    kGainRA = cos(kXfadeR * $M_PI / 2)\n    kGainRB = sin(kXfadeR * $M_PI / 2)\n    \n    aLeft = aOscA*kGainLA + aOscB*kGainLB\n    aRight = aOscA*kGainRA + aOscB*kGainRB\n    \n    outs aLeft, aRight\nendin\n\ninstr 6\n    ; Rhythmic crossfade\n    ; Switch between sources rhythmically\n    \n    aOscA buzz 0.3, 220, 15, -1\n    aOscB vco2 0.3, 220, 2, 0.5\n    \n    ; LFO for rhythmic switching\n    kLFO lfo 1, 2, 0\n    kXfade = (kLFO + 1) * 0.5  ; Convert -1 to 1 range to 0 to 1\n    \n    ; Smooth the switching\n    kXfadeSmooth port kXfade, 0.05\n    \n    aMix = aOscA*(1-kXfadeSmooth) + aOscB*kXfadeSmooth\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 5 3\ni3 9 5\ni4 15 4\ni5 20 4\ni6 25 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates gain control opcodes: gain, amp, rms, balance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; gain opcode: ares gain asig, kgain [, iskip]\n    ; Apply k-rate gain with smoothing\n    ; kgain - gain multiplier\n    ; iskip - skip initialization\n    \n    aOsc oscili 0.5, 440, -1\n    \n    ; Time-varying gain\n    kGain linseg 0.1, p3*0.3, 1, p3*0.4, 0.5, p3*0.3, 0.2\n    \n    aOut gain aOsc, kGain\n    \n    outs aOut, aOut\nendin\n\ninstr 2\n    ; amp opcode: iamp amp iscale\n    ; Convert dB to amplitude\n    \n    ; Gain in dB\n    iGainDB = -6\n    iAmp amp iGainDB\n    \n    aOsc oscili iAmp, 330, -1\n    \n    outs aOsc, aOsc\nendin\n\ninstr 3\n    ; Manual gain control with dB conversion\n    aIn vco2 0.5, 220, 0\n    \n    ; Gain in dB, converted to linear\n    kGainDB linseg -20, p3*0.5, 0, p3*0.5, -12\n    kGain = ampdb(kGainDB)\n    \n    aOut = aIn * kGain\n    \n    outs aOut, aOut\nendin\n\ninstr 4\n    ; RMS-based automatic gain control\n    aIn buzz 0.5, 165, 20, -1\n    aIn *= linseg(0.3, p3*0.25, 1, p3*0.5, 0.5, p3*0.25, 0.8)\n    \n    ; Measure RMS level\n    kRMS rms aIn\n    \n    ; Target RMS level\n    kTarget = 0.3\n    \n    ; Calculate correction gain\n    kGain = (kRMS > 0.01 ? kTarget/kRMS : 1)\n    \n    ; Limit gain range\n    kGain limit kGain, 0.1, 3\n    \n    ; Apply with smoothing\n    kGainSmooth port kGain, 0.1\n    \n    aOut = aIn * kGainSmooth\n    \n    outs aIn*0.5, aOut*0.5\nendin\n\ninstr 5\n    ; balance opcode for consistent loudness\n    ; ares balance asig, acomp [, ihp] [, iskip]\n    \n    ; Variable amplitude source\n    aSource vco2 0.5, 220, 10\n    aSource *= linseg(0.2, p3*0.33, 1, p3*0.33, 0.4, p3*0.34, 0.7)\n    \n    ; Reference signal with constant amplitude\n    aRef oscili 0.3, 220, -1\n    \n    ; Balance to reference level\n    aBalanced balance aSource, aRef\n    \n    outs aSource*0.5, aBalanced*0.5\nendin\n\ninstr 6\n    ; Peak limiter\n    aIn buzz 0.8, 110, 30, -1\n    \n    ; Set ceiling\n    kCeiling = 0.5\n    \n    ; Measure peak\n    kPeak peak aIn\n    \n    ; Calculate gain reduction\n    kGain = (kPeak > kCeiling ? kCeiling/kPeak : 1)\n    \n    ; Smooth gain changes\n    kGainSmooth port kGain, 0.01\n    \n    aOut = aIn * kGainSmooth\n    \n    outs aIn*0.3, aOut*0.6\nendin\n\ninstr 7\n    ; Multi-band gain control\n    aIn vco2 0.5, 165, 0\n    \n    ; Split into bands\n    aLow butterlp aIn, 300\n    aMid butterbp aIn, 1000, 800\n    aHigh butterhp aIn, 2500\n    \n    ; Independent gain for each band\n    kGainLow = 0.8\n    kGainMid linseg 0.5, p3*0.5, 1.2, p3*0.5, 0.7\n    kGainHigh = 1.5\n    \n    ; Apply gains\n    aLow *= kGainLow\n    aMid *= kGainMid\n    aHigh *= kGainHigh\n    \n    ; Recombine\n    aMix = (aLow + aMid + aHigh) * 0.4\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 2\ni2 3 2\ni3 6 3\ni4 10 3\ni5 14 3\ni6 18 2\ni7 21 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates audio mixing opcodes: sum, product, diff, and manual mixing", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Global audio buses\nga1 init 0\nga2 init 0\nga3 init 0\n\ninstr 1\n    ; Basic manual mixing\n    ; Multiple oscillators mixed together\n    \n    aOsc1 oscili 0.15, 220, -1\n    aOsc2 oscili 0.15, 330, -1\n    aOsc3 oscili 0.15, 440, -1\n    aOsc4 oscili 0.15, 550, -1\n    \n    ; Simple sum\n    aMix = aOsc1 + aOsc2 + aOsc3 + aOsc4\n    \n    ; Scale to prevent clipping\n    aMix *= 0.5\n    \n    outs aMix, aMix\nendin\n\ninstr 2\n    ; Weighted mixing with envelopes\n    aOsc1 vco2 0.2, 165, 0\n    aOsc2 vco2 0.2, 220, 10\n    aOsc3 buzz 0.2, 110, 15, -1\n    \n    ; Time-varying mix levels\n    kMix1 linseg 1, p3*0.33, 0.3, p3*0.33, 0.8, p3*0.34, 0.5\n    kMix2 linseg 0.5, p3*0.33, 1, p3*0.33, 0.4, p3*0.34, 0.7\n    kMix3 linseg 0.7, p3*0.33, 0.6, p3*0.33, 1, p3*0.34, 0.6\n    \n    ; Weighted mix\n    aMix = (aOsc1*kMix1 + aOsc2*kMix2 + aOsc3*kMix3) * 0.4\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; sum opcode: aout sum ain1, ain2, ain3, ...\n    ; Explicit sum of multiple signals\n    \n    aSaw vco2 0.15, 220, 0\n    aSq vco2 0.15, 220, 2, 0.5\n    aTri vco2 0.15, 220, 10\n    aSine oscili 0.15, 220, -1\n    \n    ; Sum all waveforms\n    aMix sum aSaw, aSq, aTri, aSine\n    \n    ; Normalize\n    aMix *= 0.4\n    \n    outs aMix, aMix\nendin\n\ninstr 4\n    ; Product mixing (ring modulation)\n    ; product opcode: aout product ain1, ain2\n    \n    aCarrier oscili 0.5, 440, -1\n    kModFreq linseg 20, p3, 200\n    aModulator oscili 1, kModFreq, -1\n    \n    ; Multiply signals\n    aRM product aCarrier, aModulator\n    \n    outs aCarrier*0.3, aRM*0.5\nendin\n\ninstr 5\n    ; diff opcode: aout diff ain1, ain2\n    ; Difference between signals\n    \n    aOsc1 oscili 0.3, 220, -1\n    aOsc2 oscili 0.3, 225, -1  ; Slightly detuned\n    \n    ; Difference creates beating effect\n    aDiff diff aOsc1, aOsc2\n    \n    ; Sum for comparison\n    aSum = aOsc1 + aOsc2\n    \n    outs aSum*0.3, aDiff*0.5\nendin\n\ninstr 6\n    ; Bus mixing with global audio\n    ; Send to buses\n    aOsc1 oscili 0.2, 330, -1\n    aOsc2 vco2 0.2, 440, 10\n    \n    ; Send to global buses\n    ga1 = ga1 + aOsc1*0.7\n    ga2 = ga2 + aOsc2*0.5\n    ga3 = ga3 + (aOsc1+aOsc2)*0.3\nendin\n\ninstr 7\n    ; Master mixer - reads from buses\n    \n    ; Mix buses\n    aMix = ga1 + ga2*0.8 + ga3*0.6\n    \n    ; Apply master processing\n    aMix butterlp aMix, 3000\n    aMix *= 0.8\n    \n    outs aMix, aMix\n    \n    ; Clear buses\n    ga1 = 0\n    ga2 = 0\n    ga3 = 0\nendin\n\ninstr 8\n    ; Parallel processing mix\n    aIn vco2 0.3, 220, 0\n    \n    ; Process in parallel\n    aDry = aIn\n    aLP butterlp aIn, 800\n    aHP butterhp aIn, 2000\n    aBP butterbp aIn, 1200, 400\n    \n    ; Mix parallel chains\n    aMix = aDry*0.3 + aLP*0.4 + aHP*0.2 + aBP*0.3\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 2\ni2 3 3\ni3 7 2\ni4 10 3\ni5 14 3\n\n; Bus mixing example\ni6 18 2\ni7 18 2.5\n\ni8 22 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates soundfile processing opcodes: filescal, filesr, filelen, filepeak, filenchnls", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; filesr opcode: ir filesr ifilname\n    ; Get sample rate of soundfile\n    ; ifilname - filename\n    \n    ; Note: In practice would read actual file\n    ; Simulating file info retrieval\n    \n    ; Simulated file sample rate\n    iFileSR = 44100\n    \n    ; Generate tone at file's sample rate\n    aOsc oscili 0.3, 440, -1\n    \n    ; Display info (simulated)\n    prints \"Sample rate: %d\\n\", iFileSR\n    \n    outs aOsc, aOsc\nendin\n\ninstr 2\n    ; filelen opcode: ir filelen ifilname\n    ; Get length of soundfile in seconds\n    ; ifilname - filename\n    \n    ; Simulated file length\n    iFileLen = 5.5\n    \n    prints \"File length: %.2f seconds\\n\", iFileLen\n    \n    ; Generate tone for a portion of the file length\n    aOsc vco2 0.3, 330, 10\n    aEnv linseg 1, p3*0.9, 1, p3*0.1, 0\n    \n    outs aOsc*aEnv, aOsc*aEnv\nendin\n\ninstr 3\n    ; filepeak opcode: ir filepeak ifilname\n    ; Get peak amplitude of soundfile\n    ; ifilname - filename\n    \n    ; Simulated peak value\n    iFilePeak = 0.78\n    \n    prints \"File peak: %.3f\\n\", iFilePeak\n    \n    ; Normalize based on peak\n    iNormGain = 0.8 / iFilePeak\n    \n    aOsc buzz 0.3, 220, 20, -1\n    aOut = aOsc * iNormGain\n    \n    outs aOut, aOut\nendin\n\ninstr 4\n    ; filenchnls opcode: ir filenchnls ifilname\n    ; Get number of channels in soundfile\n    ; ifilname - filename\n    \n    ; Simulated channel count\n    iNumChans = 2\n    \n    prints \"File channels: %d\\n\", iNumChans\n    \n    ; Generate stereo or mono based on file\n    if iNumChans == 2 then\n        ; Stereo\n        aL oscili 0.3, 440, -1\n        aR vco2 0.3, 550, 10\n        outs aL, aR\n    else\n        ; Mono\n        aMono oscili 0.3, 440, -1\n        outs aMono, aMono\n    endif\nendin\n\ninstr 5\n    ; filescal opcode: filescal ifilno, kscal, itype\n    ; Scale amplitude of soundfile\n    ; ifilno - file number\n    ; kscal - scaling factor\n    ; itype - interpolation type\n    \n    ; Note: This works with soundfile in table\n    ; Simulating scaled playback\n    \n    ; Scaling factor\n    kScale linseg 0.5, p3*0.5, 1.5, p3*0.5, 0.8\n    \n    ; Generate signal to scale\n    aOsc vco2 0.3, 165, 0\n    \n    ; Apply scaling\n    aScaled = aOsc * kScale\n    \n    outs aOsc*0.4, aScaled*0.6\nendin\n\ninstr 6\n    ; Combined file info usage\n    ; Simulating reading file and adapting playback\n    \n    ; Simulated file properties\n    iFileSR = 48000\n    iFileLen = 3.2\n    iFilePeak = 0.65\n    iNumChans = 1\n    \n    ; Print all info\n    prints \"\\nFile Info:\\n\"\n    prints \"  Sample Rate: %d Hz\\n\", iFileSR\n    prints \"  Length: %.2f seconds\\n\", iFileLen\n    prints \"  Peak: %.3f\\n\", iFilePeak\n    prints \"  Channels: %d\\n\\n\", iNumChans\n    \n    ; Adapt playback\n    ; Normalize gain\n    iGain = 0.7 / iFilePeak\n    \n    ; Playback simulation\n    aOsc buzz 0.3, 220, 25, -1\n    aOut = aOsc * iGain\n    \n    ; Envelope based on file length\n    aEnv linseg 1, iFileLen-0.5, 1, 0.5, 0\n    aOut *= aEnv\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 2\ni2 3 2\ni3 6 2\ni4 9 2\ni5 12 3\ni6 16 3.2\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates soundfile analysis and adaptive processing based on file properties", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; Adaptive sample rate conversion\n    ; Adjust playback based on file sample rate\n    \n    iFileSR = 22050  ; Simulated file SR\n    iTargetSR = sr\n    \n    ; Pitch correction factor\n    iRatio = iTargetSR / iFileSR\n    \n    prints \"SR conversion ratio: %.3f\\n\", iRatio\n    \n    ; Generate at corrected frequency\n    aOsc oscili 0.3, 440*iRatio, -1\n    \n    outs aOsc, aOsc\nendin\n\ninstr 2\n    ; Auto-normalize based on peak\n    ; Multiple files with different peaks\n    \n    ; Simulated file peaks\n    iPeak1 = 0.95\n    iPeak2 = 0.45\n    iPeak3 = 0.62\n    \n    ; Target level\n    iTargetLevel = 0.8\n    \n    ; Calculate gains\n    iGain1 = iTargetLevel / iPeak1\n    iGain2 = iTargetLevel / iPeak2\n    iGain3 = iTargetLevel / iPeak3\n    \n    ; Simulate normalized playback\n    kTime line 0, p3, 3\n    \n    kGain = (kTime < 1 ? iGain1 : (kTime < 2 ? iGain2 : iGain3))\n    \n    aOsc vco2 0.5, 220, 10\n    aOut = aOsc * kGain\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; Adaptive processing based on file length\n    ; Adjust effect parameters based on duration\n    \n    iFileLen = 8.5  ; Simulated length\n    \n    ; Scale reverb time based on file length\n    iRevTime = iFileLen * 0.3\n    \n    prints \"Reverb time: %.2f seconds\\n\", iRevTime\n    \n    aOsc buzz 0.3, 330, 15, -1\n    aOsc *= expseg(1, 0.1, 0.5, p3-0.1, 0.001)\n    \n    aRev reverb aOsc, iRevTime\n    \n    outs aOsc*0.6, aRev*0.4\nendin\n\ninstr 4\n    ; Multi-channel adaptive routing\n    \n    iNumChans = 4  ; Simulated quad file\n    \n    prints \"File channels: %d\\n\", iNumChans\n    \n    ; Generate appropriate output\n    if iNumChans == 1 then\n        ; Mono - duplicate to stereo\n        aMono oscili 0.3, 440, -1\n        outs aMono, aMono\n    elseif iNumChans == 2 then\n        ; Stereo - direct output\n        aL oscili 0.3, 440, -1\n        aR vco2 0.3, 550, 10\n        outs aL, aR\n    else\n        ; Multi-channel - downmix to stereo\n        aL = (oscili(0.2, 440, -1) + vco2(0.2, 550, 10)) * 0.7\n        aR = (oscili(0.2, 660, -1) + vco2(0.2, 770, 10)) * 0.7\n        outs aL, aR\n    endif\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 2\ni2 3 3\ni3 7 3\ni4 11 2\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates ambisonic opcodes: bformenc, bformenc1, bformdec, bformdec1, bformdec2", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; bformenc opcode: aw, ax, ay, az bformenc asig, kalpha, kbeta\n    ; Encode mono signal to B-format (1st order ambisonics)\n    ; asig - input signal\n    ; kalpha - azimuth angle (0-360 degrees)\n    ; kbeta - elevation angle (-90 to 90 degrees)\n    ; Returns: W, X, Y, Z components\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Oscillator\n    aOsc oscili kAmp*0.3, 440, -1, 0\n    \n    ; Sweep azimuth\n    kAzimuth linseg 0, p3, 360\n    kElevation = 0\n    \n    ; Encode to B-format\n    aW, aX, aY, aZ bformenc aOsc, kAzimuth, kElevation\n    \n    ; Simple stereo decode (X for left-right)\n    aL = aW + aX\n    aR = aW - aX\n    \n    outs aL*0.7, aR*0.7\nendin\n\ninstr 2\n    ; bformenc1 opcode: aw, ax, ay, az, ar, as, at, au, av bformenc1 asig, kalpha, kbeta\n    ; 2nd order ambisonic encoding\n    ; Returns additional components for 2nd order\n    \n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 330, 2, 0.4\n    \n    ; Circular motion\n    kAngle linseg 0, p3, 6.283*2\n    kAzimuth = kAngle * 57.2958  ; radians to degrees\n    kElevation linseg -30, p3*0.5, 30, p3*0.5, -30\n    \n    ; Encode (1st order for compatibility)\n    aW, aX, aY, aZ bformenc aPulse, kAzimuth, kElevation\n    \n    ; Stereo decode\n    aL = aW + aX\n    aR = aW - aX\n    \n    outs aL*0.7, aR*0.7\nendin\n\ninstr 3\n    ; bformdec opcode: a1, a2, a3, a4 bformdec isetup, aw, ax, ay, az\n    ; Decode B-format to speaker array\n    ; isetup - speaker setup (1-5)\n    ; aw, ax, ay, az - B-format components\n    \n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.25, 220, 0\n    \n    ; Encode with elevation\n    kAzimuth linseg 0, p3*0.5, 180, p3*0.5, 360\n    kElevation = 15\n    \n    aW, aX, aY, aZ bformenc aSaw, kAzimuth, kElevation\n    \n    ; Manual stereo decode\n    aL = aW + aX*0.707\n    aR = aW - aX*0.707\n    \n    outs aL*0.7, aR*0.7\nendin\n\ninstr 4\n    ; Multiple sources in ambisonic field\n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Three oscillators\n    aOsc1 oscili kAmp*0.15, 220, -1, 0\n    aOsc2 oscili kAmp*0.15, 330, -1, 0\n    aOsc3 oscili kAmp*0.15, 440, -1, 0\n    \n    ; Different positions\n    kAz1 = 0     ; Front\n    kAz2 = 120   ; Right rear\n    kAz3 = 240   ; Left rear\n    kEl = 0\n    \n    ; Encode each source\n    aW1, aX1, aY1, aZ1 bformenc aOsc1, kAz1, kEl\n    aW2, aX2, aY2, aZ2 bformenc aOsc2, kAz2, kEl\n    aW3, aX3, aY3, aZ3 bformenc aOsc3, kAz3, kEl\n    \n    ; Mix B-format channels\n    aW = aW1 + aW2 + aW3\n    aX = aX1 + aX2 + aX3\n    aY = aY1 + aY2 + aY3\n    aZ = aZ1 + aZ2 + aZ3\n    \n    ; Decode to stereo\n    aL = aW + aX*0.707\n    aR = aW - aX*0.707\n    \n    outs aL*0.7, aR*0.7\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 4.5 5\ni3 10 4\ni4 14.5 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the doppler opcode for Doppler shift simulation", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; doppler opcode: aout doppler ain, ksourceposition, kmicposition [, isoundspeed, ifiltercutoff]\n    ; Simulates Doppler shift for moving sound source\n    ; ain - input signal\n    ; ksourceposition - source position (distance)\n    ; kmicposition - microphone position (usually 0)\n    ; isoundspeed - speed of sound (default 340.29 m/s)\n    ; ifiltercutoff - filter cutoff for interpolation\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Constant frequency source\n    aOsc oscili kAmp*0.3, 440, -1, 0\n    \n    ; Source moving past listener\n    kSourcePos linseg -50, p3*0.3, -5, p3*0.4, 5, p3*0.3, 50\n    kMicPos = 0\n    \n    ; Apply Doppler\n    aDoppler doppler aOsc, kSourcePos, kMicPos\n    \n    outs aDoppler, aDoppler\nendin\n\ninstr 2\n    ; Fast-moving source\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.3, 330, 0\n    \n    ; Fast approach and departure\n    kSourcePos linseg -80, p3*0.2, -10, p3*0.6, 10, p3*0.2, 80\n    kMicPos = 0\n    iSoundSpeed = 340.29\n    \n    aDoppler doppler aSaw, kSourcePos, kMicPos, iSoundSpeed\n    \n    outs aDoppler, aDoppler\nendin\n\ninstr 3\n    ; Circular motion (simulated)\n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 220, 2, 0.4\n    \n    ; Circular path\n    kAngle linseg 0, p3, 6.283*2\n    kRadius = 20\n    kX = cos(kAngle) * kRadius\n    kZ = sin(kAngle) * kRadius\n    kSourcePos = sqrt(kX*kX + kZ*kZ)\n    \n    kMicPos = 0\n    \n    aDoppler doppler aPulse, kSourcePos, kMicPos\n    \n    ; Pan based on angle\n    kPan = (cos(kAngle) + 1) * 0.5\n    aL, aR pan aDoppler, kPan\n    \n    outs aL, aR\nendin\n\ninstr 4\n    ; Doppler with distance attenuation\n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Square wave\n    aSq vco2 kAmp*0.4, 165, 2\n    \n    ; Source motion\n    kSourcePos linseg -60, p3*0.25, -3, p3*0.5, 3, p3*0.25, 60\n    kMicPos = 0\n    \n    ; Apply Doppler\n    aDoppler doppler aSq, kSourcePos, kMicPos\n    \n    ; Distance attenuation\n    kDist = abs(kSourcePos) + 3\n    kAtten = 10 / (kDist + 1)\n    kAtten limit kAtten, 0, 1\n    \n    aOut = aDoppler * kAtten\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 5\ni2 5.5 4\ni3 10 6\ni4 16.5 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates HRTF spatialization opcodes: hrtfmove, hrtfmove2, hrtfstat, hrtfer", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; hrtfstat opcode: aleft, aright hrtfstat asrc, iAz, iElev, ifilel, ifiler [, iradius, isr]\n    ; Static HRTF processing\n    ; asrc - input signal\n    ; iAz - azimuth angle (degrees, -180 to 180)\n    ; iElev - elevation angle (degrees, -40 to 90)\n    ; ifilel, ifiler - HRTF data files for left/right\n    ; iradius - head radius (optional)\n    ; isr - sample rate (optional)\n    ; Note: Requires HRTF data files\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Oscillator\n    aOsc oscili kAmp*0.3, 440, -1, 0\n    \n    ; Simulated HRTF with simple panning and filtering\n    iAz = 45  ; 45 degrees right\n    iElev = 0\n    \n    ; Pan based on azimuth\n    kPan = (iAz + 180) / 360\n    aL, aR pan aOsc, kPan\n    \n    ; Simple high-frequency boost for elevation simulation\n    if iElev > 0 then\n        aL buttone aL, 8000\n        aR butthp aR, 8000\n    endif\n    \n    outs aL, aR\nendin\n\ninstr 2\n    ; hrtfmove opcode: aleft, aright hrtfmove asrc, kAz, kElev, ifilel, ifiler [, imode, ifade, isr]\n    ; Moving HRTF processing\n    ; asrc - input signal\n    ; kAz - azimuth (k-rate, degrees)\n    ; kElev - elevation (k-rate, degrees)\n    ; ifilel, ifiler - HRTF files\n    ; imode - processing mode\n    ; ifade - crossfade time\n    ; Note: Requires HRTF data files\n    \n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 330, 2, 0.4\n    \n    ; Sweep azimuth\n    kAz linseg -90, p3*0.5, 90, p3*0.5, -90\n    kElev = 0\n    \n    ; Simulated with dynamic panning\n    kPan = (kAz + 180) / 360\n    aL, aR pan aPulse, kPan\n    \n    ; Add distance cues\n    kDist = abs(kAz) / 90\n    kAtten = 1 - kDist*0.3\n    \n    outs aL*kAtten, aR*kAtten\nendin\n\ninstr 3\n    ; hrtfmove2 opcode: aleft, aright hrtfmove2 asrc, iAz, iElev, ifilel, ifiler [, iradius, isr]\n    ; Interpolated HRTF\n    ; Similar to hrtfstat but with interpolation\n    \n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.25, 220, 0\n    \n    ; Fixed position\n    iAz = -60  ; Left front\n    iElev = 20  ; Slightly elevated\n    \n    ; Simulated positioning\n    kPan = (iAz + 180) / 360\n    aL, aR pan aSaw, kPan\n    \n    ; Elevation filtering\n    aL butthp aL, 5000\n    aR butthp aR, 5000\n    \n    outs aL, aR\nendin\n\ninstr 4\n    ; hrtfer opcode: aleft, aright hrtfer asrc, iAz, iElev, ifname [, iradius, isr]\n    ; HRTF from single data file\n    ; ifname - combined HRTF data file\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Square wave\n    aSq vco2 kAmp*0.3, 165, 2\n    \n    ; Position\n    iAz = 30\n    iElev = -15  ; Below horizon\n    \n    ; Simulated\n    kPan = (iAz + 180) / 360\n    aL, aR pan aSq, kPan\n    \n    ; Simulate below-horizon with low-pass\n    if iElev < 0 then\n        aL butlp aL, 4000\n        aR butlp aR, 4000\n    endif\n    \n    outs aL, aR\nendin\n\ninstr 5\n    ; Circular HRTF motion\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Impulse train\n    aImp mpulse kAmp*0.4, 1.5\n    \n    ; Circular motion\n    kAngle linseg 0, p3, 6.283*3\n    kAz = sin(kAngle) * 180\n    kElev = cos(kAngle*2) * 30\n    \n    ; Dynamic panning\n    kPan = (kAz + 180) / 360\n    aL, aR pan aImp, kPan\n    \n    ; Elevation filtering\n    kCutoff = 3000 + kElev*50\n    aL butlp aL, kCutoff\n    aR butlp aR, kCutoff\n    \n    outs aL, aR\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 3.5 5\ni3 9 3\ni4 12.5 3\ni5 16 6\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates panning opcodes: pan, pan2, space, spsend, spat3d, spat3di, spat3dt", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; pan opcode: a1, a2 pan asig, kpan [, itype]\n    ; Simple stereo panning\n    ; asig - input signal\n    ; kpan - pan position (0=left, 1=right)\n    ; itype - pan law (0=equal power, 1=linear, default 0)\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Oscillator\n    aOsc oscili kAmp*0.3, 440, -1, 0\n    \n    ; Sweep pan\n    kPan linseg 0, p3*0.5, 1, p3*0.5, 0\n    \n    aL, aR pan aOsc, kPan\n    \n    outs aL, aR\nendin\n\ninstr 2\n    ; pan2 opcode: a1, a2, a3, a4 pan2 asig, xp, yp [, imode]\n    ; Quadraphonic panning\n    ; asig - input signal\n    ; xp, yp - x and y position (-1 to 1)\n    ; imode - mode (optional)\n    \n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 330, 2, 0.4\n    \n    ; Circular motion\n    kAngle linseg 0, p3, 6.283\n    kX = cos(kAngle)\n    kY = sin(kAngle)\n    \n    a1, a2, a3, a4 pan2 aPulse, kX, kY\n    \n    ; Output to stereo (mix quad channels)\n    aL = a1 + a3\n    aR = a2 + a4\n    \n    outs aL, aR\nendin\n\ninstr 3\n    ; space opcode: a1, a2, a3, a4 space asig, ifn, kx, ky, kz [, inum]\n    ; 3D spatialization using HRTF-like approach\n    ; asig - input signal\n    ; ifn - function table for spatial info\n    ; kx, ky, kz - 3D position\n    ; inum - number of outputs (default 4)\n    \n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.25, 220, 0\n    \n    ; 3D motion\n    kAngle linseg 0, p3, 6.283\n    kX = cos(kAngle) * 0.8\n    kY = sin(kAngle) * 0.8\n    kZ = 0\n    \n    ; Simulated with pan\n    kPan = (kX + 1) * 0.5\n    aL, aR pan aSaw, kPan\n    \n    outs aL, aR\nendin\n\ninstr 4\n    ; spsend opcode: spsend\n    ; Send signal to space (used with space opcode)\n    ; Simplified example with pan\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Square wave\n    aSq vco2 kAmp*0.3, 165, 2\n    \n    ; Dynamic panning\n    kLFO oscili 0.5, 0.4, -1, 0\n    kPan = 0.5 + kLFO\n    \n    aL, aR pan aSq, kPan\n    \n    outs aL, aR\nendin\n\ninstr 5\n    ; spat3d opcode: a1, a2, a3, a4 spat3d asig, xdist, ycoord, zcoord, \\ \n    ;                idist, ift, imode, imdel, iovr [, istor]\n    ; 3D spatialization with distance attenuation\n    ; asig - input signal\n    ; xdist - x distance\n    ; ycoord - y coordinate\n    ; zcoord - z coordinate\n    ; idist - distance units\n    ; ift - function table\n    ; imode - mode\n    ; imdel - max delay\n    ; iovr - overlap\n    \n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Impulse train\n    aImp mpulse kAmp*0.5, 1.5\n    \n    ; Moving source\n    kX linseg -1, p3, 1\n    kY = 0\n    \n    ; Distance attenuation\n    kDist = sqrt(kX*kX + kY*kY + 1)\n    kAtten = 1 / (kDist + 0.5)\n    \n    ; Pan based on position\n    kPan = (kX + 1) * 0.5\n    aL, aR pan aImp*kAtten, kPan\n    \n    outs aL, aR\nendin\n\ninstr 6\n    ; Multiple moving sources\n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Three oscillators\n    aOsc1 oscili kAmp*0.15, 220, -1, 0\n    aOsc2 oscili kAmp*0.15, 330, -1, 0\n    aOsc3 oscili kAmp*0.15, 440, -1, 0\n    \n    ; Different pan movements\n    kPan1 linseg 0, p3, 1\n    kPan2 linseg 1, p3, 0\n    kPan3 linseg 0.5, p3*0.5, 0, p3*0.5, 1\n    \n    aL1, aR1 pan aOsc1, kPan1\n    aL2, aR2 pan aOsc2, kPan2\n    aL3, aR3 pan aOsc3, kPan3\n    \n    aL = aL1 + aL2 + aL3\n    aR = aR1 + aR2 + aR3\n    \n    outs aL, aR\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 4.5 4\ni3 9 4\ni4 13.5 4\ni5 18 4\ni6 22.5 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates bin processing opcodes: pvsbin, pvsbinread, pvsinfo, pvscent", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; pvsbin opcode: kamp, kfr pvsbin fsig, kbin\n    ; Read amplitude and frequency of individual bin\n    ; kbin - bin number to read\n    \n    aIn buzz 0.3, 220, 20, -1\n    \n    ; Analyze\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Read specific bin (around fundamental)\n    kBin = 5  ; Bin 5 â 215 Hz (sr/N * bin)\n    kAmp, kFr pvsbin fsig, kBin\n    \n    ; Use bin data to control synthesis\n    aOsc oscili kAmp*8, kFr, -1\n    \n    ; Also synthesize original\n    aOrig pvsynth fsig\n    \n    outs aOrig*0.4, aOsc*0.6\nendin\n\ninstr 2\n    ; Multiple bin reading\n    ; Track several bins simultaneously\n    \n    aIn vco2 0.3, 165, 0\n    \n    ; Analyze\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Read multiple bins\n    kAmp1, kFr1 pvsbin fsig, 4   ; Fundamental region\n    kAmp2, kFr2 pvsbin fsig, 8   ; Second harmonic region\n    kAmp3, kFr3 pvsbin fsig, 12  ; Third harmonic region\n    \n    ; Synthesize from bin data\n    aOsc1 oscili kAmp1*5, kFr1, -1\n    aOsc2 oscili kAmp2*5, kFr2, -1\n    aOsc3 oscili kAmp3*5, kFr3, -1\n    \n    aMix = (aOsc1 + aOsc2 + aOsc3) * 0.4\n    \n    ; Original\n    aOrig pvsynth fsig\n    \n    outs aOrig*0.4, aMix*0.6\nendin\n\ninstr 3\n    ; pvsinfo opcode: iolaps, iwinsize, iformat pvsinfo ifn\n    ; Get information about PVS signal\n    ; Note: This is i-rate, informational\n    \n    aIn buzz 0.3, 330, 15, -1\n    \n    ; Analyze with specific parameters\n    fsig pvsanal aIn, 2048, 512, 2048, 1\n    \n    ; In practice, pvsinfo would tell us:\n    ; - Number of overlaps\n    ; - Window size\n    ; - Format\n    \n    ; Synthesize\n    aOut pvsynth fsig\n    \n    outs aOut, aOut\nendin\n\ninstr 4\n    ; pvscent opcode: kcent pvscent fsig\n    ; Calculate spectral centroid\n    \n    aIn vco2 0.3, 220, 10\n    aIn *= linseg(1, p3*0.5, 0.3, p3*0.5, 1)\n    \n    ; Analyze\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Get centroid\n    kCent pvscent fsig\n    \n    ; Use centroid to control filter\n    aOrig pvsynth fsig\n    aFilt butterlp aOrig, kCent*3\n    \n    outs aOrig*0.5, aFilt*0.5\nendin\n\ninstr 5\n    ; Bin manipulation\n    ; Read, modify, and resynthesize specific bins\n    \n    aIn vco2 0.3, 165, 0\n    \n    ; Analyze\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Read and track fundamental bin\n    kBin = 4\n    kAmp, kFr pvsbin fsig, kBin\n    \n    ; Modify frequency (detune)\n    kFrMod = kFr * 1.02\n    \n    ; Create modified tone\n    aOrig pvsynth fsig\n    aModified oscili kAmp*6, kFrMod, -1\n    \n    outs aOrig*0.4, aModified*0.6\nendin\n\ninstr 6\n    ; Spectral analysis using bins\n    ; Detect strongest bins\n    \n    aIn buzz 0.3, 110, 30, -1\n    \n    ; Analyze\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Sample several bins to find peaks\n    kAmp1, kFr1 pvsbin fsig, 2\n    kAmp2, kFr2 pvsbin fsig, 4\n    kAmp3, kFr3 pvsbin fsig, 6\n    kAmp4, kFr4 pvsbin fsig, 8\n    \n    ; Find strongest\n    kMaxAmp max kAmp1, kAmp2, kAmp3, kAmp4\n    \n    ; Use for dynamics control\n    aOrig pvsynth fsig\n    aOut = aOrig * (1 + kMaxAmp*2)\n    aOut *= 0.4\n    \n    outs aOrig*0.5, aOut*0.5\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 4 3\ni3 8 2\ni4 11 4\ni5 16 3\ni6 20 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates spectral blurring and smearing opcodes: pvsblur, pvsmooth, pvsmorph", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; pvsblur opcode: fsig pvsblur fsigin, kblurtime, imaxdel\n    ; Temporal spectral blurring\n    ; kblurtime - amount of blur (seconds)\n    ; imaxdel - maximum delay time for blur buffer\n    \n    aIn buzz 0.3, 220, 20, -1\n    aIn *= linseg(1, 0.05, 0.3, 0.15, 1, 0.2, 0.5, p3-0.4, 0.5)\n    \n    ; Analyze\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Apply increasing blur\n    kBlur linseg 0, p3*0.5, 1, p3*0.5, 0.1\n    fblurred pvsblur fsig, kBlur, 2\n    \n    ; Synthesize\n    aOut pvsynth fblurred\n    \n    outs aIn*0.4, aOut*0.6\nendin\n\ninstr 2\n    ; Heavy blur for ambient textures\n    aIn vco2 0.3, 165, 0\n    aIn *= expseg(1, 0.01, 0.5, 0.2, 1, p3-0.21, 0.3)\n    \n    ; Analyze\n    fsig pvsanal aIn, 2048, 512, 2048, 1\n    \n    ; Long blur time\n    kBlur = 2.5\n    fblurred pvsblur fsig, kBlur, 5\n    \n    ; Synthesize\n    aOut pvsynth fblurred\n    \n    outs aIn*0.3, aOut*0.7\nendin\n\ninstr 3\n    ; pvsmooth opcode: fsig pvsmooth fsigin, kacf, kfcf\n    ; Smooth spectral evolution\n    ; kacf - amplitude coefficient smoothing (0-1)\n    ; kfcf - frequency coefficient smoothing (0-1)\n    \n    aIn buzz 0.3, 330, 25, -1\n    aIn *= linseg(0.5, 0.1, 1, 0.2, 0.3, p3-0.3, 0.6)\n    \n    ; Analyze\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Smooth amplitudes and frequencies\n    kAcf linseg 0, p3*0.5, 0.9, p3*0.5, 0.2\n    kFcf = 0.5\n    fsmooth pvsmooth fsig, kAcf, kFcf\n    \n    ; Synthesize\n    aOut pvsynth fsmooth\n    \n    outs aIn*0.4, aOut*0.6\nendin\n\ninstr 4\n    ; pvsmorph opcode: fsig pvsmorph fsig1, fsig2, kampint, kfrqint\n    ; Morph between two spectra\n    ; kampint - amplitude interpolation (0-1)\n    ; kfrqint - frequency interpolation (0-1)\n    \n    ; Two sources\n    aIn1 oscili 0.25, 220, -1\n    aIn2 vco2 0.25, 330, 10\n    \n    ; Analyze\n    fsig1 pvsanal aIn1, 1024, 256, 1024, 1\n    fsig2 pvsanal aIn2, 1024, 256, 1024, 1\n    \n    ; Morph between them\n    kMorph linseg 0, p3*0.5, 1, p3*0.5, 0\n    fmorph pvsmorph fsig1, fsig2, kMorph, kMorph\n    \n    ; Synthesize\n    aOut pvsynth fmorph\n    \n    outs aOut, aOut\nendin\n\ninstr 5\n    ; Frequency smearing\n    ; Blur creates temporal smearing\n    \n    aIn vco2 0.3, 110, 2, 0.5\n    aIn *= linseg(1, 0.1, 0.4, 0.15, 1, p3-0.25, 0.6)\n    \n    ; Analyze\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Extreme blur for smearing effect\n    fsmeared pvsblur fsig, 1.5, 3\n    \n    ; Also smooth\n    fsmooth pvsmooth fsmeared, 0.7, 0.8\n    \n    ; Synthesize\n    aOut pvsynth fsmooth\n    \n    outs aIn*0.3, aOut*0.7\nendin\n\ninstr 6\n    ; Spectral freezing with blur\n    ; Combination of freeze and blur for textural effects\n    \n    aIn buzz 0.3, 165, 30, -1\n    \n    ; Analyze\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Freeze spectrum periodically\n    kFreeze linseg 0, p3*0.25, 0, 0.01, 1, p3*0.5, 1, 0.01, 0, p3*0.25-0.02, 0\n    ffrz pvsfreeze fsig, kFreeze, kFreeze\n    \n    ; Blur the frozen spectrum\n    fblurred pvsblur ffrz, 0.8, 2\n    \n    ; Synthesize\n    aOut pvsynth fblurred\n    \n    outs aIn*0.3, aOut*0.7\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 5 5\ni3 11 4\ni4 16 4\ni5 21 4\ni6 26 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates spectral gating and masking opcodes: pvsgain, pvstencil, pvsmaska, pvsgate", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function tables for spectral masks\ngiMask1 ftgen 0, 0, 512, 7, 1, 100, 1, 50, 0, 100, 0, 50, 0.5, 100, 0.5, 112, 0\ngiMask2 ftgen 0, 0, 512, 7, 0, 50, 0, 50, 1, 100, 1, 50, 0.3, 150, 0.3, 112, 0\n\ninstr 1\n    ; pvsgain opcode: fsig pvsgain fsigin, kgain\n    ; Simple spectral gain\n    ; kgain - overall gain factor\n    \n    aIn buzz 0.5, 220, 25, -1\n    \n    ; Analyze\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Variable gain\n    kGain linseg 1, p3*0.5, 0.2, p3*0.5, 1\n    fgain pvsgain fsig, kGain\n    \n    ; Synthesize\n    aOut pvsynth fgain\n    \n    outs aIn*0.5, aOut*0.5\nendin\n\ninstr 2\n    ; pvstencil opcode: fsig pvstencil fsigin, kgain, klevel, iftable\n    ; Spectral gating using stencil (frequency-dependent gain)\n    ; kgain - overall gain\n    ; klevel - threshold level\n    ; iftable - stencil table\n    \n    aIn vco2 0.3, 330, 0\n    \n    ; Analyze\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Apply stencil mask\n    kGain = 1.2\n    kLevel linseg 0, p3*0.5, 0.5, p3*0.5, 0\n    fstenc pvstencil fsig, kGain, kLevel, giMask1\n    \n    ; Synthesize\n    aOut pvsynth fstenc\n    \n    outs aIn*0.5, aOut*0.5\nendin\n\ninstr 3\n    ; pvsmaska opcode: fsig pvsmaska fsig, fmask, kdepth\n    ; Spectral masking using another signal\n    ; fmask - masking spectrum\n    ; kdepth - masking depth (0-1)\n    \n    ; Main signal\n    aMain vco2 0.3, 220, 10\n    \n    ; Masking signal (noise)\n    aMask rand 0.2\n    aMask butterlp aMask, 3000\n    \n    ; Analyze both\n    fMain pvsanal aMain, 1024, 256, 1024, 1\n    fMask pvsanal aMask, 1024, 256, 1024, 1\n    \n    ; Apply masking\n    kDepth linseg 0, p3*0.3, 0.95, p3*0.4, 0.95, p3*0.3, 0\n    fmasked pvsmaska fMain, fMask, kDepth\n    \n    ; Synthesize\n    aOut pvsynth fmasked\n    \n    outs aMain*0.4, aOut*0.6\nendin\n\ninstr 4\n    ; Spectral gate (threshold-based)\n    ; Keep only bins above threshold\n    \n    aIn buzz 0.3, 165, 30, -1\n    aIn += rand(0.05)  ; Add noise\n    \n    ; Analyze\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Gate with threshold\n    kThresh linseg 0, p3*0.5, 0.3, p3*0.5, 0.05\n    fgated pvstencil fsig, 1, kThresh, -1  ; -1 = sine window\n    \n    ; Synthesize\n    aOut pvsynth fgated\n    \n    outs aIn*0.4, aOut*0.6\nendin\n\ninstr 5\n    ; Dynamic spectral masking\n    ; Mask changes over time\n    \n    aIn vco2 0.3, 110, 0\n    \n    ; Create dynamic mask signal\n    kMaskFreq linseg 50, p3, 500\n    aMask oscili 0.3, kMaskFreq, -1\n    \n    ; Analyze\n    fIn pvsanal aIn, 1024, 256, 1024, 1\n    fMask pvsanal aMask, 1024, 256, 1024, 1\n    \n    ; Mask with varying depth\n    kDepth lfo 0.5, 1, 0\n    kDepth = (kDepth + 1) * 0.5  ; 0 to 1\n    fmasked pvsmaska fIn, fMask, kDepth\n    \n    ; Synthesize\n    aOut pvsynth fmasked\n    \n    outs aIn*0.4, aOut*0.6\nendin\n\ninstr 6\n    ; Multi-band spectral gating\n    ; Different gates for different frequency regions\n    \n    aIn vco2 0.3, 220, 0\n    aIn += rand(0.08)\n    \n    ; Analyze\n    fsig pvsanal aIn, 2048, 512, 2048, 1\n    \n    ; Create frequency-dependent mask\n    ; Low freqs: gate at -30dB, highs: gate at -20dB\n    fgated pvstencil fsig, 1.2, 0.1, giMask2\n    \n    ; Synthesize\n    aOut pvsynth fgated\n    \n    outs aIn*0.4, aOut*0.6\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 4 4\ni3 9 4\ni4 14 4\ni5 19 4\ni6 24 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates spectral modification opcodes: pvscale, pvshift, pvsblur, pvsmix", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; pvscale opcode: fsig pvscale fsigin, kscale [, kkeepform, kgain, kcoefs]\n    ; Time-independent pitch scaling\n    ; kscale - scaling factor (2 = up octave, 0.5 = down octave)\n    ; kkeepform - formant preservation (0 or 1)\n    \n    aIn vco2 0.3, 220, 0\n    \n    ; Analyze\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Scale pitch\n    kScale linseg 1, p3*0.5, 2, p3*0.5, 0.5\n    fscaled pvscale fsig, kScale\n    \n    ; Synthesize\n    aOut pvsynth fscaled\n    \n    outs aIn*0.4, aOut*0.6\nendin\n\ninstr 2\n    ; pvshift opcode: fsig pvshift fsigin, kshift, klowest [, kkeepform, kgain, kcoefs]\n    ; Frequency shifting (additive, not multiplicative)\n    ; kshift - frequency shift in Hz\n    ; klowest - lowest frequency to shift\n    \n    aIn buzz 0.3, 165, 25, -1\n    \n    ; Analyze\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Shift frequencies\n    kShift linseg 0, p3*0.5, 300, p3*0.5, -200\n    fshifted pvshift fsig, kShift, 50\n    \n    ; Synthesize\n    aOut pvsynth fshifted\n    \n    outs aIn*0.4, aOut*0.6\nendin\n\ninstr 3\n    ; pvsblur opcode: fsig pvsblur fsigin, kblurtime, imaxdel\n    ; Spectral blurring/smearing\n    ; kblurtime - blur time (seconds)\n    ; imaxdel - maximum delay time\n    \n    aIn vco2 0.3, 330, 10\n    aIn *= linseg(1, 0.1, 0.5, 0.2, 1, p3-0.3, 0.5)\n    \n    ; Analyze\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Apply blur\n    kBlur linseg 0, p3*0.3, 0.5, p3*0.4, 0.5, p3*0.3, 0\n    fblurred pvsblur fsig, kBlur, 1\n    \n    ; Synthesize\n    aOut pvsynth fblurred\n    \n    outs aIn*0.4, aOut*0.6\nendin\n\ninstr 4\n    ; pvsmix opcode: fsig pvsmix fsig1, fsig2\n    ; Mix two spectra\n    \n    ; Two sources\n    aIn1 oscili 0.25, 220, -1\n    aIn2 buzz 0.25, 330, 15, -1\n    \n    ; Analyze both\n    fsig1 pvsanal aIn1, 1024, 256, 1024, 1\n    fsig2 pvsanal aIn2, 1024, 256, 1024, 1\n    \n    ; Mix spectra\n    fmixed pvsmix fsig1, fsig2\n    \n    ; Synthesize\n    aOut pvsynth fmixed\n    \n    outs aOut, aOut\nendin\n\ninstr 5\n    ; Combined spectral modifications\n    aIn vco2 0.3, 165, 0\n    \n    ; Analyze\n    fsig pvsanal aIn, 2048, 512, 2048, 1\n    \n    ; Scale up an octave\n    fscaled pvscale fsig, 2\n    \n    ; Shift down by 100 Hz\n    fshifted pvshift fscaled, -100, 50\n    \n    ; Add blur\n    fblurred pvsblur fshifted, 0.2, 1\n    \n    ; Synthesize\n    aOut pvsynth fblurred\n    \n    outs aIn*0.3, aOut*0.7\nendin\n\ninstr 6\n    ; Formant preservation with scaling\n    aIn buzz 0.3, 110, 40, -1\n    \n    ; Analyze\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Scale pitch with formant preservation\n    kScale linseg 1, p3, 3\n    fscaled pvscale fsig, kScale, 1  ; keepform = 1\n    \n    ; Synthesize\n    aOut pvsynth fscaled\n    \n    outs aIn*0.4, aOut*0.6\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 5 4\ni3 10 4\ni4 15 3\ni5 19 4\ni6 24 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates stereo enhancement opcodes: freeverb, reverbsc for width, stereomix, mirror", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; freeverb opcode: aoutL, aoutR freeverb ainL, ainR, kRoomSize, kHFDamp [, iSRate, iSkip]\n    ; Stereo reverb for width enhancement\n    ; kRoomSize - room size (0-1)\n    ; kHFDamp - high-frequency damping (0-1)\n    \n    ; Mono source\n    aIn oscili 0.3, 440, -1\n    \n    ; Freeverb for stereo width\n    kRoomSize = 0.7\n    kHFDamp = 0.5\n    \n    aRevL, aRevR freeverb aIn, aIn, kRoomSize, kHFDamp\n    \n    ; Mix dry and wet\n    aOutL = aIn*0.6 + aRevL*0.4\n    aOutR = aIn*0.6 + aRevR*0.4\n    \n    outs aOutL, aOutR\nendin\n\ninstr 2\n    ; reverbsc opcode: aoutL, aoutR reverbsc ainL, ainR, kfblvl, kfco [, israte, ipitchm, iskip]\n    ; Sean Costello reverb for stereo enhancement\n    ; kfblvl - feedback level (0-1)\n    ; kfco - cutoff frequency\n    \n    aIn vco2 0.3, 330, 10\n    \n    ; Reverbsc for width\n    kFeedback linseg 0.7, p3*0.5, 0.9, p3*0.5, 0.75\n    kCutoff = 8000\n    \n    aRevL, aRevR reverbsc aIn, aIn, kFeedback, kCutoff\n    \n    aOutL = aIn*0.5 + aRevL*0.5\n    aOutR = aIn*0.5 + aRevR*0.5\n    \n    outs aOutL, aOutR\nendin\n\ninstr 3\n    ; Stereo width control\n    ; M-S processing for enhancement\n    \n    ; Stereo source\n    aL oscili 0.3, 440, -1\n    aR vco2 0.3, 550, 10\n    \n    ; Convert to mid-side\n    aMid = (aL + aR) * 0.5\n    aSide = (aL - aR) * 0.5\n    \n    ; Enhance width by boosting side\n    kWidth linseg 1, p3*0.5, 3, p3*0.5, 1\n    aSideEnh = aSide * kWidth\n    \n    ; Convert back to L-R\n    aOutL = aMid + aSideEnh\n    aOutR = aMid - aSideEnh\n    \n    outs aOutL, aOutR\nendin\n\ninstr 4\n    ; mirror opcode simulation\n    ; Reflect left/right channels\n    \n    aL oscili 0.3, 330, -1\n    aR vco2 0.3, 440, 10\n    \n    ; Crossfade to mirrored version\n    kMirror linseg 0, p3*0.5, 1, p3*0.5, 0\n    \n    aOutL = aL*(1-kMirror) + aR*kMirror\n    aOutR = aR*(1-kMirror) + aL*kMirror\n    \n    outs aOutL, aOutR\nendin\n\ninstr 5\n    ; Haas effect for width\n    ; Short delay for stereo enhancement\n    \n    aIn buzz 0.3, 220, 20, -1\n    \n    ; Delays\n    aDelL delayr 0.05\n    aTapL deltapi 0.015\n          delayw aIn\n    \n    aDelR delayr 0.05\n    aTapR deltapi 0.021\n          delayw aIn\n    \n    ; Mix\n    aOutL = aIn*0.6 + aTapL*0.4\n    aOutR = aIn*0.6 + aTapR*0.4\n    \n    outs aOutL, aOutR\nendin\n\ninstr 6\n    ; Combined stereo enhancement\n    ; Reverb + width + Haas effect\n    \n    aIn vco2 0.3, 165, 0\n    \n    ; Reverb for ambience\n    kRoom = 0.6\n    kDamp = 0.6\n    aRevL, aRevR freeverb aIn, aIn, kRoom, kDamp\n    \n    ; Haas delay\n    aDelL delayr 0.03\n    aTapL deltapi 0.012\n          delayw aIn + aRevL*0.3\n    \n    aDelR delayr 0.03\n    aTapR deltapi 0.018\n          delayw aIn + aRevR*0.3\n    \n    ; M-S width enhancement\n    aMid = (aTapL + aTapR) * 0.5\n    aSide = (aTapL - aTapR) * 0.5\n    aSideEnh = aSide * 1.5\n    \n    aOutL = aMid + aSideEnh\n    aOutR = aMid - aSideEnh\n    \n    outs aOutL*0.8, aOutR*0.8\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 5 4\ni3 10 4\ni4 15 3\ni5 19 3\ni6 23 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates stereo and multi-channel processing opcodes: pan, space, spat3d, bformenc", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; Basic stereo width control\n    ; Mono to stereo with variable width\n    \n    aIn oscili 0.3, 440, -1\n    \n    ; Width control (0=mono, 1=normal stereo, >1=wide)\n    kWidth linseg 0, p3*0.33, 1, p3*0.33, 2, p3*0.34, 0.5\n    \n    ; Create stereo image\n    aMid = aIn\n    aSide = aIn * 0.5  ; Decorrelated side signal (simplified)\n    \n    ; M-S encoding\n    aLeft = aMid + aSide*kWidth\n    aRight = aMid - aSide*kWidth\n    \n    outs aLeft, aRight\nendin\n\ninstr 2\n    ; Mid-side processing\n    ; Process mid and side separately\n    \n    ; Stereo input (simulated)\n    aL vco2 0.3, 220, 0\n    aR vco2 0.3, 330, 10\n    \n    ; Convert to mid-side\n    aMid = (aL + aR) * 0.5\n    aSide = (aL - aR) * 0.5\n    \n    ; Process mid and side independently\n    aMid butterlp aMid, 2000\n    aSide butterhp aSide, 500\n    aSide *= 1.5  ; Enhance stereo width\n    \n    ; Convert back to L-R\n    aOutL = aMid + aSide\n    aOutR = aMid - aSide\n    \n    outs aOutL, aOutR\nendin\n\ninstr 3\n    ; Haas effect (precedence effect)\n    ; Create stereo width through short delays\n    \n    aIn buzz 0.3, 330, 20, -1\n    \n    ; Short delay on one channel (1-30ms)\n    kDelay linseg 0.001, p3*0.5, 0.025, p3*0.5, 0.005\n    \n    aDelL delayr 0.05\n    aTapL deltapi kDelay\n          delayw aIn\n    \n    ; Left channel delayed, right is dry\n    aLeft = aTapL\n    aRight = aIn\n    \n    outs aLeft, aRight\nendin\n\ninstr 4\n    ; Pseudo-stereo from mono\n    ; Create stereo image using filtering\n    \n    aIn vco2 0.3, 220, 10\n    \n    ; Different filtering for each channel\n    aLeft butterlp aIn, 3000\n    aLeft += butterbp(aIn, 1200, 400) * 0.5\n    \n    aRight butterhp aIn, 800\n    aRight += butterbp(aIn, 1800, 500) * 0.5\n    \n    ; Add slight delay difference\n    aDelL delayr 0.02\n    aTapL deltapi 0.007\n          delayw aLeft\n    \n    aDelR delayr 0.02\n    aTapR deltapi 0.011\n          delayw aRight\n    \n    outs aTapL, aTapR\nendin\n\ninstr 5\n    ; Stereo chorus for width\n    ; Different modulation for L and R\n    \n    aIn oscili 0.3, 440, -1\n    \n    ; LFOs with different rates and phases\n    kLFO_L lfo 0.003, 0.7, 0\n    kLFO_R lfo 0.003, 0.53, 0.25  ; Phase offset\n    \n    ; Variable delays\n    aDelL delayr 0.05\n    aTapL deltapi 0.015 + kLFO_L\n          delayw aIn\n    \n    aDelR delayr 0.05\n    aTapR deltapi 0.018 + kLFO_R\n          delayw aIn\n    \n    ; Mix with dry\n    aLeft = aIn*0.6 + aTapL*0.4\n    aRight = aIn*0.6 + aTapR*0.4\n    \n    outs aLeft, aRight\nendin\n\ninstr 6\n    ; Stereo imaging with phase manipulation\n    ; Using allpass filters for phase shifting\n    \n    aIn vco2 0.3, 330, 0\n    \n    ; Left channel - original phase\n    aLeft = aIn\n    \n    ; Right channel - phase shifted\n    aRight phaser1 aIn, 800, 4, 0.5\n    \n    ; Balance levels\n    aLeft *= 0.9\n    aRight *= 0.9\n    \n    outs aLeft, aRight\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 5 3\ni3 9 3\ni4 13 4\ni5 18 4\ni6 23 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates signal generation for testing: pinkish, pinker, noise, gausstrig, dust, dust2", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; pinkish opcode: ares pinkish kamp [, imethod] [, iseed]\n    ; Pink noise (1/f spectrum)\n    ; kamp - amplitude\n    ; imethod - generation method\n    \n    kAmp linseg 0.2, p3*0.5, 0.5, p3*0.5, 0.2\n    aPink pinkish kAmp\n    \n    outs aPink, aPink\nendin\n\ninstr 2\n    ; pinker opcode: ares pinker kamp [, iseed]\n    ; Alternative pink noise generator\n    \n    kAmp = 0.3\n    aPink pinker kAmp\n    \n    ; Filter for testing filter response\n    aFilt butterlp aPink, 2000\n    \n    outs aPink*0.5, aFilt*0.5\nendin\n\ninstr 3\n    ; noise opcode: ares noise kamp, kbeta\n    ; Colored noise generator\n    ; kamp - amplitude\n    ; kbeta - spectral slope (0=white, 1=pink, 2=brown)\n    \n    kAmp = 0.3\n    \n    ; White noise (beta=0)\n    aWhite noise kAmp, 0\n    \n    ; Pink noise (beta=1)\n    aPink noise kAmp, 1\n    \n    ; Brown/red noise (beta=2)\n    aBrown noise kAmp, 2\n    \n    ; Sweep through noise colors\n    kBeta linseg 0, p3, 2\n    aSwept noise kAmp, kBeta\n    \n    outs aWhite*0.3, aSwept*0.5\nendin\n\ninstr 4\n    ; gausstrig opcode: ares gausstrig kamp, kcps, kdev [, iseed]\n    ; Gaussian-distributed random impulses\n    ; kamp - amplitude\n    ; kcps - average rate (Hz)\n    ; kdev - deviation\n    \n    kAmp = 0.5\n    kCps = 8  ; 8 impulses per second on average\n    kDev = 0.3  ; Deviation\n    \n    aImpulses gausstrig kAmp, kCps, kDev\n    \n    ; Ring through filter\n    aRing butterbp aImpulses, 800, 50\n    \n    outs aImpulses*0.5, aRing*0.7\nendin\n\ninstr 5\n    ; dust opcode: ares dust kamp, kcps [, iseed]\n    ; Random impulses at average density\n    ; kamp - amplitude\n    ; kcps - average rate (Hz)\n    \n    kAmp = 0.6\n    kCps linseg 5, p3*0.5, 50, p3*0.5, 10\n    \n    aDust dust kAmp, kCps\n    \n    ; Use as trigger for synthesis\n    aEnv expsega 0.001, 0.001, 1, 0.05, 0.001\n    aOsc oscili aEnv*0.3, 440, -1\n    \n    aTrig = aDust * aOsc\n    \n    outs aDust*0.3, aTrig*0.7\nendin\n\ninstr 6\n    ; dust2 opcode: ares dust2 kamp, kcps [, iseed]\n    ; Bipolar random impulses\n    ; kamp - amplitude\n    ; kcps - average rate (Hz)\n    \n    kAmp = 0.5\n    kCps = 20\n    \n    aDust2 dust2 kAmp, kCps\n    \n    ; Use as modulation source\n    aCarr oscili 0.3, 440, -1\n    aMod = aCarr * (1 + aDust2)\n    \n    outs aDust2*0.4, aMod*0.6\nendin\n\ninstr 7\n    ; Testing with multiple noise sources\n    ; Compare different noise colors\n    \n    ; White noise\n    aWhite rand 0.2\n    \n    ; Pink noise\n    aPink pinkish 0.2\n    \n    ; Brown noise\n    aBrown noise 0.2, 2\n    \n    ; Crossfade between them\n    kCF linseg 0, p3*0.33, 1, p3*0.33, 2, p3*0.34, 0\n    \n    aMix = (kCF < 0.5 ? aWhite : \\\n           (kCF < 1.5 ? aPink : aBrown))\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 4 3\ni3 8 4\ni4 13 3\ni5 17 3\ni6 21 3\ni7 25 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates signal measurement opcodes: max_k, min_k, rms, peak, vactrol", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; max_k opcode: kmax max_k ksig1, ksig2 [, ksig3, ...]\n    ; Find maximum of k-rate signals\n    \n    ; Three oscillating values\n    kSig1 lfo 0.5, 0.5, 0\n    kSig2 lfo 0.3, 0.7, 0\n    kSig3 lfo 0.4, 0.3, 0\n    \n    ; Find maximum\n    kMax max_k kSig1, kSig2, kSig3\n    \n    ; Use max to control amplitude\n    aOsc oscili kMax+0.5, 440, -1\n    \n    outs aOsc*0.5, aOsc*0.5\nendin\n\ninstr 2\n    ; min_k opcode: kmin min_k ksig1, ksig2 [, ksig3, ...]\n    ; Find minimum of k-rate signals\n    \n    kSig1 linseg 0.2, p3*0.5, 0.8, p3*0.5, 0.4\n    kSig2 linseg 0.6, p3*0.5, 0.3, p3*0.5, 0.7\n    kSig3 = 0.5\n    \n    ; Find minimum\n    kMin min_k kSig1, kSig2, kSig3\n    \n    ; Use min for frequency control\n    aOsc vco2 0.3, 200 + kMin*500, 10\n    \n    outs aOsc, aOsc\nendin\n\ninstr 3\n    ; rms opcode: kres rms asig [, ihp] [, iskip]\n    ; Root mean square amplitude measurement\n    ; ihp - high-pass filter frequency\n    \n    aIn buzz 0.5, 220, 20, -1\n    aIn *= linseg(0.2, p3*0.5, 1, p3*0.5, 0.3)\n    \n    ; Measure RMS\n    kRMS rms aIn\n    \n    ; Use RMS to control another parameter\n    kCf = 500 + kRMS*2000\n    aFilt butterlp aIn, kCf\n    \n    outs aIn*0.5, aFilt*0.5\nendin\n\ninstr 4\n    ; peak opcode: kres peak asig [, iprd]\n    ; Track peak amplitude\n    ; iprd - period for peak detection\n    \n    aIn vco2 0.6, 330, 0\n    aIn *= linseg(0.1, 0.1, 1, 0.2, 0.3, p3-0.3, 0.5)\n    \n    ; Track peak\n    kPeak peak aIn\n    \n    ; Normalize based on peak\n    kGain = (kPeak > 0.1 ? 0.5/kPeak : 1)\n    aOut = aIn * kGain\n    \n    outs aIn*0.4, aOut*0.6\nendin\n\ninstr 5\n    ; vactrol opcode: ares vactrol asig, kattack, krelease [, ilevel]\n    ; Optical compressor envelope follower\n    ; kattack - attack time (seconds)\n    ; krelease - release time (seconds)\n    \n    aIn buzz 0.5, 165, 25, -1\n    aIn *= expseg(1, 0.05, 0.3, 0.1, 1, 0.15, 0.4, p3-0.3, 0.2)\n    \n    ; Vactrol envelope following\n    kAtt = 0.01\n    kRel = 0.2\n    aEnv vactrol aIn, kAtt, kRel\n    \n    ; Use envelope to control filter\n    kCf = 300 + aEnv*2500\n    aFilt butterbp aIn, kCf, kCf*0.5\n    \n    outs aIn*0.4, aFilt*0.6\nendin\n\ninstr 6\n    ; Combined measurements for dynamics control\n    aIn vco2 0.5, 220, 10\n    aIn *= linseg(0.3, 0.2, 1, 0.5, 0.2, p3-0.7, 0.6)\n    \n    ; Measure RMS and peak\n    kRMS rms aIn\n    kPeak peak aIn\n    \n    ; Calculate crest factor (peak/RMS ratio)\n    kCrest = (kRMS > 0.01 ? kPeak/kRMS : 1)\n    \n    ; Use crest factor for dynamics\n    kComp = (kCrest > 2 ? 2/kCrest : 1)\n    aOut = aIn * kComp\n    \n    outs aIn*0.5, aOut*0.5\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 4 3\ni3 8 3\ni4 12 3\ni5 16 3\ni6 20 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates signal monitoring opcodes: monitor, display, dispfft, fftdisp", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; monitor opcode: monitor asig1 [, asig2] [, ...]\n    ; Monitor audio signals (useful for debugging)\n    ; Signals are sent to output for monitoring\n    \n    aOsc1 oscili 0.3, 440, -1\n    aOsc2 vco2 0.3, 330, 10\n    \n    ; Monitor both signals\n    monitor aOsc1, aOsc2\n    \n    ; Mix for output\n    aMix = (aOsc1 + aOsc2) * 0.5\n    \n    outs aMix, aMix\nendin\n\ninstr 2\n    ; display opcode: display asig, iprd [, inpts]\n    ; Display waveform in real-time\n    ; iprd - period between updates (seconds)\n    ; inpts - number of points to display\n    \n    aIn buzz 0.3, 220, 15, -1\n    \n    ; Display waveform every 0.1 seconds\n    display aIn, 0.1\n    \n    outs aIn, aIn\nendin\n\ninstr 3\n    ; dispfft opcode: dispfft asig, iprd, iwtflg [, idbout] [, iqout]\n    ; Display FFT analysis\n    ; iprd - period between FFT updates\n    ; iwtflg - window type flag\n    ; idbout - dB output flag\n    ; iqout - phase display flag\n    \n    aIn vco2 0.3, 330, 0\n    \n    ; Display FFT every 0.2 seconds\n    ; Window flag: 0=rectangular, 1=Hamming, 2=Hanning\n    dispfft aIn, 0.2, 1\n    \n    outs aIn, aIn\nendin\n\ninstr 4\n    ; Monitoring complex signal\n    ; Multiple components for analysis\n    \n    ; Generate complex signal\n    aOsc1 oscili 0.15, 220, -1\n    aOsc2 oscili 0.15, 440, -1\n    aOsc3 oscili 0.15, 660, -1\n    aNoise rand 0.1\n    \n    aComplex = aOsc1 + aOsc2 + aOsc3 + aNoise\n    \n    ; Display waveform\n    display aComplex, 0.1\n    \n    ; Display FFT\n    dispfft aComplex, 0.2, 2  ; Hanning window\n    \n    outs aComplex, aComplex\nendin\n\ninstr 5\n    ; Monitoring with filtering\n    ; Monitor signal before and after processing\n    \n    ; Original signal\n    aOrig buzz 0.3, 165, 25, -1\n    \n    ; Filtered version\n    kCf linseg 500, p3, 3000\n    aFilt butterlp aOrig, kCf\n    \n    ; Monitor both\n    monitor aOrig, aFilt\n    \n    ; Display filtered signal\n    display aFilt, 0.1\n    \n    outs aOrig*0.4, aFilt*0.6\nendin\n\ninstr 6\n    ; Real-time spectrum monitoring\n    aIn vco2 0.3, 110, 10\n    aIn *= linseg(1, p3*0.5, 0.5, p3*0.5, 1)\n    \n    ; Add harmonics that change over time\n    kHarm linseg 5, p3, 25\n    aIn = vco2(0.3, 110, kHarm)\n    \n    ; Display FFT with dB output\n    dispfft aIn, 0.15, 1, 1  ; Hamming window, dB output\n    \n    outs aIn, aIn\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 2\ni2 3 2\ni3 6 3\ni4 10 3\ni5 14 3\ni6 18 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates monitoring multiple channels and debugging audio routing", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Global buses for routing\nga1 init 0\nga2 init 0\n\ninstr 1\n    ; Multi-channel monitoring\n    ; Generate separate channels\n    \n    aLeft oscili 0.3, 440, -1\n    aRight vco2 0.3, 330, 10\n    \n    ; Monitor both channels separately\n    monitor aLeft, aRight\n    \n    ; Display left channel\n    display aLeft, 0.1, 512\n    \n    outs aLeft, aRight\nendin\n\ninstr 2\n    ; Debugging bus routing\n    ; Send to global bus and monitor\n    \n    aOsc buzz 0.3, 220, 15, -1\n    \n    ; Send to bus\n    ga1 = ga1 + aOsc*0.7\n    \n    ; Monitor what's in the bus\n    monitor ga1\n    \n    ; Display bus content\n    display ga1, 0.1\nendin\n\ninstr 3\n    ; Master bus monitor\n    ; Read from bus and output\n    \n    ; Add reverb to bus signal\n    aRev reverb ga1, 1.5\n    \n    ; Monitor processed signal\n    monitor ga1, aRev\n    \n    ; Mix and output\n    aMix = ga1*0.7 + aRev*0.3\n    \n    outs aMix, aMix\n    \n    ; Clear bus\n    ga1 = 0\nendin\n\ninstr 4\n    ; FFT monitoring of processed signal\n    aIn vco2 0.3, 165, 0\n    \n    ; Process with time-varying filter\n    kCf linseg 300, p3, 2000\n    aFilt butterlp aIn, kCf\n    \n    ; Monitor FFT of filtered signal\n    dispfft aFilt, 0.2, 2, 1  ; Hanning, dB output\n    \n    outs aFilt, aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Test multi-channel monitoring\ni1 0 2\n\n; Test bus routing\ni2 3 2\ni3 3 2.5\n\n; Test FFT monitoring\ni4 6 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates waveshaping opcodes: distort, powershape, polynomial", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Waveshaping transfer functions\ngiShape1 ftgen 0, 0, 4097, 10, 1  ; Sine\ngiShape2 ftgen 0, 0, 4097, 7, -1, 2048, 0, 2049, 1  ; Triangle\ngiShape3 ftgen 0, 0, 4097, 5, 0.001, 2048, 1, 2049, 0.001  ; Exponential\ngiChebyshev ftgen 0, 0, 4097, 3, 1, 0, 2, 0, 1  ; Chebyshev (x + 2x^3 + x^5)\n\ninstr 1\n    ; distort opcode: ares distort asig, kdist, ifn [, ihp] [, istor]\n    ; Waveshaping with transfer function\n    ; kdist - distortion amount\n    ; ifn - transfer function table\n    ; ihp - high-pass filter frequency\n    \n    aIn oscili 0.3, 220, -1\n    \n    ; Variable distortion\n    kDist linseg 0, p3*0.5, 0.9, p3*0.5, 0\n    \n    aOut distort aIn, kDist, giShape1\n    \n    outs aIn*0.5, aOut*0.5\nendin\n\ninstr 2\n    ; powershape opcode: ares powershape asig, kShapeAmount [, ifullscale]\n    ; Power function waveshaping\n    ; kShapeAmount - exponent (>1 for expansion, <1 for compression)\n    \n    aIn vco2 0.4, 330, 10\n    \n    ; Time-varying shape\n    kShape linseg 0.5, p3*0.5, 3, p3*0.5, 1\n    \n    aOut powershape aIn, kShape\n    \n    outs aIn*0.5, aOut*0.5\nendin\n\ninstr 3\n    ; polynomial opcode: ares polynomial asig, k0, k1, k2 [, k3] [, k4] [...]\n    ; Polynomial waveshaping: y = k0 + k1*x + k2*x^2 + k3*x^3 + ...\n    \n    aIn oscili 0.3, 165, -1\n    \n    ; Polynomial coefficients\n    k0 = 0       ; DC offset\n    k1 = 1       ; Linear term\n    k2 = 0       ; Quadratic\n    k3 = 0.5     ; Cubic\n    k5 = 0.2     ; Quintic\n    \n    aOut polynomial aIn, k0, k1, k2, k3, 0, k5\n    \n    outs aIn*0.5, aOut*0.3\nendin\n\ninstr 4\n    ; Chebyshev polynomial waveshaping\n    ; Creates specific harmonics\n    \n    aIn oscili 0.3, 110, -1\n    \n    ; Chebyshev polynomials generate harmonics\n    ; T2(x) = 2x^2 - 1  (generates 2nd harmonic)\n    ; T3(x) = 4x^3 - 3x  (generates 3rd harmonic)\n    \n    aOut distort aIn, 0.7, giChebyshev\n    \n    outs aIn*0.5, aOut*0.5\nendin\n\ninstr 5\n    ; Multiple waveshaping stages\n    aIn oscili 0.3, 220, -1\n    \n    ; Stage 1: Soft clipping\n    a1 powershape aIn, 0.7\n    \n    ; Stage 2: Polynomial\n    a2 polynomial a1, 0, 1.2, 0, 0.3\n    \n    ; Stage 3: Table lookup\n    a3 distort a2, 0.5, giShape2\n    \n    outs aIn*0.3, a3*0.4\nendin\n\ninstr 6\n    ; Dynamic waveshaping\n    ; Shape amount controlled by input level\n    \n    aIn vco2 0.5, 165, 0\n    aIn *= linseg(0.2, p3*0.5, 1, p3*0.5, 0.3)\n    \n    ; Detect input level\n    kRMS rms aIn\n    \n    ; More distortion at higher levels\n    kDist = kRMS * 1.5\n    kDist limit kDist, 0, 0.95\n    \n    aOut distort aIn, kDist, giShape3\n    \n    outs aIn*0.4, aOut*0.6\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 5 4\ni3 10 3\ni4 14 4\ni5 19 4\ni6 24 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates window functions: window, pvscent for windowed analysis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Window function tables\ngiHamming ftgen 0, 0, 8192, 20, 2, 1  ; Hamming window\ngiHanning ftgen 0, 0, 8192, 20, 1, 1  ; Hanning window\ngiBlackman ftgen 0, 0, 8192, 20, 3, 1 ; Blackman window\n\ninstr 1\n    ; window opcode: ares window asig, koff [, itype] [, ifn]\n    ; Apply window function to signal\n    ; koff - offset into window\n    ; itype - window type\n    ; ifn - window function table\n    \n    aIn buzz 0.3, 220, 20, -1\n    \n    ; Apply Hamming window\n    kOff linseg 0, p3, 1\n    aWindowed window aIn, kOff, 0, giHamming\n    \n    outs aIn*0.5, aWindowed*0.5\nendin\n\ninstr 2\n    ; Different window types comparison\n    aIn vco2 0.3, 330, 0\n    \n    ; Offset sweeps through window\n    kOff lfo 0.5, 1, 0\n    kOff = (kOff + 1) * 0.5  ; 0 to 1\n    \n    ; Apply Hanning window\n    aWindowed window aIn, kOff, 0, giHanning\n    \n    outs aIn*0.4, aWindowed*0.6\nendin\n\ninstr 3\n    ; pvscent with windowing\n    ; Spectral centroid calculation\n    \n    aIn buzz 0.3, 165, 30, -1\n    aIn *= linseg(1, p3*0.5, 0.4, p3*0.5, 1)\n    \n    ; Analyze with window\n    fsig pvsanal aIn, 1024, 256, 1024, 1\n    \n    ; Calculate centroid\n    kCent pvscent fsig\n    \n    ; Use centroid for filter control\n    aFilt butterlp aIn, kCent*2.5\n    \n    outs aIn*0.4, aFilt*0.6\nendin\n\ninstr 4\n    ; Windowed granular effect\n    ; Apply window to short segments\n    \n    aIn vco2 0.4, 220, 10\n    \n    ; Grain window\n    kGrainRate = 20\n    kPhase phasor kGrainRate\n    \n    ; Apply window to create grains\n    aGrain window aIn, kPhase, 0, giHanning\n    \n    outs aIn*0.3, aGrain*0.7\nendin\n\ninstr 5\n    ; Blackman window for analysis\n    aIn buzz 0.3, 110, 40, -1\n    \n    ; Sweep offset\n    kOff linseg 0, p3, 1\n    \n    ; Apply Blackman window (better frequency resolution)\n    aWindowed window aIn, kOff, 0, giBlackman\n    \n    ; Analyze windowed signal\n    fsig pvsanal aWindowed, 2048, 512, 2048, 1\n    \n    ; Get centroid\n    kCent pvscent fsig\n    \n    ; Synthesize\n    aOut pvsynth fsig\n    \n    outs aIn*0.3, aOut*0.7\nendin\n\ninstr 6\n    ; Dynamic window selection\n    ; Switch between window types\n    \n    aIn vco2 0.3, 165, 0\n    \n    kOff linseg 0, p3, 1\n    \n    ; Select window based on time\n    kWinType linseg 0, p3*0.33, 1, p3*0.33, 2, p3*0.34, 0\n    \n    ; Apply appropriate window\n    iFn = (kWinType < 0.5 ? giHamming : \\\n          (kWinType < 1.5 ? giHanning : giBlackman))\n    \n    aWindowed window aIn, kOff, 0, iFn\n    \n    outs aIn*0.4, aWindowed*0.6\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 3\ni2 4 4\ni3 9 4\ni4 14 3\ni5 18 4\ni6 23 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the buzz opcode for generating harmonically related sine partials", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function table: cosine wave for buzz\ngiCos ftgen 1, 0, 8192, 11, 1\n\ninstr 1\n    ; buzz opcode: ares buzz xamp, xcps, knh, ifn [, iphs]\n    ; buzz generates a set of harmonically related sine partials\n    ; xamp - amplitude\n    ; xcps - frequency in Hz\n    ; knh - number of harmonics\n    ; ifn - function table (usually cosine wave)\n    ; iphs - initial phase (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.05, 0.4, p3-0.1, 0.4, 0.05, 0\n    \n    ; Number of harmonics changes over time\n    kHarms linseg 1, p3, 20\n    \n    ; Generate buzz tone at 220 Hz\n    aSig buzz kAmp, 220, kHarms, giCos\n    \n    out aSig\nendin\n\ninstr 2\n    ; Demonstrate buzz with varying frequency\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Frequency sweep\n    kFreq expseg 110, p3*0.5, 440, p3*0.5, 110\n    \n    ; Fixed number of harmonics\n    kHarms = 12\n    \n    aSig buzz kAmp*0.4, kFreq, kHarms, giCos\n    \n    out aSig\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 3 seconds\ni1 0 3\n; Play instrument 2 for 4 seconds\ni2 3.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the gbuzz opcode for generating harmonically related cosine partials with a multiplier", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: cosine wave\ngiCos ftgen 1, 0, 8192, 11, 1\n\ninstr 1\n    ; gbuzz opcode: ares gbuzz xamp, xcps, knh, klh, kmul, ifn [, iphs]\n    ; gbuzz generates harmonically related cosine partials with amplitude control\n    ; xamp - amplitude\n    ; xcps - frequency in Hz\n    ; knh - number of harmonics\n    ; klh - lowest harmonic present\n    ; kmul - multiplier for successive amplitude coefficients\n    ; ifn - function table\n    ; iphs - initial phase (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.3, p3-0.2, 0.3, 0.1, 0\n    \n    ; Number of harmonics\n    kHarms = 15\n    \n    ; Lowest harmonic\n    kLowest = 1\n    \n    ; Multiplier (values < 1 make higher harmonics quieter)\n    kMul linseg 0.9, p3, 0.3\n    \n    ; Generate gbuzz tone\n    aSig gbuzz kAmp, 330, kHarms, kLowest, kMul, giCos\n    \n    outs aSig, aSig\nendin\n\ninstr 2\n    ; Demonstrate gbuzz for brass-like sounds\n    kAmp madsr 0.05, 0.2, 0.7, 0.4\n    \n    kFreq = 220\n    kHarms = 20\n    kLowest = 2\n    \n    ; Vary multiplier for dynamic timbre\n    kMul oscili 0.3, 3, giCos\n    kMul = 0.7 + kMul\n    \n    aSigL gbuzz kAmp*0.3, kFreq, kHarms, kLowest, kMul, giCos\n    aSigR gbuzz kAmp*0.3, kFreq*1.002, kHarms, kLowest, kMul, giCos\n    \n    outs aSigL, aSigR\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 3 seconds\ni1 0 3\n; Play instrument 2 for 4 seconds\ni2 3.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the mpulse opcode for generating a set of impulses", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function table: impulse response for filtering\ngiImpulse ftgen 1, 0, 1024, 10, 1, 0.5, 0.3, 0.2, 0.1\n\ninstr 1\n    ; mpulse opcode: ares mpulse kamp, kintvl [, ioffset]\n    ; mpulse generates a set of impulses at regular intervals\n    ; kamp - amplitude of impulses\n    ; kintvl - time interval between impulses (in seconds)\n    ; ioffset - offset for first impulse (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0.5, p3-0.1, 0.5, 0.1, 0\n    \n    ; Varying interval (creates accelerating rhythm)\n    kIntvl linseg 0.5, p3, 0.05\n    \n    ; Generate impulse train\n    aImp mpulse kAmp, kIntvl\n    \n    ; Filter the impulses for more musical sound\n    aFilt reson aImp, 440, 50\n    aFilt balance aFilt, aImp\n    \n    out aFilt * 0.3\nendin\n\ninstr 2\n    ; Use mpulse to trigger Karplus-Strong synthesis\n    kAmp = 0.8\n    kIntvl = 0.25\n    \n    ; Regular pulse train\n    aImp mpulse kAmp, kIntvl, 0\n    \n    ; Karplus-Strong plucked string\n    aComb comb aImp, 2, 1/220\n    \n    ; Apply envelope\n    kEnv linseg 1, p3-0.1, 1, 0.1, 0\n    \n    out aComb * kEnv * 0.4\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 3 seconds\ni1 0 3\n; Play instrument 2 for 4 seconds\ni2 3.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the vco opcode for band-limited oscillator using pre-calculated tables", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\ninstr 1\n    ; vco opcode: ares vco xamp, xcps, iwave, kpw [, ifn] [, imaxd] [, ileak] [, inyx] [, iphs] [, iskip]\n    ; vco implements band-limited oscillators using pre-calculated tables\n    ; xamp - amplitude\n    ; xcps - frequency in Hz\n    ; iwave - waveform type (1=sawtooth, 2=square/PWM, 3=triangle)\n    ; kpw - pulse width (for square wave, 0-1)\n    ; Additional parameters for fine control\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.05, 0.4, p3-0.1, 0.4, 0.05, 0\n    \n    ; Generate sawtooth wave (iwave=1)\n    aSaw vco kAmp, 220, 1\n    \n    out aSaw\nendin\n\ninstr 2\n    ; Demonstrate pulse width modulation\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Modulate pulse width\n    kPW linseg 0.1, p3, 0.9\n    \n    ; Generate PWM square wave (iwave=2)\n    aSq vco kAmp*0.4, 110, 2, kPW\n    \n    out aSq\nendin\n\ninstr 3\n    ; Triangle wave demonstration\n    kAmp linseg 0, 0.1, 0.4, p3-0.2, 0.4, 0.1, 0\n    \n    ; Frequency modulation\n    kFreq linseg 330, p3*0.5, 660, p3*0.5, 330\n    \n    ; Generate triangle wave (iwave=3)\n    aTri vco kAmp, kFreq, 3\n    \n    out aTri\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play sawtooth\ni1 0 2\n; Play PWM square\ni2 2.5 3\n; Play triangle\ni3 6 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the vco2 opcode for band-limited waveforms using integration", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Initialize vco2 tables\niftab ftgen 1, 0, 16384, 10, 1\n\ninstr 1\n    ; vco2 opcode: ares vco2 kamp, kcps [, imode] [, kpw] [, kphs] [, inyx]\n    ; vco2 implements band-limited waveforms using integration method\n    ; kamp - amplitude\n    ; kcps - frequency in Hz\n    ; imode - waveform (0=sawtooth, 2=square, 4=triangle, 10=PWM square, 12=PWM saw)\n    ; kpw - pulse width for PWM (optional, 0-1)\n    ; kphs - phase (optional, -1 to 1)\n    ; inyx - oscillator quality (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.4, p3-0.2, 0.4, 0.1, 0\n    \n    ; Generate sawtooth wave (imode=0)\n    aSaw vco2 kAmp, 220, 0\n    \n    outs aSaw, aSaw\nendin\n\ninstr 2\n    ; PWM square wave with modulation\n    kAmp madsr 0.02, 0.1, 0.7, 0.3\n    \n    ; Pulse width LFO\n    kPW oscili 0.4, 0.5, iftab\n    kPW = 0.5 + kPW\n    \n    ; Generate PWM square (imode=10)\n    aSqL vco2 kAmp*0.3, 110, 10, kPW\n    aSqR vco2 kAmp*0.3, 110.5, 10, kPW\n    \n    outs aSqL, aSqR\nendin\n\ninstr 3\n    ; Multi-waveform synthesizer\n    kAmp linseg 0, 0.1, 0.3, p3-0.2, 0.3, 0.1, 0\n    kFreq = 330\n    \n    ; Mix multiple waveforms\n    aSaw vco2 kAmp, kFreq, 0\n    aSq vco2 kAmp*0.5, kFreq, 2\n    aTri vco2 kAmp*0.7, kFreq*0.5, 4\n    \n    aMix = (aSaw + aSq + aTri) * 0.4\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play sawtooth\ni1 0 2.5\n; Play PWM\ni2 3 3\n; Play mixed waveforms\ni3 6.5 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the adsynt opcode for additive synthesis with arbitrary partials", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Wave table for adsynt\ngiWave ftgen 1, 0, 16384, 10, 1\n; Frequency ratios for partials\ngiFreqs ftgen 2, 0, 16, -2, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16\n; Amplitude scaling for partials\ngiAmps ftgen 3, 0, 16, -2, 1, 0.5, 0.33, 0.25, 0.2, 0.16, 0.14, 0.125, 0.11, 0.1, 0.09, 0.08, 0.07, 0.06, 0.05, 0.04\n\ninstr 1\n    ; adsynt opcode: ares adsynt kamp, kcps, iwfn, ifreqfn, iampfn, icnt [, iphs]\n    ; adsynt performs additive synthesis with arbitrary number of partials\n    ; kamp - amplitude\n    ; kcps - base frequency in Hz\n    ; iwfn - waveform table\n    ; ifreqfn - table with frequency ratios\n    ; iampfn - table with amplitude scaling\n    ; icnt - number of partials\n    ; iphs - initial phase (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.3, p3-0.2, 0.3, 0.1, 0\n    \n    ; Base frequency\n    kFreq = 220\n    \n    ; Generate tone with 16 harmonics\n    aSig adsynt kAmp, kFreq, giWave, giFreqs, giAmps, 16\n    \n    out aSig\nendin\n\ninstr 2\n    ; Dynamic partial amplitudes\n    kAmp madsr 0.02, 0.1, 0.7, 0.3\n    \n    ; Frequency sweep\n    kFreq expseg 110, p3, 440\n    \n    ; Use fewer partials for different timbre\n    aSig adsynt kAmp*0.3, kFreq, giWave, giFreqs, giAmps, 8\n    \n    out aSig\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 3 seconds\ni1 0 3\n; Play instrument 2 for 4 seconds\ni2 3.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the adsynt2 opcode for additive synthesis using oscillator bank", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Wave table\ngiWave ftgen 1, 0, 16384, 10, 1\n; Frequency ratios (inharmonic for bell-like sound)\ngiFreqsBell ftgen 2, 0, 8, -2, 1, 2.76, 5.4, 8.93, 11.34, 14.21, 16.95, 19.7\n; Amplitude envelopes for each partial (different decay rates)\ngiAmps1 ftgen 3, 0, 8, -2, 1.0, 0.8, 0.6, 0.4, 0.3, 0.2, 0.15, 0.1\n\ninstr 1\n    ; adsynt2 opcode: ar1 [, ar2] adsynt2 kamp, kcps, iwfn, ifreqfn, iampfn, icnt [, iphs]\n    ; adsynt2 uses a bank of interpolating oscillators for smoother output\n    ; kamp - amplitude\n    ; kcps - base frequency in Hz\n    ; iwfn - waveform table\n    ; ifreqfn - table with frequency ratios\n    ; iampfn - table with amplitude scaling\n    ; icnt - number of partials\n    ; iphs - initial phase (optional)\n    \n    ; Bell-like envelope (fast attack, slow decay)\n    kAmp expseg 0.001, 0.01, 0.5, p3-0.01, 0.001\n    \n    ; Base frequency\n    kFreq = 440\n    \n    ; Generate bell-like tone with inharmonic partials\n    aSigL, aSigR adsynt2 kAmp, kFreq, giWave, giFreqsBell, giAmps1, 8\n    \n    outs aSigL*0.5, aSigR*0.5\nendin\n\ninstr 2\n    ; Organ-like sound with harmonic partials\n    kAmp linseg 0, 0.05, 0.3, p3-0.1, 0.3, 0.05, 0\n    \n    ; Pitch\n    kFreq = 220\n    \n    ; Harmonic partials for organ timbre\n    giFreqsOrgan ftgen 10, 0, 8, -2, 1, 2, 3, 4, 5, 6, 8, 10\n    giAmpsOrgan ftgen 11, 0, 8, -2, 1, 0.7, 0.5, 0.8, 0.3, 0.2, 0.4, 0.3\n    \n    aSigL, aSigR adsynt2 kAmp, kFreq, giWave, giFreqsOrgan, giAmpsOrgan, 8\n    \n    outs aSigL, aSigR\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play bell sound\ni1 0 4\ni1 1 5\ni1 2 6\n; Play organ sound\ni2 7 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the hsboscil opcode for harmonic oscillator with amplitude and frequency modulation", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Wave table\ngiWave ftgen 1, 0, 16384, 10, 1\n; Harmonic amplitude envelope over time\ngiHarmEnv ftgen 2, 0, 1024, 7, 0, 128, 1, 512, 0.5, 384, 0\n; Frequency deviation pattern\ngiFreqDev ftgen 3, 0, 1024, 10, 1, 0.5, 0.3\n\ninstr 1\n    ; hsboscil opcode: ares hsboscil kamp, ktone, kbrite, ibasfreq, iwfn, ioctfn [, ioctcnt] [, iphs]\n    ; hsboscil is a harmonic oscillator with brightness control\n    ; kamp - amplitude\n    ; ktone - frequency multiplier relative to base frequency\n    ; kbrite - brightness (number of harmonics, approximately)\n    ; ibasfreq - base frequency in Hz\n    ; iwfn - waveform table\n    ; ioctfn - octave band filter table\n    ; ioctcnt - number of octave bands (optional)\n    ; iphs - initial phase (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.4, p3-0.2, 0.4, 0.1, 0\n    \n    ; Tone (pitch multiplier)\n    kTone = 1\n    \n    ; Brightness changes over time\n    kBrite linseg 1, p3*0.5, 10, p3*0.5, 3\n    \n    ; Base frequency\n    iBaseFreq = 220\n    \n    ; Generate tone with varying harmonic content\n    aSigL hsboscil kAmp, kTone, kBrite, iBaseFreq, giWave, giHarmEnv\n    aSigR hsboscil kAmp, kTone*1.002, kBrite, iBaseFreq, giWave, giHarmEnv\n    \n    outs aSigL, aSigR\nendin\n\ninstr 2\n    ; Demonstrate frequency modulation with hsboscil\n    kAmp madsr 0.02, 0.1, 0.6, 0.4\n    \n    ; Tone modulation (pitch vibrato)\n    kToneMod oscili 0.02, 5, giWave\n    kTone = 1 + kToneMod\n    \n    ; Fixed brightness\n    kBrite = 8\n    \n    ; Higher base frequency\n    iBaseFreq = 440\n    \n    aSigL hsboscil kAmp*0.3, kTone, kBrite, iBaseFreq, giWave, giHarmEnv\n    aSigR hsboscil kAmp*0.3, kTone, kBrite, iBaseFreq*1.005, giWave, giHarmEnv\n    \n    outs aSigL, aSigR\nendin\n\ninstr 3\n    ; Spectral morphing demonstration\n    kAmp linseg 0, 0.1, 0.35, p3-0.2, 0.35, 0.1, 0\n    \n    ; Sweep through different tonal centers\n    kTone linseg 0.5, p3, 2\n    \n    ; Brightness sweep\n    kBrite linseg 2, p3*0.3, 15, p3*0.4, 8, p3*0.3, 3\n    \n    iBaseFreq = 165\n    \n    aSigL hsboscil kAmp, kTone, kBrite, iBaseFreq, giWave, giHarmEnv\n    aSigR hsboscil kAmp, kTone*0.998, kBrite, iBaseFreq, giWave, giHarmEnv\n    \n    outs aSigL, aSigR\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 (brightness sweep)\ni1 0 4\n; Play instrument 2 (vibrato)\ni2 4.5 3\n; Play instrument 3 (spectral morphing)\ni3 8 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates ring modulation", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSine ftgen 1, 0, 16384, 10, 1\ngiSaw ftgen 2, 0, 16384, 10, 1, 0.5, 0.3, 0.25, 0.2\n\ninstr 1\n    ; Basic ring modulation (simple multiplication)\n    ; Ring modulation creates sum and difference frequencies\n    \n    iAmp = 0.4\n    iCarrier = p4\n    iModulator = p5\n    \n    ; Carrier signal\n    aCarrier poscil 1, iCarrier, giSine\n    \n    ; Modulator signal\n    aModulator poscil 1, iModulator, giSine\n    \n    ; Ring modulation (multiplication)\n    aRing = aCarrier * aModulator * iAmp\n    \n    outs aRing, aRing\nendin\n\ninstr 2\n    ; Ring modulation with complex waveforms\n    iAmp = 0.35\n    iCarrier = p4\n    iModulator = p5\n    \n    ; Carrier (sawtooth)\n    aCarrier poscil 1, iCarrier, giSaw\n    \n    ; Modulator (sine)\n    aModulator poscil 1, iModulator, giSine\n    \n    ; Ring mod\n    aRing = aCarrier * aModulator * iAmp\n    \n    outs aRing, aRing\nendin\n\ninstr 3\n    ; Variable modulation depth\n    iAmp = 0.4\n    iCarrier = p4\n    iModulator = p5\n    \n    aCarrier poscil 1, iCarrier, giSine\n    aModulator poscil 1, iModulator, giSine\n    \n    ; Depth control (0 to 1)\n    kDepth linseg 0, p3*0.3, 1, p3*0.7, 0\n    \n    ; Mix dry and ring modulated\n    aRing = aCarrier * (1 - kDepth) + (aCarrier * aModulator * kDepth)\n    \n    outs aRing*iAmp, aRing*iAmp\nendin\n\ninstr 4\n    ; Time-varying modulator frequency\n    iAmp = 0.4\n    iCarrier = p4\n    \n    aCarrier poscil 1, iCarrier, giSine\n    \n    ; Sweeping modulator\n    kModFreq expseg 50, p3, 500\n    aModulator poscil 1, kModFreq, giSine\n    \n    aRing = aCarrier * aModulator * iAmp\n    \n    outs aRing, aRing\nendin\n\ninstr 5\n    ; ampmidid opcode: iout ampmidid iscal, ifn\n    ; ampmidid converts MIDI velocity to amplitude with dynamic scaling\n    ; iscal - scaling factor\n    ; ifn - function table for mapping\n    \n    ; Note: This is typically used with MIDI input\n    ; Demonstrating with fixed values\n    \n    iVel = p4  ; MIDI velocity (0-127)\n    iScal = 1\n    iAmp ampmidid iScal, 0\n    \n    iFreq = 440\n    \n    aOsc poscil iAmp*0.5, iFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 6\n    ; Multiple modulator ring mod\n    iAmp = 0.3\n    iCarrier = p4\n    \n    aCarrier poscil 1, iCarrier, giSine\n    \n    ; Two modulators\n    aMod1 poscil 1, iCarrier*0.5, giSine\n    aMod2 poscil 1, iCarrier*1.5, giSine\n    \n    ; Ring mod with both\n    aRing1 = aCarrier * aMod1\n    aRing2 = aCarrier * aMod2\n    \n    aMix = (aRing1 + aRing2) * iAmp * 0.5\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic ring mod\n; Format: start dur carrier modulator\ni1 0 2 440 100\ni1 2.5 2 440 300\n\n; Play complex waveforms\ni2 5.5 2 330 150\n\n; Play variable depth\ni3 8.5 3 523 200\n\n; Play sweeping modulator\ni4 12.5 4 392\n\n; Play with MIDI velocity\ni5 17.5 2 80\ni5 19.5 2 100\ni5 21.5 2 120\n\n; Play multiple modulators\ni6 24.5 3 294\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates physical model drum synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; dripwater opcode: ares dripwater kamp, idettack [, inum] [, idamp] [, imaxshake] [, ifreq] [, ifreq1] [, ifreq2]\n    ; dripwater simulates water drops\n    ; kamp - amplitude\n    ; idettack - time to attack peak\n    ; inum - number of drops\n    ; idamp - damping\n    \n    kAmp = 0.5\n    iDetTack = 0.01\n    iNum = 10\n    iDamp = 0.1\n    iFreq = 450\n    iFreq1 = 600\n    iFreq2 = 750\n    \n    aDrip dripwater kAmp, iDetTack, iNum, iDamp, 0, iFreq, iFreq1, iFreq2\n    \n    outs aDrip, aDrip\nendin\n\ninstr 2\n    ; tambourine opcode: ares tambourine kamp, idettack [, inum] [, idamp] [, imaxshake] [, ifreq] [, ifreq1] [, ifreq2]\n    ; tambourine simulates tambourine\n    ; Similar parameters to dripwater\n    \n    kAmp = 0.5\n    iDetTack = 0.01\n    iNum = 32\n    iDamp = 0.05\n    iMaxShake = 0\n    iFreq = 2300\n    \n    aTamb tambourine kAmp, iDetTack, iNum, iDamp, iMaxShake, iFreq\n    \n    outs aTamb, aTamb\nendin\n\ninstr 3\n    ; sleighbells opcode: ares sleighbells kamp, idettack [, inum] [, idamp] [, imaxshake] [, ifreq] [, ifreq1] [, ifreq2]\n    ; sleighbells simulates sleigh bells\n    \n    kAmp = 0.5\n    iDetTack = 0.01\n    iNum = 32\n    iDamp = 0.03\n    iMaxShake = 0\n    iFreq = 2500\n    \n    aBells sleighbells kAmp, iDetTack, iNum, iDamp, iMaxShake, iFreq\n    \n    outs aBells, aBells\nendin\n\ninstr 4\n    ; guiro opcode: ares guiro kamp, idettack [, inum] [, idamp] [, imaxshake] [, ifreq] [, ifreq1] [, ifreq2]\n    ; guiro simulates scraped gourd\n    \n    kAmp = 0.5\n    iDetTack = 0.01\n    iNum = 128\n    iDamp = 0.1\n    iMaxShake = 0\n    iFreq = 2500\n    \n    aGuiro guiro kAmp, iDetTack, iNum, iDamp, iMaxShake, iFreq\n    \n    outs aGuiro, aGuiro\nendin\n\ninstr 5\n    ; cabasa opcode: ares cabasa kamp, idettack [, inum] [, idamp] [, imaxshake]\n    ; cabasa simulates cabasa shaker\n    \n    kAmp = 0.5\n    iDetTack = 0.01\n    iNum = 512\n    iDamp = 0.1\n    iMaxShake = 0\n    \n    aCabasa cabasa kAmp, iDetTack, iNum, iDamp, iMaxShake\n    \n    outs aCabasa, aCabasa\nendin\n\ninstr 6\n    ; sekere opcode: ares sekere kamp, idettack [, inum] [, idamp] [, imaxshake]\n    ; sekere simulates beaded gourd\n    \n    kAmp = 0.5\n    iDetTack = 0.01\n    iNum = 64\n    iDamp = 0.1\n    iMaxShake = 0\n    \n    aSekere sekere kAmp, iDetTack, iNum, iDamp, iMaxShake\n    \n    outs aSekere, aSekere\nendin\n\ninstr 7\n    ; sandpaper opcode: ares sandpaper kamp, idettack [, inum] [, idamp] [, imaxshake]\n    ; sandpaper simulates sandpaper scraping\n    \n    kAmp = 0.5\n    iDetTack = 0.01\n    iNum = 128\n    iDamp = 0.1\n    iMaxShake = 0\n    \n    aSand sandpaper kAmp, iDetTack, iNum, iDamp, iMaxShake\n    \n    outs aSand, aSand\nendin\n\ninstr 8\n    ; crunch opcode: ares crunch kamp, idettack [, inum] [, idamp] [, imaxshake]\n    ; crunch simulates crunching sounds\n    \n    kAmp = 0.5\n    iDetTack = 0.01\n    iNum = 7\n    iDamp = 0.1\n    iMaxShake = 0\n    \n    aCrunch crunch kAmp, iDetTack, iNum, iDamp, iMaxShake\n    \n    outs aCrunch, aCrunch\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play water drops\ni1 0 2\ni1 2.5 2\n\n; Play tambourine\ni2 5.5 1\ni2 6.5 1\n\n; Play sleigh bells\ni3 8.5 2\n\n; Play guiro\ni4 11.5 1\ni4 12.5 1\n\n; Play cabasa\ni5 14.5 1\ni5 15.5 1\n\n; Play sekere\ni6 17.5 1\ni6 18.5 1\n\n; Play sandpaper\ni7 20.5 1\ni7 21.5 1\n\n; Play crunch\ni8 23.5 1\ni8 24.5 1\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates envelope generators", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSine ftgen 1, 0, 16384, 10, 1\n\ninstr 1\n    ; linen opcode: kres linen kamp, irise, idur, idec\n    ; linen generates linear envelope\n    ; kamp - peak amplitude\n    ; irise - rise time\n    ; idur - total duration\n    ; idec - decay time\n    \n    iFreq = p4\n    iRise = 0.1\n    iDec = 0.2\n    \n    kEnv linen 0.5, iRise, p3, iDec\n    \n    aOsc poscil kEnv, iFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 2\n    ; linenr opcode: kres linenr kamp, irise, idec, iatdec\n    ; linenr is like linen but can be released\n    ; iatdec - decay time after release\n    \n    iFreq = p4\n    iRise = 0.05\n    iDec = 0.15\n    iRelDec = 0.3\n    \n    kEnv linenr 0.5, iRise, iDec, iRelDec\n    \n    aOsc poscil kEnv, iFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 3\n    ; adsr opcode: kres adsr iatt, idec, islev, irel\n    ; adsr generates Attack-Decay-Sustain-Release envelope\n    ; iatt - attack time\n    ; idec - decay time\n    ; islev - sustain level (0-1)\n    ; irel - release time\n    \n    iFreq = p4\n    iAtt = 0.05\n    iDec = 0.1\n    iSus = 0.7\n    iRel = 0.2\n    \n    kEnv adsr iAtt, iDec, iSus, iRel\n    \n    aOsc poscil kEnv*0.5, iFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 4\n    ; madsr opcode: kres madsr iatt, idec, islev, irel\n    ; madsr is MIDI-aware ADSR\n    ; Similar to adsr but responds to MIDI note-off\n    \n    iFreq = p4\n    iAtt = 0.02\n    iDec = 0.15\n    iSus = 0.6\n    iRel = 0.3\n    \n    kEnv madsr iAtt, iDec, iSus, iRel\n    \n    aOsc poscil kEnv*0.5, iFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 5\n    ; mxadsr opcode: kres mxadsr iatt, idec, islev, irel, idel, iatt2, isus2, irel2\n    ; mxadsr is extended ADSR with additional stages\n    ; idel - delay before attack\n    ; iatt2 - secondary attack\n    ; isus2 - secondary sustain level\n    ; irel2 - secondary release\n    \n    iFreq = p4\n    iDel = 0\n    iAtt = 0.05\n    iDec = 0.1\n    iSus = 0.7\n    iRel = 0.2\n    iAtt2 = 0.03\n    iSus2 = 0.8\n    iRel2 = 0.15\n    \n    kEnv mxadsr iAtt, iDec, iSus, iRel, iDel, iAtt2, iSus2, iRel2\n    \n    aOsc poscil kEnv*0.5, iFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 6\n    ; expseg opcode: kres expseg ia, idur1, ib [, idur2, ic] [...]\n    ; expseg generates exponential line segments\n    ; ia, ib, ic - values (must be non-zero)\n    ; idur1, idur2 - durations\n    \n    iFreq = p4\n    \n    ; Exponential envelope\n    kEnv expseg 0.01, 0.05, 1, p3-0.25, 0.5, 0.2, 0.01\n    \n    aOsc poscil kEnv*0.5, iFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 7\n    ; linseg opcode: kres linseg ia, idur1, ib [, idur2, ic] [...]\n    ; linseg generates linear line segments\n    ; ia, ib, ic - values\n    ; idur1, idur2 - durations\n    \n    iFreq = p4\n    \n    ; Linear envelope\n    kEnv linseg 0, 0.1, 1, p3-0.3, 0.8, 0.2, 0\n    \n    aOsc poscil kEnv*0.5, iFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play linen\ni1 0 2 440\n\n; Play linenr\ni2 3 2 523\n\n; Play adsr\ni3 6 2 330\ni3 8 2 392\n\n; Play madsr\ni4 11 2 294\n\n; Play mxadsr\ni5 14 2 440\n\n; Play expseg\ni6 17 2 523\n\n; Play linseg\ni7 20 2 392\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates advanced envelope techniques", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSine ftgen 1, 0, 16384, 10, 1\ngiSaw ftgen 2, 0, 16384, 10, 1, 0.5, 0.3, 0.25, 0.2\n\ninstr 1\n    ; Multiple parameter envelopes\n    iBaseFreq = p4\n    \n    ; Amplitude envelope\n    kAmpEnv madsr 0.01, 0.1, 0.7, 0.3\n    \n    ; Filter envelope\n    kFiltEnv expseg 0.01, 0.05, 1, 0.2, 0.3, p3-0.25, 0.1\n    kCutoff = 500 + kFiltEnv * 4000\n    \n    ; Pitch envelope\n    kPitchEnv linseg 0, 0.02, 20, 0.05, 0, p3-0.07, 0\n    kFreq = iBaseFreq + kPitchEnv\n    \n    aOsc poscil kAmpEnv*0.5, kFreq, giSaw\n    aFilt butterlp aOsc, kCutoff\n    \n    outs aFilt, aFilt\nendin\n\ninstr 2\n    ; Complex multi-stage envelope\n    iFreq = p4\n    \n    ; 5-stage amplitude envelope\n    kEnv linseg 0, 0.01, 0.3, 0.05, 1, 0.1, 0.7, p3-0.36, 0.6, 0.2, 0\n    \n    aOsc poscil kEnv*0.5, iFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 3\n    ; Looping envelope (for rhythmic effects)\n    iFreq = p4\n    \n    ; Base amplitude\n    kBaseEnv madsr 0.01, 0.1, 0.8, 0.2\n    \n    ; Rhythmic modulation\n    kMod lfo 0.4, 4, 2\n    kMod = 0.6 + kMod\n    \n    kFinalEnv = kBaseEnv * kMod\n    \n    aOsc poscil kFinalEnv*0.5, iFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play multi-parameter envelopes\ni1 0 2 330\ni1 2 2 440\n\n; Play complex multi-stage\ni2 5 3 294\n\n; Play looping envelope\ni3 9 4 523\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates FM operator models with fmb3", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; fmb3 opcode: ares fmb3 kcarfreq, kindex, kxcar, kxmod, kvdepth, kvrate\n    ; fmb3 implements a basic 3-operator FM algorithm\n    ; kcarfreq - carrier frequency\n    ; kindex - modulation index\n    ; kxcar - carrier multiplier\n    ; kxmod - modulator multiplier\n    ; kvdepth - vibrato depth\n    ; kvrate - vibrato rate\n    \n    iAmp = 0.5\n    kCarFreq = p4\n    kIndex = 5\n    kCarMult = 1\n    kModMult = 2\n    kVibDepth = 0\n    kVibRate = 0\n    \n    aFM fmb3 kCarFreq, kIndex, kCarMult, kModMult, kVibDepth, kVibRate\n    \n    outs aFM*iAmp, aFM*iAmp\nendin\n\ninstr 2\n    ; fmbell opcode: ares fmbell kamp, kfreq, kc1, kc2, kvdepth, kvrate [, ifn1, ifn2, ifn3, ifn4, ivfn]\n    ; fmbell simulates tubular bell using FM\n    ; kamp - amplitude\n    ; kfreq - frequency\n    ; kc1, kc2 - control parameters\n    ; kvdepth, kvrate - vibrato\n    \n    iAmp = 0.5\n    kFreq = p4\n    kC1 = 5\n    kC2 = 5\n    kVibDepth = 0.5\n    kVibRate = 6\n    \n    aBell fmbell iAmp, kFreq, kC1, kC2, kVibDepth, kVibRate\n    \n    outs aBell, aBell\nendin\n\ninstr 3\n    ; fmrhode opcode: ares fmrhode kamp, kfreq, kc1, kc2, kvdepth, kvrate [, ifn1, ifn2, ifn3, ifn4, ivfn]\n    ; fmrhode simulates Rhodes electric piano\n    ; kamp - amplitude\n    ; kfreq - frequency\n    ; kc1, kc2 - control parameters (typically 0.5-2)\n    \n    iAmp = 0.5\n    kFreq = p4\n    kC1 = 1\n    kC2 = 1\n    kVibDepth = 0.1\n    kVibRate = 5\n    \n    aRhodes fmrhode iAmp, kFreq, kC1, kC2, kVibDepth, kVibRate\n    \n    outs aRhodes, aRhodes\nendin\n\ninstr 4\n    ; fmwurlie opcode: ares fmwurlie kamp, kfreq, kc1, kc2, kvdepth, kvrate [, ifn1, ifn2, ifn3, ifn4, ivfn]\n    ; fmwurlie simulates Wurlitzer electric piano\n    ; Similar parameters to fmrhode but different character\n    \n    iAmp = 0.5\n    kFreq = p4\n    kC1 = 1\n    kC2 = 1\n    kVibDepth = 0.1\n    kVibRate = 5\n    \n    aWurly fmwurlie iAmp, kFreq, kC1, kC2, kVibDepth, kVibRate\n    \n    outs aWurly, aWurly\nendin\n\ninstr 5\n    ; fmpercfl opcode: ares fmpercfl kamp, kfreq, kc1, kc2, kvdepth, kvrate [, ifn1, ifn2, ifn3, ifn4, ivfn]\n    ; fmpercfl simulates percussive flute\n    ; kc1, kc2 control breath noise and articulation\n    \n    iAmp = 0.5\n    kFreq = p4\n    kC1 = 2\n    kC2 = 1\n    kVibDepth = 0.3\n    kVibRate = 4\n    \n    aFlute fmpercfl iAmp, kFreq, kC1, kC2, kVibDepth, kVibRate\n    \n    outs aFlute, aFlute\nendin\n\ninstr 6\n    ; fmvoice opcode: ares fmvoice kamp, kfreq, kphoneme, kform, kvibf, kvamp [, ifn1, ifn2, ifn3, ifn4, ivfn]\n    ; fmvoice simulates vocal sounds\n    ; kphoneme - phoneme selector\n    ; kform - formant shifter\n    \n    iAmp = 0.5\n    kFreq = p4\n    kPhoneme = p5\n    kForm = 1\n    kVibFreq = 5\n    kVibAmp = 0.05\n    \n    aVoice fmvoice iAmp, kFreq, kPhoneme, kForm, kVibFreq, kVibAmp\n    \n    outs aVoice, aVoice\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play fmb3\ni1 0 2 440\ni1 2.5 2 523\n\n; Play bell\ni2 5.5 3 330\ni2 8.5 3 440\n\n; Play Rhodes\ni3 12.5 2 294\ni3 14.5 2 392\ni3 16.5 2 523\n\n; Play Wurlitzer\ni4 19.5 2 330\ni4 21.5 2 440\n\n; Play percussive flute\ni5 24.5 2 523\ni5 26.5 2 659\n\n; Play voice\n; Format: start dur freq phoneme\ni6 29.5 2 220 0\ni6 31.5 2 220 1\ni6 33.5 2 220 2\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates advanced FM operator model techniques", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; Dynamic Rhodes with expression\n    kFreq = p4\n    \n    ; Envelope\n    kEnv madsr 0.01, 0.1, 0.7, 0.5\n    kAmp = kEnv * 0.5\n    \n    ; Dynamic control parameters\n    kC1 = 1 + kEnv * 0.5\n    kC2 = 1\n    kVibDepth = 0.1\n    kVibRate = 5\n    \n    aRhodes fmrhode kAmp, kFreq, kC1, kC2, kVibDepth, kVibRate\n    \n    outs aRhodes, aRhodes\nendin\n\ninstr 2\n    ; Bell with decay\n    kFreq = p4\n    \n    ; Exponential decay\n    kEnv expseg 1, p3, 0.01\n    kAmp = kEnv * 0.6\n    \n    ; Brightness fades\n    kC1 linseg 8, p3, 2\n    kC2 = 5\n    kVibDepth = 0.3\n    kVibRate = 6\n    \n    aBell fmbell kAmp, kFreq, kC1, kC2, kVibDepth, kVibRate\n    \n    outs aBell, aBell\nendin\n\ninstr 3\n    ; Flute with breath control\n    kFreq = p4\n    \n    ; Breath envelope\n    kEnv linseg 0, 0.1, 1, p3-0.3, 1, 0.2, 0\n    kAmp = kEnv * 0.5\n    \n    ; Breath noise varies\n    kC1 linseg 1, p3*0.3, 3, p3*0.7, 1\n    kC2 = 1\n    kVibDepth linseg 0, 0.5, 0.4, p3-0.5, 0.4\n    kVibRate = 4.5\n    \n    aFlute fmpercfl kAmp, kFreq, kC1, kC2, kVibDepth, kVibRate\n    \n    outs aFlute, aFlute\nendin\n\ninstr 4\n    ; Morphing voice\n    kFreq = p4\n    \n    kAmp = 0.5\n    \n    ; Morph through phonemes\n    kPhoneme linseg 0, p3, 4\n    kForm = 1\n    kVibFreq = 5.5\n    kVibAmp = 0.08\n    \n    aVoice fmvoice kAmp, kFreq, kPhoneme, kForm, kVibFreq, kVibAmp\n    \n    outs aVoice, aVoice\nendin\n\ninstr 5\n    ; Layered Rhodes and Wurlitzer\n    kFreq = p4\n    \n    kEnv madsr 0.01, 0.1, 0.8, 0.4\n    kAmp = kEnv * 0.35\n    \n    kC1 = 1\n    kC2 = 1\n    kVibDepth = 0.1\n    kVibRate = 5\n    \n    aRhodes fmrhode kAmp, kFreq, kC1, kC2, kVibDepth, kVibRate\n    aWurly fmwurlie kAmp, kFreq*1.002, kC1, kC2, kVibDepth, kVibRate\n    \n    aMix = aRhodes + aWurly\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play expressive Rhodes\ni1 0 2 294\ni1 2 2 330\ni1 4 2 392\n\n; Play decaying bells\ni2 7 4 523\ni2 11 4 440\n\n; Play expressive flute\ni3 16 3 523\ni3 19 3 659\n\n; Play morphing voice\ni4 23 4 196\n\n; Play layered e-pianos\ni5 28 2 220\ni5 30 2 247\ni5 32 2 294\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates FM synthesis variations", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSine ftgen 1, 0, 16384, 10, 1\n\ninstr 1\n    ; fm opcode (basic FM synthesis)\n    ; Manual implementation using oscillators\n    \n    iAmp = 0.4\n    iCarrier = p4\n    iModRatio = p5\n    iIndex = p6\n    \n    ; Modulator\n    iModFreq = iCarrier * iModRatio\n    iModDepth = iModFreq * iIndex\n    aMod poscil iModDepth, iModFreq, giSine\n    \n    ; Carrier\n    aCarrier poscil iAmp, iCarrier + aMod, giSine\n    \n    outs aCarrier, aCarrier\nendin\n\ninstr 2\n    ; crossfmi opcode: a1, a2 crossfmi xfrq1, xfrq2, xndx1, xndx2, kcps, ifn1, ifn2 [, iphs1, iphs2]\n    ; crossfmi implements integer cross-FM\n    ; Similar to crossfm but with integer frequency ratios\n    \n    iAmp = 0.4\n    kCps = p4\n    kFreq1 = 1\n    kFreq2 = 2\n    kIndex1 = 4\n    kIndex2 = 2\n    \n    a1, a2 crossfmi kFreq1, kFreq2, kIndex1, kIndex2, kCps, giSine, giSine\n    \n    aMix = (a1 + a2) * iAmp\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; crosspm opcode: a1, a2 crosspm xfrq1, xfrq2, xndx1, xndx2, kcps, ifn1, ifn2 [, iphs1, iphs2]\n    ; crosspm implements cross-phase modulation\n    \n    iAmp = 0.4\n    kCps = p4\n    kFreq1 = 1\n    kFreq2 = 1.5\n    kIndex1 = 5\n    kIndex2 = 3\n    \n    a1, a2 crosspm kFreq1, kFreq2, kIndex1, kIndex2, kCps, giSine, giSine\n    \n    aMix = (a1 + a2) * iAmp\n    \n    outs aMix, aMix\nendin\n\ninstr 4\n    ; crosspmi opcode: a1, a2 crosspmi xfrq1, xfrq2, xndx1, xndx2, kcps, ifn1, ifn2 [, iphs1, iphs2]\n    ; crosspmi implements integer cross-PM\n    \n    iAmp = 0.4\n    kCps = p4\n    kFreq1 = 1\n    kFreq2 = 3\n    kIndex1 = 6\n    kIndex2 = 4\n    \n    a1, a2 crosspmi kFreq1, kFreq2, kIndex1, kIndex2, kCps, giSine, giSine\n    \n    aMix = (a1 + a2) * iAmp\n    \n    outs aMix, aMix\nendin\n\ninstr 5\n    ; Dynamic cross-FM\n    iAmp = 0.4\n    kCps = p4\n    kFreq1 = 1\n    kFreq2 = 1.618  ; Golden ratio\n    \n    ; Indices change\n    kIndex1 linseg 1, p3, 8\n    kIndex2 linseg 0.5, p3, 5\n    \n    a1, a2 crossfm kFreq1, kFreq2, kIndex1, kIndex2, kCps, giSine, giSine\n    \n    aMix = (a1 + a2) * iAmp\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic FM\n; Format: start dur carrier mod_ratio index\ni1 0 2 220 2 5\ni1 2.5 2 220 3 3\n\n; Play crossfmi\ni2 5.5 2 330\n\n; Play crosspm\ni3 8.5 2 440\n\n; Play crosspmi\ni4 11.5 2 294\n\n; Play dynamic cross-FM\ni5 14.5 3 392\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the foscil opcode for basic FM synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; foscil opcode: ares foscil xamp, kcps, xcar, xmod, kndx, ifn [, iphs]\n    ; foscil implements basic FM synthesis\n    ; xamp - amplitude\n    ; kcps - frequency in Hz (carrier frequency)\n    ; xcar - carrier/modulator ratio (C:M ratio)\n    ; xmod - modulator/carrier ratio (typically inverse of xcar)\n    ; kndx - modulation index (depth of modulation)\n    ; ifn - function table (typically sine wave)\n    ; iphs - initial phase (optional)\n    \n    ; Amplitude envelope\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Basic FM parameters\n    kCPS = 440\n    kCar = 1      ; Carrier = fundamental\n    kMod = 1      ; Modulator = fundamental (1:1 ratio)\n    kNdx = 2      ; Modulation index\n    \n    ; Generate FM tone\n    aFM foscil kAmp*0.4, kCPS, kCar, kMod, kNdx, giSine\n    \n    out aFM\nendin\n\ninstr 2\n    ; FM bell sound with time-varying index\n    kAmp linseg 0, 0.01, 0.5, p3-0.2, 0.5, 0.19, 0\n    \n    kCPS = p4\n    kCar = 1\n    kMod = 1.4    ; Slightly inharmonic ratio\n    \n    ; Index envelope - starts high, decays\n    kNdx linseg 10, p3, 0.5\n    \n    aFM foscil kAmp*0.4, kCPS, kCar, kMod, kNdx, giSine\n    \n    out aFM\nendin\n\ninstr 3\n    ; FM brass with harmonic ratio\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    kCPS = 220\n    kCar = 1\n    kMod = 1      ; Harmonic ratio (1:1)\n    \n    ; Modulation index controlled by envelope\n    kNdxEnv madsr 0.05, 0.2, 0.3, 0.1\n    kNdx = 5 + kNdxEnv * 10\n    \n    aFM foscil kAmp*0.35, kCPS, kCar, kMod, kNdx, giSine\n    \n    out aFM\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic FM\ni1 0 3\n\n; Play FM bells\ni2 3.5 2 440\ni2 4.5 2 550\ni2 5.5 2 660\n\n; Play FM brass\ni3 8 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the foscili opcode for interpolating FM synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; foscili opcode: ares foscili xamp, kcps, xcar, xmod, kndx, ifn [, iphs]\n    ; foscili is like foscil but with interpolation for smoother modulation\n    ; xamp - amplitude\n    ; kcps - carrier frequency (Hz)\n    ; xcar - carrier multiplier\n    ; xmod - modulator multiplier\n    ; kndx - modulation index\n    ; ifn - function table\n    ; iphs - initial phase (optional)\n    \n    ; Amplitude envelope\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    kCPS = 330\n    kCar = 1\n    kMod = 2.001  ; Slightly detuned for shimmer\n    kNdx = 3\n    \n    aFM foscili kAmp*0.35, kCPS, kCar, kMod, kNdx, giSine\n    \n    outs aFM, aFM\nendin\n\ninstr 2\n    ; Swept FM with smooth modulation index changes\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    kCPS = 220\n    kCar = 1\n    kMod = 1.5\n    \n    ; Smoothly sweep modulation index\n    kNdx linseg 0.5, p3*0.3, 8, p3*0.4, 8, p3*0.3, 0.5\n    \n    aFM foscili kAmp*0.3, kCPS, kCar, kMod, kNdx, giSine\n    \n    outs aFM, aFM\nendin\n\ninstr 3\n    ; FM pad with LFO modulation\n    kAmp linseg 0, 0.3, 0.3, p3-0.6, 0.3, 0.3, 0\n    \n    kCPS = 110\n    kCar = 1\n    kMod = 2\n    \n    ; LFO modulates index\n    kLFO oscili 2, 0.4, giSine\n    kNdx = 4 + kLFO\n    \n    ; Detuned voices\n    aFM1 foscili kAmp*0.2, kCPS, kCar, kMod, kNdx, giSine\n    aFM2 foscili kAmp*0.2, kCPS*1.005, kCar, kMod, kNdx, giSine\n    \n    outs aFM1, aFM2\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic foscili\ni1 0 3\n\n; Play swept FM\ni2 3.5 5\n\n; Play FM pad\ni3 9 8\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the fmb3 opcode for Hammond organ-like FM tones", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; fmb3 opcode: ares fmb3 kamp, kfreq, kc1, kc2, kvdepth, kvrate [, ifn1] [, ifn2] [, ifn3] [, ifn4] [, ivfn]\n    ; fmb3 is an FM emulation of a Hammond B3 organ\n    ; kamp - amplitude\n    ; kfreq - frequency (Hz)\n    ; kc1 - control 1 (drawbar mix)\n    ; kc2 - control 2 (detune amount)\n    ; kvdepth - vibrato depth\n    ; kvrate - vibrato rate\n    ; ifn1-4 - waveform tables (default to sine)\n    ; ivfn - vibrato function table\n    \n    ; Amplitude envelope\n    kAmp madsr 0.02, 0.1, 0.8, 0.3\n    \n    kFreq = p4\n    kC1 = 0.5     ; Drawbar mix\n    kC2 = 5       ; Detune\n    kVDepth = 0.01  ; Vibrato depth\n    kVRate = 6      ; Vibrato rate (Hz)\n    \n    ; Generate B3-like tone\n    aOrgan fmb3 kAmp*0.3, kFreq, kC1, kC2, kVDepth, kVRate, giSine, giSine, giSine, giSine, giSine\n    \n    outs aOrgan, aOrgan\nendin\n\ninstr 2\n    ; B3 organ with expression\n    kAmp madsr 0.03, 0.15, 0.7, 0.4\n    \n    kFreq = p4\n    \n    ; Drawbar settings change over time\n    kC1 linseg 0.3, p3, 0.8\n    kC2 = 6\n    kVDepth = 0.015\n    kVRate = 5.8\n    \n    aOrgan fmb3 kAmp*0.35, kFreq, kC1, kC2, kVDepth, kVRate\n    \n    outs aOrgan, aOrgan\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play B3 organ chord\ni1 0 3 262\ni1 0 3 330\ni1 0 3 392\n\n; Play melody with expression\ni2 3.5 1.5 262\ni2 5 1.5 294\ni2 6.5 1.5 330\ni2 8 2 349\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the fmbell opcode for bell-like FM tones", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; fmbell opcode: ares fmbell kamp, kfreq, kc1, kc2, kvdepth, kvrate [, ifn1] [, ifn2] [, ifn3] [, ifn4] [, ivfn]\n    ; fmbell generates bell-like tones using FM synthesis\n    ; kamp - amplitude\n    ; kfreq - frequency (Hz)\n    ; kc1 - modulation index control 1\n    ; kc2 - modulation index control 2\n    ; kvdepth - vibrato depth\n    ; kvrate - vibrato rate\n    ; ifn1-4 - waveform tables\n    ; ivfn - vibrato function table\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.01, 0.5, p3-0.01, 0\n    \n    kFreq = p4\n    kC1 = 5       ; High modulation index for bell\n    kC2 = 5\n    kVDepth = 0   ; No vibrato for bell\n    kVRate = 0\n    \n    ; Generate bell tone\n    aBell fmbell kAmp*0.4, kFreq, kC1, kC2, kVDepth, kVRate\n    \n    outs aBell, aBell\nendin\n\ninstr 2\n    ; Tubular bell with decay\n    kAmp expon 0.6, p3, 0.001\n    \n    kFreq = p4\n    kC1 = 4\n    kC2 = 6\n    kVDepth = 0\n    kVRate = 0\n    \n    aBell fmbell kAmp*0.35, kFreq, kC1, kC2, kVDepth, kVRate\n    \n    outs aBell, aBell\nendin\n\ninstr 3\n    ; Gamelan-like bell\n    kAmp linseg 0, 0.005, 0.5, p3-0.01, 0.5, 0.005, 0\n    \n    kFreq = p4\n    kC1 = 7       ; Very inharmonic\n    kC2 = 4.5\n    kVDepth = 0.005  ; Slight vibrato\n    kVRate = 4\n    \n    aBell fmbell kAmp*0.4, kFreq, kC1, kC2, kVDepth, kVRate\n    \n    outs aBell*0.7, aBell\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play church bells\ni1 0 4 262\ni1 1 4 330\ni1 2 4 392\n\n; Play tubular bells\ni2 6 3 523\ni2 7 3 659\ni2 8 3 784\n\n; Play gamelan\ni3 11 2.5 440\ni3 12 2.5 550\ni3 13 2.5 660\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the fmrhode opcode for Fender Rhodes electric piano tones", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; fmrhode opcode: ares fmrhode kamp, kfreq, kc1, kc2, kvdepth, kvrate [, ifn1] [, ifn2] [, ifn3] [, ifn4] [, ivfn]\n    ; fmrhode emulates Fender Rhodes electric piano using FM\n    ; kamp - amplitude\n    ; kfreq - frequency (Hz)\n    ; kc1 - modulation index control 1\n    ; kc2 - crossfade control\n    ; kvdepth - vibrato depth\n    ; kvrate - vibrato rate\n    ; ifn1-4 - waveform tables\n    ; ivfn - vibrato function table\n    \n    ; Amplitude envelope - piano-like\n    kAmp madsr 0.005, 0.08, 0.5, 0.3\n    \n    kFreq = p4\n    kC1 = 5       ; Modulation index\n    kC2 = 5       ; Crossfade\n    kVDepth = 0   ; No vibrato for piano\n    kVRate = 0\n    \n    ; Generate Rhodes tone\n    aRhodes fmrhode kAmp*0.35, kFreq, kC1, kC2, kVDepth, kVRate\n    \n    outs aRhodes, aRhodes\nendin\n\ninstr 2\n    ; Tremolo Rhodes\n    kAmp madsr 0.005, 0.08, 0.5, 0.3\n    \n    kFreq = p4\n    kC1 = 4.5\n    kC2 = 5\n    \n    ; Tremolo effect\n    kTrem oscili 0.3, 5, giSine\n    kAmpMod = kAmp * (0.7 + kTrem)\n    \n    kVDepth = 0\n    kVRate = 0\n    \n    aRhodes fmrhode kAmpMod*0.35, kFreq, kC1, kC2, kVDepth, kVRate\n    \n    outs aRhodes, aRhodes\nendin\n\ninstr 3\n    ; Chorused Rhodes\n    kAmp madsr 0.005, 0.08, 0.5, 0.3\n    \n    kFreq = p4\n    kC1 = 5\n    kC2 = 4.5\n    kVDepth = 0.01  ; Slight vibrato for chorus\n    kVRate = 4.5\n    \n    ; Two detuned voices\n    aRhodes1 fmrhode kAmp*0.25, kFreq, kC1, kC2, kVDepth, kVRate\n    aRhodes2 fmrhode kAmp*0.25, kFreq*1.003, kC1, kC2, kVDepth, kVRate+0.3\n    \n    outs aRhodes1, aRhodes2\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play Rhodes piano chord\ni1 0 2 262\ni1 0 2 330\ni1 0 2 392\ni1 0 2 523\n\n; Play melody with tremolo\ni2 3 1 440\ni2 4 1 494\ni2 5 1 523\ni2 6 2 587\n\n; Play chorused Rhodes\ni3 8.5 2 330\ni3 9 2 415\ni3 9.5 2 523\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the fmwurlie opcode for Wurlitzer electric piano tones", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; fmwurlie opcode: ares fmwurlie kamp, kfreq, kc1, kc2, kvdepth, kvrate [, ifn1] [, ifn2] [, ifn3] [, ifn4] [, ivfn]\n    ; fmwurlie emulates Wurlitzer electric piano using FM\n    ; kamp - amplitude\n    ; kfreq - frequency (Hz)\n    ; kc1 - modulation index control 1\n    ; kc2 - modulation index control 2\n    ; kvdepth - vibrato depth\n    ; kvrate - vibrato rate\n    ; ifn1-4 - waveform tables\n    ; ivfn - vibrato function table\n    \n    ; Amplitude envelope\n    kAmp madsr 0.003, 0.06, 0.4, 0.25\n    \n    kFreq = p4\n    kC1 = 5       ; Modulation settings\n    kC2 = 5\n    kVDepth = 0\n    kVRate = 0\n    \n    ; Generate Wurlitzer tone\n    aWurlie fmwurlie kAmp*0.35, kFreq, kC1, kC2, kVDepth, kVRate\n    \n    outs aWurlie, aWurlie\nendin\n\ninstr 2\n    ; Wurlitzer with expression\n    kAmp madsr 0.003, 0.06, 0.4, 0.25\n    \n    kFreq = p4\n    \n    ; Dynamic modulation\n    kC1 linseg 4, p3, 6\n    kC2 = 5\n    kVDepth = 0\n    kVRate = 0\n    \n    aWurlie fmwurlie kAmp*0.35, kFreq, kC1, kC2, kVDepth, kVRate\n    \n    outs aWurlie, aWurlie\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play Wurlitzer\ni1 0 1.5 330\ni1 1.5 1.5 392\ni1 3 2 440\n\n; Play with expression\ni2 6 2 262\ni2 7 2 330\ni2 8 2 392\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the fmpercfl opcode for FM percussion and flute sounds", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; fmpercfl opcode: ares fmpercfl kamp, kfreq, kc1, kc2, kvdepth, kvrate [, ifn1] [, ifn2] [, ifn3] [, ifn4] [, ivfn]\n    ; fmpercfl generates percussion and flute sounds using FM\n    ; kamp - amplitude\n    ; kfreq - frequency (Hz)\n    ; kc1 - modulation control 1\n    ; kc2 - modulation control 2\n    ; kvdepth - vibrato depth\n    ; kvrate - vibrato rate\n    ; ifn1-4 - waveform tables\n    ; ivfn - vibrato function table\n    \n    ; Percussion envelope\n    kAmp linseg 0, 0.005, 0.5, p3-0.01, 0.5, 0.005, 0\n    \n    kFreq = p4\n    kC1 = 8       ; High index for percussion\n    kC2 = 3\n    kVDepth = 0\n    kVRate = 0\n    \n    ; Generate percussion\n    aPerc fmpercfl kAmp*0.4, kFreq, kC1, kC2, kVDepth, kVRate\n    \n    outs aPerc, aPerc\nendin\n\ninstr 2\n    ; Flute-like sound\n    kAmp madsr 0.02, 0.1, 0.6, 0.3\n    \n    kFreq = p4\n    kC1 = 1       ; Low index for flute\n    kC2 = 1.5\n    kVDepth = 0.01  ; Vibrato for flute\n    kVRate = 5.5\n    \n    aFlute fmpercfl kAmp*0.35, kFreq, kC1, kC2, kVDepth, kVRate\n    \n    outs aFlute, aFlute\nendin\n\ninstr 3\n    ; Marimba-like percussion\n    kAmp expon 0.5, p3, 0.001\n    \n    kFreq = p4\n    kC1 = 10\n    kC2 = 2\n    kVDepth = 0\n    kVRate = 0\n    \n    aMarimba fmpercfl kAmp*0.4, kFreq, kC1, kC2, kVDepth, kVRate\n    \n    outs aMarimba, aMarimba\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play percussion\ni1 0 0.8 440\ni1 0.8 0.8 550\ni1 1.6 0.8 660\n\n; Play flute melody\ni2 3 1.5 523\ni2 4.5 1.5 587\ni2 6 2 659\n\n; Play marimba\ni3 9 1.5 330\ni3 10 1.5 392\ni3 11 1.5 440\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the fmvoice opcode for voice-like FM sounds", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; fmvoice opcode: ares fmvoice kamp, kfreq, kvowel, ktilt, kvibamt, kvibrate, ifn1, ifn2, ifn3, ifn4, ivibfn\n    ; fmvoice generates voice-like sounds using FM synthesis\n    ; kamp - amplitude\n    ; kfreq - frequency (Hz)\n    ; kvowel - vowel selection (1-5: a, e, i, o, u)\n    ; ktilt - spectral tilt\n    ; kvibamt - vibrato amount\n    ; kvibrate - vibrato rate\n    ; ifn1-4 - waveform tables\n    ; ivibfn - vibrato function table\n    \n    ; Amplitude envelope\n    kAmp madsr 0.03, 0.1, 0.7, 0.3\n    \n    kFreq = p4\n    kVowel = p5   ; 1-5 for different vowels\n    kTilt = 1\n    kVibAmt = 0.01\n    kVibRate = 5.5\n    \n    ; Generate voice\n    aVoice fmvoice kAmp*0.35, kFreq, kVowel, kTilt, kVibAmt, kVibRate, \\\n                   giSine, giSine, giSine, giSine, giSine\n    \n    outs aVoice, aVoice\nendin\n\ninstr 2\n    ; Morphing between vowels\n    kAmp madsr 0.03, 0.15, 0.6, 0.4\n    \n    kFreq = 180\n    \n    ; Vowel changes over time\n    kVowel linseg 1, p3, 5\n    kTilt = 1\n    kVibAmt = 0.015\n    kVibRate = 6\n    \n    aVoice fmvoice kAmp*0.35, kFreq, kVowel, kTilt, kVibAmt, kVibRate, \\\n                   giSine, giSine, giSine, giSine, giSine\n    \n    outs aVoice, aVoice\nendin\n\ninstr 3\n    ; Choir-like texture\n    kAmp linseg 0, 0.3, 0.3, p3-0.6, 0.3, 0.3, 0\n    \n    kFreq = p4\n    kVowel = 1    ; \"ah\" vowel\n    kTilt = 1.2\n    kVibAmt = 0.02\n    kVibRate = 5\n    \n    ; Multiple voices with slight detuning\n    aVoice1 fmvoice kAmp*0.2, kFreq, kVowel, kTilt, kVibAmt, kVibRate, \\\n                    giSine, giSine, giSine, giSine, giSine\n    aVoice2 fmvoice kAmp*0.2, kFreq*1.003, kVowel, kTilt, kVibAmt, kVibRate+0.3, \\\n                    giSine, giSine, giSine, giSine, giSine\n    \n    aChoir = aVoice1 + aVoice2\n    \n    outs aChoir, aChoir\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play different vowels\n; Vowels: 1=a, 2=e, 3=i, 4=o, 5=u\ni1 0 2 220 1\ni1 2.5 2 220 3\ni1 5 2 220 5\n\n; Play vowel morph\ni2 8 5\n\n; Play choir\ni3 14 6 262\ni3 14 6 330\ni3 14 6 392\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the crossfm and crossfmi opcodes for cross-synthesis FM", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; crossfm opcode: a1, a2 crossfm xfrq1, xfrq2, xndx1, xndx2, kcps, ifn1, ifn2 [, iphs1] [, iphs2]\n    ; crossfm implements cross-coupled FM synthesis\n    ; xfrq1, xfrq2 - base frequencies\n    ; xndx1, xndx2 - modulation indices\n    ; kcps - crossfade control\n    ; ifn1, ifn2 - function tables\n    ; iphs1, iphs2 - initial phases (optional)\n    ; Returns two outputs with cross-modulation\n    \n    ; Amplitude envelope\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    kFrq1 = 220\n    kFrq2 = 330\n    kNdx1 = 3\n    kNdx2 = 4\n    kCPS = 0.5    ; Balance between oscillators\n    \n    ; Generate cross-FM\n    aFM1, aFM2 crossfm kFrq1, kFrq2, kNdx1, kNdx2, kCPS, giSine, giSine\n    \n    ; Mix outputs\n    aOut = (aFM1 + aFM2) * kAmp * 0.3\n    \n    outs aOut, aOut\nendin\n\ninstr 2\n    ; crossfmi opcode: a1, a2 crossfmi xfrq1, xfrq2, xndx1, xndx2, kcps, ifn1, ifn2 [, iphs1] [, iphs2]\n    ; crossfmi is like crossfm but with interpolation\n    ; xfrq1, xfrq2 - base frequencies\n    ; xndx1, xndx2 - modulation indices\n    ; kcps - crossfade control\n    ; ifn1, ifn2 - function tables\n    \n    ; Amplitude envelope\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    kFrq1 = 165\n    kFrq2 = 165 * 1.5\n    \n    ; Modulation indices with envelopes\n    kNdxEnv madsr 0.03, 0.2, 0.3, 0.1\n    kNdx1 = 2 + kNdxEnv * 8\n    kNdx2 = 3 + kNdxEnv * 6\n    \n    kCPS = 0.5\n    \n    ; Generate cross-FM with interpolation\n    aFM1, aFM2 crossfmi kFrq1, kFrq2, kNdx1, kNdx2, kCPS, giSine, giSine\n    \n    aOut = (aFM1*0.5 + aFM2*0.5) * kAmp * 0.3\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; Dynamic cross-modulation with sweeping parameters\n    kAmp linseg 0, 0.05, 0.35, p3-0.1, 0.35, 0.05, 0\n    \n    ; Frequencies change over time\n    kFrq1 = 220\n    kFrq2 linseg 330, p3, 880\n    \n    ; Indices sweep\n    kNdx1 linseg 1, p3, 10\n    kNdx2 linseg 8, p3, 2\n    \n    ; Crossfade control sweeps\n    kCPS linseg 0, p3, 1\n    \n    aFM1, aFM2 crossfmi kFrq1, kFrq2, kNdx1, kNdx2, kCPS, giSine, giSine\n    \n    ; Stereo output with different mix\n    outs aFM1*kAmp*0.3, aFM2*kAmp*0.3\nendin\n\ninstr 4\n    ; Complex cross-modulation texture\n    kAmp madsr 0.01, 0.12, 0.55, 0.35\n    \n    kFrq1 = 110\n    kFrq2 = 110 * 2.001  ; Slightly detuned\n    \n    ; LFO modulates indices\n    kLFO1 oscili 4, 0.37, giSine\n    kLFO2 oscili 3, 0.53, giSine\n    \n    kNdx1 = 5 + kLFO1\n    kNdx2 = 4 + kLFO2\n    \n    kCPS = 0.6\n    \n    aFM1, aFM2 crossfmi kFrq1, kFrq2, kNdx1, kNdx2, kCPS, giSine, giSine\n    \n    aOut = (aFM1 + aFM2) * kAmp * 0.25\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic cross-FM\ni1 0 3\n\n; Play cross-FM with envelope\ni2 3.5 3\n\n; Play sweeping parameters\ni3 7 5\n\n; Play complex texture\ni4 12.5 6\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the crosspm and crosspmi opcodes for cross-coupled phase modulation", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; crosspm opcode: a1, a2 crosspm xfrq1, xfrq2, xndx1, xndx2, kcps, ifn1, ifn2 [, iphs1] [, iphs2]\n    ; crosspm implements cross-coupled phase modulation synthesis\n    ; xfrq1, xfrq2 - base frequencies\n    ; xndx1, xndx2 - modulation indices\n    ; kcps - crossfade control\n    ; ifn1, ifn2 - function tables\n    ; iphs1, iphs2 - initial phases (optional)\n    ; Returns two outputs with cross-modulation\n    \n    ; Amplitude envelope\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    kFrq1 = 220\n    kFrq2 = 220 * 1.5\n    kNdx1 = 2\n    kNdx2 = 3\n    kCPS = 0.5\n    \n    ; Generate cross-PM\n    aPM1, aPM2 crosspm kFrq1, kFrq2, kNdx1, kNdx2, kCPS, giSine, giSine\n    \n    aOut = (aPM1 + aPM2) * kAmp * 0.3\n    \n    outs aOut, aOut\nendin\n\ninstr 2\n    ; crosspmi opcode: a1, a2 crosspmi xfrq1, xfrq2, xndx1, xndx2, kcps, ifn1, ifn2 [, iphs1] [, iphs2]\n    ; crosspmi is like crosspm but with interpolation\n    ; xfrq1, xfrq2 - base frequencies\n    ; xndx1, xndx2 - modulation indices\n    ; kcps - crossfade control\n    ; ifn1, ifn2 - function tables\n    \n    ; Amplitude envelope\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    kFrq1 = 165\n    kFrq2 = 247.5\n    kNdx1 = 4\n    kNdx2 = 5\n    kCPS = 0.5\n    \n    ; Generate cross-PM with interpolation\n    aPM1, aPM2 crosspmi kFrq1, kFrq2, kNdx1, kNdx2, kCPS, giSine, giSine\n    \n    aOut = (aPM1*0.6 + aPM2*0.4) * kAmp * 0.3\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; Bell-like sound with cross-PM\n    kAmp linseg 0, 0.01, 0.5, p3-0.01, 0\n    \n    kFrq1 = p4\n    kFrq2 = p4 * 1.414  ; Inharmonic ratio\n    \n    ; Index decays\n    kNdx1 linseg 10, p3, 1\n    kNdx2 linseg 8, p3, 0.5\n    \n    kCPS = 0.5\n    \n    aPM1, aPM2 crosspmi kFrq1, kFrq2, kNdx1, kNdx2, kCPS, giSine, giSine\n    \n    aOut = (aPM1 + aPM2) * kAmp * 0.3\n    \n    outs aOut, aOut\nendin\n\ninstr 4\n    ; Metallic percussion with cross-PM\n    kAmp expon 0.5, p3, 0.001\n    \n    kFrq1 = 200\n    kFrq2 = 314.159  ; Inharmonic\n    kNdx1 = 12\n    kNdx2 = 10\n    \n    ; Sweep crossfade\n    kCPS linseg 0, p3, 1\n    \n    aPM1, aPM2 crosspmi kFrq1, kFrq2, kNdx1, kNdx2, kCPS, giSine, giSine\n    \n    ; Stereo placement\n    outs aPM1*kAmp*0.3, aPM2*kAmp*0.3\nendin\n\ninstr 5\n    ; Evolving pad with cross-PM\n    kAmp linseg 0, 0.5, 0.3, p3-1, 0.3, 0.5, 0\n    \n    kFrq1 = 110\n    kFrq2 = 110 * 2.003\n    \n    ; LFOs modulate indices\n    kLFO1 oscili 3, 0.23, giSine\n    kLFO2 oscili 4, 0.37, giSine\n    \n    kNdx1 = 6 + kLFO1\n    kNdx2 = 5 + kLFO2\n    \n    ; Slow crossfade sweep\n    kCPS linseg 0.3, p3, 0.7\n    \n    aPM1, aPM2 crosspmi kFrq1, kFrq2, kNdx1, kNdx2, kCPS, giSine, giSine\n    \n    aOut = (aPM1 + aPM2) * kAmp * 0.25\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic cross-PM\ni1 0 3\n\n; Play cross-PM interpolated\ni2 3.5 3\n\n; Play bell-like sounds\ni3 7 3 440\ni3 8 3 550\ni3 9 3 660\n\n; Play metallic percussion\ni4 12 2\ni4 13 2\ni4 14 2\n\n; Play evolving pad\ni5 17 10\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates advanced FM techniques combining multiple FM opcodes", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; Complex FM synthesis with multiple operators\n    kAmp madsr 0.01, 0.15, 0.5, 0.4\n    \n    kFreq = p4\n    \n    ; Operator 1: Basic FM\n    kNdx1 linseg 8, p3, 2\n    aOp1 foscili kAmp*0.3, kFreq, 1, 1, kNdx1, giSine\n    \n    ; Operator 2: Different ratio\n    kNdx2 linseg 5, p3, 1\n    aOp2 foscili kAmp*0.25, kFreq, 1, 2.001, kNdx2, giSine\n    \n    ; Operator 3: High ratio for brightness\n    kNdx3 = 3\n    aOp3 foscili kAmp*0.15, kFreq, 1, 3.5, kNdx3, giSine\n    \n    ; Mix operators\n    aOut = aOp1 + aOp2 + aOp3\n    \n    outs aOut*0.5, aOut*0.5\nendin\n\ninstr 2\n    ; Layered FM instruments\n    kAmp madsr 0.005, 0.08, 0.5, 0.3\n    \n    kFreq = p4\n    \n    ; Rhodes layer\n    aRhodes fmrhode kAmp*0.25, kFreq, 5, 5, 0, 0\n    \n    ; Bell layer\n    aBell fmbell kAmp*0.2, kFreq*2, 5, 5, 0, 0\n    \n    ; Mix with different envelope on bell\n    kBellEnv linseg 1, p3, 0\n    \n    aOut = aRhodes + aBell*kBellEnv\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; FM feedback synthesis\n    kAmp linseg 0, 0.05, 0.3, p3-0.1, 0.3, 0.05, 0\n    \n    kFreq = p4\n    \n    ; Cross-FM for feedback-like behavior\n    kNdx1 linseg 10, p3, 3\n    kNdx2 linseg 8, p3, 2\n    kCPS linseg 0.2, p3, 0.8\n    \n    aFM1, aFM2 crossfmi kFreq, kFreq*1.003, kNdx1, kNdx2, kCPS, giSine, giSine\n    \n    ; Additional basic FM on top\n    aTop foscili kAmp*0.15, kFreq*2, 1, 1, 2, giSine\n    \n    aOut = (aFM1*0.4 + aFM2*0.4 + aTop) * kAmp\n    \n    outs aOut, aOut\nendin\n\ninstr 4\n    ; Morphing timbre with multiple FM types\n    kAmp madsr 0.02, 0.15, 0.6, 0.4\n    \n    kFreq = 220\n    \n    ; Crossfade between different FM sounds\n    kMorph linseg 0, p3, 2\n    \n    ; FM percussion\n    aPerc fmpercfl kAmp*0.3, kFreq, 8, 3, 0, 0\n    \n    ; FM bell\n    aBell fmbell kAmp*0.3, kFreq, 5, 5, 0, 0\n    \n    ; Basic FM\n    aBasic foscili kAmp*0.3, kFreq, 1, 1.5, 4, giSine\n    \n    ; Crossfade between sounds\n    if kMorph < 1 then\n        aOut = aPerc * (1-kMorph) + aBell * kMorph\n    else\n        aOut = aBell * (2-kMorph) + aBasic * (kMorph-1)\n    endif\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play complex FM\ni1 0 4 330\n\n; Play layered instruments\ni2 4.5 2 440\ni2 5.5 2 494\ni2 6.5 2 523\n\n; Play FM feedback\ni3 9.5 3 220\ni3 10.5 3 275\n\n; Play morphing timbre\ni4 14 6\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the grain opcode for basic granular synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function tables\ngiSine ftgen 1, 0, 8192, 10, 1\ngiHann ftgen 2, 0, 8192, 20, 2, 1\n\ninstr 1\n    ; grain opcode: ares grain xamp, xpitch, xdens, kampoff, kpitchoff, kgdur, igfn, iwfn, imgdur [, igrnd]\n    ; grain generates granular synthesis from an oscillator\n    ; xamp - amplitude\n    ; xpitch - grain pitch (Hz)\n    ; xdens - grain density (grains per second)\n    ; kampoff - amplitude offset (randomization)\n    ; kpitchoff - pitch offset (randomization in Hz)\n    ; kgdur - grain duration (seconds)\n    ; igfn - grain waveform function table\n    ; iwfn - window function table\n    ; imgdur - max grain duration\n    ; igrnd - random seed (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.5, 0.4, p3-1, 0.4, 0.5, 0\n    \n    ; Granular parameters\n    kPitch = 440\n    kDens = 50      ; 50 grains per second\n    kAmpOff = 0.1   ; Slight amplitude randomization\n    kPitchOff = 5   ; 5 Hz pitch randomization\n    kGDur = 0.05    ; 50ms grain duration\n    iMaxGDur = 0.1\n    \n    ; Generate granular texture\n    aGrain grain kAmp, kPitch, kDens, kAmpOff, kPitchOff, kGDur, giSine, giHann, iMaxGDur\n    \n    out aGrain\nendin\n\ninstr 2\n    ; Cloud texture with variable density\n    kAmp linseg 0, 0.3, 0.35, p3-0.6, 0.35, 0.3, 0\n    \n    kPitch = 220\n    \n    ; Density changes over time\n    kDens linseg 20, p3, 100\n    \n    kAmpOff = 0.2\n    kPitchOff = 10\n    kGDur = 0.08\n    iMaxGDur = 0.15\n    \n    aGrain grain kAmp, kPitch, kDens, kAmpOff, kPitchOff, kGDur, giSine, giHann, iMaxGDur\n    \n    out aGrain\nendin\n\ninstr 3\n    ; Sweeping pitch cloud\n    kAmp linseg 0, 0.2, 0.3, p3-0.4, 0.3, 0.2, 0\n    \n    ; Pitch sweeps\n    kPitch expseg 200, p3, 1000\n    \n    kDens = 60\n    kAmpOff = 0.15\n    kPitchOff linseg 5, p3, 50  ; Increasing randomization\n    kGDur = 0.06\n    iMaxGDur = 0.12\n    \n    aGrain grain kAmp, kPitch, kDens, kAmpOff, kPitchOff, kGDur, giSine, giHann, iMaxGDur\n    \n    out aGrain\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic granular\ni1 0 5\n\n; Play variable density\ni2 6 6\n\n; Play pitch sweep\ni3 13 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the grain2 opcode for more complex granular synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function tables\ngiSine ftgen 1, 0, 8192, 10, 1\ngiHann ftgen 2, 0, 8192, 20, 2, 1\n\ninstr 1\n    ; grain2 opcode: ares grain2 kcps, kfmd, kgdur, iovrlp, kfn, iwfn, kfrpow, kprpow [, iseed] [, imode]\n    ; grain2 provides more control over grain parameters\n    ; kcps - frequency (Hz)\n    ; kfmd - frequency deviation (cents)\n    ; kgdur - grain duration (milliseconds)\n    ; iovrlp - maximum overlap (number of grains)\n    ; kfn - grain waveform table\n    ; iwfn - window function\n    ; kfrpow - frequency distribution randomness (0-1)\n    ; kprpow - phase distribution randomness (0-1)\n    ; iseed - random seed (optional)\n    ; imode - mode flag (optional)\n    \n    ; Amplitude envelope\n    kAmp madsr 0.1, 0.3, 0.6, 0.5\n    \n    kCPS = 330\n    kFMD = 50       ; 50 cents deviation\n    kGDur = 80      ; 80ms grains\n    iOvrlp = 10     ; Up to 10 overlapping grains\n    kFRPow = 0.5    ; Medium randomness\n    kPRPow = 0.3\n    \n    aGrain grain2 kCPS, kFMD, kGDur, iOvrlp, giSine, giHann, kFRPow, kPRPow\n    \n    outs aGrain*kAmp*0.3, aGrain*kAmp*0.3\nendin\n\ninstr 2\n    ; High-density granular texture\n    kAmp linseg 0, 0.5, 0.3, p3-1, 0.3, 0.5, 0\n    \n    kCPS = 220\n    kFMD = 100      ; Larger pitch spread\n    kGDur = 40      ; Shorter grains\n    iOvrlp = 20     ; High overlap\n    kFRPow = 0.8    ; High randomness\n    kPRPow = 0.6\n    \n    aGrain grain2 kCPS, kFMD, kGDur, iOvrlp, giSine, giHann, kFRPow, kPRPow\n    \n    outs aGrain*kAmp, aGrain*kAmp\nendin\n\ninstr 3\n    ; Evolving granular pad\n    kAmp linseg 0, 1, 0.25, p3-2, 0.25, 1, 0\n    \n    kCPS = 165\n    kFMD linseg 20, p3, 200    ; Increasing spread\n    kGDur linseg 100, p3, 30   ; Decreasing grain size\n    iOvrlp = 15\n    kFRPow linseg 0.2, p3, 0.9\n    kPRPow = 0.5\n    \n    aGrain grain2 kCPS, kFMD, kGDur, iOvrlp, giSine, giHann, kFRPow, kPRPow\n    \n    outs aGrain*kAmp, aGrain*kAmp\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic grain2\ni1 0 4\n\n; Play high-density\ni2 5 5\n\n; Play evolving pad\ni3 11 10\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the grain3 opcode for pitch-synchronous granular synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function tables\ngiSine ftgen 1, 0, 8192, 10, 1\ngiHann ftgen 2, 0, 8192, 20, 2, 1\n\ninstr 1\n    ; grain3 opcode: ares grain3 kcps, kphs, kfmd, kpmd, kgdur, kdens, imaxovr, kfn, iwfn, kfrpow, kprpow [, iseed] [, imode]\n    ; grain3 allows phase control for pitch-synchronous granulation\n    ; kcps - frequency (Hz)\n    ; kphs - phase offset (0-1)\n    ; kfmd - frequency deviation (cents)\n    ; kpmd - phase deviation (0-1)\n    ; kgdur - grain duration (milliseconds)\n    ; kdens - density (grains per second)\n    ; imaxovr - maximum overlap\n    ; kfn - grain waveform\n    ; iwfn - window function\n    ; kfrpow - frequency randomness\n    ; kprpow - phase randomness\n    ; iseed - random seed (optional)\n    ; imode - mode (optional)\n    \n    ; Amplitude envelope\n    kAmp madsr 0.1, 0.2, 0.6, 0.4\n    \n    kCPS = 440\n    kPhs = 0        ; Phase offset\n    kFMD = 30       ; Frequency deviation\n    kPMD = 0.1      ; Phase deviation\n    kGDur = 60      ; Grain duration\n    kDens = 100     ; Grain density\n    iMaxOvr = 10\n    kFRPow = 0.4\n    kPRPow = 0.3\n    \n    aGrain grain3 kCPS, kPhs, kFMD, kPMD, kGDur, kDens, iMaxOvr, giSine, giHann, kFRPow, kPRPow\n    \n    outs aGrain*kAmp*0.3, aGrain*kAmp*0.3\nendin\n\ninstr 2\n    ; Phase-controlled granular synthesis\n    kAmp linseg 0, 0.3, 0.3, p3-0.6, 0.3, 0.3, 0\n    \n    kCPS = 220\n    \n    ; LFO controls phase\n    kPhs oscili 0.5, 0.5, giSine\n    kPhs = 0.5 + kPhs\n    \n    kFMD = 40\n    kPMD = 0.2\n    kGDur = 50\n    kDens = 80\n    iMaxOvr = 12\n    kFRPow = 0.5\n    kPRPow = 0.4\n    \n    aGrain grain3 kCPS, kPhs, kFMD, kPMD, kGDur, kDens, iMaxOvr, giSine, giHann, kFRPow, kPRPow\n    \n    outs aGrain*kAmp, aGrain*kAmp\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play pitch-synchronous\ni1 0 4\n\n; Play phase-controlled\ni2 5 6\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the granule opcode for advanced granular control", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function tables\ngiSine ftgen 1, 0, 8192, 10, 1\ngiHann ftgen 2, 0, 8192, 20, 2, 1\ngiSound ftgen 3, 0, 131072, 1, \"sample.wav\", 0, 0, 0\n\ninstr 1\n    ; granule opcode: ares granule xamp, ivoice, iratio, imode, ithd, ifn, ipshift, igskip, \n    ;                         igskip_os, ilength, kgap, igap_os, kgsize, igsize_os, iatt, idec \n    ;                         [, iseed] [, ipitch1] [, ipitch2] [, ipitch3] [, ipitch4] [, ifnenv]\n    ; granule provides comprehensive granular synthesis control\n    ; xamp - amplitude\n    ; ivoice - number of voices\n    ; iratio - frequency ratio\n    ; imode - grain mode (0=soundfile, 1=waveform, 2=FM)\n    ; ithd - pitch threshold\n    ; ifn - source function table\n    ; ipshift - pitch shift\n    ; igskip - grain skip\n    ; igskip_os - skip offset\n    ; ilength - grain length\n    ; kgap - gap between grains\n    ; igap_os - gap offset\n    ; kgsize - grain size\n    ; igsize_os - size offset\n    ; iatt, idec - attack/decay times\n    \n    ; Amplitude envelope\n    kAmp madsr 0.05, 0.2, 0.6, 0.4\n    \n    ; Basic granule with waveform mode\n    iVoice = 8\n    iRatio = 1\n    iMode = 1       ; Waveform mode\n    iThd = 0\n    iPShift = 0\n    iGSkip = 0\n    iGSkipOS = 0\n    iLength = 8192\n    kGap = 0.01     ; 10ms gap\n    iGapOS = 0.005\n    kGSize = 0.05   ; 50ms grain size\n    iGSizeOS = 0.02\n    iAtt = 0.3\n    iDec = 0.7\n    \n    aGran granule kAmp*0.3, iVoice, iRatio, iMode, iThd, giSine, iPShift, iGSkip, \\\n                  iGSkipOS, iLength, kGap, iGapOS, kGSize, iGSizeOS, iAtt, iDec\n    \n    outs aGran, aGran\nendin\n\ninstr 2\n    ; Multi-voice granular texture\n    kAmp linseg 0, 0.5, 0.25, p3-1, 0.25, 0.5, 0\n    \n    iVoice = 16     ; More voices for denser texture\n    iRatio = 1\n    iMode = 1\n    iThd = 0\n    iPShift = 0\n    iGSkip = 0\n    iGSkipOS = 0\n    iLength = 8192\n    \n    ; Variable gap and size\n    kGap linseg 0.02, p3, 0.005\n    iGapOS = 0.01\n    kGSize linseg 0.08, p3, 0.03\n    iGSizeOS = 0.03\n    iAtt = 0.3\n    iDec = 0.7\n    \n    aGran granule kAmp, iVoice, iRatio, iMode, iThd, giSine, iPShift, iGSkip, \\\n                  iGSkipOS, iLength, kGap, iGapOS, kGSize, iGSizeOS, iAtt, iDec\n    \n    outs aGran, aGran\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic granule\ni1 0 5\n\n; Play multi-voice\ni2 6 8\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the syncgrain opcode for synchronous granular synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function tables\ngiSound ftgen 1, 0, 131072, 10, 1, 0.5, 0.3, 0.25, 0.2\ngiHann ftgen 2, 0, 8192, 20, 2, 1\n\ninstr 1\n    ; syncgrain opcode: ares syncgrain kamp, kfreq, kpitch, kgrsize, kprate, ifun1, ifun2, iolaps\n    ; syncgrain performs synchronous granular synthesis\n    ; kamp - amplitude\n    ; kfreq - grain frequency (grains per second)\n    ; kpitch - pitch multiplier\n    ; kgrsize - grain size (in samples or seconds depending on kfreq)\n    ; kprate - starting phase in table (0-1)\n    ; ifun1 - source function table\n    ; ifun2 - grain envelope function\n    ; iolaps - maximum overlaps\n    \n    ; Amplitude envelope\n    kAmp madsr 0.05, 0.2, 0.6, 0.4\n    \n    kFreq = 50      ; 50 grains per second\n    kPitch = 1      ; Original pitch\n    kGrSize = 0.04  ; 40ms grains\n    kPRate = 0      ; Start at beginning\n    iOlaps = 10\n    \n    aGrain syncgrain kAmp*0.3, kFreq, kPitch, kGrSize, kPRate, giSound, giHann, iOlaps\n    \n    outs aGrain, aGrain\nendin\n\ninstr 2\n    ; Time-stretching with syncgrain\n    kAmp linseg 0, 0.3, 0.3, p3-0.6, 0.3, 0.3, 0\n    \n    kFreq = 80      ; Higher density\n    kPitch = 1\n    kGrSize = 0.05\n    \n    ; Slowly scan through table\n    kPRate linseg 0, p3, 1\n    iOlaps = 12\n    \n    aGrain syncgrain kAmp, kFreq, kPitch, kGrSize, kPRate, giSound, giHann, iOlaps\n    \n    outs aGrain, aGrain\nendin\n\ninstr 3\n    ; Pitch-shifting granular\n    kAmp madsr 0.05, 0.2, 0.6, 0.4\n    \n    kFreq = 60\n    \n    ; Pitch changes over time\n    kPitch linseg 0.5, p3, 2\n    \n    kGrSize = 0.06\n    kPRate = 0\n    iOlaps = 10\n    \n    aGrain syncgrain kAmp*0.3, kFreq, kPitch, kGrSize, kPRate, giSound, giHann, iOlaps\n    \n    outs aGrain, aGrain\nendin\n\ninstr 4\n    ; Frozen granular texture\n    kAmp linseg 0, 0.5, 0.25, p3-1, 0.25, 0.5, 0\n    \n    kFreq = 100     ; High density\n    kPitch = 1\n    kGrSize = 0.03  ; Short grains\n    \n    ; Stay at one position in table\n    kPRate = 0.3\n    iOlaps = 20\n    \n    aGrain syncgrain kAmp, kFreq, kPitch, kGrSize, kPRate, giSound, giHann, iOlaps\n    \n    outs aGrain, aGrain\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic syncgrain\ni1 0 3\n\n; Play time-stretching\ni2 4 8\n\n; Play pitch-shifting\ni3 13 5\n\n; Play frozen texture\ni4 19 6\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the syncloop opcode for synchronized loop-based granulation", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function tables\ngiSound ftgen 1, 0, 131072, 10, 1, 0.5, 0.3, 0.25, 0.2, 0.16, 0.14, 0.12\ngiHann ftgen 2, 0, 8192, 20, 2, 1\n\ninstr 1\n    ; syncloop opcode: ares syncloop kfreq, kpitch, kgrsize, kprate, klstart, klend, ifun1, ifun2, iolaps\n    ; syncloop is like syncgrain but with loop points\n    ; kfreq - grain frequency (Hz)\n    ; kpitch - pitch multiplier\n    ; kgrsize - grain size\n    ; kprate - read rate through loop\n    ; klstart - loop start point (0-1)\n    ; klend - loop end point (0-1)\n    ; ifun1 - source function\n    ; ifun2 - grain envelope\n    ; iolaps - maximum overlaps\n    \n    ; Amplitude envelope\n    kAmp madsr 0.05, 0.2, 0.6, 0.4\n    \n    kFreq = 60\n    kPitch = 1\n    kGrSize = 0.05\n    kPRate = 0.5\n    kLStart = 0.2   ; Loop from 20% into table\n    kLEnd = 0.8     ; Loop to 80% of table\n    iOlaps = 10\n    \n    aGrain syncloop kFreq, kPitch, kGrSize, kPRate, kLStart, kLEnd, giSound, giHann, iOlaps\n    \n    outs aGrain*kAmp*0.3, aGrain*kAmp*0.3\nendin\n\ninstr 2\n    ; Moving loop points\n    kAmp linseg 0, 0.3, 0.3, p3-0.6, 0.3, 0.3, 0\n    \n    kFreq = 70\n    kPitch = 1\n    kGrSize = 0.04\n    kPRate = 0.8\n    \n    ; Loop points move over time\n    kLStart linseg 0, p3, 0.5\n    kLEnd linseg 0.3, p3, 1\n    iOlaps = 12\n    \n    aGrain syncloop kFreq, kPitch, kGrSize, kPRate, kLStart, kLEnd, giSound, giHann, iOlaps\n    \n    outs aGrain*kAmp, aGrain*kAmp\nendin\n\ninstr 3\n    ; Micro-looping texture\n    kAmp madsr 0.05, 0.2, 0.6, 0.4\n    \n    kFreq = 100     ; High density\n    kPitch = 0.75\n    kGrSize = 0.02  ; Very short grains\n    kPRate = 2      ; Fast read rate\n    \n    ; Very small loop region\n    kLStart = 0.4\n    kLEnd = 0.45\n    iOlaps = 15\n    \n    aGrain syncloop kFreq, kPitch, kGrSize, kPRate, kLStart, kLEnd, giSound, giHann, iOlaps\n    \n    outs aGrain*kAmp*0.3, aGrain*kAmp*0.3\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic loop\ni1 0 4\n\n; Play moving loop\ni2 5 6\n\n; Play micro-loop\ni3 12 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the sndwarp opcode for time-stretching and pitch-shifting", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function tables\ngiSound ftgen 1, 0, 131072, 10, 1, 0.5, 0.3, 0.25, 0.2\ngiHann ftgen 2, 0, 8192, 20, 2, 1\n\ninstr 1\n    ; sndwarp opcode: ares sndwarp xamp, xtimewarp, xresample, ifn1, ibeg, iwsize, \n    ;                        irandw, ioverlap, ifn2, itimemode\n    ; sndwarp performs time-stretching and pitch-shifting\n    ; xamp - amplitude\n    ; xtimewarp - time pointer (seconds or 0-1 depending on mode)\n    ; xresample - resampling factor (pitch shift)\n    ; ifn1 - source function table\n    ; ibeg - begin position in table\n    ; iwsize - window size (samples)\n    ; irandw - window randomization\n    ; ioverlap - number of overlaps\n    ; ifn2 - window function\n    ; itimemode - time mode (0=absolute time, 1=normalized 0-1)\n    \n    ; Amplitude envelope\n    kAmp madsr 0.05, 0.2, 0.6, 0.4\n    \n    ; Time pointer\n    kTime line 0, p3, 1\n    \n    ; Pitch\n    kResamp = 1     ; Original pitch\n    \n    iBeg = 0\n    iWSize = 4096\n    iRandW = 400\n    iOvrlp = 8\n    iTimeMode = 1   ; Normalized time\n    \n    aWarp sndwarp kAmp*0.4, kTime, kResamp, giSound, iBeg, iWSize, iRandW, iOvrlp, giHann, iTimeMode\n    \n    out aWarp\nendin\n\ninstr 2\n    ; Extreme time-stretching\n    kAmp linseg 0, 0.5, 0.35, p3-1, 0.35, 0.5, 0\n    \n    ; Very slow time progression\n    kTime line 0.2, p3, 0.3\n    \n    kResamp = 1\n    iBeg = 0\n    iWSize = 8192   ; Larger window for smoother stretch\n    iRandW = 800\n    iOvrlp = 16\n    iTimeMode = 1\n    \n    aWarp sndwarp kAmp, kTime, kResamp, giSound, iBeg, iWSize, iRandW, iOvrlp, giHann, iTimeMode\n    \n    out aWarp\nendin\n\ninstr 3\n    ; Pitch-shifting without time change\n    kAmp madsr 0.05, 0.2, 0.6, 0.4\n    \n    ; Normal time progression\n    kTime line 0, p3, 1\n    \n    ; Pitch shift\n    kResamp linseg 1, p3, 2  ; Up one octave\n    \n    iBeg = 0\n    iWSize = 4096\n    iRandW = 400\n    iOvrlp = 8\n    iTimeMode = 1\n    \n    aWarp sndwarp kAmp*0.4, kTime, kResamp, giSound, iBeg, iWSize, iRandW, iOvrlp, giHann, iTimeMode\n    \n    out aWarp\nendin\n\ninstr 4\n    ; Reverse with pitch shift\n    kAmp linseg 0, 0.3, 0.35, p3-0.6, 0.35, 0.3, 0\n    \n    ; Reverse playback\n    kTime line 1, p3, 0\n    \n    ; Down one octave\n    kResamp = 0.5\n    \n    iBeg = 0\n    iWSize = 4096\n    iRandW = 400\n    iOvrlp = 8\n    iTimeMode = 1\n    \n    aWarp sndwarp kAmp, kTime, kResamp, giSound, iBeg, iWSize, iRandW, iOvrlp, giHann, iTimeMode\n    \n    out aWarp\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play normal time-stretch\ni1 0 5\n\n; Play extreme stretch\ni2 6 10\n\n; Play pitch-shift\ni3 17 4\n\n; Play reverse\ni4 22 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the sndwarpst opcode for stereo time-stretching", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function tables\ngiSoundL ftgen 1, 0, 131072, 10, 1, 0.5, 0.3, 0.25\ngiSoundR ftgen 2, 0, 131072, 10, 1, 0.4, 0.35, 0.2\ngiHann ftgen 3, 0, 8192, 20, 2, 1\n\ninstr 1\n    ; sndwarpst opcode: ar1, ar2 sndwarpst xamp, xtimewarp, xresample, ifn1, ifn2, ibeg, \n    ;                           iwsize, irandw, ioverlap, ifn3, itimemode\n    ; sndwarpst performs stereo time-stretching and pitch-shifting\n    ; xamp - amplitude\n    ; xtimewarp - time pointer\n    ; xresample - resampling factor\n    ; ifn1, ifn2 - source function tables (left, right)\n    ; ibeg - begin position\n    ; iwsize - window size\n    ; irandw - window randomization\n    ; ioverlap - overlaps\n    ; ifn3 - window function\n    ; itimemode - time mode\n    \n    ; Amplitude envelope\n    kAmp madsr 0.05, 0.2, 0.6, 0.4\n    \n    kTime line 0, p3, 1\n    kResamp = 1\n    \n    iBeg = 0\n    iWSize = 4096\n    iRandW = 400\n    iOvrlp = 8\n    iTimeMode = 1\n    \n    aL, aR sndwarpst kAmp*0.3, kTime, kResamp, giSoundL, giSoundR, iBeg, iWSize, iRandW, iOvrlp, giHann, iTimeMode\n    \n    outs aL, aR\nendin\n\ninstr 2\n    ; Stereo time-stretch with pitch modulation\n    kAmp linseg 0, 0.5, 0.3, p3-1, 0.3, 0.5, 0\n    \n    ; Slow time\n    kTime line 0.1, p3, 0.4\n    \n    ; Wobbling pitch\n    kLFO oscili 0.1, 0.5, 3\n    kResamp = 1 + kLFO\n    \n    iBeg = 0\n    iWSize = 8192\n    iRandW = 800\n    iOvrlp = 16\n    iTimeMode = 1\n    \n    aL, aR sndwarpst kAmp, kTime, kResamp, giSoundL, giSoundR, iBeg, iWSize, iRandW, iOvrlp, giHann, iTimeMode\n    \n    outs aL, aR\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play stereo warp\ni1 0 5\n\n; Play with modulation\ni2 6 10\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the partikkel opcode for advanced granular synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function tables\ngiSine ftgen 1, 0, 8192, 10, 1\ngiCosine ftgen 2, 0, 8193, 9, 1, 1, 90\ngiHann ftgen 3, 0, 8192, 20, 2, 1\n\ninstr 1\n    ; partikkel is a very complex opcode with many parameters\n    ; This demonstrates basic usage\n    ; partikkel provides complete control over granular synthesis\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.5, 0.25, p3-1, 0.25, 0.5, 0\n    \n    ; Basic partikkel parameters\n    kgrfreq = 100           ; Grain frequency\n    kdistribution = 0       ; Periodic grain distribution\n    idisttab = -1           ; No distribution table\n    async = 0               ; Synchronous mode\n    kenv2amt = 0            ; Grain envelope amount\n    ienv2tab = -1           ; No second envelope\n    ienv_attack = -1        ; Attack time\n    ienv_decay = -1         ; Decay time  \n    ksustain_amt = 0.5      ; Sustain amount\n    ka_d_ratio = 0.5        ; Attack/decay ratio\n    kduration = 0.05        ; Grain duration (50ms)\n    kamp = kAmp             ; Amplitude\n    igainmasks = -1         ; No gain masking\n    \n    ; Additional parameters (simplified)\n    kwavfreq = 440          ; Waveform frequency\n    ksweepshape = 0         ; No sweep\n    iwavfreqstarttab = -1\n    iwavfreqendtab = -1\n    awavfm = 0\n    ifmamptab = -1\n    kfmenv = 0\n    icosine = giCosine      ; Cosine table\n    kTrainCps = kgrfreq     ; Grain train frequency\n    knumpartials = 1        ; Number of partials\n    kchroma = 1             ; Chroma\n    ichannelmasks = -1      ; No channel masking\n    krandommask = 0         ; No random masking\n    \n    ; Waveform and related tables\n    kwaveform1 = giSine\n    kwaveform2 = giSine  \n    kwaveform3 = giSine\n    kwaveform4 = giSine\n    iwaveamptab = -1\n    \n    ; Spatial parameters\n    asamplepos1 = 0\n    asamplepos2 = 0\n    asamplepos3 = 0  \n    asamplepos4 = 0\n    kwavekey1 = 1\n    kwavekey2 = 1\n    kwavekey3 = 1\n    kwavekey4 = 1\n    imax_grains = 100\n    \n    ; Generate grains\n    a1, a2, a3, a4 partikkel kgrfreq, kdistribution, idisttab, async, kenv2amt, \\\n        ienv2tab, ienv_attack, ienv_decay, ksustain_amt, ka_d_ratio, kduration, \\\n        kamp, igainmasks, kwavfreq, ksweepshape, iwavfreqstarttab, iwavfreqendtab, \\\n        awavfm, ifmamptab, kfmenv, icosine, kTrainCps, knumpartials, kchroma, \\\n        ichannelmasks, krandommask, kwaveform1, kwaveform2, kwaveform3, kwaveform4, \\\n        iwaveamptab, asamplepos1, asamplepos2, asamplepos3, asamplepos4, \\\n        kwavekey1, kwavekey2, kwavekey3, kwavekey4, imax_grains\n    \n    ; Mix outputs\n    aOut = (a1 + a2 + a3 + a4) * 0.25\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play partikkel granular\ni1 0 8\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates practical granular synthesis techniques", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function tables\ngiSine ftgen 1, 0, 8192, 10, 1\ngiHann ftgen 2, 0, 8192, 20, 2, 1\ngiSound ftgen 3, 0, 131072, 10, 1, 0.5, 0.3, 0.25, 0.2\n\ninstr 1\n    ; Granular clouds with syncgrain\n    kAmp linseg 0, 1, 0.25, p3-2, 0.25, 1, 0\n    \n    ; Multiple layers of grains at different densities\n    kFreq1 = 40\n    kFreq2 = 60\n    kFreq3 = 90\n    \n    kPitch = 1\n    kGrSize = 0.06\n    kPRate = 0\n    iOlaps = 10\n    \n    aGrain1 syncgrain kAmp*0.35, kFreq1, kPitch, kGrSize, kPRate, giSound, giHann, iOlaps\n    aGrain2 syncgrain kAmp*0.25, kFreq2, kPitch*1.5, kGrSize*0.7, kPRate, giSound, giHann, iOlaps\n    aGrain3 syncgrain kAmp*0.15, kFreq3, kPitch*2, kGrSize*0.5, kPRate, giSound, giHann, iOlaps\n    \n    aOut = aGrain1 + aGrain2 + aGrain3\n    \n    outs aOut*0.5, aOut*0.5\nendin\n\ninstr 2\n    ; Rhythmic granular patterns\n    kAmp madsr 0.01, 0.08, 0.5, 0.3\n    \n    ; Modulated grain frequency for rhythm\n    kLFO oscili 30, 2, giSine\n    kFreq = 60 + kLFO\n    \n    kPitch = 1\n    kGrSize = 0.03\n    kPRate linseg 0, p3, 0.5\n    iOlaps = 12\n    \n    aGrain syncgrain kAmp*0.3, kFreq, kPitch, kGrSize, kPRate, giSound, giHann, iOlaps\n    \n    outs aGrain, aGrain\nendin\n\ninstr 3\n    ; Spectral freeze using high-density grains\n    kAmp linseg 0, 0.5, 0.2, p3-1, 0.2, 0.5, 0\n    \n    kFreq = 200     ; Very high density\n    kPitch = 1\n    kGrSize = 0.015 ; Very short grains\n    kPRate = 0.35   ; Fixed position = freeze\n    iOlaps = 30\n    \n    aGrain syncgrain kAmp, kFreq, kPitch, kGrSize, kPRate, giSound, giHann, iOlaps\n    \n    ; Add some filtering\n    aFilt moogladder aGrain, 2000, 0.3\n    \n    outs aFilt, aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play granular cloud\ni1 0 10\n\n; Play rhythmic grains\ni2 11 6\ni2 12 6\n\n; Play spectral freeze\ni3 18 8\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the pluck opcode for Karplus-Strong synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; pluck opcode: ares pluck kamp, kcps, icps, ifn, imeth [, iparm1] [, iparm2]\n    ; pluck implements the Karplus-Strong algorithm\n    ; kamp - amplitude\n    ; kcps - frequency in Hz\n    ; icps - intended frequency (for calculation)\n    ; ifn - function table for initial waveform\n    ; imeth - pluck method (1=simple, 2=stretched, 3=simple drum, 4=stretched drum, 5=weighted, 6=recursive filter)\n    ; iparm1, iparm2 - method-specific parameters\n    \n    iAmp = 0.5\n    iFreq = p4\n    iFn = 0  ; 0 means random initial waveform\n    iMeth = 1  ; Simple averaging\n    \n    ; Basic plucked string\n    aPluck pluck iAmp, iFreq, iFreq, iFn, iMeth\n    \n    outs aPluck, aPluck\nendin\n\ninstr 2\n    ; Stretched string (method 2)\n    iAmp = 0.5\n    iFreq = p4\n    iFn = 0\n    iMeth = 2\n    iStretch = p5  ; Stretch parameter (0-1)\n    \n    aPluck pluck iAmp, iFreq, iFreq, iFn, iMeth, iStretch\n    \n    outs aPluck, aPluck\nendin\n\ninstr 3\n    ; Drum-like sound (method 3)\n    iAmp = 0.6\n    iFreq = p4\n    iFn = 0\n    iMeth = 3\n    \n    aPluck pluck iAmp, iFreq, iFreq, iFn, iMeth\n    \n    outs aPluck, aPluck\nendin\n\ninstr 4\n    ; Weighted averaging (method 5)\n    iAmp = 0.5\n    iFreq = p4\n    iFn = 0\n    iMeth = 5\n    iWeight = p5  ; Weighting (0-1)\n    \n    aPluck pluck iAmp, iFreq, iFreq, iFn, iMeth, iWeight\n    \n    outs aPluck, aPluck\nendin\n\ninstr 5\n    ; Recursive filter (method 6)\n    iAmp = 0.5\n    iFreq = p4\n    iFn = 0\n    iMeth = 6\n    iDecay = 0.9  ; Decay factor\n    \n    aPluck pluck iAmp, iFreq, iFreq, iFn, iMeth, iDecay\n    \n    outs aPluck, aPluck\nendin\n\ninstr 6\n    ; Pitch bend\n    iAmp = 0.5\n    iStart = p4\n    iEnd = p5\n    iFn = 0\n    iMeth = 1\n    \n    ; Frequency changes\n    kFreq expseg iStart, p3, iEnd\n    \n    aPluck pluck iAmp, kFreq, iStart, iFn, iMeth\n    \n    outs aPluck, aPluck\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play simple pluck\ni1 0 3 440\ni1 3.5 3 330\n\n; Play stretched (different stretch values)\n; Format: start dur freq stretch\ni2 7.5 3 392 0.3\ni2 10.5 3 392 0.7\n\n; Play drum-like\ni3 14 1 220\ni3 15 1 165\ni3 16 1 130\n\n; Play weighted\n; Format: start dur freq weight\ni4 17.5 3 294 0.3\ni4 20.5 3 294 0.8\n\n; Play recursive filter\ni5 24 3 523\n\n; Play pitch bend\n; Format: start dur freq_start freq_end\ni6 28 2 220 440\ni6 30 2 440 220\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the streson opcode for string resonance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSine ftgen 1, 0, 16384, 10, 1\n\ninstr 1\n    ; streson opcode: asig streson ain, kfr, kfdbgain\n    ; streson is a string resonator that simulates string vibration\n    ; ain - input signal (excitation)\n    ; kfr - fundamental frequency\n    ; kfdbgain - feedback gain (affects decay time)\n    \n    iAmp = 0.5\n    iFreq = p4\n    \n    ; Impulse excitation\n    aExcite mpulse 0.8, 0\n    \n    ; String resonator\n    kFeedback = 0.95\n    aString streson aExcite, iFreq, kFeedback\n    \n    outs aString*iAmp, aString*iAmp\nendin\n\ninstr 2\n    ; Continuous excitation (bowed)\n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Noise excitation\n    aNoise noise 0.05, 0\n    \n    ; String resonator with high feedback\n    kFeedback = 0.99\n    aString streson aNoise, iFreq, kFeedback\n    \n    outs aString*iAmp, aString*iAmp\nendin\n\ninstr 3\n    ; Variable decay time\n    iAmp = 0.5\n    iFreq = p4\n    \n    ; Impulse\n    aExcite mpulse 0.8, 0\n    \n    ; Feedback changes (affects decay)\n    kFeedback linseg 0.98, p3, 0.85\n    \n    aString streson aExcite, iFreq, kFeedback\n    \n    outs aString*iAmp, aString*iAmp\nendin\n\ninstr 4\n    ; Frequency sweep\n    iAmp = 0.5\n    \n    ; Impulse\n    aExcite mpulse 0.8, 0\n    \n    ; Frequency changes\n    iStart = p4\n    iEnd = p5\n    kFreq expseg iStart, p3, iEnd\n    \n    kFeedback = 0.96\n    aString streson aExcite, kFreq, kFeedback\n    \n    outs aString*iAmp, aString*iAmp\nendin\n\ninstr 5\n    ; Combined with pluck\n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Pluck as excitation\n    aPluck pluck 0.8, iFreq, iFreq, 0, 1\n    \n    ; Add string resonance\n    kFeedback = 0.93\n    aString streson aPluck, iFreq, kFeedback\n    \n    outs aString*iAmp, aString*iAmp\nendin\n\ninstr 6\n    ; Multiple strings (sympathetic resonance)\n    iAmp = 0.3\n    iFreq = p4\n    \n    ; Excitation\n    aExcite mpulse 0.8, 0\n    \n    ; Main string\n    aString1 streson aExcite, iFreq, 0.95\n    \n    ; Sympathetic strings (harmonics)\n    aString2 streson aExcite*0.5, iFreq*2, 0.93\n    aString3 streson aExcite*0.3, iFreq*3, 0.91\n    \n    aMix = (aString1 + aString2 + aString3) * iAmp\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic streson\ni1 0 3 440\ni1 3.5 3 523\n\n; Play bowed\ni2 7.5 4 330\n\n; Play variable decay\ni3 12.5 4 392\n\n; Play frequency sweep\n; Format: start dur freq_start freq_end\ni4 17.5 3 220 660\ni4 20.5 3 660 220\n\n; Play with pluck\ni5 24.5 3 294\n\n; Play sympathetic resonance\ni6 28.5 4 220\ni6 32.5 4 330\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates advanced Karplus-Strong techniques", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; Guitar-like with pluck + streson\n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Initial pluck\n    aPluck pluck 0.8, iFreq, iFreq, 0, 1\n    \n    ; String resonance\n    aString streson aPluck, iFreq, 0.95\n    \n    ; Body resonance (simple filter)\n    aBody butterbp aString, 200, 100\n    \n    aMix = (aString*0.7 + aBody*0.3) * iAmp\n    \n    outs aMix, aMix\nendin\n\ninstr 2\n    ; Detuned strings (chorus)\n    iAmp = 0.3\n    iFreq = p4\n    \n    ; Three slightly detuned strings\n    aPluck1 pluck 0.7, iFreq*0.998, iFreq*0.998, 0, 1\n    aPluck2 pluck 0.7, iFreq, iFreq, 0, 1\n    aPluck3 pluck 0.7, iFreq*1.002, iFreq*1.002, 0, 1\n    \n    aMix = (aPluck1 + aPluck2 + aPluck3) * iAmp\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; Strumming pattern\n    iAmp = 0.35\n    iRoot = p4\n    \n    ; Chord notes\n    i5th = iRoot * 3/2\n    i8ve = iRoot * 2\n    \n    ; Staggered plucks\n    aPluck1 mpulse 0.7, 0\n    aPluck2 mpulse 0.7, p3*0.05\n    aPluck3 mpulse 0.7, p3*0.1\n    \n    ; Three strings\n    aStr1 pluck iAmp, iRoot, iRoot, 0, 1\n    aStr2 pluck iAmp, i5th, i5th, 0, 1\n    aStr3 pluck iAmp, i8ve, i8ve, 0, 1\n    \n    aMix = aStr1 + aStr2 + aStr3\n    \n    outs aMix, aMix\nendin\n\ninstr 4\n    ; Damped pluck (palm mute)\n    iAmp = 0.5\n    iFreq = p4\n    \n    ; Pluck with recursive filter for quick damping\n    aPluck pluck iAmp, iFreq, iFreq, 0, 6, 0.7\n    \n    ; Additional damping envelope\n    aDamp expseg 1, 0.5, 0.01\n    \n    outs aPluck*aDamp, aPluck*aDamp\nendin\n\ninstr 5\n    ; Harmonic pluck\n    iAmp = 0.4\n    iFreq = p4\n    iHarmonic = p5\n    \n    ; Pluck at harmonic\n    aPluck pluck iAmp, iFreq*iHarmonic, iFreq*iHarmonic, 0, 1\n    \n    ; Resonate at fundamental\n    aString streson aPluck*0.5, iFreq, 0.94\n    \n    aMix = aPluck*0.5 + aString*0.5\n    \n    outs aMix, aMix\nendin\n\ninstr 6\n    ; Bowed string with streson\n    iAmp = 0.35\n    iFreq = p4\n    \n    ; Envelope for bow pressure\n    kEnv linseg 0, 0.2, 1, p3-0.4, 1, 0.2, 0\n    \n    ; Filtered noise for bow\n    aNoise noise kEnv*0.03, 0\n    aFilt butterlp aNoise, 3000\n    \n    ; String resonator\n    aString streson aFilt, iFreq, 0.99\n    \n    outs aString*iAmp, aString*iAmp\nendin\n\ninstr 7\n    ; Prepared string (muted harmonics)\n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Pluck\n    aPluck pluck 0.8, iFreq, iFreq, 0, 2, 0.5\n    \n    ; Multiple resonators at inharmonic ratios\n    aRes1 streson aPluck, iFreq, 0.92\n    aRes2 streson aPluck, iFreq*2.3, 0.89\n    aRes3 streson aPluck, iFreq*3.7, 0.86\n    \n    aMix = (aRes1*0.5 + aRes2*0.3 + aRes3*0.2) * iAmp\n    \n    outs aMix, aMix\nendin\n\ninstr 8\n    ; Slide guitar\n    iAmp = 0.5\n    iStart = p4\n    iEnd = p5\n    \n    ; Initial pluck\n    aPluck mpulse 0.8, 0\n    \n    ; Sliding frequency\n    kFreq expseg iStart, p3, iEnd\n    \n    ; Resonator follows pitch\n    aString streson aPluck, kFreq, 0.97\n    \n    outs aString*iAmp, aString*iAmp\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play guitar-like\ni1 0 3 220\ni1 3.5 3 294\n\n; Play chorus\ni2 7.5 3 330\n\n; Play strum\ni3 11.5 2 220\ni3 13.5 2 330\n\n; Play palm mute\ni4 16.5 1 392\ni4 17.5 1 440\ni4 18.5 1 523\n\n; Play harmonics\n; Format: start dur fundamental harmonic\ni5 20.5 2 220 2\ni5 22.5 2 220 3\ni5 24.5 2 220 4\n\n; Play bowed\ni6 27.5 4 165\n\n; Play prepared\ni7 32.5 3 294\n\n; Play slide\n; Format: start dur freq_start freq_end\ni8 36.5 3 220 440\ni8 39.5 3 440 220\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates linear arithmetic synthesis with crossfm", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSine ftgen 1, 0, 16384, 10, 1\n\ninstr 1\n    ; crossfm opcode: a1, a2 crossfm xfrq1, xfrq2, xndx1, xndx2, kcps, ifn1, ifn2 [, iphs1, iphs2]\n    ; crossfm implements cross-frequency modulation\n    ; Two oscillators modulate each other\n    ; xfrq1, xfrq2 - frequency ratios\n    ; xndx1, xndx2 - modulation indices\n    ; kcps - base frequency\n    \n    iAmp = 0.4\n    kCps = p4\n    kFreq1 = 1\n    kFreq2 = 1.5\n    kIndex1 = 3\n    kIndex2 = 2\n    \n    a1, a2 crossfm kFreq1, kFreq2, kIndex1, kIndex2, kCps, giSine, giSine\n    \n    ; Mix both outputs\n    aMix = (a1 + a2) * iAmp\n    \n    outs aMix, aMix\nendin\n\ninstr 2\n    ; crosspm opcode: a1, a2 crosspm xfrq1, xfrq2, xndx1, xndx2, kcps, ifn1, ifn2 [, iphs1, iphs2]\n    ; crosspm implements cross-phase modulation\n    ; Similar to crossfm but using phase modulation\n    \n    iAmp = 0.4\n    kCps = p4\n    kFreq1 = 1\n    kFreq2 = 2\n    kIndex1 = 5\n    kIndex2 = 3\n    \n    a1, a2 crosspm kFreq1, kFreq2, kIndex1, kIndex2, kCps, giSine, giSine\n    \n    aMix = (a1 + a2) * iAmp\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; Dynamic cross-modulation\n    iAmp = 0.4\n    kCps = p4\n    kFreq1 = 1\n    kFreq2 = 1.414\n    \n    ; Indices change over time\n    kIndex1 linseg 0, p3*0.3, 8, p3*0.7, 1\n    kIndex2 linseg 0, p3*0.3, 5, p3*0.7, 0.5\n    \n    a1, a2 crossfm kFreq1, kFreq2, kIndex1, kIndex2, kCps, giSine, giSine\n    \n    aMix = (a1 + a2) * iAmp\n    \n    outs aMix, aMix\nendin\n\ninstr 4\n    ; Stereo cross-modulation\n    iAmp = 0.4\n    kCps = p4\n    kFreq1 = 1\n    kFreq2 = 1.5\n    kIndex1 = 4\n    kIndex2 = 3\n    \n    a1, a2 crossfm kFreq1, kFreq2, kIndex1, kIndex2, kCps, giSine, giSine\n    \n    ; Use outputs separately for stereo\n    outs a1*iAmp, a2*iAmp\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play crossfm\ni1 0 2 220\ni1 2.5 2 330\n\n; Play crosspm\ni2 5.5 2 440\n\n; Play dynamic\ni3 8.5 4 294\n\n; Play stereo\ni4 13.5 3 392\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates low-frequency oscillators", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSine ftgen 1, 0, 16384, 10, 1\ngiSaw ftgen 2, 0, 16384, 10, 1, 0.5, 0.3, 0.25, 0.2\n\ninstr 1\n    ; lfo opcode: kres lfo kamp, kcps [, itype]\n    ; lfo generates low frequency oscillation\n    ; kamp - amplitude\n    ; kcps - frequency in Hz\n    ; itype - waveform type (0=sine, 1=triangle, 2=square up, 3=square down, 4=saw up, 5=saw down)\n    \n    iAmp = 0.5\n    iFreq = 440\n    \n    ; Sine LFO for amplitude modulation\n    kLFO lfo 0.3, 5, 0\n    kAmp = 0.2 + kLFO\n    \n    aOsc poscil kAmp, iFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 2\n    ; Triangle LFO\n    iAmp = 0.5\n    iFreq = 440\n    \n    kLFO lfo 0.3, 4, 1\n    kAmp = 0.2 + kLFO\n    \n    aOsc poscil kAmp, iFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 3\n    ; Square wave LFO for tremolo\n    iAmp = 0.5\n    iFreq = 440\n    \n    kLFO lfo 0.25, 6, 2\n    kAmp = 0.25 + kLFO\n    \n    aOsc poscil kAmp, iFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 4\n    ; lfsr opcode: ares lfsr kreg, imask, ishift\n    ; lfsr generates pseudo-random sequences using linear feedback shift register\n    ; kreg - register value\n    ; imask - bit mask\n    ; ishift - shift amount\n    \n    ; Note: lfsr is typically used for modulation\n    ; Demonstration with basic noise-like modulation\n    \n    iAmp = 0.4\n    iFreq = 440\n    \n    ; Random modulation\n    kRand randh 50, 10\n    kFreq = iFreq + kRand\n    \n    aOsc poscil iAmp, kFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 5\n    ; LFO on filter cutoff\n    iAmp = 0.5\n    iFreq = 220\n    \n    aSource poscil iAmp, iFreq, giSaw\n    \n    ; LFO controls filter\n    kLFO lfo 2000, 0.5, 0\n    kCutoff = 800 + kLFO\n    \n    aFilt butterlp aSource, kCutoff\n    \n    outs aFilt, aFilt\nendin\n\ninstr 6\n    ; Multiple LFOs\n    iAmp = 0.4\n    iFreq = 330\n    \n    ; LFO 1: amplitude\n    kLFO1 lfo 0.2, 4, 0\n    kAmp = 0.3 + kLFO1\n    \n    ; LFO 2: frequency (vibrato)\n    kLFO2 lfo 10, 5.5, 0\n    kFreq = iFreq + kLFO2\n    \n    aOsc poscil kAmp, kFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play sine LFO\ni1 0 3\n\n; Play triangle LFO\ni2 4 3\n\n; Play square LFO\ni3 8 3\n\n; Play random modulation\ni4 12 3\n\n; Play filter LFO\ni5 16 4\n\n; Play multiple LFOs\ni6 21 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates basic noise generators", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; noise opcode: ares noise xamp, ibeta\n    ; noise generates white or colored noise\n    ; xamp - amplitude\n    ; ibeta - spectral color (0=white, 1=pink, approaching infinity=brown)\n    \n    ; White noise\n    iAmp = 0.3\n    aNoise noise iAmp, 0\n    \n    outs aNoise, aNoise\nendin\n\ninstr 2\n    ; Pink noise\n    iAmp = 0.3\n    aNoise noise iAmp, 1\n    \n    outs aNoise, aNoise\nendin\n\ninstr 3\n    ; Brown noise\n    iAmp = 0.3\n    aNoise noise iAmp, 2\n    \n    outs aNoise, aNoise\nendin\n\ninstr 4\n    ; rand opcode: ares rand xamp [, iseed] [, isel] [, ioffset]\n    ; rand generates pseudo-random numbers at audio rate\n    ; xamp - amplitude range\n    \n    iAmp = 0.3\n    aNoise rand iAmp\n    \n    outs aNoise, aNoise\nendin\n\ninstr 5\n    ; randh opcode: ares randh xamp, xcps [, iseed] [, isize] [, ioffset]\n    ; randh generates random values with sample-and-hold\n    ; xamp - amplitude range\n    ; xcps - frequency of new random values\n    \n    iAmp = 0.3\n    iRate = 500\n    \n    aNoise randh iAmp, iRate\n    \n    outs aNoise, aNoise\nendin\n\ninstr 6\n    ; randi opcode: ares randi xamp, xcps [, iseed] [, isize] [, ioffset]\n    ; randi generates random values with interpolation\n    ; xamp - amplitude range\n    ; xcps - frequency of new random values\n    \n    iAmp = 0.3\n    iRate = 500\n    \n    aNoise randi iAmp, iRate\n    \n    outs aNoise, aNoise\nendin\n\ninstr 7\n    ; pinkish opcode: ares pinkish xin [, imethod] [, inumbands] [, iseed] [, iskip]\n    ; pinkish generates pink noise\n    ; xin - input signal to colorize (typically white noise)\n    \n    ; Generate white noise first\n    aWhite noise 1, 0\n    \n    ; Convert to pink\n    aPink pinkish aWhite\n    \n    outs aPink*0.3, aPink*0.3\nendin\n\ninstr 8\n    ; Variable rate randh\n    iAmp = 0.3\n    \n    ; Rate changes over time\n    kRate linseg 100, p3, 5000\n    \n    aNoise randh iAmp, kRate\n    \n    outs aNoise, aNoise\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play white noise\ni1 0 2\n\n; Play pink noise\ni2 2.5 2\n\n; Play brown noise\ni3 5 2\n\n; Play rand\ni4 7.5 2\n\n; Play randh\ni5 10 2\n\n; Play randi\ni6 12.5 2\n\n; Play pinkish\ni7 15 2\n\n; Play variable rate\ni8 17.5 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates random number generators for control signals", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSine ftgen 1, 0, 16384, 10, 1\n\ninstr 1\n    ; random opcode: kres random kmin, kmax\n    ; random generates random values between min and max at k-rate\n    ; kmin, kmax - range\n    \n    iAmp = 0.4\n    \n    ; Random frequency changes\n    kFreq random 200, 800\n    \n    aOsc poscil iAmp, kFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 2\n    ; randomh opcode: kres randomh kmin, kmax, kcps [, imode] [, ifirstval]\n    ; randomh generates sample-and-hold random values at k-rate\n    ; kmin, kmax - range\n    ; kcps - rate of new values\n    \n    iAmp = 0.4\n    \n    ; Random frequency at 8 Hz rate\n    kFreq randomh 300, 700, 8\n    \n    aOsc poscil iAmp, kFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 3\n    ; randomi (interpolated random)\n    iAmp = 0.4\n    \n    ; Smooth random frequency changes\n    kFreq randomi 250, 750, 6\n    \n    aOsc poscil iAmp, kFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 4\n    ; Random amplitude modulation\n    iFreq = p4\n    \n    ; Random amplitude\n    kAmp randomh 0.2, 0.5, 4\n    \n    aOsc poscil kAmp, iFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 5\n    ; Random pan position\n    iAmp = 0.4\n    iFreq = p4\n    \n    aOsc poscil iAmp, iFreq, giSine\n    \n    ; Random pan (0 to 1)\n    kPan randomh 0, 1, 3\n    \n    aLeft = aOsc * sqrt(1 - kPan)\n    aRight = aOsc * sqrt(kPan)\n    \n    outs aLeft, aRight\nendin\n\ninstr 6\n    ; Stochastic melody\n    ; Random note selection\n    kFreq randomh 220, 880, 5\n    kFreq = int(kFreq / 50) * 50  ; Quantize to steps\n    \n    ; Random amplitude\n    kAmp randomh 0.2, 0.4, 5\n    \n    aOsc poscil kAmp, kFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 7\n    ; Multiple random parameters\n    ; Random frequency\n    kFreq randomi 200, 800, 4\n    \n    ; Random amplitude\n    kAmp randomh 0.2, 0.5, 6\n    \n    ; Random filter cutoff\n    kCutoff randomh 500, 3000, 3\n    \n    aOsc poscil kAmp, kFreq, giSine\n    aFiltered butterlp aOsc, kCutoff\n    \n    outs aFiltered, aFiltered\nendin\n\ninstr 8\n    ; Brownian motion (smooth random walk)\n    iAmp = 0.4\n    \n    ; Accumulating random steps\n    kStep randomi -20, 20, 10\n    kFreq init 440\n    kFreq = kFreq + kStep\n    \n    ; Limit range\n    kFreq limit kFreq, 200, 800\n    \n    aOsc poscil iAmp, kFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play random frequency\ni1 0 3\n\n; Play randomh frequency\ni2 3.5 3\n\n; Play randomi frequency\ni3 7 3\n\n; Play random amplitude\ni4 10.5 3 440\n\n; Play random pan\ni5 14 3 523\n\n; Play stochastic melody\ni6 17.5 4\n\n; Play multiple random\ni7 22 4\n\n; Play Brownian motion\ni8 26.5 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates advanced noise synthesis techniques", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSine ftgen 1, 0, 16384, 10, 1\n\ninstr 1\n    ; Filtered noise sweep\n    iAmp = 0.4\n    \n    ; White noise source\n    aNoise noise 1, 0\n    \n    ; Sweeping filter\n    kCutoff expseg 200, p3, 8000\n    \n    aFiltered butterbp aNoise, kCutoff, kCutoff*0.3\n    \n    outs aFiltered*iAmp, aFiltered*iAmp\nendin\n\ninstr 2\n    ; Granular noise texture\n    iAmp = 0.3\n    \n    ; Random grain generation\n    kTrig metro 20\n    kDur randomh 0.05, 0.2, 20\n    kAmp randomh 0.5, 1, 20\n    \n    ; Noise burst\n    aNoise noise 1, 0\n    aEnv linseg 0, 0.01, 1, kDur-0.02, 1, 0.01, 0\n    \n    aGrain = aNoise * aEnv * kAmp * iAmp\n    \n    outs aGrain, aGrain\nendin\n\ninstr 3\n    ; Noise-based percussion\n    iAmp = 0.5\n    \n    ; Short noise burst\n    aNoise noise 1, 0\n    \n    ; Exponential decay envelope\n    aEnv expseg 1, 0.01, 0.5, 0.05, 0.01, p3-0.06, 0.001\n    \n    ; Filter sweep (high to low)\n    kCutoff expseg 8000, p3, 200\n    \n    aFiltered butterlp aNoise, kCutoff\n    aDrum = aFiltered * aEnv * iAmp\n    \n    outs aDrum, aDrum\nendin\n\ninstr 4\n    ; Wind sound\n    iAmp = 0.3\n    \n    ; Pink noise base\n    aWhite noise 1, 0\n    aPink pinkish aWhite\n    \n    ; Slow amplitude modulation\n    kMod randomi 0.6, 1, 0.5\n    \n    ; Gentle filtering\n    aFiltered butterlp aPink, 2000\n    \n    aWind = aFiltered * kMod * iAmp\n    \n    outs aWind, aWind\nendin\n\ninstr 5\n    ; Ocean waves\n    iAmp = 0.3\n    \n    ; Brown noise (low frequency emphasis)\n    aNoise noise 1, 2\n    \n    ; Wave-like amplitude envelope\n    kWave poscil 0.5, 0.3, giSine\n    kWave = 0.5 + kWave\n    \n    ; Low-pass filter\n    aFiltered butterlp aNoise, 800\n    \n    aOcean = aFiltered * kWave * iAmp\n    \n    outs aOcean, aOcean\nendin\n\ninstr 6\n    ; Crackling fire\n    iAmp = 0.3\n    \n    ; High-rate sample and hold\n    aCrackle randh 1, 3000\n    \n    ; Add some filtering\n    aFiltered butterbp aCrackle, 2000, 1000\n    \n    ; Random amplitude bursts\n    kBurst randomh 0.3, 1, 8\n    \n    aFire = aFiltered * kBurst * iAmp\n    \n    outs aFire, aFire\nendin\n\ninstr 7\n    ; Vinyl crackle\n    iAmp = 0.15\n    \n    ; Very high rate randh for crackle\n    aCrackle randh 1, 8000\n    \n    ; High-pass to remove low frequencies\n    aFiltered butterhp aCrackle, 3000\n    \n    ; Lower overall level\n    aVinyl = aFiltered * iAmp\n    \n    outs aVinyl, aVinyl\nendin\n\ninstr 8\n    ; Metallic noise (resonant)\n    iAmp = 0.35\n    \n    ; White noise\n    aNoise noise 1, 0\n    \n    ; Multiple resonant filters\n    aRes1 butterbp aNoise, 1200, 50\n    aRes2 butterbp aNoise, 2400, 60\n    aRes3 butterbp aNoise, 4800, 80\n    \n    ; Decay envelope\n    aEnv expseg 1, p3, 0.001\n    \n    aMetal = (aRes1 + aRes2 + aRes3) * aEnv * iAmp\n    \n    outs aMetal, aMetal\nendin\n\ninstr 9\n    ; Stereo noise field\n    iAmp = 0.3\n    \n    ; Independent noise for each channel\n    aNoiseL noise 1, 0\n    aNoiseR noise 1, 0, 1\n    \n    ; Different filtering per channel\n    kCutL randomi 500, 3000, 2\n    kCutR randomi 600, 3500, 2.3\n    \n    aLeft butterlp aNoiseL, kCutL\n    aRight butterlp aNoiseR, kCutR\n    \n    outs aLeft*iAmp, aRight*iAmp\nendin\n\ninstr 10\n    ; Noise with pitch tracking\n    iAmp = 0.3\n    \n    ; Fundamental frequency\n    iFreq = p4\n    \n    ; Noise source\n    aNoise noise 1, 0\n    \n    ; Bandpass at fundamental and harmonics\n    aFund butterbp aNoise, iFreq, iFreq*0.1\n    aHarm2 butterbp aNoise, iFreq*2, iFreq*0.15\n    aHarm3 butterbp aNoise, iFreq*3, iFreq*0.2\n    \n    aMix = (aFund + aHarm2*0.5 + aHarm3*0.3) * iAmp * 2\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play filtered sweep\ni1 0 4\n\n; Play granular texture\ni2 5 4\n\n; Play noise percussion\ni3 10 0.3\ni3 10.5 0.3\ni3 11 0.3\ni3 11.5 0.3\n\n; Play wind sound\ni4 13 5\n\n; Play ocean waves\ni5 19 6\n\n; Play crackling fire\ni6 26 5\n\n; Play vinyl crackle\ni7 32 4\n\n; Play metallic noise\ni8 37 2\ni8 39 2\n\n; Play stereo field\ni9 42 5\n\n; Play noise with pitch\ni10 48 2 220\ni10 50 2 330\ni10 52 2 440\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the phasor opcode by generating a sawtooth wave through table lookup", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function table 1: sine wave for table lookup\ngiSine ftgen 1, 0, 8192, 10, 1\n; Function table 2: triangle wave\ngiTri ftgen 2, 0, 8192, 7, 0, 2048, 1, 4096, -1, 2048, 0\n\ninstr 1\n    ; phasor opcode: ares phasor xcps [, iphs]\n    ; phasor produces a normalized moving phase value (0-1)\n    ; xcps - frequency in Hz\n    ; iphs - initial phase (0-1, optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.05, 0.4, p3-0.1, 0.4, 0.05, 0\n    \n    ; Generate a phasor at 440 Hz\n    aPhs phasor 440\n    \n    ; Use phasor to read through the sine wave table\n    aSig tablei aPhs, giSine, 1\n    \n    out aSig * kAmp\nendin\n\ninstr 2\n    ; Demonstrate phasor for direct audio output (sawtooth)\n    kAmp linseg 0, 0.05, 0.3, p3-0.1, 0.3, 0.05, 0\n    \n    ; Phasor output (0-1) can be converted to audio (-1 to 1)\n    aPhs phasor 220\n    aSaw = (aPhs * 2) - 1\n    \n    out aSaw * kAmp\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 2 seconds\ni1 0 2\n; Play instrument 2 for 2 seconds starting at t=2.5\ni2 2.5 2\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the phasor opcode for phase modulation synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; phasor opcode: ares phasor xcps [, iphs]\n    ; Demonstrate phase modulation using phasor\n    ; xcps - frequency in Hz (can be k-rate or a-rate)\n    ; iphs - initial phase (0-1, optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.4, p3-0.2, 0.4, 0.1, 0\n    \n    ; Modulator frequency\n    kModFreq = 5\n    \n    ; Create modulator phasor\n    aModPhs phasor kModFreq\n    aModSig = (aModPhs - 0.5) * 0.3\n    \n    ; Create carrier phasor with phase modulation\n    aCarPhs phasor 440\n    aModPhs = aCarPhs + aModSig\n    \n    ; Wrap phase to 0-1 range\n    aModPhs = aModPhs - int(aModPhs)\n    \n    ; Table lookup\n    aSig tablei aModPhs, giSine, 1\n    \n    out aSig * kAmp\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 3 seconds\ni1 0 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the phasor opcode for creating multiple detuned oscillators", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 16384, 10, 1\n\ninstr 1\n    ; phasor opcode: ares phasor xcps [, iphs]\n    ; Create a rich sound using multiple detuned phasors\n    ; xcps - frequency in Hz\n    ; iphs - initial phase (optional, use different values for spread)\n    \n    ; Base frequency\n    kFreq = 220\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.15, p3-0.2, 0.15, 0.1, 0\n    \n    ; Create multiple detuned phasors with different starting phases\n    aPhs1 phasor kFreq, 0\n    aPhs2 phasor kFreq * 1.005, 0.25\n    aPhs3 phasor kFreq * 0.995, 0.5\n    aPhs4 phasor kFreq * 1.01, 0.75\n    \n    ; Convert to audio signals\n    aSig1 tablei aPhs1, giSine, 1\n    aSig2 tablei aPhs2, giSine, 1\n    aSig3 tablei aPhs3, giSine, 1\n    aSig4 tablei aPhs4, giSine, 1\n    \n    ; Mix for stereo output\n    aLeft = (aSig1 + aSig3) * kAmp\n    aRight = (aSig2 + aSig4) * kAmp\n    \n    outs aLeft, aRight\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 4 seconds\ni1 0 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the phasorbnk opcode for generating multiple phase signals simultaneously", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; phasorbnk opcode: ares1 [, ares2] [, ...] phasorbnk xcps, kfn [, imax] [, ioffset] [, iphase]\n    ; phasorbnk produces multiple normalized moving phase values\n    ; xcps - base frequency in Hz\n    ; kfn - function table containing frequency ratios\n    ; imax - maximum number of oscillators (optional)\n    ; ioffset - frequency table offset (optional)\n    ; iphase - initial phase (optional)\n    \n    ; Create a table with harmonic ratios (1, 2, 3, 4, 5)\n    giRatios ftgen 10, 0, 8, -2, 1, 2, 3, 4, 5, 0, 0, 0\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.3, p3-0.2, 0.3, 0.1, 0\n    \n    ; Base frequency\n    kFreq = 110\n    \n    ; Generate 5 phasors at harmonic frequencies\n    aPhs1, aPhs2, aPhs3, aPhs4, aPhs5 phasorbnk kFreq, giRatios, 5\n    \n    ; Convert phasors to sine waves with decreasing amplitudes\n    aSig1 tablei aPhs1, giSine, 1\n    aSig2 tablei aPhs2, giSine, 1\n    aSig3 tablei aPhs3, giSine, 1\n    aSig4 tablei aPhs4, giSine, 1\n    aSig5 tablei aPhs5, giSine, 1\n    \n    ; Mix with harmonic weighting\n    aMix = aSig1 + aSig2*0.5 + aSig3*0.33 + aSig4*0.25 + aSig5*0.2\n    \n    out aMix * kAmp * 0.3\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 3 seconds\ni1 0 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the phasorbnk opcode for complex additive synthesis with time-varying harmonics", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n; Frequency ratios for bell-like timbre\ngiRatios ftgen 10, 0, 8, -2, 1, 2.76, 5.4, 8.93, 0, 0, 0, 0\n\ninstr 1\n    ; phasorbnk opcode: ares1 [, ares2] [, ...] phasorbnk xcps, kfn [, imax] [, ioffset] [, iphase]\n    ; Create a bell-like sound using inharmonic ratios\n    ; xcps - base frequency in Hz\n    ; kfn - function table with frequency ratios\n    ; imax - number of oscillators to use\n    \n    ; Base frequency\n    kFreq = 220\n    \n    ; Generate 4 phasors with inharmonic ratios\n    aPhs1, aPhs2, aPhs3, aPhs4 phasorbnk kFreq, giRatios, 4\n    \n    ; Different decay rates for each harmonic\n    kEnv1 expon 0.5, p3, 0.001\n    kEnv2 expon 0.4, p3*0.6, 0.001\n    kEnv3 expon 0.3, p3*0.4, 0.001\n    kEnv4 expon 0.2, p3*0.3, 0.001\n    \n    ; Convert to audio\n    aSig1 tablei aPhs1, giSine, 1\n    aSig2 tablei aPhs2, giSine, 1\n    aSig3 tablei aPhs3, giSine, 1\n    aSig4 tablei aPhs4, giSine, 1\n    \n    ; Apply individual envelopes\n    aMix = aSig1*kEnv1 + aSig2*kEnv2 + aSig3*kEnv3 + aSig4*kEnv4\n    \n    ; Stereo width\n    aLeft = aMix * 0.3\n    aRight = aMix * 0.3\n    \n    outs aLeft, aRight\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play bell-like tones\ni1 0 4\ni1 1 5 \ni1 2 6\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the oscil opcode by generating a 440 Hz sine wave with an amplitude envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function table 1: sine wave\ngiSine ftgen 1, 0, 4096, 10, 1\n\ninstr 1\n    ; oscil opcode: asig oscil xamp, xcps, ifn [, iphs]\n    ; xamp - amplitude\n    ; xcps - frequency in Hz\n    ; ifn - function table number\n    ; iphs - initial phase (optional, default 0)\n    \n    ; Create an amplitude envelope\n    kEnv linseg 0, 0.1, 0.5, p3-0.2, 0.5, 0.1, 0\n    \n    ; Generate a 440 Hz sine wave using oscil\n    aSig oscil kEnv, 440, giSine\n    \n    out aSig\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 2 seconds\ni1 0 2\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the oscili opcode by generating a frequency-modulated tone with cubic interpolation", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function table 1: sine wave\ngiSine ftgen 1, 0, 4096, 10, 1\n\ninstr 1\n    ; oscili opcode: asig oscili xamp, xcps, ifn [, iphs]\n    ; oscili uses cubic interpolation for higher quality\n    ; xamp - amplitude\n    ; xcps - frequency in Hz (can be k-rate or a-rate)\n    ; ifn - function table number\n    ; iphs - initial phase (optional)\n    \n    ; Frequency modulation for varying pitch\n    kFreq linseg 220, p3*0.5, 880, p3*0.5, 220\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.4, p3-0.2, 0.4, 0.1, 0\n    \n    ; Generate tone with cubic interpolation using oscili\n    aSig oscili kAmp, kFreq, giSine\n    \n    out aSig\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 3 seconds\ni1 0 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the oscil3 opcode with cubic interpolation for smooth waveform generation", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function table 1: triangle wave\ngiTri ftgen 1, 0, 4096, 7, 0, 1024, 1, 2048, -1, 1024, 0\n\ninstr 1\n    ; oscil3 opcode: asig oscil3 xamp, xcps, ifn [, iphs]\n    ; oscil3 is a legacy opcode with cubic interpolation (use oscili instead)\n    ; xamp - amplitude\n    ; xcps - frequency in Hz\n    ; ifn - function table number\n    ; iphs - initial phase (optional)\n    \n    ; Amplitude envelope\n    kAmp adsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Generate a 330 Hz triangle wave using oscil3\n    aSig oscil3 kAmp*0.5, 330, giTri\n    \n    out aSig\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 2 seconds\ni1 0 2\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the oscilikt opcode with audio-rate pitch and amplitude modulation", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function table 1: sine wave\ngiSine ftgen 1, 0, 4096, 10, 1\n\ninstr 1\n    ; oscilikt opcode: ares oscilikt xamp, xcps, ifn [, iphs] [, istor]\n    ; oscilikt allows audio-rate amplitude and frequency modulation\n    ; xamp - amplitude (k-rate or a-rate)\n    ; xcps - frequency in Hz (k-rate or a-rate)\n    ; ifn - function table number\n    ; iphs - initial phase (optional)\n    ; istor - skip initialization (optional)\n    \n    ; Create an audio-rate frequency modulation (vibrato)\n    kVibRate = 5\n    kVibDepth = 10\n    aVib oscili kVibDepth, kVibRate, giSine\n    aFreq = 440 + aVib\n    \n    ; Create amplitude envelope\n    kAmp linseg 0, 0.05, 0.5, p3-0.1, 0.5, 0.05, 0\n    \n    ; Generate tone with audio-rate frequency control\n    aSig oscilikt kAmp, aFreq, giSine\n    \n    out aSig\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 2.5 seconds\ni1 0 2.5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the oscils opcode for simple sine wave generation without function tables", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\ninstr 1\n    ; oscils opcode: ares oscils xamp, xcps, iphs [, iflg]\n    ; oscils generates a simple sine wave without requiring a function table\n    ; xamp - amplitude\n    ; xcps - frequency in Hz\n    ; iphs - initial phase (0-1)\n    ; iflg - if non-zero, use table lookup instead (optional)\n    \n    ; Create envelope\n    kEnv linseg 0, 0.05, 0.4, p3-0.15, 0.4, 0.1, 0\n    \n    ; Generate three sine waves at harmonic frequencies\n    aSig1 oscils kEnv, 440, 0\n    aSig2 oscils kEnv*0.5, 880, 0\n    aSig3 oscils kEnv*0.25, 1320, 0\n    \n    ; Mix the harmonics\n    aMix = aSig1 + aSig2 + aSig3\n    \n    out aMix * 0.3\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 2 seconds\ni1 0 2\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the poscil opcode for high-precision oscillator with interpolation", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function table 1: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n; Function table 2: sawtooth wave\ngiSaw ftgen 2, 0, 8192, 10, 1, 0.5, 0.333, 0.25, 0.2, 0.166, 0.142, 0.125\n\ninstr 1\n    ; poscil opcode: ares poscil xamp, xcps, ifn [, iphs]\n    ; poscil is a high-precision oscillator with linear interpolation\n    ; xamp - amplitude\n    ; xcps - frequency in Hz (can be negative for reverse playback)\n    ; ifn - function table number\n    ; iphs - initial phase (0-1, optional)\n    \n    ; Frequency sweep\n    kFreq expseg 220, p3*0.7, 880, p3*0.3, 220\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.5, p3-0.2, 0.5, 0.1, 0\n    \n    ; Generate sawtooth wave using poscil\n    aSig poscil kAmp, kFreq, giSaw\n    \n    out aSig\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 4 seconds\ni1 0 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the poscil3 opcode for high-precision oscillator with cubic interpolation", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table 1: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n; Function table 2: square wave\ngiSquare ftgen 2, 0, 8192, 10, 1, 0, 0.333, 0, 0.2, 0, 0.142, 0, 0.111\n\ninstr 1\n    ; poscil3 opcode: ares poscil3 xamp, xcps, ifn [, iphs]\n    ; poscil3 is a high-precision oscillator with cubic interpolation\n    ; xamp - amplitude\n    ; xcps - frequency in Hz\n    ; ifn - function table number\n    ; iphs - initial phase (0-1, optional)\n    \n    ; Amplitude envelope\n    kAmp madsr 0.02, 0.1, 0.7, 0.3\n    \n    ; Generate two detuned square waves for stereo effect\n    aSigL poscil3 kAmp*0.4, 440, giSquare, 0\n    aSigR poscil3 kAmp*0.4, 442, giSquare, 0.25\n    \n    outs aSigL, aSigR\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 3 seconds\ni1 0 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the loscil opcode for reading sampled sound from a table with looping", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function table 1: sample a complex waveform\ngiWave ftgen 1, 0, 16384, 10, 1, 0.5, 0.3, 0.2, 0.1, 0.05, 0.025\n\ninstr 1\n    ; loscil opcode: ar1 [, ar2] loscil xamp, kcps, ifn [, ibas] [, imod1] [, ibeg1] [, iend1] [, imod2] [, ibeg2] [, iend2]\n    ; loscil reads sampled sound from a table with looping capabilities\n    ; xamp - amplitude\n    ; kcps - frequency in Hz (playback rate)\n    ; ifn - function table number\n    ; ibas - base frequency (optional, default sr/table_length)\n    ; imod1 - loop mode for first loop (0=no loop, 1=forward, 2=back-forth)\n    ; ibeg1, iend1 - loop start and end points\n    \n    ; Pitch envelope\n    kFreq linseg 110, p3*0.5, 440, p3*0.5, 220\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.05, 0.5, p3-0.1, 0.5, 0.05, 0\n    \n    ; Read from table with looping, base frequency 220 Hz\n    aSig loscil kAmp, kFreq, giWave, 220\n    \n    out aSig\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 3 seconds\ni1 0 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the loscil3 opcode for reading sampled sound with cubic interpolation and looping", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table 1: create a richer waveform for sampling\ngiRich ftgen 1, 0, 32768, 10, 1, 0.8, 0.6, 0.4, 0.3, 0.2, 0.15, 0.1, 0.08, 0.06\n\ninstr 1\n    ; loscil3 opcode: ar1 [, ar2] loscil3 xamp, kcps, ifn [, ibas] [, imod1] [, ibeg1] [, iend1] [, imod2] [, ibeg2] [, iend2]\n    ; loscil3 reads sampled sound with cubic interpolation and looping\n    ; xamp - amplitude\n    ; kcps - frequency in Hz (playback rate)\n    ; ifn - function table number\n    ; ibas - base frequency (optional)\n    ; imod1 - loop mode (0=no loop, 1=forward, 2=back-forth, 3=backward)\n    ; ibeg1, iend1 - loop boundaries\n    \n    ; Create a musical phrase with varying pitch\n    kFreq linseg 261.63, p3/4, 329.63, p3/4, 392, p3/4, 523.25, p3/4, 261.63\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.4, p3-0.2, 0.4, 0.1, 0\n    \n    ; Read from table with cubic interpolation, base frequency 261.63 Hz (middle C)\n    aSigL loscil3 kAmp, kFreq, giRich, 261.63\n    aSigR loscil3 kAmp, kFreq*1.005, giRich, 261.63\n    \n    outs aSigL, aSigR\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 4 seconds\ni1 0 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the table opcode for direct table value access without interpolation", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function table 1: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n; Function table 2: envelope shape\ngiEnv ftgen 2, 0, 1024, 7, 0, 256, 1, 512, 1, 256, 0\n\ninstr 1\n    ; table opcode: ares table andx, ifn [, ixmode] [, ixoff] [, iwrap]\n    ; table accesses table values by direct indexing without interpolation\n    ; andx - index into the table (can be k-rate or a-rate)\n    ; ifn - function table number\n    ; ixmode - index mode (0=raw, 1=normalized 0-1, optional)\n    ; ixoff - index offset (optional)\n    ; iwrap - wraparound mode (optional)\n    \n    ; Create a phasor to scan through the table\n    aPhs phasor 440\n    \n    ; Use table to read sine wave (normalized mode)\n    aSig table aPhs, giSine, 1\n    \n    ; Apply amplitude envelope\n    kAmp linseg 0, 0.05, 0.4, p3-0.1, 0.4, 0.05, 0\n    \n    out aSig * kAmp\nendin\n\ninstr 2\n    ; Demonstrate table for reading envelope shapes\n    kEnvIdx line 0, p3, 1\n    kEnvAmp table kEnvIdx, giEnv, 1\n    \n    aPhs phasor 330\n    aSig table aPhs, giSine, 1\n    \n    out aSig * kEnvAmp * 0.4\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 2 seconds\ni1 0 2\n; Play instrument 2 for 3 seconds\ni2 2.5 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the tablei opcode for table lookup with linear interpolation", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function table 1: complex waveform\ngiComplex ftgen 1, 0, 8192, 10, 1, 0.5, 0.3, 0.2, 0.1, 0.05\n; Function table 2: sawtooth wave\ngiSaw ftgen 2, 0, 8192, 7, -1, 8192, 1\n\ninstr 1\n    ; tablei opcode: ares tablei andx, ifn [, ixmode] [, ixoff] [, iwrap]\n    ; tablei accesses table values with linear interpolation for smoother output\n    ; andx - index into the table\n    ; ifn - function table number\n    ; ixmode - index mode (0=raw, 1=normalized 0-1)\n    ; ixoff - index offset (optional)\n    ; iwrap - wraparound mode (optional)\n    \n    ; Frequency sweep\n    kFreq expseg 220, p3*0.5, 880, p3*0.5, 220\n    \n    ; Generate phase\n    aPhs phasor kFreq\n    \n    ; Use tablei with linear interpolation for smooth reading\n    aSig tablei aPhs, giComplex, 1\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.5, p3-0.2, 0.5, 0.1, 0\n    \n    out aSig * kAmp\nendin\n\ninstr 2\n    ; Demonstrate tablei for waveshaping\n    kAmp linseg 0, 0.05, 0.4, p3-0.1, 0.4, 0.05, 0\n    \n    ; Input signal\n    aInput poscil 1, 440, giComplex\n    \n    ; Convert to index (0-1)\n    aIdx = (aInput + 1) * 0.5\n    \n    ; Apply waveshaping via table lookup\n    aShaped tablei aIdx, giSaw, 1\n    \n    out aShaped * kAmp\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 4 seconds\ni1 0 4\n; Play instrument 2 for 2 seconds\ni2 4.5 2\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the table3 opcode for table lookup with cubic interpolation", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table 1: rich harmonic content\ngiRich ftgen 1, 0, 16384, 10, 1, 0.8, 0.6, 0.5, 0.4, 0.3, 0.25, 0.2, 0.15, 0.1\n; Function table 2: custom envelope\ngiEnv ftgen 2, 0, 4096, 7, 0, 100, 1, 1000, 0.7, 2000, 0.5, 996, 0\n\ninstr 1\n    ; table3 opcode: ares table3 andx, ifn [, ixmode] [, ixoff] [, iwrap]\n    ; table3 accesses table values with cubic interpolation for highest quality\n    ; andx - index into the table\n    ; ifn - function table number\n    ; ixmode - index mode (0=raw, 1=normalized 0-1)\n    ; ixoff - index offset (optional)\n    ; iwrap - wraparound mode (optional)\n    \n    ; Variable frequency with vibrato\n    kVib oscili 3, 5, 1\n    kFreq = 440 + kVib\n    \n    ; Generate phase\n    aPhs phasor kFreq\n    \n    ; Use table3 with cubic interpolation for very smooth reading\n    aSig table3 aPhs, giRich, 1\n    \n    ; Time-varying amplitude using table3\n    kTime line 0, p3, 1\n    kAmp table3 kTime, giEnv, 1\n    \n    ; Stereo output\n    aLeft = aSig * kAmp * 0.4\n    aRight = aSig * kAmp * 0.4\n    \n    outs aLeft, aRight\nendin\n\ninstr 2\n    ; Demonstrate table3 for high-quality waveshaping\n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Input oscillator\n    aCarrier poscil 1, 330, giRich\n    \n    ; Use carrier as index for table lookup\n    aIdx = (aCarrier + 1) * 0.5\n    \n    ; High-quality table lookup with cubic interpolation\n    aShaped table3 aIdx, giRich, 1\n    \n    outs aShaped * kAmp * 0.4, aShaped * kAmp * 0.4\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 3 seconds\ni1 0 3\n; Play instrument 2 for 2.5 seconds\ni2 3.5 2.5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the tablekt opcode for table access with k-rate or a-rate control", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function table 1: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n; Function table 2: square wave\ngiSquare ftgen 2, 0, 8192, 10, 1, 0, 0.333, 0, 0.2, 0, 0.142\n; Function table 3: triangle wave\ngiTri ftgen 3, 0, 8192, 7, 0, 2048, 1, 4096, -1, 2048, 0\n\ninstr 1\n    ; tablekt opcode: ares tablekt xndx, kfn [, ixmode] [, ixoff] [, iwrap]\n    ; tablekt allows k-rate control of which table to read from\n    ; xndx - index into the table (k-rate or a-rate)\n    ; kfn - function table number (k-rate for dynamic table selection)\n    ; ixmode - index mode (0=raw, 1=normalized 0-1)\n    ; ixoff - index offset (optional)\n    ; iwrap - wraparound mode (optional)\n    \n    ; Switch between different waveforms over time\n    kTableNum init giSine\n    kTime timeinsts\n    \n    if kTime < p3/3 then\n        kTableNum = giSine\n    elseif kTime < 2*p3/3 then\n        kTableNum = giSquare\n    else\n        kTableNum = giTri\n    endif\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.05, 0.4, p3-0.1, 0.4, 0.05, 0\n    \n    ; Generate phase\n    aPhs phasor 440\n    \n    ; Use tablekt to read from dynamically selected table\n    aSig tablekt aPhs, kTableNum, 1\n    \n    out aSig * kAmp\nendin\n\ninstr 2\n    ; Demonstrate k-rate index control\n    kAmp linseg 0, 0.05, 0.4, p3-0.1, 0.4, 0.05, 0\n    \n    ; K-rate index scanning through table\n    kIdx linseg 0, p3, 1\n    \n    ; Use k-rate index\n    kVal tablekt kIdx, giSine, 1\n    \n    ; Generate audio at varying frequency based on table value\n    aSig poscil kAmp, 440 + (kVal * 110), giSine\n    \n    out aSig\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 3 seconds (morphs through waveforms)\ni1 0 3\n; Play instrument 2 for 2 seconds\ni2 3.5 2\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the tablexkt opcode for table crossfading between multiple tables", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table 1: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n; Function table 2: sawtooth\ngiSaw ftgen 2, 0, 8192, 10, 1, 0.5, 0.333, 0.25, 0.2, 0.166, 0.142, 0.125\n; Function table 3: square wave\ngiSquare ftgen 3, 0, 8192, 10, 1, 0, 0.333, 0, 0.2, 0, 0.142, 0, 0.111\n; Function table 4: triangle wave\ngiTri ftgen 4, 0, 8192, 7, 0, 2048, 1, 4096, -1, 2048, 0\n\ninstr 1\n    ; tablexkt opcode: ares tablexkt xndx, kfn, kwarp, iwsize [, ixmode] [, ixoff] [, iwrap]\n    ; tablexkt allows smooth crossfading between adjacent tables\n    ; xndx - index into the table\n    ; kfn - base function table number (can be fractional for crossfade)\n    ; kwarp - warping factor\n    ; iwsize - window size\n    ; ixmode - index mode (0=raw, 1=normalized 0-1)\n    ; ixoff - index offset (optional)\n    ; iwrap - wraparound mode (optional)\n    \n    ; Sweep through different waveforms with crossfading\n    kTableSweep linseg giSine, p3*0.25, giSaw, p3*0.25, giSquare, p3*0.25, giTri, p3*0.25, giSine\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.4, p3-0.2, 0.4, 0.1, 0\n    \n    ; Generate phase\n    aPhs phasor 330\n    \n    ; Use tablexkt for smooth crossfading between waveforms\n    aSig tablexkt aPhs, kTableSweep, 1, 8192, 1\n    \n    outs aSig * kAmp, aSig * kAmp\nendin\n\ninstr 2\n    ; Demonstrate interactive waveform morphing\n    kAmp madsr 0.02, 0.1, 0.6, 0.3\n    \n    ; LFO to modulate between waveforms\n    kLFO oscili 1.5, 0.5, giSine\n    kTableNum = giSine + abs(kLFO)\n    \n    ; Frequency modulation\n    kFreq linseg 220, p3*0.5, 440, p3*0.5, 220\n    \n    ; Generate phase\n    aPhs phasor kFreq\n    \n    ; Crossfade between tables based on LFO\n    aSig tablexkt aPhs, kTableNum, 1, 8192, 1\n    \n    ; Add stereo width with slight detuning\n    aPhs2 phasor kFreq * 1.002\n    aSig2 tablexkt aPhs2, kTableNum, 1, 8192, 1\n    \n    outs aSig * kAmp, aSig2 * kAmp\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 4 seconds\ni1 0 4\n; Play instrument 2 for 3 seconds\ni2 4.5 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the PADsynth algorithm", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; PADsynth creates bandwidth-enhanced additive synthesis\n; Generate PADsynth wavetable\ngiPad1 ftgen 1, 0, 262144, \"padsynth\", 1, 440, 40, 1, 1, 0.5, 0.3, 0.2, 0.1\ngiPad2 ftgen 2, 0, 262144, \"padsynth\", 1, 440, 80, 1, 1, 0.5, 0.3, 0.2, 0.1\n\n; Standard sine for reference\ngiSine ftgen 3, 0, 16384, 10, 1\n\ninstr 1\n    ; padsynth opcode concept:\n    ; PADsynth generates wavetables with bandwidth-enhanced harmonics\n    ; This creates rich, \"wide\" sounds suitable for pads\n    ; Parameters: base_freq, bandwidth, harmonics...\n    \n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Use PADsynth wavetable\n    aOsc poscil iAmp, iFreq, giPad1\n    \n    outs aOsc, aOsc\nendin\n\ninstr 2\n    ; Wide bandwidth PADsynth\n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Wider bandwidth = richer sound\n    aOsc poscil iAmp, iFreq, giPad2\n    \n    outs aOsc, aOsc\nendin\n\ninstr 3\n    ; Comparison with regular sine\n    iAmp = 0.4\n    iFreq = p4\n    \n    aSine poscil iAmp, iFreq, giSine\n    \n    outs aSine, aSine\nendin\n\ninstr 4\n    ; PADsynth with filter sweep\n    iAmp = 0.4\n    iFreq = p4\n    \n    aOsc poscil iAmp, iFreq, giPad1\n    \n    ; Sweep filter\n    kCutoff expseg 500, p3, 5000\n    aFilt butterlp aOsc, kCutoff\n    \n    outs aFilt, aFilt\nendin\n\ninstr 5\n    ; Detuned PADsynth layers\n    iAmp = 0.3\n    iFreq = p4\n    \n    ; Three layers slightly detuned\n    aOsc1 poscil iAmp, iFreq*0.998, giPad1\n    aOsc2 poscil iAmp, iFreq, giPad1\n    aOsc3 poscil iAmp, iFreq*1.002, giPad1\n    \n    aMix = (aOsc1 + aOsc2 + aOsc3) * 0.4\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play narrow bandwidth\ni1 0 3 220\ni1 3.5 3 330\n\n; Play wide bandwidth\ni2 7.5 3 294\n\n; Compare with sine\ni3 11.5 2 440\n\n; Play with filter\ni4 14.5 4 196\n\n; Play detuned layers\ni5 19.5 5 165\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the wgbow opcode for waveguide bowed string synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; wgbow opcode: ares wgbow kamp, kfreq, kpres, krat, kvibf, kvamp [, ifn] [, iminfreq]\n    ; wgbow implements a physical model of a bowed string using waveguide synthesis\n    ; kamp - amplitude\n    ; kfreq - frequency in Hz\n    ; kpres - bow pressure (0-1, typically 0.3-0.5)\n    ; krat - position of bow on string (0-1, 0=nut, 1=bridge)\n    ; kvibf - vibrato frequency in Hz\n    ; kvamp - vibrato amplitude (0-1)\n    ; ifn - table for vibrato waveform (default sine)\n    ; iminfreq - minimum expected frequency (for buffer allocation)\n    \n    ; Amplitude envelope\n    kAmp madsr 0.2, 0.1, 0.7, 0.3\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Bow parameters\n    kPres = 0.4     ; Moderate bow pressure\n    kRat = 0.15     ; Bow position near nut\n    kVibF = 5       ; 5 Hz vibrato\n    kVibAmp = 0.005 ; Subtle vibrato\n    \n    aBow wgbow kAmp*0.5, kFreq, kPres, kRat, kVibF, kVibAmp, giSine\n    \n    outs aBow, aBow\nendin\n\ninstr 2\n    ; Expressive bowing with dynamic pressure\n    kAmp madsr 0.3, 0.2, 0.6, 0.4\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Varying bow pressure for expression\n    kPres linseg 0.3, p3*0.3, 0.5, p3*0.4, 0.45, p3*0.3, 0.35\n    \n    kRat = 0.2\n    kVibF = 6\n    kVibAmp = 0.008\n    \n    aBow wgbow kAmp*0.5, kFreq, kPres, kRat, kVibF, kVibAmp, giSine\n    \n    outs aBow, aBow\nendin\n\ninstr 3\n    ; Different bow positions\n    kAmp madsr 0.2, 0.1, 0.7, 0.3\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Bow position from score parameter\n    kRat = p5\n    kPres = 0.4\n    kVibF = 5\n    kVibAmp = 0.005\n    \n    aBow wgbow kAmp*0.5, kFreq, kPres, kRat, kVibF, kVibAmp, giSine\n    \n    outs aBow, aBow\nendin\n\ninstr 4\n    ; Intense vibrato for emotional expression\n    kAmp madsr 0.3, 0.2, 0.6, 0.4\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    kPres = 0.45\n    kRat = 0.15\n    \n    ; Intense vibrato\n    kVibF = 6.5\n    kVibAmp = 0.02  ; Wide vibrato\n    \n    aBow wgbow kAmp*0.5, kFreq, kPres, kRat, kVibF, kVibAmp, giSine\n    \n    outs aBow, aBow\nendin\n\ninstr 5\n    ; Portamento between notes\n    kAmp madsr 0.2, 0.1, 0.7, 0.3\n    \n    iFreq1 = p4\n    iFreq2 = p5\n    \n    ; Smooth glissando\n    kFreq linseg iFreq1, p3, iFreq2\n    \n    kPres = 0.4\n    kRat = 0.2\n    kVibF = 5.5\n    kVibAmp = 0.007\n    \n    aBow wgbow kAmp*0.5, kFreq, kPres, kRat, kVibF, kVibAmp, giSine\n    \n    outs aBow, aBow\nendin\n\ninstr 6\n    ; Sul ponticello (bowing near bridge)\n    kAmp madsr 0.2, 0.1, 0.6, 0.3\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    kPres = 0.5     ; Higher pressure for sul pont\n    kRat = 0.9      ; Very close to bridge\n    kVibF = 4\n    kVibAmp = 0.003 ; Minimal vibrato\n    \n    aBow wgbow kAmp*0.4, kFreq, kPres, kRat, kVibF, kVibAmp, giSine\n    \n    outs aBow, aBow\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic bowed string\ni1 0 3 440\ni1 3.5 3 330\n\n; Play expressive bowing\ni2 7.5 4 523\n\n; Play different bow positions\n; Format: start dur freq bow_position\ni3 12.5 2 330 0.1   ; Near nut\ni3 14.5 2 330 0.5   ; Center\ni3 16.5 2 330 0.8   ; Near bridge\n\n; Play intense vibrato\ni4 20 4 392\n\n; Play portamento\n; Format: start dur freq1 freq2\ni5 25 3 220 330\ni5 28 3 330 440\n\n; Play sul ponticello\ni6 32 3 523\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the wgbowedbar opcode for bowed bar physical model", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; wgbowedbar opcode: ares wgbowedbar kamp, kfreq, kpos, kbowpres, kgain [, iconst] [, itvel] [, ibowpos] [, ilow]\n    ; wgbowedbar implements a physical model of a bowed metal bar (like a vibraphone or marimba bar)\n    ; kamp - amplitude\n    ; kfreq - frequency in Hz\n    ; kpos - strike position (0-1)\n    ; kbowpres - bow pressure (0-1)\n    ; kgain - overall gain (typically 0.8-0.99)\n    ; iconst - integration constant (default 0.1)\n    ; itvel - table velocity (default 0.0)\n    ; ibowpos - bow position (default 0)\n    ; ilow - lowest frequency (for buffer size)\n    \n    ; Amplitude envelope\n    kAmp madsr 0.1, 0.05, 0.8, 0.2\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Bar parameters\n    kPos = 0.2      ; Strike/bow position\n    kBowPres = 0.5  ; Bow pressure\n    kGain = 0.95    ; High gain for sustain\n    \n    aBar wgbowedbar kAmp*0.4, kFreq, kPos, kBowPres, kGain\n    \n    outs aBar, aBar\nendin\n\ninstr 2\n    ; Vibraphone-like sound\n    kAmp madsr 0.05, 0.02, 0.9, 0.3\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    kPos = 0.15     ; Strike position for vibraphone\n    kBowPres = 0.4\n    kGain = 0.98    ; Very high sustain\n    \n    aBar wgbowedbar kAmp*0.35, kFreq, kPos, kBowPres, kGain\n    \n    ; Add vibrato like vibraphone motor\n    kVib oscili 0.3, 6, giSine\n    kVib = 1 + kVib*0.05\n    \n    outs aBar*kVib, aBar*kVib\nendin\n\ninstr 3\n    ; Dynamic bow pressure\n    kAmp madsr 0.2, 0.1, 0.7, 0.3\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    kPos = 0.25\n    \n    ; Varying bow pressure\n    kBowPres linseg 0.2, p3*0.3, 0.6, p3*0.4, 0.5, p3*0.3, 0.3\n    \n    kGain = 0.92\n    \n    aBar wgbowedbar kAmp*0.4, kFreq, kPos, kBowPres, kGain\n    \n    outs aBar, aBar\nendin\n\ninstr 4\n    ; Different strike positions\n    kAmp madsr 0.1, 0.05, 0.8, 0.2\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Strike position from score\n    kPos = p5\n    kBowPres = 0.45\n    kGain = 0.95\n    \n    aBar wgbowedbar kAmp*0.4, kFreq, kPos, kBowPres, kGain\n    \n    outs aBar, aBar\nendin\n\ninstr 5\n    ; Metallic bell-like sound\n    kAmp madsr 0.02, 0.01, 0.9, 0.4\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    kPos = 0.1      ; Edge strike\n    kBowPres = 0.3  ; Light pressure\n    kGain = 0.99    ; Maximum sustain\n    \n    aBar wgbowedbar kAmp*0.3, kFreq, kPos, kBowPres, kGain\n    \n    outs aBar, aBar\nendin\n\ninstr 6\n    ; Frequency sweep\n    kAmp madsr 0.15, 0.1, 0.7, 0.3\n    \n    iFreq1 = p4\n    iFreq2 = p5\n    \n    ; Smooth frequency glide\n    kFreq expseg iFreq1, p3, iFreq2\n    \n    kPos = 0.2\n    kBowPres = 0.5\n    kGain = 0.94\n    \n    aBar wgbowedbar kAmp*0.4, kFreq, kPos, kBowPres, kGain\n    \n    outs aBar, aBar\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic bowed bar\ni1 0 3 440\ni1 3.5 3 523\n\n; Play vibraphone-like\ni2 7.5 4 660\ni2 9 4 523\ni2 10.5 4 440\n\n; Play dynamic bow pressure\ni3 15.5 4 330\n\n; Play different strike positions\n; Format: start dur freq position\ni4 20.5 2 392 0.1\ni4 22.5 2 392 0.3\ni4 24.5 2 392 0.5\n\n; Play metallic bell\ni5 27.5 4 880\n\n; Play frequency sweep\n; Format: start dur freq1 freq2\ni6 32.5 3 220 440\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates advanced bowed string ensemble techniques", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; String quartet simulation\n    kAmp madsr 0.3, 0.2, 0.6, 0.4\n    \n    ; Four voices with slightly detuned frequencies\n    iFreq = p4\n    kFreq1 = iFreq * 0.998     ; Slightly flat\n    kFreq2 = iFreq             ; On pitch\n    kFreq3 = iFreq * 1.002     ; Slightly sharp\n    kFreq4 = iFreq * 1.004     ; More sharp\n    \n    ; Different bow positions and pressures for each voice\n    kPres1 = 0.38\n    kPres2 = 0.42\n    kPres3 = 0.40\n    kPres4 = 0.44\n    \n    ; Different vibrato for each voice\n    kVibF1 = 5.2\n    kVibF2 = 5.8\n    kVibF3 = 6.1\n    kVibF4 = 5.5\n    \n    kVibAmp1 = 0.006\n    kVibAmp2 = 0.007\n    kVibAmp3 = 0.005\n    kVibAmp4 = 0.008\n    \n    ; Generate four string voices\n    aStr1 wgbow kAmp*0.3, kFreq1, kPres1, 0.15, kVibF1, kVibAmp1, giSine\n    aStr2 wgbow kAmp*0.3, kFreq2, kPres2, 0.18, kVibF2, kVibAmp2, giSine\n    aStr3 wgbow kAmp*0.3, kFreq3, kPres3, 0.20, kVibF3, kVibAmp3, giSine\n    aStr4 wgbow kAmp*0.3, kFreq4, kPres4, 0.16, kVibF4, kVibAmp4, giSine\n    \n    ; Stereo mix\n    aLeft = aStr1*0.8 + aStr2*0.4 + aStr3*0.5 + aStr4*0.2\n    aRight = aStr1*0.2 + aStr2*0.5 + aStr3*0.4 + aStr4*0.8\n    \n    outs aLeft, aRight\nendin\n\ninstr 2\n    ; Tremolo bowing\n    kAmp madsr 0.2, 0.1, 0.7, 0.3\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Rapid bow pressure modulation for tremolo\n    kTrem oscili 0.3, 12, giSine\n    kPres = 0.4 + kTrem\n    \n    kRat = 0.18\n    kVibF = 5\n    kVibAmp = 0.005\n    \n    aBow wgbow kAmp*0.5, kFreq, kPres, kRat, kVibF, kVibAmp, giSine\n    \n    outs aBow, aBow\nendin\n\ninstr 3\n    ; Col legno (hitting with wood of bow)\n    ; Using wgbowedbar for percussive quality\n    kAmp linseg 1, 0.01, 0.5, p3-0.01, 0\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Short, percussive parameters\n    kPos = 0.3\n    kBowPres = 0.8  ; High pressure for attack\n    kGain = 0.7     ; Lower sustain\n    \n    aBar wgbowedbar kAmp*0.5, kFreq, kPos, kBowPres, kGain\n    \n    outs aBar, aBar\nendin\n\ninstr 4\n    ; Spiccato (bouncing bow)\n    kAmp linseg 0, 0.001, 0.6, 0.05, 0.3, p3-0.051, 0\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Varying pressure for bounce effect\n    kPres linseg 0.6, 0.02, 0.2, 0.05, 0.5, p3-0.07, 0.1\n    \n    kRat = 0.2\n    kVibF = 0       ; No vibrato\n    kVibAmp = 0\n    \n    aBow wgbow kAmp*0.6, kFreq, kPres, kRat, kVibF, kVibAmp, giSine\n    \n    outs aBow, aBow\nendin\n\ninstr 5\n    ; Sul tasto (bowing over fingerboard)\n    kAmp madsr 0.3, 0.2, 0.6, 0.4\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Low pressure and position near nut\n    kPres = 0.3\n    kRat = 0.05     ; Very close to nut\n    \n    kVibF = 5\n    kVibAmp = 0.008\n    \n    aBow wgbow kAmp*0.5, kFreq, kPres, kRat, kVibF, kVibAmp, giSine\n    \n    ; Filter for darker tone\n    aBow tone aBow, 2000\n    \n    outs aBow, aBow\nendin\n\ninstr 6\n    ; Harmonic (natural overtone)\n    kAmp madsr 0.15, 0.1, 0.7, 0.3\n    \n    ; Fundamental frequency\n    iFreq = p4\n    \n    ; Harmonic number from score (2, 3, 4, etc.)\n    iHarm = p5\n    kFreq = iFreq * iHarm\n    \n    ; Light pressure for harmonic\n    kPres = 0.25\n    kRat = 1 / iHarm  ; Bow position at node\n    \n    kVibF = 5\n    kVibAmp = 0.003   ; Minimal vibrato\n    \n    aBow wgbow kAmp*0.5, kFreq, kPres, kRat, kVibF, kVibAmp, giSine\n    \n    outs aBow, aBow\nendin\n\ninstr 7\n    ; Crescendo/Decrescendo with bow pressure\n    iType = p5  ; 1 = crescendo, 2 = decrescendo\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    if iType == 1 then\n        ; Crescendo\n        kAmp linseg 0.1, p3, 0.7\n        kPres linseg 0.25, p3, 0.55\n    else\n        ; Decrescendo\n        kAmp linseg 0.7, p3, 0.1\n        kPres linseg 0.55, p3, 0.25\n    endif\n    \n    kRat = 0.18\n    kVibF = 5.5\n    kVibAmp = 0.007\n    \n    aBow wgbow kAmp*0.5, kFreq, kPres, kRat, kVibF, kVibAmp, giSine\n    \n    outs aBow, aBow\nendin\n\ninstr 8\n    ; Bowed cymbal/gong effect\n    kAmp madsr 0.05, 0.1, 0.8, 0.5\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Multiple bars for complex spectrum\n    kPos1 = 0.1\n    kPos2 = 0.23\n    kPos3 = 0.37\n    \n    kBowPres = 0.6\n    kGain = 0.98\n    \n    aBar1 wgbowedbar kAmp*0.25, kFreq, kPos1, kBowPres, kGain\n    aBar2 wgbowedbar kAmp*0.25, kFreq*1.618, kPos2, kBowPres, kGain\n    aBar3 wgbowedbar kAmp*0.25, kFreq*2.3, kPos3, kBowPres, kGain\n    \n    aMix = aBar1 + aBar2 + aBar3\n    \n    ; Add reverb for shimmer\n    aRvbL, aRvbR freeverb aMix, aMix, 0.9, 0.7\n    \n    outs aRvbL*0.6, aRvbR*0.6\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play string quartet\ni1 0 4 330\n\n; Play tremolo\ni2 5 3 440\n\n; Play col legno\ni3 9 0.5 330\ni3 9.5 0.5 440\ni3 10 0.5 523\n\n; Play spiccato\ni4 11.5 0.3 440\ni4 12 0.3 523\ni4 12.5 0.3 660\ni4 13 0.3 523\n\n; Play sul tasto\ni5 14.5 3 330\n\n; Play harmonics\n; Format: start dur fundamental harmonic_number\ni6 18.5 2 220 2    ; Octave harmonic\ni6 20.5 2 220 3    ; Fifth harmonic\ni6 22.5 2 220 4    ; Double octave\n\n; Play crescendo/decrescendo\n; Format: start dur freq type (1=cresc, 2=decresc)\ni7 26 3 392 1      ; Crescendo\ni7 29.5 3 392 2    ; Decrescendo\n\n; Play bowed cymbal\ni8 34 6 110\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates realistic cello performance techniques", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; Expressive cello phrase with dynamics\n    kAmp madsr 0.4, 0.2, 0.65, 0.5\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Expression through bow pressure\n    kPres linseg 0.35, p3*0.2, 0.5, p3*0.5, 0.45, p3*0.3, 0.3\n    \n    ; Cello typically bows around 0.1-0.2 position\n    kRat = 0.12\n    \n    ; Natural vibrato\n    kVibF = 5.5\n    kVibAmp linseg 0, p3*0.15, 0.008, p3*0.7, 0.01, p3*0.15, 0.006\n    \n    aBow wgbow kAmp*0.5, kFreq, kPres, kRat, kVibF, kVibAmp, giSine\n    \n    ; Body resonance (cello formants around 250Hz and 600Hz)\n    aRes1 reson aBow, 250, 50, 1\n    aRes2 reson aBow, 600, 80, 1\n    \n    aMix = aBow*0.7 + aRes1*0.15 + aRes2*0.15\n    \n    outs aMix, aMix\nendin\n\ninstr 2\n    ; Double stops (two strings at once)\n    kAmp madsr 0.3, 0.2, 0.6, 0.4\n    \n    ; Two pitches from score\n    iFreq1 = p4\n    iFreq2 = p5\n    \n    kFreq1 = iFreq1\n    kFreq2 = iFreq2\n    \n    kPres = 0.45\n    kRat = 0.15\n    kVibF = 5.8\n    kVibAmp = 0.007\n    \n    ; Two strings with slightly different parameters\n    aStr1 wgbow kAmp*0.35, kFreq1, kPres, 0.12, kVibF, kVibAmp, giSine\n    aStr2 wgbow kAmp*0.35, kFreq2, kPres*0.95, 0.18, kVibF*1.05, kVibAmp*0.95, giSine\n    \n    aMix = aStr1 + aStr2\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; Pizzicato (plucked)\n    kAmp linseg 0, 0.001, 0.5, p3-0.001, 0\n    \n    iFreq = p4\n    \n    ; Use pluck for pizzicato\n    aPluck pluck kAmp, iFreq, iFreq, 0, 1\n    \n    ; Cello body resonance\n    aRes reson aPluck, 250, 40, 1\n    \n    aMix = aPluck*0.7 + aRes*0.3\n    \n    outs aMix, aMix\nendin\n\ninstr 4\n    ; Glissando between notes\n    kAmp madsr 0.3, 0.2, 0.6, 0.4\n    \n    iStart = p4\n    iEnd = p5\n    \n    ; Exponential glide for natural pitch change\n    kFreq expseg iStart, p3, iEnd\n    \n    kPres = 0.42\n    kRat = 0.15\n    kVibF = 5.5\n    kVibAmp = 0.008\n    \n    aBow wgbow kAmp*0.5, kFreq, kPres, kRat, kVibF, kVibAmp, giSine\n    \n    outs aBow, aBow\nendin\n\ninstr 5\n    ; Marcato (strong accent)\n    kAmp linseg 0, 0.001, 0.8, 0.05, 0.4, p3-0.051, 0.2\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Strong initial pressure\n    kPres linseg 0.7, 0.05, 0.4, p3-0.05, 0.35\n    \n    kRat = 0.13\n    kVibF = 5.5\n    kVibAmp = 0.007\n    \n    aBow wgbow kAmp*0.5, kFreq, kPres, kRat, kVibF, kVibAmp, giSine\n    \n    outs aBow, aBow\nendin\n\ninstr 6\n    ; Sustained low drone\n    kAmp madsr 0.5, 0.3, 0.7, 0.6\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Steady bow with subtle variations\n    kPres = 0.4 + oscili(0.02, 0.3, giSine)\n    \n    kRat = 0.1\n    \n    ; Slow, deep vibrato\n    kVibF = 4.5\n    kVibAmp = 0.012\n    \n    aBow wgbow kAmp*0.45, kFreq, kPres, kRat, kVibF, kVibAmp, giSine\n    \n    ; Emphasize low frequencies\n    aLP tone aBow, 1500\n    \n    outs aLP, aLP\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play expressive phrase\ni1 0 3 220\ni1 3.5 3 247\ni1 7 4 196\n\n; Play double stops\n; Format: start dur freq1 freq2\ni2 12 3 196 294   ; Fifth interval\ni2 15.5 3 220 330 ; Fifth interval\n\n; Play pizzicato\ni3 20 1 220\ni3 21 1 247\ni3 22 1 294\ni3 23 1 330\n\n; Play glissando\n; Format: start dur start_freq end_freq\ni4 25 2 147 220\ni4 27.5 2 220 330\n\n; Play marcato\ni5 31 1.5 196\ni5 32.5 1.5 220\ni5 34 1.5 247\n\n; Play sustained drone\ni6 37 6 98\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates violin and viola ensemble with advanced playing techniques", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; Violin (high register)\n    kAmp madsr 0.25, 0.15, 0.65, 0.35\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Violin bow parameters\n    kPres = 0.38\n    kRat = 0.08     ; Closer to nut for violin\n    \n    ; Fast, delicate vibrato\n    kVibF = 6.5\n    kVibAmp = 0.009\n    \n    aBow wgbow kAmp*0.45, kFreq, kPres, kRat, kVibF, kVibAmp, giSine\n    \n    ; Violin body resonances (around 500Hz and 1200Hz)\n    aRes1 reson aBow, 500, 60, 1\n    aRes2 reson aBow, 1200, 100, 1\n    \n    aMix = aBow*0.65 + aRes1*0.15 + aRes2*0.2\n    \n    outs aMix, aMix\nendin\n\ninstr 2\n    ; Viola (middle register)\n    kAmp madsr 0.3, 0.2, 0.65, 0.4\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Viola bow parameters\n    kPres = 0.42\n    kRat = 0.11\n    \n    ; Medium vibrato\n    kVibF = 5.8\n    kVibAmp = 0.008\n    \n    aBow wgbow kAmp*0.48, kFreq, kPres, kRat, kVibF, kVibAmp, giSine\n    \n    ; Viola body resonances (lower than violin)\n    aRes1 reson aBow, 350, 50, 1\n    aRes2 reson aBow, 800, 80, 1\n    \n    aMix = aBow*0.65 + aRes1*0.18 + aRes2*0.17\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; Ricochet (bouncing bow)\n    kNote = 0\n    kBounce = 0\n    \n    iFreq = p4\n    iBounces = 6    ; Number of bounces\n    iBounceRate = 12 ; Hz\n    \n    ; Generate bounces\n    kMetro metro iBounceRate\n    \n    if kMetro == 1 then\n        kBounce = kBounce + 1\n    endif\n    \n    ; Amplitude envelope per bounce\n    kAmp linseg 0.6, p3/iBounces, 0.2\n    kAmp = kAmp * (1 - linseg(0, 0.05, 1, 0.01, 1))\n    \n    kFreq = iFreq\n    kPres = 0.5\n    kRat = 0.1\n    \n    aBow wgbow kAmp*0.5, kFreq, kPres, kRat, 0, 0, giSine\n    \n    outs aBow, aBow\nendin\n\ninstr 4\n    ; Detache (separate bow strokes)\n    kAmp linseg 0, 0.005, 0.5, p3-0.105, 0.5, 0.1, 0\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Clear attack and separation\n    kPres linseg 0.5, 0.01, 0.4, p3-0.11, 0.4, 0.1, 0.2\n    \n    kRat = 0.12\n    kVibF = 6\n    kVibAmp = 0.006\n    \n    aBow wgbow kAmp*0.5, kFreq, kPres, kRat, kVibF, kVibAmp, giSine\n    \n    outs aBow, aBow\nendin\n\ninstr 5\n    ; String crossing with legato\n    kAmp madsr 0.2, 0.1, 0.7, 0.3\n    \n    ; Cross between two notes\n    iFreq1 = p4\n    iFreq2 = p5\n    \n    ; Smooth transition\n    kFreq linseg iFreq1, p3*0.4, iFreq1, p3*0.2, iFreq2, p3*0.4, iFreq2\n    \n    kPres = 0.42\n    kRat = 0.1\n    kVibF = 6.2\n    kVibAmp = 0.007\n    \n    aBow wgbow kAmp*0.5, kFreq, kPres, kRat, kVibF, kVibAmp, giSine\n    \n    outs aBow, aBow\nendin\n\ninstr 6\n    ; Harmonics with shimmer\n    kAmp madsr 0.15, 0.1, 0.75, 0.4\n    \n    ; Fundamental and harmonic\n    iFund = p4\n    iHarm = p5      ; Harmonic number\n    \n    kFreq1 = iFund * iHarm\n    kFreq2 = iFund * (iHarm + 1)\n    \n    ; Two harmonics for shimmer\n    kPres1 = 0.25\n    kPres2 = 0.22\n    \n    kRat1 = 1 / iHarm\n    kRat2 = 1 / (iHarm + 1)\n    \n    aHarm1 wgbow kAmp*0.35, kFreq1, kPres1, kRat1, 5, 0.003, giSine\n    aHarm2 wgbow kAmp*0.35, kFreq2, kPres2, kRat2, 5.3, 0.003, giSine\n    \n    aMix = aHarm1 + aHarm2\n    \n    outs aMix, aMix\nendin\n\ninstr 7\n    ; String orchestra chord\n    kAmp madsr 0.4, 0.3, 0.65, 0.5\n    \n    ; Root, third, fifth, octave\n    iRoot = p4\n    i3rd = iRoot * 5/4   ; Major third\n    i5th = iRoot * 3/2   ; Fifth\n    i8ve = iRoot * 2     ; Octave\n    \n    ; Four voices with slight detuning\n    kFreq1 = iRoot * 0.999\n    kFreq2 = i3rd * 1.001\n    kFreq3 = i5th * 0.998\n    kFreq4 = i8ve * 1.002\n    \n    kPres = 0.42\n    kVibF = 5.5\n    kVibAmp = 0.007\n    \n    ; Generate voices\n    aVoice1 wgbow kAmp*0.25, kFreq1, kPres, 0.12, kVibF, kVibAmp, giSine\n    aVoice2 wgbow kAmp*0.25, kFreq2, kPres, 0.14, kVibF*1.05, kVibAmp*0.95, giSine\n    aVoice3 wgbow kAmp*0.25, kFreq3, kPres, 0.16, kVibF*0.95, kVibAmp*1.05, giSine\n    aVoice4 wgbow kAmp*0.25, kFreq4, kPres, 0.11, kVibF*1.03, kVibAmp, giSine\n    \n    ; Stereo spread\n    aLeft = aVoice1*0.8 + aVoice2*0.5 + aVoice3*0.4 + aVoice4*0.2\n    aRight = aVoice1*0.2 + aVoice2*0.4 + aVoice3*0.5 + aVoice4*0.8\n    \n    outs aLeft, aRight\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play violin melody\ni1 0 2 880\ni1 2 2 988\ni1 4 3 784\n\n; Play viola harmony\ni2 0.5 2 440\ni2 2.5 2 494\ni2 4.5 3 392\n\n; Play ricochet\ni3 8.5 0.5 1046\n\n; Play detache articulation\ni4 10 0.8 659\ni4 10.9 0.8 784\ni4 11.8 0.8 880\n\n; Play string crossing\n; Format: start dur freq1 freq2\ni5 13.5 2 440 659\ni5 15.5 2 523 784\n\n; Play harmonics with shimmer\n; Format: start dur fundamental harmonic_number\ni6 18.5 3 220 3\ni6 21.5 3 220 4\n\n; Play string orchestra chord\ni7 26 5 264  ; C major chord\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the wgflute opcode for waveguide flute synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; wgflute opcode: ares wgflute kamp, kfreq, kjet, iatt, idetk, kngain, kvibf, kvamp [, ifn] [, iminfreq]\n    ; wgflute implements a physical model of a flute using waveguide synthesis\n    ; kamp - amplitude\n    ; kfreq - frequency in Hz\n    ; kjet - jet ratio (0-1, typically 0.3-0.6, controls air pressure)\n    ; iatt - attack time in seconds\n    ; idetk - detune parameter (0.1-0.3, controls detuning)\n    ; kngain - noise gain (0-1, breath noise)\n    ; kvibf - vibrato frequency in Hz\n    ; kvamp - vibrato amplitude (0-1)\n    ; ifn - vibrato waveform table\n    ; iminfreq - minimum expected frequency\n    \n    ; Amplitude envelope\n    kAmp madsr 0.1, 0.05, 0.8, 0.2\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Flute parameters\n    kJet = 0.45         ; Moderate air pressure\n    iAtt = 0.1          ; Attack time\n    iDetk = 0.2         ; Detuning\n    kNGain = 0.15       ; Breath noise\n    kVibF = 5           ; Vibrato frequency\n    kVibAmp = 0.003     ; Subtle vibrato\n    \n    aFlute wgflute kAmp*0.5, kFreq, kJet, iAtt, iDetk, kNGain, kVibF, kVibAmp, giSine\n    \n    outs aFlute, aFlute\nendin\n\ninstr 2\n    ; Expressive flute with dynamic breath control\n    kAmp madsr 0.15, 0.1, 0.7, 0.3\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Varying jet ratio for expression\n    kJet linseg 0.3, p3*0.2, 0.5, p3*0.6, 0.4, p3*0.2, 0.35\n    \n    iAtt = 0.12\n    iDetk = 0.18\n    \n    ; Varying breath noise\n    kNGain linseg 0.2, p3*0.3, 0.1, p3*0.7, 0.15\n    \n    kVibF = 5.5\n    kVibAmp = 0.007\n    \n    aFlute wgflute kAmp*0.5, kFreq, kJet, iAtt, iDetk, kNGain, kVibF, kVibAmp, giSine\n    \n    outs aFlute, aFlute\nendin\n\ninstr 3\n    ; Fast attack flute\n    kAmp madsr 0.05, 0.05, 0.8, 0.2\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    kJet = 0.55         ; Higher pressure for attack\n    iAtt = 0.05         ; Quick attack\n    iDetk = 0.15\n    kNGain = 0.2        ; More breath noise\n    kVibF = 6\n    kVibAmp = 0.005\n    \n    aFlute wgflute kAmp*0.5, kFreq, kJet, iAtt, iDetk, kNGain, kVibF, kVibAmp, giSine\n    \n    outs aFlute, aFlute\nendin\n\ninstr 4\n    ; Breathy flute tone\n    kAmp madsr 0.15, 0.1, 0.7, 0.3\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    kJet = 0.35         ; Lower pressure\n    iAtt = 0.15\n    iDetk = 0.25        ; More detuning\n    kNGain = 0.4        ; High breath noise\n    kVibF = 4.5\n    kVibAmp = 0.008\n    \n    aFlute wgflute kAmp*0.45, kFreq, kJet, iAtt, iDetk, kNGain, kVibF, kVibAmp, giSine\n    \n    outs aFlute, aFlute\nendin\n\ninstr 5\n    ; Flute with vibrato crescendo\n    kAmp madsr 0.12, 0.08, 0.75, 0.3\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    kJet = 0.45\n    iAtt = 0.1\n    iDetk = 0.2\n    kNGain = 0.15\n    \n    ; Vibrato increases over time\n    kVibF = 5.5\n    kVibAmp linseg 0, p3*0.3, 0.002, p3*0.7, 0.015\n    \n    aFlute wgflute kAmp*0.5, kFreq, kJet, iAtt, iDetk, kNGain, kVibF, kVibAmp, giSine\n    \n    outs aFlute, aFlute\nendin\n\ninstr 6\n    ; Flute glissando\n    kAmp madsr 0.12, 0.08, 0.75, 0.25\n    \n    iStart = p4\n    iEnd = p5\n    \n    ; Smooth pitch glide\n    kFreq expseg iStart, p3, iEnd\n    \n    kJet = 0.42\n    iAtt = 0.1\n    iDetk = 0.2\n    kNGain = 0.12\n    kVibF = 5\n    kVibAmp = 0.004\n    \n    aFlute wgflute kAmp*0.5, kFreq, kJet, iAtt, iDetk, kNGain, kVibF, kVibAmp, giSine\n    \n    outs aFlute, aFlute\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic flute\ni1 0 2 440\ni1 2.5 2 523\ni1 5 3 660\n\n; Play expressive\ni2 9 4 392\n\n; Play fast attack\ni3 14 1 880\ni3 15 1 784\ni3 16 1 659\n\n; Play breathy\ni4 18 3 330\n\n; Play with vibrato crescendo\ni5 22 4 523\n\n; Play glissando\n; Format: start dur start_freq end_freq\ni6 27 2 440 880\ni6 29.5 2 660 330\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the wgbrass opcode for waveguide brass synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; wgbrass opcode: ares wgbrass kamp, kfreq, ktens, iatt, kvibf, kvamp [, ifn] [, iminfreq]\n    ; wgbrass implements a physical model of a brass instrument using waveguide synthesis\n    ; kamp - amplitude\n    ; kfreq - frequency in Hz\n    ; ktens - lip tension (0-1, typically 0.4-0.9, controls timbre)\n    ; iatt - attack time in seconds\n    ; kvibf - vibrato frequency in Hz\n    ; kvamp - vibrato amplitude (0-1)\n    ; ifn - vibrato waveform table\n    ; iminfreq - minimum expected frequency\n    \n    ; Amplitude envelope\n    kAmp madsr 0.1, 0.05, 0.8, 0.2\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Brass parameters\n    kTens = 0.6         ; Moderate lip tension\n    iAtt = 0.1          ; Attack time\n    kVibF = 4.5         ; Vibrato frequency\n    kVibAmp = 0.005     ; Subtle vibrato\n    \n    aBrass wgbrass kAmp*0.5, kFreq, kTens, iAtt, kVibF, kVibAmp, giSine\n    \n    outs aBrass, aBrass\nendin\n\ninstr 2\n    ; Trumpet with bright tone\n    kAmp madsr 0.08, 0.05, 0.85, 0.2\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    kTens = 0.75        ; Higher tension for brightness\n    iAtt = 0.08\n    kVibF = 5\n    kVibAmp = 0.007\n    \n    aBrass wgbrass kAmp*0.5, kFreq, kTens, iAtt, kVibF, kVibAmp, giSine\n    \n    outs aBrass, aBrass\nendin\n\ninstr 3\n    ; Trombone with mellow tone\n    kAmp madsr 0.15, 0.1, 0.75, 0.3\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    kTens = 0.45        ; Lower tension for mellowness\n    iAtt = 0.15\n    kVibF = 4\n    kVibAmp = 0.008\n    \n    aBrass wgbrass kAmp*0.5, kFreq, kTens, iAtt, kVibF, kVibAmp, giSine\n    \n    outs aBrass, aBrass\nendin\n\ninstr 4\n    ; French horn\n    kAmp madsr 0.2, 0.1, 0.7, 0.3\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    kTens = 0.55\n    iAtt = 0.2          ; Softer attack\n    kVibF = 4.5\n    kVibAmp = 0.006\n    \n    aBrass wgbrass kAmp*0.45, kFreq, kTens, iAtt, kVibF, kVibAmp, giSine\n    \n    ; Add warmth with filtering\n    aBrass tone aBrass, 3000\n    \n    outs aBrass, aBrass\nendin\n\ninstr 5\n    ; Crescendo with increasing tension\n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Dynamic amplitude\n    kAmp linseg 0.1, p3*0.8, 0.7, p3*0.2, 0.5\n    \n    ; Lip tension increases with volume\n    kTens linseg 0.4, p3*0.8, 0.8, p3*0.2, 0.7\n    \n    iAtt = 0.15\n    kVibF = 5\n    kVibAmp = 0.007\n    \n    aBrass wgbrass kAmp*0.5, kFreq, kTens, iAtt, kVibF, kVibAmp, giSine\n    \n    outs aBrass, aBrass\nendin\n\ninstr 6\n    ; Brass fall-off (pitch bend down)\n    kAmp madsr 0.05, 0.05, 0.8, 0.2\n    \n    iFreq = p4\n    \n    ; Fall at end of note\n    kFreq linseg iFreq, p3*0.7, iFreq, p3*0.3, iFreq*0.7\n    \n    ; Decrease tension during fall\n    kTens linseg 0.7, p3*0.7, 0.7, p3*0.3, 0.4\n    \n    iAtt = 0.05\n    kVibF = 4\n    kVibAmp = 0.005\n    \n    aBrass wgbrass kAmp*0.5, kFreq, kTens, iAtt, kVibF, kVibAmp, giSine\n    \n    outs aBrass, aBrass\nendin\n\ninstr 7\n    ; Brass section (multiple instruments)\n    kAmp madsr 0.12, 0.08, 0.75, 0.25\n    \n    iFreq = p4\n    \n    ; Three voices slightly detuned\n    kFreq1 = iFreq * 0.998\n    kFreq2 = iFreq\n    kFreq3 = iFreq * 1.002\n    \n    kTens = 0.65\n    iAtt = 0.1\n    kVibF = 4.8\n    kVibAmp = 0.006\n    \n    ; Generate three brass voices\n    aBrass1 wgbrass kAmp*0.3, kFreq1, kTens, iAtt, kVibF, kVibAmp, giSine\n    aBrass2 wgbrass kAmp*0.3, kFreq2, kTens*1.05, iAtt, kVibF*1.05, kVibAmp, giSine\n    aBrass3 wgbrass kAmp*0.3, kFreq3, kTens*0.95, iAtt, kVibF*0.95, kVibAmp, giSine\n    \n    ; Stereo spread\n    aLeft = aBrass1*0.7 + aBrass2*0.5 + aBrass3*0.3\n    aRight = aBrass1*0.3 + aBrass2*0.5 + aBrass3*0.7\n    \n    outs aLeft, aRight\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic brass\ni1 0 2 330\ni1 2.5 2 392\ni1 5 3 440\n\n; Play trumpet\ni2 9 2 523\ni2 11 2 659\n\n; Play trombone\ni3 14 3 220\ni3 17 3 165\n\n; Play french horn\ni4 21 3 330\n\n; Play crescendo\ni5 25 4 392\n\n; Play fall-off\ni6 30 2 440\ni6 32 2 523\n\n; Play brass section\ni7 35 4 330\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the wgclar opcode for waveguide clarinet synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; wgclar opcode: ares wgclar kamp, kfreq, kstiff, iatt, idetk, kngain, kvibf, kvamp [, ifn] [, iminfreq]\n    ; wgclar implements a physical model of a clarinet using waveguide synthesis\n    ; kamp - amplitude\n    ; kfreq - frequency in Hz\n    ; kstiff - reed stiffness (0-1, typically 0.3-0.7, controls tone)\n    ; iatt - attack time in seconds\n    ; idetk - detune parameter (0.1-0.3)\n    ; kngain - noise gain (0-1, breath noise)\n    ; kvibf - vibrato frequency in Hz\n    ; kvamp - vibrato amplitude (0-1)\n    ; ifn - vibrato waveform table\n    ; iminfreq - minimum expected frequency\n    \n    ; Amplitude envelope\n    kAmp madsr 0.1, 0.05, 0.8, 0.2\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Clarinet parameters\n    kStiff = 0.5        ; Moderate reed stiffness\n    iAtt = 0.1          ; Attack time\n    iDetk = 0.2         ; Detuning\n    kNGain = 0.1        ; Breath noise\n    kVibF = 5           ; Vibrato frequency\n    kVibAmp = 0.004     ; Subtle vibrato\n    \n    aClar wgclar kAmp*0.5, kFreq, kStiff, iAtt, iDetk, kNGain, kVibF, kVibAmp, giSine\n    \n    outs aClar, aClar\nendin\n\ninstr 2\n    ; Bright clarinet with stiff reed\n    kAmp madsr 0.08, 0.05, 0.85, 0.2\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    kStiff = 0.7        ; Stiff reed for brightness\n    iAtt = 0.08\n    iDetk = 0.15\n    kNGain = 0.08\n    kVibF = 5.5\n    kVibAmp = 0.006\n    \n    aClar wgclar kAmp*0.5, kFreq, kStiff, iAtt, iDetk, kNGain, kVibF, kVibAmp, giSine\n    \n    outs aClar, aClar\nendin\n\ninstr 3\n    ; Dark, mellow clarinet\n    kAmp madsr 0.15, 0.1, 0.75, 0.3\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    kStiff = 0.35       ; Soft reed for mellowness\n    iAtt = 0.15\n    iDetk = 0.25\n    kNGain = 0.12\n    kVibF = 4.5\n    kVibAmp = 0.008\n    \n    aClar wgclar kAmp*0.5, kFreq, kStiff, iAtt, iDetk, kNGain, kVibF, kVibAmp, giSine\n    \n    outs aClar, aClar\nendin\n\ninstr 4\n    ; Expressive clarinet with dynamic control\n    kAmp madsr 0.12, 0.08, 0.75, 0.25\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Varying stiffness for expression\n    kStiff linseg 0.4, p3*0.3, 0.6, p3*0.4, 0.55, p3*0.3, 0.45\n    \n    iAtt = 0.1\n    iDetk = 0.2\n    \n    ; Varying breath noise\n    kNGain linseg 0.15, p3*0.5, 0.08, p3*0.5, 0.12\n    \n    kVibF = 5.2\n    kVibAmp = 0.007\n    \n    aClar wgclar kAmp*0.5, kFreq, kStiff, iAtt, iDetk, kNGain, kVibF, kVibAmp, giSine\n    \n    outs aClar, aClar\nendin\n\ninstr 5\n    ; Chalumeau register (low clarinet)\n    kAmp madsr 0.2, 0.1, 0.7, 0.3\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    kStiff = 0.4        ; Softer for low register\n    iAtt = 0.15\n    iDetk = 0.3         ; More detuning\n    kNGain = 0.2        ; More breath noise\n    kVibF = 4\n    kVibAmp = 0.01\n    \n    aClar wgclar kAmp*0.5, kFreq, kStiff, iAtt, iDetk, kNGain, kVibF, kVibAmp, giSine\n    \n    ; Emphasize low frequencies\n    aClar tone aClar, 1500\n    \n    outs aClar, aClar\nendin\n\ninstr 6\n    ; Clarion register (high clarinet)\n    kAmp madsr 0.08, 0.05, 0.85, 0.2\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    kStiff = 0.65       ; Stiffer for high register\n    iAtt = 0.06\n    iDetk = 0.12\n    kNGain = 0.06\n    kVibF = 6\n    kVibAmp = 0.005\n    \n    aClar wgclar kAmp*0.45, kFreq, kStiff, iAtt, iDetk, kNGain, kVibF, kVibAmp, giSine\n    \n    outs aClar, aClar\nendin\n\ninstr 7\n    ; Glissando\n    kAmp madsr 0.12, 0.08, 0.75, 0.25\n    \n    iStart = p4\n    iEnd = p5\n    \n    ; Smooth pitch glide\n    kFreq expseg iStart, p3, iEnd\n    \n    kStiff = 0.5\n    iAtt = 0.1\n    iDetk = 0.2\n    kNGain = 0.1\n    kVibF = 5\n    kVibAmp = 0.004\n    \n    aClar wgclar kAmp*0.5, kFreq, kStiff, iAtt, iDetk, kNGain, kVibF, kVibAmp, giSine\n    \n    outs aClar, aClar\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic clarinet\ni1 0 2 330\ni1 2.5 2 392\ni1 5 3 440\n\n; Play bright clarinet\ni2 9 2 523\ni2 11 2 659\n\n; Play dark clarinet\ni3 14 3 247\n\n; Play expressive\ni4 18 4 392\n\n; Play chalumeau register\ni5 23 3 165\ni5 26 3 196\n\n; Play clarion register\ni6 30 2 784\ni6 32 2 880\n\n; Play glissando\n; Format: start dur start_freq end_freq\ni7 35 2 330 660\ni7 37.5 2 523 262\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates advanced woodwind ensemble techniques", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; Woodwind trio (flute, clarinet, brass)\n    kAmp madsr 0.15, 0.1, 0.7, 0.3\n    \n    iFreq = p4\n    \n    ; Flute (highest)\n    kFreqFlute = iFreq * 2\n    aFlute wgflute kAmp*0.3, kFreqFlute, 0.45, 0.1, 0.2, 0.12, 5, 0.005, giSine\n    \n    ; Clarinet (middle)\n    kFreqClar = iFreq\n    aClar wgclar kAmp*0.35, kFreqClar, 0.5, 0.1, 0.2, 0.1, 5.2, 0.006, giSine\n    \n    ; Brass (bass)\n    kFreqBrass = iFreq * 0.5\n    aBrass wgbrass kAmp*0.4, kFreqBrass, 0.55, 0.12, 4.5, 0.007, giSine\n    \n    ; Mix with stereo spread\n    aLeft = aFlute*0.7 + aClar*0.5 + aBrass*0.3\n    aRight = aFlute*0.3 + aClar*0.5 + aBrass*0.7\n    \n    outs aLeft*0.7, aRight*0.7\nendin\n\ninstr 2\n    ; Flutter tonguing\n    kAmp madsr 0.1, 0.05, 0.8, 0.2\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Rapid amplitude modulation for flutter\n    kFlutter oscili 0.5, 15, giSine\n    kFlutter = 0.5 + kFlutter\n    \n    kStiff = 0.5\n    iAtt = 0.08\n    iDetk = 0.2\n    kNGain = 0.15\n    kVibF = 5\n    kVibAmp = 0.005\n    \n    aClar wgclar kAmp*kFlutter*0.5, kFreq, kStiff, iAtt, iDetk, kNGain, kVibF, kVibAmp, giSine\n    \n    outs aClar, aClar\nendin\n\ninstr 3\n    ; Multiphonics (clarinet playing two notes)\n    kAmp madsr 0.15, 0.1, 0.7, 0.3\n    \n    ; Two frequencies\n    iFreq1 = p4\n    iFreq2 = p5\n    \n    kFreq1 = iFreq1\n    kFreq2 = iFreq2\n    \n    ; Different reed stiffness for each\n    kStiff1 = 0.45\n    kStiff2 = 0.6\n    \n    iAtt = 0.12\n    iDetk = 0.25\n    kNGain = 0.2\n    kVibF = 4.5\n    kVibAmp = 0.008\n    \n    aClar1 wgclar kAmp*0.35, kFreq1, kStiff1, iAtt, iDetk, kNGain, kVibF, kVibAmp, giSine\n    aClar2 wgclar kAmp*0.35, kFreq2, kStiff2, iAtt, iDetk*0.8, kNGain*0.8, kVibF*1.1, kVibAmp, giSine\n    \n    aMix = aClar1 + aClar2\n    \n    outs aMix*0.7, aMix*0.7\nendin\n\ninstr 4\n    ; Breathy flute with key clicks\n    kAmp madsr 0.15, 0.1, 0.7, 0.3\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Very breathy\n    kJet = 0.3\n    iAtt = 0.15\n    iDetk = 0.3\n    kNGain = 0.5        ; High breath noise\n    kVibF = 4\n    kVibAmp = 0.01\n    \n    aFlute wgflute kAmp*0.4, kFreq, kJet, iAtt, iDetk, kNGain, kVibF, kVibAmp, giSine\n    \n    ; Add key click sounds\n    aClick mpulse 0.1, 8\n    aClick butterbp aClick, 2000, 500\n    \n    aMix = aFlute + aClick*0.3\n    \n    outs aMix, aMix\nendin\n\ninstr 5\n    ; Brass lip trill\n    kAmp madsr 0.1, 0.05, 0.8, 0.2\n    \n    iFreq1 = p4\n    iFreq2 = p5\n    \n    ; Alternate between two pitches rapidly\n    kToggle lfo 1, 6, 1  ; Square wave at 6 Hz\n    kFreq = (kToggle > 0 ? iFreq1 : iFreq2)\n    \n    kTens = 0.7\n    iAtt = 0.05\n    kVibF = 5\n    kVibAmp = 0.005\n    \n    aBrass wgbrass kAmp*0.5, kFreq, kTens, iAtt, kVibF, kVibAmp, giSine\n    \n    outs aBrass, aBrass\nendin\n\ninstr 6\n    ; Clarinet arpeggio\n    kAmp madsr 0.08, 0.05, 0.85, 0.15\n    \n    ; Frequency changes during note\n    iRoot = p4\n    kTime timeinsts\n    kStep = int(kTime * 8) % 4\n    \n    ; Arpeggio pattern\n    if kStep == 0 then\n        kFreq = iRoot\n    elseif kStep == 1 then\n        kFreq = iRoot * 5/4\n    elseif kStep == 2 then\n        kFreq = iRoot * 3/2\n    else\n        kFreq = iRoot * 2\n    endif\n    \n    kStiff = 0.6\n    iAtt = 0.05\n    iDetk = 0.15\n    kNGain = 0.08\n    kVibF = 5.5\n    kVibAmp = 0.004\n    \n    aClar wgclar kAmp*0.5, kFreq, kStiff, iAtt, iDetk, kNGain, kVibF, kVibAmp, giSine\n    \n    outs aClar, aClar\nendin\n\ninstr 7\n    ; Brass muted sound\n    kAmp madsr 0.1, 0.05, 0.8, 0.2\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    kTens = 0.7\n    iAtt = 0.08\n    kVibF = 4.5\n    kVibAmp = 0.006\n    \n    aBrass wgbrass kAmp*0.4, kFreq, kTens, iAtt, kVibF, kVibAmp, giSine\n    \n    ; Mute effect with resonant filter\n    aMuted butterbp aBrass, 800, 300\n    \n    ; Mix original and muted\n    aMix = aBrass*0.3 + aMuted*0.7\n    \n    outs aMix, aMix\nendin\n\ninstr 8\n    ; Wind ensemble chord\n    kAmp madsr 0.2, 0.15, 0.7, 0.4\n    \n    ; Root chord from score\n    iRoot = p4\n    i3rd = iRoot * 5/4\n    i5th = iRoot * 3/2\n    i8ve = iRoot * 2\n    \n    ; Four voices: 2 flutes, 1 clarinet, 1 brass\n    aFlute1 wgflute kAmp*0.25, i8ve*0.999, 0.45, 0.1, 0.2, 0.12, 5, 0.005, giSine\n    aFlute2 wgflute kAmp*0.25, i5th*1.001, 0.47, 0.11, 0.19, 0.13, 5.2, 0.006, giSine\n    aClar wgclar kAmp*0.3, i3rd*0.998, 0.5, 0.1, 0.2, 0.1, 5.1, 0.005, giSine\n    aBrass wgbrass kAmp*0.35, iRoot*1.002, 0.55, 0.12, 4.8, 0.006, giSine\n    \n    ; Stereo mix\n    aLeft = aFlute1*0.7 + aFlute2*0.4 + aClar*0.5 + aBrass*0.3\n    aRight = aFlute1*0.3 + aFlute2*0.5 + aClar*0.4 + aBrass*0.7\n    \n    outs aLeft*0.6, aRight*0.6\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play woodwind trio\ni1 0 4 330\n\n; Play flutter tonguing\ni2 5 3 440\n\n; Play multiphonics\n; Format: start dur freq1 freq2\ni3 9 3 330 494\n\n; Play breathy flute\ni4 13 3 523\n\n; Play brass lip trill\n; Format: start dur freq1 freq2\ni5 17 2 440 494\ni5 19 2 523 587\n\n; Play clarinet arpeggio\ni6 22 2 330\n\n; Play muted brass\ni7 25 2 330\ni7 27 2 392\ni7 29 2 440\n\n; Play wind ensemble chord\ni8 32 5 220  ; Major chord\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates jazz and classical wind instrument performance styles", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; Jazz clarinet with bent notes\n    kAmp madsr 0.1, 0.05, 0.8, 0.2\n    \n    iFreq = p4\n    \n    ; Pitch bend envelope\n    kBend linseg 0, p3*0.1, 0, p3*0.15, 0.05, p3*0.25, 0, p3*0.5, 0\n    kFreq = iFreq * (1 + kBend)\n    \n    ; Jazz style - more aggressive\n    kStiff = 0.65\n    iAtt = 0.05\n    iDetk = 0.15\n    kNGain = 0.15\n    kVibF = 6\n    kVibAmp = 0.012  ; Wide vibrato\n    \n    aClar wgclar kAmp*0.5, kFreq, kStiff, iAtt, iDetk, kNGain, kVibF, kVibAmp, giSine\n    \n    outs aClar, aClar\nendin\n\ninstr 2\n    ; Classical flute with pure tone\n    kAmp madsr 0.15, 0.1, 0.75, 0.35\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Classical style - controlled\n    kJet = 0.48\n    iAtt = 0.12\n    iDetk = 0.18\n    kNGain = 0.08    ; Less breath noise\n    \n    ; Refined vibrato that grows\n    kVibF = 5.5\n    kVibAmp linseg 0, p3*0.4, 0.003, p3*0.6, 0.007\n    \n    aFlute wgflute kAmp*0.5, kFreq, kJet, iAtt, iDetk, kNGain, kVibF, kVibAmp, giSine\n    \n    outs aFlute, aFlute\nendin\n\ninstr 3\n    ; Jazz trumpet with fall-off and shake\n    kAmp madsr 0.05, 0.05, 0.85, 0.15\n    \n    iFreq = p4\n    \n    ; Fall-off at end\n    kFreq linseg iFreq, p3*0.7, iFreq, p3*0.3, iFreq*0.6\n    \n    ; Shake (fast vibrato) at end\n    kVibF linseg 5, p3*0.7, 5, p3*0.3, 12\n    kVibAmp linseg 0.005, p3*0.7, 0.005, p3*0.3, 0.03\n    \n    kTens = 0.75\n    iAtt = 0.05\n    \n    aBrass wgbrass kAmp*0.5, kFreq, kTens, iAtt, kVibF, kVibAmp, giSine\n    \n    outs aBrass, aBrass\nendin\n\ninstr 4\n    ; Classical french horn with noble sound\n    kAmp madsr 0.25, 0.2, 0.65, 0.45\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Mellow horn\n    kTens = 0.5\n    iAtt = 0.25\n    kVibF = 4\n    kVibAmp = 0.004  ; Subtle vibrato\n    \n    aBrass wgbrass kAmp*0.45, kFreq, kTens, iAtt, kVibF, kVibAmp, giSine\n    \n    ; Warm filtering\n    aBrass tone aBrass, 2500\n    aBrass tone aBrass, 3000\n    \n    outs aBrass, aBrass\nendin\n\ninstr 5\n    ; Bebop-style rapid notes\n    kAmp linseg 0, 0.001, 0.6, p3-0.051, 0.4, 0.05, 0\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Fast, articulated\n    kStiff = 0.7\n    iAtt = 0.02      ; Very fast attack\n    iDetk = 0.12\n    kNGain = 0.1\n    kVibF = 0        ; No vibrato for bebop\n    kVibAmp = 0\n    \n    aClar wgclar kAmp*0.5, kFreq, kStiff, iAtt, iDetk, kNGain, kVibF, kVibAmp, giSine\n    \n    outs aClar, aClar\nendin\n\ninstr 6\n    ; Baroque flute with minimal vibrato\n    kAmp madsr 0.12, 0.08, 0.75, 0.25\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Period style\n    kJet = 0.42\n    iAtt = 0.1\n    iDetk = 0.22\n    kNGain = 0.18    ; More breath noise\n    kVibF = 0        ; No vibrato in Baroque style\n    kVibAmp = 0\n    \n    aFlute wgflute kAmp*0.45, kFreq, kJet, iAtt, iDetk, kNGain, kVibF, kVibAmp, giSine\n    \n    outs aFlute, aFlute\nendin\n\ninstr 7\n    ; Big band brass hit\n    kAmp linseg 0, 0.005, 0.8, 0.05, 0.6, p3-0.155, 0.6, 0.1, 0\n    \n    iFreq = p4\n    kFreq = iFreq\n    \n    ; Punchy brass\n    kTens = 0.8      ; High tension\n    iAtt = 0.005     ; Very quick attack\n    kVibF = 5\n    kVibAmp = 0.008\n    \n    aBrass wgbrass kAmp*0.6, kFreq, kTens, iAtt, kVibF, kVibAmp, giSine\n    \n    ; Add bite with distortion\n    aBrass tanh aBrass*2\n    \n    outs aBrass*0.7, aBrass*0.7\nendin\n\ninstr 8\n    ; Klezmer clarinet with scoops and wails\n    kAmp madsr 0.08, 0.05, 0.8, 0.2\n    \n    iFreq = p4\n    \n    ; Dramatic pitch scoops\n    kScoop linseg iFreq*0.7, p3*0.15, iFreq, p3*0.85, iFreq\n    kFreq = kScoop\n    \n    ; Expressive reed\n    kStiff linseg 0.4, p3*0.3, 0.65, p3*0.4, 0.6, p3*0.3, 0.5\n    \n    iAtt = 0.08\n    iDetk = 0.2\n    kNGain = 0.15\n    \n    ; Expressive vibrato\n    kVibF = 6.5\n    kVibAmp linseg 0.008, p3*0.3, 0.015, p3*0.4, 0.012, p3*0.3, 0.02\n    \n    aClar wgclar kAmp*0.5, kFreq, kStiff, iAtt, iDetk, kNGain, kVibF, kVibAmp, giSine\n    \n    outs aClar, aClar\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play jazz clarinet\ni1 0 2 440\ni1 2.5 2 523\n\n; Play classical flute\ni2 5.5 3 660\n\n; Play jazz trumpet\ni3 9.5 2 523\ni3 11.5 2 440\n\n; Play french horn\ni4 14.5 4 330\n\n; Play bebop clarinet run\ni5 19.5 0.3 523\ni5 19.8 0.3 587\ni5 20.1 0.3 659\ni5 20.4 0.3 784\ni5 20.7 0.3 880\ni5 21.0 0.3 784\ni5 21.3 0.3 659\n\n; Play baroque flute\ni6 23 2 392\ni6 25 2 440\ni6 27 3 330\n\n; Play big band hits\ni7 31 1 330\ni7 32.5 1 392\ni7 34 1 330\n\n; Play klezmer clarinet\ni8 36 3 330\ni8 39 3 392\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the barmodel opcode for struck bar physical model", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; barmodel opcode: ares barmodel kbcL, kbcR, iK, ib, kscan, iT30, ipos, ivel, iwid\n    ; barmodel implements a physical model of a struck bar (marimba, xylophone, etc.)\n    ; kbcL, kbcR - boundary conditions left and right (1=clamped, 2=pivoting, 3=free)\n    ; iK - dimensionless stiffness parameter\n    ; ib - high-frequency loss parameter (0-1)\n    ; kscan - scanning speed (typically 0.1-0.5)\n    ; iT30 - 30 dB decay time in seconds\n    ; ipos - position of strike (0-1)\n    ; ivel - velocity of strike\n    ; iwid - width of strike (spatial)\n    \n    ; Basic struck bar\n    kbcL = 1        ; Clamped left\n    kbcR = 1        ; Clamped right\n    iK = 0.25       ; Stiffness\n    ib = 0.001      ; Damping\n    kscan = 0.23\n    iT30 = 3        ; Decay time\n    ipos = 0.5      ; Strike center\n    ivel = 500      ; Strike velocity\n    iwid = 0.1285   ; Strike width\n    \n    aBar barmodel kbcL, kbcR, iK, ib, kscan, iT30, ipos, ivel, iwid\n    \n    outs aBar, aBar\nendin\n\ninstr 2\n    ; Xylophone-like (free ends)\n    kbcL = 3        ; Free left end\n    kbcR = 3        ; Free right end\n    iK = 0.3\n    ib = 0.002      ; More damping\n    kscan = 0.25\n    iT30 = 1.5      ; Shorter decay\n    ipos = 0.4\n    ivel = 700\n    iwid = 0.12\n    \n    aBar barmodel kbcL, kbcR, iK, ib, kscan, iT30, ipos, ivel, iwid\n    \n    outs aBar, aBar\nendin\n\ninstr 3\n    ; Marimba-like (low, mellow)\n    kbcL = 1\n    kbcR = 1\n    iK = 0.2        ; Less stiff\n    ib = 0.0008     ; Less damping\n    kscan = 0.2\n    iT30 = 4        ; Longer decay\n    ipos = 0.5\n    ivel = 400      ; Softer strike\n    iwid = 0.15     ; Wider strike\n    \n    aBar barmodel kbcL, kbcR, iK, ib, kscan, iT30, ipos, ivel, iwid\n    \n    outs aBar, aBar\nendin\n\ninstr 4\n    ; Glockenspiel-like (bright, metallic)\n    kbcL = 1\n    kbcR = 1\n    iK = 0.4        ; Very stiff\n    ib = 0.0003     ; Very little damping\n    kscan = 0.3\n    iT30 = 6        ; Long decay\n    ipos = 0.3\n    ivel = 800      ; Hard strike\n    iwid = 0.08     ; Narrow strike\n    \n    aBar barmodel kbcL, kbcR, iK, ib, kscan, iT30, ipos, ivel, iwid\n    \n    outs aBar*0.7, aBar*0.7\nendin\n\ninstr 5\n    ; Different strike positions\n    kbcL = 1\n    kbcR = 1\n    iK = 0.25\n    ib = 0.001\n    kscan = 0.23\n    iT30 = 3\n    ipos = p4       ; Strike position from score\n    ivel = 500\n    iwid = 0.1285\n    \n    aBar barmodel kbcL, kbcR, iK, ib, kscan, iT30, ipos, ivel, iwid\n    \n    outs aBar, aBar\nendin\n\ninstr 6\n    ; Variable strike velocity (dynamics)\n    kbcL = 1\n    kbcR = 1\n    iK = 0.25\n    ib = 0.001\n    kscan = 0.23\n    iT30 = 3\n    ipos = 0.5\n    ivel = p4       ; Velocity from score\n    iwid = 0.1285\n    \n    aBar barmodel kbcL, kbcR, iK, ib, kscan, iT30, ipos, ivel, iwid\n    \n    outs aBar, aBar\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic bar\ni1 0 3\ni1 3.5 3\n\n; Play xylophone\ni2 7.5 2\ni2 9.5 2\ni2 11.5 2\n\n; Play marimba\ni3 14.5 3\ni3 17.5 3\n\n; Play glockenspiel\ni4 21.5 4\ni4 25.5 4\n\n; Play different strike positions\n; Format: start dur position\ni5 30.5 2 0.2   ; Near edge\ni5 32.5 2 0.4\ni5 34.5 2 0.6\ni5 36.5 2 0.8\n\n; Play different velocities\n; Format: start dur velocity\ni6 39.5 2 300   ; Soft\ni6 41.5 2 500   ; Medium\ni6 43.5 2 700   ; Hard\ni6 45.5 2 900   ; Very hard\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the shaker opcode for physical model shaker", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; shaker opcode: ares shaker kamp, kfreq [, iobjects] [, itype]\n    ; shaker implements a physical model of shaken percussion (maraca, etc.)\n    ; kamp - amplitude (shake energy)\n    ; kfreq - shake frequency/rate in Hz\n    ; iobjects - number of objects/beads (default 64)\n    ; itype - type of shaker:\n    ;         0 = maraca\n    ;         1 = cabasa\n    ;         2 = sekere\n    ;         3 = guiro\n    ;         4 = water drops\n    ;         5 = bamboo chimes\n    ;         6 = tambourine\n    ;         7 = sleigh bells\n    ;         8 = sticks\n    ;         9 = crunch\n    ;         10 = wrench\n    ;         11 = sandpaper\n    ;         12 = coke can\n    ;         13 = next mug\n    ;         14 = penny + mug\n    ;         15 = nickle + mug\n    ;         16 = dime + mug\n    ;         17 = quarter + mug\n    ;         18 = franc + mug\n    ;         19 = peso + mug\n    ;         20 = big rocks\n    ;         21 = little rocks\n    ;         22 = tuned bamboo chimes\n    \n    ; Basic maraca\n    kAmp linseg 0, 0.02, 0.8, p3-0.12, 0.6, 0.1, 0\n    kFreq = 8       ; Shake rate\n    \n    aShake shaker kAmp, kFreq, 64, 0\n    \n    outs aShake, aShake\nendin\n\ninstr 2\n    ; Cabasa\n    kAmp linseg 0, 0.05, 0.7, p3-0.15, 0.5, 0.1, 0\n    kFreq = 6\n    \n    aShake shaker kAmp, kFreq, 128, 1\n    \n    outs aShake, aShake\nendin\n\ninstr 3\n    ; Sekere\n    kAmp linseg 0, 0.03, 0.8, p3-0.13, 0.6, 0.1, 0\n    kFreq = 7\n    \n    aShake shaker kAmp, kFreq, 96, 2\n    \n    outs aShake, aShake\nendin\n\ninstr 4\n    ; Tambourine\n    kAmp linseg 0, 0.02, 0.9, p3-0.12, 0.7, 0.1, 0\n    kFreq = 10\n    \n    aShake shaker kAmp, kFreq, 64, 6\n    \n    outs aShake, aShake\nendin\n\ninstr 5\n    ; Sleigh bells\n    kAmp linseg 0, 0.02, 0.8, p3-0.12, 0.6, 0.1, 0\n    kFreq = 12\n    \n    aShake shaker kAmp, kFreq, 32, 7\n    \n    outs aShake, aShake\nendin\n\ninstr 6\n    ; Bamboo chimes\n    kAmp linseg 0, 0.05, 0.7, p3-0.15, 0.5, 0.1, 0\n    kFreq = 4       ; Slower shake\n    \n    aShake shaker kAmp, kFreq, 48, 5\n    \n    outs aShake, aShake\nendin\n\ninstr 7\n    ; Sandpaper blocks\n    kAmp linseg 0, 0.03, 0.8, p3-0.13, 0.6, 0.1, 0\n    kFreq = 8\n    \n    aShake shaker kAmp, kFreq, 256, 11\n    \n    outs aShake, aShake\nendin\n\ninstr 8\n    ; Variable shake rate\n    kAmp linseg 0, 0.02, 0.8, p3-0.12, 0.6, 0.1, 0\n    \n    ; Accelerando\n    kFreq linseg 4, p3, 16\n    \n    aShake shaker kAmp, kFreq, 64, 0\n    \n    outs aShake, aShake\nendin\n\ninstr 9\n    ; Rhythmic pattern\n    kAmp linseg 0, 0.02, 0.8, 0.1, 0.4, 0.15, 0.9, 0.1, 0.3, p3-0.37, 0\n    kFreq = 8\n    \n    aShake shaker kAmp, kFreq, 64, 0\n    \n    outs aShake, aShake\nendin\n\ninstr 10\n    ; Multi-shaker ensemble\n    kAmp linseg 0, 0.03, 0.6, p3-0.13, 0.4, 0.1, 0\n    \n    ; Different shakers with different rates\n    aMaraca shaker kAmp, 8, 64, 0\n    aCabasa shaker kAmp, 6, 128, 1\n    aTamb shaker kAmp, 10, 64, 6\n    \n    ; Mix with stereo spread\n    aLeft = aMaraca*0.6 + aCabasa*0.4 + aTamb*0.3\n    aRight = aMaraca*0.3 + aCabasa*0.5 + aTamb*0.6\n    \n    outs aLeft*0.7, aRight*0.7\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play maraca\ni1 0 1.5\ni1 2 1.5\n\n; Play cabasa\ni2 4.5 2\n\n; Play sekere\ni3 7.5 1.5\n\n; Play tambourine\ni4 10 1\ni4 11 1\ni4 12 1\n\n; Play sleigh bells\ni5 14 2\n\n; Play bamboo chimes\ni6 17 2.5\n\n; Play sandpaper\ni7 20.5 2\n\n; Play accelerando\ni8 23.5 2\n\n; Play rhythmic pattern\ni9 26.5 1.5\ni9 28 1.5\n\n; Play ensemble\ni10 30.5 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the sekere opcode for physical model sekere", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; sekere opcode: ares sekere kamp, idettack [, inum] [, idamp] [, imaxshake]\n    ; sekere implements a physical model of a sekere (beaded gourd)\n    ; kamp - amplitude (shake energy)\n    ; idettack - period of time over which all sound is stopped\n    ; inum - number of beads (default 64)\n    ; idamp - damping factor (0-1, default 0.0)\n    ; imaxshake - maximum shake energy (default 0)\n    \n    ; Basic sekere\n    kAmp linseg 1, p3, 0\n    \n    aSekere sekere kAmp*0.6, p3\n    \n    outs aSekere, aSekere\nendin\n\ninstr 2\n    ; Sekere with shake pattern\n    ; Two-phase shake (pull up, shake down)\n    kAmp linseg 0, 0.02, 0.9, 0.08, 0.4, 0.15, 0.8, 0.1, 0.3, p3-0.35, 0\n    \n    aSekere sekere kAmp*0.6, p3, 64, 0.0\n    \n    outs aSekere, aSekere\nendin\n\ninstr 3\n    ; Dense sekere (more beads)\n    kAmp linseg 1, p3, 0\n    \n    ; More beads for denser texture\n    aSekere sekere kAmp*0.6, p3, 128, 0.02\n    \n    outs aSekere, aSekere\nendin\n\ninstr 4\n    ; Sparse sekere (fewer beads)\n    kAmp linseg 1, p3, 0\n    \n    ; Fewer beads for sparser sound\n    aSekere sekere kAmp*0.6, p3, 32, 0.0\n    \n    outs aSekere, aSekere\nendin\n\ninstr 5\n    ; Sekere with damping\n    kAmp linseg 1, p3, 0\n    \n    ; Higher damping for controlled sound\n    aSekere sekere kAmp*0.6, p3, 64, 0.15\n    \n    outs aSekere, aSekere\nendin\n\ninstr 6\n    ; Sekere roll (continuous shaking)\n    ; Oscillating amplitude\n    kAmp oscili 0.4, 6, -1, 0\n    kAmp = 0.5 + abs(kAmp)\n    kAmp = kAmp * linseg(1, p3*0.8, 0.8, p3*0.2, 0)\n    \n    aSekere sekere kAmp*0.6, p3, 64, 0.05\n    \n    outs aSekere, aSekere\nendin\n\ninstr 7\n    ; Sekere twist (back and forth)\n    ; Alternate direction shake\n    kAmp lfo 0.6, 3, 1  ; Square wave\n    kAmp = abs(kAmp) * linseg(1, p3, 0.5)\n    \n    aSekere sekere kAmp*0.6, p3, 64, 0.0\n    \n    outs aSekere, aSekere\nendin\n\ninstr 8\n    ; African rhythm pattern\n    ; Complex shake pattern\n    kTime timeinsts\n    kBeat = int(kTime * 4) % 4\n    \n    if kBeat == 0 then\n        kAmp = 0.9\n    elseif kBeat == 1 then\n        kAmp = 0.4\n    elseif kBeat == 2 then\n        kAmp = 0.7\n    else\n        kAmp = 0.5\n    endif\n    \n    kAmp = kAmp * linseg(1, p3, 0.3)\n    \n    aSekere sekere kAmp*0.6, p3, 64, 0.0\n    \n    outs aSekere, aSekere\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic sekere\ni1 0 1.5\ni1 2 1.5\n\n; Play shake pattern\ni2 4.5 1\ni2 5.5 1\ni2 6.5 1\n\n; Play dense sekere\ni3 8.5 2\n\n; Play sparse sekere\ni4 11.5 2\n\n; Play with damping\ni5 14.5 1.5\ni5 16 1.5\n\n; Play roll\ni6 18.5 2.5\n\n; Play twist\ni7 22 2\n\n; Play rhythm pattern\ni8 25 2\ni8 27 2\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates advanced physical modeling combinations", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; Percussion ensemble: barmodel + shakers\n    ; Marimba bars\n    kbcL = 1\n    kbcR = 1\n    iK = 0.2\n    ib = 0.0008\n    kscan = 0.2\n    iT30 = 4\n    ipos = 0.5\n    ivel = 400\n    iwid = 0.15\n    \n    aBar barmodel kbcL, kbcR, iK, ib, kscan, iT30, ipos, ivel, iwid\n    \n    ; Shaker accent\n    kShakeAmp linseg 0, 0.02, 0.6, 0.1, 0.2, p3-0.12, 0\n    aShake shaker kShakeAmp, 10, 64, 0\n    \n    ; Mix\n    aMix = aBar*0.6 + aShake*0.4\n    \n    outs aMix, aMix\nendin\n\ninstr 2\n    ; Afro-Cuban percussion section\n    kAmp linseg 1, p3, 0\n    \n    ; Sekere (gourd)\n    kSekereAmp oscili 0.5, 4, -1, 0\n    kSekereAmp = 0.4 + abs(kSekereAmp)\n    aSekere sekere kSekereAmp*kAmp*0.5, p3, 64, 0.0\n    \n    ; Maraca\n    kMaracaAmp linseg 0, 0.02, 0.7, p3-0.12, 0.5, 0.1, 0\n    aMaraca shaker kMaracaAmp*kAmp*0.4, 8, 64, 0\n    \n    ; Cabasa\n    kCabasaAmp linseg 0, 0.05, 0.6, p3-0.15, 0.4, 0.1, 0\n    aCabasa shaker kCabasaAmp*kAmp*0.4, 6, 128, 1\n    \n    ; Mix with stereo spread\n    aLeft = aSekere*0.5 + aMaraca*0.6 + aCabasa*0.3\n    aRight = aSekere*0.5 + aMaraca*0.3 + aCabasa*0.6\n    \n    outs aLeft*0.7, aRight*0.7\nendin\n\ninstr 3\n    ; Mallet crescendo with shaker roll\n    ; Multiple bars at different pitches\n    kbcL = 1\n    kbcR = 1\n    iK = 0.25\n    ib = 0.001\n    kscan = 0.23\n    iT30 = 3\n    ipos = 0.5\n    iwid = 0.1285\n    \n    ; Crescendo velocity\n    kVel linseg 200, p3, 800\n    \n    ; Root, 3rd, 5th\n    aBar1 barmodel kbcL, kbcR, iK, ib, kscan, iT30, ipos, kVel, iwid\n    aBar2 barmodel kbcL, kbcR, iK*1.25, ib, kscan, iT30, ipos, kVel, iwid\n    aBar3 barmodel kbcL, kbcR, iK*1.5, ib, kscan, iT30, ipos, kVel, iwid\n    \n    ; Shaker roll\n    kShakeAmp linseg 0.2, p3, 0.8\n    aShake shaker kShakeAmp*0.5, 12, 64, 6  ; Tambourine\n    \n    ; Mix\n    aBars = (aBar1 + aBar2 + aBar3) * 0.3\n    aMix = aBars + aShake*0.4\n    \n    outs aMix, aMix\nendin\n\ninstr 4\n    ; Tuned percussion melody with shaker accompaniment\n    ; Glockenspiel bars\n    kbcL = 1\n    kbcR = 1\n    iK = 0.4\n    ib = 0.0003\n    kscan = 0.3\n    iT30 = 6\n    ipos = 0.3\n    ivel = 700\n    iwid = 0.08\n    \n    ; Melodic pattern\n    kTime timeinsts\n    kNote = int(kTime * 2) % 4\n    \n    if kNote == 0 then\n        kFreqMult = 1\n    elseif kNote == 1 then\n        kFreqMult = 1.25\n    elseif kNote == 2 then\n        kFreqMult = 1.5\n    else\n        kFreqMult = 2\n    endif\n    \n    aBar barmodel kbcL, kbcR, iK*kFreqMult, ib, kscan, iT30, ipos, ivel, iwid\n    \n    ; Sleigh bells\n    kShakeAmp linseg 0, 0.02, 0.6, p3-0.12, 0.4, 0.1, 0\n    aShake shaker kShakeAmp*0.4, 10, 32, 7\n    \n    ; Mix\n    aMix = aBar*0.6 + aShake*0.4\n    \n    outs aMix*0.7, aMix*0.7\nendin\n\ninstr 5\n    ; Gamelan-inspired texture\n    ; Multiple bars with inharmonic tuning\n    kbcL = 1\n    kbcR = 1\n    ib = 0.0005\n    kscan = 0.25\n    iT30 = 8\n    ipos = 0.5\n    ivel = 500\n    iwid = 0.12\n    \n    ; Inharmonic ratios\n    aBar1 barmodel kbcL, kbcR, 0.2, ib, kscan, iT30, ipos, ivel, iwid\n    aBar2 barmodel kbcL, kbcR, 0.2*2.14, ib, kscan, iT30*0.9, ipos, ivel, iwid\n    aBar3 barmodel kbcL, kbcR, 0.2*3.76, ib, kscan, iT30*0.8, ipos, ivel, iwid\n    aBar4 barmodel kbcL, kbcR, 0.2*5.42, ib, kscan, iT30*0.7, ipos, ivel, iwid\n    \n    ; Bamboo chimes\n    kChimeAmp linseg 0, 0.05, 0.5, p3-0.15, 0.3, 0.1, 0\n    aChime shaker kChimeAmp*0.4, 3, 48, 5\n    \n    ; Mix with reverb\n    aBars = (aBar1*0.3 + aBar2*0.25 + aBar3*0.2 + aBar4*0.15)\n    aMix = aBars + aChime*0.5\n    \n    aRvbL, aRvbR freeverb aMix, aMix, 0.85, 0.6\n    \n    outs aRvbL*0.6, aRvbR*0.6\nendin\n\ninstr 6\n    ; Rhythmic ostinato\n    ; Xylophone pattern\n    kbcL = 3\n    kbcR = 3\n    iK = 0.3\n    ib = 0.002\n    kscan = 0.25\n    iT30 = 1.5\n    ipos = 0.4\n    ivel = 650\n    iwid = 0.12\n    \n    ; Repeating rhythmic pattern\n    kTime timeinsts\n    kStep = int(kTime * 8) % 8\n    \n    ; Velocity pattern\n    if kStep == 0 || kStep == 3 || kStep == 6 then\n        kBarVel = ivel\n    else\n        kBarVel = ivel * 0.3\n    endif\n    \n    aBar barmodel kbcL, kbcR, iK, ib, kscan, iT30, ipos, kBarVel, iwid\n    \n    ; Sekere pattern\n    kSekereAmp = (kStep % 2 == 0 ? 0.7 : 0.3)\n    kSekereAmp = kSekereAmp * linseg(1, p3, 0.5)\n    aSekere sekere kSekereAmp*0.5, p3, 64, 0.0\n    \n    ; Mix\n    aMix = aBar*0.6 + aSekere*0.4\n    \n    outs aMix, aMix\nendin\n\ninstr 7\n    ; Ambient percussion soundscape\n    ; Soft bar resonances\n    kbcL = 1\n    kbcR = 1\n    ib = 0.0002\n    kscan = 0.2\n    iT30 = 10\n    ipos = 0.5\n    ivel = 200\n    iwid = 0.18\n    \n    ; Random-like bar strikes\n    kRand randomi 0.15, 0.35, 0.5\n    \n    aBar1 barmodel kbcL, kbcR, kRand, ib, kscan, iT30, ipos, ivel, iwid\n    aBar2 barmodel kbcL, kbcR, kRand*1.618, ib, kscan, iT30*0.95, ipos+0.1, ivel, iwid\n    \n    ; Water drops texture\n    kDropAmp randomi 0.2, 0.5, 2\n    aDrop shaker kDropAmp*0.3, 3, 20, 4\n    \n    ; Bamboo chimes\n    kChimeAmp randomi 0.1, 0.4, 1.5\n    aChime shaker kChimeAmp*0.3, 2, 48, 5\n    \n    ; Mix all with heavy reverb\n    aMix = aBar1*0.3 + aBar2*0.3 + aDrop*0.2 + aChime*0.2\n    aRvbL, aRvbR freeverb aMix, aMix, 0.95, 0.8\n    \n    outs aRvbL*0.5, aRvbR*0.5\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play marimba with shaker\ni1 0 2\ni1 2.5 2\n\n; Play Afro-Cuban section\ni2 5.5 3\n\n; Play crescendo\ni3 9.5 4\n\n; Play melody with bells\ni4 14.5 4\n\n; Play gamelan texture\ni5 19.5 6\n\n; Play rhythmic ostinato\ni6 26.5 3\n\n; Play ambient soundscape\ni7 30.5 10\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates expressive physical modeling performance techniques", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; Dynamic marimba phrase\n    kbcL = 1\n    kbcR = 1\n    iK = 0.2\n    ib = 0.0008\n    kscan = 0.2\n    iT30 = 4\n    iwid = 0.15\n    \n    ; Dynamic velocity curve\n    kVel linseg 250, p3*0.3, 600, p3*0.4, 500, p3*0.3, 300\n    \n    ; Position variation for timbral change\n    kPos linseg 0.45, p3, 0.55\n    \n    aBar barmodel kbcL, kbcR, iK, ib, kscan, iT30, kPos, kVel, iwid\n    \n    outs aBar, aBar\nendin\n\ninstr 2\n    ; Shaker crescendo with accelerando\n    ; Amplitude crescendo\n    kAmp linseg 0.2, p3*0.7, 0.9, p3*0.3, 0.6\n    \n    ; Frequency accelerando\n    kFreq linseg 4, p3*0.7, 16, p3*0.3, 12\n    \n    aShake shaker kAmp, kFreq, 64, 0\n    \n    outs aShake, aShake\nendin\n\ninstr 3\n    ; Sekere groove with syncopation\n    kTime timeinsts\n    kBeat = (kTime * 4)\n    \n    ; Syncopated rhythm pattern\n    kPhase = frac(kBeat)\n    \n    ; Complex amplitude envelope per beat\n    if kPhase < 0.25 then\n        kAmp = 0.8\n    elseif kPhase < 0.375 then\n        kAmp = 0.3\n    elseif kPhase < 0.5 then\n        kAmp = 0.6\n    elseif kPhase < 0.75 then\n        kAmp = 0.2\n    else\n        kAmp = 0.5\n    endif\n    \n    kAmp = kAmp * linseg(1, p3, 0.7)\n    \n    aSekere sekere kAmp*0.6, p3, 64, 0.0\n    \n    outs aSekere, aSekere\nendin\n\ninstr 4\n    ; Mallet roll (tremolo on bars)\n    kbcL = 1\n    kbcR = 1\n    iK = 0.25\n    ib = 0.001\n    kscan = 0.23\n    iT30 = 3\n    ipos = 0.5\n    iwid = 0.1285\n    \n    ; Rapid velocity modulation for roll\n    kRoll oscili 400, 12, -1, 0\n    kVel = 400 + abs(kRoll)\n    \n    ; Overall dynamics\n    kDyn linseg 0.5, p3*0.5, 1, p3*0.5, 0.7\n    \n    aBar barmodel kbcL, kbcR, iK, ib, kscan, iT30, ipos, kVel*kDyn, iwid\n    \n    outs aBar*0.7, aBar*0.7\nendin\n\ninstr 5\n    ; Call and response: bars and shakers\n    kTime timeinsts\n    kSection = int(kTime / 1) % 2\n    \n    if kSection == 0 then\n        ; Bar call\n        kbcL = 1\n        kbcR = 1\n        iK = 0.3\n        ib = 0.001\n        kscan = 0.23\n        iT30 = 2\n        ipos = 0.4\n        ivel = 600\n        iwid = 0.12\n        \n        aBar barmodel kbcL, kbcR, iK, ib, kscan, iT30, ipos, ivel, iwid\n        \n        outs aBar, aBar\n    else\n        ; Shaker response\n        kAmp linseg 0, 0.02, 0.8, 0.5, 0.6, 0.48, 0\n        aShake shaker kAmp, 10, 64, 0\n        \n        outs aShake, aShake\n    endif\nendin\n\ninstr 6\n    ; Polyrhythmic percussion\n    ; 3 against 4 pattern\n    kTime timeinsts\n    \n    ; Bars in 3\n    kBar3 = (frac(kTime * 3) < 0.1 ? 1 : 0)\n    \n    kbcL = 1\n    kbcR = 1\n    iK = 0.28\n    ib = 0.0012\n    kscan = 0.22\n    iT30 = 2.5\n    ipos = 0.5\n    ivel = 550 * kBar3\n    iwid = 0.13\n    \n    aBar barmodel kbcL, kbcR, iK, ib, kscan, iT30, ipos, ivel, iwid\n    \n    ; Sekere in 4\n    kSek4 = (frac(kTime * 4) < 0.15 ? 0.7 : 0.2)\n    aSekere sekere kSek4*0.6, p3, 64, 0.05\n    \n    ; Mix\n    aMix = aBar*0.6 + aSekere*0.4\n    \n    outs aMix, aMix\nendin\n\ninstr 7\n    ; Textural evolution\n    ; Morphing timbre over time\n    kMorph linseg 0, p3, 1\n    \n    ; Bar parameters change\n    kbcL = 1\n    kbcR = 1\n    iK = 0.2 + (kMorph * 0.2)  ; Increasing stiffness\n    ib = 0.002 - (kMorph * 0.0015)  ; Decreasing damping\n    kscan = 0.2 + (kMorph * 0.1)\n    iT30 = 3 + (kMorph * 4)  ; Increasing decay\n    ipos = 0.5\n    ivel = 500\n    iwid = 0.15 - (kMorph * 0.05)  ; Narrowing strike\n    \n    aBar barmodel kbcL, kbcR, iK, ib, kscan, iT30, ipos, ivel, iwid\n    \n    ; Shaker density increases\n    kShakeObjs = 32 + (kMorph * 96)\n    kShakeAmp = 0.3 + (kMorph * 0.4)\n    aShake shaker kShakeAmp, 8, kShakeObjs, 6\n    \n    ; Mix ratio changes\n    kBarAmt = 1 - (kMorph * 0.4)\n    kShakeAmt = 0.3 + (kMorph * 0.5)\n    \n    aMix = aBar*kBarAmt + aShake*kShakeAmt\n    \n    outs aMix*0.6, aMix*0.6\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play dynamic marimba\ni1 0 4\n\n; Play shaker crescendo\ni2 5 4\n\n; Play sekere groove\ni3 10 4\n\n; Play mallet roll\ni4 15 3\n\n; Play call and response\ni5 19 4\n\n; Play polyrhythm\ni6 24 4\n\n; Play textural evolution\ni7 29 8\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the mode opcode for modal resonance synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; mode opcode: ares mode asig, kfreq, kQ [, iskip]\n    ; mode is a resonant filter that models a single mode of vibration\n    ; asig - input signal (excitation)\n    ; kfreq - resonant frequency in Hz\n    ; kQ - quality factor (higher = longer decay, typically 10-1000)\n    ; iskip - skip initialization (0 = no, 1 = yes)\n    \n    ; Impulse excitation\n    aExcite mpulse 0.8, 0\n    \n    ; Single mode resonance\n    iFreq = p4\n    iQ = 100\n    \n    aMode mode aExcite, iFreq, iQ\n    \n    outs aMode, aMode\nendin\n\ninstr 2\n    ; Multiple modes for bell-like sound\n    aExcite mpulse 0.6, 0\n    \n    iFund = p4\n    \n    ; Create several modes at different frequencies and Q values\n    aMode1 mode aExcite, iFund, 200\n    aMode2 mode aExcite, iFund*2.76, 180\n    aMode3 mode aExcite, iFund*5.4, 150\n    aMode4 mode aExcite, iFund*8.93, 120\n    \n    ; Mix modes\n    aMix = aMode1*0.4 + aMode2*0.3 + aMode3*0.2 + aMode4*0.1\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; Wood block (short decay)\n    aExcite mpulse 0.7, 0\n    \n    iFreq = p4\n    \n    ; Lower Q for shorter decay\n    aMode1 mode aExcite, iFreq, 30\n    aMode2 mode aExcite, iFreq*2.3, 25\n    aMode3 mode aExcite, iFreq*4.1, 20\n    \n    aMix = aMode1*0.5 + aMode2*0.3 + aMode3*0.2\n    \n    outs aMix, aMix\nendin\n\ninstr 4\n    ; Metallic sound (long decay)\n    aExcite mpulse 0.5, 0\n    \n    iFreq = p4\n    \n    ; High Q for long decay\n    aMode1 mode aExcite, iFreq, 500\n    aMode2 mode aExcite, iFreq*1.618, 450\n    aMode3 mode aExcite, iFreq*2.718, 400\n    aMode4 mode aExcite, iFreq*4.236, 350\n    \n    aMix = aMode1*0.35 + aMode2*0.3 + aMode3*0.2 + aMode4*0.15\n    \n    outs aMix*0.7, aMix*0.7\nendin\n\ninstr 5\n    ; Swept resonance\n    ; Continuous excitation\n    aNoise noise 0.1, 0\n    \n    iFreqStart = p4\n    iFreqEnd = p5\n    \n    ; Sweep frequency\n    kFreq expseg iFreqStart, p3, iFreqEnd\n    \n    aMode mode aNoise, kFreq, 150\n    \n    outs aMode, aMode\nendin\n\ninstr 6\n    ; Inharmonic modes for complex timbre\n    aExcite mpulse 0.6, 0\n    \n    iFreq = p4\n    \n    ; Inharmonic ratios\n    aMode1 mode aExcite, iFreq, 180\n    aMode2 mode aExcite, iFreq*2.1, 160\n    aMode3 mode aExcite, iFreq*3.7, 140\n    aMode4 mode aExcite, iFreq*5.9, 120\n    aMode5 mode aExcite, iFreq*8.3, 100\n    \n    aMix = aMode1*0.3 + aMode2*0.25 + aMode3*0.2 + aMode4*0.15 + aMode5*0.1\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play single mode\ni1 0 2 440\ni1 2.5 2 330\n\n; Play bell-like\ni2 5.5 3 523\ni2 9 3 440\n\n; Play wood block\ni3 13 1 800\ni3 14 1 1000\ni3 15 1 1200\n\n; Play metallic\ni4 17 4 660\n\n; Play swept resonance\n; Format: start dur freq_start freq_end\ni5 22 3 200 2000\n\n; Play inharmonic\ni6 26 3 220\ni6 29 3 330\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the streson opcode for string resonance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; streson opcode: ares streson asig, kfr, kfdbgain\n    ; streson is a string resonator that models the resonance of a string\n    ; asig - input signal (excitation)\n    ; kfr - resonant frequency in Hz\n    ; kfdbgain - feedback gain (0-1, controls decay time)\n    \n    ; Impulse excitation\n    aExcite mpulse 0.5, 0\n    \n    iFreq = p4\n    kFdbk = 0.95\n    \n    ; String resonance\n    aStr streson aExcite, iFreq, kFdbk\n    \n    outs aStr, aStr\nendin\n\ninstr 2\n    ; Plucked string with decay\n    aExcite mpulse 0.4, 0\n    \n    iFreq = p4\n    \n    ; Feedback decreases over time\n    kFdbk linseg 0.98, p3, 0.7\n    \n    aStr streson aExcite, iFreq, kFdbk\n    \n    outs aStr, aStr\nendin\n\ninstr 3\n    ; Multiple strings (sympathetic resonance)\n    aExcite mpulse 0.35, 0\n    \n    ; Fundamental frequency\n    iFreq = p4\n    \n    ; Create several strings at harmonic frequencies\n    aStr1 streson aExcite, iFreq, 0.97\n    aStr2 streson aExcite, iFreq*2, 0.95\n    aStr3 streson aExcite, iFreq*3, 0.93\n    aStr4 streson aExcite, iFreq*4, 0.91\n    \n    ; Mix with decreasing amplitude\n    aMix = aStr1*0.4 + aStr2*0.3 + aStr3*0.2 + aStr4*0.1\n    \n    outs aMix, aMix\nendin\n\ninstr 4\n    ; Bowed string simulation\n    ; Continuous noise excitation\n    aNoise noise 0.05, 0\n    \n    iFreq = p4\n    kFdbk = 0.99  ; Very high feedback for sustained tone\n    \n    aStr streson aNoise, iFreq, kFdbk\n    \n    outs aStr*0.8, aStr*0.8\nendin\n\ninstr 5\n    ; Detuned string chorus\n    aExcite mpulse 0.3, 0\n    \n    iFreq = p4\n    \n    ; Three slightly detuned strings\n    aStr1 streson aExcite, iFreq*0.998, 0.96\n    aStr2 streson aExcite, iFreq, 0.96\n    aStr3 streson aExcite, iFreq*1.002, 0.96\n    \n    ; Stereo spread\n    aLeft = aStr1*0.5 + aStr2*0.3 + aStr3*0.2\n    aRight = aStr1*0.2 + aStr2*0.3 + aStr3*0.5\n    \n    outs aLeft, aRight\nendin\n\ninstr 6\n    ; Pitch glide on string\n    aExcite mpulse 0.4, 0\n    \n    iStart = p4\n    iEnd = p5\n    \n    ; Smooth frequency glide\n    kFreq expseg iStart, p3, iEnd\n    kFdbk = 0.96\n    \n    aStr streson aExcite, kFreq, kFdbk\n    \n    outs aStr, aStr\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic string resonance\ni1 0 3 440\ni1 3.5 3 330\n\n; Play with decay\ni2 7.5 3 523\n\n; Play sympathetic resonance\ni3 11.5 4 220\n\n; Play bowed simulation\ni4 16.5 4 330\n\n; Play chorus\ni5 21.5 3 392\n\n; Play pitch glide\n; Format: start dur freq_start freq_end\ni6 25.5 2 220 440\ni6 27.5 2 440 220\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the prepiano opcode for prepared piano synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; prepiano opcode: ares prepiano ifreq, iNS, iD, iK, iT30, iB, kbcl, kbcr, imass, ihvfreq, iinit, ipos, ivel, isfreq, isspread, irattles\n    ; prepiano implements a prepared piano physical model\n    ; ifreq - frequency in Hz\n    ; iNS - number of strings (1-3)\n    ; iD - detuning between strings (cents)\n    ; iK - stiffness parameter\n    ; iT30 - decay time\n    ; iB - brightness/high frequency loss\n    ; kbcl, kbcr - boundary conditions left/right\n    ; imass - mass parameter\n    ; ihvfreq - hammer velocity frequency\n    ; iinit - initialization flag\n    ; ipos - strike position (0-1)\n    ; ivel - strike velocity\n    ; isfreq - string frequency\n    ; isspread - string spread\n    ; irattles - number of rattles\n    \n    ; Basic prepared piano note\n    iFreq = p4\n    iVel = 0.8\n    \n    aPiano prepiano iFreq, 3, 1.5, 1, 5, 0.5, 0.5, 0.5, 1, 1, 1, 0.5, iVel, 0, 0, 0\n    \n    outs aPiano, aPiano\nendin\n\ninstr 2\n    ; Single string prepared piano\n    iFreq = p4\n    iVel = 0.7\n    \n    ; Single string (iNS = 1)\n    aPiano prepiano iFreq, 1, 0, 1, 4, 0.4, 0.5, 0.5, 1, 1, 1, 0.5, iVel, 0, 0, 0\n    \n    outs aPiano, aPiano\nendin\n\ninstr 3\n    ; Heavily detuned prepared piano\n    iFreq = p4\n    iVel = 0.8\n    \n    ; Three strings with heavy detuning (10 cents)\n    aPiano prepiano iFreq, 3, 10, 1, 6, 0.6, 0.5, 0.5, 1, 1, 1, 0.5, iVel, 0, 0, 0\n    \n    outs aPiano, aPiano\nendin\n\ninstr 4\n    ; Bright prepared piano\n    iFreq = p4\n    iVel = 0.75\n    \n    ; Lower B value for brightness\n    aPiano prepiano iFreq, 3, 1.5, 1, 5, 0.2, 0.5, 0.5, 1, 1, 1, 0.3, iVel, 0, 0, 0\n    \n    outs aPiano, aPiano\nendin\n\ninstr 5\n    ; Dark, mellow prepared piano\n    iFreq = p4\n    iVel = 0.7\n    \n    ; Higher B value for darkness\n    aPiano prepiano iFreq, 3, 1.5, 1, 7, 0.8, 0.5, 0.5, 1, 1, 1, 0.7, iVel, 0, 0, 0\n    \n    outs aPiano, aPiano\nendin\n\ninstr 6\n    ; Long decay prepared piano\n    iFreq = p4\n    iVel = 0.8\n    \n    ; Longer T30 for sustained tone\n    aPiano prepiano iFreq, 3, 1.5, 1, 12, 0.5, 0.5, 0.5, 1, 1, 1, 0.5, iVel, 0, 0, 0\n    \n    outs aPiano*0.8, aPiano*0.8\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic prepared piano\ni1 0 3 440\ni1 3.5 3 523\n\n; Play single string\ni2 7.5 3 330\n\n; Play detuned\ni3 11.5 3 392\n\n; Play bright\ni4 15.5 3 659\n\n; Play dark\ni5 19.5 3 294\n\n; Play long decay\ni6 24 5 220\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the marimba opcode for marimba synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; marimba opcode: ares marimba kamp, kfreq, ihrd, ipos, imp, kvibf, kvamp, ivibfn, idec\n    ; marimba implements a marimba physical model\n    ; kamp - amplitude\n    ; kfreq - frequency in Hz\n    ; ihrd - hardness of mallet (0-1, 0=soft, 1=hard)\n    ; ipos - strike position (0-1)\n    ; imp - method (1-4, strike method)\n    ; kvibf - vibrato frequency\n    ; kvamp - vibrato amplitude\n    ; ivibfn - vibrato function table\n    ; idec - decay time multiplier\n    \n    ; Amplitude envelope\n    kAmp linseg 1, p3, 0\n    \n    iFreq = p4\n    iHard = 0.5     ; Medium hardness\n    iPos = 0.5      ; Center strike\n    iMethod = 1\n    \n    aMarimba marimba kAmp*0.5, iFreq, iHard, iPos, iMethod, 0, 0, giSine, 1\n    \n    outs aMarimba, aMarimba\nendin\n\ninstr 2\n    ; Soft mallets\n    kAmp linseg 1, p3, 0\n    \n    iFreq = p4\n    iHard = 0.2     ; Soft mallets\n    iPos = 0.5\n    iMethod = 1\n    \n    aMarimba marimba kAmp*0.5, iFreq, iHard, iPos, iMethod, 0, 0, giSine, 1\n    \n    outs aMarimba, aMarimba\nendin\n\ninstr 3\n    ; Hard mallets\n    kAmp linseg 1, p3, 0\n    \n    iFreq = p4\n    iHard = 0.85    ; Hard mallets\n    iPos = 0.3\n    iMethod = 1\n    \n    aMarimba marimba kAmp*0.5, iFreq, iHard, iPos, iMethod, 0, 0, giSine, 1\n    \n    outs aMarimba, aMarimba\nendin\n\ninstr 4\n    ; Different strike positions\n    kAmp linseg 1, p3, 0\n    \n    iFreq = p4\n    iHard = 0.5\n    iPos = p5       ; Strike position from score\n    iMethod = 1\n    \n    aMarimba marimba kAmp*0.5, iFreq, iHard, iPos, iMethod, 0, 0, giSine, 1\n    \n    outs aMarimba, aMarimba\nendin\n\ninstr 5\n    ; Long decay marimba\n    kAmp linseg 1, p3, 0\n    \n    iFreq = p4\n    iHard = 0.5\n    iPos = 0.5\n    iMethod = 1\n    iDecay = 2      ; Longer decay\n    \n    aMarimba marimba kAmp*0.5, iFreq, iHard, iPos, iMethod, 0, 0, giSine, iDecay\n    \n    outs aMarimba, aMarimba\nendin\n\ninstr 6\n    ; Marimba roll (tremolo)\n    kAmp linseg 1, p3, 0\n    \n    iFreq = p4\n    iHard = 0.5\n    iPos = 0.5\n    iMethod = 1\n    \n    ; Tremolo effect\n    kTrem oscili 0.3, 10, giSine\n    kTrem = 0.7 + kTrem\n    \n    aMarimba marimba kAmp*kTrem*0.5, iFreq, iHard, iPos, iMethod, 0, 0, giSine, 1\n    \n    outs aMarimba, aMarimba\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic marimba\ni1 0 2 440\ni1 2.5 2 523\n\n; Play soft mallets\ni2 5.5 2 330\ni2 7.5 2 392\n\n; Play hard mallets\ni3 10.5 1.5 659\ni3 12 1.5 784\n\n; Play different strike positions\n; Format: start dur freq position\ni4 14.5 2 392 0.2   ; Near edge\ni4 16.5 2 392 0.5   ; Center\ni4 18.5 2 392 0.8   ; Far edge\n\n; Play long decay\ni5 21.5 3 294\n\n; Play roll\ni6 25.5 2 440\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the vibes opcode for vibraphone synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; vibes opcode: ares vibes kamp, kfreq, ihrd, ipos, imp, kvibf, kvamp, ivibfn, idec\n    ; vibes implements a vibraphone physical model\n    ; kamp - amplitude\n    ; kfreq - frequency in Hz\n    ; ihrd - hardness of mallet (0-1)\n    ; ipos - strike position (0-1)\n    ; imp - method (strike method)\n    ; kvibf - vibrato frequency (motor speed)\n    ; kvamp - vibrato amplitude\n    ; ivibfn - vibrato function table\n    ; idec - decay time multiplier\n    \n    ; Amplitude envelope\n    kAmp linseg 1, p3, 0\n    \n    iFreq = p4\n    iHard = 0.5\n    iPos = 0.5\n    iMethod = 1\n    kVibF = 6       ; Vibraphone motor at 6 Hz\n    kVibAmp = 0.1   ; Moderate vibrato depth\n    \n    aVibes vibes kAmp*0.5, iFreq, iHard, iPos, iMethod, kVibF, kVibAmp, giSine, 1\n    \n    outs aVibes, aVibes\nendin\n\ninstr 2\n    ; No motor (vibrato off)\n    kAmp linseg 1, p3, 0\n    \n    iFreq = p4\n    iHard = 0.5\n    iPos = 0.5\n    iMethod = 1\n    kVibF = 0       ; No vibrato\n    kVibAmp = 0\n    \n    aVibes vibes kAmp*0.5, iFreq, iHard, iPos, iMethod, kVibF, kVibAmp, giSine, 1\n    \n    outs aVibes, aVibes\nendin\n\ninstr 3\n    ; Fast motor\n    kAmp linseg 1, p3, 0\n    \n    iFreq = p4\n    iHard = 0.5\n    iPos = 0.5\n    iMethod = 1\n    kVibF = 10      ; Fast motor\n    kVibAmp = 0.15  ; Deep vibrato\n    \n    aVibes vibes kAmp*0.5, iFreq, iHard, iPos, iMethod, kVibF, kVibAmp, giSine, 1\n    \n    outs aVibes, aVibes\nendin\n\ninstr 4\n    ; Soft mallets with slow motor\n    kAmp linseg 1, p3, 0\n    \n    iFreq = p4\n    iHard = 0.2     ; Soft mallets\n    iPos = 0.5\n    iMethod = 1\n    kVibF = 4       ; Slow motor\n    kVibAmp = 0.08\n    \n    aVibes vibes kAmp*0.5, iFreq, iHard, iPos, iMethod, kVibF, kVibAmp, giSine, 1\n    \n    outs aVibes, aVibes\nendin\n\ninstr 5\n    ; Hard mallets bright tone\n    kAmp linseg 1, p3, 0\n    \n    iFreq = p4\n    iHard = 0.8     ; Hard mallets\n    iPos = 0.3\n    iMethod = 1\n    kVibF = 6\n    kVibAmp = 0.1\n    \n    aVibes vibes kAmp*0.5, iFreq, iHard, iPos, iMethod, kVibF, kVibAmp, giSine, 1\n    \n    outs aVibes, aVibes\nendin\n\ninstr 6\n    ; Chord (multiple bars)\n    kAmp linseg 1, p3, 0\n    \n    ; Root, third, fifth\n    iRoot = p4\n    i3rd = iRoot * 5/4\n    i5th = iRoot * 3/2\n    \n    iHard = 0.5\n    iPos = 0.5\n    iMethod = 1\n    kVibF = 6\n    kVibAmp = 0.1\n    \n    aVibes1 vibes kAmp*0.35, iRoot, iHard, iPos, iMethod, kVibF, kVibAmp, giSine, 1\n    aVibes2 vibes kAmp*0.35, i3rd, iHard, iPos, iMethod, kVibF*1.01, kVibAmp, giSine, 1\n    aVibes3 vibes kAmp*0.35, i5th, iHard, iPos, iMethod, kVibF*0.99, kVibAmp, giSine, 1\n    \n    aMix = aVibes1 + aVibes2 + aVibes3\n    \n    outs aMix*0.5, aMix*0.5\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play with motor\ni1 0 3 440\ni1 3.5 3 523\n\n; Play without motor\ni2 7.5 3 330\n\n; Play fast motor\ni3 11.5 3 659\n\n; Play soft mallets\ni4 15.5 3 392\n\n; Play hard mallets\ni5 19.5 2 784\n\n; Play chord\ni6 22.5 4 330\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the mandol opcode for mandolin synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; mandol opcode: ares mandol kamp, kfreq, kbody, kdetune, kdeclick\n    ; mandol implements a mandolin physical model\n    ; kamp - amplitude\n    ; kfreq - frequency in Hz\n    ; kbody - body size parameter (0-2, affects tone)\n    ; kdetune - detuning between string pairs (cents, typically 0-10)\n    ; kdeclick - declick time in seconds\n    \n    ; Amplitude envelope\n    kAmp linseg 1, p3, 0\n    \n    iFreq = p4\n    kBody = 1       ; Standard body size\n    kDetune = 2     ; Slight detuning between pairs\n    kDeclick = 0.001\n    \n    aMandol mandol kAmp*0.5, iFreq, kBody, kDetune, kDeclick\n    \n    outs aMandol, aMandol\nendin\n\ninstr 2\n    ; Small body mandolin\n    kAmp linseg 1, p3, 0\n    \n    iFreq = p4\n    kBody = 0.5     ; Small body\n    kDetune = 2\n    kDeclick = 0.001\n    \n    aMandol mandol kAmp*0.5, iFreq, kBody, kDetune, kDeclick\n    \n    outs aMandol, aMandol\nendin\n\ninstr 3\n    ; Large body mandolin\n    kAmp linseg 1, p3, 0\n    \n    iFreq = p4\n    kBody = 1.8     ; Large body\n    kDetune = 2\n    kDeclick = 0.001\n    \n    aMandol mandol kAmp*0.5, iFreq, kBody, kDetune, kDeclick\n    \n    outs aMandol, aMandol\nendin\n\ninstr 4\n    ; Heavy detuning (chorus effect)\n    kAmp linseg 1, p3, 0\n    \n    iFreq = p4\n    kBody = 1\n    kDetune = 8     ; Heavy detuning\n    kDeclick = 0.001\n    \n    aMandol mandol kAmp*0.5, iFreq, kBody, kDetune, kDeclick\n    \n    outs aMandol, aMandol\nendin\n\ninstr 5\n    ; Perfect unison (no detuning)\n    kAmp linseg 1, p3, 0\n    \n    iFreq = p4\n    kBody = 1\n    kDetune = 0     ; No detuning\n    kDeclick = 0.001\n    \n    aMandol mandol kAmp*0.5, iFreq, kBody, kDetune, kDeclick\n    \n    outs aMandol, aMandol\nendin\n\ninstr 6\n    ; Tremolo (rapid re-attack)\n    kAmp linseg 1, p3, 0\n    \n    ; Tremolo modulation\n    kTrem oscili 0.4, 8, giSine\n    kTrem = 0.6 + kTrem\n    \n    iFreq = p4\n    kBody = 1\n    kDetune = 2\n    kDeclick = 0.001\n    \n    aMandol mandol kAmp*kTrem*0.5, iFreq, kBody, kDetune, kDeclick\n    \n    outs aMandol, aMandol\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play standard mandolin\ni1 0 2 440\ni1 2.5 2 523\n\n; Play small body\ni2 5.5 2 330\n\n; Play large body\ni3 8.5 2 294\n\n; Play heavy detuning\ni4 11.5 2 392\n\n; Play unison\ni5 14.5 2 523\n\n; Play tremolo\ni6 17.5 3 440\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the gogobel opcode for agogo bell synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; gogobel opcode: ares gogobel kamp, kfreq, ihrd, ipos, imp, kvibf, kvamp, ivibfn, idec\n    ; gogobel implements an agogo bell physical model\n    ; kamp - amplitude\n    ; kfreq - frequency in Hz\n    ; ihrd - hardness of beater (0-1)\n    ; ipos - strike position (0-1)\n    ; imp - method\n    ; kvibf - vibrato frequency\n    ; kvamp - vibrato amplitude\n    ; ivibfn - vibrato function table\n    ; idec - decay time multiplier\n    \n    ; Amplitude envelope\n    kAmp linseg 1, p3, 0\n    \n    iFreq = p4\n    iHard = 0.7     ; Hard beater for metallic sound\n    iPos = 0.3\n    iMethod = 1\n    \n    aGogo gogobel kAmp*0.5, iFreq, iHard, iPos, iMethod, 0, 0, giSine, 1\n    \n    outs aGogo, aGogo\nendin\n\ninstr 2\n    ; High agogo bell\n    kAmp linseg 1, p3, 0\n    \n    iFreq = p4\n    iHard = 0.8     ; Very hard for bright sound\n    iPos = 0.2\n    iMethod = 1\n    \n    aGogo gogobel kAmp*0.5, iFreq, iHard, iPos, iMethod, 0, 0, giSine, 1\n    \n    outs aGogo, aGogo\nendin\n\ninstr 3\n    ; Low agogo bell\n    kAmp linseg 1, p3, 0\n    \n    iFreq = p4\n    iHard = 0.65\n    iPos = 0.4\n    iMethod = 1\n    \n    aGogo gogobel kAmp*0.5, iFreq, iHard, iPos, iMethod, 0, 0, giSine, 1\n    \n    outs aGogo, aGogo\nendin\n\ninstr 4\n    ; Agogo pattern (alternating high and low)\n    kAmp linseg 1, p3, 0\n    \n    ; Two pitches\n    iFreq1 = p4     ; High bell\n    iFreq2 = p5     ; Low bell\n    \n    ; Alternate between pitches\n    kTime timeinsts\n    kBell = int(kTime * 4) % 2\n    kFreq = (kBell == 0 ? iFreq1 : iFreq2)\n    \n    iHard = 0.7\n    iPos = 0.3\n    iMethod = 1\n    \n    aGogo gogobel kAmp*0.5, kFreq, iHard, iPos, iMethod, 0, 0, giSine, 1\n    \n    outs aGogo, aGogo\nendin\n\ninstr 5\n    ; Long decay bell\n    kAmp linseg 1, p3, 0\n    \n    iFreq = p4\n    iHard = 0.7\n    iPos = 0.3\n    iMethod = 1\n    iDecay = 2.5    ; Longer decay\n    \n    aGogo gogobel kAmp*0.5, iFreq, iHard, iPos, iMethod, 0, 0, giSine, iDecay\n    \n    outs aGogo, aGogo\nendin\n\ninstr 6\n    ; Stereo agogo pair\n    kAmp linseg 1, p3, 0\n    \n    iFreq1 = p4     ; High bell\n    iFreq2 = p5     ; Low bell\n    \n    iHard = 0.7\n    iPos = 0.3\n    iMethod = 1\n    \n    ; Generate both bells\n    aGogoHigh gogobel kAmp*0.5, iFreq1, iHard, iPos, iMethod, 0, 0, giSine, 1\n    aGogoLow gogobel kAmp*0.5, iFreq2, iHard, iPos, iMethod, 0, 0, giSine, 1\n    \n    ; Pan left and right\n    outs aGogoHigh*0.8 + aGogoLow*0.2, aGogoHigh*0.2 + aGogoLow*0.8\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic agogo\ni1 0 1 880\ni1 1.5 1 660\n\n; Play high bell\ni2 3.5 1 1200\ni2 4.5 1 1100\n\n; Play low bell\ni3 6.5 1 700\ni3 7.5 1 600\n\n; Play alternating pattern\n; Format: start dur high_freq low_freq\ni4 9.5 2 1000 700\n\n; Play long decay\ni5 12.5 3 880\n\n; Play stereo pair\ni6 16.5 1.5 1100 750\ni6 18 1.5 1100 750\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates advanced modal synthesis techniques and percussion ensembles", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; Gamelan-style ensemble using mode filters\n    aExcite mpulse 0.4, 0\n    \n    iFreq = p4\n    \n    ; Create multiple inharmonic modes (gamelan-like)\n    aMode1 mode aExcite, iFreq, 300\n    aMode2 mode aExcite, iFreq*2.14, 280\n    aMode3 mode aExcite, iFreq*3.76, 250\n    aMode4 mode aExcite, iFreq*5.42, 220\n    aMode5 mode aExcite, iFreq*7.13, 190\n    \n    aMix = aMode1*0.3 + aMode2*0.25 + aMode3*0.2 + aMode4*0.15 + aMode5*0.1\n    \n    outs aMix, aMix\nendin\n\ninstr 2\n    ; Mallet percussion section\n    kAmp linseg 1, p3, 0\n    \n    iFreq = p4\n    \n    ; Marimba (low)\n    aMarimba marimba kAmp*0.3, iFreq, 0.5, 0.5, 1, 0, 0, giSine, 1\n    \n    ; Vibes (high with motor)\n    aVibes vibes kAmp*0.3, iFreq*2, 0.5, 0.5, 1, 6, 0.1, giSine, 1\n    \n    ; Mix with stereo spread\n    aLeft = aMarimba*0.7 + aVibes*0.3\n    aRight = aMarimba*0.3 + aVibes*0.7\n    \n    outs aLeft, aRight\nendin\n\ninstr 3\n    ; String ensemble with resonance\n    aExcite mpulse 0.3, 0\n    \n    ; Root, fifth, octave\n    iRoot = p4\n    i5th = iRoot * 3/2\n    i8ve = iRoot * 2\n    \n    ; String resonators\n    aStr1 streson aExcite, iRoot, 0.97\n    aStr2 streson aExcite, i5th, 0.96\n    aStr3 streson aExcite, i8ve, 0.95\n    \n    aMix = aStr1*0.4 + aStr2*0.35 + aStr3*0.25\n    \n    outs aMix, aMix\nendin\n\ninstr 4\n    ; Prepared piano with resonance\n    iFreq = p4\n    iVel = 0.75\n    \n    ; Prepared piano\n    aPiano prepiano iFreq, 3, 2, 1, 6, 0.5, 0.5, 0.5, 1, 1, 1, 0.5, iVel, 0, 0, 0\n    \n    ; Add string resonance for sympathetic vibration\n    aRes1 streson aPiano, iFreq*2, 0.93\n    aRes2 streson aPiano, iFreq*3, 0.91\n    \n    aMix = aPiano*0.6 + aRes1*0.2 + aRes2*0.2\n    \n    outs aMix, aMix\nendin\n\ninstr 5\n    ; Latin percussion ensemble\n    kAmp linseg 1, p3, 0\n    \n    iFreq = p4\n    \n    ; Agogo bells pattern\n    kTime timeinsts\n    kBell = int(kTime * 6) % 3\n    \n    if kBell == 0 then\n        kGogoFreq = iFreq * 2\n    elseif kBell == 1 then\n        kGogoFreq = iFreq * 1.5\n    else\n        kGogoFreq = iFreq\n    endif\n    \n    aGogo gogobel kAmp*0.4, kGogoFreq, 0.7, 0.3, 1, 0, 0, giSine, 1\n    \n    ; Add marimba bass\n    aMarimba marimba kAmp*0.3, iFreq*0.5, 0.4, 0.6, 1, 0, 0, giSine, 1\n    \n    aMix = aGogo + aMarimba*0.6\n    \n    outs aMix*0.7, aMix*0.7\nendin\n\ninstr 6\n    ; Mandolin tremolo melody with bell accompaniment\n    kAmp linseg 1, p3, 0\n    \n    iFreq = p4\n    \n    ; Mandolin with tremolo\n    kTrem oscili 0.4, 8, giSine\n    kTrem = 0.6 + kTrem\n    aMandol mandol kAmp*kTrem*0.35, iFreq, 1, 2, 0.001\n    \n    ; Bell harmony (third above)\n    aGogo gogobel kAmp*0.25, iFreq*1.25, 0.7, 0.3, 1, 0, 0, giSine, 1.5\n    \n    aMix = aMandol + aGogo*0.6\n    \n    outs aMix, aMix\nendin\n\ninstr 7\n    ; Modal synthesis texture (shimmer)\n    ; Continuous excitation with multiple modes\n    aNoise noise 0.02, 0\n    \n    iFreq = p4\n    \n    ; Multiple modes at different frequencies and decay times\n    aMode1 mode aNoise, iFreq, 400\n    aMode2 mode aNoise, iFreq*1.618, 380\n    aMode3 mode aNoise, iFreq*2.414, 350\n    aMode4 mode aNoise, iFreq*3.142, 320\n    aMode5 mode aNoise, iFreq*4.236, 300\n    aMode6 mode aNoise, iFreq*5.828, 280\n    \n    ; Mix with varying amplitudes\n    aMix = aMode1*0.25 + aMode2*0.2 + aMode3*0.18 + aMode4*0.15 + aMode5*0.12 + aMode6*0.1\n    \n    ; Add reverb for shimmer effect\n    aRvbL, aRvbR freeverb aMix, aMix, 0.9, 0.7\n    \n    outs aRvbL*0.5, aRvbR*0.5\nendin\n\ninstr 8\n    ; Full percussion orchestra hit\n    kAmp linseg 1, p3, 0\n    \n    iFreq = p4\n    \n    ; Marimba bass\n    aMarimba marimba kAmp*0.3, iFreq, 0.5, 0.5, 1, 0, 0, giSine, 1\n    \n    ; Vibes chord (root, 3rd, 5th)\n    aVibes1 vibes kAmp*0.25, iFreq*2, 0.5, 0.5, 1, 6, 0.1, giSine, 1\n    aVibes2 vibes kAmp*0.25, iFreq*2.5, 0.5, 0.5, 1, 6.1, 0.1, giSine, 1\n    aVibes3 vibes kAmp*0.25, iFreq*3, 0.5, 0.5, 1, 5.9, 0.1, giSine, 1\n    \n    ; Agogo accent\n    aGogo gogobel kAmp*0.3, iFreq*4, 0.8, 0.2, 1, 0, 0, giSine, 1\n    \n    ; Mix all\n    aMix = aMarimba + aVibes1*0.8 + aVibes2*0.8 + aVibes3*0.8 + aGogo*0.6\n    \n    ; Stereo spread\n    aLeft = aMix + aGogo*0.3\n    aRight = aMix + (aVibes1 + aVibes2 + aVibes3)*0.2\n    \n    outs aLeft*0.5, aRight*0.5\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play gamelan ensemble\ni1 0 3 220\ni1 3.5 3 247\n\n; Play mallet section\ni2 7.5 3 330\n\n; Play string ensemble\ni3 11.5 4 196\n\n; Play prepared piano\ni4 16.5 3 262\ni4 19.5 3 330\n\n; Play latin percussion\ni5 23.5 3 220\n\n; Play mandolin with bells\ni6 27.5 3 392\ni6 30.5 3 440\n\n; Play modal shimmer\ni7 34.5 8 165\n\n; Play orchestra hit\ni8 43.5 4 220\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the tambourine opcode for physical model tambourine", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; tambourine opcode: ares tambourine kamp, idettack [, inum] [, idamp] [, imaxshake] [, ifreq] [, ifreq1] [, ifreq2]\n    ; tambourine implements a physical model of a tambourine\n    ; kamp - amplitude (typically 0-1)\n    ; idettack - period of time over which all sound is stopped (seconds)\n    ; inum - number of beads/jingles (default 32)\n    ; idamp - damping factor (0-1, default 0.1)\n    ; imaxshake - maximum shake energy (default 0)\n    ; ifreq, ifreq1, ifreq2 - resonant frequencies\n    \n    ; Amplitude envelope\n    kAmp linseg 1, p3, 0\n    \n    ; Basic tambourine\n    aTamb tambourine kAmp*0.6, p3\n    \n    outs aTamb, aTamb\nendin\n\ninstr 2\n    ; Tambourine with shake pattern\n    ; Rhythmic shaking\n    kShake linseg 0, 0.01, 1, 0.05, 0.3, 0.1, 0.8, 0.05, 0.2, p3-0.21, 0\n    \n    aTamb tambourine kShake*0.7, p3, 32, 0.1\n    \n    outs aTamb, aTamb\nendin\n\ninstr 3\n    ; Tambourine with fewer jingles (quieter)\n    kAmp linseg 1, p3, 0\n    \n    ; Only 16 jingles\n    aTamb tambourine kAmp*0.6, p3, 16, 0.15\n    \n    outs aTamb, aTamb\nendin\n\ninstr 4\n    ; Tambourine roll (continuous shaking)\n    ; Sustained shake with modulation\n    kAmp linseg 0, 0.05, 0.8, p3-0.15, 0.7, 0.1, 0\n    \n    ; Add tremolo for realistic roll\n    kTrem oscili 0.3, 12, -1, 0\n    kTrem = 0.7 + kTrem\n    \n    aTamb tambourine kAmp*kTrem*0.6, p3, 32, 0.08\n    \n    outs aTamb, aTamb\nendin\n\ninstr 5\n    ; Tambourine hit (single strike)\n    kAmp linseg 1, 0.02, 0.5, 0.1, 0.2, p3-0.12, 0\n    \n    ; More damping for hit\n    aTamb tambourine kAmp*0.7, p3, 32, 0.3\n    \n    outs aTamb, aTamb\nendin\n\ninstr 6\n    ; Tambourine with custom frequencies\n    kAmp linseg 1, p3, 0\n    \n    ; Specify resonant frequencies for different tone\n    aTamb tambourine kAmp*0.6, p3, 32, 0.1, 0, 2300, 5600, 8100\n    \n    outs aTamb, aTamb\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic tambourine\ni1 0 1\ni1 1.5 1\n\n; Play shake pattern\ni2 3.5 1.5\n\n; Play with fewer jingles\ni3 5.5 1\ni3 6.5 1\n\n; Play roll\ni4 8.5 2\n\n; Play hits\ni5 11.5 0.5\ni5 12 0.5\ni5 12.5 0.5\ni5 13 0.5\n\n; Play with custom frequencies\ni6 14.5 1.5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the cabasa opcode for physical model cabasa", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; cabasa opcode: ares cabasa kamp, idettack [, inum] [, idamp] [, imaxshake]\n    ; cabasa implements a physical model of a cabasa (beaded gourd)\n    ; kamp - amplitude\n    ; idettack - period of time over which all sound is stopped\n    ; inum - number of beads (default 512)\n    ; idamp - damping factor (0-1, default 0.1)\n    ; imaxshake - maximum shake energy (default 0)\n    \n    ; Amplitude envelope\n    kAmp linseg 1, p3, 0\n    \n    ; Basic cabasa\n    aCabasa cabasa kAmp*0.5, p3\n    \n    outs aCabasa, aCabasa\nendin\n\ninstr 2\n    ; Cabasa shake with dynamics\n    ; Crescendo shake\n    kAmp linseg 0.2, p3*0.5, 0.9, p3*0.5, 0.3\n    \n    aCabasa cabasa kAmp*0.5, p3, 512, 0.1\n    \n    outs aCabasa, aCabasa\nendin\n\ninstr 3\n    ; Cabasa with fewer beads (different texture)\n    kAmp linseg 1, p3, 0\n    \n    ; 256 beads for different sound\n    aCabasa cabasa kAmp*0.5, p3, 256, 0.15\n    \n    outs aCabasa, aCabasa\nendin\n\ninstr 4\n    ; Cabasa twist (back and forth motion)\n    ; Oscillating amplitude for twist effect\n    kAmp oscili 0.7, 4, -1, 0\n    kAmp = abs(kAmp) * linseg(1, p3, 0)\n    \n    aCabasa cabasa kAmp*0.5, p3, 512, 0.08\n    \n    outs aCabasa, aCabasa\nendin\n\ninstr 5\n    ; Fast cabasa roll\n    ; High frequency modulation\n    kAmp oscili 0.6, 15, -1, 0\n    kAmp = 0.4 + abs(kAmp)\n    kAmp = kAmp * linseg(1, p3, 0)\n    \n    aCabasa cabasa kAmp*0.5, p3, 512, 0.1\n    \n    outs aCabasa, aCabasa\nendin\n\ninstr 6\n    ; Cabasa with high damping (dry sound)\n    kAmp linseg 1, p3*0.2, 0.6, p3*0.8, 0\n    \n    ; High damping\n    aCabasa cabasa kAmp*0.5, p3, 512, 0.4\n    \n    outs aCabasa, aCabasa\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic cabasa\ni1 0 1.5\ni1 2 1.5\n\n; Play with dynamics\ni2 4.5 2\n\n; Play with fewer beads\ni3 7.5 1.5\n\n; Play twist\ni4 10 2\n\n; Play fast roll\ni5 13 1.5\n\n; Play dry cabasa\ni6 15.5 1\ni6 16.5 1\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the bamboo opcode for physical model bamboo chimes", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; bamboo opcode: ares bamboo kamp, idettack [, inum] [, idamp] [, imaxshake] [, ifreq] [, ifreq1] [, ifreq2]\n    ; bamboo implements a physical model of bamboo wind chimes\n    ; kamp - amplitude\n    ; idettack - period of time over which all sound is stopped\n    ; inum - number of tubes (default 1.25)\n    ; idamp - damping factor (default 0.0)\n    ; imaxshake - maximum shake energy (default 0)\n    ; ifreq, ifreq1, ifreq2 - resonant frequencies\n    \n    ; Amplitude envelope\n    kAmp linseg 1, p3, 0\n    \n    ; Basic bamboo\n    aBamboo bamboo kAmp*0.7, p3\n    \n    outs aBamboo, aBamboo\nendin\n\ninstr 2\n    ; Bamboo with gentle breeze effect\n    ; Random-like modulation\n    kRand randomi 0.3, 1, 3\n    kAmp = kRand * linseg(1, p3, 0.2)\n    \n    aBamboo bamboo kAmp*0.6, p3, 1.25, 0.0\n    \n    outs aBamboo, aBamboo\nendin\n\ninstr 3\n    ; Multiple bamboo tubes\n    kAmp linseg 1, p3, 0\n    \n    ; More tubes for denser sound\n    aBamboo bamboo kAmp*0.7, p3, 2.5, 0.05\n    \n    outs aBamboo, aBamboo\nendin\n\ninstr 4\n    ; Bamboo with custom tuning\n    kAmp linseg 1, p3, 0\n    \n    ; Specify frequencies for different pitches\n    aBamboo bamboo kAmp*0.7, p3, 1.25, 0.0, 0, 2800, 4200, 5600\n    \n    outs aBamboo, aBamboo\nendin\n\ninstr 5\n    ; Wind gust effect\n    ; Sudden burst then decay\n    kAmp linseg 0, 0.02, 1.2, 0.1, 0.7, p3-0.12, 0\n    \n    aBamboo bamboo kAmp*0.6, p3, 2.0, 0.02\n    \n    outs aBamboo, aBamboo\nendin\n\ninstr 6\n    ; Stereo bamboo field\n    kAmp linseg 1, p3, 0\n    \n    ; Left and right with different parameters\n    aBambooL bamboo kAmp*0.5, p3, 1.5, 0.0, 0, 2600, 4000, 5400\n    aBambooR bamboo kAmp*0.5, p3, 1.8, 0.0, 0, 2900, 4300, 5700\n    \n    outs aBambooL, aBambooR\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic bamboo\ni1 0 2\ni1 2.5 2\n\n; Play breeze effect\ni2 5.5 3\n\n; Play multiple tubes\ni3 9.5 2\n\n; Play custom tuning\ni4 12.5 2\ni4 14.5 2\n\n; Play wind gust\ni5 17.5 1.5\ni5 19 1.5\n\n; Play stereo field\ni6 21.5 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the dropwater opcode for physical model water drops", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; dripwater opcode: ares dripwater kamp, idettack [, inum] [, idamp] [, imaxshake] [, ifreq] [, ifreq1] [, ifreq2]\n    ; dripwater implements a physical model of water drops\n    ; kamp - amplitude\n    ; idettack - period of time over which all sound is stopped\n    ; inum - number of drops (default 10)\n    ; idamp - damping factor (default 0.0)\n    ; imaxshake - maximum shake energy (default 0)\n    ; ifreq, ifreq1, ifreq2 - resonant frequencies\n    \n    ; Amplitude envelope\n    kAmp linseg 1, p3, 0\n    \n    ; Single water drop\n    aDrop dripwater kAmp*0.8, p3\n    \n    outs aDrop, aDrop\nendin\n\ninstr 2\n    ; Gentle dripping pattern\n    ; Quick attack and decay\n    kAmp linseg 1, 0.01, 0.8, 0.05, 0.3, p3-0.06, 0\n    \n    aDrop dripwater kAmp*0.8, p3, 10, 0.0\n    \n    outs aDrop, aDrop\nendin\n\ninstr 3\n    ; Multiple drops (splash)\n    kAmp linseg 1, 0.02, 0.7, p3-0.02, 0\n    \n    ; More drops for splash effect\n    aDrop dripwater kAmp*0.8, p3, 30, 0.05\n    \n    outs aDrop, aDrop\nendin\n\ninstr 4\n    ; Water drops with different pitches\n    kAmp linseg 1, p3, 0\n    \n    ; Custom frequencies for different drop sizes\n    iFreq = p4\n    aDrop dripwater kAmp*0.8, p3, 10, 0.0, 0, iFreq, iFreq*1.5, iFreq*2.2\n    \n    outs aDrop, aDrop\nendin\n\ninstr 5\n    ; Rain effect (many drops)\n    ; Random amplitude variations\n    kAmp randomi 0.4, 1, 8\n    kAmp = kAmp * linseg(0, 0.1, 1, p3-0.2, 1, 0.1, 0)\n    \n    aDrop dripwater kAmp*0.5, p3, 50, 0.02\n    \n    outs aDrop, aDrop\nendin\n\ninstr 6\n    ; Stereo dripping (panned drops)\n    kAmp linseg 1, 0.01, 0.8, 0.05, 0.3, p3-0.06, 0\n    \n    ; Pan position from score\n    iPan = p4\n    \n    aDrop dripwater kAmp*0.8, p3, 10, 0.0\n    \n    aLeft = aDrop * sqrt(1 - iPan)\n    aRight = aDrop * sqrt(iPan)\n    \n    outs aLeft, aRight\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play single drops\ni1 0 0.5\ni1 1 0.5\ni1 2 0.5\n\n; Play gentle dripping\ni2 3.5 0.3\ni2 4 0.3\ni2 4.5 0.3\ni2 5 0.3\n\n; Play splash\ni3 6.5 0.8\ni3 7.5 0.8\n\n; Play different pitches\n; Format: start dur freq\ni4 9.5 0.5 1200\ni4 10 0.5 1600\ni4 10.5 0.5 2000\ni4 11 0.5 2400\n\n; Play rain effect\ni5 13 4\n\n; Play stereo dripping\n; Format: start dur pan (0=left, 1=right)\ni6 18 0.3 0.1\ni6 18.5 0.3 0.9\ni6 19 0.3 0.3\ni6 19.5 0.3 0.7\ni6 20 0.3 0.5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the crunch opcode for physical model crunchy sounds", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; crunch opcode: ares crunch kamp, idettack [, inum] [, idamp] [, imaxshake]\n    ; crunch implements a physical model of crunchy sounds (gravel, snow, etc.)\n    ; kamp - amplitude\n    ; idettack - period of time over which all sound is stopped\n    ; inum - number of particles (default 7)\n    ; idamp - damping factor (default 0.0)\n    ; imaxshake - maximum shake energy (default 0)\n    \n    ; Amplitude envelope\n    kAmp linseg 1, p3, 0\n    \n    ; Basic crunch\n    aCrunch crunch kAmp*0.6, p3\n    \n    outs aCrunch, aCrunch\nendin\n\ninstr 2\n    ; Footstep on gravel\n    ; Two-phase envelope (impact then release)\n    kAmp linseg 0, 0.01, 1, 0.05, 0.6, 0.1, 0.4, p3-0.16, 0\n    \n    aCrunch crunch kAmp*0.6, p3, 7, 0.0\n    \n    outs aCrunch, aCrunch\nendin\n\ninstr 3\n    ; Walking on snow\n    ; Denser particles\n    kAmp linseg 0, 0.02, 0.9, 0.1, 0.5, p3-0.12, 0\n    \n    ; More particles for snow\n    aCrunch crunch kAmp*0.6, p3, 15, 0.05\n    \n    outs aCrunch, aCrunch\nendin\n\ninstr 4\n    ; Crushing leaves\n    ; Variable intensity\n    kAmp oscili 0.4, 6, -1, 0\n    kAmp = 0.5 + abs(kAmp)\n    kAmp = kAmp * linseg(1, p3*0.8, 0.6, p3*0.2, 0)\n    \n    aCrunch crunch kAmp*0.6, p3, 12, 0.02\n    \n    outs aCrunch, aCrunch\nendin\n\ninstr 5\n    ; Eating crunchy food\n    ; Irregular pattern with modulation\n    kRand randomi 0.5, 1, 12\n    kAmp = kRand * linseg(1, p3, 0.3)\n    \n    aCrunch crunch kAmp*0.5, p3, 10, 0.03\n    \n    outs aCrunch, aCrunch\nendin\n\ninstr 6\n    ; Sparse crunch (fewer particles)\n    kAmp linseg 1, p3, 0\n    \n    ; Only 3 particles for sparse sound\n    aCrunch crunch kAmp*0.6, p3, 3, 0.1\n    \n    outs aCrunch, aCrunch\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic crunch\ni1 0 0.8\ni1 1.5 0.8\n\n; Play footsteps\ni2 3 0.6\ni2 3.7 0.6\ni2 4.4 0.6\ni2 5.1 0.6\n\n; Play walking on snow\ni3 6.5 0.8\ni3 7.5 0.8\ni3 8.5 0.8\n\n; Play crushing leaves\ni4 10.5 2\n\n; Play eating\ni5 13.5 2.5\n\n; Play sparse crunch\ni6 17 1\ni6 18 1\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the sandpaper opcode for physical model sandpaper scraping", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; sandpaper opcode: ares sandpaper kamp, idettack [, inum] [, idamp] [, imaxshake]\n    ; sandpaper implements a physical model of sandpaper scraping sound\n    ; kamp - amplitude\n    ; idettack - period of time over which all sound is stopped\n    ; inum - number of particles (default 128)\n    ; idamp - damping factor (default 0.0)\n    ; imaxshake - maximum shake energy (default 0)\n    \n    ; Amplitude envelope\n    kAmp linseg 1, p3, 0\n    \n    ; Basic sandpaper\n    aSand sandpaper kAmp*0.5, p3\n    \n    outs aSand, aSand\nendin\n\ninstr 2\n    ; Scraping motion (back and forth)\n    ; Oscillating amplitude\n    kAmp oscili 0.6, 2, -1, 0\n    kAmp = 0.4 + abs(kAmp)\n    kAmp = kAmp * linseg(1, p3, 0.5)\n    \n    aSand sandpaper kAmp*0.5, p3, 128, 0.0\n    \n    outs aSand, aSand\nendin\n\ninstr 3\n    ; Fine sandpaper (more particles)\n    kAmp linseg 1, p3, 0\n    \n    ; Higher particle count for finer texture\n    aSand sandpaper kAmp*0.5, p3, 256, 0.02\n    \n    outs aSand, aSand\nendin\n\ninstr 4\n    ; Coarse sandpaper (fewer particles)\n    kAmp linseg 1, p3, 0\n    \n    ; Lower particle count for coarser texture\n    aSand sandpaper kAmp*0.5, p3, 64, 0.0\n    \n    outs aSand, aSand\nendin\n\ninstr 5\n    ; Vigorous scrubbing\n    ; Fast modulation with varying intensity\n    kAmp oscili 0.5, 8, -1, 0\n    kAmp = 0.5 + abs(kAmp)\n    kAmp = kAmp * linseg(0.5, p3*0.3, 1, p3*0.7, 0.3)\n    \n    aSand sandpaper kAmp*0.5, p3, 128, 0.01\n    \n    outs aSand, aSand\nendin\n\ninstr 6\n    ; Gentle sanding\n    ; Smooth, controlled motion\n    kAmp linseg 0.3, p3*0.2, 0.6, p3*0.6, 0.5, p3*0.2, 0.2\n    \n    ; Some damping for smoother sound\n    aSand sandpaper kAmp*0.5, p3, 128, 0.08\n    \n    outs aSand, aSand\nendin\n\ninstr 7\n    ; Rhythmic sanding pattern\n    ; Pulsed scraping\n    kPulse lfo 1, 4, 1  ; Square wave\n    kAmp = (kPulse > 0 ? 0.8 : 0.2)\n    kAmp = kAmp * linseg(1, p3, 0.5)\n    \n    aSand sandpaper kAmp*0.5, p3, 128, 0.0\n    \n    outs aSand, aSand\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic sandpaper\ni1 0 1.5\ni1 2 1.5\n\n; Play scraping motion\ni2 4.5 2\n\n; Play fine sandpaper\ni3 7.5 1.5\n\n; Play coarse sandpaper\ni4 9.5 1.5\n\n; Play vigorous scrubbing\ni5 12 2\n\n; Play gentle sanding\ni6 15 2.5\n\n; Play rhythmic pattern\ni7 18.5 2\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates advanced percussion combinations and rhythmic patterns", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; Latin percussion ensemble\n    kAmp linseg 1, p3, 0\n    \n    ; Tambourine on beats\n    aTamb tambourine kAmp*0.4, p3, 32, 0.1\n    \n    ; Cabasa with slight delay\n    kCabasaAmp linseg 0, 0.1, 1, p3-0.1, 0\n    aCabasa cabasa kCabasaAmp*0.3, p3, 256, 0.15\n    \n    ; Mix\n    aMix = aTamb + aCabasa\n    \n    outs aMix*0.7, aMix*0.7\nendin\n\ninstr 2\n    ; Ambient soundscape\n    kAmp linseg 0, p3*0.1, 1, p3*0.8, 1, p3*0.1, 0\n    \n    ; Bamboo wind chimes\n    kBambooAmp randomi 0.3, 0.8, 2\n    aBamboo bamboo kBambooAmp*kAmp*0.3, p3, 2.0, 0.01, 0, 2600, 4100, 5500\n    \n    ; Water drops (sparse)\n    kDropAmp random 0, 1\n    kDropTrig metro 1.5\n    kDropAmp = (kDropTrig > 0 ? kDropAmp : 0)\n    aDrop dripwater kDropAmp*kAmp*0.4, p3, 8, 0.0, 0, 1800, 2700, 3600\n    \n    ; Mix with stereo spread\n    aLeft = aBamboo*0.7 + aDrop*0.3\n    aRight = aBamboo*0.3 + aDrop*0.7\n    \n    outs aLeft, aRight\nendin\n\ninstr 3\n    ; Walking through forest\n    ; Footsteps with environmental sounds\n    kTime timeinsts\n    kStep = int(kTime * 2) % 2  ; Alternating steps\n    \n    ; Footstep crunch\n    kCrunchAmp linseg 0, 0.02, 1, 0.08, 0.5, p3-0.1, 0\n    aCrunch crunch kCrunchAmp*0.5, p3, 10, 0.02\n    \n    ; Rustling leaves (sandpaper)\n    kRustleAmp randomi 0.2, 0.5, 5\n    aSand sandpaper kRustleAmp*0.3, p3, 64, 0.05\n    \n    ; Mix\n    aMix = aCrunch*0.6 + aSand*0.4\n    \n    ; Pan based on step\n    iPan = (kStep == 0 ? 0.3 : 0.7)\n    aLeft = aMix * sqrt(1 - iPan)\n    aRight = aMix * sqrt(iPan)\n    \n    outs aLeft, aRight\nendin\n\ninstr 4\n    ; Rainstorm scene\n    kIntensity linseg 0.3, p3*0.2, 0.9, p3*0.6, 0.9, p3*0.2, 0.4\n    \n    ; Rain (water drops)\n    kRainAmp randomi 0.4, 1, 12\n    aRain dripwater kRainAmp*kIntensity*0.4, p3, 60, 0.03\n    \n    ; Wind (bamboo)\n    kWindAmp randomi 0.3, 0.8, 1.5\n    aWind bamboo kWindAmp*kIntensity*0.35, p3, 2.5, 0.02\n    \n    ; Thunder rumble (low sandpaper)\n    kThunderAmp randomi 0, 0.6, 0.3\n    aThunder sandpaper kThunderAmp*kIntensity*0.25, p3, 512, 0.1\n    aThunder tone aThunder, 200\n    \n    ; Mix\n    aMix = aRain + aWind + aThunder\n    \n    ; Stereo spread\n    aLeft = aMix + (aWind*0.3)\n    aRight = aMix + (aRain*0.3)\n    \n    outs aLeft*0.6, aRight*0.6\nendin\n\ninstr 5\n    ; Samba rhythm pattern\n    kTime timeinsts\n    kBeat = int(kTime * 4) % 4\n    \n    ; Tambourine on all beats\n    kTambAmp = (kBeat >= 0 ? 1 : 0.3)\n    kTambAmp = kTambAmp * linseg(0, 0.01, 1, 0.1, 0.3, p3-0.11, 0)\n    aTamb tambourine kTambAmp*0.4, p3, 32, 0.12\n    \n    ; Cabasa accent on beats 2 and 4\n    kCabasaAmp = ((kBeat == 1 || kBeat == 3) ? 0.8 : 0.2)\n    kCabasaAmp = kCabasaAmp * linseg(0, 0.01, 1, p3-0.01, 0)\n    aCabasa cabasa kCabasaAmp*0.35, p3, 256, 0.1\n    \n    ; Mix\n    aMix = aTamb + aCabasa\n    \n    outs aMix*0.7, aMix*0.7\nendin\n\ninstr 6\n    ; Construction site sounds\n    ; Sanding, scraping, crunching\n    kAmp linseg 0.5, p3, 0.3\n    \n    ; Power sander\n    kSandAmp oscili 0.3, 10, -1, 0\n    kSandAmp = 0.5 + abs(kSandAmp)\n    aSand sandpaper kSandAmp*kAmp*0.4, p3, 256, 0.05\n    \n    ; Gravel/debris\n    kCrunchAmp randomi 0.3, 0.7, 6\n    aCrunch crunch kCrunchAmp*kAmp*0.35, p3, 15, 0.03\n    \n    ; Scraping metal\n    kScrapeTrem oscili 0.4, 3, -1, 0\n    kScrapeAmp = 0.4 + abs(kScrapeTrem)\n    aScrape sandpaper kScrapeAmp*kAmp*0.3, p3, 128, 0.0\n    \n    ; Mix\n    aMix = aSand + aCrunch*0.8 + aScrape*0.6\n    \n    outs aMix*0.6, aMix*0.6\nendin\n\ninstr 7\n    ; Zen garden meditation\n    kAmp linseg 0, p3*0.15, 1, p3*0.7, 1, p3*0.15, 0\n    \n    ; Bamboo fountain\n    kBambooTrig metro 0.5\n    kBambooAmp = (kBambooTrig > 0 ? 1 : 0)\n    kBambooAmp = kBambooAmp * linseg(0, 0.02, 1, 0.3, 0, p3-0.32, 0)\n    aBamboo bamboo kBambooAmp*kAmp*0.35, p3, 1.5, 0.0, 0, 2400, 3800, 5200\n    \n    ; Trickling water\n    kWaterAmp randomi 0.5, 1, 2\n    aWater dripwater kWaterAmp*kAmp*0.3, p3, 15, 0.0, 0, 1600, 2400, 3200\n    \n    ; Raked sand (soft)\n    kSandAmp linseg 0, p3*0.3, 0.3, p3*0.4, 0.3, p3*0.3, 0\n    aSand sandpaper kSandAmp*kAmp*0.25, p3, 128, 0.15\n    \n    ; Mix with reverb\n    aMix = aBamboo + aWater + aSand\n    aRvbL, aRvbR freeverb aMix, aMix, 0.8, 0.5\n    \n    outs aRvbL*0.5, aRvbR*0.5\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play latin percussion\ni1 0 2\ni1 2.5 2\n\n; Play ambient soundscape\ni2 5.5 6\n\n; Play forest walk\ni3 12.5 1\ni3 14 1\ni3 15.5 1\ni3 17 1\n\n; Play rainstorm\ni4 19 8\n\n; Play samba rhythm\ni5 28 2\ni5 30 2\n\n; Play construction\ni6 33 4\n\n; Play zen garden\ni7 38 10\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the pluck opcode for Karplus-Strong plucked string synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; pluck opcode: ares pluck kamp, kcps, icps, ifn, imethod [, iparm1] [, iparm2]\n    ; pluck implements the Karplus-Strong plucked string algorithm\n    ; kamp - amplitude\n    ; kcps - pitch in Hz (can vary during note)\n    ; icps - pitch at initialization (sets delay line length)\n    ; ifn - table for initial excitation (0 = noise)\n    ; imethod - method of natural decay:\n    ;           1 = simple averaging\n    ;           2 = stretched averaging\n    ;           3 = simple drum\n    ;           4 = stretched drum\n    ;           5 = weighted averaging\n    ;           6 = 1st order recursive filter\n    ; iparm1, iparm2 - method-dependent parameters\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.001, 0.5, p3-0.001, 0\n    \n    ; Pitch from score\n    iFreq = p4\n    \n    ; Simple plucked string\n    aPluck pluck kAmp, iFreq, iFreq, 0, 1\n    \n    outs aPluck, aPluck\nendin\n\ninstr 2\n    ; Guitar-like plucked string with stretched averaging\n    kAmp linseg 0, 0.001, 0.4, p3-0.001, 0\n    \n    iFreq = p4\n    \n    ; Method 2: stretched averaging for more realistic decay\n    aPluck pluck kAmp, iFreq, iFreq, 0, 2, 0.5\n    \n    outs aPluck, aPluck\nendin\n\ninstr 3\n    ; Bass string with longer decay\n    kAmp linseg 0, 0.001, 0.5, p3-0.001, 0\n    \n    iFreq = p4\n    \n    ; Method 6: recursive filter for longer sustain\n    aPluck pluck kAmp, iFreq, iFreq, 0, 6, 0.9\n    \n    outs aPluck, aPluck\nendin\n\ninstr 4\n    ; Drum-like sound\n    kAmp linseg 0, 0.001, 0.6, p3-0.001, 0\n    \n    iFreq = p4\n    \n    ; Method 3: simple drum mode\n    aPluck pluck kAmp, iFreq, iFreq, 0, 3\n    \n    outs aPluck, aPluck\nendin\n\ninstr 5\n    ; Pitch bend on plucked string\n    kAmp linseg 0, 0.001, 0.4, p3-0.001, 0\n    \n    iFreq = p4\n    \n    ; Pitch bends down\n    kPitch linseg iFreq, p3, iFreq*0.8\n    \n    aPluck pluck kAmp, kPitch, iFreq, 0, 2, 0.5\n    \n    outs aPluck, aPluck\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play simple pluck\ni1 0 2 440\ni1 1 2 330\ni1 2 2 220\n\n; Play guitar-like\ni2 4.5 2 330\ni2 5.5 2 392\ni2 6.5 2 523\n\n; Play bass\ni3 9 3 110\ni3 10 3 165\n\n; Play drum-like\ni4 13.5 1 200\ni4 14.5 1 150\ni4 15.5 1 100\n\n; Play pitch bend\ni5 18 2 440\ni5 19 2 330\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the wgpluck opcode for waveguide plucked string synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; wgpluck opcode: ares wgpluck icps, iamp, kpick, iplk, idamp, ifilt, axcite\n    ; wgpluck is a more sophisticated waveguide plucked string model\n    ; icps - pitch in Hz\n    ; iamp - amplitude\n    ; kpick - pick position (0-1, 0.5 = center)\n    ; iplk - initial pluck position (0-1)\n    ; idamp - damping factor (0-1, higher = longer decay)\n    ; ifilt - filter cutoff factor (0-1, higher = brighter)\n    ; axcite - audio rate excitation signal\n    \n    ; Amplitude envelope for excitation\n    kAmp linseg 0, 0.001, 0.5, p3-0.001, 0\n    \n    ; Noise burst excitation\n    aExcite noise kAmp, 0\n    aExcite = aExcite * (1 - linseg(0, 0.01, 1, 0.001, 1))\n    \n    iFreq = p4\n    iAmp = 0.8\n    kPick = 0.1     ; Pick near bridge\n    iPlk = 0.5      ; Pluck at center\n    iDamp = 0.85    ; Good sustain\n    iFilt = 0.7     ; Moderate brightness\n    \n    aPluck wgpluck iFreq, iAmp, kPick, iPlk, iDamp, iFilt, aExcite\n    \n    outs aPluck*kAmp, aPluck*kAmp\nendin\n\ninstr 2\n    ; Guitar with different pick positions\n    kAmp linseg 0, 0.001, 0.4, p3-0.001, 0\n    \n    ; Impulse excitation\n    aExcite mpulse kAmp*0.5, 0\n    \n    iFreq = p4\n    iAmp = 0.8\n    kPick = p5      ; Pick position from score\n    iPlk = 0.5\n    iDamp = 0.9\n    iFilt = 0.8\n    \n    aPluck wgpluck iFreq, iAmp, kPick, iPlk, iDamp, iFilt, aExcite\n    \n    outs aPluck*kAmp, aPluck*kAmp\nendin\n\ninstr 3\n    ; Dark, muted string\n    kAmp linseg 0, 0.001, 0.35, p3-0.001, 0\n    \n    ; Filtered noise excitation\n    aNoise noise kAmp*0.4, 0\n    aExcite tone aNoise, 1000\n    aExcite = aExcite * (1 - linseg(0, 0.015, 1, 0.001, 1))\n    \n    iFreq = p4\n    iAmp = 0.8\n    kPick = 0.5\n    iPlk = 0.3\n    iDamp = 0.7     ; Shorter decay\n    iFilt = 0.3     ; Dark tone\n    \n    aPluck wgpluck iFreq, iAmp, kPick, iPlk, iDamp, iFilt, aExcite\n    \n    outs aPluck*kAmp, aPluck*kAmp\nendin\n\ninstr 4\n    ; Bright, sustained string\n    kAmp linseg 0, 0.001, 0.4, p3-0.001, 0\n    \n    ; Short impulse\n    aExcite mpulse kAmp*0.6, 0\n    \n    iFreq = p4\n    iAmp = 0.8\n    kPick = 0.05    ; Very close to bridge\n    iPlk = 0.7\n    iDamp = 0.95    ; Long decay\n    iFilt = 0.95    ; Very bright\n    \n    aPluck wgpluck iFreq, iAmp, kPick, iPlk, iDamp, iFilt, aExcite\n    \n    outs aPluck*kAmp, aPluck*kAmp\nendin\n\ninstr 5\n    ; Continuously excited string (bowed-like)\n    kAmp madsr 0.1, 0.2, 0.6, 0.3\n    \n    ; Continuous noise excitation\n    aExcite noise kAmp*0.05, 0\n    \n    iFreq = p4\n    iAmp = 0.8\n    kPick = 0.1\n    iPlk = 0.5\n    iDamp = 0.98\n    iFilt = 0.7\n    \n    aPluck wgpluck iFreq, iAmp, kPick, iPlk, iDamp, iFilt, aExcite\n    \n    outs aPluck*kAmp*0.5, aPluck*kAmp*0.5\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic wgpluck\ni1 0 2 440\ni1 1 2 330\ni1 2 2 220\n\n; Play different pick positions\n; Format: start dur freq pick_position\ni2 4.5 2 330 0.1   ; Near bridge\ni2 5.5 2 330 0.5   ; Center\ni2 6.5 2 330 0.9   ; Near neck\n\n; Play dark strings\ni3 9 2 220\ni3 10 2 165\n\n; Play bright strings\ni4 12.5 3 523\ni4 14 3 440\n\n; Play bowed-like\ni5 17 4 220\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the wgpluck2 opcode for enhanced waveguide plucked strings", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; wgpluck2 opcode: ares wgpluck2 iplk, kamp, icps, kpick, krefl\n    ; wgpluck2 is similar to wgpluck but with different control parameters\n    ; iplk - initial pluck position (0-0.999)\n    ; kamp - amplitude\n    ; icps - pitch in Hz\n    ; kpick - pick position (0-1)\n    ; krefl - reflection coefficient (-1 to 1, controls damping)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.001, 0.4, p3-0.001, 0\n    \n    iPlk = 0.5      ; Pluck at center\n    iFreq = p4\n    kPick = 0.1     ; Pick position\n    kRefl = 0.5     ; Reflection coefficient\n    \n    aPluck wgpluck2 iPlk, kAmp, iFreq, kPick, kRefl\n    \n    outs aPluck, aPluck\nendin\n\ninstr 2\n    ; Variable reflection for dynamic damping\n    kAmp linseg 0, 0.001, 0.35, p3-0.001, 0\n    \n    iPlk = 0.5\n    iFreq = p4\n    kPick = 0.15\n    \n    ; Reflection changes (damping increases)\n    kRefl linseg 0.9, p3, 0.2\n    \n    aPluck wgpluck2 iPlk, kAmp, iFreq, kPick, kRefl\n    \n    outs aPluck, aPluck\nendin\n\ninstr 3\n    ; High reflection for longer sustain\n    kAmp linseg 0, 0.001, 0.4, p3-0.001, 0\n    \n    iPlk = 0.7\n    iFreq = p4\n    kPick = 0.05\n    kRefl = 0.95    ; Very high reflection = long sustain\n    \n    aPluck wgpluck2 iPlk, kAmp, iFreq, kPick, kRefl\n    \n    outs aPluck, aPluck\nendin\n\ninstr 4\n    ; Low reflection for short, percussive sound\n    kAmp linseg 0, 0.001, 0.5, p3-0.001, 0\n    \n    iPlk = 0.3\n    iFreq = p4\n    kPick = 0.2\n    kRefl = 0.2     ; Low reflection = quick decay\n    \n    aPluck wgpluck2 iPlk, kAmp, iFreq, kPick, kRefl\n    \n    outs aPluck, aPluck\nendin\n\ninstr 5\n    ; Modulated pick position\n    kAmp linseg 0, 0.001, 0.35, p3-0.001, 0\n    \n    iPlk = 0.5\n    iFreq = p4\n    \n    ; LFO modulates pick position\n    kLFO oscili 0.3, 2, giSine\n    kPick = 0.4 + kLFO\n    \n    kRefl = 0.8\n    \n    aPluck wgpluck2 iPlk, kAmp, iFreq, kPick, kRefl\n    \n    outs aPluck, aPluck\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic wgpluck2\ni1 0 2 440\ni1 1 2 330\ni1 2 2 220\n\n; Play variable damping\ni2 4.5 3 330\ni2 5.5 3 220\n\n; Play long sustain\ni3 9 4 523\ni3 10.5 4 440\n\n; Play percussive\ni4 15 1 330\ni4 16 1 440\ni4 17 1 550\n\n; Play modulated\ni5 19 4 220\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the repluck opcode for re-excitation of plucked strings", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; repluck opcode: ares repluck iplk, kamp, icps, kpick, krefl, axcite\n    ; repluck allows continuous re-excitation of a plucked string\n    ; iplk - initial pluck position (0-0.999)\n    ; kamp - amplitude\n    ; icps - pitch in Hz\n    ; kpick - pick position (0-1)\n    ; krefl - reflection coefficient\n    ; axcite - audio rate excitation signal (for re-plucking)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.001, 0.4, p3-0.001, 0\n    \n    ; Initial impulse\n    aExcite mpulse kAmp*0.5, 0\n    \n    iPlk = 0.5\n    iFreq = p4\n    kPick = 0.1\n    kRefl = 0.85\n    \n    aPluck repluck iPlk, kAmp, iFreq, kPick, kRefl, aExcite\n    \n    outs aPluck, aPluck\nendin\n\ninstr 2\n    ; Re-pluck with multiple excitations\n    kAmp linseg 0, 0.001, 0.35, p3-0.001, 0\n    \n    ; Multiple impulses (strumming effect)\n    aExcite mpulse kAmp*0.4, 4\n    \n    iPlk = 0.5\n    iFreq = p4\n    kPick = 0.15\n    kRefl = 0.9\n    \n    aPluck repluck iPlk, kAmp, iFreq, kPick, kRefl, aExcite\n    \n    outs aPluck, aPluck\nendin\n\ninstr 3\n    ; Tremolo effect with noise excitation\n    kAmp linseg 0, 0.001, 0.3, p3-0.001, 0\n    \n    ; LFO-modulated noise for tremolo\n    kTrem oscili 0.8, 8, giSine\n    kTrem = 0.2 + kTrem\n    aNoise noise kAmp*0.05*kTrem, 0\n    \n    iPlk = 0.5\n    iFreq = p4\n    kPick = 0.1\n    kRefl = 0.92\n    \n    aPluck repluck iPlk, kAmp, iFreq, kPick, kRefl, aNoise\n    \n    outs aPluck*0.8, aPluck*0.8\nendin\n\ninstr 4\n    ; Bowed string simulation\n    kAmp madsr 0.1, 0.2, 0.6, 0.3\n    \n    ; Continuous low-level noise (bow friction)\n    aNoise noise kAmp*0.02, 0\n    \n    iPlk = 0.3\n    iFreq = p4\n    kPick = 0.05\n    kRefl = 0.98    ; Very high reflection for sustained tone\n    \n    aPluck repluck iPlk, kAmp, iFreq, kPick, kRefl, aNoise\n    \n    outs aPluck*0.5, aPluck*0.5\nendin\n\ninstr 5\n    ; Rhythmic re-plucking\n    kAmp linseg 0, 0.001, 0.35, p3-0.001, 0\n    \n    ; Rhythmic pulses\n    kPulseRate = 8  ; 8 Hz\n    aPulse mpulse kAmp*0.3, kPulseRate\n    \n    iPlk = 0.5\n    iFreq = p4\n    kPick = 0.2\n    kRefl = 0.75\n    \n    aPluck repluck iPlk, kAmp, iFreq, kPick, kRefl, aPulse\n    \n    outs aPluck, aPluck\nendin\n\ninstr 6\n    ; Distorted string with audio excitation\n    kAmp linseg 0, 0.001, 0.3, p3-0.001, 0\n    \n    ; Distorted excitation signal\n    aSaw vco2 kAmp*0.1, p4*0.5, 0\n    aExcite tanh aSaw*3\n    \n    iPlk = 0.5\n    iFreq = p4\n    kPick = 0.1\n    kRefl = 0.85\n    \n    aPluck repluck iPlk, kAmp, iFreq, kPick, kRefl, aExcite\n    \n    outs aPluck*0.6, aPluck*0.6\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic repluck\ni1 0 3 440\ni1 1 3 330\n\n; Play strumming\ni2 5 2 220\ni2 6 2 165\n\n; Play tremolo\ni3 9 4 330\n\n; Play bowed\ni4 14 4 220\ni4 15 4 330\n\n; Play rhythmic\ni5 20 3 440\n\n; Play distorted\ni6 24 3 165\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates advanced plucked string techniques", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; Multi-string guitar simulation\n    kAmp linseg 0, 0.001, 0.25, p3-0.001, 0\n    \n    ; Excitation\n    aNoise noise kAmp*0.5, 0\n    aExcite = aNoise * (1 - linseg(0, 0.015, 1, 0.001, 1))\n    \n    ; Six strings with different parameters\n    iFreq1 = 82.4   ; E2\n    iFreq2 = 110    ; A2\n    iFreq3 = 147    ; D3\n    iFreq4 = 196    ; G3\n    iFreq5 = 247    ; B3\n    iFreq6 = 330    ; E4\n    \n    ; Generate strings with slightly different characteristics\n    aStr1 wgpluck iFreq1, 0.8, 0.1, 0.5, 0.88, 0.65, aExcite\n    aStr2 wgpluck iFreq2, 0.8, 0.12, 0.5, 0.89, 0.68, aExcite\n    aStr3 wgpluck iFreq3, 0.8, 0.11, 0.5, 0.90, 0.70, aExcite\n    aStr4 wgpluck iFreq4, 0.8, 0.13, 0.5, 0.91, 0.72, aExcite\n    aStr5 wgpluck iFreq5, 0.8, 0.10, 0.5, 0.92, 0.75, aExcite\n    aStr6 wgpluck iFreq6, 0.8, 0.09, 0.5, 0.93, 0.78, aExcite\n    \n    ; Mix with stereo spread\n    aLeft = (aStr1 + aStr2 + aStr3) * 0.4\n    aRight = (aStr4 + aStr5 + aStr6) * 0.4\n    \n    outs aLeft*kAmp*2, aRight*kAmp*2\nendin\n\ninstr 2\n    ; Harmonics (flageolet technique)\n    kAmp linseg 0, 0.001, 0.3, p3-0.001, 0\n    \n    iFreq = p4\n    \n    ; Fundamental\n    aFund pluck kAmp*0.3, iFreq, iFreq, 0, 1\n    \n    ; Harmonics (2x, 3x, 4x frequency)\n    aHarm2 pluck kAmp*0.2, iFreq*2, iFreq*2, 0, 1\n    aHarm3 pluck kAmp*0.15, iFreq*3, iFreq*3, 0, 1\n    aHarm4 pluck kAmp*0.1, iFreq*4, iFreq*4, 0, 1\n    \n    aMix = aFund + aHarm2 + aHarm3 + aHarm4\n    \n    outs aMix*0.7, aMix*0.7\nendin\n\ninstr 3\n    ; Prepared string with resonance\n    kAmp linseg 0, 0.001, 0.3, p3-0.001, 0\n    \n    ; Primary string\n    iFreq = p4\n    aPluck pluck kAmp*0.4, iFreq, iFreq, 0, 6, 0.9\n    \n    ; Sympathetic resonance strings\n    aSymp1 pluck kAmp*0.1, iFreq*1.5, iFreq*1.5, 0, 6, 0.85\n    aSymp2 pluck kAmp*0.08, iFreq*2, iFreq*2, 0, 6, 0.85\n    \n    ; Add resonance with comb filters\n    aComb1 comb aPluck, 2.0, 1/iFreq\n    aComb2 comb aPluck, 1.5, 1/(iFreq*1.5)\n    \n    aMix = aPluck*0.6 + aSymp1 + aSymp2 + aComb1*0.2 + aComb2*0.1\n    \n    outs aMix, aMix\nendin\n\ninstr 4\n    ; Slide guitar effect\n    kAmp linseg 0, 0.001, 0.35, p3-0.001, 0\n    \n    ; Slide from one pitch to another\n    iStart = p4\n    iEnd = p5\n    kPitch expseg iStart, p3, iEnd\n    \n    ; Continuous excitation for slide\n    aNoise noise kAmp*0.05, 0\n    \n    aSlide repluck 0.5, kAmp, kPitch, 0.08, 0.92, aNoise\n    \n    ; Add some vibrato\n    kVib oscili 0.01, 5, giSine\n    kVib = 1 + kVib\n    \n    outs aSlide*kVib, aSlide*kVib\nendin\n\ninstr 5\n    ; Palm muting simulation\n    kAmp linseg 0, 0.001, 0.4, p3-0.001, 0\n    \n    ; Muted excitation\n    aNoise noise kAmp*0.4, 0\n    aExcite tone aNoise, 800  ; Filter for muted sound\n    aExcite = aExcite * (1 - linseg(0, 0.01, 1, 0.001, 1))\n    \n    iFreq = p4\n    \n    ; Short decay for palm mute\n    aPluck wgpluck iFreq, 0.8, 0.5, 0.5, 0.4, 0.3, aExcite\n    \n    outs aPluck*kAmp, aPluck*kAmp\nendin\n\ninstr 6\n    ; Harp glissando\n    kAmp linseg 0, 0.001, 0.2, p3-0.001, 0\n    \n    ; Staggered plucks\n    iFreq = p4\n    iDelay = p5  ; Delay from previous note\n    \n    ; Delayed excitation\n    aExcite mpulse kAmp*0.5, 0\n    aExcite delay aExcite, iDelay\n    \n    aPluck wgpluck iFreq, 0.8, 0.1, 0.5, 0.95, 0.85, aExcite\n    \n    ; Stereo placement\n    iPan = (iFreq - 220) / 880  ; Pan based on pitch\n    iPan limit iPan, 0, 1\n    \n    aLeft = aPluck * sqrt(1 - iPan)\n    aRight = aPluck * sqrt(iPan)\n    \n    outs aLeft, aRight\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play guitar chord\ni1 0 3\n\n; Play harmonics\ni2 4 2 330\ni2 5 2 440\n\n; Play prepared string\ni3 7.5 3 220\n\n; Play slide guitar\n; Format: start dur start_freq end_freq\ni4 11 2 220 330\ni4 13 2 165 220\n\n; Play palm muted notes\ni5 16 0.5 220\ni5 16.5 0.5 220\ni5 17 0.5 165\ni5 17.5 0.5 165\ni5 18 0.5 220\n\n; Play harp glissando\n; Format: start dur freq delay\ni6 20 3 262 0\ni6 20 3 330 0.05\ni6 20 3 392 0.10\ni6 20 3 523 0.15\ni6 20 3 659 0.20\ni6 20 3 784 0.25\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates ATS resynthesis opcodes", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSine ftgen 1, 0, 16384, 10, 1\n\n; Note: ATS opcodes work with ATS analysis files\n; These examples show the basic usage patterns\n\ninstr 1\n    ; atsadd opcode: ar atsadd ktimepnt, kfmod, iatsfile, ifn, ipartials [, ipartialoffset, ipartialincr, igatefn]\n    ; atsadd performs additive resynthesis from ATS file\n    ; ktimepnt - time pointer in analysis\n    ; kfmod - frequency multiplier\n    ; iatsfile - ATS file handle\n    ; ifn - sine wave table\n    ; ipartials - number of partials\n    \n    iAmp = 0.5\n    kTime line 0, p3, p3\n    kFreqMod = 1\n    iATSfile = 1  ; Would reference actual ATS file\n    iPartials = 30\n    \n    ; Additive resynthesis\n    ; aOut atsadd kTime, kFreqMod, iATSfile, giSine, iPartials\n    \n    ; Placeholder for demonstration\n    aOut poscil iAmp, 440, giSine\n    \n    outs aOut*0.5, aOut*0.5\nendin\n\ninstr 2\n    ; atsaddnz opcode: ar atsaddnz ktimepnt, iatsfile, ibands [, ibandoffset, ibandincr]\n    ; atsaddnz adds noise bands from ATS analysis\n    ; ktimepnt - time pointer\n    ; iatsfile - ATS file\n    ; ibands - number of noise bands\n    \n    kTime line 0, p3, p3\n    iATSfile = 1\n    iBands = 25\n    \n    ; Noise component resynthesis\n    ; aOut atsaddnz kTime, iATSfile, iBands\n    \n    ; Placeholder\n    aOut noise 0.3, 0\n    aOut butterlp aOut, 2000\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; atscross opcode: ar atscross ktimepnt, kfmod, iatsfile, ifn, kmylev, kbuflev, ipartials [, ipartialoffset, ipartialincr]\n    ; atscross performs cross-synthesis\n    ; kmylev - level of synthesis\n    ; kbuflev - level of buffer\n    \n    kTime line 0, p3, p3\n    kFreqMod = 1\n    iATSfile = 1\n    iPartials = 30\n    kSynthLev = 0.7\n    kBufLev = 0.3\n    \n    ; Cross-synthesis\n    ; aOut atscross kTime, kFreqMod, iATSfile, giSine, kSynthLev, kBufLev, iPartials\n    \n    ; Placeholder\n    aOut poscil 0.4, 440, giSine\n    \n    outs aOut, aOut\nendin\n\ninstr 4\n    ; atssinnoi opcode: ar atssinnoi ktimepnt, ksinlev, knzlev, kfmod, iatsfile, ifn, ipartials [, ipartialoffset, ipartialincr]\n    ; atssinnoi combines deterministic and stochastic components\n    ; ksinlev - sine level\n    ; knzlev - noise level\n    \n    kTime line 0, p3, p3\n    kSineLev = 0.7\n    kNoiseLev = 0.3\n    kFreqMod = 1\n    iATSfile = 1\n    iPartials = 30\n    \n    ; Combined resynthesis\n    ; aOut atssinnoi kTime, kSineLev, kNoiseLev, kFreqMod, iATSfile, giSine, iPartials\n    \n    ; Placeholder\n    aSine poscil 0.35, 440, giSine\n    aNoise noise 0.15, 0\n    aNoise butterlp aNoise, 2000\n    aOut = aSine + aNoise\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play additive resynthesis\ni1 0 3\n\n; Play noise resynthesis\ni2 4 3\n\n; Play cross-synthesis\ni3 8 3\n\n; Play combined resynthesis\ni4 12 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates VCO pulse generators", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; vco opcode: ares vco xamp, xcps, iwave, kpw [, ifn] [, imaxd] [, ileak] [, inyx] [, iphs] [, iskip]\n    ; vco generates voltage-controlled oscillator waveforms\n    ; xamp - amplitude\n    ; xcps - frequency\n    ; iwave - waveform type (1=saw, 2=square/PWM, 3=saw+square)\n    ; kpw - pulse width (for square wave)\n    \n    iAmp = 0.4\n    iFreq = p4\n    iWave = 1  ; Sawtooth\n    kPW = 0.5\n    \n    aVCO vco iAmp, iFreq, iWave, kPW\n    \n    outs aVCO, aVCO\nendin\n\ninstr 2\n    ; Square wave with PWM\n    iAmp = 0.4\n    iFreq = p4\n    iWave = 2  ; Square wave\n    \n    ; Pulse width modulation\n    kPW lfo 0.4, 0.5, 0\n    kPW = 0.5 + kPW\n    \n    aVCO vco iAmp, iFreq, iWave, kPW\n    \n    outs aVCO, aVCO\nendin\n\ninstr 3\n    ; vco2 opcode: ares vco2 kamp, kcps [, imode] [, kpw] [, kphs] [, inyx]\n    ; vco2 is improved VCO with more waveforms\n    ; imode - waveform (0=saw, 2=square, 4=triangle, 10=PWM, 12=user waveform)\n    ; kpw - pulse width\n    \n    iAmp = 0.4\n    iFreq = p4\n    iMode = 0  ; Sawtooth\n    kPW = 0.5\n    \n    aVCO vco2 iAmp, iFreq, iMode, kPW\n    \n    outs aVCO, aVCO\nendin\n\ninstr 4\n    ; vco2 triangle wave\n    iAmp = 0.5\n    iFreq = p4\n    iMode = 4  ; Triangle\n    \n    aVCO vco2 iAmp, iFreq, iMode\n    \n    outs aVCO, aVCO\nendin\n\ninstr 5\n    ; vco2 PWM square\n    iAmp = 0.4\n    iFreq = p4\n    iMode = 10  ; PWM mode\n    \n    ; Modulating pulse width\n    kPW lfo 0.45, 0.3, 0\n    kPW = 0.5 + kPW\n    kPW limit kPW, 0.05, 0.95\n    \n    aVCO vco2 iAmp, iFreq, iMode, kPW\n    \n    outs aVCO, aVCO\nendin\n\ninstr 6\n    ; squinewave opcode: aout squinewave acps, aClip, askew [, iMinSweep, imaxSweep]\n    ; squinewave generates sine-square morph waveform\n    ; acps - frequency\n    ; aClip - clipping amount (0=sine, 1=square)\n    ; askew - symmetry skew\n    \n    iAmp = 0.4\n    iFreq = p4\n    \n    aFreq = iFreq\n    \n    ; Morph from sine to square\n    kClip linseg 0, p3, 1\n    aClip = kClip\n    \n    aSkew = 0\n    \n    aSquine squinewave aFreq, aClip, aSkew\n    \n    outs aSquine*iAmp, aSquine*iAmp\nendin\n\ninstr 7\n    ; vco2ift and vco2init\n    ; vco2ift creates tables for vco2\n    ; vco2init initializes vco2 tables\n    \n    iAmp = 0.4\n    iFreq = p4\n    iMode = 2  ; Square wave\n    \n    aVCO vco2 iAmp, iFreq, iMode\n    \n    outs aVCO, aVCO\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play vco sawtooth\ni1 0 2 220\ni1 2.5 2 330\n\n; Play vco PWM\ni2 5.5 3 440\n\n; Play vco2 sawtooth\ni3 9.5 2 294\n\n; Play vco2 triangle\ni4 12.5 2 392\n\n; Play vco2 PWM\ni5 15.5 3 523\n\n; Play squinewave morph\ni6 19.5 4 330\n\n; Play vco2 square\ni7 24.5 2 440\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates resonant filter models", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSaw ftgen 1, 0, 16384, 10, 1, 0.5, 0.3, 0.25, 0.2, 0.16\n\ninstr 1\n    ; mode opcode: aout mode ain, kfreq, kq [, iskip]\n    ; mode implements resonant mode filter\n    ; ain - input signal\n    ; kfreq - resonant frequency\n    ; kq - quality factor (higher = narrower)\n    \n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Impulse excitation\n    aExcite mpulse 0.8, 0\n    \n    ; Resonant mode\n    kResFreq = iFreq\n    kQ = 500\n    \n    aMode mode aExcite, kResFreq, kQ\n    \n    outs aMode*iAmp, aMode*iAmp\nendin\n\ninstr 2\n    ; streson opcode: asig streson ain, kfr, kfdbgain\n    ; streson is string resonator\n    \n    iAmp = 0.4\n    iFreq = p4\n    \n    aExcite mpulse 0.8, 0\n    \n    kFeedback = 0.95\n    \n    aString streson aExcite, iFreq, kFeedback\n    \n    outs aString*iAmp, aString*iAmp\nendin\n\ninstr 3\n    ; resony opcode: ares resony asig, kcf, kbw [, iscl] [, iskip]\n    ; resony implements resonant bandpass filter\n    ; kcf - center frequency\n    ; kbw - bandwidth\n    \n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Source signal\n    aSource poscil 0.5, iFreq, giSaw\n    \n    ; Resonant filter\n    kCF = iFreq * 2\n    kBW = 50\n    \n    aReson resony aSource, kCF, kBW\n    \n    outs aReson*iAmp, aReson*iAmp\nendin\n\ninstr 4\n    ; resonr opcode: ares resonr asig, kcf, kbw [, iscl] [, iskip]\n    ; resonr is resonator (bandpass + notch)\n    \n    iAmp = 0.4\n    iFreq = p4\n    \n    aSource poscil 0.5, iFreq, giSaw\n    \n    kCF = iFreq * 1.5\n    kBW = 100\n    \n    aReson resonr aSource, kCF, kBW\n    \n    outs aReson*iAmp, aReson*iAmp\nendin\n\ninstr 5\n    ; resonz opcode: ares resonz asig, kcf, kbw [, iscl] [, iskip]\n    ; resonz implements zero-delay feedback resonator\n    \n    iAmp = 0.4\n    iFreq = p4\n    \n    aSource poscil 0.5, iFreq, giSaw\n    \n    kCF = iFreq * 2.5\n    kBW = 80\n    \n    aReson resonz aSource, kCF, kBW\n    \n    outs aReson*iAmp, aReson*iAmp\nendin\n\ninstr 6\n    ; vlowrez opcode: ares vlowrez asig, xfco, xres, iattn, iord [, iskip]\n    ; vlowrez implements resonant low-pass filter\n    ; xfco - cutoff frequency\n    ; xres - resonance (0-1)\n    ; iattn - attenuation\n    ; iord - filter order (1-4)\n    \n    iAmp = 0.4\n    iFreq = p4\n    \n    aSource poscil 0.5, iFreq, giSaw\n    \n    ; Sweeping resonant filter\n    kCutoff expseg 200, p3, 3000\n    kRes = 0.8\n    iAttn = 0.5\n    iOrder = 4\n    \n    aFilt vlowrez aSource, kCutoff, kRes, iAttn, iOrder\n    \n    outs aFilt*iAmp, aFilt*iAmp\nendin\n\ninstr 7\n    ; Multiple resonant modes (bell-like)\n    iAmp = 0.3\n    iFreq = p4\n    \n    aExcite mpulse 0.8, 0\n    \n    ; Several inharmonic modes\n    aMode1 mode aExcite, iFreq, 500\n    aMode2 mode aExcite, iFreq*2.76, 400\n    aMode3 mode aExcite, iFreq*5.40, 300\n    aMode4 mode aExcite, iFreq*8.93, 200\n    \n    aMix = (aMode1 + aMode2*0.7 + aMode3*0.5 + aMode4*0.3) * iAmp\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play mode filter\ni1 0 3 440\ni1 3.5 3 330\n\n; Play streson\ni2 7.5 3 294\n\n; Play resony\ni3 11.5 2 523\n\n; Play resonr\ni4 14.5 2 392\n\n; Play resonz\ni5 17.5 2 659\n\n; Play vlowrez\ni6 20.5 3 220\n\n; Play bell-like\ni7 24.5 4 523\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates basic sample playback with loscil", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Load a sample (you would use actual file path)\n; giSample ftgen 1, 0, 0, 1, \"sample.wav\", 0, 0, 0\n; Using a generated waveform for demonstration\ngiSample ftgen 1, 0, 65536, 10, 1, 0.5, 0.3, 0.2\n\ninstr 1\n    ; loscil opcode: ar1 [, ar2] loscil xamp, kcps, ifn [, ibas] [, imod1] [, ibeg] [, iend]\n    ; loscil reads a sample with pitch shifting\n    ; xamp - amplitude\n    ; kcps - playback frequency\n    ; ifn - function table number\n    ; ibas - base frequency (original sample pitch)\n    ; imod1 - loop mode (0=no loop, 1=forward loop, 2=backward loop, 3=bidirectional)\n    \n    iAmp = 0.5\n    iFreq = p4\n    iBasFreq = 440  ; Original sample pitch\n    \n    ; Basic playback\n    aSamp loscil iAmp, iFreq, giSample, iBasFreq\n    \n    outs aSamp, aSamp\nendin\n\ninstr 2\n    ; Looping sample\n    iAmp = 0.5\n    iFreq = p4\n    iBasFreq = 440\n    \n    ; Loop mode 1 (forward loop)\n    aSamp loscil iAmp, iFreq, giSample, iBasFreq, 1\n    \n    outs aSamp, aSamp\nendin\n\ninstr 3\n    ; Pitch sweep\n    iAmp = 0.5\n    iBasFreq = 440\n    \n    ; Frequency changes\n    kFreq expseg 220, p3, 880\n    \n    aSamp loscil iAmp, kFreq, giSample, iBasFreq\n    \n    outs aSamp, aSamp\nendin\n\ninstr 4\n    ; lphasor opcode: ares lphasor xtrns [, ilps] [, ilpe] [, imode] [, istrt] [, istor]\n    ; lphasor generates normalized loop phase (0-1)\n    ; xtrns - transposition ratio\n    ; ilps - loop start (samples)\n    ; ilpe - loop end (samples)\n    ; imode - loop mode\n    \n    iAmp = 0.5\n    iRatio = p4 / 440  ; Transposition ratio\n    \n    ; Generate phase\n    aPhase lphasor iRatio\n    \n    ; Read table with phase\n    aSamp tablei aPhase * ftlen(giSample), giSample\n    \n    outs aSamp*iAmp, aSamp*iAmp\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic sample\ni1 0 2 440\ni1 2.5 2 523\n\n; Play looping\ni2 5.5 3 330\n\n; Play pitch sweep\ni3 9.5 3 0\n\n; Play with lphasor\ni4 13.5 2 392\ni4 15.5 2 294\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates loscil3 for high-quality sample playback", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Sample tables\ngiSample1 ftgen 1, 0, 65536, 10, 1, 0.5, 0.3, 0.2, 0.15\ngiSample2 ftgen 2, 0, 65536, 10, 1, 0, 0.3, 0, 0.2, 0, 0.14\n\ninstr 1\n    ; loscil3 opcode: ar1 [, ar2] loscil3 xamp, kcps, ifn [, ibas] [, imod1] [, ibeg] [, iend]\n    ; loscil3 is like loscil but uses cubic interpolation for better quality\n    ; xamp - amplitude\n    ; kcps - playback frequency\n    ; ifn - function table number\n    ; ibas - base frequency\n    \n    iAmp = 0.5\n    iFreq = p4\n    iBasFreq = 440\n    \n    ; High-quality playback with cubic interpolation\n    aSamp loscil3 iAmp, iFreq, giSample1, iBasFreq\n    \n    outs aSamp, aSamp\nendin\n\ninstr 2\n    ; Extreme pitch shifting\n    iAmp = 0.5\n    iBasFreq = 440\n    \n    ; Very low pitch\n    iFreq = p4\n    \n    aSamp loscil3 iAmp, iFreq, giSample1, iBasFreq\n    \n    outs aSamp, aSamp\nendin\n\ninstr 3\n    ; Vibrato on sample\n    iAmp = 0.5\n    iFreq = p4\n    iBasFreq = 440\n    \n    ; Add vibrato\n    kVib poscil 8, 5, giSample2\n    kFreq = iFreq + kVib\n    \n    aSamp loscil3 iAmp, kFreq, giSample1, iBasFreq\n    \n    outs aSamp, aSamp\nendin\n\ninstr 4\n    ; Glissando\n    iAmp = 0.5\n    iStart = p4\n    iEnd = p5\n    iBasFreq = 440\n    \n    ; Smooth pitch slide\n    kFreq linseg iStart, p3, iEnd\n    \n    aSamp loscil3 iAmp, kFreq, giSample1, iBasFreq\n    \n    outs aSamp, aSamp\nendin\n\ninstr 5\n    ; Looped playback with envelope\n    iFreq = p4\n    iBasFreq = 440\n    \n    ; ADSR envelope\n    kEnv madsr 0.1, 0.2, 0.7, 0.3\n    \n    ; Looping\n    aSamp loscil3 kEnv, iFreq, giSample1, iBasFreq, 1\n    \n    outs aSamp, aSamp\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play high quality\ni1 0 2 440\ni1 2.5 2 523\n\n; Play extreme pitch shift\ni2 5.5 2 110\ni2 7.5 2 880\n\n; Play with vibrato\ni3 10.5 3 330\n\n; Play glissando\n; Format: start dur freq_start freq_end\ni4 14.5 2 220 660\ni4 16.5 2 660 220\n\n; Play looped with envelope\ni5 19.5 3 392\ni5 22.5 3 294\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates flooper for flexible sample looping", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Sample table\ngiSample ftgen 1, 0, 131072, 10, 1, 0.5, 0.3, 0.25, 0.2, 0.16, 0.14, 0.12\n\ninstr 1\n    ; flooper opcode: asig flooper kamp, kpitch, kloopstart, kloopend, kcrossfade, ifn [, istartpos, ioffset, iskip]\n    ; flooper provides crossfaded looping sample playback\n    ; kamp - amplitude\n    ; kpitch - pitch transposition (1=original, 2=octave up, 0.5=octave down)\n    ; kloopstart - loop start point in seconds\n    ; kloopend - loop end point in seconds\n    ; kcrossfade - crossfade duration in seconds\n    ; ifn - function table number\n    \n    iAmp = 0.5\n    kPitch = 1\n    kLoopStart = 0\n    kLoopEnd = 1\n    kXFade = 0.05\n    \n    ; Basic looping\n    aSamp flooper iAmp, kPitch, kLoopStart, kLoopEnd, kXFade, giSample\n    \n    outs aSamp, aSamp\nendin\n\ninstr 2\n    ; Variable pitch\n    iAmp = 0.5\n    kLoopStart = 0\n    kLoopEnd = 1\n    kXFade = 0.05\n    \n    ; Pitch changes\n    kPitch linseg 0.5, p3, 2\n    \n    aSamp flooper iAmp, kPitch, kLoopStart, kLoopEnd, kXFade, giSample\n    \n    outs aSamp, aSamp\nendin\n\ninstr 3\n    ; Moving loop points\n    iAmp = 0.5\n    kPitch = 1\n    kXFade = 0.02\n    \n    ; Loop points shift\n    kLoopStart linseg 0, p3, 0.5\n    kLoopEnd linseg 1, p3, 0.7\n    \n    aSamp flooper iAmp, kPitch, kLoopStart, kLoopEnd, kXFade, giSample\n    \n    outs aSamp, aSamp\nendin\n\ninstr 4\n    ; Granular-like texture\n    iAmp = 0.4\n    kXFade = 0.01\n    \n    ; Rapid pitch variation\n    kPitch randomi 0.8, 1.2, 5\n    \n    ; Short loop\n    kLoopStart = 0.1\n    kLoopEnd = 0.3\n    \n    aSamp flooper iAmp, kPitch, kLoopStart, kLoopEnd, kXFade, giSample\n    \n    outs aSamp, aSamp\nendin\n\ninstr 5\n    ; flooper2 opcode: asig flooper2 kamp, kpitch, kloopstart, kloopend, kcrossfade, ifn [, istartpos, ioffset, iskip]\n    ; flooper2 is similar to flooper with different crossfading algorithm\n    \n    iAmp = 0.5\n    kPitch = p4 / 440\n    kLoopStart = 0\n    kLoopEnd = 0.8\n    kXFade = 0.03\n    \n    aSamp flooper2 iAmp, kPitch, kLoopStart, kLoopEnd, kXFade, giSample\n    \n    outs aSamp, aSamp\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic loop\ni1 0 3\n\n; Play variable pitch\ni2 4 4\n\n; Play moving loop points\ni3 9 4\n\n; Play granular texture\ni4 14 4\n\n; Play flooper2\ni5 19 2 440\ni5 21 2 330\ni5 23 2 523\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates advanced sample playback techniques", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Multiple samples\ngiSample1 ftgen 1, 0, 65536, 10, 1, 0.5, 0.3, 0.2\ngiSample2 ftgen 2, 0, 65536, 10, 1, 0, 0.3, 0, 0.2\ngiSine ftgen 3, 0, 16384, 10, 1\n\ninstr 1\n    ; Time-stretching with pitch preservation\n    iAmp = 0.5\n    iFreq = p4\n    iBasFreq = 440\n    iStretch = p5\n    \n    ; Read sample slower (time-stretch) but maintain pitch\n    aSamp loscil3 iAmp, iFreq, giSample1, iBasFreq\n    \n    outs aSamp, aSamp\nendin\n\ninstr 2\n    ; Scrubbing effect\n    iAmp = 0.5\n    iBasFreq = 440\n    \n    ; LFO controls playback speed\n    kSpeed poscil 2, 0.5, giSine\n    kFreq = iBasFreq * (1 + kSpeed)\n    \n    aSamp loscil3 iAmp, kFreq, giSample1, iBasFreq\n    \n    outs aSamp, aSamp\nendin\n\ninstr 3\n    ; Sample layering\n    iAmp = 0.35\n    iFreq = p4\n    iBasFreq = 440\n    \n    ; Layer two samples\n    aSamp1 loscil3 iAmp, iFreq, giSample1, iBasFreq\n    aSamp2 loscil3 iAmp*0.7, iFreq*1.005, giSample2, iBasFreq\n    \n    aMix = aSamp1 + aSamp2\n    \n    outs aMix, aMix\nendin\n\ninstr 4\n    ; Reverse playback\n    iAmp = 0.5\n    iBasFreq = 440\n    \n    ; Negative frequency for reverse\n    iFreq = -p4\n    \n    aSamp loscil iAmp, iFreq, giSample1, iBasFreq\n    \n    outs aSamp, aSamp\nendin\n\ninstr 5\n    ; Granular sampler with lphasor\n    iAmp = 0.3\n    iFreq = p4\n    \n    ; Multiple grain playheads\n    aPhase1 lphasor iFreq/440\n    aPhase2 lphasor iFreq/440, 0, ftlen(giSample1), 0, ftlen(giSample1)*0.25\n    aPhase3 lphasor iFreq/440, 0, ftlen(giSample1), 0, ftlen(giSample1)*0.5\n    \n    ; Read at different positions\n    aSamp1 tablei aPhase1, giSample1\n    aSamp2 tablei aPhase2, giSample1\n    aSamp3 tablei aPhase3, giSample1\n    \n    ; Window each grain\n    aWin1 poscil 0.4, iFreq/440, giSine\n    aWin2 poscil 0.3, iFreq/440, giSine, 0.25\n    aWin3 poscil 0.3, iFreq/440, giSine, 0.5\n    \n    aMix = (aSamp1*aWin1 + aSamp2*aWin2 + aSamp3*aWin3) * iAmp\n    \n    outs aMix, aMix\nendin\n\ninstr 6\n    ; Sample and hold scanning\n    iAmp = 0.4\n    \n    ; Random position jumps\n    kPos randomh 0, 1, 8\n    \n    ; Calculate sample position\n    iLen = ftlen(giSample1)\n    kSampPos = kPos * iLen\n    \n    ; Read at position\n    aSamp table kSampPos, giSample1\n    \n    outs aSamp*iAmp, aSamp*iAmp\nendin\n\ninstr 7\n    ; Formant-preserving pitch shift\n    iAmp = 0.4\n    iFreq = p4\n    iTargetFreq = p5\n    iBasFreq = 440\n    \n    ; Play at target pitch\n    aSamp loscil3 1, iTargetFreq, giSample1, iBasFreq\n    \n    ; Formant shift by filtering\n    kRatio = iFreq / iTargetFreq\n    kFormant1 = 800 * kRatio\n    kFormant2 = 1200 * kRatio\n    \n    aForm1 butterbp aSamp, kFormant1, kFormant1*0.1\n    aForm2 butterbp aSamp, kFormant2, kFormant2*0.1\n    \n    aMix = (aForm1 + aForm2) * iAmp * 2\n    \n    outs aMix, aMix\nendin\n\ninstr 8\n    ; Multi-tap delay sampler\n    iAmp = 0.3\n    iFreq = p4\n    iBasFreq = 440\n    \n    ; Main sample\n    aSamp loscil3 iAmp, iFreq, giSample1, iBasFreq\n    \n    ; Multiple delayed taps\n    aTap1 delay aSamp, 0.1\n    aTap2 delay aSamp, 0.2\n    aTap3 delay aSamp, 0.3\n    \n    ; Stereo spread\n    aLeft = aSamp + aTap1*0.6 + aTap3*0.3\n    aRight = aSamp + aTap2*0.6 + aTap3*0.3\n    \n    outs aLeft, aRight\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play time-stretch\n; Format: start dur freq stretch\ni1 0 3 440 1\ni1 3.5 3 440 1.5\n\n; Play scrubbing\ni2 7.5 4 0\n\n; Play layered\ni3 12.5 2 330\ni3 14.5 2 523\n\n; Play reverse\ni4 17.5 2 440\n\n; Play granular\ni5 20.5 3 220\n\n; Play sample and hold\ni6 24.5 3 0\n\n; Play formant-preserving\n; Format: start dur base_freq target_freq\ni7 28.5 2 440 220\ni7 30.5 2 440 880\n\n; Play multi-tap\ni8 33.5 3 392\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates basic scanned synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function tables for scanned synthesis\n; Mass table\ngiMass ftgen 1, 0, 128, -7, 1, 128, 1\n\n; Spring stiffness table  \ngiStiff ftgen 2, 0, 128, -7, 0.5, 128, 0.5\n\n; Damping table\ngiDamp ftgen 3, 0, 128, -7, 0.01, 128, 0.01\n\n; Initial position\ngiInit ftgen 4, 0, 128, 7, 0, 64, 0, 0, 1, 0, 64, 0\n\n; Trajectory table (will be updated)\ngiTraj ftgen 5, 0, 128, 7, 0, 128, 0\n\ninstr 1\n    ; scans opcode: scans kamp, kfreq, ifn, id [, iorder]\n    ; scans reads from scanned synthesis wavetable\n    ; kamp - amplitude\n    ; kfreq - frequency\n    ; ifn - trajectory table\n    ; id - scantable ID from scantable opcode\n    \n    ; First need to define the physical model with scantable\n    ; This is typically done in header or separate instrument\n    \n    iAmp = 0.5\n    iFreq = p4\n    \n    ; Read scanned wavetable\n    aOut scans iAmp, iFreq, giTraj, 1\n    \n    outs aOut, aOut\nendin\n\ninstr 2\n    ; scan opcode: scan kamp, kfreq, ifn, id, ivl, ivr [, ikl] [, ikr] [, kscan] [, iorder] [, imass] [, istiff] [, idamp] [, ivel]\n    ; scan performs scanned synthesis\n    ; kamp - amplitude\n    ; kfreq - scanning frequency\n    ; ifn - initial position table\n    ; id - scantable ID\n    ; ivl, ivr - initial velocity left and right\n    ; ikl, ikr - stiffness left and right\n    \n    iAmp = 0.5\n    iFreq = p4\n    iID = 1\n    iVelL = 0.5\n    iVelR = 0.5\n    iStiffL = 1\n    iStiffR = 1\n    \n    ; Perform scanning\n    aOut scan iAmp, iFreq, giInit, iID, iVelL, iVelR, iStiffL, iStiffR\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; scantable opcode: scantable insrc, ifn [, iorder] [, iperiod]\n    ; scantable creates a scanned synthesis wavetable\n    ; insrc - source instrument number\n    ; ifn - function table number\n    ; iorder - interpolation order\n    ; iperiod - scanning period\n    \n    ; This is usually called in the header\n    ; scantable 10, giTraj, 2, 0.1\n    \n    iAmp = 0.5\n    iFreq = p4\n    \n    ; Simple scan output\n    aOut scans iAmp, iFreq, giTraj, 1\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Initialize scanned synthesis\n; Note: Full scanned synthesis requires more setup\n; These examples show basic usage\n\n; Play basic scans\ni1 0 3 220\ni1 3.5 3 330\n\n; Play scan\ni2 7.5 3 440\n\n; Play with table\ni3 11.5 3 294\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates scanned synthesis with dynamic control", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Scanned synthesis tables\ngiMass ftgen 1, 0, 64, -7, 1, 64, 1\ngiStiff ftgen 2, 0, 64, -7, 0.3, 64, 0.8\ngiDamp ftgen 3, 0, 64, -7, 0.02, 64, 0.02\ngiInit ftgen 4, 0, 64, 7, 0, 32, 0.5, 32, 0\ngiTraj ftgen 5, 0, 64, 7, 0, 64, 0\n\ninstr 1\n    ; Variable scanning frequency\n    iAmp = 0.4\n    \n    ; Frequency sweep\n    kFreq expseg 110, p3, 880\n    \n    aOut scans iAmp, kFreq, giTraj, 1\n    \n    outs aOut, aOut\nendin\n\ninstr 2\n    ; Modulated amplitude\n    iFreq = p4\n    \n    ; Amplitude modulation\n    kAmp poscil 0.3, 5, 1\n    kAmp = 0.2 + kAmp\n    \n    aOut scans kAmp, iFreq, giTraj, 1\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; Multiple scan points\n    iAmp = 0.3\n    iFreq = p4\n    \n    ; Two scanning frequencies\n    aOut1 scans iAmp, iFreq, giTraj, 1\n    aOut2 scans iAmp, iFreq*1.5, giTraj, 1\n    \n    aMix = aOut1*0.6 + aOut2*0.4\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play sweep\ni1 0 4\n\n; Play modulated\ni2 5 3 330\n\n; Play multiple\ni3 9 3 220\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates advanced scanned synthesis techniques", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Various mass distributions\ngiMassUniform ftgen 1, 0, 128, -7, 1, 128, 1\ngiMassGradient ftgen 2, 0, 128, -7, 0.5, 128, 1.5\ngiMassRandom ftgen 3, 0, 128, 21, 1, 1\n\n; Stiffness tables\ngiStiffLow ftgen 4, 0, 128, -7, 0.2, 128, 0.2\ngiStiffHigh ftgen 5, 0, 128, -7, 0.8, 128, 0.8\ngiStiffVar ftgen 6, 0, 128, -7, 0.3, 64, 0.8, 64, 0.3\n\n; Damping tables\ngiDampLight ftgen 7, 0, 128, -7, 0.005, 128, 0.005\ngiDampHeavy ftgen 8, 0, 128, -7, 0.05, 128, 0.05\n\n; Initial conditions\ngiInitImpulse ftgen 9, 0, 128, 7, 0, 64, 0, 0, 1, 0, 64, 0\ngiInitSine ftgen 10, 0, 128, 10, 1\ngiInitRamp ftgen 11, 0, 128, 7, 0, 128, 1\n\n; Trajectory storage\ngiTraj1 ftgen 12, 0, 128, 7, 0, 128, 0\ngiTraj2 ftgen 13, 0, 128, 7, 0, 128, 0\n\ninstr 1\n    ; Metallic sound (high stiffness, low damping)\n    iAmp = 0.4\n    iFreq = p4\n    \n    aOut scans iAmp, iFreq, giTraj1, 1\n    \n    outs aOut, aOut\nendin\n\ninstr 2\n    ; Wood-like sound (medium stiffness, medium damping)\n    iAmp = 0.4\n    iFreq = p4\n    \n    aOut scans iAmp, iFreq, giTraj1, 2\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; Changing timbre over time\n    iAmp = 0.4\n    \n    ; Frequency changes\n    kFreq linseg 220, p3, 440\n    \n    aOut scans iAmp, kFreq, giTraj1, 1\n    \n    ; Filter sweep for additional timbral change\n    kCutoff expseg 500, p3, 5000\n    aFilt butterlp aOut, kCutoff\n    \n    outs aFilt, aFilt\nendin\n\ninstr 4\n    ; Stereo scanned synthesis\n    iAmp = 0.35\n    iFreq = p4\n    \n    ; Two different trajectories\n    aLeft scans iAmp, iFreq, giTraj1, 1\n    aRight scans iAmp, iFreq*1.01, giTraj2, 1\n    \n    outs aLeft, aRight\nendin\n\ninstr 5\n    ; Rhythmic scanning\n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Pulsing amplitude\n    kPulse lfo 0.3, 4, 1\n    kAmp = 0.2 + abs(kPulse)\n    \n    aOut scans kAmp, iFreq, giTraj1, 1\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play metallic\ni1 0 3 440\ni1 3.5 3 523\n\n; Play wood-like\ni2 7.5 3 330\n\n; Play changing timbre\ni3 11.5 5 220\n\n; Play stereo\ni4 17.5 3 392\n\n; Play rhythmic\ni5 21.5 4 294\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates special chaotic and stochastic oscillators", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; planet opcode: ax, ay planet kmass1, kmass2, ksep, ix, iy, ivx, ivy, idelta [, ifriction] [, iskip]\n    ; planet simulates planetary motion (chaotic oscillator)\n    ; kmass1, kmass2 - masses\n    ; ksep - separation\n    ; ix, iy - initial position\n    ; ivx, ivy - initial velocity\n    ; idelta - time step\n    \n    kMass1 = 1\n    kMass2 = 1\n    kSep = 0.5\n    iX = 0\n    iY = 0.5\n    iVX = 0.5\n    iVY = 0\n    iDelta = 0.01\n    \n    aX, aY planet kMass1, kMass2, kSep, iX, iY, iVX, iVY, iDelta\n    \n    ; Use position as audio\n    outs aX*0.3, aY*0.3\nendin\n\ninstr 2\n    ; lorenz opcode: ax, ay, az lorenz ks, kr, kb, kh, ix, iy, iz, iskip [, iskip]\n    ; lorenz generates Lorenz attractor (chaotic system)\n    ; ks, kr, kb - Lorenz parameters (sigma, rho, beta)\n    ; kh - time step\n    ; ix, iy, iz - initial conditions\n    \n    kS = 10\n    kR = 28\n    kB = 2.667\n    kH = 0.01\n    iX = 0.1\n    iY = 0\n    iZ = 0\n    \n    aX, aY, aZ lorenz kS, kR, kB, kH, iX, iY, iZ\n    \n    ; Scale and use as audio\n    outs aX*0.02, aY*0.02\nendin\n\ninstr 3\n    ; gendy opcode: ares gendy kamp, kampdist, kdurdist, kadpar, kddpar, kminfreq, kmaxfreq, kampscl, kdurscl [, init] [, knum]\n    ; gendy implements Xenakis' dynamic stochastic synthesis\n    ; kamp - amplitude\n    ; kampdist - amplitude distribution (0-6)\n    ; kdurdist - duration distribution (0-6)\n    ; kadpar - amplitude parameter\n    ; kddpar - duration parameter\n    ; kminfreq, kmaxfreq - frequency range\n    ; kampscl, kdurscl - amplitude/duration scale\n    \n    kAmp = 0.4\n    kAmpDist = 1  ; Linear\n    kDurDist = 1  ; Linear\n    kAdPar = 0.5\n    kDdPar = 0.5\n    kMinFreq = 220\n    kMaxFreq = 880\n    kAmpScl = 0.5\n    kDurScl = 0.5\n    \n    aGendy gendy kAmp, kAmpDist, kDurDist, kAdPar, kDdPar, kMinFreq, kMaxFreq, kAmpScl, kDurScl\n    \n    outs aGendy, aGendy\nendin\n\ninstr 4\n    ; gendyc opcode: ares gendyc kamp, kampdist, kdurdist, kadpar, kddpar, kminfreq, kmaxfreq, kampscl, kdurscl, knum [, init]\n    ; gendyc is controlled version of gendy\n    ; knum - number of control points\n    \n    kAmp = 0.4\n    kAmpDist = 1\n    kDurDist = 1\n    kAdPar = 0.3\n    kDdPar = 0.7\n    kMinFreq = 330\n    kMaxFreq = 660\n    kAmpScl = 0.4\n    kDurScl = 0.6\n    kNum = 12\n    \n    aGendyc gendyc kAmp, kAmpDist, kDurDist, kAdPar, kDdPar, kMinFreq, kMaxFreq, kAmpScl, kDurScl, kNum\n    \n    outs aGendyc, aGendyc\nendin\n\ninstr 5\n    ; gendyx opcode: ares gendyx kamp, kampdist, kdurdist, kadpar, kddpar, kminfreq, kmaxfreq, kampscl, kdurscl, knum, iwform [, init] [, iskip]\n    ; gendyx extends gendy with custom waveforms\n    ; iwform - waveform table\n    \n    kAmp = 0.4\n    kAmpDist = 2  ; Cauchy\n    kDurDist = 2\n    kAdPar = 0.5\n    kDdPar = 0.5\n    kMinFreq = 200\n    kMaxFreq = 800\n    kAmpScl = 0.5\n    kDurScl = 0.5\n    kNum = 10\n    iWform = 1  ; Use sine wave table\n    \n    aGendyx gendyx kAmp, kAmpDist, kDurDist, kAdPar, kDdPar, kMinFreq, kMaxFreq, kAmpScl, kDurScl, kNum, iWform\n    \n    outs aGendyx, aGendyx\nendin\n\n</CsInstruments>\n<CsScore>\n\nf1 0 16384 10 1\n\n; Play planet motion\ni1 0 5\n\n; Play Lorenz attractor\ni2 6 5\n\n; Play gendy\ni3 12 5\n\n; Play gendyc\ni4 18 5\n\n; Play gendyx\ni5 24 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates specialized synthesis opcodes", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSine ftgen 1, 0, 16384, 10, 1\ngiSaw ftgen 2, 0, 16384, 10, 1, 0.5, 0.3, 0.25, 0.2\n\ninstr 1\n    ; hsboscil opcode: ares hsboscil kamp, ktone, kbrite, ibasfreq, iwfn, ioctfn [, ioctcnt] [, iphs]\n    ; hsboscil generates harmonically rich tones\n    ; kamp - amplitude\n    ; ktone - tone (frequency multiplier)\n    ; kbrite - brightness (harmonic content)\n    ; ibasfreq - base frequency\n    \n    kAmp = 0.4\n    kTone = p4\n    kBrite = p5\n    iBaseFreq = 110\n    \n    aOsc hsboscil kAmp, kTone, kBrite, iBaseFreq, giSine, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 2\n    ; dust opcode: ares dust kamp, kdensity\n    ; dust generates random impulses\n    ; kamp - amplitude\n    ; kdensity - average number of impulses per second\n    \n    kAmp = 0.5\n    kDensity = p4\n    \n    aDust dust kAmp, kDensity\n    \n    ; Filter for tone\n    aFilt butterbp aDust, 1000, 500\n    \n    outs aFilt, aFilt\nendin\n\ninstr 3\n    ; dust2 opcode: ares dust2 kamp, kdensity\n    ; dust2 generates bipolar random impulses\n    ; Similar to dust but with positive and negative values\n    \n    kAmp = 0.5\n    kDensity = p4\n    \n    aDust2 dust2 kAmp, kDensity\n    \n    ; Resonant filter\n    aFilt butterbp aDust2, 800, 300\n    \n    outs aFilt, aFilt\nendin\n\ninstr 4\n    ; gausstrig opcode: ares gausstrig kamp, kcps, kdev [, imode] [, ifrst1]\n    ; gausstrig generates gaussian-distributed random triggers\n    ; kamp - amplitude\n    ; kcps - frequency\n    ; kdev - standard deviation\n    \n    kAmp = 0.4\n    kFreq = p4\n    kDev = 0.2\n    \n    aGauss gausstrig kAmp, kFreq, kDev\n    \n    ; Use as excitation for filter\n    aFilt butterbp aGauss, 1500, 400\n    \n    outs aFilt, aFilt\nendin\n\ninstr 5\n    ; mpulse opcode: ares mpulse kamp, kintvl [, ioffset]\n    ; mpulse generates series of impulses\n    ; kamp - amplitude\n    ; kintvl - interval between impulses (seconds)\n    \n    kAmp = 0.6\n    kInterval = p4\n    \n    aImpulse mpulse kAmp, kInterval\n    \n    ; Resonant filtering\n    aFilt mode aImpulse, 440, 300\n    \n    outs aFilt, aFilt\nendin\n\ninstr 6\n    ; gendy opcode: ares gendy kamp, kampdist, kdurdist, kadpar, kddpar, kminfreq, kmaxfreq, kampscl, kdurscl [, init] [, knum]\n    ; gendy implements Xenakis' dynamic stochastic synthesis\n    \n    kAmp = 0.4\n    kAmpDist = 1  ; Linear distribution\n    kDurDist = 1\n    kAdPar = 0.5\n    kDdPar = 0.5\n    kMinFreq = p4\n    kMaxFreq = p5\n    kAmpScl = 0.5\n    kDurScl = 0.5\n    \n    aGendy gendy kAmp, kAmpDist, kDurDist, kAdPar, kDdPar, kMinFreq, kMaxFreq, kAmpScl, kDurScl\n    \n    outs aGendy, aGendy\nendin\n\ninstr 7\n    ; gendyc opcode: ares gendyc kamp, kampdist, kdurdist, kadpar, kddpar, kminfreq, kmaxfreq, kampscl, kdurscl, knum [, init]\n    ; gendyc is controlled version with explicit number of control points\n    \n    kAmp = 0.4\n    kAmpDist = 2  ; Cauchy distribution\n    kDurDist = 1\n    kAdPar = 0.3\n    kDdPar = 0.7\n    kMinFreq = 200\n    kMaxFreq = 800\n    kAmpScl = 0.4\n    kDurScl = 0.6\n    kNum = 12\n    \n    aGendyc gendyc kAmp, kAmpDist, kDurDist, kAdPar, kDdPar, kMinFreq, kMaxFreq, kAmpScl, kDurScl, kNum\n    \n    outs aGendyc, aGendyc\nendin\n\ninstr 8\n    ; gendyx opcode: ares gendyx kamp, kampdist, kdurdist, kadpar, kddpar, kminfreq, kmaxfreq, kampscl, kdurscl, knum, iwform [, init] [, iskip]\n    ; gendyx extends gendy with custom waveform\n    \n    kAmp = 0.4\n    kAmpDist = 1\n    kDurDist = 1\n    kAdPar = 0.5\n    kDdPar = 0.5\n    kMinFreq = 300\n    kMaxFreq = 600\n    kAmpScl = 0.5\n    kDurScl = 0.5\n    kNum = 10\n    iWform = 1\n    \n    aGendyx gendyx kAmp, kAmpDist, kDurDist, kAdPar, kDdPar, kMinFreq, kMaxFreq, kAmpScl, kDurScl, kNum, iWform\n    \n    outs aGendyx, aGendyx\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play hsboscil\n; Format: start dur tone brightness\ni1 0 2 2 0.5\ni1 2.5 2 3 0.8\n\n; Play dust\n; Format: start dur density\ni2 5.5 2 20\ni2 7.5 2 50\n\n; Play dust2\ni3 10.5 2 30\n\n; Play gausstrig\ni4 13.5 2 15\n\n; Play mpulse\n; Format: start dur interval\ni5 16.5 2 0.1\ni5 18.5 2 0.05\n\n; Play gendy\n; Format: start dur minfreq maxfreq\ni6 21.5 4 220 880\n\n; Play gendyc\ni7 26.5 4\n\n; Play gendyx\ni8 31.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates advanced specialized synthesis techniques", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSine ftgen 1, 0, 16384, 10, 1\n\ninstr 1\n    ; Granular texture with dust\n    kDensity linseg 10, p3, 80\n    aDust dust 0.6, kDensity\n    \n    ; Multiple resonances\n    aRes1 butterbp aDust, 440, 200\n    aRes2 butterbp aDust, 660, 150\n    aRes3 butterbp aDust, 880, 180\n    \n    aMix = (aRes1 + aRes2 + aRes3) * 0.4\n    \n    outs aMix, aMix\nendin\n\ninstr 2\n    ; Rhythmic impulses with mpulse\n    kInterval linseg 0.2, p3, 0.05\n    aImpulse mpulse 0.7, kInterval\n    \n    ; Pitched resonance\n    kFreq expseg 220, p3, 880\n    aRes mode aImpulse, kFreq, 400\n    \n    outs aRes*0.6, aRes*0.6\nendin\n\ninstr 3\n    ; Dynamic gendy synthesis\n    kAmp = 0.4\n    \n    ; Evolving parameters\n    kAdPar linseg 0.1, p3, 0.9\n    kDdPar linseg 0.9, p3, 0.1\n    kMinFreq expseg 200, p3, 400\n    kMaxFreq expseg 800, p3, 1200\n    \n    aGendy gendy kAmp, 1, 1, kAdPar, kDdPar, kMinFreq, kMaxFreq, 0.5, 0.5\n    \n    outs aGendy, aGendy\nendin\n\ninstr 4\n    ; Layered hsboscil timbres\n    kAmp = 0.3\n    \n    ; Evolving brightness\n    kBrite linseg 0.2, p3, 0.9\n    \n    aOsc1 hsboscil kAmp, 1, kBrite, 110, giSine, giSine\n    aOsc2 hsboscil kAmp, 1.5, kBrite*0.7, 110, giSine, giSine\n    aOsc3 hsboscil kAmp, 2, kBrite*0.5, 110, giSine, giSine\n    \n    aMix = (aOsc1 + aOsc2 + aOsc3) * 0.4\n    \n    outs aMix, aMix\nendin\n\ninstr 5\n    ; Stochastic percussion with gausstrig\n    kFreq = p4\n    kDev = 0.3\n    \n    aGauss gausstrig 0.7, kFreq, kDev\n    \n    ; Multiple filtered copies\n    aHi butterbp aGauss, 3000, 800\n    aMid butterbp aGauss, 1200, 400\n    aLo butterbp aGauss, 400, 200\n    \n    aMix = (aHi*0.3 + aMid*0.5 + aLo*0.7) * 0.5\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play granular dust texture\ni1 0 5\n\n; Play rhythmic impulses\ni2 6 4\n\n; Play dynamic gendy\ni3 11 5\n\n; Play layered hsboscil\ni4 17 4\n\n; Play stochastic percussion\ni5 22 2 10\ni5 24 2 20\ni5 26 2 30\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates basic FFT analysis and resynthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSine ftgen 1, 0, 16384, 10, 1\ngiHann ftgen 2, 0, 4096, 20, 2, 1\n\ninstr 1\n    ; pvsanal opcode: fsig pvsanal ain, ifftsize, ioverlap, iwinsize, iwintype [, iformat] [, iinit]\n    ; pvsanal analyzes audio into spectral (phase vocoder) format\n    ; ain - input audio signal\n    ; ifftsize - FFT size (power of 2)\n    ; ioverlap - overlap factor\n    ; iwinsize - window size\n    ; iwintype - window type\n    \n    ; pvsynth opcode: aout pvsynth fsig [, iinit]\n    ; pvsynth resynthesizes audio from spectral format\n    ; fsig - spectral signal from pvsanal\n    \n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Generate source\n    aSource poscil iAmp, iFreq, giSine\n    \n    ; Analyze\n    fSig pvsanal aSource, 2048, 256, 2048, 1\n    \n    ; Resynthesize\n    aOut pvsynth fSig\n    \n    outs aOut, aOut\nendin\n\ninstr 2\n    ; pvsadsyn opcode: ares pvsadsyn fsig, inoscs, kfmod [, ibinfrom] [, ibinto] [, iinit]\n    ; pvsadsyn resynthesizes using additive synthesis with oscillator bank\n    ; fsig - spectral signal\n    ; inoscs - number of oscillators\n    ; kfmod - frequency modifier\n    \n    iAmp = 0.4\n    iFreq = p4\n    \n    aSource poscil iAmp, iFreq, giSine\n    \n    ; Analyze\n    fSig pvsanal aSource, 2048, 256, 2048, 1\n    \n    ; Resynthesize with oscillators\n    kFmod = 1\n    aOut pvsadsyn fSig, 100, kFmod\n    \n    outs aOut*0.5, aOut*0.5\nendin\n\ninstr 3\n    ; resyn opcode: asig resyn fin, iper, ksclmin, ksclmax [, kfund, imode, ithresh]\n    ; resyn performs frequency-domain analysis and resynthesis\n    ; fin - fsig input\n    ; iper - period size\n    ; ksclmin, ksclmax - frequency scale min/max\n    \n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Source with harmonics\n    aSource poscil iAmp, iFreq, giSine\n    aHarm2 poscil iAmp*0.5, iFreq*2, giSine\n    aHarm3 poscil iAmp*0.3, iFreq*3, giSine\n    aIn = aSource + aHarm2 + aHarm3\n    \n    ; Analyze\n    fSig pvsanal aIn, 2048, 256, 2048, 1\n    \n    ; Resynthesize with tracking\n    aOut resyn fSig, 100, 0.5, 2\n    \n    outs aOut*0.3, aOut*0.3\nendin\n\ninstr 4\n    ; adsyn opcode: ar1 [, ar2...] adsyn fin, inum, iinit\n    ; adsyn resynthesizes spectral data using additive synthesis\n    ; fin - fsig input\n    ; inum - number of partials\n    \n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Source\n    aSource poscil iAmp, iFreq, giSine\n    \n    ; Analyze\n    fSig pvsanal aSource, 1024, 128, 1024, 1\n    \n    ; Additive resynth\n    aOut adsyn fSig, 50, 1\n    \n    outs aOut*0.5, aOut*0.5\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic analysis/resynthesis\ni1 0 3 220\ni1 3.5 3 440\n\n; Play additive resynthesis\ni2 7.5 3 330\n\n; Play tracking resynthesis\ni3 11.5 3 294\n\n; Play adsyn\ni4 15.5 3 392\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates spectral filtering and processing", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSaw ftgen 1, 0, 16384, 10, 1, 0.5, 0.3, 0.25, 0.2, 0.16, 0.14, 0.12\n\ninstr 1\n    ; pvsfilter opcode: fsig pvsfilter fsigin, fsigfilt, kdepth [, igain]\n    ; pvsfilter filters spectrum using another spectrum as filter\n    ; fsigin - input spectrum\n    ; fsigfilt - filter spectrum\n    ; kdepth - filter depth (0-1)\n    \n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Source signal (sawtooth)\n    aSource poscil iAmp, iFreq, giSaw\n    \n    ; Filter modulator (sine)\n    aFilt poscil 0.5, iFreq*0.5, 1\n    \n    ; Analyze both\n    fSource pvsanal aSource, 2048, 256, 2048, 1\n    fFilt pvsanal aFilt, 2048, 256, 2048, 1\n    \n    ; Apply spectral filter\n    kDepth = 0.8\n    fFiltered pvsfilter fSource, fFilt, kDepth\n    \n    ; Resynthesize\n    aOut pvsynth fFiltered\n    \n    outs aOut, aOut\nendin\n\ninstr 2\n    ; pvsmooth opcode: fsig pvsmooth fsigin, kacf, kfcf\n    ; pvsmooth smooths spectral data\n    ; fsigin - input spectrum\n    ; kacf - amplitude coefficient (0-1)\n    ; kfcf - frequency coefficient (0-1)\n    \n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Rich source\n    aSource poscil iAmp, iFreq, giSaw\n    \n    ; Analyze\n    fSig pvsanal aSource, 2048, 256, 2048, 1\n    \n    ; Smooth\n    kAmpSmooth = 0.5\n    kFreqSmooth = 0.7\n    fSmooth pvsmooth fSig, kAmpSmooth, kFreqSmooth\n    \n    ; Resynthesize\n    aOut pvsynth fSmooth\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; pvsblur opcode: fsig pvsblur fsigin, kblurtime, imaxdelay\n    ; pvsblur blurs spectrum over time\n    ; fsigin - input spectrum\n    ; kblurtime - blur time in seconds\n    ; imaxdelay - maximum delay time\n    \n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Source\n    aSource poscil iAmp, iFreq, giSaw\n    \n    ; Analyze\n    fSig pvsanal aSource, 2048, 256, 2048, 1\n    \n    ; Blur\n    kBlurTime = 0.2\n    fBlur pvsblur fSig, kBlurTime, 2\n    \n    ; Resynthesize\n    aOut pvsynth fBlur\n    \n    outs aOut, aOut\nendin\n\ninstr 4\n    ; pvsfreeze opcode: fsig pvsfreeze fsigin, kfreeza, kfreezf\n    ; pvsfreeze freezes spectral components\n    ; fsigin - input spectrum\n    ; kfreeza - freeze amplitudes (0=no freeze, 1=freeze)\n    ; kfreezf - freeze frequencies (0=no freeze, 1=freeze)\n    \n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Source\n    aSource poscil iAmp, iFreq, giSaw\n    \n    ; Analyze\n    fSig pvsanal aSource, 2048, 256, 2048, 1\n    \n    ; Freeze after 1 second\n    kFreezeAmp linseg 0, 1, 0, 0.1, 1, p3-1.1, 1\n    kFreezeFreq = kFreezeAmp\n    \n    fFreeze pvsfreeze fSig, kFreezeAmp, kFreezeFreq\n    \n    ; Resynthesize\n    aOut pvsynth fFreeze\n    \n    outs aOut, aOut\nendin\n\ninstr 5\n    ; pvsmix opcode: fsig pvsmix fsig1, fsig2\n    ; pvsmix mixes two spectral signals\n    ; fsig1, fsig2 - input spectra\n    \n    iAmp = 0.3\n    iFreq1 = p4\n    iFreq2 = p5\n    \n    ; Two sources\n    aSource1 poscil iAmp, iFreq1, giSaw\n    aSource2 poscil iAmp, iFreq2, 1\n    \n    ; Analyze\n    fSig1 pvsanal aSource1, 2048, 256, 2048, 1\n    fSig2 pvsanal aSource2, 2048, 256, 2048, 1\n    \n    ; Mix\n    fMix pvsmix fSig1, fSig2\n    \n    ; Resynthesize\n    aOut pvsynth fMix\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play spectral filter\ni1 0 3 220\n\n; Play spectral smooth\ni2 4 3 330\n\n; Play spectral blur\ni3 8 4 440\n\n; Play spectral freeze\ni4 13 4 392\n\n; Play spectral mix\n; Format: start dur freq1 freq2\ni5 18 3 220 330\ni5 21 3 294 440\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates spectral morphing and cross-synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSine ftgen 1, 0, 16384, 10, 1\ngiSaw ftgen 2, 0, 16384, 10, 1, 0.5, 0.3, 0.25, 0.2, 0.16\ngiSquare ftgen 3, 0, 16384, 10, 1, 0, 0.3, 0, 0.2, 0, 0.14\n\ninstr 1\n    ; pvsmorph opcode: fsig pvsmorph fsig1, fsig2, kampint, kfrqint\n    ; pvsmorph morphs between two spectral signals\n    ; fsig1, fsig2 - input spectra\n    ; kampint - amplitude interpolation (0=sig1, 1=sig2)\n    ; kfrqint - frequency interpolation (0=sig1, 1=sig2)\n    \n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Two sources with different timbres\n    aSource1 poscil iAmp, iFreq, giSaw\n    aSource2 poscil iAmp, iFreq, giSquare\n    \n    ; Analyze\n    fSig1 pvsanal aSource1, 2048, 256, 2048, 1\n    fSig2 pvsanal aSource2, 2048, 256, 2048, 1\n    \n    ; Morph from source1 to source2\n    kMorph linseg 0, p3, 1\n    \n    fMorph pvsmorph fSig1, fSig2, kMorph, kMorph\n    \n    ; Resynthesize\n    aOut pvsynth fMorph\n    \n    outs aOut, aOut\nendin\n\ninstr 2\n    ; Independent amplitude and frequency morphing\n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Two sources\n    aSource1 poscil iAmp, iFreq, giSaw\n    aSource2 poscil iAmp, iFreq*1.5, giSine\n    \n    ; Analyze\n    fSig1 pvsanal aSource1, 2048, 256, 2048, 1\n    fSig2 pvsanal aSource2, 2048, 256, 2048, 1\n    \n    ; Different morph rates for amp and freq\n    kAmpMorph linseg 0, p3*0.5, 1, p3*0.5, 0\n    kFreqMorph linseg 0, p3, 1\n    \n    fMorph pvsmorph fSig1, fSig2, kAmpMorph, kFreqMorph\n    \n    ; Resynthesize\n    aOut pvsynth fMorph\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; pvscross opcode: fsig pvscross fsrc, fdest, kamp1, kamp2\n    ; pvscross performs spectral cross-synthesis\n    ; fsrc - source spectrum (takes amplitudes)\n    ; fdest - destination spectrum (takes frequencies)\n    ; kamp1 - source amplitude scaling\n    ; kamp2 - destination amplitude scaling\n    \n    iAmp = 0.4\n    \n    ; Source: rich harmonic content\n    iFreq1 = p4\n    aSource poscil iAmp, iFreq1, giSaw\n    \n    ; Destination: different pitch\n    iFreq2 = p5\n    aDest poscil iAmp, iFreq2, giSine\n    \n    ; Analyze\n    fSource pvsanal aSource, 2048, 256, 2048, 1\n    fDest pvsanal aDest, 2048, 256, 2048, 1\n    \n    ; Cross-synthesis\n    kAmp1 = 1\n    kAmp2 = 0.5\n    fCross pvscross fSource, fDest, kAmp1, kAmp2\n    \n    ; Resynthesize\n    aOut pvsynth fCross\n    \n    outs aOut, aOut\nendin\n\ninstr 4\n    ; Dynamic cross-synthesis\n    iAmp = 0.4\n    \n    ; Source with changing frequency\n    kFreq1 expseg 220, p3, 880\n    aSource poscil iAmp, kFreq1, giSaw\n    \n    ; Destination\n    iFreq2 = 330\n    aDest poscil iAmp, iFreq2, giSquare\n    \n    ; Analyze\n    fSource pvsanal aSource, 2048, 256, 2048, 1\n    fDest pvsanal aDest, 2048, 256, 2048, 1\n    \n    ; Cross with changing balance\n    kBalance linseg 1, p3, 0\n    kAmp2 = 1 - kBalance\n    \n    fCross pvscross fSource, fDest, kBalance, kAmp2\n    \n    ; Resynthesize\n    aOut pvsynth fCross\n    \n    outs aOut, aOut\nendin\n\ninstr 5\n    ; pvoc opcode: ares pvoc ktimpnt, kfmod, ifilcod [, ispecwp] [, iextractmode]\n    ; pvoc performs phase vocoding from analysis file\n    ; ktimpnt - time pointer\n    ; kfmod - frequency scaling\n    ; ifilcod - analysis file\n    \n    ; Note: pvoc typically reads from pre-analyzed files\n    ; This example shows the basic concept\n    \n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Generate and analyze source\n    aSource poscil iAmp, iFreq, giSaw\n    fSig pvsanal aSource, 2048, 256, 2048, 1\n    \n    ; Resynthesize with time/pitch manipulation\n    aOut pvsynth fSig\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic morph\ni1 0 4 220\n\n; Play independent morph\ni2 5 4 330\n\n; Play cross-synthesis\n; Format: start dur source_freq dest_freq\ni3 10 3 220 440\ni3 13 3 330 220\n\n; Play dynamic cross-synthesis\ni4 17 4 0\n\n; Play pvoc\ni5 22 3 294\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates advanced spectral techniques with buffering", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSaw ftgen 1, 0, 16384, 10, 1, 0.5, 0.3, 0.25, 0.2, 0.16, 0.14\n\ninstr 1\n    ; pvsbuffer opcode: kframes pvsbuffer fsig, ilength\n    ; pvsbuffer creates a circular buffer for spectral data\n    ; fsig - input spectrum\n    ; ilength - buffer length in seconds\n    \n    ; pvsbufread opcode: fsig pvsbufread ktimpnt, kfreqscale, ihandle [, ibufno] [, imode]\n    ; pvsbufread reads from spectral buffer\n    ; ktimpnt - time pointer (0-1)\n    ; kfreqscale - frequency scaling\n    ; ihandle - buffer handle from pvsbuffer\n    \n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Source\n    aSource poscil iAmp, iFreq, giSaw\n    \n    ; Analyze\n    fSig pvsanal aSource, 2048, 256, 2048, 1\n    \n    ; Create buffer (2 seconds)\n    kFrames pvsbuffer fSig, 2\n    \n    ; Read from buffer with time scrubbing\n    kTime phasor 0.5\n    kFreqScale = 1\n    fRead pvsbufread kTime, kFreqScale, kFrames\n    \n    ; Resynthesize\n    aOut pvsynth fRead\n    \n    outs aOut, aOut\nendin\n\ninstr 2\n    ; Spectral freeze with buffer\n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Source\n    aSource poscil iAmp, iFreq, giSaw\n    \n    ; Analyze\n    fSig pvsanal aSource, 2048, 256, 2048, 1\n    \n    ; Freeze at specific time\n    kFreezeTime = 0.5\n    kFreezeAmp linseg 0, p3*0.3, 0, 0.01, 1, p3*0.69, 1\n    kFreezeFreq = kFreezeAmp\n    \n    fFreeze pvsfreeze fSig, kFreezeAmp, kFreezeFreq\n    \n    ; Resynthesize\n    aOut pvsynth fFreeze\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; Multi-layer spectral processing\n    iAmp = 0.35\n    iFreq = p4\n    \n    ; Source\n    aSource poscil iAmp, iFreq, giSaw\n    \n    ; Analyze\n    fSig pvsanal aSource, 2048, 256, 2048, 1\n    \n    ; Layer 1: original\n    aOut1 pvsynth fSig\n    \n    ; Layer 2: blurred\n    fBlur pvsblur fSig, 0.1, 1\n    aOut2 pvsynth fBlur\n    \n    ; Layer 3: smoothed\n    fSmooth pvsmooth fSig, 0.5, 0.5\n    aOut3 pvsynth fSmooth\n    \n    ; Mix layers\n    aMix = aOut1*0.5 + aOut2*0.3 + aOut3*0.2\n    \n    outs aMix, aMix\nendin\n\ninstr 4\n    ; Spectral time-stretching\n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Source with time-varying content\n    kMod phasor 2\n    aSource poscil iAmp, iFreq*(1+kMod), giSaw\n    \n    ; Analyze\n    fSig pvsanal aSource, 2048, 256, 2048, 1\n    \n    ; Buffer\n    kFrames pvsbuffer fSig, 3\n    \n    ; Read at slower speed (time stretch)\n    kTime phasor 0.3\n    fStretch pvsbufread kTime, 1, kFrames\n    \n    ; Resynthesize\n    aOut pvsynth fStretch\n    \n    outs aOut, aOut\nendin\n\ninstr 5\n    ; Spectral pitch shifting\n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Source\n    aSource poscil iAmp, iFreq, giSaw\n    \n    ; Analyze\n    fSig pvsanal aSource, 2048, 256, 2048, 1\n    \n    ; Buffer\n    kFrames pvsbuffer fSig, 2\n    \n    ; Read with frequency scaling\n    kTime phasor 1\n    kFreqScale linseg 1, p3, 2\n    fPitchShift pvsbufread kTime, kFreqScale, kFrames\n    \n    ; Resynthesize\n    aOut pvsynth fPitchShift\n    \n    outs aOut, aOut\nendin\n\ninstr 6\n    ; Complex spectral effects chain\n    iAmp = 0.35\n    iFreq = p4\n    \n    ; Rich source\n    aSource poscil iAmp, iFreq, giSaw\n    \n    ; Analyze\n    fSig pvsanal aSource, 2048, 256, 2048, 1\n    \n    ; Blur\n    fBlur pvsblur fSig, 0.15, 2\n    \n    ; Smooth\n    fSmooth pvsmooth fBlur, 0.3, 0.4\n    \n    ; Create second signal for mixing\n    aSource2 poscil iAmp*0.5, iFreq*1.5, 1\n    fSig2 pvsanal aSource2, 2048, 256, 2048, 1\n    \n    ; Mix\n    fMix pvsmix fSmooth, fSig2\n    \n    ; Resynthesize\n    aOut pvsynth fMix\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play buffer scrubbing\ni1 0 4 220\n\n; Play spectral freeze\ni2 5 4 330\n\n; Play multi-layer\ni3 10 3 440\n\n; Play time-stretching\ni4 14 5 294\n\n; Play pitch shifting\ni5 20 4 392\n\n; Play effects chain\ni6 25 4 220\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the butbp opcode for second-order Butterworth band-pass filtering", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\ninstr 1\n    ; butbp opcode: ares butbp asig, kfreq, kband [, iskip]\n    ; butbp is a second-order Butterworth band-pass filter\n    ; asig - input audio signal\n    ; kfreq - center frequency in Hz\n    ; kband - bandwidth in Hz\n    ; iskip - skip initialization flag (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.4, p3-0.2, 0.4, 0.1, 0\n    \n    ; Generate white noise\n    aNoise noise kAmp, 0\n    \n    ; Sweep center frequency\n    kCenter expseg 200, p3, 3000\n    \n    ; Fixed bandwidth\n    kBW = 100\n    \n    ; Apply band-pass filter\n    aFilt butbp aNoise, kCenter, kBW\n    \n    out aFilt * 3\nendin\n\ninstr 2\n    ; Create vowel-like formants\n    kAmp madsr 0.02, 0.1, 0.6, 0.3\n    \n    ; Sawtooth source\n    aSaw vco2 kAmp*0.3, 220, 0\n    \n    ; Two formant filters for \"ah\" vowel\n    kF1 = 730\n    kF2 = 1090\n    kBW = 80\n    \n    aForm1 butbp aSaw, kF1, kBW\n    aForm2 butbp aSaw, kF2, kBW\n    \n    out (aForm1 + aForm2*0.7) * 2\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play sweeping bandpass on noise\ni1 0 4\n; Play formant filtering\ni2 4.5 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the reson opcode for second-order resonant filtering", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; reson opcode: ares reson asig, xcf, xbw [, iscl] [, iskip]\n    ; reson is a second-order resonant filter\n    ; asig - input audio signal\n    ; xcf - center frequency in Hz\n    ; xbw - bandwidth in Hz\n    ; iscl - scaling flag (1=no scaling, 2=peak response)\n    ; iskip - skip initialization flag (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.05, 0.3, p3-0.1, 0.3, 0.05, 0\n    \n    ; Generate noise burst\n    aNoise noise kAmp, 0\n    \n    ; Resonant filter at 440 Hz\n    kCF = 440\n    kBW = 20\n    \n    ; Apply reson filter\n    aFilt reson aNoise, kCF, kBW, 2\n    \n    outs aFilt, aFilt\nendin\n\ninstr 2\n    ; Plucked string simulation using impulse + reson\n    kAmp = 0.5\n    \n    ; Single impulse at start\n    aImp mpulse kAmp, 0\n    \n    ; Multiple resonant modes for string-like sound\n    kFreq = 220\n    aRes1 reson aImp, kFreq, 5, 2\n    aRes2 reson aImp, kFreq*2, 8, 2\n    aRes3 reson aImp, kFreq*3, 12, 2\n    \n    ; Decay envelope\n    kEnv expseg 1, p3, 0.001\n    \n    aMix = (aRes1 + aRes2*0.5 + aRes3*0.3) * kEnv\n    \n    outs aMix*0.3, aMix*0.3\nendin\n\ninstr 3\n    ; Resonant sweep effect\n    kAmp madsr 0.01, 0.1, 0.7, 0.3\n    \n    ; Sawtooth source\n    aSaw vco2 kAmp*0.25, 110, 0\n    \n    ; Sweep resonant frequency\n    kCF expseg 300, p3*0.5, 3000, p3*0.5, 400\n    \n    ; Narrow bandwidth for pronounced resonance\n    kBW = 30\n    \n    aFilt reson aSaw, kCF, kBW, 2\n    \n    outs aFilt, aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play resonant noise\ni1 0 2\n; Play plucked simulation\ni2 2.5 3\n; Play resonant sweep\ni3 6 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the resonk opcode for resonant filtering with k-rate frequency", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\ninstr 1\n    ; resonk opcode: ares resonk asig, kcf, kbw [, iscl] [, iskip]\n    ; resonk is similar to reson but with explicit k-rate frequency control\n    ; asig - input audio signal\n    ; kcf - center frequency in Hz (k-rate)\n    ; kbw - bandwidth in Hz (k-rate)\n    ; iscl - scaling flag\n    ; iskip - skip initialization flag (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.3, p3-0.2, 0.3, 0.1, 0\n    \n    ; Generate pulse train\n    aPulse vco2 kAmp, 55, 10, 0.3\n    \n    ; LFO modulates filter frequency\n    kLFO oscili 400, 2, 1\n    kCF = 800 + kLFO\n    \n    ; Variable bandwidth\n    kBW linseg 50, p3, 200\n    \n    ; Apply resonant filter\n    aFilt resonk aPulse, kCF, kBW, 2\n    \n    out aFilt\nendin\n\ninstr 2\n    ; Step-wise frequency changes\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; White noise\n    aNoise noise kAmp*0.3, 0\n    \n    ; Stepped center frequencies\n    kTime timeinsts\n    kCF init 300\n    \n    if kTime > p3*0.25 && kTime < p3*0.25+0.01 then\n        kCF = 600\n    elseif kTime > p3*0.5 && kTime < p3*0.5+0.01 then\n        kCF = 1200\n    elseif kTime > p3*0.75 && kTime < p3*0.75+0.01 then\n        kCF = 400\n    endif\n    \n    ; Fixed narrow bandwidth\n    kBW = 40\n    \n    aFilt resonk aNoise, kCF, kBW, 2\n    \n    out aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Sine wave for LFO\nf1 0 8192 10 1\n\n; Play LFO modulation\ni1 0 4\n; Play stepped frequencies\ni2 4.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the resonr opcode for resonant filtering with variable resonance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; resonr opcode: ares resonr asig, xcf, xbw, iscl [, iskip]\n    ; resonr is a resonant filter with improved response\n    ; asig - input audio signal\n    ; xcf - center frequency in Hz\n    ; xbw - bandwidth in Hz\n    ; iscl - scaling mode\n    ; iskip - skip initialization flag (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.3, p3-0.2, 0.3, 0.1, 0\n    \n    ; Sawtooth source\n    aSaw vco2 kAmp, 165, 0\n    \n    ; Fixed center frequency\n    kCF = 1200\n    \n    ; Sweep bandwidth (narrow to wide = high Q to low Q)\n    kBW expseg 10, p3*0.5, 500, p3*0.5, 20\n    \n    ; Apply resonant filter\n    aFiltL resonr aSaw, kCF, kBW, 2\n    aFiltR resonr aSaw, kCF*1.01, kBW, 2\n    \n    outs aFiltL, aFiltR\nendin\n\ninstr 2\n    ; Bell-like sound using resonr\n    kAmp expseg 0.001, 0.01, 0.4, p3-0.01, 0.001\n    \n    ; Impulse excitation\n    aImp mpulse kAmp, 0\n    \n    ; Multiple inharmonic resonances for bell timbre\n    kCF1 = 440\n    kCF2 = 440 * 2.76\n    kCF3 = 440 * 5.4\n    \n    aRes1 resonr aImp, kCF1, 15, 2\n    aRes2 resonr aImp, kCF2, 20, 2\n    aRes3 resonr aImp, kCF3, 30, 2\n    \n    aMix = aRes1 + aRes2*0.6 + aRes3*0.3\n    \n    outs aMix*0.5, aMix*0.5\nendin\n\ninstr 3\n    ; Vocal formant synthesis\n    kAmp madsr 0.02, 0.1, 0.7, 0.3\n    \n    ; Buzz source\n    aBuzz buzz kAmp*0.2, 220, 30, giSine\n    \n    ; Formants for \"ee\" vowel\n    kF1 = 270\n    kF2 = 2300\n    kF3 = 3000\n    \n    aForm1 resonr aBuzz, kF1, 50, 2\n    aForm2 resonr aBuzz, kF2, 100, 2\n    aForm3 resonr aBuzz, kF3, 150, 2\n    \n    aMix = aForm1 + aForm2*0.5 + aForm3*0.3\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play bandwidth sweep\ni1 0 4\n; Play bell sound\ni2 4.5 3\n; Play vowel sound\ni3 8 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the resony opcode for resonant filtering with k-rate frequency and bandwidth", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; resony opcode: ares resony asig, kcf, kbw, inum, ksep [, isepmode] [, iscl] [, iskip]\n    ; resony provides multiple parallel resonators\n    ; asig - input audio signal\n    ; kcf - base center frequency in Hz\n    ; kbw - bandwidth in Hz\n    ; inum - number of filters\n    ; ksep - frequency separation\n    ; isepmode - separation mode (1=multiplier, 2=additive)\n    ; iscl - scaling flag\n    ; iskip - skip initialization flag (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.3, p3-0.2, 0.3, 0.1, 0\n    \n    ; White noise source\n    aNoise noise kAmp, 0\n    \n    ; Sweep base frequency\n    kCF linseg 200, p3, 1000\n    \n    ; Bandwidth\n    kBW = 30\n    \n    ; 5 harmonically related resonators\n    iNum = 5\n    kSep = 2  ; Octave spacing (multiplicative)\n    \n    ; Apply multiple resonators\n    aFilt resony aNoise, kCF, kBW, iNum, kSep, 1, 2\n    \n    outs aFilt, aFilt\nendin\n\ninstr 2\n    ; Harmonic resonator bank\n    kAmp madsr 0.02, 0.1, 0.6, 0.3\n    \n    ; Pulse excitation\n    aPulse vco2 kAmp*0.25, 110, 10, 0.2\n    \n    ; Base frequency\n    kCF = 220\n    kBW = 20\n    \n    ; 8 harmonic resonators\n    iNum = 8\n    kSep = 220  ; Additive spacing (harmonic)\n    \n    aFilt resony aPulse, kCF, kBW, iNum, kSep, 2, 2\n    \n    outs aFilt, aFilt\nendin\n\ninstr 3\n    ; Dynamic spectral filtering\n    kAmp linseg 0, 0.1, 0.3, p3-0.2, 0.3, 0.1, 0\n    \n    ; Sawtooth\n    aSaw vco2 kAmp, 165, 0\n    \n    ; Sweep base frequency\n    kCF expseg 150, p3*0.5, 1500, p3*0.5, 200\n    \n    ; Variable bandwidth\n    kBW linseg 50, p3, 10\n    \n    ; 6 resonators with octave spacing\n    iNum = 6\n    kSep = 2\n    \n    aFilt resony aSaw, kCF, kBW, iNum, kSep, 1, 2\n    \n    outs aFilt*0.5, aFilt*0.5\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play harmonic sweep\ni1 0 4\n; Play harmonic bank\ni2 4.5 3\n; Play dynamic spectral filtering\ni3 8 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the resonx opcode for emulating second-order resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\ninstr 1\n    ; resonx opcode: ares resonx asig, xcf, xbw [, inumlayer] [, iscl] [, iskip]\n    ; resonx emulates a second-order resonant filter\n    ; asig - input audio signal\n    ; xcf - center frequency in Hz\n    ; xbw - bandwidth in Hz\n    ; inumlayer - number of layers (1-4)\n    ; iscl - scaling flag\n    ; iskip - skip initialization flag (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.05, 0.3, p3-0.1, 0.3, 0.05, 0\n    \n    ; Generate noise\n    aNoise noise kAmp, 0\n    \n    ; Sweep center frequency\n    kCF expseg 300, p3, 2000\n    \n    ; Narrow bandwidth\n    kBW = 40\n    \n    ; Single layer resonant filter\n    aFilt resonx aNoise, kCF, kBW, 1, 2\n    \n    out aFilt\nendin\n\ninstr 2\n    ; Multi-layer for sharper resonance\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Sawtooth source\n    aSaw vco2 kAmp*0.25, 220, 0\n    \n    ; Fixed frequency\n    kCF = 1000\n    kBW = 25\n    \n    ; 3 layers for steeper response\n    aFilt resonx aSaw, kCF, kBW, 3, 2\n    \n    out aFilt\nendin\n\ninstr 3\n    ; Pitched percussion using resonx\n    kAmp expseg 0.001, 0.005, 0.5, p3-0.005, 0.001\n    \n    ; Click impulse\n    aClick mpulse kAmp, 0\n    \n    ; Resonant filter creates pitch\n    kCF = 440\n    kBW = 15\n    \n    ; 2 layers\n    aFilt resonx aClick, kCF, kBW, 2, 2\n    \n    out aFilt * 0.6\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play sweeping filter\ni1 0 4\n; Play multi-layer\ni2 4.5 3\n; Play percussion sounds\ni3 8 0.5\ni3 8.5 0.5\ni3 9 0.5\ni3 9.5 1\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the resonxk opcode for resonant filtering with k-rate frequency control", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; resonxk opcode: ares resonxk asig, kcf, kbw [, inumlayer] [, iscl] [, iskip]\n    ; resonxk is resonx with explicit k-rate frequency\n    ; asig - input audio signal\n    ; kcf - center frequency in Hz (k-rate)\n    ; kbw - bandwidth in Hz (k-rate)\n    ; inumlayer - number of layers\n    ; iscl - scaling flag\n    ; iskip - skip initialization flag (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.3, p3-0.2, 0.3, 0.1, 0\n    \n    ; Pulse wave\n    aPulse vco2 kAmp, 110, 10, 0.4\n    \n    ; LFO modulates filter\n    kLFO oscili 300, 3, giSine\n    kCF = 700 + kLFO\n    \n    ; Fixed bandwidth\n    kBW = 50\n    \n    ; 2-layer filter\n    aFiltL resonxk aPulse, kCF, kBW, 2, 2\n    aFiltR resonxk aPulse, kCF*1.02, kBW, 2, 2\n    \n    outs aFiltL, aFiltR\nendin\n\ninstr 2\n    ; Random filter jumps\n    kAmp madsr 0.02, 0.1, 0.6, 0.3\n    \n    ; Noise source\n    aNoise noise kAmp*0.25, 0\n    \n    ; Random center frequency\n    kCF randomh 300, 2000, 4\n    \n    ; Random bandwidth\n    kBW randomh 30, 100, 2\n    \n    ; Single layer\n    aFilt resonxk aNoise, kCF, kBW, 1, 2\n    \n    outs aFilt, aFilt\nendin\n\ninstr 3\n    ; Quantized frequency steps\n    kAmp linseg 0, 0.05, 0.3, p3-0.1, 0.3, 0.05, 0\n    \n    ; Sawtooth\n    aSaw vco2 kAmp, 165, 0\n    \n    ; Stepped frequencies (pentatonic scale)\n    kTime timeinsts\n    kStep = int(kTime * 4) % 5\n    kScale[] fillarray 200, 225, 267, 300, 400\n    kCF = kScale[kStep]\n    \n    kBW = 40\n    \n    ; 3-layer filter\n    aFilt resonxk aSaw, kCF, kBW, 3, 2\n    \n    outs aFilt, aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play LFO modulation\ni1 0 4\n; Play random jumps\ni2 4.5 4\n; Play quantized steps\ni3 9 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the tbvcf opcode for modeling a TB-303 voltage-controlled filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; tbvcf opcode: ares tbvcf asig, xfco, xres, kdist, kasym [, iskip]\n    ; tbvcf models the TB-303 voltage-controlled filter\n    ; asig - input audio signal\n    ; xfco - cutoff frequency in Hz\n    ; xres - resonance (0-1, self-oscillates above ~0.95)\n    ; kdist - distortion amount (0-inf, typically 0-2)\n    ; kasym - asymmetry of distortion (0-1)\n    ; iskip - skip initialization flag (optional)\n    \n    ; Amplitude envelope\n    kAmp madsr 0.005, 0.05, 0.4, 0.2\n    \n    ; Classic TB-303 sawtooth\n    aSaw vco2 kAmp*0.3, 82.41, 0\n    \n    ; Fast filter sweep (accent)\n    kCutoff expseg 100, 0.05, 2000, 0.15, 300, p3-0.2, 150\n    \n    ; High resonance for squelchy sound\n    kRes = 0.85\n    \n    ; Moderate distortion\n    kDist = 0.5\n    \n    ; Slight asymmetry\n    kAsym = 0.3\n    \n    ; Apply TB-303 filter\n    aFilt tbvcf aSaw, kCutoff, kRes, kDist, kAsym\n    \n    outs aFilt, aFilt\nendin\n\ninstr 2\n    ; Classic acid bassline pattern\n    kAmp madsr 0.003, 0.03, 0.3, 0.15\n    \n    ; Get note frequency from score\n    iFreq = p4\n    iAccent = p5\n    \n    ; Sawtooth oscillator\n    aSaw vco2 kAmp*0.3, iFreq, 0\n    \n    ; Filter envelope depends on accent\n    iCutStart = (iAccent > 0) ? 150 : 100\n    iCutPeak = (iAccent > 0) ? 3000 : 1500\n    iCutEnd = (iAccent > 0) ? 400 : 200\n    \n    kCutoff expseg iCutStart, 0.04, iCutPeak, 0.12, iCutEnd, p3-0.16, iCutStart\n    \n    ; Resonance\n    kRes = 0.88\n    \n    ; Distortion\n    kDist = 0.4\n    kAsym = 0.2\n    \n    aFilt tbvcf aSaw, kCutoff, kRes, kDist, kAsym\n    \n    outs aFilt, aFilt\nendin\n\ninstr 3\n    ; Self-oscillation demonstration\n    kAmp linseg 0, 0.1, 0.2, p3-0.2, 0.2, 0.1, 0\n    \n    ; Low-level noise input\n    aNoise noise 0.01, 0\n    \n    ; Sweep cutoff for self-oscillation pitch\n    kCutoff linseg 200, p3, 1000\n    \n    ; Very high resonance (self-oscillates)\n    kRes = 0.98\n    \n    ; No distortion for pure tone\n    kDist = 0\n    kAsym = 0\n    \n    aFilt tbvcf aNoise, kCutoff, kRes, kDist, kAsym\n    \n    outs aFilt*kAmp, aFilt*kAmp\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play accented note\ni1 0 1.5\n\n; Acid bassline pattern (freq, accent)\n; Note: p4=frequency, p5=accent(0 or 1)\ni2 2    0.5  82.41  1   ; C accented\ni2 2.5  0.25 82.41  0   ; C\ni2 2.75 0.25 110.00 0   ; A\ni2 3    0.5  146.83 1   ; D accented\ni2 3.5  0.5  110.00 0   ; A\ni2 4    0.5  82.41  1   ; C accented\ni2 4.5  0.5  73.42  0   ; D\ni2 5    1.0  65.41  1   ; C accented\n\n; Self-oscillation\ni3 6.5 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the butbr opcode for second-order Butterworth band-reject filtering", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; butbr opcode: ares butbr asig, kfreq, kband [, iskip]\n    ; butbr is a second-order Butterworth band-reject (notch) filter\n    ; asig - input audio signal\n    ; kfreq - center frequency to reject (in Hz)\n    ; kband - bandwidth of rejection (in Hz)\n    ; iskip - skip initialization flag (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.4, p3-0.2, 0.4, 0.1, 0\n    \n    ; Generate signal with multiple harmonics\n    aSig1 poscil kAmp*0.3, 220, giSine\n    aSig2 poscil kAmp*0.25, 440, giSine\n    aSig3 poscil kAmp*0.2, 660, giSine\n    aSig4 poscil kAmp*0.15, 880, giSine\n    aMix = aSig1 + aSig2 + aSig3 + aSig4\n    \n    ; Notch out 440 Hz (remove second harmonic)\n    kNotchFreq = 440\n    kBW = 20\n    \n    ; Apply band-reject filter\n    aFilt butbr aMix, kNotchFreq, kBW\n    \n    out aFilt\nendin\n\ninstr 2\n    ; Remove specific frequency from noise\n    kAmp madsr 0.01, 0.1, 0.7, 0.3\n    \n    ; Generate white noise\n    aNoise noise kAmp*0.4, 0\n    \n    ; Sweep notch frequency\n    kNotchFreq expseg 200, p3, 2000\n    \n    ; Narrow notch\n    kBW = 30\n    \n    ; Apply notch filter\n    aFilt butbr aNoise, kNotchFreq, kBW\n    \n    out aFilt\nendin\n\ninstr 3\n    ; Multiple notch filters for comb-like effect\n    kAmp linseg 0, 0.05, 0.4, p3-0.1, 0.4, 0.05, 0\n    \n    ; Bright sawtooth\n    aSaw vco2 kAmp, 165, 0\n    \n    ; Apply multiple notches at harmonic intervals\n    kBase = 550\n    kBW = 40\n    \n    ; First notch\n    aFilt butbr aSaw, kBase, kBW\n    ; Second notch\n    aFilt butbr aFilt, kBase*2, kBW\n    ; Third notch\n    aFilt butbr aFilt, kBase*3, kBW\n    \n    out aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play harmonic removal\ni1 0 3\n; Play sweeping notch on noise\ni2 3.5 4\n; Play multiple notches\ni3 8 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the butbr opcode for removing hum and unwanted resonances", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; butbr opcode: ares butbr asig, kfreq, kband [, iskip]\n    ; Remove 60 Hz hum and harmonics\n    ; asig - input audio signal\n    ; kfreq - center frequency to reject\n    ; kband - bandwidth of rejection\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.3, p3-0.2, 0.3, 0.1, 0\n    \n    ; Generate \"contaminated\" signal with 60 Hz hum\n    aSignal vco2 kAmp*0.3, 440, 0\n    aHum poscil kAmp*0.15, 60, 1\n    aHum2 poscil kAmp*0.08, 120, 1\n    aMix = aSignal + aHum + aHum2\n    \n    ; Remove 60 Hz hum\n    aFilt butbr aMix, 60, 5\n    ; Remove 120 Hz harmonic\n    aFilt butbr aFilt, 120, 5\n    \n    outs aFilt, aFilt\nendin\n\ninstr 2\n    ; Notch filter for feedback suppression\n    kAmp madsr 0.02, 0.1, 0.6, 0.3\n    \n    ; Complex signal\n    aSaw vco2 kAmp*0.2, 220, 0\n    aSq vco2 kAmp*0.2, 220.5, 2\n    aMix = aSaw + aSq\n    \n    ; Suppress potential feedback frequency\n    kFeedbackFreq = 1200\n    kBW = 50\n    \n    aFilt butbr aMix, kFeedbackFreq, kBW\n    \n    outs aFilt, aFilt\nendin\n\ninstr 3\n    ; Phaser-like effect using moving notches\n    kAmp linseg 0, 0.1, 0.35, p3-0.2, 0.35, 0.1, 0\n    \n    ; Rich source\n    aSaw vco2 kAmp, 330, 0\n    \n    ; LFO controls notch positions\n    kLFO oscili 800, 0.3, 1\n    kNotch1 = 500 + kLFO\n    kNotch2 = 1200 + kLFO*1.5\n    \n    kBW = 100\n    \n    ; Apply moving notches\n    aFilt butbr aSaw, kNotch1, kBW\n    aFilt butbr aFilt, kNotch2, kBW\n    \n    outs aFilt, aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Sine wave for oscillators\nf1 0 8192 10 1\n\n; Play hum removal\ni1 0 3\n; Play feedback suppression\ni2 3.5 3\n; Play phaser effect\ni3 7 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the areson opcode for second-order band-reject filtering", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; areson opcode: ares areson asig, kcf, kbw [, iscl] [, iskip]\n    ; areson is a second-order band-reject (notch) filter\n    ; asig - input audio signal\n    ; kcf - center frequency to reject (in Hz)\n    ; kbw - bandwidth in Hz\n    ; iscl - scaling flag (optional)\n    ; iskip - skip initialization flag (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.4, p3-0.2, 0.4, 0.1, 0\n    \n    ; Generate harmonic series\n    aSig1 poscil kAmp*0.25, 200, giSine\n    aSig2 poscil kAmp*0.2, 400, giSine\n    aSig3 poscil kAmp*0.15, 600, giSine\n    aSig4 poscil kAmp*0.12, 800, giSine\n    aSig5 poscil kAmp*0.1, 1000, giSine\n    aMix = aSig1 + aSig2 + aSig3 + aSig4 + aSig5\n    \n    ; Notch out 600 Hz\n    kNotchFreq = 600\n    kBW = 25\n    \n    ; Apply areson filter\n    aFilt areson aMix, kNotchFreq, kBW\n    \n    out aFilt\nendin\n\ninstr 2\n    ; Sweep notch through spectrum\n    kAmp madsr 0.02, 0.1, 0.6, 0.3\n    \n    ; Bright sawtooth source\n    aSaw vco2 kAmp*0.35, 220, 0\n    \n    ; Sweep notch frequency\n    kNotchFreq linseg 300, p3*0.5, 2000, p3*0.5, 400\n    \n    ; Narrow bandwidth for pronounced effect\n    kBW = 30\n    \n    ; Apply notch filter\n    aFilt areson aSaw, kNotchFreq, kBW\n    \n    out aFilt\nendin\n\ninstr 3\n    ; Create formant-removal effect\n    kAmp linseg 0, 0.05, 0.4, p3-0.1, 0.4, 0.05, 0\n    \n    ; Buzz source (voice-like)\n    aBuzz buzz kAmp*0.3, 150, 20, 1\n    \n    ; Remove formant regions to create \"anti-vowel\"\n    kNotch1 = 730   ; Remove \"ah\" first formant\n    kNotch2 = 1090  ; Remove \"ah\" second formant\n    kBW = 80\n    \n    ; Apply multiple notches\n    aFilt areson aBuzz, kNotch1, kBW\n    aFilt areson aFilt, kNotch2, kBW\n    \n    out aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Cosine for buzz\nf1 0 8192 11 1\n\n; Play harmonic removal\ni1 0 3\n; Play sweeping notch\ni2 3.5 4\n; Play formant removal\ni3 8 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the areson opcode for creating comb-filter effects", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; areson opcode: ares areson asig, kcf, kbw [, iscl] [, iskip]\n    ; Create comb-like filtering with multiple notches\n    ; asig - input audio signal\n    ; kcf - center frequency to reject\n    ; kbw - bandwidth\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.3, p3-0.2, 0.3, 0.1, 0\n    \n    ; Generate noise\n    aNoise noise kAmp, 0\n    \n    ; Create harmonic series of notches\n    kBase = 200\n    kBW = 20\n    \n    ; Apply multiple notches at harmonic intervals\n    aFilt = aNoise\n    iNotch = 1\n    while iNotch <= 8 do\n        aFilt areson aFilt, kBase*iNotch, kBW\n        iNotch += 1\n    od\n    \n    outs aFilt*2, aFilt*2\nendin\n\ninstr 2\n    ; Dynamic comb filter with variable spacing\n    kAmp madsr 0.02, 0.1, 0.6, 0.3\n    \n    ; Square wave source\n    aSq vco2 kAmp*0.25, 165, 2\n    \n    ; Variable notch spacing\n    kSpacing linseg 150, p3, 400\n    kBW = 30\n    \n    ; Apply 6 notches with variable spacing\n    aFilt = aSq\n    iNotch = 1\n    while iNotch <= 6 do\n        aFilt areson aFilt, kSpacing*iNotch, kBW\n        iNotch += 1\n    od\n    \n    outs aFilt, aFilt\nendin\n\ninstr 3\n    ; Metallic/robotic effect\n    kAmp linseg 0, 0.05, 0.35, p3-0.1, 0.35, 0.05, 0\n    \n    ; Voice-like buzz\n    aBuzz buzz kAmp*0.3, 180, 25, giSine\n    \n    ; Inharmonic notch series for metallic timbre\n    kNotches[] fillarray 317, 689, 1123, 1847, 2456\n    kBW = 50\n    \n    ; Apply each notch\n    aFilt = aBuzz\n    iCount = 0\n    while iCount < lenarray(kNotches) do\n        aFilt areson aFilt, kNotches[iCount], kBW\n        iCount += 1\n    od\n    \n    outs aFilt, aFilt\nendin\n\ninstr 4\n    ; Phasing/flanging effect with moving notches\n    kAmp madsr 0.01, 0.15, 0.5, 0.4\n    \n    ; Rich sawtooth\n    aSaw vco2 kAmp*0.25, 220, 0\n    \n    ; LFO modulates notch positions\n    kLFO oscili 300, 0.4, giSine\n    \n    kBW = 40\n    \n    ; Multiple notches move together\n    aFilt = aSaw\n    iNotch = 1\n    while iNotch <= 5 do\n        kNotchFreq = 400*iNotch + kLFO\n        aFilt areson aFilt, kNotchFreq, kBW\n        iNotch += 1\n    od\n    \n    outs aFilt, aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play harmonic comb filter\ni1 0 4\n; Play variable spacing\ni2 4.5 4\n; Play metallic effect\ni3 9 3\n; Play phasing effect\ni4 12.5 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates using butbr for precise frequency notching in subtractive synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sawtooth\ngiSaw ftgen 1, 0, 8192, 10, 1, 0.5, 0.333, 0.25, 0.2, 0.166, 0.142, 0.125\n\ninstr 1\n    ; butbr opcode: ares butbr asig, kfreq, kband [, iskip]\n    ; Sculpt timbre by removing specific frequency ranges\n    ; asig - input audio signal\n    ; kfreq - center frequency to reject\n    ; kband - bandwidth\n    \n    ; Amplitude envelope\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Detuned sawtooth oscillators\n    aSaw1 poscil kAmp*0.2, 110, giSaw\n    aSaw2 poscil kAmp*0.2, 110.5, giSaw\n    aMix = aSaw1 + aSaw2\n    \n    ; Remove specific harmonics to create unique timbre\n    ; Remove 3rd harmonic region\n    aFilt butbr aMix, 330, 40\n    ; Remove 7th harmonic region\n    aFilt butbr aFilt, 770, 50\n    \n    ; Apply low-pass to smooth\n    aFilt tone aFilt, 2000\n    \n    outs aFilt, aFilt\nendin\n\ninstr 2\n    ; Hollowed-out bass sound\n    kAmp madsr 0.005, 0.08, 0.5, 0.25\n    \n    ; Low frequency sawtooth\n    aSaw vco2 kAmp*0.35, 55, 0\n    \n    ; Remove mid-range to create \"scooped\" bass\n    aFilt butbr aSaw, 350, 200\n    aFilt butbr aFilt, 800, 250\n    \n    ; Boost highs with resonant filter\n    aRes reson aFilt, 2500, 200, 2\n    aRes balance aRes, aFilt\n    \n    aMix = aFilt + aRes*0.3\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; Nasal/telephone quality by removing frequencies\n    kAmp linseg 0, 0.05, 0.35, p3-0.1, 0.35, 0.05, 0\n    \n    ; Buzz source\n    aBuzz buzz kAmp*0.3, 150, 30, 1\n    \n    ; Remove very low and very high, keep mid\n    ; This creates telephone-like bandpass effect via notches\n    aFilt butbr aBuzz, 100, 80   ; Remove lows\n    aFilt butbr aFilt, 3500, 1000 ; Remove highs\n    \n    outs aFilt, aFilt\nendin\n\ninstr 4\n    ; Animated timbre with moving notches\n    kAmp madsr 0.02, 0.15, 0.55, 0.35\n    \n    ; Complex waveform\n    aSaw vco2 kAmp*0.15, 220, 0\n    aSq vco2 kAmp*0.15, 220.3, 2\n    aMix = aSaw + aSq\n    \n    ; Two independent LFOs control notch positions\n    kLFO1 oscili 500, 0.3, 1\n    kLFO2 oscili 700, 0.47, 1\n    \n    kNotch1 = 600 + kLFO1\n    kNotch2 = 1400 + kLFO2\n    \n    aFilt butbr aMix, kNotch1, 60\n    aFilt butbr aFilt, kNotch2, 80\n    \n    outs aFilt, aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Cosine for buzz\nf1 0 8192 11 1\n\n; Play harmonic sculpting\ni1 0 3\ni1 1 3\ni1 2 3\n\n; Play scooped bass\ni2 5 2.5\ni2 6 2.5\n\n; Play telephone effect\ni3 9 3\n\n; Play animated notches\ni4 12.5 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the comb opcode for creating metallic resonances", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; comb opcode: ares comb asig, krvt, ilpt [, iskip] [, insmps]\n    ; comb is a comb filter with a fixed delay time\n    ; asig - input audio signal\n    ; krvt - reverberation time (time for signal to decay to 1/1000 or -60dB)\n    ; ilpt - loop time (delay time in seconds)\n    ; iskip - skip initialization flag (optional)\n    ; insmps - loop time in samples (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.01, 0.6, p3-0.2, 0.6, 0.19, 0\n    \n    ; Short impulse as excitation\n    aImpulse mpulse kAmp, 0\n    \n    ; Comb filter creates pitched resonance\n    ; Loop time determines pitch: 1/freq = loop time\n    iLoopTime = 1/220  ; Creates 220 Hz resonance\n    kRvt = 1.5         ; Decay time\n    \n    ; Apply comb filter\n    aRes comb aImpulse, kRvt, iLoopTime\n    \n    out aRes\nendin\n\ninstr 2\n    ; Plucked string simulation\n    kAmp madsr 0.001, 0.1, 0.3, 0.2\n    \n    ; Noise burst for initial excitation\n    aNoise noise kAmp*0.8, 0\n    aExcite = aNoise * (1 - linseg(0, 0.03, 1, 0.001, 1))\n    \n    ; Comb filter creates pitched tone from noise\n    iFreq = p4\n    iLoopTime = 1/iFreq\n    kRvt = 3\n    \n    aPluck comb aExcite, kRvt, iLoopTime\n    \n    out aPluck*0.5\nendin\n\ninstr 3\n    ; Metallic percussion\n    kAmp linseg 0.7, 0.001, 0.6, p3-0.001, 0\n    \n    ; Impulse excitation\n    aImp mpulse kAmp, 0\n    \n    ; Multiple inharmonic comb filters\n    iLoop1 = 1/287\n    iLoop2 = 1/435\n    iLoop3 = 1/678\n    \n    aComb1 comb aImp, 0.8, iLoop1\n    aComb2 comb aImp, 0.6, iLoop2\n    aComb3 comb aImp, 0.5, iLoop3\n    \n    aMix = aComb1 + aComb2*0.7 + aComb3*0.5\n    \n    out aMix*0.4\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic comb resonance\ni1 0 2\ni1 2.5 2\n\n; Play plucked string at different pitches\ni2 5 2 220\ni2 6 2 330\ni2 7 2 440\n\n; Play metallic percussion\ni3 9.5 1.5\ni3 10.5 1.5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the vcomb opcode for time-varying comb filtering", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; vcomb opcode: ares vcomb asig, krvt, xlpt, imaxlpt [, iskip] [, insmps]\n    ; vcomb is a comb filter with variable delay time\n    ; asig - input audio signal\n    ; krvt - reverberation time\n    ; xlpt - loop time (can be k-rate or a-rate)\n    ; imaxlpt - maximum loop time\n    ; iskip - skip initialization flag (optional)\n    ; insmps - use samples instead of seconds (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.01, 0.5, p3-0.2, 0.5, 0.19, 0\n    \n    ; Impulse train as excitation\n    aExcite mpulse kAmp*0.6, 8\n    \n    ; Sweep the comb frequency (pitch bend effect)\n    kLoopTime linseg 1/220, p3, 1/440\n    kRvt = 2\n    iMaxLoop = 1/100  ; Maximum delay time\n    \n    ; Apply variable comb filter\n    aRes vcomb aExcite, kRvt, kLoopTime, iMaxLoop\n    \n    outs aRes, aRes\nendin\n\ninstr 2\n    ; Vibrato effect with vcomb\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Noise excitation\n    aNoise noise kAmp*0.4, 0\n    aExcite = aNoise * (1 - linseg(0, 0.05, 1, 0.01, 1))\n    \n    ; Base frequency\n    iBaseFreq = 330\n    iBaseLoop = 1/iBaseFreq\n    \n    ; Add vibrato with LFO\n    kVib oscili 0.002, 5, giSine\n    kLoopTime = iBaseLoop + kVib\n    \n    kRvt = 2.5\n    iMaxLoop = 1/100\n    \n    aComb vcomb aExcite, kRvt, kLoopTime, iMaxLoop\n    \n    outs aComb*0.6, aComb*0.6\nendin\n\ninstr 3\n    ; Doppler-like pitch shifting\n    kAmp linseg 0, 0.05, 0.4, p3-0.1, 0.4, 0.05, 0\n    \n    ; Continuous excitation\n    aNoise noise kAmp*0.3, 0\n    \n    ; Rapid pitch change (like passing by)\n    kLoopTime expseg 1/600, p3*0.3, 1/200, p3*0.7, 1/800\n    \n    kRvt = 1.5\n    iMaxLoop = 1/100\n    \n    aComb vcomb aNoise, kRvt, kLoopTime, iMaxLoop\n    \n    outs aComb, aComb\nendin\n\ninstr 4\n    ; Flanging effect using vcomb\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    ; Rich sawtooth source\n    aSaw vco2 kAmp*0.25, 220, 0\n    \n    ; Very short, modulated delay for flanging\n    kLFO oscili 0.005, 0.3, giSine\n    kLoopTime = 0.008 + kLFO\n    \n    kRvt = 0.3\n    iMaxLoop = 0.02\n    \n    aFlange vcomb aSaw, kRvt, kLoopTime, iMaxLoop\n    \n    ; Mix wet and dry\n    aMix = aSaw*0.5 + aFlange*0.5\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play pitch sweep\ni1 0 4\n\n; Play vibrato\ni2 4.5 3\n\n; Play doppler effect\ni3 8 3\n\n; Play flanging\ni4 11.5 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the alpass opcode for allpass filtering in reverb design", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; alpass opcode: ares alpass asig, krvt, ilpt [, iskip] [, insmps]\n    ; alpass is an allpass filter with a fixed delay time\n    ; asig - input audio signal\n    ; krvt - reverberation time\n    ; ilpt - loop time (delay time in seconds)\n    ; iskip - skip initialization flag (optional)\n    ; insmps - loop time in samples (optional)\n    \n    ; Amplitude envelope\n    kAmp madsr 0.01, 0.1, 0.5, 0.3\n    \n    ; Simple tone to process\n    aOsc poscil kAmp*0.3, 440, giSine\n    \n    ; Single allpass filter\n    ; Allpass filters pass all frequencies but change phase relationships\n    iLoopTime = 0.03  ; 30ms delay\n    kRvt = 1.5\n    \n    aAP alpass aOsc, kRvt, iLoopTime\n    \n    outs aOsc*0.5, aAP*0.5\nendin\n\ninstr 2\n    ; Simple reverb using series allpass filters\n    kAmp madsr 0.005, 0.08, 0.4, 0.4\n    \n    ; Percussive sound\n    aPluck pluck kAmp*0.4, 330, 330, 0, 1\n    \n    ; Classic Schroeder reverb topology: 4 allpass filters in series\n    aAP1 alpass aPluck, 1.5, 0.0297\n    aAP2 alpass aAP1, 1.5, 0.0371\n    aAP3 alpass aAP2, 1.5, 0.0411\n    aAP4 alpass aAP3, 1.5, 0.0437\n    \n    ; Mix dry and wet\n    aLeft = aPluck*0.4 + aAP4*0.6\n    aRight = aPluck*0.4 + aAP4*0.6\n    \n    outs aLeft, aRight\nendin\n\ninstr 3\n    ; Dense reverb with parallel and series allpass\n    kAmp linseg 0, 0.01, 0.3, p3-0.2, 0.3, 0.19, 0\n    \n    ; Impulse excitation\n    aImp mpulse kAmp, 0\n    \n    ; First stage: parallel allpass filters\n    aAP1a alpass aImp, 1.0, 0.023\n    aAP1b alpass aImp, 1.0, 0.031\n    aPara = (aAP1a + aAP1b) * 0.5\n    \n    ; Second stage: series allpass filters\n    aAP2 alpass aPara, 1.8, 0.041\n    aAP3 alpass aAP2, 1.8, 0.053\n    aAP4 alpass aAP3, 1.8, 0.067\n    \n    outs aAP4, aAP4\nendin\n\ninstr 4\n    ; Diffusion network for room simulation\n    kAmp madsr 0.002, 0.05, 0.3, 0.5\n    \n    ; Hand clap (noise burst)\n    aNoise noise kAmp*0.5, 0\n    aClap = aNoise * (1 - linseg(0, 0.02, 1, 0.001, 1))\n    \n    ; Dense diffusion using multiple allpass stages\n    ; Short delays for early reflections\n    aAP1 alpass aClap, 0.8, 0.0051\n    aAP2 alpass aAP1, 0.8, 0.0071\n    aAP3 alpass aAP2, 0.8, 0.0093\n    aAP4 alpass aAP3, 0.8, 0.0113\n    \n    ; Longer delays for late reverb\n    aAP5 alpass aAP4, 2.0, 0.0371\n    aAP6 alpass aAP5, 2.0, 0.0479\n    \n    ; Stereo spread\n    aLeft = aClap*0.3 + aAP6*0.7\n    aRight = aClap*0.3 + aAP4*0.4 + aAP6*0.6\n    \n    outs aLeft, aRight\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic allpass\ni1 0 2\n\n; Play simple reverb\ni2 3 2\ni2 4 2\ni2 5 2\n\n; Play dense reverb\ni3 7.5 3\n\n; Play diffusion\ni4 11 2\ni4 12 2\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the valpass opcode for time-varying allpass filtering", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; valpass opcode: ares valpass asig, krvt, xlpt, imaxlpt [, iskip] [, insmps]\n    ; valpass is an allpass filter with variable delay time\n    ; asig - input audio signal\n    ; krvt - reverberation time\n    ; xlpt - loop time (can be k-rate or a-rate)\n    ; imaxlpt - maximum loop time\n    ; iskip - skip initialization flag (optional)\n    ; insmps - use samples instead of seconds (optional)\n    \n    ; Amplitude envelope\n    kAmp madsr 0.01, 0.1, 0.5, 0.3\n    \n    ; Source oscillator\n    aOsc poscil kAmp*0.3, 330, giSine\n    \n    ; Sweep allpass delay time\n    kLoopTime linseg 0.01, p3, 0.08\n    kRvt = 1.0\n    iMaxLoop = 0.1\n    \n    ; Apply variable allpass filter\n    aAP valpass aOsc, kRvt, kLoopTime, iMaxLoop\n    \n    outs aOsc*0.4, aAP*0.6\nendin\n\ninstr 2\n    ; Phaser effect using modulated valpass\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    ; Rich sawtooth\n    aSaw vco2 kAmp*0.25, 220, 0\n    \n    ; LFO modulates allpass delay\n    kLFO oscili 0.008, 0.4, giSine\n    kLoopTime = 0.015 + kLFO\n    \n    kRvt = 0.5\n    iMaxLoop = 0.03\n    \n    ; Multiple stages for deeper phasing\n    aAP1 valpass aSaw, kRvt, kLoopTime, iMaxLoop\n    aAP2 valpass aAP1, kRvt, kLoopTime*1.3, iMaxLoop\n    aAP3 valpass aAP2, kRvt, kLoopTime*1.7, iMaxLoop\n    \n    ; Mix with dry signal\n    aMix = aSaw*0.4 + aAP3*0.6\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; Dynamic reverb with changing room size\n    kAmp linseg 0, 0.01, 0.3, p3-0.2, 0.3, 0.19, 0\n    \n    ; Percussive click\n    aClick mpulse kAmp*0.5, p3/8\n    \n    ; Room size changes over time\n    kRoomSize linseg 0.02, p3, 0.09\n    kRvt = 2.5\n    iMaxLoop = 0.1\n    \n    ; Series of allpass filters with changing delays\n    aAP1 valpass aClick, kRvt, kRoomSize*0.5, iMaxLoop\n    aAP2 valpass aAP1, kRvt, kRoomSize*0.7, iMaxLoop\n    aAP3 valpass aAP2, kRvt, kRoomSize*0.9, iMaxLoop\n    aAP4 valpass aAP3, kRvt, kRoomSize, iMaxLoop\n    \n    ; Stereo output\n    aLeft = aClick*0.2 + aAP4*0.8\n    aRight = aClick*0.2 + aAP3*0.6 + aAP4*0.4\n    \n    outs aLeft, aRight\nendin\n\ninstr 4\n    ; Chorus effect using short valpass filters\n    kAmp madsr 0.01, 0.12, 0.55, 0.35\n    \n    ; String-like tone\n    aSaw1 vco2 kAmp*0.15, 110, 0\n    aSaw2 vco2 kAmp*0.15, 110.2, 0\n    aMix = aSaw1 + aSaw2\n    \n    ; Two independent LFOs\n    kLFO1 oscili 0.004, 0.7, giSine\n    kLFO2 oscili 0.005, 0.53, giSine\n    \n    kLoop1 = 0.025 + kLFO1\n    kLoop2 = 0.032 + kLFO2\n    \n    kRvt = 0.3\n    iMaxLoop = 0.05\n    \n    ; Two voices for stereo chorus\n    aLeft valpass aMix, kRvt, kLoop1, iMaxLoop\n    aRight valpass aMix, kRvt, kLoop2, iMaxLoop\n    \n    ; Blend with dry\n    aLeft = aMix*0.5 + aLeft*0.5\n    aRight = aMix*0.5 + aRight*0.5\n    \n    outs aLeft, aRight\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play sweeping allpass\ni1 0 4\n\n; Play phaser\ni2 4.5 5\n\n; Play dynamic reverb\ni3 10 5\n\n; Play chorus\ni4 15.5 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates using comb and alpass filters together for realistic reverberation", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; Combine comb and alpass for Schroeder reverb\n    ; This is a classic reverb topology\n    \n    ; Amplitude envelope\n    kAmp madsr 0.003, 0.05, 0.3, 0.4\n    \n    ; Dry signal - short pluck\n    aPluck pluck kAmp*0.4, p4, p4, 0, 1\n    \n    ; Parallel comb filters (resonators)\n    kRvt = 2.5\n    aComb1 comb aPluck, kRvt, 0.0297\n    aComb2 comb aPluck, kRvt, 0.0371\n    aComb3 comb aPluck, kRvt, 0.0411\n    aComb4 comb aPluck, kRvt, 0.0437\n    \n    ; Sum parallel combs\n    aCombSum = (aComb1 + aComb2 + aComb3 + aComb4) * 0.25\n    \n    ; Series allpass filters (diffusion)\n    aAP1 alpass aCombSum, 1.5, 0.0050\n    aAP2 alpass aAP1, 1.5, 0.0017\n    \n    ; Mix dry and reverb\n    aLeft = aPluck*0.3 + aAP2*0.7\n    aRight = aPluck*0.3 + aAP1*0.5 + aAP2*0.5\n    \n    outs aLeft, aRight\nendin\n\ninstr 2\n    ; Large hall reverb with extended decay\n    kAmp linseg 0, 0.01, 0.25, p3-0.2, 0.25, 0.19, 0\n    \n    ; Hand clap excitation\n    aNoise noise kAmp*0.6, 0\n    aExcite = aNoise * (1 - linseg(0, 0.015, 1, 0.001, 1))\n    \n    ; Early reflections (short combs)\n    kRvtEarly = 0.8\n    aComb1 comb aExcite, kRvtEarly, 0.0133\n    aComb2 comb aExcite, kRvtEarly, 0.0157\n    aComb3 comb aExcite, kRvtEarly, 0.0179\n    aComb4 comb aExcite, kRvtEarly, 0.0211\n    aEarly = (aComb1 + aComb2 + aComb3 + aComb4) * 0.25\n    \n    ; Late reverberation (longer combs)\n    kRvtLate = 4.0\n    aComb5 comb aEarly, kRvtLate, 0.0451\n    aComb6 comb aEarly, kRvtLate, 0.0503\n    aComb7 comb aEarly, kRvtLate, 0.0571\n    aComb8 comb aEarly, kRvtLate, 0.0613\n    aLate = (aComb5 + aComb6 + aComb7 + aComb8) * 0.25\n    \n    ; Diffusion stage\n    aAP1 alpass aLate, 2.5, 0.0071\n    aAP2 alpass aAP1, 2.5, 0.0093\n    aAP3 alpass aAP2, 2.5, 0.0113\n    \n    ; Stereo placement\n    aLeft = aExcite*0.15 + aEarly*0.25 + aAP3*0.6\n    aRight = aExcite*0.15 + aEarly*0.3 + aAP2*0.4 + aAP3*0.5\n    \n    outs aLeft, aRight\nendin\n\ninstr 3\n    ; Modulated reverb with vcomb and valpass\n    kAmp madsr 0.01, 0.1, 0.4, 0.5\n    \n    ; Source tone\n    aOsc poscil kAmp*0.25, 220, giSine\n    \n    ; LFO for modulation\n    kLFO oscili 0.003, 0.25, giSine\n    \n    ; Variable comb filters\n    kLoop1 = 0.037 + kLFO\n    kLoop2 = 0.043 + kLFO*1.3\n    kRvt = 3.0\n    \n    aComb1 vcomb aOsc, kRvt, kLoop1, 0.05\n    aComb2 vcomb aOsc, kRvt, kLoop2, 0.05\n    aCombSum = (aComb1 + aComb2) * 0.5\n    \n    ; Variable allpass diffusion\n    kAPLoop = 0.015 + kLFO*0.5\n    aAP1 valpass aCombSum, 1.5, kAPLoop, 0.03\n    aAP2 valpass aAP1, 1.5, kAPLoop*1.4, 0.03\n    \n    ; Output\n    aMix = aOsc*0.2 + aAP2*0.8\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play Schroeder reverb at different pitches\ni1 0 3 330\ni1 1.5 3 440\ni1 3 3 550\n\n; Play large hall\ni2 7 4\ni2 9 4\n\n; Play modulated reverb\ni3 13 6\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the combinv opcode for inverse comb filtering", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; combinv opcode: ares combinv asig, krvt, ilpt [, iskip] [, insmps]\n    ; combinv is an inverse comb filter (feedforward instead of feedback)\n    ; asig - input audio signal\n    ; krvt - reverberation time (affects gain of delayed signal)\n    ; ilpt - loop time (delay time in seconds)\n    ; iskip - skip initialization flag (optional)\n    ; insmps - loop time in samples (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.3, p3-0.2, 0.3, 0.1, 0\n    \n    ; Generate sawtooth wave\n    aSaw vco2 kAmp, 220, 0\n    \n    ; Apply inverse comb filter\n    ; Creates notches in the frequency spectrum\n    iLoopTime = 1/440  ; Creates notch at 440 Hz and harmonics\n    kRvt = 0.5\n    \n    aFilt combinv aSaw, kRvt, iLoopTime\n    \n    outs aFilt, aFilt\nendin\n\ninstr 2\n    ; Spectral notching demonstration\n    kAmp madsr 0.02, 0.1, 0.6, 0.3\n    \n    ; Bright source (square wave)\n    aSq vco2 kAmp*0.3, 165, 2\n    \n    ; Multiple inverse combs for complex filtering\n    ; Each creates notches at different frequencies\n    aFilt1 combinv aSq, 0.6, 1/330\n    aFilt2 combinv aFilt1, 0.5, 1/550\n    aFilt3 combinv aFilt2, 0.4, 1/770\n    \n    outs aFilt3, aFilt3\nendin\n\ninstr 3\n    ; Phaser-like effect with combinv\n    kAmp madsr 0.01, 0.12, 0.55, 0.35\n    \n    ; Rich sawtooth\n    aSaw1 vco2 kAmp*0.2, 110, 0\n    aSaw2 vco2 kAmp*0.2, 110.3, 0\n    aMix = aSaw1 + aSaw2\n    \n    ; Short delay times for phasing effect\n    iLoop1 = 0.003\n    iLoop2 = 0.005\n    \n    kRvt = 0.7\n    \n    aFiltL combinv aMix, kRvt, iLoop1\n    aFiltR combinv aMix, kRvt, iLoop2\n    \n    outs aFiltL, aFiltR\nendin\n\ninstr 4\n    ; Resonator removal (inverse of comb resonator)\n    kAmp linseg 0, 0.05, 0.35, p3-0.1, 0.35, 0.05, 0\n    \n    ; Noise source\n    aNoise noise kAmp*0.5, 0\n    \n    ; Apply inverse comb to remove resonances\n    ; Useful for reducing ringing in signals\n    iLoop = 1/523  ; Remove resonance at 523 Hz\n    kRvt = 0.8\n    \n    aFilt combinv aNoise, kRvt, iLoop\n    \n    outs aFilt, aFilt\nendin\n\ninstr 5\n    ; Compare comb vs inverse comb\n    kAmp madsr 0.01, 0.08, 0.5, 0.3\n    \n    ; Impulse excitation\n    aImp mpulse kAmp*0.5, 4\n    \n    ; Regular comb filter (adds resonances)\n    iLoop = 1/330\n    kRvt = 1.5\n    aComb comb aImp, kRvt, iLoop\n    \n    ; Inverse comb filter (creates notches)\n    aInvComb combinv aImp, kRvt, iLoop\n    \n    ; Output regular comb to left, inverse to right\n    outs aComb*0.6, aInvComb*0.6\nendin\n\ninstr 6\n    ; Harmonic filtering with combinv\n    kAmp linseg 0, 0.1, 0.3, p3-0.2, 0.3, 0.1, 0\n    \n    ; Pulse wave with many harmonics\n    aPulse vco2 kAmp, 110, 10, 0.2\n    \n    ; Remove every other harmonic using inverse comb\n    ; Loop time at twice the fundamental\n    iLoop = 1/(110*2)\n    kRvt = 0.9\n    \n    aFilt combinv aPulse, kRvt, iLoop\n    \n    outs aFilt, aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic inverse comb filtering\ni1 0 3\n\n; Play spectral notching\ni2 3.5 3\n\n; Play phaser effect\ni3 7 4\n\n; Play resonance removal\ni4 11.5 3\n\n; Compare comb vs inverse comb\ni5 15 4\n\n; Play harmonic filtering\ni6 19.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the fof opcode for formant synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function tables\ngiSine ftgen 1, 0, 8192, 10, 1\ngiSigRise ftgen 2, 0, 1024, 19, 0.5, 0.5, 270, 0.5\n\ninstr 1\n    ; fof opcode: ares fof xamp, xfund, xform, koct, kband, kris, kdur, kdec, iolaps, \n    ;                 ifna, ifnb, itotdur [, iphs] [, ifmode] [, iskip]\n    ; fof generates formant wave functions (formant-wave-function synthesis)\n    ; xamp - amplitude\n    ; xfund - fundamental frequency (Hz)\n    ; xform - formant frequency (Hz)\n    ; koct - octaviation index (typically 0)\n    ; kband - bandwidth of formant (Hz)\n    ; kris - rise time as fraction of duration\n    ; kdur - overall duration of grain (seconds)\n    ; kdec - decay time as fraction of duration\n    ; iolaps - maximum number of overlaps\n    ; ifna - grain shape function\n    ; ifnb - window function\n    ; itotdur - total duration for FOF\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.4, p3-0.2, 0.4, 0.1, 0\n    \n    ; Fundamental frequency\n    kFund = 120\n    \n    ; Single formant (vowel \"ah\" F1)\n    kForm = 730\n    kOct = 0\n    kBW = 80\n    kRis = 0.003\n    kDur = 0.02\n    kDec = 0.007\n    iOlaps = 100\n    \n    ; Generate FOF\n    aFOF fof kAmp, kFund, kForm, kOct, kBW, kRis, kDur, kDec, iOlaps, \\\n            giSine, giSigRise, p3\n    \n    out aFOF\nendin\n\ninstr 2\n    ; Multiple formants for vowel synthesis\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    kFund = 150\n    kOct = 0\n    kRis = 0.003\n    kDur = 0.02\n    kDec = 0.007\n    iOlaps = 100\n    \n    ; Vowel \"ah\" formants\n    kF1 = 730\n    kF2 = 1090\n    kF3 = 2440\n    \n    kBW1 = 80\n    kBW2 = 90\n    kBW3 = 120\n    \n    ; Generate three formants\n    aF1 fof kAmp*0.5, kFund, kF1, kOct, kBW1, kRis, kDur, kDec, iOlaps, \\\n            giSine, giSigRise, p3\n    aF2 fof kAmp*0.3, kFund, kF2, kOct, kBW2, kRis, kDur, kDec, iOlaps, \\\n            giSine, giSigRise, p3\n    aF3 fof kAmp*0.15, kFund, kF3, kOct, kBW3, kRis, kDur, kDec, iOlaps, \\\n            giSine, giSigRise, p3\n    \n    ; Mix formants\n    aVowel = aF1 + aF2 + aF3\n    \n    out aVowel*0.7\nendin\n\ninstr 3\n    ; Vowel morphing\n    kAmp linseg 0, 0.05, 0.4, p3-0.1, 0.4, 0.05, 0\n    \n    kFund = 140\n    kOct = 0\n    kRis = 0.003\n    kDur = 0.02\n    kDec = 0.007\n    iOlaps = 100\n    \n    ; Morph from \"ah\" to \"ee\"\n    ; \"ah\": F1=730, F2=1090, F3=2440\n    ; \"ee\": F1=270, F2=2290, F3=3010\n    kMorph linseg 0, p3, 1\n    \n    kF1 = 730 + (270-730)*kMorph\n    kF2 = 1090 + (2290-1090)*kMorph\n    kF3 = 2440 + (3010-2440)*kMorph\n    \n    kBW1 = 80\n    kBW2 = 90\n    kBW3 = 120\n    \n    aF1 fof kAmp*0.5, kFund, kF1, kOct, kBW1, kRis, kDur, kDec, iOlaps, \\\n            giSine, giSigRise, p3\n    aF2 fof kAmp*0.3, kFund, kF2, kOct, kBW2, kRis, kDur, kDec, iOlaps, \\\n            giSine, giSigRise, p3\n    aF3 fof kAmp*0.15, kFund, kF3, kOct, kBW3, kRis, kDur, kDec, iOlaps, \\\n            giSine, giSigRise, p3\n    \n    aVowel = aF1 + aF2 + aF3\n    \n    out aVowel*0.6\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play single formant\ni1 0 2\n\n; Play vowel \"ah\"\ni2 2.5 2\n\n; Play vowel morph\ni3 5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the fof2 opcode for advanced formant synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function tables\ngiSine ftgen 1, 0, 8192, 10, 1\ngiSigRise ftgen 2, 0, 1024, 19, 0.5, 0.5, 270, 0.5\n\ninstr 1\n    ; fof2 opcode: ares fof2 xamp, xfund, xform, koct, kband, kris, kdur, kdec, iolaps,\n    ;                  ifna, ifnb, itotdur, kphs, kgliss [, iskip]\n    ; fof2 is like fof but with phase and glissando control\n    ; xamp - amplitude\n    ; xfund - fundamental frequency\n    ; xform - formant frequency\n    ; koct - octaviation index\n    ; kband - bandwidth\n    ; kris, kdur, kdec - grain shape times\n    ; iolaps - maximum overlaps\n    ; ifna, ifnb - function tables\n    ; itotdur - total duration\n    ; kphs - phase offset (0-1)\n    ; kgliss - glissando coefficient\n    \n    ; Amplitude envelope\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    kFund = 150\n    kForm = 800\n    kOct = 0\n    kBW = 90\n    kRis = 0.003\n    kDur = 0.02\n    kDec = 0.007\n    iOlaps = 100\n    \n    ; Phase offset for stereo spread\n    kPhs = 0\n    kGliss = 0  ; No glissando\n    \n    aFOF fof2 kAmp*0.4, kFund, kForm, kOct, kBW, kRis, kDur, kDec, iOlaps, \\\n              giSine, giSigRise, p3, kPhs, kGliss\n    \n    outs aFOF, aFOF\nendin\n\ninstr 2\n    ; Glissando formant effect\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    kFund = 120\n    kOct = 0\n    kRis = 0.003\n    kDur = 0.02\n    kDec = 0.007\n    iOlaps = 100\n    \n    ; Formant with glissando\n    kForm = 600\n    kBW = 80\n    kPhs = 0\n    kGliss = 0.7  ; Glissando effect\n    \n    aF1 fof2 kAmp*0.4, kFund, kForm, kOct, kBW, kRis, kDur, kDec, iOlaps, \\\n             giSine, giSigRise, p3, kPhs, kGliss\n    \n    outs aF1, aF1\nendin\n\ninstr 3\n    ; Stereo formants with phase offset\n    kAmp linseg 0, 0.05, 0.35, p3-0.1, 0.35, 0.05, 0\n    \n    kFund = 140\n    kOct = 0\n    kRis = 0.003\n    kDur = 0.02\n    kDec = 0.007\n    iOlaps = 100\n    \n    ; Two formants with different phase\n    kForm1 = 700\n    kForm2 = 1200\n    kBW = 85\n    kGliss = 0\n    \n    ; Left channel: phase 0\n    aLeft fof2 kAmp*0.35, kFund, kForm1, kOct, kBW, kRis, kDur, kDec, iOlaps, \\\n               giSine, giSigRise, p3, 0, kGliss\n    \n    ; Right channel: phase 0.5 (opposite phase)\n    aRight fof2 kAmp*0.35, kFund, kForm2, kOct, kBW, kRis, kDur, kDec, iOlaps, \\\n                giSine, giSigRise, p3, 0.5, kGliss\n    \n    outs aLeft, aRight\nendin\n\ninstr 4\n    ; Singing formant with vibrato and glissando\n    kAmp madsr 0.01, 0.12, 0.55, 0.35\n    \n    ; Vibrato on fundamental\n    kVib oscili 4, 5.5, giSine\n    kFund = 180 + kVib\n    \n    kOct = 0\n    kRis = 0.003\n    kDur = 0.02\n    kDec = 0.007\n    iOlaps = 100\n    \n    ; Vowel \"oh\" formants\n    kF1 = 570\n    kF2 = 840\n    kF3 = 2410\n    kBW1 = 80\n    kBW2 = 85\n    kBW3 = 110\n    \n    kPhs = 0\n    kGliss = 0.3\n    \n    aF1 fof2 kAmp*0.5, kFund, kF1, kOct, kBW1, kRis, kDur, kDec, iOlaps, \\\n             giSine, giSigRise, p3, kPhs, kGliss\n    aF2 fof2 kAmp*0.3, kFund, kF2, kOct, kBW2, kRis, kDur, kDec, iOlaps, \\\n             giSine, giSigRise, p3, kPhs, kGliss\n    aF3 fof2 kAmp*0.15, kFund, kF3, kOct, kBW3, kRis, kDur, kDec, iOlaps, \\\n             giSine, giSigRise, p3, kPhs, kGliss\n    \n    aVowel = aF1 + aF2 + aF3\n    \n    outs aVowel*0.6, aVowel*0.6\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic fof2\ni1 0 2\n\n; Play glissando\ni2 2.5 3\n\n; Play stereo formants\ni3 6 3\n\n; Play singing formant\ni4 9.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the fofilter opcode for formant filtering", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; fofilter opcode: ares fofilter asig, kcf, kris, kdec [, istor]\n    ; fofilter filters a signal through FOF-like formant filter\n    ; asig - input audio signal\n    ; kcf - center frequency (formant frequency in Hz)\n    ; kris - impulse rise time (seconds)\n    ; kdec - impulse decay time (seconds)\n    ; istor - skip initialization (optional)\n    \n    ; Amplitude envelope\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Sawtooth source\n    aSaw vco2 kAmp*0.3, 150, 0\n    \n    ; Single formant filter\n    kFormant = 800\n    kRis = 0.003\n    kDec = 0.02\n    \n    ; Apply formant filter\n    aFilt fofilter aSaw, kFormant, kRis, kDec\n    \n    outs aFilt, aFilt\nendin\n\ninstr 2\n    ; Vowel filtering with multiple fofilters\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    ; Buzz source (vocal cord simulation)\n    aBuzz buzz kAmp*0.3, 120, 40, giSine\n    \n    ; Vowel \"ah\" formants\n    kF1 = 730\n    kF2 = 1090\n    kF3 = 2440\n    \n    kRis = 0.003\n    kDec1 = 0.02\n    kDec2 = 0.015\n    kDec3 = 0.01\n    \n    ; Apply three formant filters\n    aForm1 fofilter aBuzz, kF1, kRis, kDec1\n    aForm2 fofilter aBuzz, kF2, kRis, kDec2\n    aForm3 fofilter aBuzz, kF3, kRis, kDec3\n    \n    ; Mix with appropriate levels\n    aVowel = aForm1*0.6 + aForm2*0.3 + aForm3*0.15\n    \n    outs aVowel, aVowel\nendin\n\ninstr 3\n    ; Dynamic formant sweeping\n    kAmp linseg 0, 0.05, 0.35, p3-0.1, 0.35, 0.05, 0\n    \n    ; Sawtooth source\n    aSaw vco2 kAmp*0.25, 110, 0\n    \n    ; Sweep formant frequency\n    kFormant expseg 300, p3, 2500\n    kRis = 0.003\n    kDec = 0.015\n    \n    aFilt fofilter aSaw, kFormant, kRis, kDec\n    \n    outs aFilt, aFilt\nendin\n\ninstr 4\n    ; Vowel morphing with fofilter\n    kAmp madsr 0.01, 0.12, 0.55, 0.35\n    \n    ; Pulse source\n    aPulse vco2 kAmp*0.3, 140, 2, 0.5\n    \n    ; Morph from \"ee\" to \"oo\"\n    ; \"ee\": F1=270, F2=2290\n    ; \"oo\": F1=300, F2=870\n    kMorph linseg 0, p3, 1\n    \n    kF1 = 270 + (300-270)*kMorph\n    kF2 = 2290 + (870-2290)*kMorph\n    \n    kRis = 0.003\n    kDec = 0.018\n    \n    aForm1 fofilter aPulse, kF1, kRis, kDec\n    aForm2 fofilter aPulse, kF2, kRis, kDec*0.8\n    \n    aVowel = aForm1*0.7 + aForm2*0.3\n    \n    outs aVowel, aVowel\nendin\n\ninstr 5\n    ; Talking drum effect\n    kAmp linseg 0, 0.01, 0.4, p3-0.2, 0.4, 0.19, 0\n    \n    ; Noise burst (drum hit)\n    aNoise noise kAmp*0.5, 0\n    aExcite = aNoise * (1 - linseg(0, 0.03, 1, 0.001, 1))\n    \n    ; Varying formant simulates talking\n    kFormant linseg 400, p3*0.3, 800, p3*0.4, 600, p3*0.3, 1000\n    kRis = 0.002\n    kDec = 0.025\n    \n    aFilt fofilter aExcite, kFormant, kRis, kDec\n    \n    outs aFilt, aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play single formant\ni1 0 2\n\n; Play vowel \"ah\"\ni2 2.5 3\n\n; Play sweep\ni3 6 4\n\n; Play vowel morph\ni4 10.5 4\n\n; Play talking drum\ni5 15 1.5\ni5 16 1.5\ni5 17 1.5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the resonz opcode for narrow-band formant filtering", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; resonz opcode: ares resonz asig, kcf, kbw [, iscl] [, iskip]\n    ; resonz is a narrow-band bandpass filter useful for formants\n    ; asig - input audio signal\n    ; kcf - center frequency (Hz)\n    ; kbw - bandwidth (Hz)\n    ; iscl - scale flag (1=no scaling, 2=peak response of 1)\n    ; iskip - skip initialization (optional)\n    \n    ; Amplitude envelope\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Sawtooth source\n    aSaw vco2 kAmp*0.3, 165, 0\n    \n    ; Single formant filter\n    kCenter = 900\n    kBW = 50\n    iScl = 2  ; Peak response of 1\n    \n    ; Apply resonant filter\n    aFilt resonz aSaw, kCenter, kBW, iScl\n    \n    outs aFilt, aFilt\nendin\n\ninstr 2\n    ; Vowel synthesis with multiple resonz filters\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    ; Buzz source\n    aBuzz buzz kAmp*0.3, 140, 35, giSine\n    \n    ; Vowel \"eh\" formants\n    kF1 = 530\n    kF2 = 1840\n    kF3 = 2480\n    \n    kBW1 = 60\n    kBW2 = 90\n    kBW3 = 120\n    \n    ; Apply formant filters\n    aForm1 resonz aBuzz, kF1, kBW1, 2\n    aForm2 resonz aBuzz, kF2, kBW2, 2\n    aForm3 resonz aBuzz, kF3, kBW3, 2\n    \n    ; Mix with formant amplitude levels\n    aVowel = aForm1*0.6 + aForm2*0.35 + aForm3*0.15\n    \n    outs aVowel, aVowel\nendin\n\ninstr 3\n    ; Formant sweeping for vocal effects\n    kAmp linseg 0, 0.05, 0.35, p3-0.1, 0.35, 0.05, 0\n    \n    ; Square wave source\n    aSq vco2 kAmp*0.25, 110, 2\n    \n    ; Sweep two formants in opposite directions\n    kF1 linseg 400, p3, 1200\n    kF2 linseg 1800, p3, 800\n    \n    kBW1 = 70\n    kBW2 = 90\n    \n    aForm1 resonz aSq, kF1, kBW1, 2\n    aForm2 resonz aSq, kF2, kBW2, 2\n    \n    ; Stereo output\n    outs aForm1*0.6, aForm2*0.6\nendin\n\ninstr 4\n    ; Parallel formant bank for rich timbre\n    kAmp madsr 0.005, 0.08, 0.5, 0.3\n    \n    ; White noise source\n    aNoise noise kAmp*0.3, 0\n    \n    ; Create five formant peaks\n    kF1 = 350\n    kF2 = 700\n    kF3 = 1050\n    kF4 = 1400\n    kF5 = 1750\n    \n    kBW = 40  ; Narrow bandwidth\n    \n    aForm1 resonz aNoise, kF1, kBW, 2\n    aForm2 resonz aNoise, kF2, kBW, 2\n    aForm3 resonz aNoise, kF3, kBW, 2\n    aForm4 resonz aNoise, kF4, kBW, 2\n    aForm5 resonz aNoise, kF5, kBW, 2\n    \n    ; Mix all formants\n    aOut = (aForm1 + aForm2 + aForm3 + aForm4 + aForm5) * 0.4\n    \n    outs aOut, aOut\nendin\n\ninstr 5\n    ; Modulated formant for robot voice\n    kAmp madsr 0.01, 0.12, 0.55, 0.35\n    \n    ; Sawtooth source\n    aSaw vco2 kAmp*0.25, 220, 0\n    \n    ; LFO modulates formant positions\n    kLFO oscili 200, 0.5, giSine\n    \n    kF1 = 600 + kLFO\n    kF2 = 1200 + kLFO*1.5\n    kF3 = 2400 + kLFO*0.8\n    \n    kBW1 = 50\n    kBW2 = 70\n    kBW3 = 100\n    \n    aForm1 resonz aSaw, kF1, kBW1, 2\n    aForm2 resonz aSaw, kF2, kBW2, 2\n    aForm3 resonz aSaw, kF3, kBW3, 2\n    \n    aRobot = aForm1*0.5 + aForm2*0.3 + aForm3*0.2\n    \n    outs aRobot, aRobot\nendin\n\ninstr 6\n    ; Vocal tract resonance on percussive sound\n    kAmp linseg 0, 0.01, 0.4, p3-0.2, 0.4, 0.19, 0\n    \n    ; Impulse excitation\n    aImp mpulse kAmp*0.5, 0\n    \n    ; Formant filtering creates pitched percussion\n    kFormant = p4\n    kBW = 30\n    \n    aFilt resonz aImp, kFormant, kBW, 2\n    \n    ; Add some comb filtering\n    aFilt = aFilt + comb(aFilt, 1.5, 1/kFormant)\n    \n    outs aFilt*0.5, aFilt*0.5\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play single formant\ni1 0 2\n\n; Play vowel \"eh\"\ni2 2.5 3\n\n; Play formant sweep\ni3 6 4\n\n; Play formant bank\ni4 10.5 3\n\n; Play robot voice\ni5 14 4\n\n; Play pitched percussion\ni6 18.5 1 440\ni6 19.5 1 550\ni6 20.5 1 660\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates advanced vowel synthesis combining fof and resonz opcodes", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function tables\ngiSine ftgen 1, 0, 8192, 10, 1\ngiSigRise ftgen 2, 0, 1024, 19, 0.5, 0.5, 270, 0.5\n\ninstr 1\n    ; Complete singing voice with FOF formants\n    kAmp madsr 0.03, 0.15, 0.7, 0.4\n    \n    ; Vibrato\n    kVib oscili 3, 5.8, giSine\n    kFund = p4 + kVib\n    \n    ; FOF parameters\n    kOct = 0\n    kRis = 0.003\n    kDur = 0.02\n    kDec = 0.007\n    iOlaps = 100\n    \n    ; Vowel formant frequencies from p5\n    ; 1=\"ah\", 2=\"eh\", 3=\"ee\", 4=\"oh\", 5=\"oo\"\n    if p5 == 1 then\n        kF1 = 730\n        kF2 = 1090\n        kF3 = 2440\n    elseif p5 == 2 then\n        kF1 = 530\n        kF2 = 1840\n        kF3 = 2480\n    elseif p5 == 3 then\n        kF1 = 270\n        kF2 = 2290\n        kF3 = 3010\n    elseif p5 == 4 then\n        kF1 = 570\n        kF2 = 840\n        kF3 = 2410\n    else\n        kF1 = 300\n        kF2 = 870\n        kF3 = 2240\n    endif\n    \n    kBW1 = 80\n    kBW2 = 90\n    kBW3 = 120\n    \n    ; Generate formants with FOF\n    aF1 fof kAmp*0.5, kFund, kF1, kOct, kBW1, kRis, kDur, kDec, iOlaps, \\\n            giSine, giSigRise, p3\n    aF2 fof kAmp*0.35, kFund, kF2, kOct, kBW2, kRis, kDur, kDec, iOlaps, \\\n            giSine, giSigRise, p3\n    aF3 fof kAmp*0.2, kFund, kF3, kOct, kBW3, kRis, kDur, kDec, iOlaps, \\\n            giSine, giSigRise, p3\n    \n    ; Add singer's formant around 3kHz\n    aF4 fof kAmp*0.1, kFund, 3200, kOct, 150, kRis, kDur, kDec, iOlaps, \\\n            giSine, giSigRise, p3\n    \n    aVoice = aF1 + aF2 + aF3 + aF4\n    \n    ; Add breath noise\n    aNoise noise kAmp*0.015, 0\n    aBreath resonz aNoise, 2000, 500, 2\n    \n    aOut = aVoice*0.7 + aBreath*0.3\n    \n    outs aOut, aOut\nendin\n\ninstr 2\n    ; Hybrid synthesis: FOF + resonz filtering\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    kFund = 180\n    \n    ; Generate base formant with FOF\n    kOct = 0\n    kRis = 0.003\n    kDur = 0.02\n    kDec = 0.007\n    iOlaps = 100\n    \n    aBase fof kAmp*0.4, kFund, 500, kOct, 100, kRis, kDur, kDec, iOlaps, \\\n              giSine, giSigRise, p3\n    \n    ; Apply additional resonz filters for spectral shaping\n    aFilt1 resonz aBase, 1200, 80, 2\n    aFilt2 resonz aBase, 2500, 120, 2\n    \n    aOut = aBase*0.6 + aFilt1*0.25 + aFilt2*0.15\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Singing melody with different vowels\n; Format: start dur fund vowel\n; Vowels: 1=ah, 2=eh, 3=ee, 4=oh, 5=oo\n\n; \"ah\" vowel\ni1 0 1.5 220 1\ni1 1.5 1.5 247 1\ni1 3 2 262 1\n\n; \"eh\" vowel\ni1 5.5 1.5 220 2\ni1 7 1.5 247 2\n\n; \"ee\" vowel\ni1 9 2 262 3\n\n; \"oh\" vowel\ni1 11.5 1.5 196 4\ni1 13 2 220 4\n\n; \"oo\" vowel\ni1 15.5 2 165 5\n\n; Hybrid synthesis\ni2 18 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the buthp opcode for second-order Butterworth high-pass filtering", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; buthp opcode: ares buthp asig, kfreq [, iskip]\n    ; buthp is a second-order Butterworth high-pass filter\n    ; asig - input audio signal\n    ; kfreq - cutoff frequency in Hz\n    ; iskip - skip initialization flag (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.4, p3-0.2, 0.4, 0.1, 0\n    \n    ; Generate signal with low and high frequency content\n    aLow poscil kAmp*0.5, 110, giSine\n    aMid poscil kAmp*0.3, 440, giSine\n    aHigh poscil kAmp*0.2, 1760, giSine\n    aMix = aLow + aMid + aHigh\n    \n    ; Sweep high-pass cutoff frequency\n    kCutoff linseg 100, p3, 1000\n    \n    ; Apply Butterworth high-pass filter\n    aFilt buthp aMix, kCutoff\n    \n    out aFilt\nendin\n\ninstr 2\n    ; Remove low-frequency rumble from noise\n    kAmp madsr 0.01, 0.1, 0.7, 0.3\n    \n    ; Generate noise with DC offset\n    aNoise noise kAmp*0.4, 0\n    \n    ; Remove DC and very low frequencies\n    aClean buthp aNoise, 50\n    \n    out aClean\nendin\n\ninstr 3\n    ; Create \"thin\" synth sound by filtering out bass\n    kAmp linseg 0, 0.05, 0.4, p3-0.1, 0.4, 0.05, 0\n    \n    ; Generate full-spectrum sawtooth\n    aSaw vco2 kAmp, 220, 0\n    \n    ; High-pass to remove low frequencies\n    kCutoff = 800\n    aFilt buthp aSaw, kCutoff\n    \n    out aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play frequency sweep\ni1 0 4\n; Play filtered noise\ni2 4.5 3\n; Play thin synth\ni3 8 2.5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the atone opcode for first-order recursive high-pass filtering to remove DC offset", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; atone opcode: ares atone asig, khp [, iskip]\n    ; atone is a first-order recursive high-pass filter\n    ; asig - input audio signal\n    ; khp - half-power point (cutoff frequency in Hz)\n    ; iskip - skip initialization flag (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.4, p3-0.2, 0.4, 0.1, 0\n    \n    ; Generate signal with unwanted DC component\n    aSaw vco2 kAmp, 220, 0\n    aSaw = aSaw + 0.15  ; Add DC offset\n    \n    ; Remove DC offset with very low cutoff\n    aClean atone aSaw, 10\n    \n    outs aClean, aClean\nendin\n\ninstr 2\n    ; Emphasize high frequencies\n    kAmp madsr 0.02, 0.1, 0.6, 0.3\n    \n    ; Generate triangle wave\n    aTri vco2 kAmp*0.4, 330, 4\n    \n    ; Variable high-pass cutoff\n    kCutoff linseg 50, p3, 600\n    \n    ; Apply high-pass filter\n    aFilt atone aTri, kCutoff\n    \n    outs aFilt, aFilt\nendin\n\ninstr 3\n    ; Create \"telephone\" effect by removing lows\n    kAmp linseg 0, 0.05, 0.4, p3-0.1, 0.4, 0.05, 0\n    \n    ; Voice-like buzz source\n    aBuzz buzz kAmp*0.3, 150, 15, 1\n    \n    ; High-pass to simulate telephone\n    aHP atone aBuzz, 300\n    \n    outs aHP, aHP\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Cosine for buzz\nf1 0 8192 11 1\n\n; Play DC removal\ni1 0 3\n; Play variable high-pass\ni2 3.5 3\n; Play telephone effect\ni3 7 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the atonex opcode for resistor-capacitor high-pass filter emulation", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: square wave\ngiSquare ftgen 1, 0, 8192, 10, 1, 0, 0.333, 0, 0.2, 0, 0.142, 0, 0.111\n\ninstr 1\n    ; atonex opcode: ares atonex asig, khp, inumlayer [, iskip]\n    ; atonex emulates a resistor-capacitor high-pass filter\n    ; asig - input audio signal\n    ; khp - half-power point (cutoff frequency in Hz)\n    ; inumlayer - number of filter layers (1-4 for steeper slopes)\n    ; iskip - skip initialization flag (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.4, p3-0.2, 0.4, 0.1, 0\n    \n    ; Generate square wave with rich harmonics\n    aSq poscil kAmp, 165, giSquare\n    \n    ; Variable cutoff frequency\n    kCutoff linseg 100, p3, 800\n    \n    ; Apply atonex with 2 layers for 12dB/octave slope\n    aFiltL atonex aSq, kCutoff, 2\n    aFiltR atonex aSq, kCutoff*1.01, 2\n    \n    outs aFiltL, aFiltR\nendin\n\ninstr 2\n    ; Steep high-pass filtering with 4 layers\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Full-spectrum sawtooth\n    aSaw vco2 kAmp*0.35, 220, 0\n    \n    ; Fixed cutoff\n    kCutoff = 500\n    \n    ; 4-layer filter for steep 24dB/octave rolloff\n    aFilt atonex aSaw, kCutoff, 4\n    \n    outs aFilt, aFilt\nendin\n\ninstr 3\n    ; Compare different filter slopes\n    kAmp linseg 0, 0.1, 0.35, p3-0.2, 0.35, 0.1, 0\n    \n    ; Buzz with many harmonics\n    aBuzz buzz kAmp*0.3, 110, 30, 1\n    \n    ; Fixed cutoff at 300 Hz\n    kCutoff = 300\n    \n    ; Time changes number of layers\n    kTime timeinsts\n    kLayers = (kTime < p3/3) ? 1 : (kTime < 2*p3/3) ? 2 : 4\n    \n    ; Apply filter with varying slope\n    aFilt atonex aBuzz, kCutoff, kLayers\n    \n    outs aFilt, aFilt\nendin\n\ninstr 4\n    ; Create bright metallic sound\n    kAmp madsr 0.005, 0.05, 0.4, 0.2\n    \n    ; Multiple detuned oscillators\n    aSaw1 vco2 kAmp*0.15, 440, 0\n    aSaw2 vco2 kAmp*0.15, 442, 0\n    aSaw3 vco2 kAmp*0.15, 438, 0\n    aMix = aSaw1 + aSaw2 + aSaw3\n    \n    ; Aggressive high-pass to create thin, bright tone\n    kCutoff = 1200\n    aFilt atonex aMix, kCutoff, 3\n    \n    outs aFilt, aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Cosine for buzz\nf1 0 8192 11 1\n\n; Play variable cutoff sweep\ni1 0 4\n; Play steep filtering\ni2 4.5 3\n; Play varying slope demonstration\ni3 8 3\n; Play metallic bright sound\ni4 11.5 2\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates using atone for creating a bandpass effect by combining with low-pass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\ninstr 1\n    ; atone opcode: ares atone asig, khp [, iskip]\n    ; Combine atone (high-pass) with tone (low-pass) to create bandpass\n    ; asig - input audio signal\n    ; khp - half-power point for high-pass\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.05, 0.4, p3-0.1, 0.4, 0.05, 0\n    \n    ; Generate white noise\n    aNoise noise kAmp, 0\n    \n    ; High-pass cutoff (removes lows)\n    kHPCutoff = 500\n    \n    ; Low-pass cutoff (removes highs)\n    kLPCutoff = 2000\n    \n    ; Create bandpass by cascading filters\n    aHP atone aNoise, kHPCutoff\n    aBP tone aHP, kLPCutoff\n    \n    out aBP\nendin\n\ninstr 2\n    ; Sweeping bandpass effect\n    kAmp madsr 0.01, 0.1, 0.7, 0.3\n    \n    ; Sawtooth source\n    aSaw vco2 kAmp*0.35, 110, 0\n    \n    ; Sweep the band center\n    kCenter expseg 200, p3, 3000\n    \n    ; Bandwidth of ~2 octaves\n    kHPCutoff = kCenter * 0.5\n    kLPCutoff = kCenter * 2\n    \n    ; Create sweeping bandpass\n    aHP atone aSaw, kHPCutoff\n    aBP tone aHP, kLPCutoff\n    \n    out aBP\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play fixed bandpass on noise\ni1 0 3\n; Play sweeping bandpass\ni2 3.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates buthp for creating hi-hat sounds by filtering white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; buthp opcode: ares buthp asig, kfreq [, iskip]\n    ; Create hi-hat sound using high-pass filtered noise\n    ; asig - input audio signal\n    ; kfreq - cutoff frequency in Hz\n    \n    ; Sharp envelope for hi-hat\n    kAmp expseg 0.001, 0.001, 0.6, p3-0.001, 0.001\n    \n    ; Generate white noise\n    aNoise noise kAmp, 0\n    \n    ; High-pass filter to keep only high frequencies\n    kCutoff = 7000\n    aHP buthp aNoise, kCutoff\n    \n    ; Add slight resonance with bandpass\n    aRes reson aHP, 9000, 1000\n    aRes balance aRes, aHP\n    \n    ; Mix filtered signals\n    aMix = aHP + aRes*0.3\n    \n    outs aMix*0.5, aMix*0.5\nendin\n\ninstr 2\n    ; Open hi-hat (longer decay)\n    kAmp expseg 0.001, 0.002, 0.5, p3-0.002, 0.001\n    \n    ; White noise source\n    aNoise noise kAmp, 0\n    \n    ; High-pass filtering\n    kCutoff = 6000\n    aHP buthp aNoise, kCutoff\n    \n    ; Multiple resonant peaks\n    aRes1 reson aHP, 8000, 800\n    aRes2 reson aHP, 11000, 1200\n    aRes1 balance aRes1, aHP\n    aRes2 balance aRes2, aHP\n    \n    aMix = aHP*0.5 + aRes1*0.3 + aRes2*0.2\n    \n    outs aMix*0.5, aMix*0.5\nendin\n\ninstr 3\n    ; Closed hi-hat (short, crisp)\n    kAmp expseg 0.001, 0.001, 0.7, 0.05, 0.001\n    \n    ; Noise\n    aNoise noise kAmp, 0\n    \n    ; Aggressive high-pass\n    aHP buthp aNoise, 8000\n    aHP buthp aHP, 5000\n    \n    ; Single resonance\n    aRes reson aHP, 10000, 1500\n    aRes balance aRes, aHP\n    \n    aMix = aHP*0.6 + aRes*0.4\n    \n    outs aMix*0.5, aMix*0.5\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Closed hi-hat pattern\ni3 0 0.1\ni3 0.25 0.1\ni3 0.5 0.1\ni3 0.75 0.1\n\n; Open hi-hat\ni2 1 0.3\n\n; More closed\ni3 1.5 0.1\ni3 1.75 0.1\n\n; Open again\ni2 2 0.4\n\n; Final closed\ni3 2.5 0.1\ni3 2.75 0.1\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the tone opcode for first-order recursive low-pass filtering", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function table: sawtooth wave\ngiSaw ftgen 1, 0, 8192, 10, 1, 0.5, 0.333, 0.25, 0.2, 0.166, 0.142, 0.125\n\ninstr 1\n    ; tone opcode: ares tone asig, khp [, iskip]\n    ; tone is a first-order recursive low-pass filter\n    ; asig - input audio signal\n    ; khp - half-power point (cutoff frequency in Hz)\n    ; iskip - skip initialization flag (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.05, 0.4, p3-0.1, 0.4, 0.05, 0\n    \n    ; Generate bright sawtooth wave\n    aSaw poscil kAmp, 220, giSaw\n    \n    ; Sweep cutoff frequency\n    kCutoff expseg 200, p3*0.5, 4000, p3*0.5, 200\n    \n    ; Apply low-pass filter\n    aFilt tone aSaw, kCutoff\n    \n    out aFilt\nendin\n\ninstr 2\n    ; Demonstrate tone for smoothing control signals\n    kAmp madsr 0.01, 0.1, 0.7, 0.3\n    \n    ; Generate noise\n    aNoise rand 0.4\n    \n    ; Apply gentle low-pass filter\n    aFilt tone aNoise, 1000\n    \n    out aFilt * kAmp\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 4 seconds\ni1 0 4\n; Play instrument 2 for 3 seconds\ni2 4.5 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the tonex opcode for emulating a resistor-capacitor low-pass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: square wave\ngiSquare ftgen 1, 0, 8192, 10, 1, 0, 0.333, 0, 0.2, 0, 0.142, 0, 0.111\n\ninstr 1\n    ; tonex opcode: ares tonex asig, khp, inumlayer [, iskip]\n    ; tonex emulates a resistor-capacitor low-pass filter\n    ; asig - input audio signal\n    ; khp - half-power point (cutoff frequency in Hz)\n    ; inumlayer - number of filter layers (1-4 for different slopes)\n    ; iskip - skip initialization flag (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.4, p3-0.2, 0.4, 0.1, 0\n    \n    ; Generate square wave\n    aSq poscil kAmp, 330, giSquare\n    \n    ; Variable cutoff frequency\n    kCutoff linseg 500, p3, 3000\n    \n    ; Apply tonex with 2 layers for 12dB/octave slope\n    aFilt tonex aSq, kCutoff, 2\n    \n    outs aFilt, aFilt\nendin\n\ninstr 2\n    ; Compare different filter slopes\n    kAmp madsr 0.02, 0.1, 0.6, 0.3\n    \n    ; Bright source\n    aSaw vco2 kAmp*0.3, 220, 0\n    \n    ; Fixed cutoff\n    kCutoff = 1000\n    \n    ; 4-layer filter for steep rolloff\n    aFilt tonex aSaw, kCutoff, 4\n    \n    outs aFilt, aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 3 seconds\ni1 0 3\n; Play instrument 2 for 3 seconds\ni2 3.5 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the atone opcode for first-order recursive high-pass filtering", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; atone opcode: ares atone asig, khp [, iskip]\n    ; atone is a first-order recursive high-pass filter (complement of tone)\n    ; asig - input audio signal\n    ; khp - half-power point (cutoff frequency in Hz)\n    ; iskip - skip initialization flag (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.4, p3-0.2, 0.4, 0.1, 0\n    \n    ; Generate bass-heavy signal\n    aLow poscil kAmp*0.6, 110, giSine\n    aMid poscil kAmp*0.3, 440, giSine\n    aHigh poscil kAmp*0.1, 1760, giSine\n    aMix = aLow + aMid + aHigh\n    \n    ; Sweep high-pass cutoff\n    kCutoff linseg 50, p3, 800\n    \n    ; Apply high-pass filter\n    aFilt atone aMix, kCutoff\n    \n    out aFilt\nendin\n\ninstr 2\n    ; Remove DC offset and low rumble\n    kAmp madsr 0.01, 0.1, 0.7, 0.3\n    \n    ; Generate signal with DC offset\n    aSaw vco2 kAmp*0.4, 220, 0\n    aSaw = aSaw + 0.1\n    \n    ; Remove DC and low frequencies\n    aClean atone aSaw, 20\n    \n    out aClean\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 4 seconds\ni1 0 4\n; Play instrument 2 for 3 seconds\ni2 4.5 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the port opcode for portamento (glissando) generation", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; port opcode: kres port ksig, ihtim [, isig]\n    ; port applies portamento (smooth glide) to a control signal\n    ; ksig - input control signal\n    ; ihtim - half-time of the function (smoothing time)\n    ; isig - initial value (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.05, 0.4, p3-0.1, 0.4, 0.05, 0\n    \n    ; Step-wise frequency changes\n    kFreqRaw init 220\n    kTime timeinsts\n    \n    if kTime > p3*0.25 && kTime < p3*0.25+0.01 then\n        kFreqRaw = 330\n    elseif kTime > p3*0.5 && kTime < p3*0.5+0.01 then\n        kFreqRaw = 440\n    elseif kTime > p3*0.75 && kTime < p3*0.75+0.01 then\n        kFreqRaw = 220\n    endif\n    \n    ; Apply portamento with 0.2 second glide time\n    kFreq port kFreqRaw, 0.2\n    \n    ; Generate tone with smooth frequency transitions\n    aSig poscil kAmp, kFreq, giSine\n    \n    out aSig\nendin\n\ninstr 2\n    ; Demonstrate port for amplitude smoothing\n    kAmp madsr 0.01, 0.1, 0.7, 0.3\n    \n    ; Random amplitude jumps\n    kRandAmp randomh 0.2, 0.5, 3\n    \n    ; Smooth the amplitude changes\n    kSmoothAmp port kRandAmp, 0.1\n    \n    aSig poscil kAmp*kSmoothAmp, 440, giSine\n    \n    out aSig\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 4 seconds\ni1 0 4\n; Play instrument 2 for 4 seconds\ni2 4.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the butlp opcode for second-order Butterworth low-pass filtering", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sawtooth\ngiSaw ftgen 1, 0, 8192, 10, 1, 0.5, 0.333, 0.25, 0.2, 0.166, 0.142, 0.125\n\ninstr 1\n    ; butlp opcode: ares butlp asig, kfreq [, iskip]\n    ; butlp is a second-order Butterworth low-pass filter\n    ; asig - input audio signal\n    ; kfreq - cutoff frequency in Hz\n    ; iskip - skip initialization flag (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.4, p3-0.2, 0.4, 0.1, 0\n    \n    ; Generate bright sawtooth\n    aSaw poscil kAmp, 220, giSaw\n    \n    ; Sweep cutoff frequency\n    kCutoff expseg 100, p3*0.6, 5000, p3*0.4, 200\n    \n    ; Apply Butterworth low-pass filter\n    aFiltL butlp aSaw, kCutoff\n    aFiltR butlp aSaw, kCutoff*1.01\n    \n    outs aFiltL, aFiltR\nendin\n\ninstr 2\n    ; Classic synth bass with resonant filter sweep\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Dual oscillator bass\n    aSaw1 vco2 kAmp*0.3, 55, 0\n    aSaw2 vco2 kAmp*0.3, 55.5, 0\n    aMix = aSaw1 + aSaw2\n    \n    ; Envelope-controlled filter\n    kFiltEnv linseg 200, 0.05, 2000, p3-0.05, 200\n    \n    aFilt butlp aMix, kFiltEnv\n    \n    outs aFilt, aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play instrument 1 for 4 seconds\ni1 0 4\n; Play instrument 2 for 3 seconds\ni2 4.5 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the lpf18 opcode for 18dB/octave low-pass filtering with resonance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; lpf18 opcode: ares lpf18 asig, kfco, kres, kdist\n    ; lpf18 is an 18dB/octave low-pass filter with resonance and distortion\n    ; asig - input audio signal\n    ; kfco - cutoff frequency in Hz\n    ; kres - resonance (0-1, self-oscillates at higher values)\n    ; kdist - distortion amount (0-2)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.05, 0.3, p3-0.1, 0.3, 0.05, 0\n    \n    ; Generate sawtooth wave\n    aSaw vco2 kAmp, 110, 0\n    \n    ; Sweep cutoff with envelope\n    kCutoff expseg 200, 0.1, 4000, p3-0.1, 300\n    \n    ; Moderate resonance\n    kRes = 0.7\n    \n    ; Light distortion\n    kDist = 0.3\n    \n    ; Apply lpf18 filter\n    aFilt lpf18 aSaw, kCutoff, kRes, kDist\n    \n    outs aFilt, aFilt\nendin\n\ninstr 2\n    ; Acid bass with high resonance\n    kAmp madsr 0.005, 0.05, 0.4, 0.2\n    \n    ; Sawtooth oscillator\n    aSaw vco2 kAmp*0.4, 82.41, 0\n    \n    ; Fast filter sweep\n    kCutoff expseg 100, 0.05, 3000, 0.2, 200, p3-0.25, 150\n    \n    ; High resonance for squelchy sound\n    kRes = 0.85\n    \n    ; Some distortion\n    kDist = 0.5\n    \n    aFilt lpf18 aSaw, kCutoff, kRes, kDist\n    \n    outs aFilt*0.7, aFilt*0.7\nendin\n\ninstr 3\n    ; Self-oscillation demonstration\n    kAmp linseg 0, 0.1, 0.2, p3-0.2, 0.2, 0.1, 0\n    \n    ; Low amplitude input (filter will self-oscillate)\n    aNoise noise 0.01, 0\n    \n    ; Varying cutoff\n    kCutoff linseg 200, p3, 2000\n    \n    ; Very high resonance (near self-oscillation)\n    kRes = 0.95\n    \n    aFilt lpf18 aNoise, kCutoff, kRes, 0\n    \n    outs aFilt*kAmp, aFilt*kAmp\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play filter sweep\ni1 0 3\n; Play acid bass\ni2 3.5 2.5\n; Play self-oscillation\ni3 6.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the moogladder opcode for Moog ladder filter emulation", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; moogladder opcode: asig moogladder ain, kcf, kres [, istor]\n    ; moogladder is an improved implementation of the Moog ladder filter\n    ; ain - input audio signal\n    ; kcf - cutoff frequency in Hz\n    ; kres - resonance (0-1)\n    ; istor - skip initialization (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.3, p3-0.2, 0.3, 0.1, 0\n    \n    ; Generate bright sawtooth\n    aSaw vco2 kAmp, 220, 0\n    \n    ; Classic filter sweep\n    kCutoff expseg 150, p3*0.3, 3000, p3*0.7, 200\n    \n    ; Resonance\n    kRes = 0.75\n    \n    ; Apply Moog ladder filter\n    aFiltL moogladder aSaw, kCutoff, kRes\n    aFiltR moogladder aSaw, kCutoff*1.005, kRes\n    \n    outs aFiltL, aFiltR\nendin\n\ninstr 2\n    ; Classic Moog bass sound\n    kAmp madsr 0.01, 0.05, 0.5, 0.3\n    \n    ; Dual detuned oscillators\n    aSaw1 vco2 kAmp*0.25, 55, 0\n    aSaw2 vco2 kAmp*0.25, 55.2, 0\n    aMix = aSaw1 + aSaw2\n    \n    ; Envelope-controlled filter\n    kFiltEnv expseg 200, 0.1, 2500, p3-0.1, 150\n    \n    ; Medium-high resonance\n    kRes = 0.8\n    \n    aFilt moogladder aMix, kFiltEnv, kRes\n    \n    outs aFilt, aFilt\nendin\n\ninstr 3\n    ; Lead sound with vibrato\n    kAmp madsr 0.02, 0.2, 0.6, 0.4\n    \n    ; Vibrato\n    kVib oscili 3, 5, 1\n    kFreq = 440 + kVib\n    \n    ; Square and sawtooth mix\n    aSq vco2 kAmp*0.2, kFreq, 2\n    aSaw vco2 kAmp*0.2, kFreq, 0\n    aMix = aSq + aSaw\n    \n    ; Moderate filter setting\n    kCutoff = 1800\n    kRes = 0.6\n    \n    aFilt moogladder aMix, kCutoff, kRes\n    \n    outs aFilt, aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play filter sweep\ni1 0 4\n; Play bass\ni2 4.5 3\n; Play lead\ni3 8 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the moogvcf opcode for Moog voltage-controlled filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\ninstr 1\n    ; moogvcf opcode: ares moogvcf asig, xfco, xres [, iscale, iskip]\n    ; moogvcf is a digital implementation of the Moog VCF\n    ; asig - input audio signal\n    ; xfco - cutoff frequency in Hz\n    ; xres - resonance (0-1, typically 0-0.9)\n    ; iscale - scaling factor (optional)\n    ; iskip - skip initialization (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.05, 0.3, p3-0.1, 0.3, 0.05, 0\n    \n    ; Generate pulse wave\n    aPulse vco2 kAmp, 165, 10, 0.5\n    \n    ; LFO-modulated cutoff\n    kLFO oscili 800, 0.5, 1\n    kCutoff = 1000 + kLFO\n    \n    ; Resonance\n    kRes = 0.7\n    \n    ; Apply moogvcf\n    aFilt moogvcf aPulse, kCutoff, kRes\n    \n    out aFilt\nendin\n\ninstr 2\n    ; Sweeping resonance\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Bright sawtooth\n    aSaw vco2 kAmp*0.3, 110, 0\n    \n    ; Fixed cutoff\n    kCutoff = 1500\n    \n    ; Sweep resonance\n    kRes linseg 0.1, p3*0.5, 0.85, p3*0.5, 0.2\n    \n    aFilt moogvcf aSaw, kCutoff, kRes\n    \n    out aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Sine wave for LFO\nf1 0 8192 10 1\n\n; Play LFO-modulated filter\ni1 0 4\n; Play resonance sweep\ni2 4.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the moogvcf2 opcode for improved Moog voltage-controlled filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; moogvcf2 opcode: ares moogvcf2 asig, xfco, xres [, iscale, iskip]\n    ; moogvcf2 is an improved version with better stability\n    ; asig - input audio signal\n    ; xfco - cutoff frequency in Hz\n    ; xres - resonance (0-1)\n    ; iscale - scaling factor (optional)\n    ; iskip - skip initialization (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.3, p3-0.2, 0.3, 0.1, 0\n    \n    ; Generate sawtooth with slight detuning\n    aSaw1 vco2 kAmp, 220, 0\n    aSaw2 vco2 kAmp, 220.5, 0\n    aMix = (aSaw1 + aSaw2) * 0.5\n    \n    ; Exponential filter sweep\n    kCutoff expseg 180, p3*0.4, 4000, p3*0.6, 250\n    \n    ; High resonance\n    kRes = 0.82\n    \n    ; Apply improved Moog filter\n    aFiltL moogvcf2 aMix, kCutoff, kRes\n    aFiltR moogvcf2 aMix, kCutoff*1.01, kRes\n    \n    outs aFiltL, aFiltR\nendin\n\ninstr 2\n    ; Percussive bass with fast envelope\n    kAmp expseg 0.4, 0.02, 0.35, p3-0.02, 0.001\n    \n    ; Low frequency oscillator\n    aSaw vco2 kAmp, 65, 0\n    \n    ; Fast filter decay\n    kCutoff expseg 100, 0.03, 3000, p3-0.03, 100\n    \n    ; Very high resonance\n    kRes = 0.88\n    \n    aFilt moogvcf2 aSaw, kCutoff, kRes\n    \n    outs aFilt, aFilt\nendin\n\ninstr 3\n    ; Pad sound with slow modulation\n    kAmp madsr 0.3, 0.5, 0.6, 0.8\n    \n    ; Mix of waveforms\n    aSaw vco2 kAmp*0.15, 110, 0\n    aSq vco2 kAmp*0.15, 110.3, 2\n    aTri vco2 kAmp*0.15, 55, 4\n    aMix = aSaw + aSq + aTri\n    \n    ; Slow filter LFO\n    kLFO oscili 600, 0.3, 1\n    kCutoff = 800 + kLFO\n    \n    kRes = 0.65\n    \n    aFilt moogvcf2 aMix, kCutoff, kRes\n    \n    outs aFilt, aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Sine wave for LFO\nf1 0 8192 10 1\n\n; Play filter sweep\ni1 0 4\n; Play percussive bass\ni2 4.5 2\n; Play pad sound\ni3 7 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the lpform opcode for formant filtering", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 1\n0dbfs = 1\n\ninstr 1\n    ; lpform opcode: ares lpform asig, kfiltq, kfco\n    ; lpform implements a formant filter\n    ; asig - input audio signal\n    ; kfiltq - Q factor (bandwidth)\n    ; kfco - center frequency in Hz\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.05, 0.3, p3-0.1, 0.3, 0.05, 0\n    \n    ; Generate sawtooth source\n    aSaw vco2 kAmp, 110, 0\n    \n    ; Sweep formant frequency\n    kFormant linseg 400, p3*0.5, 2000, p3*0.5, 600\n    \n    ; Q factor (lower = wider bandwidth)\n    kQ = 50\n    \n    ; Apply formant filter\n    aFilt lpform aSaw, kQ, kFormant\n    \n    out aFilt\nendin\n\ninstr 2\n    ; Vowel-like sounds\n    kAmp madsr 0.02, 0.1, 0.7, 0.3\n    \n    ; Buzz as source\n    aBuzz buzz kAmp*0.3, 220, 20, 1\n    \n    ; Two formants for vowel simulation\n    ; First formant (low)\n    kF1 = 730  ; \"a\" vowel approximation\n    aFilt1 lpform aBuzz, 40, kF1\n    \n    ; Second formant (high)\n    kF2 = 1090\n    aFilt2 lpform aBuzz, 40, kF2\n    \n    ; Mix formants\n    aMix = aFilt1 + aFilt2*0.7\n    \n    out aMix * 0.5\nendin\n\ninstr 3\n    ; Morphing between vowels\n    kAmp linseg 0, 0.1, 0.3, p3-0.2, 0.3, 0.1, 0\n    \n    ; Source\n    aSaw vco2 kAmp, 165, 0\n    \n    ; Morph from \"ee\" to \"oo\" formants\n    kF1 linseg 270, p3, 300   ; First formant\n    kF2 linseg 2300, p3, 870  ; Second formant\n    \n    ; Apply formants\n    aF1 lpform aSaw, 30, kF1\n    aF2 lpform aSaw, 40, kF2\n    \n    aMix = aF1 + aF2*0.6\n    \n    out aMix * 0.5\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Cosine for buzz\nf1 0 8192 11 1\n\n; Play formant sweep\ni1 0 3\n; Play static vowel\ni2 3.5 2.5\n; Play morphing vowels\ni3 6.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the lpf opcode for general low-pass filtering", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; lpf opcode: ares lpf asig, kfreq\n    ; lpf is a general low-pass filter\n    ; asig - input audio signal\n    ; kfreq - cutoff frequency in Hz\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.4, p3-0.2, 0.4, 0.1, 0\n    \n    ; Generate bright signal\n    aSaw vco2 kAmp, 220, 0\n    \n    ; Cutoff frequency sweep\n    kCutoff expseg 200, p3*0.5, 5000, p3*0.5, 300\n    \n    ; Apply low-pass filter\n    aFiltL lpf aSaw, kCutoff\n    aFiltR lpf aSaw, kCutoff*1.02\n    \n    outs aFiltL, aFiltR\nendin\n\ninstr 2\n    ; Smooth noise with lpf\n    kAmp madsr 0.01, 0.2, 0.6, 0.4\n    \n    ; White noise source\n    aNoise noise kAmp*0.4, 0\n    \n    ; Variable filter cutoff\n    kCutoff linseg 500, p3*0.3, 3000, p3*0.7, 800\n    \n    ; Filter the noise\n    aFilt lpf aNoise, kCutoff\n    \n    outs aFilt, aFilt\nendin\n\ninstr 3\n    ; Multi-stage filtering\n    kAmp linseg 0, 0.1, 0.35, p3-0.2, 0.35, 0.1, 0\n    \n    ; Square wave\n    aSq vco2 kAmp, 165, 2\n    \n    ; Fixed cutoff\n    kCutoff = 1200\n    \n    ; Apply filter multiple times for steeper rolloff\n    aFilt lpf aSq, kCutoff\n    aFilt lpf aFilt, kCutoff\n    aFilt lpf aFilt, kCutoff\n    \n    outs aFilt, aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play filter sweep\ni1 0 4\n; Play filtered noise\ni2 4.5 3\n; Play multi-stage filtering\ni3 8 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the rezzy opcode for resonant low-pass filtering", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; rezzy opcode: ares rezzy asig, xfco, xres [, imode, iskip]\n    ; rezzy is a resonant low-pass filter\n    ; asig - input audio signal\n    ; xfco - cutoff frequency in Hz\n    ; xres - resonance (typically 0-1, can go higher for self-oscillation)\n    ; imode - filter mode (1=lowpass, 2=highpass, 3=bandpass)\n    ; iskip - skip initialization (optional)\n    \n    ; Amplitude envelope\n    kAmp linseg 0, 0.1, 0.3, p3-0.2, 0.3, 0.1, 0\n    \n    ; Generate bright sawtooth\n    aSaw vco2 kAmp, 220, 0\n    \n    ; Sweep cutoff frequency\n    kCutoff expseg 150, p3*0.5, 4000, p3*0.5, 200\n    \n    ; Moderate resonance\n    kRes = 0.7\n    \n    ; Apply rezzy low-pass filter (mode 1)\n    aFiltL rezzy aSaw, kCutoff, kRes, 1\n    aFiltR rezzy aSaw, kCutoff*1.01, kRes, 1\n    \n    outs aFiltL, aFiltR\nendin\n\ninstr 2\n    ; High resonance for classic analog sound\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Detuned oscillators\n    aSaw1 vco2 kAmp*0.25, 110, 0\n    aSaw2 vco2 kAmp*0.25, 110.5, 0\n    aMix = aSaw1 + aSaw2\n    \n    ; Envelope-controlled filter\n    kFiltEnv expseg 200, 0.1, 3000, p3-0.1, 180\n    \n    ; High resonance for squelchy character\n    kRes = 0.85\n    \n    aFilt rezzy aMix, kFiltEnv, kRes, 1\n    \n    outs aFilt, aFilt\nendin\n\ninstr 3\n    ; Self-oscillation demonstration\n    kAmp linseg 0, 0.1, 0.25, p3-0.2, 0.25, 0.1, 0\n    \n    ; Low amplitude noise as excitation\n    aNoise noise 0.02, 0\n    \n    ; Varying cutoff\n    kCutoff linseg 300, p3, 2000\n    \n    ; Very high resonance (near or at self-oscillation)\n    kRes = 0.98\n    \n    aFilt rezzy aNoise, kCutoff, kRes, 1\n    \n    outs aFilt*kAmp, aFilt*kAmp\nendin\n\ninstr 4\n    ; Bandpass mode demonstration\n    kAmp madsr 0.02, 0.15, 0.5, 0.3\n    \n    ; White noise source\n    aNoise noise kAmp*0.4, 0\n    \n    ; Sweep bandpass frequency\n    kCenter expseg 400, p3*0.6, 3000, p3*0.4, 500\n    \n    ; High Q for narrow band\n    kRes = 0.8\n    \n    ; Apply rezzy in bandpass mode (mode 3)\n    aFilt rezzy aNoise, kCenter, kRes, 3\n    \n    outs aFilt, aFilt\nendin\n\ninstr 5\n    ; Dynamic resonance sweep\n    kAmp linseg 0, 0.1, 0.3, p3-0.2, 0.3, 0.1, 0\n    \n    ; Pulse wave\n    aPulse vco2 kAmp, 165, 10, 0.3\n    \n    ; Fixed cutoff\n    kCutoff = 1500\n    \n    ; Sweep resonance\n    kRes linseg 0.2, p3*0.5, 0.9, p3*0.5, 0.3\n    \n    aFilt rezzy aPulse, kCutoff, kRes, 1\n    \n    outs aFilt, aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play filter sweep\ni1 0 4\n; Play high resonance\ni2 4.5 3\n; Play self-oscillation\ni3 8 4\n; Play bandpass mode\ni4 12.5 3\n; Play resonance sweep\ni5 16 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the statevar opcode for state variable filtering", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; statevar opcode: ahp, alp, abp, abr statevar asig, kcf, kq [, iosamps] [, istor]\n    ; statevar is a state variable filter providing simultaneous outputs\n    ; asig - input audio signal\n    ; kcf - cutoff frequency (in Hz)\n    ; kq - resonance (Q factor, typically 1 to 20)\n    ; iosamps - oversampling factor (optional)\n    ; istor - skip initialization (optional)\n    ; Outputs: ahp (highpass), alp (lowpass), abp (bandpass), abr (band-reject)\n    \n    ; Amplitude envelope\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Sawtooth source\n    aSaw vco2 kAmp*0.3, 220, 0\n    \n    ; Static filter\n    kCutoff = 800\n    kQ = 5\n    \n    ; Apply state variable filter\n    aHP, aLP, aBP, aBR statevar aSaw, kCutoff, kQ\n    \n    ; Output lowpass and highpass\n    outs aLP, aHP\nendin\n\ninstr 2\n    ; Sweep filter with all outputs\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    ; Square wave source\n    aSq vco2 kAmp*0.25, 165, 2\n    \n    ; Sweep cutoff frequency\n    kCutoff expseg 200, p3, 4000\n    kQ = 8\n    \n    ; Get all filter outputs\n    aHP, aLP, aBP, aBR statevar aSq, kCutoff, kQ\n    \n    ; Use different outputs for left/right\n    outs aLP*0.8, aBP*0.8\nendin\n\ninstr 3\n    ; Resonant filter with modulated Q\n    kAmp linseg 0, 0.05, 0.35, p3-0.1, 0.35, 0.05, 0\n    \n    ; Rich sawtooth\n    aSaw vco2 kAmp*0.25, 110, 0\n    \n    ; Fixed cutoff, modulated resonance\n    kCutoff = 600\n    kLFO oscili 8, 0.5, giSine\n    kQ = 4 + kLFO\n    \n    ; Apply filter\n    aHP, aLP, aBP, aBR statevar aSaw, kCutoff, kQ\n    \n    ; Output bandpass for vocal-like effect\n    outs aBP, aBP\nendin\n\ninstr 4\n    ; Parallel filter bank using multiple statevars\n    kAmp madsr 0.005, 0.08, 0.5, 0.3\n    \n    ; White noise source\n    aNoise noise kAmp*0.3, 0\n    \n    ; Three filters at different frequencies\n    kQ = 10\n    \n    aHP1, aLP1, aBP1, aBR1 statevar aNoise, 400, kQ\n    aHP2, aLP2, aBP2, aBR2 statevar aNoise, 800, kQ\n    aHP3, aLP3, aBP3, aBR3 statevar aNoise, 1600, kQ\n    \n    ; Sum bandpass outputs for formant-like sound\n    aOut = (aBP1 + aBP2 + aBP3) * 0.5\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play static filter\ni1 0 3\n\n; Play sweep\ni2 3.5 5\n\n; Play modulated Q\ni3 9 4\n\n; Play filter bank\ni4 13.5 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the svfilter opcode for multimode state variable filtering", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; svfilter opcode: alow, ahigh, aband, anotch svfilter asig, kcf, kq [, iscl] [, iskip]\n    ; svfilter is a state variable filter with four simultaneous outputs\n    ; asig - input audio signal\n    ; kcf - cutoff/center frequency (in Hz)\n    ; kq - resonance/Q factor\n    ; iscl - scale factor (optional)\n    ; iskip - skip initialization (optional)\n    ; Outputs: alow, ahigh, aband, anotch\n    \n    ; Amplitude envelope\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Bright sawtooth\n    aSaw vco2 kAmp*0.3, 330, 0\n    \n    ; Apply filter\n    kCutoff = 1000\n    kQ = 6\n    \n    aLow, aHigh, aBand, aNotch svfilter aSaw, kCutoff, kQ\n    \n    ; Demonstrate different outputs\n    outs aLow, aBand\nendin\n\ninstr 2\n    ; Morphing between filter types\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    ; Square wave\n    aSq vco2 kAmp*0.25, 220, 2\n    \n    ; Filter parameters\n    kCutoff = 800\n    kQ = 8\n    \n    ; Get all outputs\n    aLow, aHigh, aBand, aNotch svfilter aSq, kCutoff, kQ\n    \n    ; Crossfade between filter types over time\n    kMix linseg 0, p3, 3\n    \n    ; 0-1: lowpass to bandpass\n    ; 1-2: bandpass to highpass  \n    ; 2-3: highpass to notch\n    if kMix < 1 then\n        aOut = aLow * (1-kMix) + aBand * kMix\n    elseif kMix < 2 then\n        aOut = aBand * (2-kMix) + aHigh * (kMix-1)\n    else\n        aOut = aHigh * (3-kMix) + aNotch * (kMix-2)\n    endif\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; TB-303 style acid bass\n    kAmp madsr 0.003, 0.05, 0.3, 0.2\n    \n    ; Sawtooth oscillator\n    aSaw vco2 kAmp*0.35, p4, 0\n    \n    ; Envelope-controlled filter\n    kFiltEnv madsr 0.01, 0.3, 0.2, 0.1\n    kCutoff = 200 + kFiltEnv * 2500\n    kQ = 12\n    \n    ; Apply resonant lowpass\n    aLow, aHigh, aBand, aNotch svfilter aSaw, kCutoff, kQ\n    \n    ; Add some bandpass for extra character\n    aOut = aLow*0.8 + aBand*0.2\n    \n    outs aOut, aOut\nendin\n\ninstr 4\n    ; Vocal formant synthesis using parallel filters\n    kAmp linseg 0, 0.05, 0.3, p3-0.1, 0.3, 0.05, 0\n    \n    ; Buzz source (vocal cords)\n    aBuzz buzz kAmp*0.3, 120, 40, giSine\n    \n    ; First formant (F1)\n    kF1 = 730   ; \"ah\" vowel\n    kQ1 = 8\n    aL1, aH1, aB1, aN1 svfilter aBuzz, kF1, kQ1\n    \n    ; Second formant (F2)\n    kF2 = 1090\n    kQ2 = 10\n    aL2, aH2, aB2, aN2 svfilter aBuzz, kF2, kQ2\n    \n    ; Third formant (F3)\n    kF3 = 2440\n    kQ3 = 12\n    aL3, aH3, aB3, aN3 svfilter aBuzz, kF3, kQ3\n    \n    ; Mix formants with appropriate levels\n    aOut = aB1*0.5 + aB2*0.3 + aB3*0.15\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic filter\ni1 0 3\n\n; Play morphing\ni2 3.5 6\n\n; Play acid bass line\ni3 10 0.5 55\ni3 10.5 0.5 55\ni3 11 0.8 82.4\ni3 12 0.5 110\ni3 13 1 55\n\n; Play vowel\ni4 15 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the bqrez opcode for biquad resonant filtering", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; bqrez opcode: ares bqrez asig, xfco, xres [, imode] [, iskip]\n    ; bqrez is a biquad multi-mode filter\n    ; asig - input audio signal\n    ; xfco - cutoff/center frequency (Hz)\n    ; xres - resonance (bandwidth in Hz for bandpass, Q for lowpass/highpass)\n    ; imode - filter mode: 0=lowpass, 1=highpass, 2=bandpass (default=0)\n    ; iskip - skip initialization (optional)\n    \n    ; Amplitude envelope\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Sawtooth source\n    aSaw vco2 kAmp*0.3, 220, 0\n    \n    ; Lowpass mode with resonance\n    kCutoff = 1200\n    kRes = 20  ; High Q for resonance\n    iMode = 0  ; Lowpass\n    \n    ; Apply filter\n    aFilt bqrez aSaw, kCutoff, kRes, iMode\n    \n    outs aFilt, aFilt\nendin\n\ninstr 2\n    ; Sweep filter in highpass mode\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    ; White noise\n    aNoise noise kAmp*0.35, 0\n    \n    ; Sweep highpass cutoff\n    kCutoff expseg 100, p3, 5000\n    kRes = 8\n    iMode = 1  ; Highpass\n    \n    aFilt bqrez aNoise, kCutoff, kRes, iMode\n    \n    outs aFilt, aFilt\nendin\n\ninstr 3\n    ; Resonant bandpass for formant-like sound\n    kAmp linseg 0, 0.05, 0.35, p3-0.1, 0.35, 0.05, 0\n    \n    ; Sawtooth source\n    aSaw vco2 kAmp*0.25, 165, 0\n    \n    ; Bandpass mode with narrow bandwidth\n    kCenter = 800\n    kBW = 50    ; Bandwidth in Hz for bandpass mode\n    iMode = 2   ; Bandpass\n    \n    aFilt bqrez aSaw, kCenter, kBW, iMode\n    \n    outs aFilt, aFilt\nendin\n\ninstr 4\n    ; Self-oscillating filter\n    kAmp madsr 0.005, 0.08, 0.4, 0.3\n    \n    ; Low amplitude source\n    aExcite noise kAmp*0.05, 0\n    \n    ; Very high resonance causes self-oscillation\n    kCutoff = p4\n    kRes = 50   ; Extreme resonance\n    iMode = 0\n    \n    aFilt bqrez aExcite, kCutoff, kRes, iMode\n    \n    outs aFilt*0.3, aFilt*0.3\nendin\n\ninstr 5\n    ; Multi-mode filter with LFO modulation\n    kAmp madsr 0.01, 0.12, 0.55, 0.35\n    \n    ; Square wave\n    aSq vco2 kAmp*0.25, 110, 2\n    \n    ; LFO modulates cutoff\n    kLFO oscili 1000, 0.4, giSine\n    kCutoff = 400 + kLFO\n    kRes = 15\n    \n    ; Switch between modes based on time\n    iMode = p4\n    \n    aFilt bqrez aSq, kCutoff, kRes, iMode\n    \n    outs aFilt, aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play lowpass\ni1 0 3\n\n; Play highpass sweep\ni2 3.5 4\n\n; Play bandpass\ni3 8 3\n\n; Play self-oscillation at different pitches\ni4 11.5 1 440\ni4 12.5 1 550\ni4 13.5 1 660\n\n; Play modulated filters in different modes\ni5 16 4 0  ; Lowpass\ni5 16 4 1  ; Highpass\ni5 16 4 2  ; Bandpass\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the rbjeq opcode for Robert Bristow-Johnson's EQ filters", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; rbjeq opcode: ares rbjeq asig, kfco, klvl, kQ, kS, imode [, iskip]\n    ; rbjeq implements various filter types using RBJ's Audio EQ Cookbook\n    ; asig - input audio signal\n    ; kfco - cutoff/center frequency (Hz)\n    ; klvl - level/gain (dB for peaking/shelving, not used for others)\n    ; kQ - Q factor (bandwidth)\n    ; kS - shelf slope (for shelving filters, 0.5 to 2)\n    ; imode - filter type: 0=lowpass, 1=highpass, 2=bandpass(BPF),\n    ;         3=band-reject, 4=peaking, 5=low-shelf, 6=high-shelf, 7=bandpass(CSG)\n    ; iskip - skip initialization (optional)\n    \n    ; Amplitude envelope\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Sawtooth source\n    aSaw vco2 kAmp*0.3, 220, 0\n    \n    ; Lowpass filter\n    kCutoff = 1000\n    kLevel = 0     ; Not used for lowpass\n    kQ = 0.707     ; Butterworth response\n    kS = 1         ; Not used for lowpass\n    iMode = 0      ; Lowpass\n    \n    aFilt rbjeq aSaw, kCutoff, kLevel, kQ, kS, iMode\n    \n    outs aFilt, aFilt\nendin\n\ninstr 2\n    ; Peaking EQ for tone shaping\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    ; Full spectrum source\n    aSaw vco2 kAmp*0.25, 165, 0\n    \n    ; Boost at 800 Hz\n    kCenter = 800\n    kBoost = 12    ; 12 dB boost\n    kQ = 2\n    kS = 1\n    iMode = 4      ; Peaking EQ\n    \n    aFilt rbjeq aSaw, kCenter, kBoost, kQ, kS, iMode\n    \n    outs aFilt, aFilt\nendin\n\ninstr 3\n    ; Low-shelf EQ for bass adjustment\n    kAmp linseg 0, 0.05, 0.35, p3-0.1, 0.35, 0.05, 0\n    \n    ; Bass-heavy sawtooth\n    aSaw vco2 kAmp*0.25, 110, 0\n    \n    ; Boost low frequencies\n    kShelfFreq = 200\n    kBoost = 6     ; 6 dB boost\n    kQ = 1\n    kSlope = 1     ; Shelf slope\n    iMode = 5      ; Low-shelf\n    \n    aFilt rbjeq aSaw, kShelfFreq, kBoost, kQ, kSlope, iMode\n    \n    outs aFilt, aFilt\nendin\n\ninstr 4\n    ; High-shelf EQ for brightness\n    kAmp madsr 0.01, 0.12, 0.55, 0.35\n    \n    ; Square wave\n    aSq vco2 kAmp*0.25, 220, 2\n    \n    ; Boost high frequencies\n    kShelfFreq = 2000\n    kBoost = 8     ; 8 dB boost\n    kQ = 0.707\n    kSlope = 1.5\n    iMode = 6      ; High-shelf\n    \n    aFilt rbjeq aSq, kShelfFreq, kBoost, kQ, kSlope, iMode\n    \n    outs aFilt, aFilt\nendin\n\ninstr 5\n    ; Notch filter to remove frequency\n    kAmp madsr 0.005, 0.08, 0.5, 0.3\n    \n    ; White noise\n    aNoise noise kAmp*0.35, 0\n    \n    ; Notch out 1000 Hz\n    kNotch = 1000\n    kLevel = 0\n    kQ = 10        ; Narrow notch\n    kS = 1\n    iMode = 3      ; Band-reject (notch)\n    \n    aFilt rbjeq aNoise, kNotch, kLevel, kQ, kS, iMode\n    \n    outs aFilt, aFilt\nendin\n\ninstr 6\n    ; Multi-band EQ chain\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Rich source\n    aSaw vco2 kAmp*0.25, 220, 0\n    \n    ; Low-shelf: boost bass\n    aEQ1 rbjeq aSaw, 100, 4, 1, 1, 5\n    \n    ; Peaking: cut muddy mids\n    aEQ2 rbjeq aEQ1, 400, -6, 2, 1, 4\n    \n    ; Peaking: boost presence\n    aEQ3 rbjeq aEQ2, 2000, 5, 2, 1, 4\n    \n    ; High-shelf: add air\n    aEQ4 rbjeq aEQ3, 8000, 3, 0.707, 1, 6\n    \n    outs aEQ4, aEQ4\nendin\n\ninstr 7\n    ; Dynamic EQ with modulated parameters\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    ; Sawtooth source\n    aSaw vco2 kAmp*0.25, 165, 0\n    \n    ; LFO modulates boost amount\n    kLFO oscili 8, 0.5, giSine\n    kBoost = 6 + kLFO\n    \n    ; Sweep center frequency\n    kCenter linseg 300, p3, 2000\n    \n    kQ = 3\n    kS = 1\n    iMode = 4  ; Peaking\n    \n    aFilt rbjeq aSaw, kCenter, kBoost, kQ, kS, iMode\n    \n    outs aFilt, aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play lowpass\ni1 0 3\n\n; Play peaking boost\ni2 3.5 3\n\n; Play low-shelf\ni3 7 3\n\n; Play high-shelf\ni4 10.5 3\n\n; Play notch\ni5 14 3\n\n; Play multi-band EQ\ni6 17.5 4\n\n; Play dynamic EQ\ni7 22 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates using statevar for synthesis with feedback and self-oscillation", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table: sine wave\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; Self-oscillating statevar filter as sound source\n    kAmp linseg 0, 0.05, 0.25, p3-0.1, 0.25, 0.05, 0\n    \n    ; Tiny excitation signal\n    aNoise noise kAmp*0.01, 0\n    \n    ; Very high Q causes self-oscillation\n    kCutoff = p4\n    kQ = 40  ; Extreme resonance\n    \n    ; Filter self-oscillates to produce sine-like tone\n    aHP, aLP, aBP, aBR statevar aNoise, kCutoff, kQ\n    \n    ; Bandpass output is purest\n    outs aBP*0.4, aBP*0.4\nendin\n\ninstr 2\n    ; Feedback patching with statevar\n    kAmp madsr 0.01, 0.1, 0.5, 0.3\n    \n    ; Initial excitation\n    aExcite noise kAmp*0.2, 0\n    aExcite = aExcite * (1 - linseg(0, 0.1, 1, 0.01, 1))\n    \n    ; Initialize feedback\n    aFeedback init 0\n    \n    ; Mix excitation with feedback\n    aMix = aExcite + aFeedback*0.8\n    \n    ; Filter with moderate resonance\n    kCutoff = 400\n    kQ = 12\n    aHP, aLP, aBP, aBR statevar aMix, kCutoff, kQ\n    \n    ; Feed bandpass back\n    aFeedback = aBP\n    \n    outs aLP*0.5, aBP*0.5\nendin\n\ninstr 3\n    ; Karplus-Strong-like synthesis with statevar\n    kAmp linseg 0, 0.01, 0.4, p3-0.2, 0.4, 0.19, 0\n    \n    ; Noise burst\n    aNoise noise kAmp*0.6, 0\n    aBurst = aNoise * (1 - linseg(0, 0.02, 1, 0.001, 1))\n    \n    ; Initialize delay\n    aDelay init 0\n    \n    ; Mix burst with delayed signal\n    aMix = aBurst + aDelay*0.98\n    \n    ; Filter smooths the sound\n    iFreq = p4\n    kCutoff = iFreq * 3\n    kQ = 2\n    aHP, aLP, aBP, aBR statevar aMix, kCutoff, kQ\n    \n    ; Delay matches pitch\n    iDelTime = 1/iFreq\n    aDelay delay aLP, iDelTime\n    \n    outs aLP, aLP\nendin\n\ninstr 4\n    ; Dual filter with cross-feedback\n    kAmp madsr 0.005, 0.08, 0.45, 0.4\n    \n    ; Impulse train\n    aExcite mpulse kAmp*0.3, 10\n    \n    ; Initialize feedbacks\n    aFeed1 init 0\n    aFeed2 init 0\n    \n    ; First filter path\n    aMix1 = aExcite + aFeed2*0.3\n    aHP1, aLP1, aBP1, aBR1 statevar aMix1, 500, 8\n    aFeed1 = aBP1\n    \n    ; Second filter path at different frequency\n    aMix2 = aExcite + aFeed1*0.3\n    aHP2, aLP2, aBP2, aBR2 statevar aMix2, 750, 8\n    aFeed2 = aBP2\n    \n    ; Stereo output\n    outs aLP1*0.5 + aBP1*0.3, aLP2*0.5 + aBP2*0.3\nendin\n\ninstr 5\n    ; Modulated filter network\n    kAmp madsr 0.01, 0.12, 0.5, 0.35\n    \n    ; Sawtooth source\n    aSaw vco2 kAmp*0.25, 110, 0\n    \n    ; Initialize feedback\n    aFeedback init 0\n    \n    ; LFOs modulate parameters\n    kLFO1 oscili 400, 0.37, giSine\n    kLFO2 oscili 8, 0.23, giSine\n    \n    ; Mix with feedback\n    aMix = aSaw + aFeedback*0.4\n    \n    ; Filter with modulated parameters\n    kCutoff = 600 + kLFO1\n    kQ = 10 + kLFO2\n    aHP, aLP, aBP, aBR statevar aMix, kCutoff, kQ\n    \n    ; Multiple feedback paths\n    aFeedback = aBP*0.5 + aHP*0.2\n    \n    ; Mix outputs\n    aOut = aLP*0.6 + aBP*0.3 + aHP*0.1\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play self-oscillating filters\ni1 0 2 440\ni1 1 2 550\ni1 2 2 660\n\n; Play feedback synthesis\ni2 5 3\n\n; Play Karplus-Strong-like\ni3 9 2 220\ni3 10 2 330\ni3 11 2 440\n\n; Play cross-feedback\ni4 14 4\n\n; Play modulated network\ni5 19 6\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates SuperCollider-style opcodes", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; sc_lag and sc_lagud (if available)\n    ; These implement SuperCollider-style lag filters\n    ; Used for smoothing control signals\n    \n    ; Basic smoothing example\n    iAmp = 0.5\n    iFreq = p4\n    \n    ; Target frequency with smoothing\n    kTarget = iFreq\n    kLagTime = 0.1\n    \n    ; Smooth transition\n    kFreq port kTarget, kLagTime\n    \n    aOsc poscil iAmp, kFreq, 1\n    \n    outs aOsc, aOsc\nendin\n\ninstr 2\n    ; sconc opcode (if available)\n    ; SuperCollider-style operations\n    ; This demonstrates conceptual usage\n    \n    iAmp = 0.5\n    iFreq = p4\n    \n    ; Multiple oscillators with slight detuning\n    aOsc1 poscil iAmp*0.4, iFreq, 1\n    aOsc2 poscil iAmp*0.3, iFreq*1.01, 1\n    aOsc3 poscil iAmp*0.3, iFreq*0.99, 1\n    \n    aMix = aOsc1 + aOsc2 + aOsc3\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; scoscil opcode (if available)\n    ; SuperCollider-style oscillator\n    ; Demonstrating similar functionality\n    \n    iAmp = 0.5\n    iFreq = p4\n    \n    ; Phase-locked oscillators\n    aOsc1 poscil iAmp, iFreq, 1, 0\n    aOsc2 poscil iAmp*0.5, iFreq*2, 1, 0.25\n    \n    aMix = (aOsc1 + aOsc2) * 0.6\n    \n    outs aMix, aMix\nendin\n\ninstr 4\n    ; SuperCollider-inspired envelope\n    iAmp = 0.5\n    iFreq = p4\n    \n    ; Percussive envelope (SC style)\n    kEnv expseg 1, 0.01, 0.8, 0.05, 0.3, p3-0.06, 0.01\n    \n    aOsc poscil iAmp*kEnv, iFreq, 1\n    \n    outs aOsc, aOsc\nendin\n\n</CsInstruments>\n<CsScore>\n\nf1 0 16384 10 1\n\n; Play smoothed control\ni1 0 2 440\n\n; Play detuned mix\ni2 3 2 330\n\n; Play phase-locked\ni3 6 2 523\n\n; Play percussive\ni4 9 1 294\ni4 10 1 392\ni4 11 1 523\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates synthesis utility opcodes", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSine ftgen 1, 0, 16384, 10, 1\ngiSaw ftgen 2, 0, 16384, 10, 1, 0.5, 0.3, 0.25, 0.2, 0.16\n\ninstr 1\n    ; balance opcode: ares balance asig, acomp [, ihp] [, iskip]\n    ; balance adjusts the RMS power of asig to match acomp\n    ; asig - signal to adjust\n    ; acomp - comparison signal (reference)\n    ; ihp - half-power point of internal filter\n    \n    iFreq = p4\n    \n    ; Reference signal (constant amplitude)\n    aRef poscil 0.5, iFreq, giSine\n    \n    ; Variable amplitude signal\n    kEnv linseg 0.1, p3*0.5, 0.8, p3*0.5, 0.2\n    aSig poscil kEnv, iFreq*1.5, giSaw\n    \n    ; Balance to match reference level\n    aBal balance aSig, aRef\n    \n    outs aBal*0.8, aBal*0.8\nendin\n\ninstr 2\n    ; follow opcode: ares follow asig, iatt, irel\n    ; follow generates envelope follower\n    ; asig - input signal\n    ; iatt - attack time\n    ; irel - release time\n    \n    iFreq = p4\n    \n    ; Input signal with varying amplitude\n    kAmp lfo 0.4, 3, 0\n    kAmp = 0.3 + kAmp\n    aIn poscil kAmp, iFreq, giSaw\n    \n    ; Envelope follower\n    iAtt = 0.01\n    iRel = 0.1\n    aEnv follow aIn, iAtt, iRel\n    \n    ; Use envelope to control another oscillator\n    aOut poscil aEnv*2, iFreq*2, giSine\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; follow2 opcode: ares follow2 asig, katt, krel\n    ; follow2 is like follow but with k-rate control\n    ; katt, krel - attack/release times (k-rate)\n    \n    iFreq = p4\n    \n    ; Input signal\n    kAmp lfo 0.3, 2, 0\n    kAmp = 0.4 + kAmp\n    aIn poscil kAmp, iFreq, giSaw\n    \n    ; Variable attack/release\n    kAtt linseg 0.001, p3, 0.05\n    kRel linseg 0.05, p3, 0.2\n    \n    aEnv follow2 aIn, kAtt, kRel\n    \n    ; Apply envelope\n    aOut poscil aEnv*2, iFreq*0.5, giSine\n    \n    outs aOut, aOut\nendin\n\ninstr 4\n    ; rms opcode: kres rms asig [, ihp] [, iskip]\n    ; rms calculates root-mean-square of signal\n    ; asig - input signal\n    ; ihp - half-power point\n    \n    iFreq = p4\n    \n    ; Signal with varying amplitude\n    kMod lfo 0.35, 2.5, 0\n    kMod = 0.4 + kMod\n    aSig poscil kMod, iFreq, giSaw\n    \n    ; Calculate RMS\n    kRMS rms aSig\n    \n    ; Use RMS to control filter\n    kCutoff = 500 + kRMS * 3000\n    aFilt butterlp aSig, kCutoff\n    \n    outs aFilt, aFilt\nendin\n\ninstr 5\n    ; gain opcode: ares gain asig, krms [, ihp] [, iskip]\n    ; gain adjusts signal to target RMS level\n    ; asig - input signal\n    ; krms - target RMS level\n    \n    iFreq = p4\n    \n    ; Signal with varying amplitude\n    kEnv linseg 0.2, p3*0.3, 0.9, p3*0.7, 0.1\n    aSig poscil kEnv, iFreq, giSaw\n    \n    ; Target RMS level\n    kTarget = 0.3\n    \n    ; Apply gain to maintain target level\n    aGain gain aSig, kTarget\n    \n    outs aGain, aGain\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play balance\ni1 0 3 330\n\n; Play follow\ni2 4 4 440\n\n; Play follow2\ni3 9 4 294\n\n; Play rms\ni4 14 4 523\n\n; Play gain\ni5 19 3 392\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates advanced utility techniques", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSine ftgen 1, 0, 16384, 10, 1\ngiSaw ftgen 2, 0, 16384, 10, 1, 0.5, 0.3, 0.25, 0.2, 0.16\n\ninstr 1\n    ; Side-chain compression using follow\n    iFreq1 = p4\n    iFreq2 = p5\n    \n    ; Main signal\n    aMain poscil 0.5, iFreq1, giSaw\n    \n    ; Side-chain signal\n    kKick lfo 0.6, 2, 2\n    kKick = 0.3 + kKick\n    aSide poscil kKick, iFreq2, giSine\n    \n    ; Extract envelope from side-chain\n    aEnv follow aSide, 0.001, 0.1\n    \n    ; Duck main signal based on side-chain\n    kDuck = 1 - aEnv * 1.5\n    kDuck limit kDuck, 0, 1\n    \n    aOut = aMain * kDuck + aSide\n    \n    outs aOut, aOut\nendin\n\ninstr 2\n    ; Dynamic balancing\n    iFreq = p4\n    \n    ; Two sources with different characteristics\n    aSource1 poscil 0.4, iFreq, giSine\n    \n    kEnv linseg 0.1, p3*0.5, 0.8, p3*0.5, 0.1\n    aSource2 poscil kEnv, iFreq*2, giSaw\n    \n    ; Balance second source to first\n    aBal balance aSource2, aSource1\n    \n    ; Mix\n    aMix = aSource1 * 0.5 + aBal * 0.5\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; RMS-based dynamics\n    iFreq = p4\n    \n    ; Complex source\n    aOsc1 poscil 0.3, iFreq, giSaw\n    aOsc2 poscil 0.2, iFreq*1.5, giSaw\n    aMix = aOsc1 + aOsc2\n    \n    ; Calculate RMS\n    kRMS rms aMix\n    \n    ; Compress based on RMS\n    kComp = 1\n    if kRMS > 0.4 then\n        kComp = 0.4 / kRMS\n    endif\n    \n    aOut = aMix * kComp\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play side-chain compression\ni1 0 5 330 55\n\n; Play dynamic balancing\ni2 6 4 440\n\n; Play RMS compression\ni3 11 4 294\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates vector synthesis with vpvoc", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSine ftgen 1, 0, 16384, 10, 1\ngiSaw ftgen 2, 0, 16384, 10, 1, 0.5, 0.3, 0.25, 0.2\ngiSquare ftgen 3, 0, 16384, 10, 1, 0, 0.3, 0, 0.2\ngiTri ftgen 4, 0, 16384, 10, 1, 0, -0.11, 0, 0.04\n\ninstr 1\n    ; vpvoc opcode: ares vpvoc ktimpnt, kfmod, ifile [, ispecwp] [, ifn]\n    ; vpvoc performs phase vocoding with vector synthesis\n    ; ktimpnt - time pointer for reading\n    ; kfmod - frequency multiplier\n    ; ifile - analysis file or table number\n    \n    ; Note: vpvoc typically reads from analysis files\n    ; This demonstrates the concept using tables\n    \n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Generate source\n    aSource poscil iAmp, iFreq, giSaw\n    \n    ; Analyze (conceptual)\n    fSig pvsanal aSource, 2048, 256, 2048, 1\n    \n    ; Resynthesize\n    aOut pvsynth fSig\n    \n    outs aOut, aOut\nendin\n\ninstr 2\n    ; Vector mixing between waveforms\n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Four corner waveforms\n    aWave1 poscil iAmp, iFreq, giSine\n    aWave2 poscil iAmp, iFreq, giSaw\n    aWave3 poscil iAmp, iFreq, giSquare\n    aWave4 poscil iAmp, iFreq, giTri\n    \n    ; Vector position (X,Y coordinates)\n    kX linseg 0, p3, 1\n    kY = 0.5\n    \n    ; Mix based on position\n    kMix1 = (1-kX) * (1-kY)\n    kMix2 = kX * (1-kY)\n    kMix3 = (1-kX) * kY\n    kMix4 = kX * kY\n    \n    aMix = aWave1*kMix1 + aWave2*kMix2 + aWave3*kMix3 + aWave4*kMix4\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; 2D vector path\n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Waveforms\n    aWave1 poscil iAmp, iFreq, giSine\n    aWave2 poscil iAmp, iFreq, giSaw\n    aWave3 poscil iAmp, iFreq, giSquare\n    aWave4 poscil iAmp, iFreq, giTri\n    \n    ; Circular path\n    kAngle phasor 0.5\n    kAngle = kAngle * 2 * 3.14159\n    \n    kX = (cos(kAngle) + 1) * 0.5\n    kY = (sin(kAngle) + 1) * 0.5\n    \n    ; Bilinear interpolation\n    kMix1 = (1-kX) * (1-kY)\n    kMix2 = kX * (1-kY)\n    kMix3 = (1-kX) * kY\n    kMix4 = kX * kY\n    \n    aMix = aWave1*kMix1 + aWave2*kMix2 + aWave3*kMix3 + aWave4*kMix4\n    \n    outs aMix, aMix\nendin\n\ninstr 4\n    ; Vector with independent X and Y motion\n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Waveforms\n    aWave1 poscil iAmp, iFreq, giSine\n    aWave2 poscil iAmp, iFreq, giSaw\n    aWave3 poscil iAmp, iFreq, giSquare\n    aWave4 poscil iAmp, iFreq, giTri\n    \n    ; Independent LFOs for X and Y\n    kX poscil 0.5, 0.3, giSine\n    kX = kX + 0.5\n    \n    kY poscil 0.5, 0.5, giSine, 0.25\n    kY = kY + 0.5\n    \n    ; Mix\n    kMix1 = (1-kX) * (1-kY)\n    kMix2 = kX * (1-kY)\n    kMix3 = (1-kX) * kY\n    kMix4 = kX * kY\n    \n    aMix = aWave1*kMix1 + aWave2*kMix2 + aWave3*kMix3 + aWave4*kMix4\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic vector\ni1 0 3 220\n\n; Play linear sweep\ni2 4 4 330\n\n; Play circular path\ni3 9 6 440\n\n; Play independent motion\ni4 16 5 294\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the FOF formant synthesis opcode", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSine ftgen 1, 0, 8192, 10, 1\ngiSigmoid ftgen 2, 0, 8192, 19, 0.5, 0.5, 270, 0.5\n\ninstr 1\n    ; fof opcode: ares fof xamp, xfund, xform, koct, kband, kris, kdur, kdec, iolaps, \n    ;                  ifna, ifnb, itotdur [, iphs] [, ifmode] [, iskip]\n    ; fof generates formant waveforms (FOF synthesis)\n    ; xamp - amplitude\n    ; xfund - fundamental frequency\n    ; xform - formant frequency\n    ; koct - octaviation index\n    ; kband - bandwidth\n    ; kris - rise time\n    ; kdur - overall duration\n    ; kdec - decay time\n    ; iolaps - number of overlaps\n    ; ifna, ifnb - function tables for grain shape\n    \n    iAmp = 0.4\n    iFund = p4\n    iForm = p5\n    \n    kOct = 0\n    kBand = 50\n    kRis = 0.003\n    kDur = 0.02\n    kDec = 0.007\n    iOlaps = 100\n    \n    ; Single formant\n    aFof fof iAmp, iFund, iForm, kOct, kBand, kRis, kDur, kDec, iOlaps, giSine, giSigmoid, p3\n    \n    outs aFof, aFof\nendin\n\ninstr 2\n    ; Multiple formants for vowel synthesis\n    iAmp = 0.25\n    iFund = p4\n    \n    ; Formant frequencies for \"ah\" vowel\n    iForm1 = 800\n    iForm2 = 1200\n    iForm3 = 2600\n    \n    kOct = 0\n    kBand1 = 80\n    kBand2 = 90\n    kBand3 = 120\n    kRis = 0.003\n    kDur = 0.02\n    kDec = 0.007\n    iOlaps = 100\n    \n    ; Three formants\n    aFof1 fof iAmp, iFund, iForm1, kOct, kBand1, kRis, kDur, kDec, iOlaps, giSine, giSigmoid, p3\n    aFof2 fof iAmp*0.7, iFund, iForm2, kOct, kBand2, kRis, kDur, kDec, iOlaps, giSine, giSigmoid, p3\n    aFof3 fof iAmp*0.5, iFund, iForm3, kOct, kBand3, kRis, kDur, kDec, iOlaps, giSine, giSigmoid, p3\n    \n    aMix = aFof1 + aFof2 + aFof3\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; Morphing vowels\n    iAmp = 0.25\n    iFund = p4\n    \n    ; Morph from \"ee\" to \"oo\"\n    ; \"ee\" formants: 270, 2300, 3000\n    ; \"oo\" formants: 300, 870, 2250\n    \n    kForm1 linseg 270, p3, 300\n    kForm2 linseg 2300, p3, 870\n    kForm3 linseg 3000, p3, 2250\n    \n    kOct = 0\n    kBand = 70\n    kRis = 0.003\n    kDur = 0.02\n    kDec = 0.007\n    iOlaps = 100\n    \n    aFof1 fof iAmp, iFund, kForm1, kOct, kBand, kRis, kDur, kDec, iOlaps, giSine, giSigmoid, p3\n    aFof2 fof iAmp*0.7, iFund, kForm2, kOct, kBand*1.2, kRis, kDur, kDec, iOlaps, giSine, giSigmoid, p3\n    aFof3 fof iAmp*0.5, iFund, kForm3, kOct, kBand*1.5, kRis, kDur, kDec, iOlaps, giSine, giSigmoid, p3\n    \n    aMix = aFof1 + aFof2 + aFof3\n    \n    outs aMix, aMix\nendin\n\ninstr 4\n    ; fog opcode: ares fog xamp, xdens, xtrans, aspd, koct, kband, kris, kdur, kdec, \n    ;                  iolaps, ifna, ifnb, itotdur [, iphs] [, itmode] [, iskip]\n    ; fog is similar to fof but for granular textures\n    ; xdens - density (grains per second)\n    ; xtrans - transposition\n    ; aspd - speed (frequency multiplication)\n    \n    ; Note: fog is less common, demonstrating basic fof concepts\n    \n    iAmp = 0.4\n    iFund = p4\n    iForm = 1000\n    \n    kOct = 0\n    kBand = 60\n    kRis = 0.003\n    kDur = 0.02\n    kDec = 0.007\n    iOlaps = 100\n    \n    aFof fof iAmp, iFund, iForm, kOct, kBand, kRis, kDur, kDec, iOlaps, giSine, giSigmoid, p3\n    \n    outs aFof, aFof\nendin\n\ninstr 5\n    ; voc opcode: (synthesis opcode for voice simulation)\n    ; Note: voc is not a standard Csound opcode\n    ; Demonstrating vocal synthesis with fof\n    \n    iAmp = 0.25\n    iFund = p4\n    \n    ; \"ah\" vowel formants\n    iForm1 = 800\n    iForm2 = 1200\n    iForm3 = 2600\n    iForm4 = 3500\n    \n    kOct = 0\n    kRis = 0.003\n    kDur = 0.02\n    kDec = 0.007\n    iOlaps = 100\n    \n    ; Four formants with different bandwidths\n    aFof1 fof iAmp, iFund, iForm1, kOct, 80, kRis, kDur, kDec, iOlaps, giSine, giSigmoid, p3\n    aFof2 fof iAmp*0.7, iFund, iForm2, kOct, 90, kRis, kDur, kDec, iOlaps, giSine, giSigmoid, p3\n    aFof3 fof iAmp*0.5, iFund, iForm3, kOct, 120, kRis, kDur, kDec, iOlaps, giSine, giSigmoid, p3\n    aFof4 fof iAmp*0.3, iFund, iForm4, kOct, 150, kRis, kDur, kDec, iOlaps, giSine, giSigmoid, p3\n    \n    aMix = aFof1 + aFof2 + aFof3 + aFof4\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play single formant\n; Format: start dur fundamental formant\ni1 0 2 220 800\ni1 2.5 2 220 1200\n\n; Play vowel (ah)\ni2 5.5 3 165\ni2 8.5 3 220\n\n; Play morphing vowels\ni3 12.5 4 196\n\n; Play fog-like\ni4 17.5 3 330\n\n; Play multi-formant vocal\ni5 21.5 3 147\ni5 24.5 3 196\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the vocoder opcode", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSine ftgen 1, 0, 16384, 10, 1\ngiSaw ftgen 2, 0, 16384, 10, 1, 0.5, 0.3, 0.25, 0.2, 0.16\n\ninstr 1\n    ; vocoder opcode: ares vocoder asource, aexcite, kbwratio, kfratio [, isize] [, ioverlap] [, iwin] [, itype]\n    ; vocoder performs channel vocoding\n    ; asource - source signal (modulator)\n    ; aexcite - excitation signal (carrier)\n    ; kbwratio - bandwidth ratio\n    ; kfratio - frequency ratio\n    ; isize - FFT size\n    ; ioverlap - overlap size\n    \n    iFreq = p4\n    \n    ; Source signal (modulator) - complex tone\n    aSource poscil 0.5, iFreq, giSaw\n    \n    ; Excitation signal (carrier) - rich harmonic content\n    aExcite poscil 0.5, iFreq*2, giSaw\n    \n    ; Vocoder parameters\n    kBWRatio = 0.5\n    kFRatio = 1\n    iSize = 2048\n    iOverlap = 256\n    \n    aVocoded vocoder aSource, aExcite, kBWRatio, kFRatio, iSize, iOverlap\n    \n    outs aVocoded*0.7, aVocoded*0.7\nendin\n\ninstr 2\n    ; Vocoder with noise carrier\n    iFreq = p4\n    \n    ; Source - pitched tone\n    aSource poscil 0.5, iFreq, giSaw\n    \n    ; Carrier - filtered noise\n    aNoise noise 0.5, 0\n    aCarrier butterbp aNoise, 1000, 500\n    \n    kBWRatio = 0.7\n    kFRatio = 1\n    \n    aVocoded vocoder aSource, aCarrier, kBWRatio, kFRatio\n    \n    outs aVocoded*0.7, aVocoded*0.7\nendin\n\ninstr 3\n    ; Dynamic vocoder with morphing\n    iFreq = p4\n    \n    ; Source - evolving tone\n    kSourceFreq linseg iFreq, p3, iFreq*2\n    aSource poscil 0.5, kSourceFreq, giSaw\n    \n    ; Carrier - detuned sawtooth\n    aExcite poscil 0.5, iFreq*1.5, giSaw\n    \n    ; Morphing bandwidth\n    kBWRatio linseg 0.3, p3, 0.9\n    kFRatio = 1\n    \n    aVocoded vocoder aSource, aExcite, kBWRatio, kFRatio\n    \n    outs aVocoded*0.7, aVocoded*0.7\nendin\n\ninstr 4\n    ; Vocoder with frequency shift\n    iFreq = p4\n    \n    ; Source signal\n    aSource poscil 0.5, iFreq, giSaw\n    \n    ; Carrier signal\n    aExcite poscil 0.5, iFreq*1.2, giSaw\n    \n    ; Frequency ratio changes\n    kFRatio linseg 0.8, p3, 1.5\n    kBWRatio = 0.6\n    \n    aVocoded vocoder aSource, aExcite, kBWRatio, kFRatio\n    \n    outs aVocoded*0.7, aVocoded*0.7\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic vocoder\ni1 0 3 220\ni1 3.5 3 330\n\n; Play vocoder with noise\ni2 7.5 3 294\n\n; Play dynamic vocoder\ni3 11.5 4 440\n\n; Play vocoder with frequency shift\ni4 16.5 4 196\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates advanced vocoder techniques", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSine ftgen 1, 0, 16384, 10, 1\ngiSaw ftgen 2, 0, 16384, 10, 1, 0.5, 0.3, 0.25, 0.2, 0.16\n\ninstr 1\n    ; Multi-carrier vocoder\n    iFreq = p4\n    \n    ; Source (modulator)\n    aSource poscil 0.4, iFreq, giSaw\n    \n    ; Multiple carriers\n    aCarrier1 poscil 0.3, iFreq*1.5, giSaw\n    aCarrier2 poscil 0.3, iFreq*2, giSaw\n    aCarrier3 poscil 0.3, iFreq*0.75, giSaw\n    \n    ; Vocode with each carrier\n    kBWRatio = 0.6\n    kFRatio = 1\n    \n    aVoc1 vocoder aSource, aCarrier1, kBWRatio, kFRatio\n    aVoc2 vocoder aSource, aCarrier2, kBWRatio, kFRatio\n    aVoc3 vocoder aSource, aCarrier3, kBWRatio, kFRatio\n    \n    ; Mix\n    aMix = (aVoc1 + aVoc2*0.7 + aVoc3*0.5) * 0.4\n    \n    outs aMix, aMix\nendin\n\ninstr 2\n    ; Vocoder with formant-like source\n    iFreq = p4\n    \n    ; Source with multiple formants\n    aF1 poscil 0.3, iFreq, giSine\n    aF2 poscil 0.2, iFreq*2.5, giSine\n    aF3 poscil 0.15, iFreq*4, giSine\n    aSource = aF1 + aF2 + aF3\n    \n    ; Rich carrier\n    aCarrier poscil 0.5, iFreq*1.5, giSaw\n    \n    kBWRatio = 0.5\n    kFRatio = 1\n    \n    aVocoded vocoder aSource, aCarrier, kBWRatio, kFRatio\n    \n    outs aVocoded*0.6, aVocoded*0.6\nendin\n\ninstr 3\n    ; Stereo vocoder with panning\n    iFreq = p4\n    \n    ; Source\n    aSource poscil 0.5, iFreq, giSaw\n    \n    ; Two carriers with different frequencies\n    aCarrierL poscil 0.5, iFreq*1.3, giSaw\n    aCarrierR poscil 0.5, iFreq*1.7, giSaw\n    \n    kBWRatio = 0.6\n    kFRatio = 1\n    \n    aVocodedL vocoder aSource, aCarrierL, kBWRatio, kFRatio\n    aVocodedR vocoder aSource, aCarrierR, kBWRatio, kFRatio\n    \n    outs aVocodedL*0.7, aVocodedR*0.7\nendin\n\ninstr 4\n    ; Rhythmic vocoder\n    iFreq = p4\n    \n    ; Pulsing source\n    kPulse lfo 0.4, 4, 2\n    kPulse = 0.3 + kPulse\n    aSource poscil kPulse, iFreq, giSaw\n    \n    ; Sustained carrier\n    aCarrier poscil 0.5, iFreq*2, giSaw\n    \n    ; Dynamic parameters\n    kBWRatio lfo 0.3, 0.5, 0\n    kBWRatio = 0.5 + kBWRatio\n    kFRatio = 1\n    \n    aVocoded vocoder aSource, aCarrier, kBWRatio, kFRatio\n    \n    outs aVocoded*0.7, aVocoded*0.7\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play multi-carrier vocoder\ni1 0 4 220\n\n; Play formant vocoder\ni2 5 4 165\n\n; Play stereo vocoder\ni3 10 4 330\n\n; Play rhythmic vocoder\ni4 15 5 294\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates vowel formant synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSaw ftgen 1, 0, 16384, 10, 1, 0.5, 0.3, 0.25, 0.2, 0.16\n\ninstr 1\n    ; fofilter opcode: asig fofilter ain, xcf, xris, xdec [, istor]\n    ; fofilter implements formant filter\n    ; ain - input signal\n    ; xcf - center frequency\n    ; xris - rise time\n    ; xdec - decay time\n    \n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Source signal (sawtooth)\n    aSource poscil iAmp, iFreq, giSaw\n    \n    ; Formant filter - vowel \"ah\"\n    iCF = 800  ; Center frequency\n    iRis = 0.003\n    iDec = 0.01\n    \n    aFormant fofilter aSource, iCF, iRis, iDec\n    \n    outs aFormant, aFormant\nendin\n\ninstr 2\n    ; Multiple formants for vowel synthesis\n    iAmp = 0.3\n    iFreq = p4\n    \n    ; Source\n    aSource poscil iAmp, iFreq, giSaw\n    \n    ; Three formants for \"ah\" vowel\n    aForm1 fofilter aSource, 800, 0.003, 0.01\n    aForm2 fofilter aSource, 1200, 0.003, 0.01\n    aForm3 fofilter aSource, 2600, 0.003, 0.01\n    \n    aMix = aForm1 + aForm2*0.7 + aForm3*0.5\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; Morphing vowels with fofilter\n    iAmp = 0.3\n    iFreq = p4\n    \n    aSource poscil iAmp, iFreq, giSaw\n    \n    ; Morph from \"ee\" to \"oo\"\n    kForm1 linseg 270, p3, 300\n    kForm2 linseg 2300, p3, 870\n    kForm3 linseg 3000, p3, 2250\n    \n    aForm1 fofilter aSource, kForm1, 0.003, 0.01\n    aForm2 fofilter aSource, kForm2, 0.003, 0.01\n    aForm3 fofilter aSource, kForm3, 0.003, 0.01\n    \n    aMix = aForm1 + aForm2*0.7 + aForm3*0.5\n    \n    outs aMix, aMix\nendin\n\ninstr 4\n    ; winsound opcode (Windows sound API)\n    ; Note: winsound is platform-specific (Windows only)\n    ; This demonstrates formant synthesis concept\n    \n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Source\n    aSource poscil iAmp, iFreq, giSaw\n    \n    ; Vowel \"oh\" formants\n    aForm1 fofilter aSource, 500, 0.003, 0.01\n    aForm2 fofilter aSource, 900, 0.003, 0.01\n    aForm3 fofilter aSource, 2500, 0.003, 0.01\n    \n    aMix = aForm1 + aForm2*0.7 + aForm3*0.4\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play single formant\ni1 0 2 220\n\n; Play multi-formant vowel\ni2 3 2 165\ni2 5 2 220\n\n; Play morphing vowels\ni3 8 4 196\n\n; Play \"oh\" vowel\ni4 13 2 147\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the wguide1 opcode for simple waveguide synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; wguide1 opcode: ares wguide1 asig, xfreq, kcutoff, kfeedback\n    ; wguide1 implements a simple waveguide with one delay line\n    ; asig - input signal (excitation)\n    ; xfreq - frequency in Hz (sets delay line length)\n    ; kcutoff - lowpass filter cutoff frequency\n    ; kfeedback - feedback amount (0-1, <1 for stability)\n    \n    ; Impulse excitation\n    aExcite mpulse 0.5, 0\n    \n    iFreq = p4\n    kCutoff = 3000\n    kFeedback = 0.95\n    \n    ; Simple waveguide\n    aWave wguide1 aExcite, iFreq, kCutoff, kFeedback\n    \n    outs aWave, aWave\nendin\n\ninstr 2\n    ; String-like sound with high feedback\n    aExcite mpulse 0.4, 0\n    \n    iFreq = p4\n    kCutoff = 4000\n    kFeedback = 0.98    ; Very high feedback for long sustain\n    \n    aWave wguide1 aExcite, iFreq, kCutoff, kFeedback\n    \n    outs aWave, aWave\nendin\n\ninstr 3\n    ; Darker tone with low cutoff\n    aExcite mpulse 0.5, 0\n    \n    iFreq = p4\n    kCutoff = 1500      ; Lower cutoff for darker sound\n    kFeedback = 0.95\n    \n    aWave wguide1 aExcite, iFreq, kCutoff, kFeedback\n    \n    outs aWave, aWave\nendin\n\ninstr 4\n    ; Short decay with lower feedback\n    aExcite mpulse 0.6, 0\n    \n    iFreq = p4\n    kCutoff = 3000\n    kFeedback = 0.85    ; Lower feedback for shorter decay\n    \n    aWave wguide1 aExcite, iFreq, kCutoff, kFeedback\n    \n    outs aWave, aWave\nendin\n\ninstr 5\n    ; Noise excitation for bowed effect\n    aNoise noise 0.02, 0\n    \n    iFreq = p4\n    kCutoff = 3500\n    kFeedback = 0.99    ; Very high feedback\n    \n    aWave wguide1 aNoise, iFreq, kCutoff, kFeedback\n    \n    outs aWave*0.8, aWave*0.8\nendin\n\ninstr 6\n    ; Frequency glide\n    aExcite mpulse 0.5, 0\n    \n    iStart = p4\n    iEnd = p5\n    \n    ; Smooth frequency glide\n    kFreq expseg iStart, p3, iEnd\n    \n    kCutoff = 3000\n    kFeedback = 0.96\n    \n    aWave wguide1 aExcite, kFreq, kCutoff, kFeedback\n    \n    outs aWave, aWave\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic waveguide\ni1 0 3 440\ni1 3.5 3 330\n\n; Play long sustain\ni2 7.5 4 523\n\n; Play dark tone\ni3 12.5 3 294\n\n; Play short decay\ni4 16.5 2 392\ni4 18.5 2 440\n\n; Play bowed effect\ni5 21.5 4 220\n\n; Play frequency glide\n; Format: start dur freq_start freq_end\ni6 26.5 2 220 440\ni6 28.5 2 440 220\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the wguide2 opcode for bidirectional waveguide synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; wguide2 opcode: ares wguide2 asig, xfreq, kcutoff1, kcutoff2, kfeedback1, kfeedback2\n    ; wguide2 implements a bidirectional waveguide with two delay lines\n    ; asig - input signal (excitation)\n    ; xfreq - frequency in Hz\n    ; kcutoff1 - lowpass cutoff for forward direction\n    ; kcutoff2 - lowpass cutoff for backward direction\n    ; kfeedback1 - feedback for forward direction (0-1)\n    ; kfeedback2 - feedback for backward direction (0-1)\n    \n    ; Impulse excitation\n    aExcite mpulse 0.5, 0\n    \n    iFreq = p4\n    kCut1 = 3000\n    kCut2 = 3000\n    kFdbk1 = 0.95\n    kFdbk2 = 0.95\n    \n    ; Bidirectional waveguide\n    aWave wguide2 aExcite, iFreq, kCut1, kCut2, kFdbk1, kFdbk2\n    \n    outs aWave, aWave\nendin\n\ninstr 2\n    ; Asymmetric filtering (different cutoffs)\n    aExcite mpulse 0.4, 0\n    \n    iFreq = p4\n    kCut1 = 4000        ; Brighter forward\n    kCut2 = 2000        ; Darker backward\n    kFdbk1 = 0.96\n    kFdbk2 = 0.96\n    \n    aWave wguide2 aExcite, iFreq, kCut1, kCut2, kFdbk1, kFdbk2\n    \n    outs aWave, aWave\nendin\n\ninstr 3\n    ; Asymmetric feedback (different decay rates)\n    aExcite mpulse 0.5, 0\n    \n    iFreq = p4\n    kCut1 = 3000\n    kCut2 = 3000\n    kFdbk1 = 0.98       ; Longer decay forward\n    kFdbk2 = 0.90       ; Shorter decay backward\n    \n    aWave wguide2 aExcite, iFreq, kCut1, kCut2, kFdbk1, kFdbk2\n    \n    outs aWave, aWave\nendin\n\ninstr 4\n    ; Dynamic filtering\n    aExcite mpulse 0.5, 0\n    \n    iFreq = p4\n    \n    ; Cutoffs change over time\n    kCut1 linseg 5000, p3, 1500\n    kCut2 linseg 2000, p3, 4000\n    \n    kFdbk1 = 0.95\n    kFdbk2 = 0.95\n    \n    aWave wguide2 aExcite, iFreq, kCut1, kCut2, kFdbk1, kFdbk2\n    \n    outs aWave, aWave\nendin\n\ninstr 5\n    ; Realistic string with dispersion\n    aExcite mpulse 0.4, 0\n    \n    iFreq = p4\n    \n    ; Slightly different parameters for dispersion\n    kCut1 = 3500\n    kCut2 = 3200\n    kFdbk1 = 0.97\n    kFdbk2 = 0.96\n    \n    aWave wguide2 aExcite, iFreq, kCut1, kCut2, kFdbk1, kFdbk2\n    \n    outs aWave, aWave\nendin\n\ninstr 6\n    ; Continuous excitation (bowed)\n    aNoise noise 0.015, 0\n    \n    iFreq = p4\n    kCut1 = 3500\n    kCut2 = 3500\n    kFdbk1 = 0.99\n    kFdbk2 = 0.99\n    \n    aWave wguide2 aNoise, iFreq, kCut1, kCut2, kFdbk1, kFdbk2\n    \n    outs aWave*0.7, aWave*0.7\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic bidirectional\ni1 0 3 440\ni1 3.5 3 523\n\n; Play asymmetric filtering\ni2 7.5 3 330\n\n; Play asymmetric feedback\ni3 11.5 3 392\n\n; Play dynamic filtering\ni4 15.5 4 294\n\n; Play realistic string\ni5 20.5 3 220\ni5 23.5 3 247\n\n; Play bowed effect\ni6 27.5 4 165\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the wterrain opcode for wave-terrain synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function tables for wave-terrain\ngiSine ftgen 1, 0, 8192, 10, 1\ngiSaw ftgen 2, 0, 8192, 10, 1, 0.5, 0.3, 0.25, 0.2, 0.16, 0.14, 0.12\ngiSquare ftgen 3, 0, 8192, 10, 1, 0, 0.3, 0, 0.2, 0, 0.14, 0, 0.11\ngiTri ftgen 4, 0, 8192, 10, 1, 0, -0.11, 0, 0.04, 0, -0.02\n\ninstr 1\n    ; wterrain opcode: ares wterrain kamp, kpch, kx, ky, krx, kry, krot, ktab0, ktab1, ktab2, ktab3\n    ; wterrain implements wave-terrain synthesis\n    ; kamp - amplitude\n    ; kpch - pitch in Hz\n    ; kx, ky - orbit center coordinates (-1 to 1)\n    ; krx, kry - orbit radii\n    ; krot - rotation speed\n    ; ktab0, ktab1, ktab2, ktab3 - four table numbers for terrain\n    \n    kAmp = 0.4\n    kPch = p4\n    \n    ; Circular orbit at center\n    kx = 0\n    ky = 0\n    krx = 0.5\n    kry = 0.5\n    krot = 1\n    \n    aTerr wterrain kAmp, kPch, kx, ky, krx, kry, krot, giSine, giSaw, giSquare, giTri\n    \n    outs aTerr, aTerr\nendin\n\ninstr 2\n    ; Elliptical orbit\n    kAmp = 0.4\n    kPch = p4\n    \n    kx = 0\n    ky = 0\n    krx = 0.7       ; Wider horizontal\n    kry = 0.3       ; Narrower vertical\n    krot = 1\n    \n    aTerr wterrain kAmp, kPch, kx, ky, krx, kry, krot, giSine, giSaw, giSquare, giTri\n    \n    outs aTerr, aTerr\nendin\n\ninstr 3\n    ; Off-center orbit\n    kAmp = 0.4\n    kPch = p4\n    \n    kx = 0.3        ; Offset horizontally\n    ky = -0.2       ; Offset vertically\n    krx = 0.4\n    kry = 0.4\n    krot = 1\n    \n    aTerr wterrain kAmp, kPch, kx, ky, krx, kry, krot, giSine, giSaw, giSquare, giTri\n    \n    outs aTerr, aTerr\nendin\n\ninstr 4\n    ; Variable rotation speed\n    kAmp = 0.4\n    kPch = p4\n    \n    kx = 0\n    ky = 0\n    krx = 0.5\n    kry = 0.5\n    \n    ; Accelerating rotation\n    krot linseg 0.5, p3, 2\n    \n    aTerr wterrain kAmp, kPch, kx, ky, krx, kry, krot, giSine, giSaw, giSquare, giTri\n    \n    outs aTerr, aTerr\nendin\n\ninstr 5\n    ; Moving orbit center\n    kAmp = 0.4\n    kPch = p4\n    \n    ; LFO on orbit center\n    kx oscili 0.5, 0.5, giSine\n    ky oscili 0.5, 0.7, giSine, 0.25\n    \n    krx = 0.3\n    kry = 0.3\n    krot = 1\n    \n    aTerr wterrain kAmp, kPch, kx, ky, krx, kry, krot, giSine, giSaw, giSquare, giTri\n    \n    outs aTerr, aTerr\nendin\n\ninstr 6\n    ; Morphing orbit size\n    kAmp = 0.4\n    kPch = p4\n    \n    kx = 0\n    ky = 0\n    \n    ; Radii change over time\n    krx linseg 0.1, p3*0.5, 0.8, p3*0.5, 0.2\n    kry linseg 0.8, p3*0.5, 0.1, p3*0.5, 0.7\n    \n    krot = 1\n    \n    aTerr wterrain kAmp, kPch, kx, ky, krx, kry, krot, giSine, giSaw, giSquare, giTri\n    \n    outs aTerr, aTerr\nendin\n\ninstr 7\n    ; Complex modulation\n    kAmp = 0.4\n    kPch = p4\n    \n    ; Multiple LFOs\n    kx oscili 0.3, 0.3, giSine\n    ky oscili 0.4, 0.5, giSine, 0.33\n    \n    krx oscili 0.3, 0.7, giSine\n    krx = 0.4 + krx\n    \n    kry oscili 0.2, 0.9, giSine\n    kry = 0.4 + kry\n    \n    krot = 1.5\n    \n    aTerr wterrain kAmp, kPch, kx, ky, krx, kry, krot, giSine, giSaw, giSquare, giTri\n    \n    outs aTerr, aTerr\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic circular orbit\ni1 0 3 220\ni1 3.5 3 330\n\n; Play elliptical orbit\ni2 7.5 3 440\n\n; Play off-center orbit\ni3 11.5 3 392\n\n; Play variable rotation\ni4 15.5 4 294\n\n; Play moving orbit center\ni5 20.5 4 523\n\n; Play morphing orbit\ni6 25.5 5 165\n\n; Play complex modulation\ni7 31.5 6 220\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates advanced waveguide techniques", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function tables\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; String ensemble using multiple wguide1\n    aExcite mpulse 0.3, 0\n    \n    ; Root, fifth, octave\n    iRoot = p4\n    i5th = iRoot * 3/2\n    i8ve = iRoot * 2\n    \n    ; Three waveguides slightly detuned\n    aStr1 wguide1 aExcite, iRoot*0.998, 3000, 0.96\n    aStr2 wguide1 aExcite, i5th, 3200, 0.97\n    aStr3 wguide1 aExcite, i8ve*1.002, 3100, 0.96\n    \n    ; Stereo mix\n    aLeft = aStr1*0.6 + aStr2*0.4 + aStr3*0.3\n    aRight = aStr1*0.3 + aStr2*0.4 + aStr3*0.6\n    \n    outs aLeft, aRight\nendin\n\ninstr 2\n    ; Sympathetic resonance\n    aExcite mpulse 0.4, 0\n    \n    iFund = p4\n    \n    ; Primary string\n    aPrimary wguide2 aExcite, iFund, 3500, 3500, 0.97, 0.97\n    \n    ; Sympathetic strings (harmonics)\n    aSym1 wguide1 aPrimary*0.3, iFund*2, 3000, 0.93\n    aSym2 wguide1 aPrimary*0.2, iFund*3, 2800, 0.91\n    aSym3 wguide1 aPrimary*0.15, iFund*4, 2600, 0.89\n    \n    ; Mix all\n    aMix = aPrimary*0.6 + aSym1*0.2 + aSym2*0.1 + aSym3*0.1\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; Feedback loop between waveguides\n    aExcite mpulse 0.35, 0\n    \n    iFreq = p4\n    \n    ; First waveguide\n    aWg1 wguide1 aExcite, iFreq, 3000, 0.94\n    \n    ; Second waveguide fed by first\n    aWg2 wguide1 aWg1*0.4, iFreq*1.5, 3500, 0.93\n    \n    ; Third waveguide fed by second\n    aWg3 wguide1 aWg2*0.3, iFreq*2, 4000, 0.92\n    \n    ; Mix\n    aMix = aWg1*0.5 + aWg2*0.3 + aWg3*0.2\n    \n    outs aMix, aMix\nendin\n\ninstr 4\n    ; Plucked string with damping\n    aExcite mpulse 0.4, 0\n    \n    iFreq = p4\n    \n    ; Cutoff decreases to simulate damping\n    kCutoff linseg 5000, p3, 1200\n    \n    ; Feedback decreases\n    kFeedback linseg 0.98, p3, 0.85\n    \n    aStr wguide2 aExcite, iFreq, kCutoff, kCutoff*0.9, kFeedback, kFeedback*0.98\n    \n    outs aStr, aStr\nendin\n\ninstr 5\n    ; Tremolo effect\n    aExcite mpulse 0.4, 0\n    \n    iFreq = p4\n    \n    aStr wguide1 aExcite, iFreq, 3000, 0.96\n    \n    ; Amplitude modulation\n    kTrem oscili 0.4, 6, giSine\n    kTrem = 0.6 + kTrem\n    \n    outs aStr*kTrem, aStr*kTrem\nendin\n\ninstr 6\n    ; Vibrato on waveguide\n    aExcite mpulse 0.4, 0\n    \n    iFreq = p4\n    \n    ; Frequency modulation\n    kVib oscili 8, 5, giSine\n    kFreq = iFreq + kVib\n    \n    aStr wguide1 aExcite, kFreq, 3200, 0.97\n    \n    outs aStr, aStr\nendin\n\ninstr 7\n    ; Karplus-Strong with waveguides\n    ; Noise burst excitation\n    aNoise noise 0.5, 0\n    aNoise = aNoise * (1 - linseg(0, 0.01, 1, 0.001, 1))\n    \n    iFreq = p4\n    \n    ; Two directions for fuller sound\n    aKS wguide2 aNoise, iFreq, 8000, 7500, 0.98, 0.97\n    \n    outs aKS, aKS\nendin\n\ninstr 8\n    ; Bow-table waveguide\n    ; Continuous excitation with envelope\n    kAmp madsr 0.1, 0.1, 0.7, 0.3\n    aNoise noise kAmp*0.02, 0\n    \n    iFreq = p4\n    \n    ; High feedback for sustained tone\n    aStr wguide2 aNoise, iFreq, 3500, 3200, 0.995, 0.994\n    \n    outs aStr*0.8, aStr*0.8\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play string ensemble\ni1 0 3 220\ni1 3.5 3 330\n\n; Play sympathetic resonance\ni2 7.5 4 196\n\n; Play feedback loop\ni3 12.5 3 294\n\n; Play damped string\ni4 16.5 3 392\n\n; Play tremolo\ni5 20.5 3 440\n\n; Play vibrato\ni6 24.5 3 523\n\n; Play Karplus-Strong\ni7 28.5 2 330\ni7 30.5 2 440\ni7 32.5 2 523\n\n; Play bowed\ni8 35.5 4 165\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates wave-terrain synthesis techniques and modulation", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function tables for wave-terrain\ngiSine ftgen 1, 0, 8192, 10, 1\ngiCos ftgen 2, 0, 8192, 11, 1\ngiSaw ftgen 3, 0, 8192, 10, 1, 0.5, 0.3, 0.25, 0.2, 0.16, 0.14, 0.12\ngiSquare ftgen 4, 0, 8192, 10, 1, 0, 0.3, 0, 0.2, 0, 0.14\ngiTri ftgen 5, 0, 8192, 10, 1, 0, -0.11, 0, 0.04\ngiPulse ftgen 6, 0, 8192, 10, 1, 1, 1, 1, 0.7, 0.5, 0.3, 0.1\n\ninstr 1\n    ; Timbral morphing with terrain\n    kAmp = 0.35\n    kPch = p4\n    \n    ; Orbit parameters morph\n    kx linseg 0, p3, 0.5\n    ky linseg 0, p3, -0.5\n    \n    krx = 0.5\n    kry = 0.5\n    krot = 1\n    \n    aTerr wterrain kAmp, kPch, kx, ky, krx, kry, krot, giSine, giSaw, giSquare, giTri\n    \n    outs aTerr, aTerr\nendin\n\ninstr 2\n    ; Rhythmic terrain modulation\n    kAmp = 0.35\n    kPch = p4\n    \n    ; Pulsing orbit size\n    kPulse lfo 0.3, 4, 1  ; Square wave\n    krx = 0.3 + abs(kPulse)\n    kry = 0.5\n    \n    kx = 0\n    ky = 0\n    krot = 1.5\n    \n    aTerr wterrain kAmp, kPch, kx, ky, krx, kry, krot, giSine, giCos, giSaw, giSquare\n    \n    outs aTerr, aTerr\nendin\n\ninstr 3\n    ; Chaotic terrain (multiple modulations)\n    kAmp = 0.3\n    kPch = p4\n    \n    ; Multiple LFOs at different rates\n    kx oscili 0.4, 0.37, giSine\n    ky oscili 0.5, 0.53, giCos\n    \n    krx oscili 0.25, 0.71, giSine\n    krx = 0.35 + krx\n    \n    kry oscili 0.2, 0.89, giCos\n    kry = 0.4 + kry\n    \n    krot oscili 0.8, 0.43, giSine\n    krot = 1.2 + krot\n    \n    aTerr wterrain kAmp, kPch, kx, ky, krx, kry, krot, giSaw, giSquare, giTri, giPulse\n    \n    outs aTerr, aTerr\nendin\n\ninstr 4\n    ; Stereo terrain (two instances panned)\n    kAmp = 0.3\n    kPch = p4\n    \n    ; Left channel terrain\n    kxL oscili 0.4, 0.5, giSine\n    kyL oscili 0.3, 0.7, giSine, 0.25\n    \n    aTerrL wterrain kAmp, kPch, kxL, kyL, 0.4, 0.4, 1, giSine, giSaw, giSquare, giTri\n    \n    ; Right channel terrain (different modulation)\n    kxR oscili 0.3, 0.6, giSine, 0.5\n    kyR oscili 0.4, 0.8, giSine, 0.75\n    \n    aTerrR wterrain kAmp, kPch*1.002, kxR, kyR, 0.35, 0.45, 1.1, giCos, giSquare, giTri, giPulse\n    \n    outs aTerrL, aTerrR\nendin\n\ninstr 5\n    ; Pitch tracking terrain\n    kAmp = 0.35\n    \n    ; Pitch changes\n    iStart = p4\n    iEnd = p5\n    kPch expseg iStart, p3, iEnd\n    \n    ; Orbit size inversely related to pitch\n    krx = 0.2 + (1 - kPch/iEnd) * 0.5\n    kry = 0.2 + (1 - kPch/iEnd) * 0.5\n    \n    kx = 0\n    ky = 0\n    krot = 1\n    \n    aTerr wterrain kAmp, kPch, kx, ky, krx, kry, krot, giSine, giSaw, giSquare, giTri\n    \n    outs aTerr, aTerr\nendin\n\ninstr 6\n    ; Resonant terrain with feedback\n    kAmp = 0.3\n    kPch = p4\n    \n    kx = 0\n    ky = 0\n    krx = 0.5\n    kry = 0.5\n    krot = 1\n    \n    aTerr wterrain kAmp, kPch, kx, ky, krx, kry, krot, giSine, giCos, giSaw, giSquare\n    \n    ; Add resonance with comb filter\n    aComb comb aTerr, 2, 1/kPch\n    \n    aMix = aTerr*0.6 + aComb*0.4\n    \n    outs aMix, aMix\nendin\n\ninstr 7\n    ; Terrain with waveguide resonator\n    kAmp = 0.3\n    kPch = p4\n    \n    ; Small, fast orbit\n    kx = 0\n    ky = 0\n    krx = 0.2\n    kry = 0.2\n    krot = 3\n    \n    aTerr wterrain kAmp, kPch, kx, ky, krx, kry, krot, giSine, giSaw, giSquare, giTri\n    \n    ; Pass through waveguide\n    aRes wguide1 aTerr, kPch, 4000, 0.93\n    \n    aMix = aTerr*0.4 + aRes*0.6\n    \n    outs aMix, aMix\nendin\n\ninstr 8\n    ; Granular terrain texture\n    kAmp = 0.25\n    kPch = p4\n    \n    ; Random orbit jumps\n    kTrig metro 8\n    kx randh 0.6, 8, 0, 1\n    ky randh 0.6, 8, 0, 1\n    \n    ; Random radii\n    krx randh 0.3, 6, 0, 1\n    krx = 0.3 + abs(krx)\n    \n    kry randh 0.3, 7, 0, 1\n    kry = 0.3 + abs(kry)\n    \n    ; Variable rotation\n    krot randh 1, 5, 0, 1\n    krot = 1 + abs(krot)\n    \n    aTerr wterrain kAmp, kPch, kx, ky, krx, kry, krot, giSaw, giSquare, giTri, giPulse\n    \n    ; Envelope per grain\n    kGrainEnv linseg 0, 0.01, 1, 0.08, 0.3, p3-0.09, 0\n    \n    outs aTerr*kGrainEnv, aTerr*kGrainEnv\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play timbral morphing\ni1 0 4 220\n\n; Play rhythmic modulation\ni2 5 3 330\n\n; Play chaotic terrain\ni3 9 4 440\n\n; Play stereo terrain\ni4 14 4 392\n\n; Play pitch tracking\n; Format: start dur freq_start freq_end\ni5 19 3 220 880\ni5 22 3 880 220\n\n; Play resonant terrain\ni6 26 4 294\n\n; Play with waveguide\ni7 31 3 523\ni7 34 3 440\n\n; Play granular texture\ni8 38 5 165\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates wave-terrain synthesis extensions", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Terrain tables\ngiSine ftgen 1, 0, 8192, 10, 1\ngiSaw ftgen 2, 0, 8192, 10, 1, 0.5, 0.3, 0.25, 0.2\ngiSquare ftgen 3, 0, 8192, 10, 1, 0, 0.3, 0, 0.2\ngiTri ftgen 4, 0, 8192, 10, 1, 0, -0.11, 0, 0.04\n\ninstr 1\n    ; terrain opcode (if available)\n    ; terrain performs wave-terrain synthesis\n    ; Similar to wterrain but may have different parameters\n    \n    ; Using wterrain as reference\n    kAmp = 0.4\n    kPch = p4\n    \n    kx = 0\n    ky = 0\n    krx = 0.5\n    kry = 0.5\n    krot = 1\n    \n    aTerr wterrain kAmp, kPch, kx, ky, krx, kry, krot, giSine, giSaw, giSquare, giTri\n    \n    outs aTerr, aTerr\nendin\n\ninstr 2\n    ; wterrain2 opcode (extended wave-terrain)\n    ; May offer additional control parameters\n    ; Using standard wterrain as basis\n    \n    kAmp = 0.4\n    kPch = p4\n    \n    ; Moving orbit\n    kx poscil 0.4, 0.5, giSine\n    ky poscil 0.3, 0.7, giSine, 0.25\n    \n    krx = 0.4\n    kry = 0.4\n    krot = 1.2\n    \n    aTerr wterrain kAmp, kPch, kx, ky, krx, kry, krot, giSine, giSaw, giSquare, giTri\n    \n    outs aTerr, aTerr\nendin\n\ninstr 3\n    ; Complex terrain motion\n    kAmp = 0.4\n    kPch = p4\n    \n    ; Multiple modulation sources\n    kx1 poscil 0.3, 0.3, giSine\n    kx2 poscil 0.2, 0.8, giSine\n    kx = kx1 + kx2\n    \n    ky1 poscil 0.25, 0.5, giSine\n    ky2 poscil 0.15, 1.2, giSine\n    ky = ky1 + ky2\n    \n    ; Variable radii\n    krx linseg 0.2, p3, 0.7\n    kry linseg 0.7, p3, 0.2\n    \n    krot = 1.5\n    \n    aTerr wterrain kAmp, kPch, kx, ky, krx, kry, krot, giSaw, giSquare, giTri, giSine\n    \n    outs aTerr, aTerr\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic terrain\ni1 0 3 220\n\n; Play moving terrain\ni2 4 4 330\n\n; Play complex terrain\ni3 9 5 294\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the distort opcode for waveshaping distortion", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function tables\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; distort opcode: ares distort asig, kdist, ifn [, ihp] [, istor]\n    ; distort applies waveshaping distortion\n    ; asig - input audio signal\n    ; kdist - distortion amount (0-1, higher = more distortion)\n    ; ifn - transfer function table\n    ; ihp - highpass filter cutoff (optional, default 10 Hz)\n    ; istor - skip initialization (optional)\n    \n    ; Amplitude envelope\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Clean sine wave\n    aOsc poscil kAmp*0.3, 220, giSine\n    \n    ; Apply distortion\n    kDist = 0.5\n    aDist distort aOsc, kDist, giSine\n    \n    outs aDist, aDist\nendin\n\ninstr 2\n    ; Variable distortion amount\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    ; Sawtooth source\n    aSaw vco2 kAmp*0.25, 165, 0\n    \n    ; Distortion amount changes over time\n    kDist linseg 0, p3*0.3, 0.8, p3*0.7, 0.2\n    \n    aDist distort aSaw, kDist, giSine\n    \n    outs aDist, aDist\nendin\n\ninstr 3\n    ; Guitar-like distortion\n    kAmp madsr 0.005, 0.08, 0.5, 0.3\n    \n    ; Bright tone\n    aSaw vco2 kAmp*0.3, 110, 0\n    \n    ; Heavy distortion\n    kDist = 0.9\n    aDist distort aSaw, kDist, giSine, 50\n    \n    ; Add some filtering\n    aFilt tone aDist, 3000\n    \n    outs aFilt, aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic distortion\ni1 0 3\n\n; Play variable distortion\ni2 3.5 5\n\n; Play guitar distortion\ni3 9 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the distort1 opcode for modified waveshaping", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function tables\ngiSine ftgen 1, 0, 8192, 10, 1\ngiDistShape ftgen 2, 0, 257, 7, -1, 128, 0, 129, 1\n\ninstr 1\n    ; distort1 opcode: ares distort1 asig, kpgain, kshape, ifn [, ibufsize]\n    ; distort1 applies modified distortion with pre-gain and shape control\n    ; asig - input audio signal\n    ; kpgain - pre-gain before distortion\n    ; kshape - post-distortion shape amount\n    ; ifn - transfer function table\n    ; ibufsize - buffer size (optional)\n    \n    ; Amplitude envelope\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Square wave source\n    aSq vco2 kAmp*0.2, 220, 2\n    \n    ; Distort with pre-gain and shaping\n    kPGain = 2      ; Pre-gain\n    kShape = 0.5    ; Shape amount\n    \n    aDist distort1 aSq, kPGain, kShape, giDistShape\n    \n    outs aDist*0.5, aDist*0.5\nendin\n\ninstr 2\n    ; Dynamic distortion character\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.25, 165, 0\n    \n    ; Modulate pre-gain for dynamic distortion\n    kPGain linseg 1, p3, 5\n    kShape = 0.7\n    \n    aDist distort1 aSaw, kPGain, kShape, giDistShape\n    \n    outs aDist*0.4, aDist*0.4\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic distort1\ni1 0 3\n\n; Play dynamic distortion\ni2 3.5 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the powershape opcode for power function waveshaping", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; powershape opcode: ares powershape asig, kShapeAmount [, ifullscale]\n    ; powershape applies power function waveshaping\n    ; asig - input audio signal\n    ; kShapeAmount - shape amount (0 = linear, >0 = compression, <0 = expansion)\n    ; ifullscale - full scale value (optional, default 1)\n    \n    ; Amplitude envelope\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Sine wave\n    aOsc poscil kAmp*0.4, 440, giSine\n    \n    ; Apply power shaping (positive = soft distortion)\n    kShape = 2\n    aShape powershape aOsc, kShape\n    \n    outs aShape, aShape\nendin\n\ninstr 2\n    ; Variable shaping for dynamic timbre\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    ; Triangle-like wave\n    aSaw vco2 kAmp*0.3, 220, 0\n    \n    ; Shape amount varies\n    kShape linseg -2, p3*0.5, 3, p3*0.5, -2\n    \n    aShape powershape aSaw, kShape\n    \n    outs aShape, aShape\nendin\n\ninstr 3\n    ; Compression effect\n    kAmp linseg 0, 0.05, 0.35, p3-0.1, 0.35, 0.05, 0\n    \n    ; Rich harmonic source\n    aSaw vco2 kAmp*0.3, 165, 0\n    \n    ; Positive shape = compression/softening\n    kShape = 5\n    aShape powershape aSaw, kShape\n    \n    outs aShape, aShape\nendin\n\ninstr 4\n    ; Expansion for harder sound\n    kAmp madsr 0.01, 0.12, 0.55, 0.35\n    \n    ; Square wave\n    aSq vco2 kAmp*0.25, 110, 2\n    \n    ; Negative shape = expansion/hardening\n    kShape = -1.5\n    aShape powershape aSq, kShape\n    \n    outs aShape, aShape\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play soft distortion\ni1 0 3\n\n; Play variable shaping\ni2 3.5 5\n\n; Play compression\ni3 9 3\n\n; Play expansion\ni4 12.5 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the polynomial opcode for polynomial waveshaping", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; polynomial opcode: ares polynomial asig, k0, k1, k2, k3, ..., kN\n    ; polynomial applies polynomial waveshaping: out = k0 + k1*in + k2*in^2 + k3*in^3 + ...\n    ; asig - input audio signal\n    ; k0, k1, k2, ... - polynomial coefficients\n    ; Can have up to 10 coefficients\n    \n    ; Amplitude envelope\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Sine wave input\n    aOsc poscil kAmp*0.4, 220, giSine\n    \n    ; Polynomial: 0 + 1*x + 0.5*x^3 (adds 3rd harmonic)\n    aPoly polynomial aOsc, 0, 1, 0, 0.5\n    \n    outs aPoly*0.5, aPoly*0.5\nendin\n\ninstr 2\n    ; Odd harmonics only (square-like)\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    ; Sine input\n    aOsc poscil kAmp*0.3, 165, giSine\n    \n    ; Polynomial with odd terms: x + 0.3*x^3 + 0.1*x^5\n    aPoly polynomial aOsc, 0, 1, 0, 0.3, 0, 0.1\n    \n    outs aPoly*0.5, aPoly*0.5\nendin\n\ninstr 3\n    ; Even harmonics (octave up effect)\n    kAmp linseg 0, 0.05, 0.3, p3-0.1, 0.3, 0.05, 0\n    \n    ; Sine input\n    aOsc poscil kAmp*0.4, 220, giSine\n    \n    ; Even terms only: 0.5*x^2\n    aPoly polynomial aOsc, 0, 0, 0.5\n    \n    outs aPoly*0.5, aPoly*0.5\nendin\n\ninstr 4\n    ; Complex harmonic structure\n    kAmp madsr 0.01, 0.12, 0.55, 0.35\n    \n    ; Sine input\n    aOsc poscil kAmp*0.3, 330, giSine\n    \n    ; Rich polynomial: x + 0.3*x^2 + 0.2*x^3 + 0.1*x^4\n    aPoly polynomial aOsc, 0, 1, 0.3, 0.2, 0.1\n    \n    outs aPoly*0.4, aPoly*0.4\nendin\n\ninstr 5\n    ; Time-varying polynomial coefficients\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    ; Sine input\n    aOsc poscil kAmp*0.3, 220, giSine\n    \n    ; Modulate 3rd harmonic amount\n    kK3 linseg 0, p3, 1\n    \n    aPoly polynomial aOsc, 0, 1, 0, kK3\n    \n    outs aPoly*0.5, aPoly*0.5\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play 3rd harmonic\ni1 0 3\n\n; Play odd harmonics\ni2 3.5 3\n\n; Play even harmonics\ni3 7 3\n\n; Play complex\ni4 10.5 3\n\n; Play time-varying\ni5 14 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the chebyshevpoly opcode for Chebyshev polynomial waveshaping", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; chebyshevpoly opcode: ares chebyshevpoly asig, k0, k1, k2, k3, ..., kN\n    ; chebyshevpoly applies Chebyshev polynomial waveshaping\n    ; Each coefficient kN corresponds to the Nth harmonic\n    ; asig - input audio signal (should be normalized -1 to 1)\n    ; k0, k1, k2, ... - Chebyshev polynomial coefficients\n    ; k1 = fundamental, k2 = 2nd harmonic, k3 = 3rd harmonic, etc.\n    \n    ; Amplitude envelope\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Sine wave input (normalized)\n    aOsc poscil kAmp*0.8, 220, giSine\n    \n    ; Add harmonics: fundamental + 3rd + 5th\n    aCheb chebyshevpoly aOsc, 0, 0.5, 0, 0.3, 0, 0.2\n    \n    outs aCheb*0.4, aCheb*0.4\nendin\n\ninstr 2\n    ; Brass-like spectrum\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    ; Sine input\n    aOsc poscil kAmp*0.8, 165, giSine\n    \n    ; Brass spectrum: strong fundamental and harmonics\n    aCheb chebyshevpoly aOsc, 0, 1, 0.3, 0.2, 0.15, 0.1, 0.08, 0.06\n    \n    outs aCheb*0.3, aCheb*0.3\nendin\n\ninstr 3\n    ; Square-like (odd harmonics)\n    kAmp linseg 0, 0.05, 0.3, p3-0.1, 0.3, 0.05, 0\n    \n    ; Sine input\n    aOsc poscil kAmp*0.8, 330, giSine\n    \n    ; Odd harmonics only\n    aCheb chebyshevpoly aOsc, 0, 0.8, 0, 0.4, 0, 0.2, 0, 0.1\n    \n    outs aCheb*0.4, aCheb*0.4\nendin\n\ninstr 4\n    ; Clarinet-like (missing even harmonics)\n    kAmp madsr 0.01, 0.12, 0.55, 0.35\n    \n    ; Sine input\n    aOsc poscil kAmp*0.8, 220, giSine\n    \n    ; Clarinet spectrum\n    aCheb chebyshevpoly aOsc, 0, 1, 0, 0.7, 0, 0.4, 0, 0.2, 0, 0.1\n    \n    outs aCheb*0.35, aCheb*0.35\nendin\n\ninstr 5\n    ; Dynamic harmonic content\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    ; Sine input\n    aOsc poscil kAmp*0.8, 165, giSine\n    \n    ; Envelope controls harmonic brightness\n    kBright madsr 0.05, 0.3, 0.2, 0.1\n    kBright = kBright * 0.5\n    \n    ; More harmonics as brightness increases\n    aCheb chebyshevpoly aOsc, 0, 1, kBright*0.5, kBright*0.7, kBright*0.4, kBright*0.3\n    \n    outs aCheb*0.35, aCheb*0.35\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play odd harmonics\ni1 0 3\n\n; Play brass\ni2 3.5 3\n\n; Play square-like\ni3 7 3\n\n; Play clarinet\ni4 10.5 3\n\n; Play dynamic\ni5 14 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the pdclip opcode for clipping distortion", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; pdclip opcode: ares pdclip asig, kwidth, kcenter [, ifullscale] [, ifn]\n    ; pdclip performs clipping distortion\n    ; asig - input audio signal\n    ; kwidth - clipping width (0-1, smaller = harder clipping)\n    ; kcenter - center point of clipping (0-1)\n    ; ifullscale - full scale value (optional)\n    ; ifn - transfer function (optional)\n    \n    ; Amplitude envelope\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Sine wave\n    aOsc poscil kAmp*0.6, 220, giSine\n    \n    ; Soft clipping\n    kWidth = 0.5\n    kCenter = 0.5\n    \n    aClip pdclip aOsc, kWidth, kCenter\n    \n    outs aClip*0.5, aClip*0.5\nendin\n\ninstr 2\n    ; Hard clipping for distortion\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.5, 165, 0\n    \n    ; Hard clipping (narrow width)\n    kWidth = 0.2\n    kCenter = 0.5\n    \n    aClip pdclip aSaw, kWidth, kCenter\n    \n    outs aClip*0.4, aClip*0.4\nendin\n\ninstr 3\n    ; Asymmetric clipping\n    kAmp linseg 0, 0.05, 0.35, p3-0.1, 0.35, 0.05, 0\n    \n    ; Square wave\n    aSq vco2 kAmp*0.5, 110, 2\n    \n    ; Off-center clipping for asymmetry\n    kWidth = 0.4\n    kCenter = 0.3  ; Off-center\n    \n    aClip pdclip aSq, kWidth, kCenter\n    \n    outs aClip*0.4, aClip*0.4\nendin\n\ninstr 4\n    ; Dynamic clipping amount\n    kAmp madsr 0.01, 0.12, 0.55, 0.35\n    \n    ; Sine wave\n    aOsc poscil kAmp*0.6, 330, giSine\n    \n    ; Modulate clipping width\n    kWidth linseg 0.8, p3, 0.1\n    kCenter = 0.5\n    \n    aClip pdclip aOsc, kWidth, kCenter\n    \n    outs aClip*0.4, aClip*0.4\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play soft clipping\ni1 0 3\n\n; Play hard clipping\ni2 3.5 3\n\n; Play asymmetric\ni3 7 3\n\n; Play dynamic\ni4 10.5 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the pdhalfy opcode for half-wave rectification", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; pdhalfy opcode: ares pdhalfy asig, kamount [, ibipolar]\n    ; pdhalfy performs half-wave rectification (adds harmonics)\n    ; asig - input audio signal\n    ; kamount - rectification amount (0 = no effect, 1 = full rectification)\n    ; ibipolar - bipolar mode flag (optional, default 0)\n    \n    ; Amplitude envelope\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Sine wave\n    aOsc poscil kAmp*0.4, 220, giSine\n    \n    ; Half-wave rectification\n    kAmount = 0.7\n    \n    aHalfy pdhalfy aOsc, kAmount\n    \n    outs aHalfy, aHalfy\nendin\n\ninstr 2\n    ; Full rectification for harmonic richness\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    ; Sine wave\n    aOsc poscil kAmp*0.4, 165, giSine\n    \n    ; Full rectification\n    kAmount = 1\n    \n    aHalfy pdhalfy aOsc, kAmount\n    \n    outs aHalfy, aHalfy\nendin\n\ninstr 3\n    ; Variable rectification\n    kAmp linseg 0, 0.05, 0.35, p3-0.1, 0.35, 0.05, 0\n    \n    ; Triangle-like wave\n    aSaw vco2 kAmp*0.3, 330, 0\n    \n    ; Amount varies over time\n    kAmount linseg 0, p3, 1\n    \n    aHalfy pdhalfy aSaw, kAmount\n    \n    outs aHalfy, aHalfy\nendin\n\ninstr 4\n    ; Bipolar rectification\n    kAmp madsr 0.01, 0.12, 0.55, 0.35\n    \n    ; Sine wave\n    aOsc poscil kAmp*0.4, 220, giSine\n    \n    ; Bipolar mode\n    kAmount = 0.8\n    iBipolar = 1\n    \n    aHalfy pdhalfy aOsc, kAmount, iBipolar\n    \n    outs aHalfy, aHalfy\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play half rectification\ni1 0 3\n\n; Play full rectification\ni2 3.5 3\n\n; Play variable\ni3 7 4\n\n; Play bipolar\ni4 11.5 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the tanh opcode for hyperbolic tangent distortion", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; tanh opcode: ares tanh asig [, kmode]\n    ; tanh applies hyperbolic tangent waveshaping (smooth saturation)\n    ; asig - input audio signal\n    ; kmode - mode flag (optional, 0=bipolar, 1=unipolar)\n    ; tanh provides smooth, analog-like saturation\n    \n    ; Amplitude envelope\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Sine wave with boost for saturation\n    aOsc poscil kAmp*2, 220, giSine\n    \n    ; Apply tanh saturation\n    aSat tanh aOsc\n    \n    outs aSat*0.4, aSat*0.4\nendin\n\ninstr 2\n    ; Tube-like saturation\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*1.5, 165, 0\n    \n    ; Tanh for smooth saturation\n    aSat tanh aSaw\n    \n    ; Add some filtering for warmth\n    aWarm tone aSat, 3000\n    \n    outs aWarm*0.4, aWarm*0.4\nendin\n\ninstr 3\n    ; Variable drive amount\n    kAmp linseg 0, 0.05, 0.3, p3-0.1, 0.3, 0.05, 0\n    \n    ; Square wave\n    aSq vco2 kAmp, 110, 2\n    \n    ; Variable pre-gain for drive control\n    kDrive linseg 1, p3, 5\n    aSat tanh aSq*kDrive\n    \n    outs aSat*0.35, aSat*0.35\nendin\n\ninstr 4\n    ; Soft limiter using tanh\n    kAmp madsr 0.005, 0.08, 0.5, 0.3\n    \n    ; Multiple detuned saws (can get loud)\n    aSaw1 vco2 kAmp*0.4, 220, 0\n    aSaw2 vco2 kAmp*0.4, 220.5, 0\n    aSaw3 vco2 kAmp*0.4, 221, 0\n    aMix = aSaw1 + aSaw2 + aSaw3\n    \n    ; Tanh acts as soft limiter\n    aLimit tanh aMix*2\n    \n    outs aLimit*0.4, aLimit*0.4\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic saturation\ni1 0 3\n\n; Play tube saturation\ni2 3.5 3\n\n; Play variable drive\ni3 7 5\n\n; Play soft limiting\ni4 12.5 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the limit opcode for hard limiting", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; limit opcode: ares limit asig, klow, khigh\n    ; limit clips signal to a specified range\n    ; asig - input audio signal\n    ; klow - lower limit\n    ; khigh - upper limit\n    ; Creates hard clipping at the specified thresholds\n    \n    ; Amplitude envelope\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Sine wave (boosted)\n    aOsc poscil kAmp*0.8, 220, giSine\n    \n    ; Hard limit\n    kLow = -0.3\n    kHigh = 0.3\n    \n    aLim limit aOsc, kLow, kHigh\n    \n    outs aLim, aLim\nendin\n\ninstr 2\n    ; Extreme limiting for distortion\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.5, 165, 0\n    \n    ; Very tight limits\n    kLow = -0.1\n    kHigh = 0.1\n    \n    aLim limit aSaw, kLow, kHigh\n    \n    outs aLim*2, aLim*2\nendin\n\ninstr 3\n    ; Asymmetric limiting\n    kAmp linseg 0, 0.05, 0.35, p3-0.1, 0.35, 0.05, 0\n    \n    ; Square wave\n    aSq vco2 kAmp*0.5, 110, 2\n    \n    ; Asymmetric limits\n    kLow = -0.4\n    kHigh = 0.2\n    \n    aLim limit aSq, kLow, kHigh\n    \n    outs aLim*0.8, aLim*0.8\nendin\n\ninstr 4\n    ; Dynamic threshold\n    kAmp madsr 0.01, 0.12, 0.55, 0.35\n    \n    ; Rich harmonic source\n    aSaw vco2 kAmp*0.6, 220, 0\n    \n    ; Limits vary over time\n    kThresh linseg 0.5, p3, 0.05\n    \n    aLim limit aSaw, -kThresh, kThresh\n    \n    outs aLim*0.6, aLim*0.6\nendin\n\ninstr 5\n    ; Protection limiter\n    kAmp madsr 0.005, 0.08, 0.5, 0.3\n    \n    ; Multiple oscillators\n    aOsc1 poscil kAmp*0.3, 220, giSine\n    aOsc2 poscil kAmp*0.3, 330, giSine\n    aOsc3 poscil kAmp*0.3, 440, giSine\n    aMix = aOsc1 + aOsc2 + aOsc3\n    \n    ; Limit to prevent clipping\n    kLow = -0.8\n    kHigh = 0.8\n    \n    aLim limit aMix, kLow, kHigh\n    \n    outs aLim, aLim\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic limiting\ni1 0 3\n\n; Play extreme limiting\ni2 3.5 3\n\n; Play asymmetric\ni3 7 3\n\n; Play dynamic threshold\ni4 10.5 4\n\n; Play protection\ni5 15 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates combining multiple waveshaping techniques", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function tables\ngiSine ftgen 1, 0, 8192, 10, 1\n\ninstr 1\n    ; Chained waveshaping: Chebyshev -> tanh -> limit\n    kAmp madsr 0.01, 0.1, 0.6, 0.3\n    \n    ; Sine wave input\n    aOsc poscil kAmp*0.8, 220, giSine\n    \n    ; First: Add harmonics with Chebyshev\n    aCheb chebyshevpoly aOsc, 0, 1, 0.3, 0.2, 0.15\n    \n    ; Second: Smooth saturation with tanh\n    aSat tanh aCheb*2\n    \n    ; Third: Final safety limiting\n    aOut limit aSat, -0.9, 0.9\n    \n    outs aOut*0.4, aOut*0.4\nendin\n\ninstr 2\n    ; Parallel processing\n    kAmp madsr 0.02, 0.15, 0.5, 0.4\n    \n    ; Sawtooth source\n    aSaw vco2 kAmp*0.3, 165, 0\n    \n    ; Path 1: Clean with slight shaping\n    aClean powershape aSaw, 1\n    \n    ; Path 2: Heavy distortion\n    aHeavy pdclip aSaw*2, 0.2, 0.5\n    \n    ; Path 3: Soft saturation\n    aSoft tanh aSaw*1.5\n    \n    ; Mix paths\n    aMix = aClean*0.4 + aHeavy*0.3 + aSoft*0.3\n    \n    outs aMix*0.5, aMix*0.5\nendin\n\ninstr 3\n    ; Dynamic waveshaping chain\n    kAmp linseg 0, 0.3, 0.3, p3-0.6, 0.3, 0.3, 0\n    \n    ; Sine input\n    aOsc poscil kAmp*0.8, 110, giSine\n    \n    ; Envelope controls distortion amount\n    kEnv madsr 0.05, 0.3, 0.3, 0.2\n    \n    ; Polynomial with dynamic coefficients\n    aPoly polynomial aOsc, 0, 1, kEnv*0.5, kEnv*0.3\n    \n    ; Drive amount changes\n    kDrive = 1 + kEnv*3\n    aTanh tanh aPoly*kDrive\n    \n    ; Dynamic limiting\n    kThresh = 0.9 - kEnv*0.4\n    aOut limit aTanh, -kThresh, kThresh\n    \n    outs aOut*0.4, aOut*0.4\nendin\n\ninstr 4\n    ; Guitar amp simulation\n    kAmp madsr 0.005, 0.08, 0.5, 0.3\n    \n    ; Bright tone\n    aSaw vco2 kAmp*0.3, 220, 0\n    \n    ; Stage 1: Pre-gain and compression\n    aStage1 powershape aSaw*2, 2\n    \n    ; Stage 2: Tube-like saturation\n    aStage2 tanh aStage1*1.8\n    \n    ; Stage 3: Output clipping\n    aStage3 pdclip aStage2, 0.4, 0.5\n    \n    ; Stage 4: Tone stack (simple filter)\n    aTone tone aStage3, 2500\n    \n    ; Stage 5: Final limiter\n    aOut limit aTone, -0.85, 0.85\n    \n    outs aOut*0.5, aOut*0.5\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play chained\ni1 0 4\n\n; Play parallel\ni2 4.5 4\n\n; Play dynamic\ni3 9 6\n\n; Play amp sim\ni4 16 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the poscil opcode for precise wavetable oscillator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function tables\ngiSine ftgen 1, 0, 16384, 10, 1\ngiSaw ftgen 2, 0, 16384, 10, 1, 0.5, 0.3, 0.25, 0.2, 0.16, 0.14, 0.12, 0.11, 0.09\ngiSquare ftgen 3, 0, 16384, 10, 1, 0, 0.3, 0, 0.2, 0, 0.14, 0, 0.11, 0, 0.09\ngiTri ftgen 4, 0, 16384, 10, 1, 0, -0.11, 0, 0.04, 0, -0.02, 0, 0.01\n\ninstr 1\n    ; poscil opcode: ares poscil xamp, xcps [, ifn, iphs]\n    ; poscil is a precise oscillator with linear interpolation\n    ; xamp - amplitude\n    ; xcps - frequency in Hz\n    ; ifn - function table number (optional, defaults to sine)\n    ; iphs - initial phase 0-1 (optional, defaults to 0)\n    \n    ; Basic sine wave\n    iAmp = 0.5\n    iFreq = p4\n    \n    aOsc poscil iAmp, iFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 2\n    ; Sawtooth wave\n    iAmp = 0.4\n    iFreq = p4\n    \n    aOsc poscil iAmp, iFreq, giSaw\n    \n    outs aOsc, aOsc\nendin\n\ninstr 3\n    ; Square wave\n    iAmp = 0.4\n    iFreq = p4\n    \n    aOsc poscil iAmp, iFreq, giSquare\n    \n    outs aOsc, aOsc\nendin\n\ninstr 4\n    ; Triangle wave\n    iAmp = 0.5\n    iFreq = p4\n    \n    aOsc poscil iAmp, iFreq, giTri\n    \n    outs aOsc, aOsc\nendin\n\ninstr 5\n    ; Amplitude modulation\n    iFreq = p4\n    \n    ; Modulating amplitude\n    kAmp poscil 0.3, 6, giSine\n    kAmp = 0.2 + kAmp\n    \n    aOsc poscil kAmp, iFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 6\n    ; Frequency modulation (vibrato)\n    iAmp = 0.5\n    iFreq = p4\n    \n    ; Vibrato\n    kVib poscil 8, 5, giSine\n    kFreq = iFreq + kVib\n    \n    aOsc poscil iAmp, kFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 7\n    ; Phase offset\n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Two oscillators with phase offset for stereo\n    aOscL poscil iAmp, iFreq, giSine, 0\n    aOscR poscil iAmp, iFreq, giSine, 0.25\n    \n    outs aOscL, aOscR\nendin\n\ninstr 8\n    ; Frequency sweep\n    iAmp = 0.5\n    \n    iStart = p4\n    iEnd = p5\n    \n    ; Exponential frequency sweep\n    kFreq expseg iStart, p3, iEnd\n    \n    aOsc poscil iAmp, kFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play sine wave\ni1 0 2 440\ni1 2.5 2 523\n\n; Play sawtooth\ni2 5.5 2 330\n\n; Play square\ni3 8.5 2 392\n\n; Play triangle\ni4 11.5 2 294\n\n; Play amplitude modulation\ni5 14.5 3 440\n\n; Play vibrato\ni6 18.5 3 523\n\n; Play stereo phase\ni7 22.5 2 330\n\n; Play frequency sweep\n; Format: start dur freq_start freq_end\ni8 25.5 3 220 880\ni8 28.5 3 880 220\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the vposcil opcode for variable phase oscillators", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function tables\ngiSine ftgen 1, 0, 16384, 10, 1\ngiSaw ftgen 2, 0, 16384, 10, 1, 0.5, 0.3, 0.25, 0.2, 0.16, 0.14, 0.12\ngiSquare ftgen 3, 0, 16384, 10, 1, 0, 0.3, 0, 0.2, 0, 0.14\n\ninstr 1\n    ; vposcil opcode: ares vposcil aamp, acps, ifn [, iphs]\n    ; vposcil is like poscil but with audio-rate amplitude and frequency\n    ; aamp - audio-rate amplitude\n    ; acps - audio-rate frequency in Hz\n    ; ifn - function table number\n    ; iphs - initial phase 0-1 (optional)\n    \n    ; Basic usage with constant inputs\n    iAmp = 0.5\n    iFreq = p4\n    \n    aAmp = iAmp\n    aFreq = iFreq\n    \n    aOsc vposcil aAmp, aFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 2\n    ; Audio-rate amplitude modulation\n    iFreq = p4\n    \n    ; Fast amplitude modulation at audio rate\n    aModAmp poscil 0.3, 8, giSine\n    aAmp = 0.2 + aModAmp\n    \n    aFreq = iFreq\n    \n    aOsc vposcil aAmp, aFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 3\n    ; Audio-rate frequency modulation (FM synthesis)\n    iAmp = 0.4\n    iCarrier = p4\n    iModRatio = p5\n    iModIndex = p6\n    \n    ; Modulator at audio rate\n    iModFreq = iCarrier * iModRatio\n    iModDepth = iModFreq * iModIndex\n    \n    aMod poscil iModDepth, iModFreq, giSine\n    aFreq = iCarrier + aMod\n    \n    aAmp = iAmp\n    aOsc vposcil aAmp, aFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 4\n    ; Ring modulation\n    iAmp = 0.4\n    iFreq = p4\n    iModFreq = p5\n    \n    ; Modulator controls amplitude\n    aMod poscil 1, iModFreq, giSine\n    aAmp = iAmp * aMod\n    \n    aFreq = iFreq\n    \n    aOsc vposcil aAmp, aFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 5\n    ; Tremolo with sawtooth\n    iFreq = p4\n    \n    ; Audio-rate tremolo\n    aTrem poscil 0.3, 7, giSine\n    aAmp = 0.3 + aTrem\n    \n    aFreq = iFreq\n    \n    aOsc vposcil aAmp, aFreq, giSaw\n    \n    outs aOsc, aOsc\nendin\n\ninstr 6\n    ; Frequency tracking\n    iAmp = 0.4\n    \n    ; Audio-rate frequency envelope\n    aFreq expsega 220, 0.5, 880, 0.5, 440, p3-1, 440\n    aAmp = iAmp\n    \n    aOsc vposcil aAmp, aFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 7\n    ; Both amplitude and frequency modulation\n    iCarrier = p4\n    \n    ; Amplitude modulation\n    aAmpMod poscil 0.2, 6, giSine\n    aAmp = 0.3 + aAmpMod\n    \n    ; Frequency modulation\n    aFreqMod poscil 15, 5, giSine\n    aFreq = iCarrier + aFreqMod\n    \n    aOsc vposcil aAmp, aFreq, giSine\n    \n    outs aOsc, aOsc\nendin\n\ninstr 8\n    ; Complex modulation\n    iAmp = 0.35\n    iFreq = p4\n    \n    ; Two modulators\n    aFreqMod1 poscil 20, 3, giSine\n    aFreqMod2 poscil 10, 7, giSine\n    \n    aFreq = iFreq + aFreqMod1 + aFreqMod2\n    aAmp = iAmp\n    \n    aOsc vposcil aAmp, aFreq, giSquare\n    \n    outs aOsc, aOsc\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic vposcil\ni1 0 2 440\n\n; Play audio-rate AM\ni2 3 3 523\n\n; Play FM synthesis\n; Format: start dur carrier mod_ratio mod_index\ni3 7 2 220 2 5\ni3 9 2 220 3 3\ni3 11 2 330 1.5 8\n\n; Play ring modulation\n; Format: start dur carrier modulator\ni4 14 2 440 30\ni4 16 2 440 100\n\n; Play tremolo\ni5 19 3 330\n\n; Play frequency tracking\ni6 23 2 0\ni6 25 2 0\n\n; Play AM + FM\ni7 28 3 392\n\n; Play complex modulation\ni8 32 3 294\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the oscbnk opcode for oscillator bank synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Function table for oscbnk\ngiSine ftgen 1, 0, 16384, 10, 1\n\n; Tables for oscillator bank parameters\n; Format: frequency multipliers\ngiFreqs ftgen 10, 0, 8, -2, 1, 2, 3, 4, 5, 6, 7, 8\ngiFreqs2 ftgen 11, 0, 8, -2, 1, 1.5, 2, 2.5, 3, 4, 5, 6\ngiFreqs3 ftgen 12, 0, 8, -2, 1, 1.01, 2, 2.02, 3, 3.01, 4, 4.02\n\n; Amplitude tables\ngiAmps1 ftgen 20, 0, 8, -2, 1, 0.5, 0.3, 0.2, 0.15, 0.1, 0.08, 0.05\ngiAmps2 ftgen 21, 0, 8, -2, 1, 0.8, 0.6, 0.5, 0.4, 0.3, 0.2, 0.1\ngiAmps3 ftgen 22, 0, 8, -2, 0.5, 1, 0.5, 0.3, 0.2, 0.15, 0.1, 0.08\n\ninstr 1\n    ; oscbnk opcode: ares oscbnk kcps, kamd, kfmd, kpmd, iovrlap, iseed, kl1minf, kl1maxf, \n    ;                       kl2minf, kl2maxf, ilfomode, keqminf, keqmaxf, keqminl, keqmaxl, \n    ;                       keqminq, keqmaxq, ieqmode, kfn [, il1fn] [, il2fn] [, ieqffn] \n    ;                       [, ieqlfn] [, ieqqfn] [, itabl] [, ioutfn]\n    ; oscbnk mixes multiple oscillators with different frequencies and amplitudes\n    ; Simpler version: ares oscbnk kcps, kfmd, kamd, inum, ifn, ifreqfn, iampfn\n    ; kcps - base frequency\n    ; kfmd - frequency multiplier depth\n    ; kamd - amplitude multiplier depth  \n    ; inum - number of oscillators\n    ; ifn - waveform table\n    ; ifreqfn - frequency multiplier table\n    ; iampfn - amplitude table\n    \n    ; Basic harmonic series\n    kAmp = 0.3\n    kFreq = p4\n    iNum = 8\n    \n    ; Standard oscbnk with simpler syntax\n    aOsc poscil kAmp, kFreq, giSine\n    \n    ; Manual oscillator bank for demonstration\n    a1 poscil 0.3, kFreq*1, giSine\n    a2 poscil 0.15, kFreq*2, giSine\n    a3 poscil 0.1, kFreq*3, giSine\n    a4 poscil 0.075, kFreq*4, giSine\n    a5 poscil 0.06, kFreq*5, giSine\n    a6 poscil 0.05, kFreq*6, giSine\n    \n    aMix = (a1 + a2 + a3 + a4 + a5 + a6) * 0.5\n    \n    outs aMix, aMix\nendin\n\ninstr 2\n    ; Inharmonic spectrum\n    kAmp = 0.3\n    kFreq = p4\n    \n    ; Manually create inharmonic partials\n    a1 poscil 0.3, kFreq*1, giSine\n    a2 poscil 0.24, kFreq*1.5, giSine\n    a3 poscil 0.18, kFreq*2, giSine\n    a4 poscil 0.15, kFreq*2.5, giSine\n    a5 poscil 0.12, kFreq*3, giSine\n    a6 poscil 0.09, kFreq*4, giSine\n    a7 poscil 0.06, kFreq*5, giSine\n    a8 poscil 0.03, kFreq*6, giSine\n    \n    aMix = (a1 + a2 + a3 + a4 + a5 + a6 + a7 + a8) * 0.5\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; Detuned oscillator bank (chorus effect)\n    kAmp = 0.25\n    kFreq = p4\n    \n    ; Slightly detuned oscillators\n    a1 poscil kAmp, kFreq*1.00, giSine\n    a2 poscil kAmp, kFreq*1.01, giSine\n    a3 poscil kAmp, kFreq*2.00, giSine\n    a4 poscil kAmp, kFreq*2.02, giSine\n    a5 poscil kAmp, kFreq*3.00, giSine\n    a6 poscil kAmp, kFreq*3.01, giSine\n    \n    aMix = (a1 + a2 + a3 + a4 + a5 + a6) * 0.3\n    \n    outs aMix, aMix\nendin\n\ninstr 4\n    ; Time-varying amplitudes\n    kFreq = p4\n    \n    ; Individual amplitude envelopes\n    kAmp1 linseg 0.3, p3*0.3, 0.3, p3*0.7, 0\n    kAmp2 linseg 0, p3*0.2, 0.2, p3*0.8, 0\n    kAmp3 linseg 0, p3*0.3, 0.15, p3*0.7, 0\n    kAmp4 linseg 0, p3*0.4, 0.1, p3*0.6, 0\n    kAmp5 linseg 0, p3*0.5, 0.08, p3*0.5, 0\n    \n    a1 poscil kAmp1, kFreq*1, giSine\n    a2 poscil kAmp2, kFreq*2, giSine\n    a3 poscil kAmp3, kFreq*3, giSine\n    a4 poscil kAmp4, kFreq*4, giSine\n    a5 poscil kAmp5, kFreq*5, giSine\n    \n    aMix = (a1 + a2 + a3 + a4 + a5) * 0.6\n    \n    outs aMix, aMix\nendin\n\ninstr 5\n    ; Formant-like spectrum\n    kAmp = 0.25\n    kFreq = p4\n    \n    ; Emphasize certain harmonics for vowel-like sound\n    a1 poscil 0.2, kFreq*1, giSine\n    a2 poscil 0.15, kFreq*2, giSine\n    a3 poscil 0.3, kFreq*3, giSine    ; First formant peak\n    a4 poscil 0.25, kFreq*4, giSine\n    a5 poscil 0.1, kFreq*5, giSine\n    a6 poscil 0.05, kFreq*6, giSine\n    a7 poscil 0.35, kFreq*7, giSine   ; Second formant peak\n    a8 poscil 0.3, kFreq*8, giSine\n    a9 poscil 0.15, kFreq*9, giSine\n    a10 poscil 0.08, kFreq*10, giSine\n    \n    aMix = (a1 + a2 + a3 + a4 + a5 + a6 + a7 + a8 + a9 + a10) * 0.3\n    \n    outs aMix, aMix\nendin\n\ninstr 6\n    ; Additive bell synthesis\n    kAmp = 0.25\n    kFreq = p4\n    \n    ; Inharmonic ratios typical of bells\n    a1 poscil 0.3, kFreq*1, giSine\n    a2 poscil 0.2, kFreq*2.76, giSine\n    a3 poscil 0.15, kFreq*5.40, giSine\n    a4 poscil 0.1, kFreq*8.93, giSine\n    \n    ; Different decay rates\n    kDecay1 expseg 1, p3, 0.001\n    kDecay2 expseg 1, p3*0.7, 0.001\n    kDecay3 expseg 1, p3*0.5, 0.001\n    kDecay4 expseg 1, p3*0.3, 0.001\n    \n    aMix = (a1*kDecay1 + a2*kDecay2 + a3*kDecay3 + a4*kDecay4) * 0.5\n    \n    outs aMix, aMix\nendin\n\ninstr 7\n    ; Dynamic spectrum morphing\n    kFreq = p4\n    \n    ; Morph between harmonic and inharmonic\n    kMorph linseg 0, p3, 1\n    \n    ; Harmonic frequencies\n    kFreq1 = kFreq * (1 + kMorph*0.1)\n    kFreq2 = kFreq * (2 + kMorph*0.5)\n    kFreq3 = kFreq * (3 + kMorph*1.2)\n    kFreq4 = kFreq * (4 + kMorph*1.8)\n    kFreq5 = kFreq * (5 + kMorph*2.5)\n    \n    a1 poscil 0.3, kFreq1, giSine\n    a2 poscil 0.2, kFreq2, giSine\n    a3 poscil 0.15, kFreq3, giSine\n    a4 poscil 0.1, kFreq4, giSine\n    a5 poscil 0.08, kFreq5, giSine\n    \n    aMix = (a1 + a2 + a3 + a4 + a5) * 0.5\n    \n    outs aMix, aMix\nendin\n\ninstr 8\n    ; Stereo oscillator bank\n    kFreq = p4\n    \n    ; Left channel: odd harmonics\n    aL1 poscil 0.25, kFreq*1, giSine\n    aL3 poscil 0.15, kFreq*3, giSine\n    aL5 poscil 0.1, kFreq*5, giSine\n    aL7 poscil 0.08, kFreq*7, giSine\n    \n    ; Right channel: even harmonics\n    aR2 poscil 0.2, kFreq*2, giSine\n    aR4 poscil 0.12, kFreq*4, giSine\n    aR6 poscil 0.09, kFreq*6, giSine\n    aR8 poscil 0.06, kFreq*8, giSine\n    \n    aLeft = (aL1 + aL3 + aL5 + aL7) * 0.5\n    aRight = (aR2 + aR4 + aR6 + aR8) * 0.5\n    \n    outs aLeft, aRight\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play harmonic series\ni1 0 3 220\ni1 3.5 3 294\n\n; Play inharmonic spectrum\ni2 7.5 3 330\n\n; Play detuned bank (chorus)\ni3 11.5 3 440\n\n; Play time-varying amplitudes\ni4 15.5 4 392\n\n; Play formant-like\ni5 20.5 3 220\n\n; Play bell synthesis\ni6 24.5 4 523\ni6 28.5 4 440\n\n; Play spectrum morphing\ni7 33.5 5 294\n\n; Play stereo bank\ni8 39.5 3 330\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates advanced wavetable synthesis techniques with poscil", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Multiple waveform tables\ngiSine ftgen 1, 0, 16384, 10, 1\ngiSaw ftgen 2, 0, 16384, 10, 1, 0.5, 0.3, 0.25, 0.2, 0.16, 0.14, 0.12, 0.11, 0.09, 0.08\ngiSquare ftgen 3, 0, 16384, 10, 1, 0, 0.3, 0, 0.2, 0, 0.14, 0, 0.11, 0, 0.09\ngiTri ftgen 4, 0, 16384, 10, 1, 0, -0.11, 0, 0.04, 0, -0.02, 0, 0.01\ngiPulse ftgen 5, 0, 16384, 10, 1, 1, 1, 1, 0.7, 0.5, 0.3, 0.1\n\ninstr 1\n    ; Multiple detuned oscillators\n    iAmp = 0.25\n    iFreq = p4\n    \n    ; Three oscillators slightly detuned\n    aOsc1 poscil iAmp, iFreq*0.995, giSaw\n    aOsc2 poscil iAmp, iFreq, giSaw\n    aOsc3 poscil iAmp, iFreq*1.005, giSaw\n    \n    aMix = (aOsc1 + aOsc2 + aOsc3) * 0.4\n    \n    outs aMix, aMix\nendin\n\ninstr 2\n    ; Layered waveforms\n    iAmp = 0.3\n    iFreq = p4\n    \n    ; Mix different waveforms\n    aSine poscil iAmp*0.5, iFreq, giSine\n    aSaw poscil iAmp*0.3, iFreq, giSaw\n    aSquare poscil iAmp*0.2, iFreq, giSquare\n    \n    aMix = aSine + aSaw + aSquare\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; Sub-oscillator\n    iAmp = 0.35\n    iFreq = p4\n    \n    ; Main oscillator\n    aMain poscil iAmp*0.6, iFreq, giSaw\n    \n    ; Sub-oscillator (one octave down)\n    aSub poscil iAmp*0.4, iFreq*0.5, giSquare\n    \n    aMix = aMain + aSub\n    \n    outs aMix, aMix\nendin\n\ninstr 4\n    ; Octave doubling\n    iAmp = 0.3\n    iFreq = p4\n    \n    ; Fundamental\n    aFund poscil iAmp*0.5, iFreq, giSaw\n    \n    ; Octave up\n    aOct poscil iAmp*0.3, iFreq*2, giSaw\n    \n    ; Two octaves up\n    a2Oct poscil iAmp*0.2, iFreq*4, giSaw\n    \n    aMix = aFund + aOct + a2Oct\n    \n    outs aMix, aMix\nendin\n\ninstr 5\n    ; PWM (Pulse Width Modulation) simulation\n    iAmp = 0.35\n    iFreq = p4\n    \n    ; Two square waves with phase offset\n    kWidth lfo 0.4, 0.5, 1\n    kPhase = 0.5 + kWidth*0.4\n    \n    aOsc1 poscil iAmp, iFreq, giSquare, 0\n    aOsc2 poscil iAmp, iFreq, giSquare, kPhase\n    \n    aMix = aOsc1 - aOsc2\n    \n    outs aMix, aMix\nendin\n\ninstr 6\n    ; Sync oscillator\n    iAmp = 0.35\n    iMaster = p4\n    \n    ; Master oscillator controls phase reset\n    aMaster poscil 1, iMaster, giSaw\n    \n    ; Slave oscillator at higher frequency\n    kSlaveFreq linseg iMaster*1.5, p3, iMaster*4\n    aSlave poscil iAmp, kSlaveFreq, giSaw\n    \n    ; Output slave\n    outs aSlave, aSlave\nendin\n\ninstr 7\n    ; Unison spread (supersaw)\n    iAmp = 0.2\n    iFreq = p4\n    \n    ; Seven detuned oscillators\n    aOsc1 poscil iAmp, iFreq*0.985, giSaw\n    aOsc2 poscil iAmp, iFreq*0.992, giSaw\n    aOsc3 poscil iAmp, iFreq*0.997, giSaw\n    aOsc4 poscil iAmp, iFreq, giSaw\n    aOsc5 poscil iAmp, iFreq*1.003, giSaw\n    aOsc6 poscil iAmp, iFreq*1.008, giSaw\n    aOsc7 poscil iAmp, iFreq*1.015, giSaw\n    \n    aMix = (aOsc1 + aOsc2 + aOsc3 + aOsc4 + aOsc5 + aOsc6 + aOsc7) * 0.3\n    \n    outs aMix, aMix\nendin\n\ninstr 8\n    ; Cross-modulation\n    iAmp = 0.35\n    iFreq = p4\n    \n    ; Oscillator 1 modulates oscillator 2\n    aOsc1 poscil 50, iFreq*0.5, giSine\n    kFreq2 = iFreq + aOsc1\n    \n    aOsc2 poscil iAmp, kFreq2, giSaw\n    \n    outs aOsc2, aOsc2\nendin\n\ninstr 9\n    ; Formant synthesis\n    iAmp = 0.25\n    iFreq = p4\n    \n    ; Source (sawtooth)\n    aSource poscil 0.5, iFreq, giSaw\n    \n    ; Formant filters (resonant peaks)\n    aForm1 butterbp aSource, 800, 80\n    aForm2 butterbp aSource, 1200, 90\n    aForm3 butterbp aSource, 2600, 120\n    \n    aMix = (aForm1 + aForm2 + aForm3) * iAmp * 3\n    \n    outs aMix, aMix\nendin\n\ninstr 10\n    ; Stereo phase effects\n    iAmp = 0.35\n    iFreq = p4\n    \n    ; Left and right with different phase relationships\n    aOscL1 poscil iAmp*0.5, iFreq, giSaw, 0\n    aOscL2 poscil iAmp*0.3, iFreq*1.005, giSaw, 0.2\n    \n    aOscR1 poscil iAmp*0.5, iFreq*1.002, giSaw, 0.5\n    aOscR2 poscil iAmp*0.3, iFreq*0.998, giSaw, 0.7\n    \n    aLeft = aOscL1 + aOscL2\n    aRight = aOscR1 + aOscR2\n    \n    outs aLeft, aRight\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play detuned oscillators\ni1 0 3 220\n\n; Play layered waveforms\ni2 4 3 330\n\n; Play sub-oscillator\ni3 8 3 294\n\n; Play octave doubling\ni4 12 3 392\n\n; Play PWM simulation\ni5 16 4 220\n\n; Play sync oscillator\ni6 21 3 165\n\n; Play supersaw\ni7 25 3 440\n\n; Play cross-modulation\ni8 29 3 330\n\n; Play formant synthesis\ni9 33 3 220\n\n; Play stereo phase\ni10 37 3 523\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates complex additive and wavetable synthesis techniques", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Waveform tables\ngiSine ftgen 1, 0, 16384, 10, 1\ngiSaw ftgen 2, 0, 16384, 10, 1, 0.5, 0.3, 0.25, 0.2, 0.16, 0.14, 0.12, 0.11, 0.09\ngiSquare ftgen 3, 0, 16384, 10, 1, 0, 0.3, 0, 0.2, 0, 0.14, 0, 0.11\n\ninstr 1\n    ; Additive organ sound\n    iAmp = 0.25\n    iFreq = p4\n    \n    ; Multiple harmonics with organ-like drawbar levels\n    a1 poscil iAmp*1.0, iFreq*0.5, giSine      ; 16' (sub-octave)\n    a2 poscil iAmp*0.8, iFreq*1.0, giSine      ; 8' (fundamental)\n    a3 poscil iAmp*0.8, iFreq*1.5, giSine      ; 5 1/3' (fifth)\n    a4 poscil iAmp*0.6, iFreq*2.0, giSine      ; 4' (octave)\n    a5 poscil iAmp*0.5, iFreq*3.0, giSine      ; 2 2/3' (twelfth)\n    a6 poscil iAmp*0.4, iFreq*4.0, giSine      ; 2' (fifteenth)\n    a7 poscil iAmp*0.3, iFreq*6.0, giSine      ; 1 1/3' (nineteenth)\n    a8 poscil iAmp*0.2, iFreq*8.0, giSine      ; 1' (twenty-second)\n    \n    aMix = (a1 + a2 + a3 + a4 + a5 + a6 + a7 + a8) * 0.25\n    \n    outs aMix, aMix\nendin\n\ninstr 2\n    ; Spectral shimmer (rising harmonics)\n    iAmp = 0.25\n    iFreq = p4\n    \n    ; Harmonics with time-varying amplitudes\n    kEnv1 linseg 1, p3, 0.2\n    kEnv2 linseg 0.5, p3, 1\n    kEnv3 linseg 0.3, p3, 1\n    kEnv4 linseg 0.2, p3, 1\n    kEnv5 linseg 0.1, p3, 0.8\n    \n    a1 poscil iAmp*kEnv1, iFreq*1, giSine\n    a2 poscil iAmp*kEnv2, iFreq*2, giSine\n    a3 poscil iAmp*kEnv3, iFreq*3, giSine\n    a4 poscil iAmp*kEnv4, iFreq*4, giSine\n    a5 poscil iAmp*kEnv5, iFreq*5, giSine\n    \n    aMix = (a1 + a2 + a3 + a4 + a5) * 0.4\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; Bell-like additive sound\n    iAmp = 0.3\n    iFreq = p4\n    \n    ; Inharmonic partials with independent decays\n    kDecay1 expseg 1, p3, 0.001\n    kDecay2 expseg 1, p3*0.8, 0.001\n    kDecay3 expseg 1, p3*0.6, 0.001\n    kDecay4 expseg 1, p3*0.4, 0.001\n    kDecay5 expseg 1, p3*0.3, 0.001\n    kDecay6 expseg 1, p3*0.2, 0.001\n    \n    a1 poscil iAmp*0.5*kDecay1, iFreq*1, giSine\n    a2 poscil iAmp*0.3*kDecay2, iFreq*2.76, giSine\n    a3 poscil iAmp*0.25*kDecay3, iFreq*5.40, giSine\n    a4 poscil iAmp*0.2*kDecay4, iFreq*8.93, giSine\n    a5 poscil iAmp*0.15*kDecay5, iFreq*13.34, giSine\n    a6 poscil iAmp*0.1*kDecay6, iFreq*18.64, giSine\n    \n    aMix = (a1 + a2 + a3 + a4 + a5 + a6) * 0.5\n    \n    outs aMix, aMix\nendin\n\ninstr 4\n    ; Vocoder-like formant shifting\n    iAmp = 0.3\n    iFreq = p4\n    \n    ; Source oscillator\n    aSource poscil 0.5, iFreq, giSaw\n    \n    ; Formants shift over time\n    kForm1 linseg 600, p3, 900\n    kForm2 linseg 1040, p3, 1400\n    kForm3 linseg 2250, p3, 2800\n    \n    ; Filter source at formant frequencies\n    aForm1 butterbp aSource, kForm1, kForm1*0.1\n    aForm2 butterbp aSource, kForm2, kForm2*0.08\n    aForm3 butterbp aSource, kForm3, kForm3*0.06\n    \n    aMix = (aForm1*1.5 + aForm2*1.0 + aForm3*0.6) * iAmp\n    \n    outs aMix, aMix\nendin\n\ninstr 5\n    ; Phase-modulation synthesis with poscil\n    iAmp = 0.35\n    iCarrier = p4\n    iModRatio = p5\n    \n    ; Modulator\n    iModFreq = iCarrier * iModRatio\n    aModIndex linseg 0, p3*0.3, 8, p3*0.7, 0\n    aMod poscil iModFreq*aModIndex, iModFreq, giSine\n    \n    ; Carrier with phase modulation\n    aPhase = aMod / iCarrier\n    aCarrier vposcil iAmp, iCarrier, giSine\n    \n    outs aCarrier, aCarrier\nendin\n\ninstr 6\n    ; Morphing wavetable (crossfade between waveforms)\n    iAmp = 0.35\n    iFreq = p4\n    \n    ; Crossfade parameter\n    kMorph linseg 0, p3, 1\n    \n    ; Three waveforms\n    aSaw poscil iAmp, iFreq, giSaw\n    aSquare poscil iAmp, iFreq, giSquare\n    aSine poscil iAmp, iFreq, giSine\n    \n    ; Crossfade: Saw -> Square -> Sine\n    if kMorph < 0.5 then\n        kMix1 = 1 - kMorph*2\n        kMix2 = kMorph*2\n        kMix3 = 0\n    else\n        kMix1 = 0\n        kMix2 = 1 - (kMorph-0.5)*2\n        kMix3 = (kMorph-0.5)*2\n    endif\n    \n    aMix = aSaw*kMix1 + aSquare*kMix2 + aSine*kMix3\n    \n    outs aMix, aMix\nendin\n\ninstr 7\n    ; Harmonic tremolo (individual harmonic modulation)\n    iAmp = 0.25\n    iFreq = p4\n    \n    ; Each harmonic has different tremolo rate\n    kTrem1 poscil 0.3, 4, giSine\n    kTrem1 = 0.7 + kTrem1\n    \n    kTrem2 poscil 0.3, 5.5, giSine, 0.25\n    kTrem2 = 0.7 + kTrem2\n    \n    kTrem3 poscil 0.3, 7, giSine, 0.5\n    kTrem3 = 0.7 + kTrem3\n    \n    kTrem4 poscil 0.3, 8.5, giSine, 0.75\n    kTrem4 = 0.7 + kTrem4\n    \n    a1 poscil iAmp*kTrem1, iFreq*1, giSine\n    a2 poscil iAmp*0.7*kTrem2, iFreq*2, giSine\n    a3 poscil iAmp*0.5*kTrem3, iFreq*3, giSine\n    a4 poscil iAmp*0.3*kTrem4, iFreq*4, giSine\n    \n    aMix = (a1 + a2 + a3 + a4) * 0.5\n    \n    outs aMix, aMix\nendin\n\ninstr 8\n    ; Additive pad with chorus\n    iAmp = 0.2\n    iFreq = p4\n    \n    ; Multiple detuned layers of harmonics\n    ; Layer 1 (center)\n    a11 poscil iAmp*0.5, iFreq*1, giSine\n    a12 poscil iAmp*0.3, iFreq*2, giSine\n    a13 poscil iAmp*0.2, iFreq*3, giSine\n    \n    ; Layer 2 (slightly sharp)\n    a21 poscil iAmp*0.5, iFreq*1.005, giSine\n    a22 poscil iAmp*0.3, iFreq*2.005, giSine\n    a23 poscil iAmp*0.2, iFreq*3.005, giSine\n    \n    ; Layer 3 (slightly flat)\n    a31 poscil iAmp*0.5, iFreq*0.995, giSine\n    a32 poscil iAmp*0.3, iFreq*1.995, giSine\n    a33 poscil iAmp*0.2, iFreq*2.995, giSine\n    \n    aLeft = (a11 + a12 + a13 + a21 + a22 + a23) * 0.4\n    aRight = (a11 + a12 + a13 + a31 + a32 + a33) * 0.4\n    \n    outs aLeft, aRight\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play additive organ\ni1 0 4 220\ni1 4.5 4 330\n\n; Play spectral shimmer\ni2 9.5 5 196\n\n; Play bell-like\ni3 15.5 4 523\ni3 19.5 4 440\n\n; Play formant shifting\ni4 24.5 4 165\n\n; Play phase modulation\n; Format: start dur carrier mod_ratio\ni5 29.5 3 220 2\ni5 32.5 3 330 1.5\n\n; Play morphing wavetable\ni6 36.5 5 294\n\n; Play harmonic tremolo\ni7 42.5 4 392\n\n; Play additive pad\ni8 47.5 5 165\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
