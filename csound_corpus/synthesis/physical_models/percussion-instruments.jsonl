{"instruction": "Write a CSound instrument that demonstrates the tambourine opcode for physical model tambourine", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; tambourine opcode: ares tambourine kamp, idettack [, inum] [, idamp] [, imaxshake] [, ifreq] [, ifreq1] [, ifreq2]\n    ; tambourine implements a physical model of a tambourine\n    ; kamp - amplitude (typically 0-1)\n    ; idettack - period of time over which all sound is stopped (seconds)\n    ; inum - number of beads/jingles (default 32)\n    ; idamp - damping factor (0-1, default 0.1)\n    ; imaxshake - maximum shake energy (default 0)\n    ; ifreq, ifreq1, ifreq2 - resonant frequencies\n    \n    ; Amplitude envelope\n    kAmp linseg 1, p3, 0\n    \n    ; Basic tambourine\n    aTamb tambourine kAmp*0.6, p3\n    \n    outs aTamb, aTamb\nendin\n\ninstr 2\n    ; Tambourine with shake pattern\n    ; Rhythmic shaking\n    kShake linseg 0, 0.01, 1, 0.05, 0.3, 0.1, 0.8, 0.05, 0.2, p3-0.21, 0\n    \n    aTamb tambourine kShake*0.7, p3, 32, 0.1\n    \n    outs aTamb, aTamb\nendin\n\ninstr 3\n    ; Tambourine with fewer jingles (quieter)\n    kAmp linseg 1, p3, 0\n    \n    ; Only 16 jingles\n    aTamb tambourine kAmp*0.6, p3, 16, 0.15\n    \n    outs aTamb, aTamb\nendin\n\ninstr 4\n    ; Tambourine roll (continuous shaking)\n    ; Sustained shake with modulation\n    kAmp linseg 0, 0.05, 0.8, p3-0.15, 0.7, 0.1, 0\n    \n    ; Add tremolo for realistic roll\n    kTrem oscili 0.3, 12, -1, 0\n    kTrem = 0.7 + kTrem\n    \n    aTamb tambourine kAmp*kTrem*0.6, p3, 32, 0.08\n    \n    outs aTamb, aTamb\nendin\n\ninstr 5\n    ; Tambourine hit (single strike)\n    kAmp linseg 1, 0.02, 0.5, 0.1, 0.2, p3-0.12, 0\n    \n    ; More damping for hit\n    aTamb tambourine kAmp*0.7, p3, 32, 0.3\n    \n    outs aTamb, aTamb\nendin\n\ninstr 6\n    ; Tambourine with custom frequencies\n    kAmp linseg 1, p3, 0\n    \n    ; Specify resonant frequencies for different tone\n    aTamb tambourine kAmp*0.6, p3, 32, 0.1, 0, 2300, 5600, 8100\n    \n    outs aTamb, aTamb\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic tambourine\ni1 0 1\ni1 1.5 1\n\n; Play shake pattern\ni2 3.5 1.5\n\n; Play with fewer jingles\ni3 5.5 1\ni3 6.5 1\n\n; Play roll\ni4 8.5 2\n\n; Play hits\ni5 11.5 0.5\ni5 12 0.5\ni5 12.5 0.5\ni5 13 0.5\n\n; Play with custom frequencies\ni6 14.5 1.5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the cabasa opcode for physical model cabasa", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; cabasa opcode: ares cabasa kamp, idettack [, inum] [, idamp] [, imaxshake]\n    ; cabasa implements a physical model of a cabasa (beaded gourd)\n    ; kamp - amplitude\n    ; idettack - period of time over which all sound is stopped\n    ; inum - number of beads (default 512)\n    ; idamp - damping factor (0-1, default 0.1)\n    ; imaxshake - maximum shake energy (default 0)\n    \n    ; Amplitude envelope\n    kAmp linseg 1, p3, 0\n    \n    ; Basic cabasa\n    aCabasa cabasa kAmp*0.5, p3\n    \n    outs aCabasa, aCabasa\nendin\n\ninstr 2\n    ; Cabasa shake with dynamics\n    ; Crescendo shake\n    kAmp linseg 0.2, p3*0.5, 0.9, p3*0.5, 0.3\n    \n    aCabasa cabasa kAmp*0.5, p3, 512, 0.1\n    \n    outs aCabasa, aCabasa\nendin\n\ninstr 3\n    ; Cabasa with fewer beads (different texture)\n    kAmp linseg 1, p3, 0\n    \n    ; 256 beads for different sound\n    aCabasa cabasa kAmp*0.5, p3, 256, 0.15\n    \n    outs aCabasa, aCabasa\nendin\n\ninstr 4\n    ; Cabasa twist (back and forth motion)\n    ; Oscillating amplitude for twist effect\n    kAmp oscili 0.7, 4, -1, 0\n    kAmp = abs(kAmp) * linseg(1, p3, 0)\n    \n    aCabasa cabasa kAmp*0.5, p3, 512, 0.08\n    \n    outs aCabasa, aCabasa\nendin\n\ninstr 5\n    ; Fast cabasa roll\n    ; High frequency modulation\n    kAmp oscili 0.6, 15, -1, 0\n    kAmp = 0.4 + abs(kAmp)\n    kAmp = kAmp * linseg(1, p3, 0)\n    \n    aCabasa cabasa kAmp*0.5, p3, 512, 0.1\n    \n    outs aCabasa, aCabasa\nendin\n\ninstr 6\n    ; Cabasa with high damping (dry sound)\n    kAmp linseg 1, p3*0.2, 0.6, p3*0.8, 0\n    \n    ; High damping\n    aCabasa cabasa kAmp*0.5, p3, 512, 0.4\n    \n    outs aCabasa, aCabasa\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic cabasa\ni1 0 1.5\ni1 2 1.5\n\n; Play with dynamics\ni2 4.5 2\n\n; Play with fewer beads\ni3 7.5 1.5\n\n; Play twist\ni4 10 2\n\n; Play fast roll\ni5 13 1.5\n\n; Play dry cabasa\ni6 15.5 1\ni6 16.5 1\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the bamboo opcode for physical model bamboo chimes", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; bamboo opcode: ares bamboo kamp, idettack [, inum] [, idamp] [, imaxshake] [, ifreq] [, ifreq1] [, ifreq2]\n    ; bamboo implements a physical model of bamboo wind chimes\n    ; kamp - amplitude\n    ; idettack - period of time over which all sound is stopped\n    ; inum - number of tubes (default 1.25)\n    ; idamp - damping factor (default 0.0)\n    ; imaxshake - maximum shake energy (default 0)\n    ; ifreq, ifreq1, ifreq2 - resonant frequencies\n    \n    ; Amplitude envelope\n    kAmp linseg 1, p3, 0\n    \n    ; Basic bamboo\n    aBamboo bamboo kAmp*0.7, p3\n    \n    outs aBamboo, aBamboo\nendin\n\ninstr 2\n    ; Bamboo with gentle breeze effect\n    ; Random-like modulation\n    kRand randomi 0.3, 1, 3\n    kAmp = kRand * linseg(1, p3, 0.2)\n    \n    aBamboo bamboo kAmp*0.6, p3, 1.25, 0.0\n    \n    outs aBamboo, aBamboo\nendin\n\ninstr 3\n    ; Multiple bamboo tubes\n    kAmp linseg 1, p3, 0\n    \n    ; More tubes for denser sound\n    aBamboo bamboo kAmp*0.7, p3, 2.5, 0.05\n    \n    outs aBamboo, aBamboo\nendin\n\ninstr 4\n    ; Bamboo with custom tuning\n    kAmp linseg 1, p3, 0\n    \n    ; Specify frequencies for different pitches\n    aBamboo bamboo kAmp*0.7, p3, 1.25, 0.0, 0, 2800, 4200, 5600\n    \n    outs aBamboo, aBamboo\nendin\n\ninstr 5\n    ; Wind gust effect\n    ; Sudden burst then decay\n    kAmp linseg 0, 0.02, 1.2, 0.1, 0.7, p3-0.12, 0\n    \n    aBamboo bamboo kAmp*0.6, p3, 2.0, 0.02\n    \n    outs aBamboo, aBamboo\nendin\n\ninstr 6\n    ; Stereo bamboo field\n    kAmp linseg 1, p3, 0\n    \n    ; Left and right with different parameters\n    aBambooL bamboo kAmp*0.5, p3, 1.5, 0.0, 0, 2600, 4000, 5400\n    aBambooR bamboo kAmp*0.5, p3, 1.8, 0.0, 0, 2900, 4300, 5700\n    \n    outs aBambooL, aBambooR\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic bamboo\ni1 0 2\ni1 2.5 2\n\n; Play breeze effect\ni2 5.5 3\n\n; Play multiple tubes\ni3 9.5 2\n\n; Play custom tuning\ni4 12.5 2\ni4 14.5 2\n\n; Play wind gust\ni5 17.5 1.5\ni5 19 1.5\n\n; Play stereo field\ni6 21.5 3\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the dropwater opcode for physical model water drops", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; dripwater opcode: ares dripwater kamp, idettack [, inum] [, idamp] [, imaxshake] [, ifreq] [, ifreq1] [, ifreq2]\n    ; dripwater implements a physical model of water drops\n    ; kamp - amplitude\n    ; idettack - period of time over which all sound is stopped\n    ; inum - number of drops (default 10)\n    ; idamp - damping factor (default 0.0)\n    ; imaxshake - maximum shake energy (default 0)\n    ; ifreq, ifreq1, ifreq2 - resonant frequencies\n    \n    ; Amplitude envelope\n    kAmp linseg 1, p3, 0\n    \n    ; Single water drop\n    aDrop dripwater kAmp*0.8, p3\n    \n    outs aDrop, aDrop\nendin\n\ninstr 2\n    ; Gentle dripping pattern\n    ; Quick attack and decay\n    kAmp linseg 1, 0.01, 0.8, 0.05, 0.3, p3-0.06, 0\n    \n    aDrop dripwater kAmp*0.8, p3, 10, 0.0\n    \n    outs aDrop, aDrop\nendin\n\ninstr 3\n    ; Multiple drops (splash)\n    kAmp linseg 1, 0.02, 0.7, p3-0.02, 0\n    \n    ; More drops for splash effect\n    aDrop dripwater kAmp*0.8, p3, 30, 0.05\n    \n    outs aDrop, aDrop\nendin\n\ninstr 4\n    ; Water drops with different pitches\n    kAmp linseg 1, p3, 0\n    \n    ; Custom frequencies for different drop sizes\n    iFreq = p4\n    aDrop dripwater kAmp*0.8, p3, 10, 0.0, 0, iFreq, iFreq*1.5, iFreq*2.2\n    \n    outs aDrop, aDrop\nendin\n\ninstr 5\n    ; Rain effect (many drops)\n    ; Random amplitude variations\n    kAmp randomi 0.4, 1, 8\n    kAmp = kAmp * linseg(0, 0.1, 1, p3-0.2, 1, 0.1, 0)\n    \n    aDrop dripwater kAmp*0.5, p3, 50, 0.02\n    \n    outs aDrop, aDrop\nendin\n\ninstr 6\n    ; Stereo dripping (panned drops)\n    kAmp linseg 1, 0.01, 0.8, 0.05, 0.3, p3-0.06, 0\n    \n    ; Pan position from score\n    iPan = p4\n    \n    aDrop dripwater kAmp*0.8, p3, 10, 0.0\n    \n    aLeft = aDrop * sqrt(1 - iPan)\n    aRight = aDrop * sqrt(iPan)\n    \n    outs aLeft, aRight\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play single drops\ni1 0 0.5\ni1 1 0.5\ni1 2 0.5\n\n; Play gentle dripping\ni2 3.5 0.3\ni2 4 0.3\ni2 4.5 0.3\ni2 5 0.3\n\n; Play splash\ni3 6.5 0.8\ni3 7.5 0.8\n\n; Play different pitches\n; Format: start dur freq\ni4 9.5 0.5 1200\ni4 10 0.5 1600\ni4 10.5 0.5 2000\ni4 11 0.5 2400\n\n; Play rain effect\ni5 13 4\n\n; Play stereo dripping\n; Format: start dur pan (0=left, 1=right)\ni6 18 0.3 0.1\ni6 18.5 0.3 0.9\ni6 19 0.3 0.3\ni6 19.5 0.3 0.7\ni6 20 0.3 0.5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the crunch opcode for physical model crunchy sounds", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; crunch opcode: ares crunch kamp, idettack [, inum] [, idamp] [, imaxshake]\n    ; crunch implements a physical model of crunchy sounds (gravel, snow, etc.)\n    ; kamp - amplitude\n    ; idettack - period of time over which all sound is stopped\n    ; inum - number of particles (default 7)\n    ; idamp - damping factor (default 0.0)\n    ; imaxshake - maximum shake energy (default 0)\n    \n    ; Amplitude envelope\n    kAmp linseg 1, p3, 0\n    \n    ; Basic crunch\n    aCrunch crunch kAmp*0.6, p3\n    \n    outs aCrunch, aCrunch\nendin\n\ninstr 2\n    ; Footstep on gravel\n    ; Two-phase envelope (impact then release)\n    kAmp linseg 0, 0.01, 1, 0.05, 0.6, 0.1, 0.4, p3-0.16, 0\n    \n    aCrunch crunch kAmp*0.6, p3, 7, 0.0\n    \n    outs aCrunch, aCrunch\nendin\n\ninstr 3\n    ; Walking on snow\n    ; Denser particles\n    kAmp linseg 0, 0.02, 0.9, 0.1, 0.5, p3-0.12, 0\n    \n    ; More particles for snow\n    aCrunch crunch kAmp*0.6, p3, 15, 0.05\n    \n    outs aCrunch, aCrunch\nendin\n\ninstr 4\n    ; Crushing leaves\n    ; Variable intensity\n    kAmp oscili 0.4, 6, -1, 0\n    kAmp = 0.5 + abs(kAmp)\n    kAmp = kAmp * linseg(1, p3*0.8, 0.6, p3*0.2, 0)\n    \n    aCrunch crunch kAmp*0.6, p3, 12, 0.02\n    \n    outs aCrunch, aCrunch\nendin\n\ninstr 5\n    ; Eating crunchy food\n    ; Irregular pattern with modulation\n    kRand randomi 0.5, 1, 12\n    kAmp = kRand * linseg(1, p3, 0.3)\n    \n    aCrunch crunch kAmp*0.5, p3, 10, 0.03\n    \n    outs aCrunch, aCrunch\nendin\n\ninstr 6\n    ; Sparse crunch (fewer particles)\n    kAmp linseg 1, p3, 0\n    \n    ; Only 3 particles for sparse sound\n    aCrunch crunch kAmp*0.6, p3, 3, 0.1\n    \n    outs aCrunch, aCrunch\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic crunch\ni1 0 0.8\ni1 1.5 0.8\n\n; Play footsteps\ni2 3 0.6\ni2 3.7 0.6\ni2 4.4 0.6\ni2 5.1 0.6\n\n; Play walking on snow\ni3 6.5 0.8\ni3 7.5 0.8\ni3 8.5 0.8\n\n; Play crushing leaves\ni4 10.5 2\n\n; Play eating\ni5 13.5 2.5\n\n; Play sparse crunch\ni6 17 1\ni6 18 1\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates the sandpaper opcode for physical model sandpaper scraping", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; sandpaper opcode: ares sandpaper kamp, idettack [, inum] [, idamp] [, imaxshake]\n    ; sandpaper implements a physical model of sandpaper scraping sound\n    ; kamp - amplitude\n    ; idettack - period of time over which all sound is stopped\n    ; inum - number of particles (default 128)\n    ; idamp - damping factor (default 0.0)\n    ; imaxshake - maximum shake energy (default 0)\n    \n    ; Amplitude envelope\n    kAmp linseg 1, p3, 0\n    \n    ; Basic sandpaper\n    aSand sandpaper kAmp*0.5, p3\n    \n    outs aSand, aSand\nendin\n\ninstr 2\n    ; Scraping motion (back and forth)\n    ; Oscillating amplitude\n    kAmp oscili 0.6, 2, -1, 0\n    kAmp = 0.4 + abs(kAmp)\n    kAmp = kAmp * linseg(1, p3, 0.5)\n    \n    aSand sandpaper kAmp*0.5, p3, 128, 0.0\n    \n    outs aSand, aSand\nendin\n\ninstr 3\n    ; Fine sandpaper (more particles)\n    kAmp linseg 1, p3, 0\n    \n    ; Higher particle count for finer texture\n    aSand sandpaper kAmp*0.5, p3, 256, 0.02\n    \n    outs aSand, aSand\nendin\n\ninstr 4\n    ; Coarse sandpaper (fewer particles)\n    kAmp linseg 1, p3, 0\n    \n    ; Lower particle count for coarser texture\n    aSand sandpaper kAmp*0.5, p3, 64, 0.0\n    \n    outs aSand, aSand\nendin\n\ninstr 5\n    ; Vigorous scrubbing\n    ; Fast modulation with varying intensity\n    kAmp oscili 0.5, 8, -1, 0\n    kAmp = 0.5 + abs(kAmp)\n    kAmp = kAmp * linseg(0.5, p3*0.3, 1, p3*0.7, 0.3)\n    \n    aSand sandpaper kAmp*0.5, p3, 128, 0.01\n    \n    outs aSand, aSand\nendin\n\ninstr 6\n    ; Gentle sanding\n    ; Smooth, controlled motion\n    kAmp linseg 0.3, p3*0.2, 0.6, p3*0.6, 0.5, p3*0.2, 0.2\n    \n    ; Some damping for smoother sound\n    aSand sandpaper kAmp*0.5, p3, 128, 0.08\n    \n    outs aSand, aSand\nendin\n\ninstr 7\n    ; Rhythmic sanding pattern\n    ; Pulsed scraping\n    kPulse lfo 1, 4, 1  ; Square wave\n    kAmp = (kPulse > 0 ? 0.8 : 0.2)\n    kAmp = kAmp * linseg(1, p3, 0.5)\n    \n    aSand sandpaper kAmp*0.5, p3, 128, 0.0\n    \n    outs aSand, aSand\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic sandpaper\ni1 0 1.5\ni1 2 1.5\n\n; Play scraping motion\ni2 4.5 2\n\n; Play fine sandpaper\ni3 7.5 1.5\n\n; Play coarse sandpaper\ni4 9.5 1.5\n\n; Play vigorous scrubbing\ni5 12 2\n\n; Play gentle sanding\ni6 15 2.5\n\n; Play rhythmic pattern\ni7 18.5 2\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates advanced percussion combinations and rhythmic patterns", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; Latin percussion ensemble\n    kAmp linseg 1, p3, 0\n    \n    ; Tambourine on beats\n    aTamb tambourine kAmp*0.4, p3, 32, 0.1\n    \n    ; Cabasa with slight delay\n    kCabasaAmp linseg 0, 0.1, 1, p3-0.1, 0\n    aCabasa cabasa kCabasaAmp*0.3, p3, 256, 0.15\n    \n    ; Mix\n    aMix = aTamb + aCabasa\n    \n    outs aMix*0.7, aMix*0.7\nendin\n\ninstr 2\n    ; Ambient soundscape\n    kAmp linseg 0, p3*0.1, 1, p3*0.8, 1, p3*0.1, 0\n    \n    ; Bamboo wind chimes\n    kBambooAmp randomi 0.3, 0.8, 2\n    aBamboo bamboo kBambooAmp*kAmp*0.3, p3, 2.0, 0.01, 0, 2600, 4100, 5500\n    \n    ; Water drops (sparse)\n    kDropAmp random 0, 1\n    kDropTrig metro 1.5\n    kDropAmp = (kDropTrig > 0 ? kDropAmp : 0)\n    aDrop dripwater kDropAmp*kAmp*0.4, p3, 8, 0.0, 0, 1800, 2700, 3600\n    \n    ; Mix with stereo spread\n    aLeft = aBamboo*0.7 + aDrop*0.3\n    aRight = aBamboo*0.3 + aDrop*0.7\n    \n    outs aLeft, aRight\nendin\n\ninstr 3\n    ; Walking through forest\n    ; Footsteps with environmental sounds\n    kTime timeinsts\n    kStep = int(kTime * 2) % 2  ; Alternating steps\n    \n    ; Footstep crunch\n    kCrunchAmp linseg 0, 0.02, 1, 0.08, 0.5, p3-0.1, 0\n    aCrunch crunch kCrunchAmp*0.5, p3, 10, 0.02\n    \n    ; Rustling leaves (sandpaper)\n    kRustleAmp randomi 0.2, 0.5, 5\n    aSand sandpaper kRustleAmp*0.3, p3, 64, 0.05\n    \n    ; Mix\n    aMix = aCrunch*0.6 + aSand*0.4\n    \n    ; Pan based on step\n    iPan = (kStep == 0 ? 0.3 : 0.7)\n    aLeft = aMix * sqrt(1 - iPan)\n    aRight = aMix * sqrt(iPan)\n    \n    outs aLeft, aRight\nendin\n\ninstr 4\n    ; Rainstorm scene\n    kIntensity linseg 0.3, p3*0.2, 0.9, p3*0.6, 0.9, p3*0.2, 0.4\n    \n    ; Rain (water drops)\n    kRainAmp randomi 0.4, 1, 12\n    aRain dripwater kRainAmp*kIntensity*0.4, p3, 60, 0.03\n    \n    ; Wind (bamboo)\n    kWindAmp randomi 0.3, 0.8, 1.5\n    aWind bamboo kWindAmp*kIntensity*0.35, p3, 2.5, 0.02\n    \n    ; Thunder rumble (low sandpaper)\n    kThunderAmp randomi 0, 0.6, 0.3\n    aThunder sandpaper kThunderAmp*kIntensity*0.25, p3, 512, 0.1\n    aThunder tone aThunder, 200\n    \n    ; Mix\n    aMix = aRain + aWind + aThunder\n    \n    ; Stereo spread\n    aLeft = aMix + (aWind*0.3)\n    aRight = aMix + (aRain*0.3)\n    \n    outs aLeft*0.6, aRight*0.6\nendin\n\ninstr 5\n    ; Samba rhythm pattern\n    kTime timeinsts\n    kBeat = int(kTime * 4) % 4\n    \n    ; Tambourine on all beats\n    kTambAmp = (kBeat >= 0 ? 1 : 0.3)\n    kTambAmp = kTambAmp * linseg(0, 0.01, 1, 0.1, 0.3, p3-0.11, 0)\n    aTamb tambourine kTambAmp*0.4, p3, 32, 0.12\n    \n    ; Cabasa accent on beats 2 and 4\n    kCabasaAmp = ((kBeat == 1 || kBeat == 3) ? 0.8 : 0.2)\n    kCabasaAmp = kCabasaAmp * linseg(0, 0.01, 1, p3-0.01, 0)\n    aCabasa cabasa kCabasaAmp*0.35, p3, 256, 0.1\n    \n    ; Mix\n    aMix = aTamb + aCabasa\n    \n    outs aMix*0.7, aMix*0.7\nendin\n\ninstr 6\n    ; Construction site sounds\n    ; Sanding, scraping, crunching\n    kAmp linseg 0.5, p3, 0.3\n    \n    ; Power sander\n    kSandAmp oscili 0.3, 10, -1, 0\n    kSandAmp = 0.5 + abs(kSandAmp)\n    aSand sandpaper kSandAmp*kAmp*0.4, p3, 256, 0.05\n    \n    ; Gravel/debris\n    kCrunchAmp randomi 0.3, 0.7, 6\n    aCrunch crunch kCrunchAmp*kAmp*0.35, p3, 15, 0.03\n    \n    ; Scraping metal\n    kScrapeTrem oscili 0.4, 3, -1, 0\n    kScrapeAmp = 0.4 + abs(kScrapeTrem)\n    aScrape sandpaper kScrapeAmp*kAmp*0.3, p3, 128, 0.0\n    \n    ; Mix\n    aMix = aSand + aCrunch*0.8 + aScrape*0.6\n    \n    outs aMix*0.6, aMix*0.6\nendin\n\ninstr 7\n    ; Zen garden meditation\n    kAmp linseg 0, p3*0.15, 1, p3*0.7, 1, p3*0.15, 0\n    \n    ; Bamboo fountain\n    kBambooTrig metro 0.5\n    kBambooAmp = (kBambooTrig > 0 ? 1 : 0)\n    kBambooAmp = kBambooAmp * linseg(0, 0.02, 1, 0.3, 0, p3-0.32, 0)\n    aBamboo bamboo kBambooAmp*kAmp*0.35, p3, 1.5, 0.0, 0, 2400, 3800, 5200\n    \n    ; Trickling water\n    kWaterAmp randomi 0.5, 1, 2\n    aWater dripwater kWaterAmp*kAmp*0.3, p3, 15, 0.0, 0, 1600, 2400, 3200\n    \n    ; Raked sand (soft)\n    kSandAmp linseg 0, p3*0.3, 0.3, p3*0.4, 0.3, p3*0.3, 0\n    aSand sandpaper kSandAmp*kAmp*0.25, p3, 128, 0.15\n    \n    ; Mix with reverb\n    aMix = aBamboo + aWater + aSand\n    aRvbL, aRvbR freeverb aMix, aMix, 0.8, 0.5\n    \n    outs aRvbL*0.5, aRvbR*0.5\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play latin percussion\ni1 0 2\ni1 2.5 2\n\n; Play ambient soundscape\ni2 5.5 6\n\n; Play forest walk\ni3 12.5 1\ni3 14 1\ni3 15.5 1\ni3 17 1\n\n; Play rainstorm\ni4 19 8\n\n; Play samba rhythm\ni5 28 2\ni5 30 2\n\n; Play construction\ni6 33 4\n\n; Play zen garden\ni7 38 10\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
