{"instruction": "Write a CSound instrument that demonstrates SuperCollider-style opcodes", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; sc_lag and sc_lagud (if available)\n    ; These implement SuperCollider-style lag filters\n    ; Used for smoothing control signals\n    \n    ; Basic smoothing example\n    iAmp = 0.5\n    iFreq = p4\n    \n    ; Target frequency with smoothing\n    kTarget = iFreq\n    kLagTime = 0.1\n    \n    ; Smooth transition\n    kFreq port kTarget, kLagTime\n    \n    aOsc poscil iAmp, kFreq, 1\n    \n    outs aOsc, aOsc\nendin\n\ninstr 2\n    ; sconc opcode (if available)\n    ; SuperCollider-style operations\n    ; This demonstrates conceptual usage\n    \n    iAmp = 0.5\n    iFreq = p4\n    \n    ; Multiple oscillators with slight detuning\n    aOsc1 poscil iAmp*0.4, iFreq, 1\n    aOsc2 poscil iAmp*0.3, iFreq*1.01, 1\n    aOsc3 poscil iAmp*0.3, iFreq*0.99, 1\n    \n    aMix = aOsc1 + aOsc2 + aOsc3\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; scoscil opcode (if available)\n    ; SuperCollider-style oscillator\n    ; Demonstrating similar functionality\n    \n    iAmp = 0.5\n    iFreq = p4\n    \n    ; Phase-locked oscillators\n    aOsc1 poscil iAmp, iFreq, 1, 0\n    aOsc2 poscil iAmp*0.5, iFreq*2, 1, 0.25\n    \n    aMix = (aOsc1 + aOsc2) * 0.6\n    \n    outs aMix, aMix\nendin\n\ninstr 4\n    ; SuperCollider-inspired envelope\n    iAmp = 0.5\n    iFreq = p4\n    \n    ; Percussive envelope (SC style)\n    kEnv expseg 1, 0.01, 0.8, 0.05, 0.3, p3-0.06, 0.01\n    \n    aOsc poscil iAmp*kEnv, iFreq, 1\n    \n    outs aOsc, aOsc\nendin\n\n</CsInstruments>\n<CsScore>\n\nf1 0 16384 10 1\n\n; Play smoothed control\ni1 0 2 440\n\n; Play detuned mix\ni2 3 2 330\n\n; Play phase-locked\ni3 6 2 523\n\n; Play percussive\ni4 9 1 294\ni4 10 1 392\ni4 11 1 523\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
