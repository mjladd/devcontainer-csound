{"instruction": "Write a CSound instrument that demonstrates signal monitoring opcodes: monitor, display, dispfft, fftdisp", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; monitor opcode: monitor asig1 [, asig2] [, ...]\n    ; Monitor audio signals (useful for debugging)\n    ; Signals are sent to output for monitoring\n    \n    aOsc1 oscili 0.3, 440, -1\n    aOsc2 vco2 0.3, 330, 10\n    \n    ; Monitor both signals\n    monitor aOsc1, aOsc2\n    \n    ; Mix for output\n    aMix = (aOsc1 + aOsc2) * 0.5\n    \n    outs aMix, aMix\nendin\n\ninstr 2\n    ; display opcode: display asig, iprd [, inpts]\n    ; Display waveform in real-time\n    ; iprd - period between updates (seconds)\n    ; inpts - number of points to display\n    \n    aIn buzz 0.3, 220, 15, -1\n    \n    ; Display waveform every 0.1 seconds\n    display aIn, 0.1\n    \n    outs aIn, aIn\nendin\n\ninstr 3\n    ; dispfft opcode: dispfft asig, iprd, iwtflg [, idbout] [, iqout]\n    ; Display FFT analysis\n    ; iprd - period between FFT updates\n    ; iwtflg - window type flag\n    ; idbout - dB output flag\n    ; iqout - phase display flag\n    \n    aIn vco2 0.3, 330, 0\n    \n    ; Display FFT every 0.2 seconds\n    ; Window flag: 0=rectangular, 1=Hamming, 2=Hanning\n    dispfft aIn, 0.2, 1\n    \n    outs aIn, aIn\nendin\n\ninstr 4\n    ; Monitoring complex signal\n    ; Multiple components for analysis\n    \n    ; Generate complex signal\n    aOsc1 oscili 0.15, 220, -1\n    aOsc2 oscili 0.15, 440, -1\n    aOsc3 oscili 0.15, 660, -1\n    aNoise rand 0.1\n    \n    aComplex = aOsc1 + aOsc2 + aOsc3 + aNoise\n    \n    ; Display waveform\n    display aComplex, 0.1\n    \n    ; Display FFT\n    dispfft aComplex, 0.2, 2  ; Hanning window\n    \n    outs aComplex, aComplex\nendin\n\ninstr 5\n    ; Monitoring with filtering\n    ; Monitor signal before and after processing\n    \n    ; Original signal\n    aOrig buzz 0.3, 165, 25, -1\n    \n    ; Filtered version\n    kCf linseg 500, p3, 3000\n    aFilt butterlp aOrig, kCf\n    \n    ; Monitor both\n    monitor aOrig, aFilt\n    \n    ; Display filtered signal\n    display aFilt, 0.1\n    \n    outs aOrig*0.4, aFilt*0.6\nendin\n\ninstr 6\n    ; Real-time spectrum monitoring\n    aIn vco2 0.3, 110, 10\n    aIn *= linseg(1, p3*0.5, 0.5, p3*0.5, 1)\n    \n    ; Add harmonics that change over time\n    kHarm linseg 5, p3, 25\n    aIn = vco2(0.3, 110, kHarm)\n    \n    ; Display FFT with dB output\n    dispfft aIn, 0.15, 1, 1  ; Hamming window, dB output\n    \n    outs aIn, aIn\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 2\ni2 3 2\ni3 6 3\ni4 10 3\ni5 14 3\ni6 18 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates monitoring multiple channels and debugging audio routing", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Global buses for routing\nga1 init 0\nga2 init 0\n\ninstr 1\n    ; Multi-channel monitoring\n    ; Generate separate channels\n    \n    aLeft oscili 0.3, 440, -1\n    aRight vco2 0.3, 330, 10\n    \n    ; Monitor both channels separately\n    monitor aLeft, aRight\n    \n    ; Display left channel\n    display aLeft, 0.1, 512\n    \n    outs aLeft, aRight\nendin\n\ninstr 2\n    ; Debugging bus routing\n    ; Send to global bus and monitor\n    \n    aOsc buzz 0.3, 220, 15, -1\n    \n    ; Send to bus\n    ga1 = ga1 + aOsc*0.7\n    \n    ; Monitor what's in the bus\n    monitor ga1\n    \n    ; Display bus content\n    display ga1, 0.1\nendin\n\ninstr 3\n    ; Master bus monitor\n    ; Read from bus and output\n    \n    ; Add reverb to bus signal\n    aRev reverb ga1, 1.5\n    \n    ; Monitor processed signal\n    monitor ga1, aRev\n    \n    ; Mix and output\n    aMix = ga1*0.7 + aRev*0.3\n    \n    outs aMix, aMix\n    \n    ; Clear bus\n    ga1 = 0\nendin\n\ninstr 4\n    ; FFT monitoring of processed signal\n    aIn vco2 0.3, 165, 0\n    \n    ; Process with time-varying filter\n    kCf linseg 300, p3, 2000\n    aFilt butterlp aIn, kCf\n    \n    ; Monitor FFT of filtered signal\n    dispfft aFilt, 0.2, 2, 1  ; Hanning, dB output\n    \n    outs aFilt, aFilt\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Test multi-channel monitoring\ni1 0 2\n\n; Test bus routing\ni2 3 2\ni3 3 2.5\n\n; Test FFT monitoring\ni4 6 4\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
