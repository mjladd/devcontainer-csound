{"instruction": "Write a CSound instrument that demonstrates amplitude envelope processing opcodes: envlpx, envlpxr, transeg, transegr", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; envlpx opcode: ares envlpx xamp, irise, idur, idec, ifn, iatss, iatdec [, ixmod]\n    ; Sophisticated envelope with configurable curves\n    ; xamp - amplitude\n    ; irise - rise time (seconds)\n    ; idur - overall duration\n    ; idec - decay time (seconds)\n    ; ifn - function table for envelope shape\n    ; iatss - attack segment type (0=linear, 1=exponential)\n    ; iatdec - decay segment type\n    ; ixmod - exponential modifier\n    \n    ; Oscillator\n    aOsc oscili 0.3, 440, -1, 0\n    \n    ; Apply envelope\n    iRise = 0.1\n    iDur = p3\n    iDec = 0.3\n    iFn = -1  ; Linear segments\n    iAtSs = 0  ; Linear attack\n    iAtDec = 1  ; Exponential decay\n    \n    aEnv envlpx 1, iRise, iDur, iDec, iFn, iAtSs, iAtDec\n    \n    aOut = aOsc * aEnv\n    \n    outs aOut, aOut\nendin\n\ninstr 2\n    ; envlpxr opcode: ares envlpxr xamp, irise, irelease, ifn, iatss, iatdec [, ixmod]\n    ; Envelope with MIDI-style release\n    ; irelease - release time after note off\n    \n    aOsc oscili 0.3, 330, -1, 0\n    \n    iRise = 0.05\n    iRelease = 0.4\n    iFn = -1\n    iAtSs = 1  ; Exponential attack\n    iAtDec = 1  ; Exponential release\n    \n    aEnv envlpxr 1, iRise, iRelease, iFn, iAtSs, iAtDec\n    \n    aOut = aOsc * aEnv\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; transeg opcode: ares transeg ia, idur1, itype1, ib [, idur2, itype2, ic] [...]\n    ; Multi-segment envelope with different curve types\n    ; ia, ib, ic - breakpoint values\n    ; idur - duration of segment\n    ; itype - curve type (positive=exponential, negative=other curves)\n    \n    aOsc oscili 0.3, 220, -1, 0\n    \n    ; Complex envelope\n    aEnv transeg 0, 0.05, 5, 1, 0.1, -3, 0.7, p3-0.45, 0, 0.5, 0.3, -5, 0\n    \n    aOut = aOsc * aEnv\n    \n    outs aOut, aOut\nendin\n\ninstr 4\n    ; transegr opcode: ares transegr ia, idur1, itype1, ib [, idur2, itype2, ic] [...], irel, ireltype, irelval\n    ; transeg with release segment\n    ; irel - release duration\n    ; ireltype - release curve type\n    ; irelval - final release value\n    \n    aOsc oscili 0.3, 165, -1, 0\n    \n    ; Envelope with release\n    aEnv transegr 0, 0.03, 4, 1, 0.05, -2, 0.8, 0.1, 0, 0.7, 0.5, -8, 0\n    \n    aOut = aOsc * aEnv\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 2\ni2 2.5 1.5\ni3 4.5 3\ni4 8 2\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates cosine segment envelope opcodes: cosseg, cossegr", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; cosseg opcode: ares cosseg ia, idur1, ib [, idur2, ic] [...]\n    ; Cosine interpolated segments (smooth curves)\n    ; ia, ib, ic - breakpoint values\n    ; idur - duration of each segment\n    \n    aOsc oscili 0.3, 440, -1, 0\n    \n    ; Smooth cosine envelope\n    aEnv cosseg 0, 0.15, 1, 0.2, 0.7, p3-0.55, 0.7, 0.2, 0\n    \n    aOut = aOsc * aEnv\n    \n    outs aOut, aOut\nendin\n\ninstr 2\n    ; cossegr opcode: ares cossegr ia, idur1, ib [, idur2, ic] [...], irel, irelval\n    ; cosseg with release segment\n    ; irel - release duration\n    ; irelval - final release value\n    \n    aOsc oscili 0.3, 330, -1, 0\n    \n    ; Envelope with smooth release\n    aEnv cossegr 0, 0.08, 1, 0.15, 0.8, 0.3, -3, 0\n    \n    aOut = aOsc * aEnv\n    \n    outs aOut, aOut\nendin\n\ninstr 3\n    ; Complex cosseg envelope\n    aSaw vco2 0.25, 220, 0\n    \n    ; Multi-segment smooth envelope\n    aEnv cosseg 0, 0.05, 0.3, 0.1, 1, 0.2, 0.9, 0.3, 0.6, p3-0.95, 0.6, 0.3, 0\n    \n    aOut = aSaw * aEnv\n    \n    outs aOut, aOut\nendin\n\ninstr 4\n    ; Comparing linear vs cosine\n    aPulse vco2 0.3, 165, 2, 0.4\n    \n    ; Cosine envelope (smooth)\n    aEnvCos cosseg 0, 0.2, 1, p3-0.4, 1, 0.2, 0\n    \n    aOut = aPulse * aEnvCos\n    \n    outs aOut, aOut\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 2\ni2 2.5 1.5\ni3 4.5 3\ni4 8 2\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
