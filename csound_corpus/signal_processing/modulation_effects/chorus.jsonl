{"instruction": "Write a CSound instrument that demonstrates the chorus opcode for chorus effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; chorus opcode: a1, a2 chorus asig, kpreset, kgain, \\ \n    ;                idepth, idelay [, iseed] [, iprelay]\n    ; Stereo chorus effect\n    ; asig - input signal\n    ; kpreset - chorus preset (1-9)\n    ; kgain - output gain\n    ; idepth - modulation depth (0-1)\n    ; idelay - base delay time (ms, typically 5-30)\n    ; iseed - random seed (optional)\n    ; iprelay - predelay (optional)\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.3, 220, 0\n    \n    ; Apply chorus\n    kPreset = 1\n    kGain = 1\n    iDepth = 0.8\n    iDelay = 15\n    \n    aChorusL, aChorusR chorus aSaw, kPreset, kGain, iDepth, iDelay\n    \n    outs aChorusL, aChorusR\nendin\n\ninstr 2\n    ; Subtle chorus\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 165, 2, 0.4\n    \n    ; Subtle settings\n    kPreset = 2\n    kGain = 0.9\n    iDepth = 0.4\n    iDelay = 10\n    \n    aL, aR chorus aPulse, kPreset, kGain, iDepth, iDelay\n    \n    outs aL, aR\nendin\n\ninstr 3\n    ; Deep chorus\n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Square wave\n    aSq vco2 kAmp*0.3, 110, 2\n    \n    ; Deep chorus\n    kPreset = 5\n    kGain = 1.1\n    iDepth = 0.95\n    iDelay = 25\n    \n    aL, aR chorus aSq, kPreset, kGain, iDepth, iDelay\n    \n    outs aL, aR\nendin\n\ninstr 4\n    ; Changing preset\n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Sawtooth\n    aSaw1 vco2 kAmp*0.15, 110, 0\n    aSaw2 vco2 kAmp*0.15, 110.5, 0\n    aSrc = aSaw1 + aSaw2\n    \n    ; Sweep presets\n    kPreset linseg 1, p3*0.33, 3, p3*0.33, 6, p3*0.34, 8\n    kGain = 1\n    iDepth = 0.7\n    iDelay = 18\n    \n    aL, aR chorus aSrc, kPreset, kGain, iDepth, iDelay\n    \n    outs aL, aR\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 4.5 4\ni3 9 4\ni4 13.5 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
