{"instruction": "Write a CSound instrument that demonstrates phasing opcodes: phaser1, phaser2", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; phaser1 opcode: ares phaser1 asig, kfreq, kord, kfeedback [, iskip]\n    ; First-order allpass phaser\n    ; asig - input signal\n    ; kfreq - center frequency (Hz)\n    ; kord - number of stages (1-4, higher = more notches)\n    ; kfeedback - feedback amount (-1 to 1)\n    ; iskip - skip initialization\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.3, 220, 0\n    \n    ; Sweep phaser\n    kFreq expseg 200, p3*0.5, 3000, p3*0.5, 500\n    kOrd = 4\n    kFeedback = 0.6\n    \n    aPhase phaser1 aSaw, kFreq, kOrd, kFeedback\n    \n    outs aPhase, aPhase\nendin\n\ninstr 2\n    ; Subtle phaser\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 165, 2, 0.4\n    \n    ; LFO modulation\n    kLFO oscili 1000, 0.3, -1, 0\n    kFreq = 800 + kLFO\n    kOrd = 2\n    kFeedback = 0.4\n    \n    aPhase phaser1 aPulse, kFreq, kOrd, kFeedback\n    \n    outs aPhase, aPhase\nendin\n\ninstr 3\n    ; phaser2 opcode: ares phaser2 asig, kfreq, kq, knotch, \\ \n    ;                  kmode, kverbtime, kfeedback [, iskip]\n    ; Advanced phaser with resonance\n    ; asig - input signal\n    ; kfreq - center frequency (Hz)\n    ; kq - Q factor (resonance)\n    ; knotch - number of notches (1-12)\n    ; kmode - 1=allpass, 2=notch (default 1)\n    ; kverbtime - reverb time (optional)\n    ; kfeedback - feedback amount\n    ; iskip - skip initialization\n    \n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Square wave\n    aSq vco2 kAmp*0.3, 110, 2\n    \n    ; Phaser parameters\n    kFreq expseg 300, p3*0.4, 2500, p3*0.6, 600\n    kQ = 8\n    kNotches = 6\n    kMode = 1\n    kVerbTime = 0.5\n    kFeedback = 0.7\n    \n    aPhase phaser2 aSq, kFreq, kQ, kNotches, kMode, kVerbTime, kFeedback\n    \n    outs aPhase, aPhase\nendin\n\ninstr 4\n    ; Resonant phaser\n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.25, 165, 0\n    \n    ; High Q for resonant peaks\n    kLFO oscili 800, 0.4, -1, 0\n    kFreq = 600 + kLFO\n    kQ = 12\n    kNotches = 8\n    kMode = 1\n    kVerbTime = 0.3\n    kFeedback = 0.8\n    \n    aPhase phaser2 aSaw, kFreq, kQ, kNotches, kMode, kVerbTime, kFeedback\n    \n    outs aPhase, aPhase\nendin\n\ninstr 5\n    ; Stereo phaser with different rates\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Rich source\n    aSaw1 vco2 kAmp*0.15, 110, 0\n    aSaw2 vco2 kAmp*0.15, 110.5, 0\n    aSrc = aSaw1 + aSaw2\n    \n    ; Different LFOs for L/R\n    kLFO1 oscili 1200, 0.5, -1, 0\n    kLFO2 oscili 1000, 0.37, -1, 0.25\n    \n    kFreqL = 700 + kLFO1\n    kFreqR = 800 + kLFO2\n    \n    aPhaseL phaser1 aSrc, kFreqL, 4, 0.6\n    aPhaseR phaser1 aSrc, kFreqR, 4, 0.6\n    \n    outs aPhaseL, aPhaseR\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 4.5 4\ni3 9 4\ni4 13.5 4\ni5 18 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
