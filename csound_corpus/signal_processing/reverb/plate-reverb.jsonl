{"instruction": "Write a CSound instrument that demonstrates the platerev opcode for plate reverb simulation", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; platerev opcode: aoutL, aoutR platerev ainL, ainR, kbandwidth, ktail, kblend [, isamplerate] [, iskip]\n    ; Plate reverb simulation\n    ; ainL, ainR - stereo input\n    ; kbandwidth - bandwidth (0-1, affects density)\n    ; ktail - tail length (0-1, affects decay time)\n    ; kblend - wet/dry mix (0-1, 0=dry, 1=wet)\n    ; isamplerate - sample rate (optional)\n    ; iskip - skip initialization\n    \n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Pluck sound\n    aPluck pluck kAmp*0.4, 440, 440, 0, 1\n    \n    ; Plate reverb\n    kBW = 0.7\n    kTail = 0.75\n    kBlend = 0.8\n    \n    aRevL, aRevR platerev aPluck, aPluck, kBW, kTail, kBlend\n    \n    outs aRevL, aRevR\nendin\n\ninstr 2\n    ; Bright plate\n    kAmp madsr 0.015, 0.08, 0.65, 0.25\n    \n    ; Pulse wave\n    aPulse vco2 kAmp*0.3, 330, 2, 0.4\n    aEnv expon 1, 0.2, 0.01\n    aSound = aPulse * aEnv\n    \n    ; Bright, short plate\n    kBW = 0.9\n    kTail = 0.4\n    kBlend = 0.9\n    \n    aRevL, aRevR platerev aSound, aSound, kBW, kTail, kBlend\n    \n    outs aRevL, aRevR\nendin\n\ninstr 3\n    ; Dark, long plate\n    kAmp madsr 0.02, 0.12, 0.6, 0.3\n    \n    ; Sawtooth\n    aSaw vco2 kAmp*0.25, 220, 0\n    aEnv expon 1, 0.15, 0.01\n    aSound = aSaw * aEnv\n    \n    ; Dark, long plate\n    kBW = 0.3\n    kTail = 0.95\n    kBlend = 0.85\n    \n    aRevL, aRevR platerev aSound, aSound, kBW, kTail, kBlend\n    \n    outs aRevL, aRevR\nendin\n\ninstr 4\n    ; Dynamic plate parameters\n    kAmp madsr 0.01, 0.1, 0.7, 0.2\n    \n    ; Impulse train\n    aImp mpulse kAmp*0.5, 2\n    \n    ; Sweep parameters\n    kBW linseg 0.3, p3*0.5, 0.95, p3*0.5, 0.5\n    kTail linseg 0.4, p3, 0.9\n    kBlend = 0.8\n    \n    aRevL, aRevR platerev aImp, aImp, kBW, kTail, kBlend\n    \n    outs aRevL, aRevR\nendin\n\n</CsInstruments>\n<CsScore>\n\ni1 0 4\ni2 4.5 3\ni3 8 4\ni4 12.5 5\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
