{"instruction": "Write a CSound instrument that demonstrates wave-terrain synthesis extensions", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\n; Terrain tables\ngiSine ftgen 1, 0, 8192, 10, 1\ngiSaw ftgen 2, 0, 8192, 10, 1, 0.5, 0.3, 0.25, 0.2\ngiSquare ftgen 3, 0, 8192, 10, 1, 0, 0.3, 0, 0.2\ngiTri ftgen 4, 0, 8192, 10, 1, 0, -0.11, 0, 0.04\n\ninstr 1\n    ; terrain opcode (if available)\n    ; terrain performs wave-terrain synthesis\n    ; Similar to wterrain but may have different parameters\n    \n    ; Using wterrain as reference\n    kAmp = 0.4\n    kPch = p4\n    \n    kx = 0\n    ky = 0\n    krx = 0.5\n    kry = 0.5\n    krot = 1\n    \n    aTerr wterrain kAmp, kPch, kx, ky, krx, kry, krot, giSine, giSaw, giSquare, giTri\n    \n    outs aTerr, aTerr\nendin\n\ninstr 2\n    ; wterrain2 opcode (extended wave-terrain)\n    ; May offer additional control parameters\n    ; Using standard wterrain as basis\n    \n    kAmp = 0.4\n    kPch = p4\n    \n    ; Moving orbit\n    kx poscil 0.4, 0.5, giSine\n    ky poscil 0.3, 0.7, giSine, 0.25\n    \n    krx = 0.4\n    kry = 0.4\n    krot = 1.2\n    \n    aTerr wterrain kAmp, kPch, kx, ky, krx, kry, krot, giSine, giSaw, giSquare, giTri\n    \n    outs aTerr, aTerr\nendin\n\ninstr 3\n    ; Complex terrain motion\n    kAmp = 0.4\n    kPch = p4\n    \n    ; Multiple modulation sources\n    kx1 poscil 0.3, 0.3, giSine\n    kx2 poscil 0.2, 0.8, giSine\n    kx = kx1 + kx2\n    \n    ky1 poscil 0.25, 0.5, giSine\n    ky2 poscil 0.15, 1.2, giSine\n    ky = ky1 + ky2\n    \n    ; Variable radii\n    krx linseg 0.2, p3, 0.7\n    kry linseg 0.7, p3, 0.2\n    \n    krot = 1.5\n    \n    aTerr wterrain kAmp, kPch, kx, ky, krx, kry, krot, giSaw, giSquare, giTri, giSine\n    \n    outs aTerr, aTerr\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play basic terrain\ni1 0 3 220\n\n; Play moving terrain\ni2 4 4 330\n\n; Play complex terrain\ni3 9 5 294\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
