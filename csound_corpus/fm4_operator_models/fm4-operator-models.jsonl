{"instruction": "Write a CSound instrument that demonstrates FM operator models with fmb3", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; fmb3 opcode: ares fmb3 kcarfreq, kindex, kxcar, kxmod, kvdepth, kvrate\n    ; fmb3 implements a basic 3-operator FM algorithm\n    ; kcarfreq - carrier frequency\n    ; kindex - modulation index\n    ; kxcar - carrier multiplier\n    ; kxmod - modulator multiplier\n    ; kvdepth - vibrato depth\n    ; kvrate - vibrato rate\n    \n    iAmp = 0.5\n    kCarFreq = p4\n    kIndex = 5\n    kCarMult = 1\n    kModMult = 2\n    kVibDepth = 0\n    kVibRate = 0\n    \n    aFM fmb3 kCarFreq, kIndex, kCarMult, kModMult, kVibDepth, kVibRate\n    \n    outs aFM*iAmp, aFM*iAmp\nendin\n\ninstr 2\n    ; fmbell opcode: ares fmbell kamp, kfreq, kc1, kc2, kvdepth, kvrate [, ifn1, ifn2, ifn3, ifn4, ivfn]\n    ; fmbell simulates tubular bell using FM\n    ; kamp - amplitude\n    ; kfreq - frequency\n    ; kc1, kc2 - control parameters\n    ; kvdepth, kvrate - vibrato\n    \n    iAmp = 0.5\n    kFreq = p4\n    kC1 = 5\n    kC2 = 5\n    kVibDepth = 0.5\n    kVibRate = 6\n    \n    aBell fmbell iAmp, kFreq, kC1, kC2, kVibDepth, kVibRate\n    \n    outs aBell, aBell\nendin\n\ninstr 3\n    ; fmrhode opcode: ares fmrhode kamp, kfreq, kc1, kc2, kvdepth, kvrate [, ifn1, ifn2, ifn3, ifn4, ivfn]\n    ; fmrhode simulates Rhodes electric piano\n    ; kamp - amplitude\n    ; kfreq - frequency\n    ; kc1, kc2 - control parameters (typically 0.5-2)\n    \n    iAmp = 0.5\n    kFreq = p4\n    kC1 = 1\n    kC2 = 1\n    kVibDepth = 0.1\n    kVibRate = 5\n    \n    aRhodes fmrhode iAmp, kFreq, kC1, kC2, kVibDepth, kVibRate\n    \n    outs aRhodes, aRhodes\nendin\n\ninstr 4\n    ; fmwurlie opcode: ares fmwurlie kamp, kfreq, kc1, kc2, kvdepth, kvrate [, ifn1, ifn2, ifn3, ifn4, ivfn]\n    ; fmwurlie simulates Wurlitzer electric piano\n    ; Similar parameters to fmrhode but different character\n    \n    iAmp = 0.5\n    kFreq = p4\n    kC1 = 1\n    kC2 = 1\n    kVibDepth = 0.1\n    kVibRate = 5\n    \n    aWurly fmwurlie iAmp, kFreq, kC1, kC2, kVibDepth, kVibRate\n    \n    outs aWurly, aWurly\nendin\n\ninstr 5\n    ; fmpercfl opcode: ares fmpercfl kamp, kfreq, kc1, kc2, kvdepth, kvrate [, ifn1, ifn2, ifn3, ifn4, ivfn]\n    ; fmpercfl simulates percussive flute\n    ; kc1, kc2 control breath noise and articulation\n    \n    iAmp = 0.5\n    kFreq = p4\n    kC1 = 2\n    kC2 = 1\n    kVibDepth = 0.3\n    kVibRate = 4\n    \n    aFlute fmpercfl iAmp, kFreq, kC1, kC2, kVibDepth, kVibRate\n    \n    outs aFlute, aFlute\nendin\n\ninstr 6\n    ; fmvoice opcode: ares fmvoice kamp, kfreq, kphoneme, kform, kvibf, kvamp [, ifn1, ifn2, ifn3, ifn4, ivfn]\n    ; fmvoice simulates vocal sounds\n    ; kphoneme - phoneme selector\n    ; kform - formant shifter\n    \n    iAmp = 0.5\n    kFreq = p4\n    kPhoneme = p5\n    kForm = 1\n    kVibFreq = 5\n    kVibAmp = 0.05\n    \n    aVoice fmvoice iAmp, kFreq, kPhoneme, kForm, kVibFreq, kVibAmp\n    \n    outs aVoice, aVoice\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play fmb3\ni1 0 2 440\ni1 2.5 2 523\n\n; Play bell\ni2 5.5 3 330\ni2 8.5 3 440\n\n; Play Rhodes\ni3 12.5 2 294\ni3 14.5 2 392\ni3 16.5 2 523\n\n; Play Wurlitzer\ni4 19.5 2 330\ni4 21.5 2 440\n\n; Play percussive flute\ni5 24.5 2 523\ni5 26.5 2 659\n\n; Play voice\n; Format: start dur freq phoneme\ni6 29.5 2 220 0\ni6 31.5 2 220 1\ni6 33.5 2 220 2\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a CSound instrument that demonstrates advanced FM operator model techniques", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ninstr 1\n    ; Dynamic Rhodes with expression\n    kFreq = p4\n    \n    ; Envelope\n    kEnv madsr 0.01, 0.1, 0.7, 0.5\n    kAmp = kEnv * 0.5\n    \n    ; Dynamic control parameters\n    kC1 = 1 + kEnv * 0.5\n    kC2 = 1\n    kVibDepth = 0.1\n    kVibRate = 5\n    \n    aRhodes fmrhode kAmp, kFreq, kC1, kC2, kVibDepth, kVibRate\n    \n    outs aRhodes, aRhodes\nendin\n\ninstr 2\n    ; Bell with decay\n    kFreq = p4\n    \n    ; Exponential decay\n    kEnv expseg 1, p3, 0.01\n    kAmp = kEnv * 0.6\n    \n    ; Brightness fades\n    kC1 linseg 8, p3, 2\n    kC2 = 5\n    kVibDepth = 0.3\n    kVibRate = 6\n    \n    aBell fmbell kAmp, kFreq, kC1, kC2, kVibDepth, kVibRate\n    \n    outs aBell, aBell\nendin\n\ninstr 3\n    ; Flute with breath control\n    kFreq = p4\n    \n    ; Breath envelope\n    kEnv linseg 0, 0.1, 1, p3-0.3, 1, 0.2, 0\n    kAmp = kEnv * 0.5\n    \n    ; Breath noise varies\n    kC1 linseg 1, p3*0.3, 3, p3*0.7, 1\n    kC2 = 1\n    kVibDepth linseg 0, 0.5, 0.4, p3-0.5, 0.4\n    kVibRate = 4.5\n    \n    aFlute fmpercfl kAmp, kFreq, kC1, kC2, kVibDepth, kVibRate\n    \n    outs aFlute, aFlute\nendin\n\ninstr 4\n    ; Morphing voice\n    kFreq = p4\n    \n    kAmp = 0.5\n    \n    ; Morph through phonemes\n    kPhoneme linseg 0, p3, 4\n    kForm = 1\n    kVibFreq = 5.5\n    kVibAmp = 0.08\n    \n    aVoice fmvoice kAmp, kFreq, kPhoneme, kForm, kVibFreq, kVibAmp\n    \n    outs aVoice, aVoice\nendin\n\ninstr 5\n    ; Layered Rhodes and Wurlitzer\n    kFreq = p4\n    \n    kEnv madsr 0.01, 0.1, 0.8, 0.4\n    kAmp = kEnv * 0.35\n    \n    kC1 = 1\n    kC2 = 1\n    kVibDepth = 0.1\n    kVibRate = 5\n    \n    aRhodes fmrhode kAmp, kFreq, kC1, kC2, kVibDepth, kVibRate\n    aWurly fmwurlie kAmp, kFreq*1.002, kC1, kC2, kVibDepth, kVibRate\n    \n    aMix = aRhodes + aWurly\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play expressive Rhodes\ni1 0 2 294\ni1 2 2 330\ni1 4 2 392\n\n; Play decaying bells\ni2 7 4 523\ni2 11 4 440\n\n; Play expressive flute\ni3 16 3 523\ni3 19 3 659\n\n; Play morphing voice\ni4 23 4 196\n\n; Play layered e-pianos\ni5 28 2 220\ni5 30 2 247\ni5 32 2 294\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
