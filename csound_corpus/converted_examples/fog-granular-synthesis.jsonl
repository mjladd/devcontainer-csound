{"instruction": "Write a Csound instrument for insnd     =         1 using FOG granular synthesis and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fog1.orc and fog1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n          \n          instr 1 \ninsnd     =         1 \nkfund     =         p5\niolaps    =         p5 * 2\nktrans    linseg    1, p3*.25, 1, p3*.25, 1.5, p3*.25, .5\nkdur      =         .23\naspd      line      0, p3, 1\n;  ar     fog       xamp, xdens, xtrans, xspd, koct, kband, kris, kdur, kdec, iolaps, ifna, ifnb, itotdur[, iphs][, itmode]\na1        fog       p4, kfund, ktrans, aspd, 0, 0, kdur*.1, kdur, kdur*.1, iolaps, insnd, 2, p3, 0, 1\n          out a1\n          endin\n\n</CsInstruments>\n<CsScore>\nf1  0  131072  1  \"hellorcb.aif\"  0 4 0\nf2  0   1024   7   0  1024  1            \n\ni1  0 10 10000 5\ns\ni1  0 10 5000 50\ns\ni1  0 10 1000 500\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for test fof2 using FOF formant synthesis and FOG granular synthesis and FOF formant synthesis with glissando", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fofog.orc and fofog.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n                                             \n          instr 1 ; test fof2\ninsnd     =         10                       ; ifna, INPUT SOUND FILE THROUGH gen 01\nibas      =         sr / ftlen(insnd)        ; 1:1 PLAYBACK RATE\nkfund     =         p5\niolaps    =         p5 * 2\nkform     linseg    ibas, p3/4, ibas, p3/4, ibas*.5, p3/4, ibas*2\nkdur      =         .75\nkphs      line      0, p3, 1\n;ar       fof2      xamp, xfund, xform, koct, kband, kris, kdur, kdec, iolaps, ifna, ifnb, itotdur, kphs, kgliss\na1        fof2      p4, kfund, kform, 0, 0, kdur/10, kdur, kdur/10, iolaps, insnd, 2, p3, kphs, 0\n          out       a1\n          endin\n\n\n          instr 2 ; test FOG\ninsnd     =         10                       ; ifna, INPUT SOUND FILE THROUGH gen 01\nibas      =         sr / ftlen(insnd)        ; 1:1 PLAYBACK RATE\nkfund     =         p5\niolaps    =         p5 * 2\nkform     linseg    1, p3/4, 1, p3/4, .8, p3/4, 1.2\nkdur      =         .19\naspd      line      0, p3, 1              ; MUST BE A-RATE, ERROR IN DOCUMENTATION (or code)\n;ar       fog       xamp, xdens, xtrans, xspd, koct, kband, kris, kdur, kdec, iolaps, ifna, ifnb, itotdur[, iphs][, itmode]\na1        fog       p4, kfund, kform, aspd, 0, 0, kdur/10, kdur, kdur/10, iolaps, insnd, 2, p3, 0, 1\n          out       a1\n          endin\n\n</CsInstruments>\n<CsScore>\nf2   0   1024   7   0  1024  1              ; STRAIGHT LINE RISE\nf10  0  131072  1  \"hellorcb.aif\"  0 4 0    ; SOME SOUND FILE, USE CONTINUOUS SOUND\n\ni1  0  10 10000 5               ; PLAY FOF2 WITH SOME TIME-STRETCH & PITCH CHANGE\ni2  10 20 10000 5               ; ...AND THEN FOG\ns\ni1  0  10 5000  50              ; PLAY FOF2 WITH SOME TIME-STRETCH & PITCH CHANGE\ni2  10 20 5000 50               ; ...AND THEN FOG\ns\ni1  0  10 1000  500             ; PLAY FOF2 WITH SOME TIME-STRETCH & PITCH CHANGE\ni2  10 20 1000 500              ; ...AND THEN FOG\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for insnd     =         10 using FOG granular synthesis and vibraphone physical model and FOF formant synthesis with glissando", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FOG.ORC and FOG.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr  1\n\ninsnd     =         10\nibas      =         sr/ftlen(insnd)\nkfund     =         38\nkform     =         ibas\n\nkphs      line      0, p3, 1\nkgliss    line      0, p3, .5\n\nkdur      =         2.5/kfund\nkris      =         kdur/2.1\nkdec      =         kris\niolaps    =         20\na1        fof2      23000, kfund, kform, 0, 0, kris, kdur, kdec, iolaps, insnd, 7, p3, kphs, kgliss\n          out       a1\n\n          endin\n\n          instr   2\n\np3        =         1\niamp      =         p4\nifqc      =         cpspch(p5)\n\na1        vibes     iamp, ifqc, .5, .561, 1, 6, .05, 1, .1\n\n          out       a1\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1\n;f7 0 8192 7 0 8192 1\n;f10 0 131072 1 \"neopren.wav\" 0 0 1\n\n;i1 0 8\n\ni2 0 .2 20000 7.00 \ni2 + .  .     7.03 \ni2 . .  .     7.04 \ni2 . .  .     7.05 \ni2 . .  .     7.07 \ni2 . .  .     7.06 \n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for p3\t=  p3 + 0.2 using voice synthesis and FOG granular synthesis and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from voice1.orc and voice1.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  1378.125\nksmps\t=  32\nnchnls\t=  2\n\n\n/* mono output file name */\n\n#define OUTFLNAME # \"_tmp.dat\" #\n\n/* ------------------------------------------- */\n\n/* parameters for spatialization */\n\n#define SOUNDSPEED\t# 340.0 #\n#define EARDIST\t\t# 0.18 #\n#define DELAYOFFS1\t# 0.02 #\n#define AMPDIST0\t# 10 #\n\n/* ------------------------------------------- */\n\n/* convert distance to delay time */\n\n#define Dist2Delay(xdst)\n# ((($xdst)/$SOUNDSPEED)+$DELAYOFFS1) #\n\n/* convert distance to amplitude */\n\n#define Dist2Amp(xdst)\n# (1/(($xdst)+1/$AMPDIST0)) #\n\n/* azimuth to LEFT channel amp. */\n\n#define Azim2AmpL(xazim)\n# abs(1.4142135*cos((($xazim)+1.570796)/2)) #\n\n/* azimuth to RIGHT channel amp. */\n\n#define Azim2AmpR(xazim)\n# abs(1.4142135*sin((($xazim)+1.570796)/2)) #\n\n/* ------------------------------------------- */\n\n/* temp macro for filtering */\n\n#define SpatFilter #\n\na_\tbutterlp\t0.333*a_L_, 500\na_1_\tbutterlp\t0.533*a_L_, 4000\na_2_\ttone\t\t0.134*a_L_, 12000\na_2_\t=  a_ + a_1_ + a_2_\n\na_\tbutterlp\t0.333*a_R_, 500\na_1_\tbutterlp\t0.533*a_R_, 4000\na_3_\ttone\t\t0.134*a_R_, 12000\na_3_\t=  a_ + a_1_ + a_3_\n\n#\n\n#define SpatStereo #\n\ni_1_\twrap i_az_, -180, 180\ni_1_\tmirror i_1_*3.141593/180, \\\n\t\t-1.570796, 1.570796\n\ni_2_\tlimit i_d_, 0, $SOUNDSPEED*0.95\n\ni_3_\t=  i_2_*cos(i_1_)\t\t/* Yd */\ni_4_\t=  i_2_*sin(i_1_) + $EARDIST/2\t/* XdL */\ni_5_\t=  i_2_*sin(i_1_) - $EARDIST/2\t/* XdR */\ni_4_\t=  sqrt(i_4_*i_4_+i_3_*i_3_)\t/* dL */\ni_5_\t=  sqrt(i_5_*i_5_+i_3_*i_3_)\t/* dR */\n\ni_2_\t=  $Dist2Amp(i_4_)\t/* amp. / L */\ni_3_\t=  $Dist2Amp(i_5_)\t/* amp. / R */\ni_6_\t=  $Azim2AmpL(i_1_)\t/* high lvl. L */\ni_7_\t=  $Azim2AmpR(i_1_)\t/* high lvl. R */\n\n/* lock i-rate variables */\n\nk_2_\tsamphold i_2_, -1, i_2_, 0\nk_3_\tsamphold i_3_, -1, i_3_, 0\nk_6_\tsamphold i_6_, -1, i_6_, 0\nk_7_\tsamphold i_7_, -1, i_7_, 0\n\na_4_\t=  a_\n\n/* delay */\n\na_L_\tdelay a_*k_2_, \\\n\t(int($Dist2Delay(i_4_)*sr+0.5)+0.01)/sr\na_R_\tdelay a_*k_3_, \\\n\t(int($Dist2Delay(i_5_)*sr+0.5)+0.01)/sr\n\n$SpatFilter\n\n/* mix output */\n\na_L_\t=  k_6_*a_L_ + (1-k_6_)*a_2_\na_R_\t=  k_7_*a_R_ + (1-k_7_)*a_3_\n\na_\t=  a_4_\n\n#\n\n/* ------------------------------------------- */\n\n/* spatializer macro */\n\n#define SPATMACRO # $SpatStereo #\n\n\n/* convert MIDI note number to frequency */\n\n#define MIDI2CPS(xmidikey)\n# (440.0*exp(log(2.0)*(($xmidikey)-69.0)/12.0)) #\n\n/* convert frequency to MIDI note number */\n\n#define CPS2MIDI(xfreqcps)\n# (12.0*(log(($xfreqcps)/440.0)/log(2.0))+69.0) #\n\n/* convert velocity to amplitude */\n\n#define VELOC2AMP(xvelocity)\n# (0.0039+(($xvelocity)*($xvelocity))/16192.0) #\n\n/* convert amplitude to velocity */\n\n#define AMP2VELOC(xamplitude)\n# (sqrt((($xamplitude)-0.0039)*16192.0)) #\n\n/* generate ftables */\n\ni_\t=  0\n\nloop_01:\n\ni_cps_\t=  $MIDI2CPS(i_)\ni__\t=  int(i_+256.5)\nidummy\tftgen i__, 0, 16384, 11, \\\n\t\tint(sr/(2*i_cps_)), 1, 1.0\n\ttableigpw i__\ni_\t=  int(i_+1.5)\n\tif (i_<127.5) igoto loop_01\n\n/* ------------------------------------------- */\n\n#define LP1FRQ # 10.0 #\n\n\tseed 0\n\nga0x\tinit 0\n\n\tinstr 1\n\np3\t=  p3 + 0.2\n\nicps\t=  $MIDI2CPS(p4)\niamp\t=  $VELOC2AMP(p5)\niazm\t=  p6\nielv\t=  0\nidst\t=  1\n\nifnum\tlimit p4, 0, 127\t/* ftable */\nifnum\t=  int(ifnum+256.5)\t/* number */\n\nitrns\t=  icps*(16384/sr)\t/* transpose */\n\niovrlp\t=  32\t\t/* number of overlaps */\n\niamp\t=  iamp*3500000/sqrt(icps)\n\n/* ---- OSC 1 ------------------------------- */\n\niamp1\t=  0.35\t\t/* amplitude\t      */\nifmd1\t=  0.01*icps\t/* fm depth\t      */\niwsiz1\t=  32.0/icps\t/* window size        */\niffrq1\t=  icps*1.0\t/* filter freq        */\nifbwd1\t=  icps*1.0\t/* filter bandwidth   */\n\n/* ---- OSC 2 ------------------------------- */\n\niamp2\t=  1.0\t\t/* amplitude\t      */\nifmd2\t=  0.01*icps\t/* fm depth\t      */\niwsiz2\t=  32.0/icps\t/* window size        */\niffrq2\t=  800\t\t/* filter freq        */\nifbwd2\t=  80\t\t/* filter bandwidth   */\n\n/* ---- OSC 3 ------------------------------- */\n\niamp3\t=  0.6\t\t/* amplitude\t      */\nifmd3\t=  0.01*icps\t/* fm depth\t      */\niwsiz3\t=  32.0/icps\t/* window size        */\niffrq3\t=  1150\t\t/* filter freq        */\nifbwd3\t=  90\t\t/* filter bandwidth   */\n\n/* ---- OSC 4 ------------------------------- */\n\niamp4\t=  0.1\t\t/* amplitude\t      */\nifmd4\t=  0.01*icps\t/* fm depth\t      */\niwsiz4\t=  32.0/icps\t/* window size        */\niffrq4\t=  2800\t\t/* filter freq        */\nifbwd4\t=  120\t\t/* filter bandwidth   */\n\n/* ---- OSC 5 ------------------------------- */\n\niamp5\t=  0.03\t\t/* amplitude\t      */\nifmd5\t=  0.02*icps\t/* fm depth\t      */\niwsiz5\t=  16.0/icps\t/* window size        */\niffrq5\t=  3500\t\t/* filter freq        */\nifbwd5\t=  130\t\t/* filter bandwidth   */\n\n/* ---- OSC 6 ------------------------------- */\n\niamp6\t=  0.005\t/* amplitude\t      */\nifmd6\t=  0.02*icps\t/* fm depth\t      */\niwsiz6\t=  8.0/icps\t/* window size        */\niffrq6\t=  4950\t\t/* filter freq        */\nifbwd6\t=  140\t\t/* filter bandwidth   */\n\n/* ---- OSC 7 ------------------------------- */\n\niamp7\t=  0.0035\t/* amplitude\t      */\nifmd7\t=  0.02*icps\t/* fm depth\t      */\niwsiz7\t=  4.0/icps\t/* window size        */\niffrq7\t=  12000\t/* filter freq        */\nifbwd7\t=  8000\t\t/* filter bandwidth   */\n\n/* ------------------------------------------ */\n\n#define OSCILLATOR(nnum) #\n\naphs\t\tunirand 1.0\natrns\t\ttrirand 1.0\natrns\t\t=  ( (ifmd$nnum/icps)*atrns +\t\\\n\t\t\t1.0 )*itrns\nidens$nnum\t=  iovrlp/iwsiz$nnum\na$nnum\t\tfog 1.0, idens$nnum, atrns,\t\\\n\t\t\taphs, 0, 0, 0,\t\t\\\n\t\t\tiwsiz$nnum,\t\t\\\n\t\t\tiwsiz$nnum,\t\t\\\n\t\t\t64, ifnum, 1, 3600, 0, 0\na$nnum\t\tbutterbp a$nnum, iffrq$nnum,\t\\\n\t\t\tifbwd$nnum\na$nnum\t\tbutterbp a$nnum, iffrq$nnum,\t\\\n\t\t\tifbwd$nnum\na0\t\t=  a0 + a$nnum*iamp$nnum\n\n#\n\na0\t=  0\n\n$OSCILLATOR(1)\n$OSCILLATOR(2)\n$OSCILLATOR(3)\n$OSCILLATOR(4)\n$OSCILLATOR(5)\n$OSCILLATOR(6)\n$OSCILLATOR(7)\n\naamp\tlinseg 1, p3-0.2, 1, 0.1, 0, 1, 0\naamp\t=  aamp*aamp\na0x\t=  a0*iamp*aamp\n\nga0x\t=  ga0x + a0x\t/* send to output */\n\na_\t=  a0x\n\ni_az_\t=  iazm\ni_el_\t=  ielv\ni_d_\t=  idst\n\n$SPATMACRO\n\n\touts a_L_, a_R_\n\n\tendin\n\n\tinstr 90\n\n\tsoundout ga0x, $OUTFLNAME, 6\nga0x\t=  0\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt 0 140.00\t\t\t/* tempo */\n\ni 1\t0.0000\t2.0000\t60\t127\t-90\ni 1\t3.0000\t2.0000\t67\t127\t90\n\ni 1\t6.0000\t4.0000\t67\t100\t60\ni 1\t6.0000\t4.0000\t74\t100\t-60\n\ni 1\t12.000\t4.0000\t60\t88\t-30\ni 1\t12.000\t4.0000\t65\t88\t30\ni 1\t12.000\t4.0000\t67\t88\t-80\ni 1\t12.000\t4.0000\t74\t88\t80\n\ni 1\t18.000\t4.0000\t38\t88\t0\ni 1\t18.000\t4.0000\t57\t80\t90\ni 1\t18.000\t4.0000\t62\t80\t-90\ni 1\t18.000\t4.0000\t69\t80\t90\ni 1\t18.000\t4.0000\t74\t88\t40\ni 1\t18.000\t4.0000\t76\t88\t-40\ni 1\t18.000\t4.0000\t77\t88\t-90\n\n#define x1(strt) #\n\ni 1\t[ $strt + 0.000 ]\t0.1500\t62 \\\n\t\t120\t-90\ni 1\t[ $strt + 0.240 ]\t0.1500\t62 \\\n\t\t127\t-90\ni 1\t[ $strt + 0.505 ]\t0.3200\t62 \\\n\t\t124\t0\ni 1\t[ $strt + 1.000 ]\t0.1500\t62 \\\n\t\t120\t90\ni 1\t[ $strt + 1.240 ]\t0.1500\t62 \\\n\t\t127\t90\ni 1\t[ $strt + 1.505 ]\t0.3200\t62 \\\n\t\t124\t0\n\n#\n\n#define x2(strt'note'p1'p2) #\n\ni 1\t[ $strt + 0.000 ]\t0.1500 \\\n\t\t$note\t127\tp1\ni 1\t[ $strt + 0.240 ]\t0.1500 \\\n\t\t$note\t120\t<\ni 1\t[ $strt + 0.490 ]\t0.3200 \\\n\t\t$note\t126\t<\ni 1\t[ $strt + 0.995 ]\t0.3400 \\\n\t\t$note\t124\t<\ni 1\t[ $strt + 1.500 ]\t0.1250 \\\n\t\t$note\t127\t<\ni 1\t[ $strt + 1.755 ]\t0.1250 \\\n\t\t$note\t127\tp2\n\n#\n\n$x1(24)\n$x1(26)\n$x1(28)\n$x1(30)\n$x1(32)\n$x1(34)\n$x1(36)\n$x1(38)\n\n$x2(24'69'-90'-45)\n$x2(26'69'-45' 0)\n$x2(28'67' 0'45)\n$x2(30'67'45'90)\n\n$x2(32'65'90'90)\n$x2(34'65'90'90)\n$x2(36'67'90'90)\n$x2(38'67'90'90)\n\n$x2(32'70'60'30)\n$x2(34'70'30' 0)\n$x2(36'72' 0'-40)\n$x2(38'72'-40'-80)\n\ni 90\t0.0000\t42.000\n\nf 1 0 16384 20 3 1\t\t/* window */\n\t\t\t\t/* function */\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for p3\t=  p3 + 0.2 using effects processing and FOG granular synthesis and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from efx_2.orc and efx_2.sco\n; Original files preserved in same directory\n\nsr\t=  176400\nkr\t=  22050\nksmps\t=  8\nnchnls\t=  2\n\n\n/* mono output file name */\n\n#define OUTFLNAME # \"_tmp.dat\" #\n\n/* ------------------------------------------- */\n\n/* parameters for spatialization */\n\n#define SOUNDSPEED\t# 340.0 #\n#define EARDIST\t\t# 0.18 #\n#define DELAYOFFS1\t# 0.02 #\n#define AMPDIST0\t# 10 #\n\n/* ------------------------------------------- */\n\n/* convert distance to delay time */\n\n#define Dist2Delay(xdst)\n# ((($xdst)/$SOUNDSPEED)+$DELAYOFFS1) #\n\n/* convert distance to amplitude */\n\n#define Dist2Amp(xdst)\n# (1/(($xdst)+1/$AMPDIST0)) #\n\n/* azimuth to LEFT channel amp. */\n\n#define Azim2AmpL(xazim)\n# abs(1.4142135*cos((($xazim)+1.570796)/2)) #\n\n/* azimuth to RIGHT channel amp. */\n\n#define Azim2AmpR(xazim)\n# abs(1.4142135*sin((($xazim)+1.570796)/2)) #\n\n/* ------------------------------------------- */\n\n/* temp macro for filtering */\n\n#define SpatFilter #\n\na_\tbutterlp\t0.333*a_L_, 500\na_1_\tbutterlp\t0.533*a_L_, 4000\na_2_\ttone\t\t0.134*a_L_, 12000\na_2_\t=  a_ + a_1_ + a_2_\n\na_\tbutterlp\t0.333*a_R_, 500\na_1_\tbutterlp\t0.533*a_R_, 4000\na_3_\ttone\t\t0.134*a_R_, 12000\na_3_\t=  a_ + a_1_ + a_3_\n\n#\n\n#define SpatStereo #\n\ni_1_\twrap i_az_, -180, 180\ni_1_\tmirror i_1_*3.141593/180, \\\n\t\t-1.570796, 1.570796\n\ni_2_\tlimit i_d_, 0, $SOUNDSPEED*0.95\n\ni_3_\t=  i_2_*cos(i_1_)\t\t/* Yd */\ni_4_\t=  i_2_*sin(i_1_) + $EARDIST/2\t/* XdL */\ni_5_\t=  i_2_*sin(i_1_) - $EARDIST/2\t/* XdR */\ni_4_\t=  sqrt(i_4_*i_4_+i_3_*i_3_)\t/* dL */\ni_5_\t=  sqrt(i_5_*i_5_+i_3_*i_3_)\t/* dR */\n\ni_2_\t=  $Dist2Amp(i_4_)\t/* amp. / L */\ni_3_\t=  $Dist2Amp(i_5_)\t/* amp. / R */\ni_6_\t=  $Azim2AmpL(i_1_)\t/* high lvl. L */\ni_7_\t=  $Azim2AmpR(i_1_)\t/* high lvl. R */\n\n/* lock i-rate variables */\n\nk_2_\tsamphold i_2_, -1, i_2_, 0\nk_3_\tsamphold i_3_, -1, i_3_, 0\nk_6_\tsamphold i_6_, -1, i_6_, 0\nk_7_\tsamphold i_7_, -1, i_7_, 0\n\na_4_\t=  a_\n\n/* delay */\n\na_L_\tdelay a_*k_2_, \\\n\t(int($Dist2Delay(i_4_)*sr+0.5)+0.01)/sr\na_R_\tdelay a_*k_3_, \\\n\t(int($Dist2Delay(i_5_)*sr+0.5)+0.01)/sr\n\n$SpatFilter\n\n/* mix output */\n\na_L_\t=  k_6_*a_L_ + (1-k_6_)*a_2_\na_R_\t=  k_7_*a_R_ + (1-k_7_)*a_3_\n\na_\t=  a_4_\n\n#\n\n/* ------------------------------------------- */\n\n/* spatializer macro */\n\n#define SPATMACRO # $SpatStereo #\n\n\n/* convert MIDI note number to frequency */\n\n#define MIDI2CPS(xmidikey)\n# (440.0*exp(log(2.0)*(($xmidikey)-69.0)/12.0)) #\n\n/* convert frequency to MIDI note number */\n\n#define CPS2MIDI(xfreqcps)\n# (12.0*(log(($xfreqcps)/440.0)/log(2.0))+69.0) #\n\n/* convert velocity to amplitude */\n\n#define VELOC2AMP(xvelocity)\n# (0.0039+(($xvelocity)*($xvelocity))/16192.0) #\n\n/* convert amplitude to velocity */\n\n#define AMP2VELOC(xamplitude)\n# (sqrt((($xamplitude)-0.0039)*16192.0)) #\n\n/* generate ftables */\n\ni_\t=  0\n\nloop_01:\n\ni_cps_\t=  $MIDI2CPS(i_)\ni__\t=  int(i_+256.5)\nidummy\tftgen i__, 0, 16384, 11, \\\n\t\tint(44100/(2*i_cps_)), 1, 1.0\n\ttableigpw i__\ni_\t=  int(i_+1.5)\n\tif (i_<127.5) igoto loop_01\n\n/* ------------------------------------------- */\n\n#define LP1FRQ # 10.0 #\n\n\tseed 0\n\nga0x\tinit 0\n\n\tinstr 1\n\np3\t=  p3 + 0.2\n\nicps\t=  $MIDI2CPS(p4)\niamp\t=  $VELOC2AMP(p5)\niazm\t=  p6\nielv\t=  0\nidst\t=  1\n\nifnum\tlimit p4, 0, 127\t/* ftable */\nifnum\t=  int(ifnum+256.5)\t/* number */\n\nkcps\tport icps*4, p3/4, icps\n\nkwsize\t=  64.0/kcps\nkdens\t=  16.0/kwsize\naphs\tunirand 1.0\natrns\ttrirand 1.0\natrns\t=  kcps*(atrns*0.02+1.0)*(16384/sr)\na0x\tfog 1.0, kdens, atrns, aphs, 0, 0, 0, kwsize, kwsize, 256, ifnum, 1, \\\n\t\t3600, 0, 0\n\na0x\ttone a0x*(sr/(3.14159265*($LP1FRQ))), ($LP1FRQ)\n\na_\t=  a0x\n\ni_az_\t=  iazm\ni_el_\t=  ielv\ni_d_\t=  idst\n\n$SPATMACRO\n\n\touts a_L_, a_R_\n\n\tendin\n\n\tinstr 90\n\n\tsoundout ga0x, $OUTFLNAME, 6\nga0x\t=  0\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\nt 0 140i 1\t0.000\t8.000\t55\t120\t-30f 1 0 16384 20 3 1e\n</CsScore>\n</CsoundSynthesizer>"}
