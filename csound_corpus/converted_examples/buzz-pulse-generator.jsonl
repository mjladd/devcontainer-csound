{"instruction": "Write a Csound instrument for LINEN   \tAMP,   RISE, DUR, FALL using buzz/pulse generator and resonant filter and amplitude balance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from BUZZLY.ORC and BUZZLY.SCO\n; Original files preserved in same directory\n\nsr \t\t= \t\t\t44100\nkr \t\t=\t\t\t441\nksmps \t=\t\t\t100\nnchnls \t= \t\t\t1\n\n\t\t\n\t\t\n\t\t\n\t\t\n\t\tinstr 1\n\n;       LINEN   \tAMP,   RISE, DUR, FALL\nkfen1   linen   \t1000, .5*p3, p3, .5*p3\nkfen2\tlinen\t\t2000, .5*p3, p3, .5*p3\n\n;       BUZZ    \tPITCH, AMP, #PARTIALS, FUNCTION\nabuzz\tbuzz    \tp5,    p4,  10,        1\nares1\treson   \tabuzz, kfen1, 100\naton1\ttone    \tabuzz, kfen1\nares2\treson   \tabuzz, kfen2, 200\naton2\ttone    \tabuzz, kfen2\nafin\tbalance \tares1+aton1+ares2+aton2, abuzz\n\t\tout\t\t\tafin*1000\n\t\tendin \n\n</CsInstruments>\n<CsScore>\n; score******************************************************************\nf1  0 1024  10 1\n;  istart idur ifq  ivol (1000-10000)\ni1  0     2    220   20\ni1  0     4    330   20\ni1  4     2    280   10\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipitch    =         cpspch(p5) using delay effect and buzz/pulse generator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from DELAY2.ORC and DELAY2.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n\n\n               instr     1\n     ipitch    =         cpspch(p5)\n     idlt      =         1/ipitch\n     knh       init      (sr*.4)/ipitch\n     abuzz     buzz      p4,ipitch,knh,3\n     kamp      oscil1i   0.00,1,p3,4\n     araw      =         abuzz*kamp\n     asig      init      0\n     adelay    delay     (araw+asig),idlt    \n     aflt1     reson     adelay,ipitch,(ipitch*.1),1\n     aflt2     reson     adelay,(ipitch*2),(ipitch*.2),1\n     aflt3     reson     adelay,(ipitch*3),(ipitch*.3),1\n     aflt4     reson     adelay,(ipitch*4),(ipitch*.4),1\n     aflt5     reson     adelay,(ipitch*5),(ipitch*.5),1\n     aflt6     reson     adelay,(ipitch*6),(ipitch*.6),1\n     afltbnk   =         aflt1+aflt2+aflt3+aflt4+aflt5+aflt6\n     abal      balance   afltbnk,abuzz\n     asig      envlpx    abal,.03,p3,.5,2,.85,.01\n               out       asig\n               endin\n \n\n</CsInstruments>\n<CsScore>\nf1   0    512  10   1\nf2   0    513  5    0.001     512  1    1    1\nf3   0    8192 9    1    1    90\nf4   0    513  5    .01  62   1    450  .001 1    .001 \ni1   0    5    49500     8.00e\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for BANDLIMITED PWM CODED BY Josep M» Comajuncosas using buzz/pulse generator and delay line read and delay line write", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pulse3.orc and pulse3.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n          \n          instr 1             ; BANDLIMITED PWM CODED BY Josep M» Comajuncosas\n; note: you could further integrate the output\n; to get Triangle waves with pulse modulation\n\nkamp      init      10000\nkfreq     line      100, p3, 200\nkrel      line      1, p3 ,0; 0 to 1 (modulation index)\n\napulse1   buzz      1,kfreq, sr/(2*kfreq), 1;no aliasing here! ;-)\n\napulse    delayr    1/50;don«t try to use below 50 Hz <- a better idea?\napulse2   deltapi   krel/kfreq;interpolating to get the proper phase\n          delayw    apulse1\n                                             \navpw      =         apulse1 - apulse2        ; TWO INVERTED PULSES AT VARIABLE DISTANCE\napwmdc    integ     avpw                     ; INTEGRATING GIVES A SQUARE WAVE WITH WM\napwm      atone     apwmdc,1                 ; REMOVE DC OFFSET CAUSED BY INTEG\napwm      balance   apwm,apulse1             ; AND RESTORE ORIGINAL POWER\n\n          out       kamp*apwm                ; LOOK AT ITS SONOGRAM! IT«S REALLY NICE!!\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 16384 10 1\ni1 0 10\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for Gbuzz instrument. using buzz/pulse generator and generalized buzz generator and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from Buzz.orc and Buzz.sco\n; Original files preserved in same directory\n\nsr     = 44100\nkr     = 4410\nksmps  = 10\nnchnls = 1\n\n\ninstr    1 ; Gbuzz instrument.\n\nilevl    = p4*32767               ; Output level\nipitch   = cpspch(p5)             ; Pitch\nihigh    = int((.5*sr)/ipitch*p6) ; Highest harmonic < nyquist\nilow     = p7                     ; Lowest harmonic\niharm1   = p8                     ; Start harmonic curve\niharm2   = p9                     ; End harmonic curve\n\nk1       line  iharm1, p3, iharm2\na1       gbuzz  1, ipitch, ihigh, ilow, k1, 1, -1\nout      a1*ilevl\n\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 16384 9 1 1 90 ; Cosine\n\nt 0 480 ; 4*Tempo\n\n;                           -------Harmonics-------\n;     Strt  Leng  Levl  Pitch Num.  Low.  Harm1 Harm2\ni1    0.00  1.00  1.00  07.00 1     1     1.00  0.10\ni1    +     .     .     06.07 .     .     ~     ~\ni1    +     .     .     06.09 .     .     ~     ~\ni1    +     .     .     07.09 .     .     ~     ~\ni1    +     .     .     07.00 .     .     ~     ~\ni1    +     .     .     07.03 .     .     ~     ~\ni1    +     2.00  .     07.05 .     .     0.10  1.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 43_01_1b.orc and 43_01_1b.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:        43_01_1B.ORC\n; synthesis:    (g)buzz(43)\n;               basic instrument(01)\n;               LINEN envelope, constant inh(1B)\n; coded:        jpg 10/93\n\n\n\n\ninstr 1; *****************************************************************\nidur  = p3\niamp  = p4\nifqc  = p5\ninmh   = 10\n\n   aenv    linen   iamp, .2, idur, .2\n   asrc    buzz    aenv, ifqc, inmh, 1\n           out     asrc\nendin\n\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     43_01_1B.SCO\n; coded:     jpg 10/93\n; notice the foldover in the last note, due to constant inh parameter..\n\n\n; GEN functions **********************************************************\nf1 0 8193 10 1\n\n\n; score ******************************************************************\n\n;     idur  iamp  ifqc\ni1 0   2    8000   55\ni1 +   .    .     110\ni1 .   .    .     440\ni1 .   .    .    1760\ni1 .   .    .    3520\ni1 .   .    .    7040\ni1 .   .    .   14080\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and Butterworth lowpass filter and parametric equalizer", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bd02.orc and bd02.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  22050\nksmps\t=  2\nnchnls\t=  1\n\n\nga0x\tinit 0\n\n\tinstr 1\n\n/* ------------------------------------------------------------------------- */\n\nibpm\t=\t140.000\t\t\t/* tempo\t\t\t*/\nivol\t=\t0.5\t\t\t/* volume\t\t\t*/\nirel\t=\t0.05\t\t\t/* release time\t\t\t*/\nifmax\t=\t5.3333\t\t\t/* max. frequency / note frq.\t*/\nifdec\t=\t12\t\t\t/* frequency decay speed\t*/\nifmax2\t=\t4\t\t\t/* max. frequency 2 / note frq.\t*/\nifdec2\t=\t1024\t\t\t/* frequency 2 decay speed\t*/\niamax\t=\t0.5\t\t\t/* start amplitude\t\t*/\niadec\t=\t16\t\t\t/* amplitude -> 1.0 speed\t*/\niamax2\t=\t-4\t\t\t/* start amp. 2\t\t\t*/\niadec2\t=\t1024\t\t\t/* amp2 -> 1.0 speed\t\t*/\niLP1f\t=\t2\t\t\t/* LP flt. 1 start f. / osc. f.\t*/\niLP1fd\t=\t6\t\t\t/* LP filter 1 frq. decay speed\t*/\niHPxf\t=\t1.5\t\t\t/* output HP flt. f. / note f.\t*/\niHPxq\t=\t1.5\t\t\t/* output resonant HP filter Q\t*/\n\n/* ------------------------------------------------------------------------- */\n\nicps\t=  440.0*exp(log(2.0)*(p4-69.0)/12.0)\niamp\t=  0.0039+p5*p5/16192\np3\t=  p3+irel+0.05\n\nibtime\t=  60/ibpm\t\t\t\t/* convert parameters */\niHPxf\t=  iHPxf*icps\n\niSCALE0\t=  sr/(10*3.141593)\t\t/* scale for BUZZ oscillators */\n\n/* -------- ENVELOPES -------- */\n\nkfrq\tport 1,ibtime/ifdec,ifmax\t\t/* base freq. envelope */\nkfrq_\tport 1,ibtime/ifdec2,ifmax2\nkfrq\t=  kfrq*kfrq_*icps\nkamp1\tlinseg 1,p3-(irel+0.05),1,irel,0,1,0\t/* amp. envelope 1 */\nkamp\texpon 1,ibtime/iadec,0.5\t\t/* amp. envelopes */\nkamp2\texpon 1,ibtime/iadec2,0.5\nkamp\t=  iamp*kamp1*(kamp*(iamax-1)+1)*(kamp2*(iamax2-1)+1)\n\nkffrq1\tport 0,ibtime/iLP1fd,iLP1f\t\t/* lowpass 1 freq. envelope */\nkffrq1\t=  kffrq1*kfrq\n\n/* -------- OSCILLATOR -------- */\n\nk_nh_\t=  int(sr/(2*kfrq))\na_1_\tbuzz iSCALE0,kfrq,k_nh_,1,0\na_2_\tbuzz iSCALE0,kfrq,k_nh_,1,0.5\naosc0\ttone a_1_-a_2_,10\n\n/* -------- FILTERS -------- */\n\na1\tbutterlp aosc0,kffrq1\t\t/* lowpass 1 */\n\na1\tpareq a1,iHPxf,iHPxq*2,iHPxq,0\t/* resonant HP */\na_\ttone a1,iHPxf\na1\t=  a1-a_\na_\ttone a1,iHPxf\na1\t=  a1-a_\n\n/* -------- OUTPUT -------- */\n\nga0x\t=  ga0x+(kamp*ivol*(1.0*a1))\n\n\tendin\n\n\tinstr 90\n\na0x\ttable3 ga0x/2.80,100,1,0.5,0\t/* distortion table */\nga0x\t=  0\n\n\tout a0x*30000\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt\t0.0000\t140.000\t\t/* set tempo */\n\ni 90\t0.0000\t18.000\n\ni 1\t0.0000\t1.0000\t31\t124\ni 1\t1.0100\t1.0000\t31\t120\ni 1\t2.0150\t1.0000\t31\t127\ni 1\t3.0150\t1.0000\t31\t120\n\ni 1\t4.0000\t1.0000\t31\t124\ni 1\t5.0100\t1.0000\t31\t120\ni 1\t6.0150\t1.0000\t31\t124\ni 1\t7.0150\t1.0000\t31\t120\n\ni 1\t8.0000\t1.0000\t31\t124\ni 1\t9.0100\t1.0000\t31\t120\ni 1\t10.015\t1.0000\t31\t127\ni 1\t11.015\t1.0000\t31\t120\n\ni 1\t12.000\t1.0000\t31\t124\ni 1\t13.010\t1.0000\t31\t120\ni 1\t14.015\t0.7500\t31\t124\ni 1\t14.765\t0.2000\t31\t122\ni 1\t15.015\t0.4000\t31\t124\ni 1\t15.515\t0.4000\t31\t126\n\n/* ------------------------------------------------------------------------- */\n\nf 1 0 262144 10 1\t/* sine table */\n\n/* dist. table */\n\n/* f 100 0 16385 -8\t-1.0 2048 -1.0 4096 -0.7 4096 0.7 4096 1.0 2049 1.0 */\n\nf 100 0 16385 -8\t-1.0 2048 -1.0 4096 -0.7 1536 -0.05 1024 0.05 \\\n\t\t\t1536 0.7 4096 1.0 2049 1.0\n\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ,2,3,4 using subtractive synthesis and buzz/pulse generator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from arnotSUBTRACT.ORC and arnotSUBTRACT.SCO\n; Original files preserved in same directory\n\n        sr          =         44100\n        kr          =         4410\n        ksmps       =         10\n        nchnls      =         2\n\n; JOHN M. ARNOTT II\n; SUBTRACTIVE SYNTHESIS\n; SIMPLE SUBTRACTIVE INSTRUMENT\n\n\n\n        instr       1,2,3,4\n\n        imincf      =         26.6\n        ibwmin      =         .05\n        ibwrange    =         .45\n        iratio      =         2.828\n\n        kgate       linen     p4,p6,p3,p7    \n        aw1         buzz      kgate,p5,5,2\n        klin        linseg    ibwmin, 1/p3, ibwrange+ibwmin, 1, ibwrange+ibwmin\n        ksum        =         ibwmin + klin\n\n        kcf         =         p5\n        kbw         =         kcf * ksum\n                \n        aw2         reson     aw1,kcf,kbw,1\n        \n        aleft       =         sqrt(p8)*aw2\n        aright      =         sqrt(p9)*aw2\n        outs        aleft,aright\n        endin   \n\n</CsInstruments>\n<CsScore>\nf01     0       512     10      1\nf02     0       8192    10      1\nf03     0       512     5       1       512     .000001\n;       start   dur     amp     pitch   rise    decay   leftfac rightfac\ni01     0       6       15000   131     1       1       1       0\ni01     1       4       15000   196     1       1       0       1\ni01     2       3       15000   165     1       1       .5      .5\ni01     3       3       15000   262     1       1       0       1\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for iattack          =         .01 using buzz/pulse generator and resonant filter and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FltBuzz.orc and FltBuzz.sco\n; Original files preserved in same directory\n\n     sr             =         44100\n     kr             =         4410\n     ksmps          =         10\n     nchnls         =         1\n\n\n                    instr 1\n   iattack          =         .01\n   irelease         =         .2\n   iwhite           =         10000\n   idur             =         p3\n   iamp             =         ampdb(p4)\n   ifund            =         p5\n   isweepstart      =         p6\n   isweepend        =         p7\n   ibandwidth       =         p8\n   inoh             =         sr/2/ifund               ; CREATES A BANDLIMITED PULSE\n   ifun             =         1\n                                              \n   kamp             linen     iamp, iattack, idur, irelease\n   ksweep           line      isweepstart, idur, isweepend\n   asig             buzz      1, ifund, inoh, ifun \n   afltsig          reson     asig, ksweep, ibandwidth\n   arampsig         =         kamp * afltsig\n                    out       arampsig\n                    endin\n\n</CsInstruments>\n<CsScore>\n; buzzflt.sco\n\nf1 0 4096 10 1\n\nf0 1\nf0 2\nf0 3\nf0 4\nf0 5    \n\n; strt  dur   amp(dB)   fndfrq   stsweep  ndsweep   bndw        \ni1  0    5    60         200        650     650      100     \ni1  0    5    52         200        1100   1100      200     \ni1  0    5    47         200        2860   2860      600     \ni1  0    5    48         200        3300   3300      800     \ni1  0    5    41         200        4500   4500      900     \ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ihz            =         cpspch(p5) using piano sound and buzz/pulse generator and Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from PNO1.ORC and PNO1.SCO\n; Original files preserved in same directory\n\n     sr             =         44100\n     kr             =         4410\n     ksmps          =         10\n     nchnls         =         1 \n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;         BASIC KOTO ORCHESTRA FILE                              ;\n;                                                                ;\n;         P3 = DURATION        P4 = AMPLITUDE                    ;\n;         P5 = PITCH IN PCH    P6 = PITCH BEND IN OCT.DECIMAL    ;\n;                                                                ;\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n                    instr     1\n     ihz            =         cpspch(p5)\n     ihz2           =         ihz * 2.0006\n     ihz3           =         ihz * 1.9999\n     ihz4           =         ihz * 1.0005\n     ihz5           =         ihz * .9998\n     koct           init      octcps(ihz)\n     koct2          init      octcps(ihz2)\n     koct3          init      octcps(ihz3)\n     koct4          init      octcps(ihz4)\n     koct5          init      octcps(ihz5)\n        kbend       oscil1i   0.00,p6,p3,4        ;    /* p6 in oct.decimal */\n        khz         =         cpsoct(koct+kbend)\n        khz2        =         cpsoct(koct2+kbend)\n        khz3        =         cpsoct(koct3+kbend)\n        khz4        =         cpsoct(koct4+kbend)\n        khz5        =         cpsoct(koct5+kbend)\n     ibuf           =         (p5 < 7.00 ? ihz : ihz/2)\n     aplk1          pluck     (p4*.62),khz,ibuf,6,4,1, 1.003\n                    timout    0.0,.002,continue\nkoto2:    aplk2     pluck     (p4*.52),khz2,ibuf,6,3,1\n                    timout    0.0,.004,continue\nkoto3:    aplk3     pluck     (p4*.52),khz3,ibuf,6,3,1\n                    timout    0.0,.005,continue\nkoto4:    aplk4     pluck     (p4*.62),khz4,ibuf,6,4,1, 1.001\n                    timout    0.0,.007,continue\nkoto5:    aplk5     pluck     (p4*.62),khz5,ibuf,6,4,1, 1.001\ncontinue:\n     asignal        =         aplk1+aplk2+aplk3+aplk4+aplk5\n     asig           envlpx    asignal,.06,p3,(p3*.1),7,.66,.008\n                    out       asig\n                    endin\n\n</CsInstruments>\n<CsScore>\n;        PIANO SCORE FILE \n;\n;       SINE WAVE\nf1 0.0 512 10 1\n;       LINEAR RISE\nf2 0.0 513 7  0 513 1\n;       LINEAR FALL\nf3 0.0 513 7  1 513 0\n;       EXPONENTIAL RISE\nf4 0.0 513 5 .001 513 1\n;       EXPONENTIAL RISE\nf5 0.0 513 5 1 513 .001\n;    BUZZ-LIKE WAVE\nf6 0.0 512 10 1 .5  .33  .25  .20  .167 .143\n;    ATTACK FUNCTION\nf7 0.0 513  8  0 100  0  28  0  200 1 185  1\n;\n;       INSTRUMENT CARDS\n;\ni1 0.00 5.0 18000 6.109  0.00\ns\nf0 1\ns\ni1 0.02 5.0 5500  9.110  0.00\ni1 0.01 5.0 5500 10.080  0.00\ni1 0.09 5.0 5500 10.090  0.00\ni1 0.07 5.0 5500 11.010  0.00\ni1 0.06 5.0 5500 11.020  0.00\ni1 0.04 5.0 5500 11.060  0.00\ni1 0.02 5.0 2500 10.110  0.00\ni1 0.01 5.0 2500 11.080  0.00\ni1 0.09 5.0 2500 11.090  0.00\ni1 0.07 5.0 2500 12.010  0.00\ni1 0.06 5.0 2500 12.020  0.00\ni1 0.04 5.0 2500 12.060  0.00\ns\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a tienote sound using buzz/pulse generator and linear segments and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from tienote1.orc and tienote1.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n;DAVID KIRSH\n\n; ============== TIED NOTES.ORC ========\n\n\n; DEMONSTRATION OF PORTAMENTO BETWEEN TIED NOTES\n; THIS TECHNIQUE COULD BE APPLIED TO OTHER PARAMETERS AND TO\n; NON-TIED NOTES WITH STRAIGHTFORWARD CHANGES.\n          instr     5\ninote     =         cpspch(p4)  ; THIS NOTE'S PITCH\n\n     ; IF THIS IS NOT A TIED NOTE, THEN THERE'S NO PREVIOUS\n     ; PITCH TO GLIDE FROM, SO SET BEGINNING PITCH OF\n     ; PORTAMENTO TO THIS NOTE'S PITCH.  THEN SAVE THIS SAME\n     ; PITCH IN 'IPREVPITCH' SO WE CAN REMEMBER WHAT PITCH WE\n     ; ARE COMING FROM WHEN WE HAVE A TIED NOTE.  WE HAVE TO\n     ; SAVE IT BOTH HERE AND IN THE TIED NOTE CASE BECAUSE IF\n     ; WE DO IT IN A COMMON PLACE BELOW, CSOUND COMPLAINS ABOUT\n     ; IPREVPITCH BEING USED BEFORE SET.\ntigoto    tieinit\n\n     ; AT THIS POINT WE KNOW WE'RE NOT IN A TIED NOTE.\n     ; SET BEGINNING AND PREVIOUS PITCHES TO THE SAME THING.\nibegpitch =    inote\niprevpitch     =    inote\ngoto      cont\n\ntieinit:\n     ; WE'RE IN A TIED NOTE.\n     ; SET UP BEGINNING PITCH FOR PORTAMENTO TO NEW PITCH.\n     ; BEGINNING PITCH IS PITCH OF PREVIOUS NOTE THAT THIS ONE IS\n     ; TIED ONTO THE END OF.  SAVE CURRENT PITCH IN CASE ANOTHER\n     ; NOTE TIES ONTO THIS ONE; THEN WE'LL BE ABLE TO PORTAMENTO\n     ; AGAIN TO THAT NEW PITCH.\nibegpitch =    iprevpitch\niprevpitch     =    inote\n\ncont:\n     ; NOW SET UP A PITCH ENVELOPE THAT MOVES FROM THE BEGINNING\n     ; PITCH (AS DETERMINED ABOVE) TO THIS NOTE'S NOMINAL PITCH.\nkpitchenv linseg    ibegpitch, .9, inote, abs(p3), inote\n\n     ; GENERATE A SOUND USING THE PITCH ENVELOPE.  NOTICE THE\n     ; LAST 'BUZZ' ARGUMENT (-1), WHICH CAUSES PHASE\n     ; INITIALIZATION TO BE SKIPPED.  THIS IS IMPORTANT TO AVOID\n     ; CLICKS ON TIED NOTES.  (THIS SIMPLE EXAMPLE CLICKS ON\n     ; UNTIED NOTES, THOUGH, BECAUSE THERE'S NO AMPLITUDE\n     ; ENVELOPE.)\na1        buzz 10000, kpitchenv, 6, 1, -1\n          out  a1\n          endin\n\n</CsInstruments>\n<CsScore>\n\n;=========== TIED NOTES.SCO ====================\n\n; A LITTLE TEST MUSIC\nf1 0 1025 10 1\n;\ni5.1 0.0  -2   7.00\ni5.2 0.0  -2   7.04\ni5.1 2.0  -2   7.07\ni5.2 2.0  -2   7.11\ni5.1 4.0  -2   6.07\ni5.2 4.0  -2   7.00\ni5.1 6.0  2    7.00\ni5.2 6.0  2    6.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipitch    =         cpspch(p5) using delay effect and buzz/pulse generator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from DELAY7.ORC and DELAY7.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n\n               instr     1\n     ipitch    =         cpspch(p5)\n     idlt      =         1/ipitch\n     knh       init      (sr*.4)/ipitch\n     abuzz     buzz      p4,ipitch,knh,3\n     kamp      oscil1i   0.00,1,p3,4\n     araw      =         abuzz*kamp\n     asig1     init      0\n     asig2     init      0\n     asig3     init      0\n     asig4     init      0\n     asig5     init      0\n     asig6     init      0\n     adelay1   delay     (araw+asig1),idlt   \n     adelay2   delay     (araw+asig2),(idlt/2)    \n     adelay3   delay     (araw+asig3),(idlt/3)\n     adelay4   delay     (araw+asig4),(idlt/4)\n     adelay5   delay     (araw+asig5),(idlt/5)\n     adelay6   delay     (araw+asig6),(idlt/6)\n     aflt1     reson     adelay1,ipitch,(ipitch*.1),1\n     aflt2     reson     adelay2,(ipitch*2),(ipitch*.15),1\n     aflt3     reson     adelay3,(ipitch*3),(ipitch*.20),1\n     aflt4     reson     adelay4,(ipitch*4),(ipitch*.25),1\n     aflt5     reson     adelay5,(ipitch*5),(ipitch*.30),1\n     aflt6     reson     adelay6,(ipitch*6),(ipitch*.35),1\n     abal1     balance   aflt1,(abuzz/6)\n     abal2     balance   aflt2,(abuzz/6)\n     abal3     balance   aflt3,(abuzz/6)\n     abal4     balance   aflt4,(abuzz/6)\n     abal5     balance   aflt5,(abuzz/6)\n     abal6     balance   aflt6,(abuzz/6)\n     asig1     envlpx    abal1,.6,p3,.5,2,.75,.01\n     asig2     envlpx    abal2,.5,p3,.5,2,.65,.01\n     asig3     envlpx    abal3,.4,p3,.5,2,.55,.01\n     asig4     envlpx    abal4,.3,p3,.5,2,.45,.01\n     asig5     envlpx    abal5,.2,p3,.5,2,.35,.01\n     asig6     envlpx    abal6,.1,p3,.5,2,.25,.01\n     asig      =         asig1+asig2+asig3+asig4+asig5+asig6\n               out       asig\n               endin\n \n\n</CsInstruments>\n<CsScore>\nf1   0    512  10   1\nf2   0    513  5    0.001     512  1    1    1\nf3   0    8192 9    1    1    90\nf4   0    513  5    0.05      512  1    1    1\ni1     0  4    50000       6.00\ni1     5  4    50000       7.00\ni1   10   4    50000       8.00\ni1   15   4    50000       9.00i1  20   4    50000     10.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipitch    =         cpspch(p5) using delay effect and buzz/pulse generator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from DELAY6.ORC and DELAY6.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n\n\n               instr   1\n     ipitch    =         cpspch(p5)\n     idlt      =         1/ipitch\n     knh       init      (sr*.4)/ipitch\n     abuzz     buzz      p4,ipitch,knh,3\n     kamp      oscil1i   0.00,1,p3,4\n     araw      =         abuzz*kamp\n     asig1     init      0\n     asig2     init      0\n     asig3     init      0\n     asig4     init      0\n     asig5     init      0\n     asig6     init      0\n     adelay1   delay     (araw+asig1),idlt   \n     adelay2   delay     (araw+asig2),(idlt/2)    \n     adelay3   delay     (araw+asig3),(idlt/3)\n     adelay4   delay     (araw+asig4),(idlt/4)\n     adelay5   delay     (araw+asig5),(idlt/5)\n     adelay6   delay     (araw+asig6),(idlt/6)\n     aflt1     reson     adelay1,ipitch,(ipitch*.1),1\n     aflt2     reson     adelay2,(ipitch*2),(ipitch*.15),1\n     aflt3     reson     adelay3,(ipitch*3),(ipitch*.20),1\n     aflt4     reson     adelay4,(ipitch*4),(ipitch*.25),1\n     aflt5     reson     adelay5,(ipitch*5),(ipitch*.30),1\n     aflt6     reson     adelay6,(ipitch*6),(ipitch*.35),1\n     abal1     balance   aflt1,(abuzz/6)\n     abal2     balance   aflt2,(abuzz/6)\n     abal3     balance   aflt3,(abuzz/6)\n     abal4     balance   aflt4,(abuzz/6)\n     abal5     balance   aflt5,(abuzz/6)\n     abal6     balance   aflt6,(abuzz/6)\n     asig1     envlpx    abal1,.6,p3,.5,2,.75,.01\n     asig2     envlpx    abal2,.5,p3,.5,2,.65,.01\n     asig3     envlpx    abal3,.4,p3,.5,2,.55,.01\n     asig4     envlpx    abal4,.3,p3,.5,2,.45,.01\n     asig5     envlpx    abal5,.2,p3,.5,2,.35,.01\n     asig6     envlpx    abal6,.1,p3,.5,2,.25,.01\n     asig      =         asig1+asig2+asig3+asig4+asig5+asig6\n               out       asig\n               endin\n \n\n</CsInstruments>\n<CsScore>\nf1   0    512  10   1\nf2   0    513  5    0.001     512  1    1    1\nf3   0    8192 9    1    1    90\nf4   0    513  5    0.05      512  1    1    1\ni1   0    8    50000     10.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1=cpspch(p4) using buzz/pulse generator and resonant filter and amplitude balance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 526.ORC and 526.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n; FIG 5.26.ORC\n\ninstr          1\n\ni1=cpspch(p4)\ni2=int((80000/i1)+.5)\ni3=1/32767\n\na1             linen     p5,p6,p3,p7\nk1             linen     p5,p6,p3,p7\na2             buzz      a1,i1,i2,5\na2             reson     a2,i1,i1,1,0\na2             reson     a2,500,500,1,0\na2             reson     a2,1500,750,1,0\na2             reson     a2,3000,1200,1,0\na2             balance   a2,a1\nk1             =         (k1*i3)*8000\na1             reson     a2,0.,k1,1,0\nout            a1\n     \nendin\n\n</CsInstruments>\n<CsScore>\nc fig5.26.scr\nf 1 0 512 5 1 512 .001\nf 2 0 512 7 1 64 0 448 0\nf 3 0 512 9 1 1 0\nf 5 0 1025 9 .25 1 90\n  i1 0.000 0.750 6.00 4000 0.010 0.010\n  i1 0.750 0.250 6.00 4000 0.010 0.010\n  i1 1.000 1.000 6.00 4000 0.010 0.010\n  i1 2.000 0.250 7.01 4000 0.010 0.010\n  i1 2.250 0.250 7.09 4000 0.010 0.010\n  i1 2.500 0.250 7.01 4000 0.010 0.010\n  i1 2.750 0.250 7.04 4000 0.010 0.010\n  i1 3.000 2.000 8.03 4000 0.010 0.010\n  i1 5.000 0.500 9.08 4000 0.010 0.010\n  i1 5.500 0.500 9.05 4000 0.010 0.010\n  i1 6.000 0.500 9.05 4000 0.010 0.010\n  i1 6.500 0.750 6.00 4000 0.010 0.010\n  i1 7.250 0.250 6.00 4000 0.010 0.010\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipitch    =         cpspch(p5) using delay effect and buzz/pulse generator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from DELAY4.ORC and DELAY4.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n\n\n               instr     1\n     ipitch    =         cpspch(p5)\n     idlt      =         1/ipitch\n     knh       init      (sr*.4)/ipitch\n     abuzz     buzz      p4,ipitch,knh,3\n     kamp      oscil1i   0.00,1,p3,4\n     araw      =         abuzz*kamp\n     asig1     init      0\n     asig2     init      0\n     asig3     init      0\n     asig4     init      0\n     asig5     init      0\n     asig6     init      0\n     adelay1   delay     (araw+asig1),idlt   \n     adelay2   delay     (araw+asig2),(idlt/2)    \n     adelay3   delay     (araw+asig3),(idlt/3)\n     adelay4   delay     (araw+asig4),(idlt/4)\n     adelay5   delay     (araw+asig5),(idlt/5)\n     adelay6   delay     (araw+asig6),(idlt/6)\n     aflt1     reson     adelay1,ipitch,(ipitch*.1),1\n     aflt2     reson     adelay2,(ipitch*2),(ipitch*.15),1\n     aflt3     reson     adelay3,(ipitch*3),(ipitch*.20),1\n     aflt4     reson     adelay4,(ipitch*4),(ipitch*.25),1\n     aflt5     reson     adelay5,(ipitch*5),(ipitch*.30),1\n     aflt6     reson     adelay6,(ipitch*6),(ipitch*.35),1\n     abal1     balance   aflt1,(abuzz/6)\n     abal2     balance   aflt2,(abuzz/6)\n     abal3     balance   aflt3,(abuzz/6)\n     abal4     balance   aflt4,(abuzz/6)\n     abal5     balance   aflt5,(abuzz/6)\n     abal6     balance   aflt6,(abuzz/6)\n     asig1     envlpx    abal1,.15,p3,.5,2,.75,.01\n     asig2     envlpx    abal2,.14,p3,.5,2,.65,.01\n     asig3     envlpx    abal3,.13,p3,.5,2,.55,.01\n     asig4     envlpx    abal4,.12,p3,.5,2,.45,.01\n     asig5     envlpx    abal5,.11,p3,.5,2,.35,.01\n     asig6     envlpx    abal6,.10,p3,.5,2,.25,.01\n     asig      =         asig1+asig2+asig3+asig4+asig5+asig6\n               out       asig\n               endin\n \n\n</CsInstruments>\n<CsScore>\nf1   0    512  10   1\nf2   0    513  5    0.001     512  1    1    1\nf3   0    8192 9    1    1    90\nf4   0    513  5    .1   256  1    256  .001 1    .001 \ni1   0    8    50000     9.00e\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a tienote sound using buzz/pulse generator and linear segments and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from tienote2.orc and tienote2.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n;DAVID KIRSH\n\n\n;----- TIES ORCHESTRA WITH DCLIC ----------\n\n\n          instr     5\ninote     =         cpspch(p4)  ; THIS NOTE'S PITCH\nidur      =         abs(p3)\nistied    tival\n\ntigoto    tieinit\n\nibegpitch =         inote\niprevpitch =        inote\ngoto      cont\n\ntieinit:\n   \nibegpitch =         iprevpitch\niprevpitch =        inote\n\ncont:\n \nkpitchenv linseg    ibegpitch, .9, inote, abs(p3), inote\n\n        ; IF THIS IS A TIED NOTE, THEN DECLICK ENVELOPE AMPLITUDE\n        ; STARTS OUT AT '1' (I.E., SAME AS ENDING VALUE OF NOTE\n        ; WE'RE TYING ONTO).  OTHERWISE, IT STARTS AT '0'.\nibegdclic =         (istied == 1 ? 1 : 0)\n\n        ; IF THIS NOTE IS BEING HELD (IN ANTICIPATION OF BEING TIED\n        ; ONTO), THEN DECLICK AMPLITUDE ENDS AT '1' (SO IT\n        ; MATCHES THE BEGINNING DECLICK AMPLITUDE OF THE TIED-ON NOTE).\n        ; OTHERWISE, AMPLITUDE ENDS AT '0'.\nienddclic =         (p3 < 0 ? 1 : 0)\n\nkdclic    linseg    ibegdclic, 0.1, 1, abs(p3)-0.2, 1, 0.1, ienddclic\n                        \na1        buzz      10000, kpitchenv, 6, 1, -1\n          out       a1 * kdclic\n          endin\n\n</CsInstruments>\n<CsScore>\n;----- TIES SCORE ----------\nf1 0 32769 10 1\n;p1 DECIMAL ALLOWS POLYPHONY.\n;\ni5.1    0.0     -2      7.00\ni5.2    0.0     -2      7.04\ni5.1    2.0     -2      7.07\ni5.2    2.0     -2      7.11\ni5.1    4.0     -2      6.07\ni5.2    4.0     -2      7.00\ni5.1    6.0     2       7.00\ni5.2    6.0     2       6.00\ni5      8.1             .8              7.00\ni5      9.1             .8              7.04\ni5     10.1             .8              7.07\ni5     11.1             .8              7.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipitch    =         cpspch(p5) using delay effect and buzz/pulse generator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from DELAY5.ORC and DELAY5.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n\n\n               instr     1\n     ipitch    =         cpspch(p5)\n     idlt      =         1/ipitch\n     knh       init      (sr*.4)/ipitch\n     abuzz     buzz      p4,ipitch,knh,3\n     kamp      oscil1i   0.00,1,p3,4\n     araw      =         abuzz*kamp\n     asig1     init      0\n     asig2     init      0\n     asig3     init      0\n     asig4     init      0\n     asig5     init      0\n     asig6     init      0\n     adelay1   delay     (araw+asig1),idlt   \n     adelay2   delay     (araw+asig2),(idlt/2)    \n     adelay3   delay     (araw+asig3),(idlt/3)\n     adelay4   delay     (araw+asig4),(idlt/4)\n     adelay5   delay     (araw+asig5),(idlt/5)\n     adelay6   delay     (araw+asig6),(idlt/6)\n     aflt1     reson     adelay1,ipitch,(ipitch*.1),1\n     aflt2     reson     adelay2,(ipitch*2),(ipitch*.15),1\n     aflt3     reson     adelay3,(ipitch*3),(ipitch*.20),1\n     aflt4     reson     adelay4,(ipitch*4),(ipitch*.25),1\n     aflt5     reson     adelay5,(ipitch*5),(ipitch*.30),1\n     aflt6     reson     adelay6,(ipitch*6),(ipitch*.35),1\n     abal1     balance   aflt1,(abuzz/6)\n     abal2     balance   aflt2,(abuzz/6)\n     abal3     balance   aflt3,(abuzz/6)\n     abal4     balance   aflt4,(abuzz/6)\n     abal5     balance   aflt5,(abuzz/6)\n     abal6     balance   aflt6,(abuzz/6)\n     asig1     envlpx    abal1,.6,p3,.5,2,.75,.01\n     asig2     envlpx    abal2,.5,p3,.5,2,.65,.01\n     asig3     envlpx    abal3,.4,p3,.5,2,.55,.01\n     asig4     envlpx    abal4,.3,p3,.5,2,.45,.01\n     asig5     envlpx    abal5,.2,p3,.5,2,.35,.01\n     asig6     envlpx    abal6,.1,p3,.5,2,.25,.01\n     asig      =         asig1+asig2+asig3+asig4+asig5+asig6\n               out       asig\n               endin\n \n\n</CsInstruments>\n<CsScore>\nf1   0    512  10   1\nf2   0    513  5    0.001     512  1    1    1\nf3   0    8192 9    1    1    90\nf4   0    513  5    0.05      512  1    1    1\ni1   0    8    50000     9.00e\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ivol\t=  2.7\t\t; volume using buzz/pulse generator and Butterworth lowpass filter and Butterworth bandpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bd5000.orc and bd5000.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  22050\nksmps\t=  2\nnchnls\t=  1\n\n\n\tinstr 1\n\nivol\t=  2.7\t\t; volume\nibpm\t=  140.00\t; tempo\nirel\t=  0.1667\t; release time\nifrq0\t=  5.3333\t; start freq. / note frq.\nifrqe\t=  14.000\t; freq. env. speed\n\ni001\t=  1/65536\t\t\t\t\t;\nivel\t=  0.0039+p5*p5/16192\t\t\t\t; velocity\nibtime\t=  60/ibpm\t\t\t\t\t; beat time\nivol\t=  ivel*ivol\t\t\t\t\t;\nicps0\t=  440.0*exp(log(2.0)*(p4-69.0)/12.0)\t\t; note frequency\np3\t=  p3 + irel + 0.1\n\nstart01:\n\nkcps\texpseg ifrq0-1,ibtime/ifrqe,(ifrq0-1)*0.5\nkcps\t=  (kcps+1)*icps0\nknumh\t=  sr/(2*kcps)\na_\tbuzz sr/(20*3.14159265), kcps, knumh, 256, 0.25\na__\tbuzz sr/(20*3.14159265), kcps, knumh, 256, 0.75\naosc0\ttone a_-a__, 20\naosc1\t=  aosc0*1.0\naoscn\tunirand 2\naoscn\t=  (aoscn-1)*1.0\n\nkffrq\tport icps0, ibtime/8, icps0*ifrq0\t/* OSC. 1 */\naosc1\tbutterlp aosc1, kffrq\nax1\t=  aosc1\n\naoscn\tbutterbp aoscn, 8372, 8372\t/* noise */\nkffrq\tport 65.4, ibtime/16, 2093\naoscn\tbutterlp aoscn, kffrq\naxn\t=  aoscn\n\nkenv1l\tlinseg -0.25, 0.00275, -0.25, 0.00001, 1.0, 0.005, 1, 1, 1\nkenv1e\texpseg 1, 1, 0.001, 1, 0.001, 1, 0.001, 1, 0.001\nkenvx\texpseg 1, p3-(irel+0.1), 1, irel, 1/1024\naenv1\tinterp kenv1l*kenv1e\naenvx\tinterp kenvx*ivol\n\nax0\t=  ax1*aenv1\n\nax0\tpareq ax0, 65.4, 2.25, 1.5, 0\t/* OUTPUT EQ */\nax0\tbutterlp ax0, 4186\n\na0x\t=  (ax0+axn)*aenvx\n\n\tout -7000*a0x\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt 0 140.000\t/* tempo */\n\ni 1\t 0.000\t0.4000\t31\t120\ni 1\t 1.000\t0.4000\t31\t120\ni 1\t 2.000\t0.4000\t31\t120\ni 1\t 3.000\t0.4000\t31\t120\n\nf 256 0 262144 10 1\n\ne\t/* END OF SCORE */\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ihz            =         cpspch(p5) using piano sound and buzz/pulse generator and Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from molPIANO1.ORC and molPIANO1.SCO\n; Original files preserved in same directory\n\nsr                  =         44100\nkr                  =         4410\nksmps               =         10\nnchnls              =         1\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;         BASIC KOTO ORCHESTRA FILE                              ;\n;                                                                ;\n;         P3 = DURATION        P4 = AMPLITUDE                    ;\n;         P5 = PITCH IN PCH    P6 = PITCH BEND IN OCT.DECIMAL    ;\n;                                                                ;\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n\n                    instr     1\n     ihz            =         cpspch(p5)\n     ihz2           =         ihz * 2.0006\n     ihz3           =         ihz * 1.9999\n     ihz4           =         ihz * 1.0005\n     ihz5           =         ihz * .9998\n     koct           init      octcps(ihz)\n     koct2          init      octcps(ihz2)\n     koct3          init      octcps(ihz3)\n     koct4          init      octcps(ihz4)\n     koct5          init      octcps(ihz5)\n        kbend       oscil1i   0.15,p6,p3,4             ;    /* p6 in oct.decimal */\n        khz         =         cpsoct(koct+kbend)\n        khz2        =         cpsoct(koct2+kbend)\n        khz3        =         cpsoct(koct3+kbend)\n        khz4        =         cpsoct(koct4+kbend)\n        khz5        =         cpsoct(koct5+kbend)\n     aplk1          pluck     (p4*.62),khz,ihz,6,3,1\n                    timout    0.0,.002,continue\nkoto2:    aplk2     pluck     (p4*.62),khz2,ihz2,6,3,1\n                    timout    0.0,.004,continue\nkoto3:    aplk3     pluck     (p4*.62),khz3,ihz3,6,3,1\n                    timout    0.0,.005,continue\nkoto4:    aplk4     pluck     (p4*.62),khz4,ihz4,6,3,1\n                    timout    0.0,.007,continue\nkoto5:    aplk5     pluck     (p4*.62),khz5,ihz5,6,3,1\ncontinue:\n     asignal        =         aplk1+aplk2+aplk3+aplk4+aplk5\n     asig           envlpx    asignal,.06,p3,(p3*.1),4,1.02,.008\n                    out       asig\n                    endin\n\n\n</CsInstruments>\n<CsScore>\n;        KOTO SCORE FILE \n;\n;       SINE WAVE\nf1 0.0 512 10 1\n;       LINEAR RISE\nf2 0.0 513 7  0 513 1\n;       LINEAR FALL\nf3 0.0 513 7  1 513 0\n;       EXPONENTIAL RISE\nf4 0.0 513 5 .001 513 1 \n;       EXPONENTIAL RISE\nf5 0.0 513 5 1 513 .001 \n;    BUZZ-LIKE WAVE\nf6 0.0 512 10 1 1 1 1 1 1 1 1 1 \n;\n;       INSTRUMENT CARDS\ni1 0.00 1.5 10000  7.060  0.00\ne ;MY ENDING\ni1 2.00 1.5 10000  7.060 -0.25\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipitch    =         cpspch(p5) using delay effect and buzz/pulse generator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from DELAY3.ORC and DELAY3.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n\n\n               instr     1\n     ipitch    =         cpspch(p5)\n     idlt      =         1/ipitch\n     knh       init      (sr*.4)/ipitch\n     abuzz     buzz      p4,ipitch,knh,3\n     kamp      oscil1i   0.00,1,p3,4\n     araw      =         abuzz*kamp\n     asig1     init      0\n     asig2     init      0\n     asig3     init      0\n     asig4     init      0\n     asig5     init      0\n     asig6     init      0\n     adelay1   delay     (araw+asig1),idlt   \n     adelay2   delay     (araw+asig2),(idlt/2)    \n     adelay3   delay     (araw+asig3),(idlt/3)\n     adelay4   delay     (araw+asig4),(idlt/4)\n     adelay5   delay     (araw+asig5),(idlt/5)\n     adelay6   delay     (araw+asig6),(idlt/6)\n     aflt1     reson     adelay1,ipitch,(ipitch*.1),1\n     aflt2     reson     adelay2,(ipitch*2),(ipitch*.15),1\n     aflt3     reson     adelay3,(ipitch*3),(ipitch*.20),1\n     aflt4     reson     adelay4,(ipitch*4),(ipitch*.25),1\n     aflt5     reson     adelay5,(ipitch*5),(ipitch*.30),1\n     aflt6     reson     adelay6,(ipitch*6),(ipitch*.35),1\n     abal1     balance   aflt1,(abuzz/6)\n     abal2     balance   aflt2,(abuzz/6)\n     abal3     balance   aflt3,(abuzz/6)\n     abal4     balance   aflt4,(abuzz/6)\n     abal5     balance   aflt5,(abuzz/6)\n     abal6     balance   aflt6,(abuzz/6)\n     asig1     envlpx    abal1,.20,p3,.5,2,.95,.01\n     asig2     envlpx    abal2,.18,p3,.5,2,.85,.01\n     asig3     envlpx    abal3,.16,p3,.5,2,.75,.01\n     asig4     envlpx    abal4,.14,p3,.5,2,.45,.01\n     asig5     envlpx    abal5,.12,p3,.5,2,.35,.01\n     asig6     envlpx    abal6,.10,p3,.5,2,.25,.01\n     asig      =         asig1+asig2+asig3+asig4+asig5+asig6\n               out       asig\n               endin\n \n\n</CsInstruments>\n<CsScore>\nf1   0    512  10   1\nf2   0    513  5    0.001     512  1    1    1\nf3   0    8192 9    1    1    90\nf4   0    513  5    .1   22   1    490  .001 1    .001 \ni1   0    8    50000     9.00e\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ihz            =         cpspch(p5) using piano sound and buzz/pulse generator and Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from molPIANO2.ORC and molPIANO2.SCO\n; Original files preserved in same directory\n\nsr                  =         44100\nkr                  =         4410\nksmps               =         10\nnchnls              =         1\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;         BASIC KOTO ORCHESTRA FILE                              ;\n;                                                                ;\n;         P3 = DURATION        P4 = AMPLITUDE                    ;\n;         P5 = PITCH IN PCH    P6 = PITCH BEND IN OCT.DECIMAL    ;\n;                                                                ;\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n                    instr     1\n     ihz            =         cpspch(p5)\n     ihz2           =         ihz * 2.0006\n     ihz3           =         ihz * 1.9999\n     ihz4           =         ihz * 1.0005\n     ihz5           =         ihz * .9998\n     koct           init      octcps(ihz)\n     koct2          init      octcps(ihz2)\n     koct3          init      octcps(ihz3)\n     koct4          init      octcps(ihz4)\n     koct5          init      octcps(ihz5)\n        kbend       oscil1i   0.15,p6,p3,4                       ;    /* p6 in oct.decimal */\n        khz         =         cpsoct(koct+kbend)\n        khz2        =         cpsoct(koct2+kbend)\n        khz3        =         cpsoct(koct3+kbend)\n        khz4        =         cpsoct(koct4+kbend)\n        khz5        =         cpsoct(koct5+kbend)\n     aplk1          pluck     (p4*.62),khz,ihz,6,4,1, 1.01\n                    timout    0.0,.002,continue\nkoto2:    aplk2     pluck     (p4*.62),khz2,ihz2,6,4,1, 1.005\n                    timout    0.0,.004,continue\nkoto3:    aplk3     pluck     (p4*.62),khz3,ihz3,6,4,1, 1.003\n                    timout    0.0,.005,continue\nkoto4:    aplk4     pluck     (p4*.62),khz4,ihz4,6,4,1, 1.002\n                    timout    0.0,.007,continue\nkoto5:    aplk5     pluck     (p4*.62),khz5,ihz5,6,4,1, 1.001\ncontinue:\n     asignal        =         aplk1+aplk2+aplk3+aplk4+aplk5\n     asig           envlpx    asignal,.06,p3,(p3*.1),4,.66,.008\n                    out       asig\n                    endin\n\n\n\n</CsInstruments>\n<CsScore>\n;        KOTO SCORE FILE \n;;       SINE WAVE\nf1 0.0 512 10 1                    ;       LINEAR RISE\nf2 0.0 513 7  0 513 1              ;        LINEAR FALL\nf3 0.0 513 7  1 513 0              ;        EXPONENTIAL RISE\nf4 0.0 513 5 .001 513 1            ;      EXPONENTIAL RISE\nf5 0.0 513 5 1 513 .001            ;    BUZZ-LIKE WAVE\nf6 0.0 512 10 1 .5  .33  .25  .20  .167 .143  .125 .111\n;;       INSTRUMENT CARDS\ni1 0.00 1.5 10000  7.060  0.00i1 2.00 1.5 10000  7.060 -0.25\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for BUZZ SOURCE using filter processing and buzz/pulse generator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FILTER.ORC and FILTER.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; FILTER.orc\n\n        \n          instr 1             ; BUZZ SOURCE\nicps      =         cpsoct(p4)               ; CONVERT FUNDAMENTAL IN OCTAVE NOTATION TO Hz\niharm     =         int((8000/icps)+.66)     ; NUMBER OF HARMONICS FOR BUZZ (ROUNDED UP)\nibeat     =         p6*icps                  ; SLIGHT ALTERATION OF icps FOR BEATING IN BUZZ\niamp      =         p5                       ; AMPLITUDE\nibw1      =         p7*icps                  ; BW MAX FOR FILTER1\nibw2      =         p8*icps                  ; BW MAX FOR FILTER2\n\nkenv      linseg    0,p3*.5,iamp,p3*.5,0,.01,0 ; AMPLITUDE ENVELOPE\nkenv1     =         kenv/iamp                ; WITH GUARD POINT\n                                             ; EXP ENVELOPE BETWEEN 0-1\n; BUZZ SOURCE\nabuzz1    buzz      kenv,icps,iharm,1\nabuzz2    buzz      kenv,ibeat,iharm,1\nasrc      =         abuzz1+abuzz2\n\n; PARALLEL FILTERS FOR BUZZ SOURCE\nafilt1     reson    asrc,icps,ibw1*kenv1,1,0\nafilt2     reson    asrc,icps*2,ibw2+kenv1,1,0\n\naout      balance   afilt1+afilt2, asrc\n          out       aout\n          endin\n\n          instr 2             ; NOISE SOURCE\nicps      =         cpsoct(p4)               ; CONVERT FUNDAMENTAL IN OCTAVE NOTATION TO Hz\niharm     =         int((8000/icps)+.66)     ; NUMBER OF HARMONICS FOR BUZZ (ROUNDED UP)\nibeat     =         p6*icps                  ; SLIGHT ALTERATION OF icps FOR BEATING IN BUZZ\niamp      =         p5                       ; AMPLITUDE\nibw1      =         p7*icps                  ; BW MAX FOR FILTER1\nibw2      =         p8*icps                  ; BW MAX FOR FILTER2\n\nkenv      linseg    0,p3*.5,iamp,p3*.5,0,.01,0 ; AMPLITUDE ENVELOPE\nkenv1     =         kenv/iamp                ; WITH GUARD POINT\n                                             ; EXP ENVELOPE BETWEEN 0-1\n; NOISE SOURCE\nasrc      rand      kenv\n\n; PARALLEL FILTERS FOR NOISE SOURCE\nafilt1    reson     asrc,icps,ibw1*kenv1,2,0\nafilt2    reson     asrc,icps*2,ibw2+kenv1,2,0\n\naout      balance   afilt1+afilt2, asrc\n          out       aout\n          endin\n\n; TRY:\n; DIFFERENT ENVELOPES ON EACH FILTER OR BUZZ\n; DIFFERENT RELATIONSHIPS OF CENTER FREQUENCIES BETWEEN RESONS\n; RESONS IN SERIES INSTEAD OF PARALLEL\n\n</CsInstruments>\n<CsScore>\n; filter.s\n\nf1 0    8193    9       1       1       0\n\n;       start   dur     pitch   amp     beating %bw1    %bw2\ni1      0       10      8.5     10000   1.001   .025    .013\ni2      10      10      8.5     10000   1.001   .025    .013\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for icps\t\t=\t\tp4 using test/demonstration and buzz/pulse generator and Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from perftest.orc and perftest.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls \t=\t\t2\n\n\n; TESTS OF CRITICAL CAPABILITIES\n; SEE perftest.sco FOR MORE DETAILS\n; DAVE MADOLE 11/1/96\n\n\n; SIMPLE PLUCK WORKING ?\n\t\tinstr 1\nicps\t\t=\t\tp4\nkcps\t\t=\t\ticps\naout\t\tpluck\t15000, kcps, icps, 0, 1\n\t\touts \taout, aout\n\t\tendin\n\n; STEREO WORKING ?\n\t\tinstr 2\nicps \t=\t\tp4\nkcps\t\t=\t\ticps\nkster\toscil1\t0, 1, p3, p5 \naout\t\tpluck\t15000, kcps, icps, 0, 1\naoutl\t= \t\tkster * aout\naoutr\t=\t\taout - aoutl\n\t\touts\t\taoutl,aoutr\n\t\tendin\n\n; SOUNDIN WORKING ?\n\t\tinstr 3\nkster\toscil1\t0, 1, p3, 2\naout\t\tsoundin\t\"snap1.aiff\",0\naoutl\t=\t\tkster * aout\naoutr\t=\t\t(1-kster) * aout\n\t\touts\t\taoutl,aoutr\n\t\tendin\n\n; GEN 01 & LOSCIL WORKING\n\t\tinstr   4\nifn\t\t=\t\tp4\nicps\t\t=\t\tp5\nibas\t\t=\t\tp6\naout\t    loscil\t1,p5, p4, p6, 1, 0, 32768\n\t\touts\t\taout, aout\n\t\tendin \n\n; lpc WORKING ? (DETERMINES THAT ANALYSIS DIRECTORY CAN BE FOUND AND FILE READ)\n\t\tinstr 5\nktimpnt \tline\t\t.0001,p3,1\nkrmsr,krmso,kerr,kcps lpread ktimpnt,\"sung.lpc\", 0, \n\t\tif\t\tkerr < .04 kgoto dobuzz\nasig\t\trand\t\t1.0\ndobuzz: \nasig\t\tbuzz\t\t1.0, kcps/2, int(sr/2/kcps), 1\nasig\t\tlpreson\tasig\nasig\t\t=\t\t5000 * asig * (krmso/32767)\n\n\t\touts\t\tasig, asig\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n\n; score test critical capabilities of perf.ppc on a system\n; you should run \"simpletest.orc\" and \"simpletest.sco\" to determine that \n; things *basically* are working\n\n; instrument                  determines that\n; 1 - simple pluck u.g.  score & orc processing work\n; 2 - stereo pan              output device is stereo\n; 3 - soundin u.g. works      can find and read sample\n; 4 - gen 01 & loscil work    can deferred read sample into gen array\n; 5 - lpc \"works\"             can read analysis file\n\n; *************************   Instructions   *********************************\n\n; Perf.ppc:\n\n; First, make sure that you have removed all older versions of csound.ppc and\n; perf.ppc from ALL disks attached to your Mac\n\n; Setting folders:\n\n; in csound.ppc, using the  \"Default Directories\" dialog:\n; 1) set the \"Sound Sample Directory\" to the \"samples\" folder in the parent \n;    folder of this file \n; 2) set the \"Sound Analysis Directory\" to the \"analyses\" folder in the parent \n;    folder of this file \n; 3) set the \"Sound Files Directory\"  to the \"sounds\" folder in the parent \n;    folder of this file\n\n; Sound Control Panel:\n\n; make sure your sound output is set to 44k stereo on your Mac using the\n; proper control panel for your release of the OS\n\n; should create a file called \"perftest.snd\" in the \"sounds\" folder in the parent\n;    folder of this file\n\n; Dave Madole 11/1/96\n\nf1 0 8193 9 1 1 90            ; big cosine for Mr. Buzz\nf2 0 1025 7 0 1025 1\nf3 0 0 -1 \"snap1.aiff\" 0 0 1\n\n; test simple pluck, ten seconds at 100 cps\ni1 0 10 100\n\n; the same, this time pan stereo using f2\ni2 10 10 100 2\n\n; see if soundin is working - determines that perf can find and read samples\ni3 20 2 \n\n; see if gen 01 (f3) & loscil are working at 100 cps with \"base frequency\" == 100\ni4 22 10 3 100 100\n\n; see if lpc is working - determines that perf can find and read analysis files\ni5 32 5 \n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipitch    =         cpspch(p5) using delay effect and buzz/pulse generator and resonant filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from DELAY9.ORC and DELAY9.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n\n\n               instr     1\n     ipitch    =         cpspch(p5)\n     idlt      =         1/ipitch\n     knh       init      (sr*.4)/ipitch\n     abuzz     buzz      p4,ipitch,knh,3\n     kamp      oscil1i   0.00,.1,p3,4\n     araw      =         abuzz*kamp\n     asig1     init      0\n     asig2     init      0\n     asig3     init      0\n     asig4     init      0\n     asig5     init      0\n     asig6     init      0\n     adelay1   delay     (araw+asig1),idlt   \n     adelay2   delay     (araw+asig2),(idlt/2)    \n     adelay3   delay     (araw+asig3),(idlt/3)\n     adelay4   delay     (araw+asig4),(idlt/4)\n     adelay5   delay     (araw+asig5),(idlt/5)\n     adelay6   delay     (araw+asig6),(idlt/6)\n     aflt1     reson     adelay1,ipitch,(ipitch*.1),1\n     aflt2     reson     adelay2,(ipitch*2),(ipitch*.15),1\n     aflt3     reson     adelay3,(ipitch*3),(ipitch*.20),1\n     aflt4     reson     adelay4,(ipitch*4),(ipitch*.25),1\n     aflt5     reson     adelay5,(ipitch*5),(ipitch*.30),1\n     aflt6     reson     adelay6,(ipitch*6),(ipitch*.35),1\n     abal1     balance   aflt1,(abuzz/6)\n     abal2     balance   aflt2,(abuzz/6)\n     abal3     balance   aflt3,(abuzz/6)\n     abal4     balance   aflt4,(abuzz/6)\n     abal5     balance   aflt5,(abuzz/6)\n     abal6     balance   aflt6,(abuzz/6)\n     asig1     envlpx    abal1,.6,p3,.5,2,.75,.01\n     asig2     envlpx    abal2,.5,p3,.5,2,.65,.01\n     asig3     envlpx    abal3,.4,p3,.5,2,.55,.01\n     asig4     envlpx    abal4,.3,p3,.5,2,.45,.01\n     asig5     envlpx    abal5,.2,p3,.5,2,.35,.01\n     asig6     envlpx    abal6,.1,p3,.5,2,.25,.01\n     asig      =         asig1+asig2+asig3+asig4+asig5+asig6\n               out       asig\n               endin\n \n\n</CsInstruments>\n<CsScore>\nf1   0    512  10   1\nf2   0    513  5    0.001     512  1    1    1\nf3   0    8192 9    1    1    90\nf4   0    513  5    0.05 412  1    100  .001 1    .001\ni1   0    6    50000     9.00e\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ipitch    =         cpspch(p5) using buzz/pulse generator and resonant filter and delay effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from D9.ORC and D9.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n\n\n               instr     1\n     ipitch    =         cpspch(p5)\n     idlt      =         1/ipitch\n     knh       init      (sr*.4)/ipitch\n     abuzz     buzz      p4,ipitch,knh,3\n     kamp      oscil1i   0.00,.1,p3,4\n     araw      =         abuzz*kamp\n     asig1     init      0\n     asig2     init      0\n     asig3     init      0\n     asig4     init      0\n     asig5     init      0\n     asig6     init      0\n     adelay1   delay     (araw+asig1),idlt   \n     adelay2   delay     (araw+asig2),(idlt/2)    \n     adelay3   delay     (araw+asig3),(idlt/3)\n     adelay4   delay     (araw+asig4),(idlt/4)\n     adelay5   delay     (araw+asig5),(idlt/5)\n     adelay6   delay     (araw+asig6),(idlt/6)\n     aflt1     reson     adelay1,ipitch,(ipitch*.1),1\n     aflt2     reson     adelay2,(ipitch*2),(ipitch*.15),1\n     aflt3     reson     adelay3,(ipitch*3),(ipitch*.20),1\n     aflt4     reson     adelay4,(ipitch*4),(ipitch*.25),1\n     aflt5     reson     adelay5,(ipitch*5),(ipitch*.30),1\n     aflt6     reson     adelay6,(ipitch*6),(ipitch*.35),1\n     abal1     balance   aflt1,(abuzz/6)\n     abal2     balance   aflt2,(abuzz/6)\n     abal3     balance   aflt3,(abuzz/6)\n     abal4     balance   aflt4,(abuzz/6)\n     abal5     balance   aflt5,(abuzz/6)\n     abal6     balance   aflt6,(abuzz/6)\n     asig1     envlpx    abal1,.6,p3,.5,2,.75,.01\n     asig2     envlpx    abal2,.5,p3,.5,2,.65,.01\n     asig3     envlpx    abal3,.4,p3,.5,2,.55,.01\n     asig4     envlpx    abal4,.3,p3,.5,2,.45,.01\n     asig5     envlpx    abal5,.2,p3,.5,2,.35,.01\n     asig6     envlpx    abal6,.1,p3,.5,2,.25,.01\n     asig      =         asig1+asig2+asig3+asig4+asig5+asig6\n               out       asig\n               endin\n \n\n</CsInstruments>\n<CsScore>\nf1   0    512  10   1\nf2   0    513  5    0.001     512  1    1    1\nf3   0    8192 9    1    1    90\nf4   0    513  5    0.05 412  1    100  .001 1    .001\ni1   0    6    50000     9.00e\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a efx sound using effects processing and buzz/pulse generator and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from efx_1.orc and efx_1.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  22050\nksmps\t=  2\nnchnls\t=  1\n\n\n\tseed 0\n\n#define MIDI2CPS(xmidi) # (440.0*exp(log(2.0)*(($xmidi)-69.0)/12.0)) #\n#define CPS2MIDI(xcps)  # ((log(($xcps)/440.0)/log(2.0))*12.0+69.0) #\n\n\tinstr 1\n\n/* ------------------------------------------------------------------------- */\n\nivol\t=  1.4\t\t/* volume\t\t\t\t\t*/\nibpm\t=  130\t\t/* tempo\t\t\t\t\t*/\n\nirel\t=  0.05\t\t/* release time\t\t\t\t\t*/\n\nistrtf1\t=  2.0000\t/* start frequency 1\t\t\t\t*/\nifdec1\t=  4\t\t/* freq. decay speed 1\t\t\t\t*/\nistrtf2\t=  0.5\t\t/* start frequency 2\t\t\t\t*/\nifdec2\t=  256\t\t/* freq. decay speed 2\t\t\t\t*/\n\ninsmix\t=  4.0\t\t/* noise mix\t\t\t\t\t*/\n\niLPf\t=  2.0\t\t/* LP filter start frequency / osc. freq.\t*/\niLPd\t=  0.5\t\t/* LP filter freq. decay speed\t\t\t*/\n\niAM1s\t=  1.5\t\t/* amp. envelope 1 start value\t\t\t*/\niAM1d\t=  1024\t\t/* amp. envelope 1 decay speed\t\t\t*/\niAM2s\t=  0.35\t\t/* amp. envelope 2 start value\t\t\t*/\niAM2d\t=  4\t\t/* amp. envelope 2 decay speed\t\t\t*/\n\n/* ------------------------------------------------------------------------- */\n\nibtime\t=  60/ibpm\n\np3\t=  p3+irel+0.05\n\nimkey\t=  p4\nimvel\t=  p5\n\nicps\t=  $MIDI2CPS(imkey)\niamp\t=  (0.0039+imvel*imvel/16192)*ivol*16384\nkamp\tlinseg 1,p3-(irel+0.05),1,irel,0,0.05,0\n\nk_\tport 1,ibtime/ifdec1,istrtf1\t\t/* calculate base frequency */\nk__\tport 1,ibtime/ifdec2,istrtf2\nkcps\t=  icps*k_*k__\n\nk__\tline 0, ibtime*4, 1\nk_\t=  cos(k__*3.14159265*0.5)*1.3333*icps\nkcps\tlimit k_, 0, 20000\n\nknumh\t=  sr/(2*kcps)\t\t\t/* oscillator */\na1\tbuzz sr/(10*3.14159265), kcps, knumh, 256, 0\na2\tbuzz sr/(10*3.14159265), kcps, knumh, 256, 0.5\na1\ttone a1-a2, 10\na0\t=  a1\t\t\t\t\t/* a0 = osc. signal */\n\na_\tunirand 2\t\t\t\t/* noise generator */\na_\ttone a_-1,kcps\na0\t=  a0+a_*insmix\n\nk_\texpseg 1,ibtime/iAM1d,0.5\t\t\t/* amp. envelopes */\nk__\texpseg 1,ibtime/iAM2d,0.5\nk_\t=  (1-k_)*(1-iAM1s)+iAM1s\nk__\t=  (1-k__)*(1-iAM2s)+iAM2s\na0\t=  a0*k_*k__\n\na1\t=  a0\n\nk_\tport 0,ibtime/iLPd,iLPf\t\t\t/* LP filter */\na0\tbutterlp a0,kcps*k_\n\na_\tbutterhp a1,kcps*1\na_\tbutterlp a_,kcps*8\nk_\texpseg 1,0.005,0.5\na0\t=  a0+1.5*a_*k_\n\na0\tbutterlp a0*iamp*kamp,sr*0.48\na0\tlimit a0, -30000, 30000\n\n\tout a0\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nf 256 0 262144 10 1\n\nt 0 130\n\ni 1\t0.0000\t8.0000\t33\t127\n;i 1\t1.0000\t0.4500\t33\t127\n;i 1\t2.0000\t0.4500\t33\t127\n;i 1\t3.0000\t0.4500\t33\t127\n;i 1\t4.0000\t0.4500\t33\t127\n;i 1\t5.0000\t0.4500\t33\t127\n;i 1\t6.0000\t0.4500\t33\t127\n;i 1\t7.0000\t0.4500\t33\t127\n\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ihz            =         cpspch(p5) using piano sound and buzz/pulse generator and Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from molPIANO.ORC and molPIANO.SCO\n; Original files preserved in same directory\n\nsr                  =         44100\nkr                  =         4410\nksmps               =         10\nnchnls              =         1\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;         BASIC KOTO ORCHESTRA FILE                              ;\n;                                                                ;\n;         P3 = DURATION        P4 = AMPLITUDE                    ;\n;         P5 = PITCH IN PCH    P6 = PITCH BEND IN OCT.DECIMAL    ;\n;                                                                ;\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n\n                    instr     1\n     ihz            =         cpspch(p5)\n     ihz2           =         ihz * 2.0006\n     ihz3           =         ihz * 1.9999\n     ihz4           =         ihz * 1.0005\n     ihz5           =         ihz * .9998\n     koct           init      octcps(ihz)\n     koct2          init      octcps(ihz2)\n     koct3          init      octcps(ihz3)\n     koct4          init      octcps(ihz4)\n     koct5          init      octcps(ihz5)\n     kbend          oscil1i   0.15,p6,p3,4                  ;    /* p6 in oct.decimal */\n     khz            =         cpsoct(koct+kbend)\n     khz2           =         cpsoct(koct2+kbend)\n     khz3           =         cpsoct(koct3+kbend)\n     khz4           =         cpsoct(koct4+kbend)\n     khz5           =         cpsoct(koct5+kbend)\n     aplk1          pluck     (p4*.42),khz,ihz,6,3,1\n                    timout    0.0,p3*.2,continue            ; .002 not p3;\nkoto2:    aplk2      pluck     (p4*.62),khz2,ihz2,6,3,1\n          timout              0.0,p3*.4,continue            ; .004 not p3;\nkoto3:    aplk3     pluck     (p4*.62),khz3,ihz3,6,3,1\n          timout    0.0,p3*.6,continue                      ; .005 not p3;\nkoto4:    aplk4     pluck     (p4*.62),khz4,ihz4,6,3,1\n          timout    0.0,p3*.8,continue                      ; .007 not      p3;\nkoto5:    aplk5     pluck     (p4*.62),khz5,ihz5,6,3,1\n\ncontinue:\n     asignal        =         aplk1+aplk2+aplk3+aplk4+aplk5\n     asig           envlpx    asignal,.001,p3,(p3*.001),4,1.02,.008\n     ;asig          envlpx    asignal,.06,p3,(p3*.1),4,1.02,.008 ;\n                    out       asig\n                    endin\n\n\n\n</CsInstruments>\n<CsScore>\n;        KOTO SCORE FILE\n;\n;       SINE WAVE\nf1 0.0 512 10 1\n;       LINEAR RISE\nf2 0.0 513 7  0 513 1\n;       LINEAR FALL\nf3 0.0 513 7  1 513 0\n;       EXPONENTIAL RISE\nf4 0.0 513 5   .001 513 1\n;       EXPONENTIAL RISE\nf5 0.0 513 5 1 513 .001\n;    BUZZ-LIKE WAVE\nf6 0.0 512 10 1 1 1 1 1 1 1 1 1\n;\n;       INSTRUMENT CARDS\ni1 0.00 20.5 5000  7.060   .05\ni1 0.00 20.5 5000  7.061   .10\ni1 0.00 20.5 5000  7.062   .15\ni1 0.00 20.75 5000  7.063   .2\ni1 0.00 20.75 5000  7.064   .25\ni1 0.00 20.5 5000  7.065   .3\ni1 0.00 20.5 5000  7.066   .35\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and Butterworth lowpass filter and Butterworth highpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bd14_01.orc and bd14_01.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  22050\nksmps\t=  2\nnchnls\t=  1\n\n\n\tseed 0\n\n#define MIDI2CPS(xmidi) # (440.0*exp(log(2.0)*(($xmidi)-69.0)/12.0)) #\n#define CPS2MIDI(xcps)  # ((log(($xcps)/440.0)/log(2.0))*12.0+69.0) #\n\n\tinstr 1\n\n/* ------------------------------------------------------------------------- */\n\nivol\t=  2.0\t\t/* volume\t\t\t\t\t*/\nibpm\t=  130\t\t/* tempo\t\t\t\t\t*/\n\nirel\t=  0.05\t\t/* release time\t\t\t\t\t*/\n\nistrtf1\t=  5.3333\t/* start frequency 1\t\t\t\t*/\nifdec1\t=  20\t\t/* freq. decay speed 1\t\t\t\t*/\nistrtf2\t=  0.5\t\t/* start frequency 2\t\t\t\t*/\nifdec2\t=  256\t\t/* freq. decay speed 2\t\t\t\t*/\n\ninsmix\t=  4.0\t\t/* noise mix\t\t\t\t\t*/\n\niLPf\t=  2.0\t\t/* LP filter start frequency / osc. freq.\t*/\niLPd\t=  4.0\t\t/* LP filter freq. decay speed\t\t\t*/\n\niAM1s\t=  3.0\t\t/* amp. envelope 1 start value\t\t\t*/\niAM1d\t=  1024\t\t/* amp. envelope 1 decay speed\t\t\t*/\niAM2s\t=  0.25\t\t/* amp. envelope 2 start value\t\t\t*/\niAM2d\t=  4\t\t/* amp. envelope 2 decay speed\t\t\t*/\n\n/* ------------------------------------------------------------------------- */\n\nibtime\t=  60/ibpm\n\np3\t=  p3+irel+0.05\n\nimkey\t=  p4\nimvel\t=  p5\n\nicps\t=  $MIDI2CPS(imkey)\niamp\t=  (0.0039+imvel*imvel/16192)*ivol*16384\nkamp\tlinseg 1,p3-(irel+0.05),1,irel,0,0.05,0\n\nk_\tport 1,ibtime/ifdec1,istrtf1\t\t/* calculate base frequency */\nk__\tport 1,ibtime/ifdec2,istrtf2\nkcps\t=  icps*k_*k__\n\nknumh\t=  sr/(2*kcps)\t\t\t/* oscillator */\na1\tbuzz sr/(10*3.14159265), kcps, knumh, 256, 0\na2\tbuzz sr/(10*3.14159265), kcps, knumh, 256, 0.5\na1\ttone a1-a2, 10\na0\t=  a1\t\t\t\t\t/* a0 = osc. signal */\n\na_\tunirand 2\t\t\t\t/* noise generator */\na_\ttone a_-1,kcps\na0\t=  a0+a_*insmix\n\nk_\texpseg 1,ibtime/iAM1d,0.5\t\t\t/* amp. envelopes */\nk__\texpseg 1,ibtime/iAM2d,0.5\nk_\t=  (1-k_)*(1-iAM1s)+iAM1s\nk__\t=  (1-k__)*(1-iAM2s)+iAM2s\na0\t=  a0*k_*k__\n\na1\t=  a0\n\nk_\tport 0,ibtime/iLPd,iLPf\t\t\t/* LP filter */\na0\tbutterlp a0,kcps*k_\n\na_\tbutterhp a1,kcps*1\na_\tbutterlp a_,kcps*8\nk_\texpseg 1,0.005,0.5\na0\t=  a0+1.5*a_*k_\n\na0\tbutterlp a0*iamp*kamp,sr*0.48\na0\tlimit a0, -30000, 30000\n\n\tout a0\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nf 256 0 262144 10 1\n\nt 0 130\n\ni 1\t0.0000\t0.4500\t33\t127\ni 1\t1.0000\t0.4500\t33\t127\ni 1\t2.0000\t0.4500\t33\t127\ni 1\t3.0000\t0.4500\t33\t127\ni 1\t4.0000\t0.4500\t33\t127\ni 1\t5.0000\t0.4500\t33\t127\ni 1\t6.0000\t0.4500\t33\t127\ni 1\t7.0000\t0.4500\t33\t127\n\ne\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and resonant filter and amplitude balance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 50_71_1.orc and 50_71_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps =100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:     50_71_1.ORC\n; synthesis: subtractive synthesis(50)\n;            two fixed formant regions(71)\n;            buzz pulse as source(1)\n; coded:     jpg 11/93\n\n\n\n\ninstr 1; *****************************************************************\nidur  = p3\niamp  = p4 \nifqc  = cpspch(p5)\ninmh   = sr/2/ifqc\n\n      asrc    buzz    iamp,ifqc,inmh,1             ; buzz source\n\n      a1      reson   asrc,1000,100,0             ; formant regions\n      a2      reson   a1,3000,500,0\n\n      asig    balance a2,asrc                     ; in/out balance\n      asig    linen   asig, .1, idur, .1          ; envelope\n            out     asig*4\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     50_71_1.SCO\n; coded:     jpg 11/93\n\n\n; GEN functions **********************************************************\n; sinus\nf1  0   8193  10   1\n\n\n; score ******************************************************************\n\nt 0 300\n\n;       idur  iamp   ipch \ni1   0   2    8000   7.00\ni1   +   1    .      7.02\ni1   .   .    .      7.04\ni1   .   .    .      7.05\ni1   .   .    .      7.07\ni1   .   .    .      7.09\ni1   .   .    .      7.11\ni1   .   2    .      8.00\n\ns\nt 0 60\n\ni1   1   1    4000   7.00\ni1   .   .    .      7.04\ni1   .   .   12000   7.07\ni1   .   .    4000   8.00\n\ne\n\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and generalized buzz generator and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 43_21_1.orc and 43_21_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 2 \n\n; ************************************************************************\n; ACCCI:        43_21_1.ORC\n; timbre:       various controlled noise spectra\n; synthesis:    (g)buzz(43)\n;               kratio envelope(21)\n;               LINEN envelope(1)\n; coded:        jpg 10/93\n\n\n\ninstr 1; *****************************************************************\nidur  = p3\niamp  = p4\nifqc  = p5\ninmh   = int(sr/2/ifqc)\nilh   = 1\nifn   = 5    ; stored cosine function\n\n   aenv    linen   iamp, .2, idur, .2                    ; amp envelope\n   kratio  linseg  1, idur/2, 0, idur/4, 0.8, idur/4, 0.6; kratio envelope\n\n   asrc    gbuzz   aenv,ifqc,inmh,ilh,kratio,ifn\n           outs     asrc, asrc\n\nendin\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     43_21_1.SCO\n; coded:     jpg 10/93\n\n\n; GEN functions **********************************************************\nf5 0 8193 11 1 1   ; single cosine(!) wave\n\n\n; score ******************************************************************\n\n;        idur   iamp   ifqc\ni1    0  10     8000    220\ni1   11   1     .       .\ni1   +    2     .       .\ni1   .    4     .       110\n\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for 2 Chorused (detuned) saw waves using pad sound and buzz/pulse generator and reverb effect", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from pad solina.orc and pad solina.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n\n\n          instr 1                                                     ; 2 Chorused (detuned) saw waves\nkamp      linen     1, 1,p3,1\nkpitch    init      cpspch(p4)\n\nalfo2     linseg    0,p3/3,0,p3/3,.001,p3/3,.001\n\nabuzz1    buzz      kamp, kpitch, sr/(2*kpitch), 1 ,0\nasaw1     filter2   abuzz1, 1, 1, 1, -.98                             ; weak bass response\nabuzz2    buzz      kamp, kpitch*(1-alfo2), sr/(2*kpitch), 1 ,0\nasaw2     filter2   abuzz2, 1, 1, 1, -.98                             ; weak bass response\namix      =         asaw1+asaw2\n\n          out       amix*4000\n          endin\n\n\n          instr 2                                                     ; 3 detuned waves. 3rd is 1 octave higher. LFO«s for detuning\nkamp      linen     1, 1,p3,1\nkamp2     linen     1, 2,p3,1\nkpitch    init      cpspch(p4)\n\nalfo1     lfo       .001,.8\nalfo2     lfo       .001,.56\n\nabuzz1    buzz      kamp, kpitch*(1+alfo1), sr/(2*kpitch), 1 ,0\nasaw1     filter2   abuzz1, 1, 1, 1, -.95                             ; weak bass response\nabuzz2    buzz      kamp, kpitch*(1-alfo2), sr/(2*kpitch), 1 ,0\nasaw2     filter2   abuzz2, 1, 1, 1, -.95                             ; weak bass response\nabuzz3    buzz      kamp2, 2*kpitch, sr/(4*kpitch), 1 ,0              ; 8th higher\nasaw3     filter2   abuzz3, 1, 1, 1, -.999\n\namix      =         .25*(asaw1+asaw2+2*asaw3)\n          out       amix*4000\n          endin\n\n\n          instr 3                                                     ; \"Solina\" String Ensemble .Like instr 2 + extra chorus\nkamp      linen     1, 1,p3,1\nkamp2     linen     1, 2,p3,1\nkpitch    init      cpspch(p4)\n\nalfo1     lfo       .001,.8\nalfo2     lfo       .001,.56\n\nabuzz1    buzz      kamp, kpitch*(1+alfo1), sr/(2*kpitch), 1 ,0\nasaw1     filter2   abuzz1, 1, 1, 1, -.95                             ; weak bass response\nabuzz2    buzz      kamp, kpitch*(1-alfo2), sr/(2*kpitch), 1 ,0\nasaw2     filter2   abuzz2, 1, 1, 1, -.95                             ; weak bass response\nabuzz3    buzz      kamp2, 2*kpitch, sr/(4*kpitch), 1 ,0              ; 8th higher\nasaw3     filter2   abuzz3, 1, 1, 1, -.999\n\namix      =         .25*(asaw1+asaw2+2*asaw3)\n\n                                                                      ; add some chorus\nadel1     lfo       .01, .8\nadel1     =         .04*(1+adel1)\nadel2     lfo       .03, .7\nadel2     =         .04*(1+adel2)\nadel3     lfo       .02, .9\nadel3     =         .04*(1+adel3)\naflanger1 flanger   amix, adel1, 0, .1\naflanger2 flanger   amix, adel2, 0, .1\naflanger3 flanger   amix, adel3, 0, .1\n\namix2     =         .5*amix + .2*(aflanger1+aflanger2+aflanger3)\n          out       amix2*4000\n          endin\n\n\n          instr 4                                                     ; \"Solina\" String Ensemble+reverb (operat to rendered soundfile)\nkamp      linen     1, 1,p3,1\nkamp2     linen     1, 2,p3,1\nkpitch    init      cpspch(p4)\n\nalfo1     lfo       .001,.8\nalfo2     lfo       .001,.56\n\nabuzz1    buzz      kamp, kpitch*(1+alfo1), sr/(2*kpitch), 1 ,0\nasaw1     filter2   abuzz1, 1, 1, 1, -.95                             ; weak bass response\nabuzz2    buzz      kamp, kpitch*(1-alfo2), sr/(2*kpitch), 1 ,0\nasaw2     filter2   abuzz2, 1, 1, 1, -.95                             ; weak bass response\nabuzz3    buzz      kamp2, 2*kpitch, sr/(4*kpitch), 1 ,0              ; 8th higher\nasaw3     filter2   abuzz3, 1, 1, 1, -.999\n\namix      =         .25*(asaw1+asaw2+2*asaw3)\n\n                                                                      ; add some chorus\nadel1     lfo       .01, .8\nadel1     =         .04*(1+adel1)\nadel2     lfo       .03, .7\nadel2     =         .04*(1+adel2)\nadel3     lfo       .02, .9\nadel3     =         .04*(1+adel3)\naflanger1 flanger   amix, adel1, 0, .1\naflanger2 flanger   amix, adel2, 0, .1\naflanger3 flanger   amix, adel3, 0, .1\n\namix2     =         .5*amix + .2*(aflanger1+aflanger2+aflanger3)\n          out       amix2*4000\n          endin\n\n\n</CsInstruments>\n<CsScore>\n\nf1 0 32768 10 1\n\ni1 0 7 8.09 .34\ns\ni2 0 7 8.09 .84\ns\ni3 0 7 8.09 .15\ns\ni3 0 7 6.02 .24\ni3 0 . 7.02 .62\ni3 0 . 8.02 .23\ni3 0 . 8.05 .44\ni3 0 . 8.09 .14\ns\ni4 0 10 6.02 .21\ni4 0 10 7.02 .42\ni4 0 . 8.02 .23\ni4 0 . 8.05 .41\ni4 0 . 8.09 .14\ni4 4 6 9.04 .44\ni4 4 . 9.05 .43\ni4 4 . 10.00 .22\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and exponential segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 43_01_3.orc and 43_01_3.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:        43_01_3.ORC\n; synthesis:    (g)buzz(43)\n;               basic instrument(01)\n;               EXPSEG envelope(3)\n; coded:        jpg 10/93\n\n\ninstr 1; *****************************************************************\nidur  = p3\niamp  = p4\nifqc  = p5\ninmh   = p6\n\n   aenv    expseg  .1, 1/10*idur,iamp, 9/10*idur, .1\n   asrc    buzz    aenv, ifqc, inmh, 1\n           out     asrc\nendin\n\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     43_01_3.SCO\n; coded:     jpg 10/93\n\n\n; GEN functions **********************************************************\nf1 0 8193 10 1\n\n\n; score ******************************************************************\n\n;       idur   iamp   ifqc    inh\ni1   0    2    8000    125      5\ni1   +    .    .       .       10\ni1   .    .    .       .       15\ni1   .    .    .       .       20\ni1   .    .    .       .       40\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 43_01_2.orc and 43_01_2.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:        43_01_2.ORC\n; synthesis:    (g)buzz(43)\n;               basic instrument(01)\n;               EXPON envelope(2)\n; coded:        jpg 10/93\n\n\ninstr 1; *****************************************************************\nidur  = p3\niamp  = p4\nifqc  = p5\ninmh   = int(sr/2/ifqc)\n\n   aenv    expon   iamp, idur, .0001\n   asrc    buzz    aenv, ifqc, inmh, 1\n           out     asrc\nendin\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     43_01_2.SCO\n; coded:     jpg 10/93\n\n\n; GEN functions **********************************************************\nf1 0 8193 10 1\n\n\n; score ******************************************************************\n\n;       idur  iamp  ifqc\ni1   0   1    8000    55\ni1   +   .    .      110\ni1   .   .    .      440\ni1   .   .    .     1760\ni1   .   .    .     3520\ni1   .   .    .     7040\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for i1        =         cpspch(p4) using buzz/pulse generator and resonant filter and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 524A.ORC and 524A.SCO\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; FIG 5.24a.orc\n\n\n          instr 1\ni1        =         cpspch(p4)\ni2        =         int((8000/i1)+.5)\ni3        =         1/32767\n\na1        linen     p5,p6,p3,p7\nk1        linen     p5,p6,p3,p7\na2        buzz      a1,i1,i2,5\nk1        =         (k1*i3)*5000.\na1        reson     a2,0.,k1,1,0\n\n          out       a1\n          endin\n\n</CsInstruments>\n<CsScore>\nc fig 5.24.a.scr\nf 1 0 512 7 0 512 1\nf 4 0 512 5 1 512 3\nf 5 0 1025 9 .25 1 90\nf 2 0 512 9 .5 1 0\n  i1 0.000 0.500 7.00 3000 0.010 0.450\n  i1 1.000 0.500 9.00 3000 0.010 0.450\n  i1 2.000 0.500 7.00 6000 0.010 0.450\n  i1 3.000 0.500 9.00 6000 0.010 0.450\n  i1 4.000 0.500 7.00 12000 0.010 0.450\n  i1 5.000 0.500 9.00 12000 0.010 0.450\n  i1 6.000 0.500 7.00 24000 0.010 0.450\n  i1 7.000 0.500 9.00 24000 0.010 0.450\n  i1 8.000 0.500 7.00 32000 0.010 0.450\n  i1 9.000 0.500 9.00 32000 0.010 0.450\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a polytie sound using buzz/pulse generator and linear segments and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from polytie.orc and polytie.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; jmdbrady@club-internet.fr wrote:\n; Hi,\n;>\n;> I can't find any precise information about making ties between two notes.\n;> The manual only says:\" p1 instrument number[...] An optional fractional part\n;> can provide an additional tag for specifying ties between particular notes.\" \n;> I've tried unsuccessfully.\n;>\n;> How can I make it?\n;>\n;> Thanks for any help.\n;>\n;> Jean-Michel DARRMONT\n\n; It just so happens that I have been exploring exactly this question myself,\n; and I think I've got it pretty well figured out.  Included below is a simple\n;example orchestra and score that illustrates how to do portamento between\n; notes that are tied, but to just play the note strictly with its given pitch\n; if it's not tied.  The score also uses the fractional instrument number\n; feature to show polyphonic portamento.\n\n;               David Kirsh\n\n\n\n\n; Demonstration of portamento between tied notes\n; This technique could be applied to other parameters and to\n; non-tied notes with straightforward changes.\n        instr   5           \ninote   =       cpspch(p4)          ; THIS NOTE'S PITCH\n\n    ; If this is not a tied note, then there's no previous\n    ; pitch to glide from, so set beginning pitch of\n    ; portamento to this note's pitch.  Then save this same\n    ; pitch in 'iprevpitch' so we can remember what pitch we\n    ; are coming from when we have a tied note.  We have to\n    ; save it both here and in the tied note case because if\n    ; we do it in a common place below, Csound complains about\n    ; iprevpitch being used before set.\n        tigoto      tieinit\n\n    ; At this point we know we're not in a tied note.\n    ; Set beginning and previous pitches to the same thing.\nibegpitch   =       inote\niprevpitch  =       inote\n        goto        cont\n\ntieinit:\n    ; We're in a tied note.\n    ; Set up beginning pitch for portamento to new pitch.\n    ; Beginning pitch is pitch of previous note that this one is\n    ; tied onto the end of.  Save current pitch in case another\n    ; note ties onto this one; then we'll be able to portamento\n    ; again to that new pitch.\nibegpitch   =       iprevpitch\niprevpitch  =       inote\n\ncont:\n    ; Now set up a pitch envelope that moves from the beginning\n    ; pitch (as determined above) to this note's nominal pitch.\nkpitchenv   linseg  ibegpitch, .9, inote, abs(p3), inote\n\n    ; Generate a sound using the pitch envelope.  Notice the\n    ; last 'buzz' argument (-1), which causes phase\n    ; initialization to be skipped.  This is important to avoid\n    ; clicks on tied notes.  (This simple example clicks on\n    ; untied notes, though, because there's no amplitude\n    ; envelope.)\na1      buzz    10000, kpitchenv, 6, 1, -1\n        out     a1\n        endin\n\n</CsInstruments>\n<CsScore>\n; A Little Test Music\nf1 0 1025 10 1\n;\ni5.1    0.0 -2  7.00\ni5.2    0.0 -2  7.04\ni5.1    2.0 -2  7.07\ni5.2    2.0 -2  7.11\ni5.1    4.0 -2  6.07\ni5.2    4.0 -2  7.00\ni5.1    6.0 2   7.00\ni5.2    6.0 2   6.00\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 43_01_1.orc and 43_01_1.sco\n; Original files preserved in same directory\n\nsr = 44100\nkr  =  441\nksmps= 100\nnchnls = 1\n\n; ************************************************************************\n; ACCCI:        43_01_1.ORC\n; synthesis:    (g)buzz(43)\n;               basic instrument(01)\n;               LINEN envelope(1)\n; coded:        jpg 10/93\n; note:\n; shows how buzz reacts to different frequencies...\n; very low range... buzzy indeed\n; stems from the fact that all amps are 1 ...\n\n; some octaves buzz with linen\n\n\ninstr 1; *****************************************************************\nidur  = p3\niamp  = p4\nifqc  = p5\ninmh  = int (sr/2/ifqc)\n\n   aenv    linen   iamp, .2, idur, .2\n   asrc    buzz    aenv,ifqc,inmh,1\n           out     asrc\n\nendin\n\n\n\n</CsInstruments>\n<CsScore>\n; ************************************************************************\n; ACCCI:     43_01_1.SCO\n; coded:     jpg 10/93\n\n\n; GEN functions **********************************************************\nf1 0 8193 10 1\n\n\n; score ******************************************************************\n\n;     idur  iamp  ifqc\ni1 0   2    8000   55\ni1 +   .    .     110\ni1 .   .    .     440\ni1 .   .    .    1760\ni1 .   .    .    3520\ni1 .   .    .    7040\n\ne\n      \n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =         p3 using buzz/pulse generator and linear segments and exponential segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from HiRezzy.orc and HiRezzy.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n; ORCHESTRA\n\n;---------------------------------------------------------------------------\n; SAW WITH MIKELSON REZZY FILTER\n;---------------------------------------------------------------------------\n          instr     15\n          \nidur      =         p3\niamp      =         p4\nifqc      =         cpspch(p5)*1.33\nifco      =         p6\nia2       =         1\nkrez      init      p7\n\nkfco      expseg    100+.01*ifco, .2*idur, ifco+100, .5*idur, ifco*.1+100,.3*idur, .001*ifco+100\nkamp      linseg    0, .002, iamp, .2, iamp*.8, p3-.222, iamp*.5, .02, 0\n                                        \n; axn     moogvco   ia2, ifqc, 1, 1\napulse    buzz      1,ifqc, sr/2/ifqc, 1     ; AVOID ALIASING\nasaw      biquad     apulse, 1, 0, 0, 1, -.999, 0 ; BIQUAD USED AS A LEAKY INTEGRATOR\n\n; SET UP FOR HIGH PASS VERSION OF REZZY.\nkt        =         .75/sqrt(1+krez)\nkc        =         sr/kfco/2/3.14159265\nkq        =         krez/(1+sqrt(sqrt(1/kc)))\nkb0       =         (kc/kq+kc*kc)*kt\nkb1       =         (-kc/kq-2*kc*kc)*kt\nkb2       =         kc*kc*kt\nka0       =         kc/kq+kc*kc\nka1       =         -kc/kq-2*kc*kc+1\nka2       =         kc*kc\n\nayn       biquad    asaw,  kb0, kb1, kb2, ka0, ka1, ka2 ; BIQUAD USED FOR HIGH PASS REZZY\n\n          outs      ayn*kamp, ayn*kamp\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 16384 10 1                               ; Sine\n\n;    Sta  Dur  Amp    Pitch  Fco   Rez\ni15  0.0  2    40000  7.05   1000  10\ni15  +    .    40000  6.03   2000  20\ni15  .    .    40000  6.10   4000  40\ni15  .    .    40000  7.05   8000  80\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for endin using buzz/pulse generator and Butterworth lowpass filter and Butterworth highpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bd11.orc and bd11.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  22050\nksmps\t=  2\nnchnls\t=  1\n\n\n\tseed 0\n\n#define MIDI2CPS(xmidi) # (440.0*exp(log(2.0)*(($xmidi)-69.0)/12.0)) #\n#define CPS2MIDI(xcps)  # ((log(($xcps)/440.0)/log(2.0))*12.0+69.0) #\n\n\tinstr 1\n\n/* ------------------------------------------------------------------------- */\n\nivol\t=  1.2\t\t/* volume\t\t\t\t\t*/\nibpm\t=  150\t\t/* tempo\t\t\t\t\t*/\n\nirel\t=  0.05\t\t/* release time\t\t\t\t\t*/\n\nistrtf1\t=  64.0\t\t/* start frequency / note f.\t\t\t*/\nifdec1\t=  128\t\t/* freq. decay speed\t\t\t\t*/\n\ninsmix\t=  1.0\t\t/* noise mix\t\t\t\t\t*/\n\niHP1f\t=  0.5\t\t/* HP filter 1 frequency / osc. freq.\t\t*/\niBP1f\t=  1.0\t\t/* BP filter 1 frequency / osc. freq.\t\t*/\niBP1b\t=  1.0\t\t/* BP filter 1 bandwidth / osc. freq.\t\t*/\n\niHP2f\t=  2.0\t\t/* HP filter 2 frequency / osc. freq.\t\t*/\niHP2m\t=  0.0\t\t/* HP filter 2 mix\t\t\t\t*/\niHP3f\t=  8.0\t\t/* HP filter 3 frequency / osc. freq.\t\t*/\niHP3m\t=  0.0\t\t/* HP filter 3 mix\t\t\t\t*/\n\niHPxf\t=  1.0\t\t/* output HP filter frequency / note frequency\t*/\niHPxr\t=  0.7\t\t/* output HP filter resonance\t\t\t*/\n\niLPf1\t=  4.0\t\t/* output LP filter frequency 1 / osc. freq.\t*/\niLPd1\t=  4\t\t/* output LP filter frequency 1 decay speed\t*/\niLPf2\t=  4.0\t\t/* output LP filter frequency 2 / osc. freq.\t*/\niLPd2\t=  4\t\t/* output LP filter frequency 2 decay speed\t*/\n\niAMxd\t=  8\t\t/* amp. envelope speed\t\t\t\t*/\n\niAM1s\t=  0.25\t\t/* amp. envelope 1 start value\t\t\t*/\niAM1d\t=  8\t\t/* amp. envelope 1 decay speed\t\t\t*/\niAM2s\t=  2.0\t\t/* amp. envelope 2 start value\t\t\t*/\niAM2d\t=  2\t\t/* amp. envelope 2 decay speed\t\t\t*/\n\n/* ------------------------------------------------------------------------- */\n\nibtime\t=  60/ibpm\n\np3\t=  p3+irel+0.05\n\nimkey\t=  p4\nimvel\t=  p5\n\nicps\t=  $MIDI2CPS(imkey)\niamp\t=  (0.0039+imvel*imvel/16192)*ivol*16384\nkamp\tlinseg 1,p3-(irel+0.05),1,irel,0,0.05,0\n\nk_\tline 0, 1, 1\t\t\t\t/* calculate osc. frequency */\nkcps\t=  icps*(k_*(ifdec1/ibtime)+istrtf1)/(k_*(ifdec1/ibtime)+1)\n\nknumh\t=  sr/(2*kcps)\t\t\t\t/* square oscillator */\n\na__\tbuzz sr/(10*3.14159265), kcps, knumh, 256, 0\na___\tbuzz sr/(10*3.14159265), kcps, knumh, 256, 0.5\na0\ttone a__-a___, 10\n\na_\tunirand 2\t\t\t\t/* noise generator */\na0\t=  a0+(a_-1)*insmix\n\na1\t=  a0\t/* save osc. output */\n\na0\tbutterhp a0,iHP1f*kcps\t\t\t/* HP filter 1 */\n\na0\tbutterbp a0,iBP1f*kcps,iBP1b*kcps\t/* BP filter 1 */\n\na_\tbutterhp a1,iHP2f*kcps\t\t\t/* HP filter 2 and 3 */\na__\tbutterhp a1,iHP3f*kcps\na0\t=  a0+a_*iHP2m+a__*iHP3m\n\na0\tbutterhp a0,iHPxf*icps\t\t\t\t/* output HP filter */\na0\tpareq a0,iHPxf*icps,iHPxr*1.4142,iHPxr,0\n\nk_\tport 1,ibtime/iAMxd,0\t\t\t\t/* amp. envelope */\nk__\t=  sin(k_*3.14159265*2.0)\na0\t=  a0*k__\n\nk_\texpseg 1,ibtime/iAM1d,0.5\t\t\t/* amp. envelopes */\nk__\texpseg 1,ibtime/iAM2d,0.5\nk_\t=  (1-k_)*(1-iAM1s)+iAM1s\nk__\t=  (1-k__)*(1-iAM2s)+iAM2s\na0\t=  a0*k_*k__\n\nk_\tport 0,ibtime/iLPd1,iLPf1\t\t\t/* output LP filter */\nk__\tport 0,ibtime/iLPd2,iLPf2\na0\tbutterlp a0,kcps*(k_+k__)\n\na0\tbutterlp a0*iamp*kamp,sr*0.48\n\n\tout a0\n\n\tendin\n\n\tinstr 90\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt 0 150.00\t/* tempo */\n\ni 90\t0.0000\t18.000\t\t/* output instrument */\n\n#define Rhytm1(xstrt) #\n\ni 1\t[$xstrt+0.0000]\t\t0.4000\t21\t120\ni 1\t[$xstrt+0.9900]\t\t0.4000\t21\t116\ni 1\t[$xstrt+1.9900]\t\t0.4000\t21\t120\ni 1\t[$xstrt+3.0000]\t\t0.4000\t21\t116\ni 1\t[$xstrt+4.0000]\t\t0.4000\t21\t120\ni 1\t[$xstrt+4.9900]\t\t0.4000\t21\t116\ni 1\t[$xstrt+5.9900]\t\t0.4000\t21\t118\ni 1\t[$xstrt+7.0000]\t\t0.4000\t21\t116\n\n#\n\n$Rhytm1(0)\n$Rhytm1(8)\n\n/* ------------------------------------------------------------------------- */\n\nf 256 0 262144 10 1\n\ne\t/* end of score */\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and modal synthesis and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bd1601.orc and bd1601.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         22050\nksmps          =         2\nnchnls         =         1\n\n; ------------------------ bd16_01.orc ------------------------\n\n\n/* ------------------------------------------------------- */\n\n               seed      0\n\n               instr     1\n\nimkey          =         p4    /* GET NOTE PARAMETERS FROM SCORE FILE */\nimvel          =         p5\n\nicps           =         440.0*exp(log(2.0)*(imkey-69.0)/12.0)\niamp           =         0.0039+imvel*imvel/16192\n\n/* ------------------------------------------------------- */\n\nivol           =         5500           /* OUTPUT VOLUME               */\nibpm           =         135            /* TEMPO                       */\n\nifrqs          =         5.3333         /* OSC. START FRQ. / NOTE FREQ. */\nifrqe          =         1.0            /* OSC. END FREQ. / NOTE FRQ.  */\nifrqd          =         16             /* OSC. FREQ. ENVELOPE SPEED   */\n\niffr1s         =         880            /* LP FILTER START FREQ. 1 (HZ) */\niffr1d         =         128            /* LP FILTER FRQ. 1 DECAY SPEED */\niffr2s         =         0              /* LP FILTER START FREQ. 2 (HZ) */\niffr2d         =         1              /* LP FILTER FRQ. 2 DECAY SPEED */\niffr3s         =         8              /* LP FILTER START FREQ. 3 / NOTE FRQ.   */\niffr3d         =         8              /* LOWPASS FILTER FREQ. 3 DECAY SPEED    */\niffr4s         =         0              /* LP FILTER START FREQ. 4 / NOTE FRQ.   */\niffr4d         =         1              /* LOWPASS FILTER FREQ. 4 DECAY SPEED    */\n\niEQ1fo         =         0.5            /* EQ 1 FREQUENCY / OSC. FREQ.      */\niEQ1fn         =         0              /* EQ 1 FREQUENCY / NOTE FREQ.      */\niEQ1fa         =         0              /* EQ 1 FREQUENCY (HZ)         */\niEQ1l          =         0.25           /* EQ 1 LEVEL                  */\niEQ1q          =         0.7071         /* EQ 1 Q                      */\niEQ1m          =         1              /* EQ 1 MODE (0:PEAK,1:LO,2:HI) */\n\niEQ2fo         =         0.5            /* EQ 2 FREQUENCY / OSC. FREQ.      */\niEQ2fn         =         0              /* EQ 2 FREQUENCY / NOTE FREQ.      */\niEQ2fa         =         0              /* EQ 2 FREQUENCY (HZ)         */\niEQ2l          =         0.25           /* EQ 2 LEVEL                  */\niEQ2q          =         0.7071         /* EQ 2 Q                      */\niEQ2m          =         1              /* EQ 2 MODE (0:PEAK,1:LO,2:HI) */\n\niEQ3fo         =         0.5            /* EQ 3 FREQUENCY / OSC. FREQ.      */\niEQ3fn         =         0              /* EQ 3 FREQUENCY / NOTE FREQ.      */\niEQ3fa         =         0              /* EQ 3 FREQUENCY (HZ)         */\niEQ3l          =         4              /* EQ 3 LEVEL                  */\niEQ3q          =         2.0            /* EQ 3 Q                      */\niEQ3m          =         0              /* EQ 3 MODE (0:PEAK,1:LO,2:HI) */\n\niEQ4fo         =         0              /* EQ 4 FREQUENCY / OSC. FREQ.      */\niEQ4fn         =         1.5            /* EQ 4 frequency / note freq.      */\niEQ4fa         =         0              /* EQ 4 frequency (Hz)         */\niEQ4l          =         2.0            /* EQ 4 level                  */\niEQ4q          =         1.0            /* EQ 4 Q                      */\niEQ4m          =         0              /* EQ 4 mode (0:peak,1:lo,2:hi) */\n\ninsmix         =         16             /* NOISE MIX                   */\n\niEQn1fo        =         0              /* NOISE EQ 1 FREQUENCY / OSC. FREQ.     */\niEQn1fn        =         1              /* NOISE EQ 1 FREQUENCY / NOTE FREQ.     */\niEQn1fa        =         0              /* NOISE EQ 1 FREQUENCY (HZ)             */\niEQn1l         =         0.0625         /* NOISE EQ 1 LEVEL            */\niEQn1q         =         0.7071         /* NOISE EQ 1 Q                     */\niEQn1m         =         1              /* NOISE EQ 1 MODE (0:PEAK,1:LO,2:HI)    */\n\niEQn2fo        =         0              /* NOISE EQ 2 FREQUENCY / OSC. FREQ.     */\niEQn2fn        =         16             /* NOISE EQ 2 FREQUENCY / NOTE FREQ.     */\niEQn2fa        =         0              /* NOISE EQ 2 FREQUENCY (HZ)             */\niEQn2l         =         0.0625         /* NOISE EQ 2 LEVEL            */\niEQn2q         =         0.7071         /* NOISE EQ 2 Q                     */\niEQn2m         =         1              /* NOISE EQ 2 MODE (0:PEAK,1:LO,2:HI)    */\n\n/* ------------------------------------------------------- */\n\np3             =         p3+0.15        /* INCREASE NOTE LENGTH */\n\nibtime         =         60/ibpm\n\n/* AMP. ENVELOPE */\n\nkamp           linseg    1, p3-0.15, 1, 0.05, 0, 0.1, 0\nkamp           =         kamp*iamp*ivol\n\n/* KCPS        =         OSC. FREQUENCY, KNUMH = NUM. OF HARMONICS */\n\nkcps           port      ifrqe*icps, ibtime/ifrqd, ifrqs*icps\nknumh          =         sr/(2*kcps)\n\n/* OSCILLATOR */\n\na_             buzz      sr/(3.14159265*10), kcps, knumh, 1, 0\na__            buzz      sr/(3.14159265*10), kcps, knumh, 1, 0.5\n\na0             tone      a_-a__,10\n\na_             unirand   2              /* NOISE GENERATOR */\na_             =         a_-1\n\na_             pareq     a_, iEQn1fa+icps*iEQn1fn+kcps*iEQn1fo, \\\n                         iEQn1l, iEQn1q, iEQn1m\na_             pareq     a_, iEQn2fa+icps*iEQn2fn+kcps*iEQn2fo, \\\n                         iEQn2l, iEQn2q, iEQn2m\n\na0             =         a0 + insmix*a_\n\n/* EQ */\n\na0             pareq     a0, iEQ1fa+icps*iEQ1fn+kcps*iEQ1fo, iEQ1l, \\\n                         iEQ1q, iEQ1m\na0             pareq     a0, iEQ2fa+icps*iEQ2fn+kcps*iEQ2fo, iEQ2l, \\\n                         iEQ2q, iEQ2m\na0             pareq     a0, iEQ3fa+icps*iEQ3fn+kcps*iEQ3fo, iEQ3l, \\\n                         iEQ3q, iEQ3m\na0             pareq     a0, iEQ4fa+icps*iEQ4fn+kcps*iEQ4fo, iEQ4l, \\\n                         iEQ4q, iEQ4m\n\n/* FILTER FREQ. ENVELOPES */\n\nkffr1          port      0, ibtime/iffr1d, iffr1s\nkffr2          port      0, ibtime/iffr2d, iffr2s\nkffr3          port      0, ibtime/iffr3d, iffr3s*icps\nkffr4          port      0, ibtime/iffr4d, iffr4s*icps\n\n/* KFFRQ = LP FILTER FREQUENCY */\n\nkffrq          =         kffr1 + kffr2 + kffr3 + kffr4\n\na0             butterlp  a0, kffrq                /* LP FILTER */\n\na_             =         a0*kamp\n\n               out       a_\n\n               endin\n\n</CsInstruments>\n<CsScore>\n;-------------------------- bd16_01.sco ----------------------\n\nt 0 135.00      /* TEMPO */\n\ni 1     0.0000  0.4000  33      120\ni 1     1.0100  0.4000  33      112\ni 1     2.0100  0.4000  33      124\ni 1     3.0050  0.4000  33      112\ni 1     4.0000  0.4000  33      116\ni 1     5.0100  0.4000  33      112\ni 1     6.0100  0.4000  33      120\ni 1     6.9900  0.3000  33      120\ni 1     7.5000  0.3000  33      116\n\ni 1     8.0000  0.4000  33      120\ni 1     9.0100  0.4000  33      112\ni 1     10.010  0.4000  33      124\ni 1     11.005  0.4000  33      112\ni 1     12.000  0.4000  33      116\ni 1     13.010  0.4000  33      112\ni 1     14.010  0.4000  33      120\ni 1     15.005  0.4000  33      112\n\n/* ------------------------------------------------------- */\n\nf 1 0 262144 10 1\n\ne       /* END OF SCORE */\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for soundout gax0,$OUTFLNAME,6\t/* mono output file */ using drum sound and buzz/pulse generator and modal synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from drum_05_01.orc and drum_05_01.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  22050\nksmps\t=  2\nnchnls\t=  2\n\n\n/* mono output file name (file format: raw,1 channel,float) */\n\n#define OUTFLNAME # \"_tmp.dat\" #\n\n#include \"Effects.Header.orc\"\n#include \"Delays.include.orc\"\n#include \"Spatial_Stereo.include.orc\"\n\n/* spatializer macro */\n\n#define SPATMACRO # $SpatStereo #\n\n/* ------------------------------------------------------------------------- */\n\n$InitHQDelay\n\n\tseed 0\n\ngax0\tinit 0\n\n\tinstr 1\n\nimkey\t=  p4\t\t/* get note parameters from score file */\nimvel\t=  p5\n\nimkey\tlimit imkey,0,127\nimvel\tlimit imvel,0,127\n\nicps\t=  440.0*exp(log(2.0)*(imkey-69.0)/12.0)\niamp\t=  0.0039+imvel*imvel/16192\n\n/* ------------------------------------------------------------------------- */\n\nivol\ttable\t 0,\t64\t/* output volume\t\t\t*/\nibpm\ttable\t 1,\t64\t/* tempo\t\t\t\t*/\n\nifrqs1\ttable\t 2,\t64\t/* oscillator start freq. 1 / note frq.\t*/\nifrqd1\ttable\t 3,\t64\t/* osc. frq. 1 decay speed at max. vel.\t*/\nifrqdx1\ttable\t 4,\t64\t/* osc. freq. 1 max. decay speed\t*/\nifrqdxv\ttable\t 5,\t64\t/* note velocity for max. decay speed\t*/\nifrqs2\ttable\t 6,\t64\t/* oscillator start freq. 2 / note frq.\t*/\nifrqd2\ttable\t 7,\t64\t/* osc. freq. 2 decay speed\t\t*/\nifrqs3\ttable\t 8,\t64\t/* oscillator start freq. 3 / note frq.\t*/\nifrqd3\ttable\t 9,\t64\t/* osc. freq. 3 decay speed\t\t*/\nifrqs4\ttable\t10,\t64\t/* oscillator start freq. 4 / note frq.\t*/\nifrqd4\ttable\t11,\t64\t/* osc. freq. 4 decay speed\t\t*/\n\niffr1s\ttable\t12,\t64\t/* lowpass filter start freq. 1 (Hz)\t*/\niffr1d\ttable\t13,\t64\t/* lowpass filter freq. 1 decay speed\t*/\niffr2s\ttable\t14,\t64\t/* lowpass filter start freq. 2 (Hz)\t*/\niffr2d\ttable\t15,\t64\t/* lowpass filter freq. 2 decay speed\t*/\niffr3s\ttable\t16,\t64\t/* LP filter start freq. 3 / note frq.\t*/\niffr3d\ttable\t17,\t64\t/* lowpass filter freq. 3 decay speed\t*/\niffr4s\ttable\t18,\t64\t/* LP filter start freq. 4 / note frq.\t*/\niffr4d\ttable\t19,\t64\t/* lowpass filter freq. 4 decay speed\t*/\n\niEQ1fo\ttable\t20,\t64\t/* EQ 1 frequency / osc. frequency\t*/\niEQ1fn\ttable\t21,\t64\t/* EQ 1 frequency / note frequency\t*/\niEQ1fa\ttable\t22,\t64\t/* EQ 1 frequency (Hz)\t\t\t*/\niEQ1l\ttable\t23,\t64\t/* EQ 1 level\t\t\t\t*/\niEQ1q\ttable\t24,\t64\t/* EQ 1 Q\t\t\t\t*/\niEQ1m\ttable\t25,\t64\t/* EQ 1 mode (0:peak,1:low,2:high)\t*/\n\niEQ2fo\ttable\t26,\t64\t/* EQ 2 frequency / osc. frequency\t*/\niEQ2fn\ttable\t27,\t64\t/* EQ 2 frequency / note frequency\t*/\niEQ2fa\ttable\t28,\t64\t/* EQ 2 frequency (Hz)\t\t\t*/\niEQ2l\ttable\t29,\t64\t/* EQ 2 level\t\t\t\t*/\niEQ2q\ttable\t30,\t64\t/* EQ 2 Q\t\t\t\t*/\niEQ2m\ttable\t31,\t64\t/* EQ 2 mode (0:peak,1:low,2:high)\t*/\n\niEQ3fo\ttable\t32,\t64\t/* EQ 3 frequency / osc. frequency\t*/\niEQ3fn\ttable\t33,\t64\t/* EQ 3 frequency / note frequency\t*/\niEQ3fa\ttable\t34,\t64\t/* EQ 3 frequency (Hz)\t\t\t*/\niEQ3l\ttable\t35,\t64\t/* EQ 3 level\t\t\t\t*/\niEQ3q\ttable\t36,\t64\t/* EQ 3 Q\t\t\t\t*/\niEQ3m\ttable\t37,\t64\t/* EQ 3 mode (0:peak,1:low,2:high)\t*/\n\niEQ4fo\ttable\t38,\t64\t/* EQ 4 frequency / osc. frequency\t*/\niEQ4fn\ttable\t39,\t64\t/* EQ 4 frequency / note frequency\t*/\niEQ4fa\ttable\t40,\t64\t/* EQ 4 frequency (Hz)\t\t\t*/\niEQ4l\ttable\t41,\t64\t/* EQ 4 level\t\t\t\t*/\niEQ4q\ttable\t42,\t64\t/* EQ 4 Q\t\t\t\t*/\niEQ4m\ttable\t43,\t64\t/* EQ 4 mode (0:peak,1:low,2:high)\t*/\n\ninsmix\ttable\t44,\t64\t/* noise mix\t\t\t\t*/\n\niEQn1fo\ttable\t45,\t64\t/* noise EQ 1 frequency / osc. freq.\t*/\niEQn1fn\ttable\t46,\t64\t/* noise EQ 1 frequency / note freq.\t*/\niEQn1fa\ttable\t47,\t64\t/* noise EQ 1 frequency (Hz)\t\t*/\niEQn1l\ttable\t48,\t64\t/* noise EQ 1 level\t\t\t*/\niEQn1q\ttable\t49,\t64\t/* noise EQ 1 Q\t\t\t\t*/\niEQn1m\ttable\t50,\t64\t/* noise EQ 1 mode (0:peak,1:lo,2:hi)\t*/\n\niEQn2fo\ttable\t51,\t64\t/* noise EQ 2 frequency / osc. freq.\t*/\niEQn2fn\ttable\t52,\t64\t/* noise EQ 2 frequency / note freq.\t*/\niEQn2fa\ttable\t53,\t64\t/* noise EQ 2 frequency (Hz)\t\t*/\niEQn2l\ttable\t54,\t64\t/* noise EQ 2 level\t\t\t*/\niEQn2q\ttable\t55,\t64\t/* noise EQ 2 Q\t\t\t\t*/\niEQn2m\ttable\t56,\t64\t/* noise EQ 2 mode (0:peak,1:lo,2:hi)\t*/\n\nimkmin\ttable\t57,\t64\t/* MIDI key range for panning\t\t*/\nimkmax\ttable\t58,\t64\n\niazim0\ttable\t59,\t64\t/* azimuth range\t\t\t*/\niazim1\ttable\t60,\t64\nielev0\ttable\t61,\t64\t/* elevation range\t\t\t*/\nielev1\ttable\t62,\t64\nidist0\ttable\t63,\t64\t/* distance range\t\t\t*/\nidist1\ttable\t64,\t64\n\n/* ------------------------------------------------------------------------- */\n\np3\t=  p3+0.15\t/* increase note length */\n\nibtime\t=  60/ibpm\n\nkamp\tlinseg 1,p3-0.15,1,0.05,0,0.1,0\t\t/* amp. envelope */\nkamp\t=  kamp*iamp*ivol\n\ni_\tlimit (imvel-ifrqdxv),0,127\t/* calculate freq. 1 dec. speed */\ni_\t=  i_/(127-ifrqdxv)\nifrqd1\t=  ifrqdx1-i_*(ifrqdx1-ifrqd1)\n\nkfrq1\texpseg 1,ibtime/ifrqd1,0.5\t/* osc. frq. envelopes */\nkfrq2\texpseg 1,ibtime/ifrqd2,0.5\nkfrq3\texpseg 1,ibtime/ifrqd3,0.5\nkfrq4\texpseg 1,ibtime/ifrqd4,0.5\n\nkfrq1\t=  kfrq1*ifrqs1*icps\nkfrq2\t=  kfrq2*ifrqs2*icps\nkfrq3\t=  kfrq3*ifrqs3*icps\nkfrq4\t=  kfrq4*ifrqs4*icps\n\nkcps\t=  kfrq1+kfrq2+kfrq3+kfrq4\t/* kcps = osc. frequency */\n\nkmkey\t=  ((log(kcps/440.0)/log(2.0))*12.0)+69.0\nkmkey\tlimit kmkey,0,127\nknumh\t=  sr/(2*kcps)\t\t\t/* knumh = number of harmonics */\n\na_\tbuzz sr/(10*3.14159265), kcps, knumh, 1, 0\na__\tbuzz sr/(10*3.14159265), kcps, knumh, 1, 0.5\n\na0\ttone a_-a__, 10\n\na_\tunirand 2\t\t\t/* noise generator */\na_\t=  a_-1\n\na_\tpareq a_,iEQn1fa+icps*iEQn1fn+kcps*iEQn1fo,iEQn1l,iEQn1q,iEQn1m\na_\tpareq a_,iEQn2fa+icps*iEQn2fn+kcps*iEQn2fo,iEQn2l,iEQn2q,iEQn2m\n\na0\t=  a0+insmix*a_\n\n/* EQ */\n\na0\tpareq a0,iEQ1fa+icps*iEQ1fn+kcps*iEQ1fo,iEQ1l,iEQ1q,iEQ1m\na0\tpareq a0,iEQ2fa+icps*iEQ2fn+kcps*iEQ2fo,iEQ2l,iEQ2q,iEQ2m\na0\tpareq a0,iEQ3fa+icps*iEQ3fn+kcps*iEQ3fo,iEQ3l,iEQ3q,iEQ3m\na0\tpareq a0,iEQ4fa+icps*iEQ4fn+kcps*iEQ4fo,iEQ4l,iEQ4q,iEQ4m\n\nkffr1\texpseg 1,ibtime/iffr1d,0.5\t/* LP filter freq. envelopes */\nkffr2\texpseg 1,ibtime/iffr2d,0.5\nkffr3\texpseg 1,ibtime/iffr3d,0.5\nkffr4\texpseg 1,ibtime/iffr4d,0.5\n\nkffr1\t=  kffr1*iffr1s\nkffr2\t=  kffr2*iffr2s\nkffr3\t=  kffr3*iffr3s*icps\nkffr4\t=  kffr4*iffr4s*icps\n\nkffrq\t=  kffr1+kffr2+kffr3+kffr4\t/* kffrq = LP filter frequency */\n\na0\tbutterlp a0,kffrq\t\t/* LP filter */\n\na_\t=  a0*kamp\t\t\t/* apply envelope */\n\ngax0\t=  gax0+a_\t\t\t/* send to global output */\n\nispt1\tlimit imkey,imkmin,imkmax\t\t/* calculate azimuth, */\nispt1\t=  (ispt1-imkmin)/(imkmax-imkmin)\t/* elevation and distance */\n\ni_az_\t=  iazim0+(iazim1-iazim0)*ispt1\ni_el_\t=  ielev0+(ielev1-ielev0)*ispt1\ni_d_\t=  idist0+(idist1-idist0)*ispt1\n\n$SPATMACRO\n\n\touts a_L_,a_R_\t\t/* output spatialized sound */\n\n\tendin\n\n/* ------------------------------------------------------------------------- */\n\n\tinstr 90\n\n\tsoundout gax0,$OUTFLNAME,6\t/* mono output file */\ngax0\t=  0\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt 0 170.00\t/* tempo */\n\ni 90 0 18.0\t/* output instrument */\n\ni 1\t0.0000\t0.4000\t32\t127\ni 1\t0.9900\t0.4000\t32\t120\ni 1\t1.9800\t0.4000\t32\t124\ni 1\t2.9800\t0.4000\t32\t116\ni 1\t4.0000\t0.4000\t32\t127\ni 1\t4.9900\t0.4000\t32\t120\ni 1\t5.9800\t0.4000\t32\t124\ni 1\t6.9800\t0.4000\t32\t116\ni 1\t8.0000\t0.4000\t32\t127\ni 1\t8.9900\t0.4000\t32\t120\ni 1\t9.9800\t0.4000\t32\t124\ni 1\t10.980\t0.4000\t32\t116\ni 1\t12.000\t0.4000\t32\t127\ni 1\t12.990\t0.4000\t32\t120\ni 1\t13.980\t0.4000\t32\t124\ni 1\t14.980\t0.4000\t32\t116\n\n/* ------------------------------------------------------------------------- */\n\nf 64 0 128 -2\t10000.0\t\t/* output volume\t\t\t*/\n\t\t170.0\t\t/* tempo\t\t\t\t*/\n\n\t\t4.3333\t\t/* oscillator start freq. 1 / note frq.\t*/\n\t\t8.0\t\t/* osc. frq. 1 decay speed at max. vel.\t*/\n\t\t16.0\t\t/* osc. freq. 1 max. decay speed\t*/\n\t\t96\t\t/* note velocity for max. decay speed\t*/\n\t\t1.0\t\t/* oscillator start freq. 2 / note frq.\t*/\n\t\t2.0\t\t/* osc. freq. 2 decay speed\t\t*/\n\t\t10.6667\t\t/* oscillator start freq. 3 / note frq.\t*/\n\t\t128.0\t\t/* osc. freq. 3 decay speed\t\t*/\n\t\t0.0\t\t/* oscillator start freq. 4 / note frq.\t*/\n\t\t1.0\t\t/* osc. freq. 4 decay speed\t\t*/\n\n\t\t0\t\t/* lowpass filter start freq. 1 (Hz)\t*/\n\t\t1\t\t/* lowpass filter freq. 1 decay speed\t*/\n\t\t0\t\t/* lowpass filter start freq. 2 (Hz)\t*/\n\t\t1\t\t/* lowpass filter freq. 2 decay speed\t*/\n\t\t48.0\t\t/* LP filter start freq. 3 / note frq.\t*/\n\t\t64.0\t\t/* lowpass filter freq. 3 decay speed\t*/\n\t\t16.0\t\t/* LP filter start freq. 4 / note frq.\t*/\n\t\t12.0\t\t/* lowpass filter freq. 4 decay speed\t*/\n\n\t\t0\t\t/* EQ 1 frequency / osc. frequency\t*/\n\t\t1.5\t\t/* EQ 1 frequency / note frequency\t*/\n\t\t0\t\t/* EQ 1 frequency (Hz)\t\t\t*/\n\t\t1.4142\t\t/* EQ 1 level\t\t\t\t*/\n\t\t1.4142\t\t/* EQ 1 Q\t\t\t\t*/\n\t\t0\t\t/* EQ 1 mode (0:peak,1:low,2:high)\t*/\n\n\t\t0\t\t/* EQ 2 frequency / osc. frequency\t*/\n\t\t4\t\t/* EQ 2 frequency / note frequency\t*/\n\t\t0\t\t/* EQ 2 frequency (Hz)\t\t\t*/\n\t\t0.25\t\t/* EQ 2 level\t\t\t\t*/\n\t\t1.0\t\t/* EQ 2 Q\t\t\t\t*/\n\t\t2\t\t/* EQ 2 mode (0:peak,1:low,2:high)\t*/\n\n\t\t0\t\t/* EQ 3 frequency / osc. frequency\t*/\n\t\t0\t\t/* EQ 3 frequency / note frequency\t*/\n\t\t1000\t\t/* EQ 3 frequency (Hz)\t\t\t*/\n\t\t1.0\t\t/* EQ 3 level\t\t\t\t*/\n\t\t0.7071\t\t/* EQ 3 Q\t\t\t\t*/\n\t\t0\t\t/* EQ 3 mode (0:peak,1:low,2:high)\t*/\n\n\t\t0\t\t/* EQ 4 frequency / osc. frequency\t*/\n\t\t0\t\t/* EQ 4 frequency / note frequency\t*/\n\t\t1000\t\t/* EQ 4 frequency (Hz)\t\t\t*/\n\t\t1.0\t\t/* EQ 4 level\t\t\t\t*/\n\t\t0.7071\t\t/* EQ 4 Q\t\t\t\t*/\n\t\t0\t\t/* EQ 4 mode (0:peak,1:low,2:high)\t*/\n\n\t\t1.0\t\t/* noise mix\t\t\t\t*/\n\n\t\t0\t\t/* noise EQ 1 frequency / osc. freq.\t*/\n\t\t0\t\t/* noise EQ 1 frequency / note freq.\t*/\n\t\t1000\t\t/* noise EQ 1 frequency (Hz)\t\t*/\n\t\t1.0\t\t/* noise EQ 1 level\t\t\t*/\n\t\t0.7071\t\t/* noise EQ 1 Q\t\t\t\t*/\n\t\t1\t\t/* noise EQ 1 mode (0:peak,1:lo,2:hi)\t*/\n\n\t\t0\t\t/* noise EQ 2 frequency / osc. freq.\t*/\n\t\t0\t\t/* noise EQ 2 frequency / note freq.\t*/\n\t\t1000\t\t/* noise EQ 2 frequency (Hz)\t\t*/\n\t\t1.0\t\t/* noise EQ 2 level\t\t\t*/\n\t\t0.7071\t\t/* noise EQ 2 Q\t\t\t\t*/\n\t\t0\t\t/* noise EQ 2 mode (0:peak,1:lo,2:hi)\t*/\n\n\t\t48\t55\t/* MIDI key range for panning\t\t*/\n\t\t0\t0\t/* azimuth range\t\t\t*/\n\t\t0\t0\t/* elevation range\t\t\t*/\n\t\t0.5\t0.5\t/* distance range\t\t\t*/\n\n/* ------------------------------------------------------------------------- */\n\nf 1 0 262144 10 1\n\ne\t/* end of score */\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for MOOG 24 dB (4 POLE) LPF WITH RESONANCE !! using buzz/pulse generator and random noise and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from moog0.orc and moog0.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; Josep M Comajuncosas\n\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n          instr 1             ; MOOG 24 dB (4 POLE) LPF WITH RESONANCE !!\n; based on papers by Stilson & Smith\n; coded in C by (?)\n; ported to Csound by Josep M Comajuncosas\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\nkout0     init      0\nkout4     init      0\n\nkap1      init      0\nkap2      init      0\nkap3      init      0\nkap4      init      0\n\nkin1      init      0\nkin2      init      0\nkin3      init      0\nkin4      init      0\n\n; SOUND SOURCE: PUT HERE WHAT YOU WANT\nkinput    rand      10000\n\n; kfcon / kresin BETWEEN 0 AND 1\n; WORKS BEST BETWEEN 0 ~ sr/4 Hz (OR sr/6...)\n\nilimres   =         10000                    ; AN EMPYRICAL VALUE TO PLAY WITH\nkfco      linseg    100, p3/2, 5000, p3/2, 1000 ; FILTER CUTOFF FREQUENCY (SUGGESTED 0 TO sr/4)\nkresin    linseg    .25, p3/2, .5, p3/2, .99 ; RESONANCE AMOUNT (0 TO 1 -OSCILLATION)\n\nkfcon     =         2*kfco/sr                ; NORMALIZED FREQ. 0 TO NYQUIST\n\nkreso     =         1 - kfcon                ; EMPYRICAL TUNING\nkreso     =         1 + 3.5 * kreso * kreso\nkreso     =         kreso * kresin\n\nkfcon     =         kfcon * 2.0 - 1.0;\n\nkreso     =         kreso * kout4;\n\n; LIMIT RESONANCE (JUST SIMPLE CLIPPING...)\nkreso     =         ( kreso >  ilimres  ?  ilimres : kreso)\nkreso     =         ( kreso < -ilimres ? -ilimres : kreso)\n\nkout0     =         kinput - kreso           ; FEEDBACK!\n                                             \n; LOWPASS 1\nkap1      =         (kout0 - kap1) * kfcon + kin1 ; ALLPASS SECTION\nkin1      =         kout0;\nkout1     =         (kout0 + kap1) * 0.5     ; COMBINE WITH KINPUT\n\n; LOWPASS 2\nkap2      =         (kout1 - kap2) * kfcon + kin2;\nkin2      =         kout1;\nkout2     =         (kout1 + kap2) * 0.5;\n\n; LOWPASS 3\nkap3      =         (kout2 - kap3) * kfcon + kin3;\nkin3      =         kout2;\nkout3     =         (kout2 + kap3) * 0.5;\n\n; LOWPASS 4\nkap4      =         (kout3 - kap4) * kfcon + kin4;\nkin4      =         kout3;\nkout4     =         (kout3 + kap4) * 0.5\n\n          aout      upsamp kout4;\n          out       aout\n\n          endin\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n          instr 4             ; 24 dB LPF WITH RESONANCE. CAN SELF-OSCILLATE !\n; loosely based on some papers by Stilson & Smith (CCRMA)\n; coded by Josep M Comajuncosas / jan498\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\naout      init      0\niamp      =         10000                    ; INTENDED MAXIMUM AMPLITUDE\nkfreq     =         100\nifco      =         p4                       ; KEEP IT WELL BELOW sr/4 OR LESS\n\n\nkenv      linen     1, .05, p3, p3-.25\nkres      =         kenv*3.9                 ; RESONANCE (0,4)\n; 4 FOR SELF-OSCILLATION, BUT BE CAREFUL\nkfco      =         kfreq + ifco*kenv        ; FILTER CUTOFF FREQUENCY\n\nkfcn      =         kfco/sr                  ; FREQUENCY NORMALIZED (0, 1/4)\nkcorr     =         1-4*kfcn                 ; SOME EMPYRICAL TUNING...\nkres      =         kres/kcorr               ; MORE FEEDBACK FOR HIGHER FREQUENCIES\n; THIS IS TO COMPENSATE FOR THE WORSE EFFICIENCY OF THE FILTER AT HIGH kfco\n; (PHASE RESP. AT kfco GOES FROM pi/4 AT ~ 0 Hz TO 0 AT sr/4 FOR A 1st ORDER IIR LPF)\n; THIS ALSO MAKES IMPOSSIBLE TO USE FREQUENCIES ABOVE sr/4\n\nasig      buzz      1,kfreq,sr/(2*kfreq),1   ; SOUND SOURCE, WHAT YOU WANT\n\narez      =         asig - kres*aout         ; INVERTED FEEDBACK TO THE FILTER\n; AS PH. RESP. OF A 4 STAGE LPF AT kfco IS 180=BA BUT  AT DC & sr/2 =  0==BA\n; INVERTING IT IN THE FEEDBACK LOOP CAUSES THE FILTER TO EMPHASIZE kfco(\"CORNER PEAKING\")\nalpf      tone      arez, kfco               ; 4 CASCADED 1st ORDER IIR LPF\nalpf      tone      alpf, kfco\nalpf      tone      alpf, kfco\naout      tone      alpf, kfco\n                                        \n          out       aout*iamp*kcorr*20       ; A MINIMUM EQUALISATION\n; 20 IS EMPYRICAL, YOU MAY HAVE TO REMOVE IT FOR OTHER SOUND SOURCES\n; BUT EVEN THUS THE AMPLITUDE OBVIOUSLY INCREASES WITH kfco.\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0  32769 10 1\ni1  0 10\ns\ni1 0 3 380\ni1 3 . 570\ni1 6 . 1067\ni1 9 . 2473\ni1 12 . 5062\ni1 15 . 7041\ns\nf1 0  32769 10 1\ni4 0 3 380\ni4 3 . 570\ni4 6 . 1067\ni4 9 . 2473\ni4 12 . 5062\ni4 15 . 7041\ne\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for soundout gax0,$OUTFLNAME,6\t/* mono output file */ using drum sound and buzz/pulse generator and modal synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from drum_05_02.orc and drum_05_02.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  22050\nksmps\t=  2\nnchnls\t=  2\n\n\n/* mono output file name (file format: raw,1 channel,float) */\n\n#define OUTFLNAME # \"_tmp.dat\" #\n\n#include \"Effects.Header.orc\"\n#include \"Delays.include.orc\"\n#include \"Spatial_Stereo.include.orc\"\n\n/* spatializer macro */\n\n#define SPATMACRO # $SpatStereo #\n\n/* ------------------------------------------------------------------------- */\n\n$InitHQDelay\n\n\tseed 0\n\ngax0\tinit 0\n\n\tinstr 1\n\nimkey\t=  p4\t\t/* get note parameters from score file */\nimvel\t=  p5\n\nimkey\tlimit imkey,0,127\nimvel\tlimit imvel,0,127\n\nicps\t=  440.0*exp(log(2.0)*(imkey-69.0)/12.0)\niamp\t=  0.0039+imvel*imvel/16192\n\n/* ------------------------------------------------------------------------- */\n\nivol\ttable\t 0,\t64\t/* output volume\t\t\t*/\nibpm\ttable\t 1,\t64\t/* tempo\t\t\t\t*/\n\nifrqs1\ttable\t 2,\t64\t/* oscillator start freq. 1 / note frq.\t*/\nifrqd1\ttable\t 3,\t64\t/* osc. frq. 1 decay speed at max. vel.\t*/\nifrqdx1\ttable\t 4,\t64\t/* osc. freq. 1 max. decay speed\t*/\nifrqdxv\ttable\t 5,\t64\t/* note velocity for max. decay speed\t*/\nifrqs2\ttable\t 6,\t64\t/* oscillator start freq. 2 / note frq.\t*/\nifrqd2\ttable\t 7,\t64\t/* osc. freq. 2 decay speed\t\t*/\nifrqs3\ttable\t 8,\t64\t/* oscillator start freq. 3 / note frq.\t*/\nifrqd3\ttable\t 9,\t64\t/* osc. freq. 3 decay speed\t\t*/\nifrqs4\ttable\t10,\t64\t/* oscillator start freq. 4 / note frq.\t*/\nifrqd4\ttable\t11,\t64\t/* osc. freq. 4 decay speed\t\t*/\n\niffr1s\ttable\t12,\t64\t/* lowpass filter start freq. 1 (Hz)\t*/\niffr1d\ttable\t13,\t64\t/* lowpass filter freq. 1 decay speed\t*/\niffr2s\ttable\t14,\t64\t/* lowpass filter start freq. 2 (Hz)\t*/\niffr2d\ttable\t15,\t64\t/* lowpass filter freq. 2 decay speed\t*/\niffr3s\ttable\t16,\t64\t/* LP filter start freq. 3 / note frq.\t*/\niffr3d\ttable\t17,\t64\t/* lowpass filter freq. 3 decay speed\t*/\niffr4s\ttable\t18,\t64\t/* LP filter start freq. 4 / note frq.\t*/\niffr4d\ttable\t19,\t64\t/* lowpass filter freq. 4 decay speed\t*/\n\niEQ1fo\ttable\t20,\t64\t/* EQ 1 frequency / osc. frequency\t*/\niEQ1fn\ttable\t21,\t64\t/* EQ 1 frequency / note frequency\t*/\niEQ1fa\ttable\t22,\t64\t/* EQ 1 frequency (Hz)\t\t\t*/\niEQ1l\ttable\t23,\t64\t/* EQ 1 level\t\t\t\t*/\niEQ1q\ttable\t24,\t64\t/* EQ 1 Q\t\t\t\t*/\niEQ1m\ttable\t25,\t64\t/* EQ 1 mode (0:peak,1:low,2:high)\t*/\n\niEQ2fo\ttable\t26,\t64\t/* EQ 2 frequency / osc. frequency\t*/\niEQ2fn\ttable\t27,\t64\t/* EQ 2 frequency / note frequency\t*/\niEQ2fa\ttable\t28,\t64\t/* EQ 2 frequency (Hz)\t\t\t*/\niEQ2l\ttable\t29,\t64\t/* EQ 2 level\t\t\t\t*/\niEQ2q\ttable\t30,\t64\t/* EQ 2 Q\t\t\t\t*/\niEQ2m\ttable\t31,\t64\t/* EQ 2 mode (0:peak,1:low,2:high)\t*/\n\niEQ3fo\ttable\t32,\t64\t/* EQ 3 frequency / osc. frequency\t*/\niEQ3fn\ttable\t33,\t64\t/* EQ 3 frequency / note frequency\t*/\niEQ3fa\ttable\t34,\t64\t/* EQ 3 frequency (Hz)\t\t\t*/\niEQ3l\ttable\t35,\t64\t/* EQ 3 level\t\t\t\t*/\niEQ3q\ttable\t36,\t64\t/* EQ 3 Q\t\t\t\t*/\niEQ3m\ttable\t37,\t64\t/* EQ 3 mode (0:peak,1:low,2:high)\t*/\n\niEQ4fo\ttable\t38,\t64\t/* EQ 4 frequency / osc. frequency\t*/\niEQ4fn\ttable\t39,\t64\t/* EQ 4 frequency / note frequency\t*/\niEQ4fa\ttable\t40,\t64\t/* EQ 4 frequency (Hz)\t\t\t*/\niEQ4l\ttable\t41,\t64\t/* EQ 4 level\t\t\t\t*/\niEQ4q\ttable\t42,\t64\t/* EQ 4 Q\t\t\t\t*/\niEQ4m\ttable\t43,\t64\t/* EQ 4 mode (0:peak,1:low,2:high)\t*/\n\ninsmix\ttable\t44,\t64\t/* noise mix\t\t\t\t*/\n\niEQn1fo\ttable\t45,\t64\t/* noise EQ 1 frequency / osc. freq.\t*/\niEQn1fn\ttable\t46,\t64\t/* noise EQ 1 frequency / note freq.\t*/\niEQn1fa\ttable\t47,\t64\t/* noise EQ 1 frequency (Hz)\t\t*/\niEQn1l\ttable\t48,\t64\t/* noise EQ 1 level\t\t\t*/\niEQn1q\ttable\t49,\t64\t/* noise EQ 1 Q\t\t\t\t*/\niEQn1m\ttable\t50,\t64\t/* noise EQ 1 mode (0:peak,1:lo,2:hi)\t*/\n\niEQn2fo\ttable\t51,\t64\t/* noise EQ 2 frequency / osc. freq.\t*/\niEQn2fn\ttable\t52,\t64\t/* noise EQ 2 frequency / note freq.\t*/\niEQn2fa\ttable\t53,\t64\t/* noise EQ 2 frequency (Hz)\t\t*/\niEQn2l\ttable\t54,\t64\t/* noise EQ 2 level\t\t\t*/\niEQn2q\ttable\t55,\t64\t/* noise EQ 2 Q\t\t\t\t*/\niEQn2m\ttable\t56,\t64\t/* noise EQ 2 mode (0:peak,1:lo,2:hi)\t*/\n\nimkmin\ttable\t57,\t64\t/* MIDI key range for panning\t\t*/\nimkmax\ttable\t58,\t64\n\niazim0\ttable\t59,\t64\t/* azimuth range\t\t\t*/\niazim1\ttable\t60,\t64\nielev0\ttable\t61,\t64\t/* elevation range\t\t\t*/\nielev1\ttable\t62,\t64\nidist0\ttable\t63,\t64\t/* distance range\t\t\t*/\nidist1\ttable\t64,\t64\n\n/* ------------------------------------------------------------------------- */\n\np3\t=  p3+0.15\t/* increase note length */\n\nibtime\t=  60/ibpm\n\nkamp\tlinseg 1,p3-0.15,1,0.05,0,0.1,0\t\t/* amp. envelope */\nkamp\t=  kamp*iamp*ivol\n\ni_\tlimit (imvel-ifrqdxv),0,127\t/* calculate freq. 1 dec. speed */\ni_\t=  i_/(127-ifrqdxv)\nifrqd1\t=  ifrqdx1-i_*(ifrqdx1-ifrqd1)\n\nkfrq1\texpseg 1,ibtime/ifrqd1,0.5\t/* osc. frq. envelopes */\nkfrq2\texpseg 1,ibtime/ifrqd2,0.5\nkfrq3\texpseg 1,ibtime/ifrqd3,0.5\nkfrq4\texpseg 1,ibtime/ifrqd4,0.5\n\nkfrq1\t=  kfrq1*ifrqs1*icps\nkfrq2\t=  kfrq2*ifrqs2*icps\nkfrq3\t=  kfrq3*ifrqs3*icps\nkfrq4\t=  kfrq4*ifrqs4*icps\n\nkcps\t=  kfrq1+kfrq2+kfrq3+kfrq4\t/* kcps = osc. frequency */\n\nkmkey\t=  ((log(kcps/440.0)/log(2.0))*12.0)+69.0\nkmkey\tlimit kmkey,0,127\nknumh\t=  sr/(2*kcps)\t\t\t/* knumh = number of harmonics */\n\na_\tbuzz sr/(10*3.14159265), kcps, knumh, 1, 0\na__\tbuzz sr/(10*3.14159265), kcps, knumh, 1, 0.5\n\na0\ttone a_-a__, 10\n\na_\tunirand 2\t\t\t/* noise generator */\na_\t=  a_-1\n\na_\tpareq a_,iEQn1fa+icps*iEQn1fn+kcps*iEQn1fo,iEQn1l,iEQn1q,iEQn1m\na_\tpareq a_,iEQn2fa+icps*iEQn2fn+kcps*iEQn2fo,iEQn2l,iEQn2q,iEQn2m\n\na0\t=  a0+insmix*a_\n\n/* EQ */\n\na0\tpareq a0,iEQ1fa+icps*iEQ1fn+kcps*iEQ1fo,iEQ1l,iEQ1q,iEQ1m\na0\tpareq a0,iEQ2fa+icps*iEQ2fn+kcps*iEQ2fo,iEQ2l,iEQ2q,iEQ2m\na0\tpareq a0,iEQ3fa+icps*iEQ3fn+kcps*iEQ3fo,iEQ3l,iEQ3q,iEQ3m\na0\tpareq a0,iEQ4fa+icps*iEQ4fn+kcps*iEQ4fo,iEQ4l,iEQ4q,iEQ4m\n\nkffr1\texpseg 1,ibtime/iffr1d,0.5\t/* LP filter freq. envelopes */\nkffr2\texpseg 1,ibtime/iffr2d,0.5\nkffr3\texpseg 1,ibtime/iffr3d,0.5\nkffr4\texpseg 1,ibtime/iffr4d,0.5\n\nkffr1\t=  kffr1*iffr1s\nkffr2\t=  kffr2*iffr2s\nkffr3\t=  kffr3*iffr3s*icps\nkffr4\t=  kffr4*iffr4s*icps\n\nkffrq\t=  kffr1+kffr2+kffr3+kffr4\t/* kffrq = LP filter frequency */\n\na0\tbutterlp a0,kffrq\t\t/* LP filter */\n\na_\t=  a0*kamp\t\t\t/* apply envelope */\n\ngax0\t=  gax0+a_\t\t\t/* send to global output */\n\nispt1\tlimit imkey,imkmin,imkmax\t\t/* calculate azimuth, */\nispt1\t=  (ispt1-imkmin)/(imkmax-imkmin)\t/* elevation and distance */\n\ni_az_\t=  iazim0+(iazim1-iazim0)*ispt1\ni_el_\t=  ielev0+(ielev1-ielev0)*ispt1\ni_d_\t=  idist0+(idist1-idist0)*ispt1\n\n$SPATMACRO\n\n\touts a_L_,a_R_\t\t/* output spatialized sound */\n\n\tendin\n\n/* ------------------------------------------------------------------------- */\n\n\tinstr 90\n\n\tsoundout gax0,$OUTFLNAME,6\t/* mono output file */\ngax0\t=  0\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt 0 140.00\t/* tempo */\n\ni 90 0 34.0\t/* output instrument */\n\n#define Rhytm1(START#NOTE) #\n\ni 1\t[$START+0.0000]\t0.5\t$NOTE\t120\ni 1\t[$START+0.9890]\t0.5\t$NOTE\t112\ni 1\t[$START+1.9780]\t0.5\t$NOTE\t124\ni 1\t[$START+2.9780]\t0.5\t$NOTE\t112\n\ni 1\t[$START+4.0000]\t0.5\t$NOTE\t120\ni 1\t[$START+4.9890]\t0.5\t$NOTE\t112\ni 1\t[$START+5.9780]\t0.5\t$NOTE\t116\ni 1\t[$START+6.9780]\t0.5\t$NOTE\t120\ni 1\t[$START+7.5000]\t0.5\t$NOTE\t120\n\ni 1\t[$START+8.0000]\t0.5\t$NOTE\t120\ni 1\t[$START+8.9890]\t0.5\t$NOTE\t112\ni 1\t[$START+9.9780]\t0.5\t$NOTE\t124\ni 1\t[$START+10.978]\t0.5\t$NOTE\t112\n\ni 1\t[$START+12.000]\t0.5\t$NOTE\t120\ni 1\t[$START+12.989]\t0.5\t$NOTE\t112\ni 1\t[$START+13.978]\t0.5\t$NOTE\t116\ni 1\t[$START+14.978]\t0.5\t$NOTE\t112\n\n#\n\n$Rhytm1(0#33)\n$Rhytm1(16#33)\n\n/* ------------------------------------------------------------------------- */\n\nf 64 0 128 -2\t10000.0\t\t/* output volume\t\t\t*/\n\t\t140.0\t\t/* tempo\t\t\t\t*/\n\n\t\t4.3333\t\t/* oscillator start freq. 1 / note frq.\t*/\n\t\t8.0\t\t/* osc. frq. 1 decay speed at max. vel.\t*/\n\t\t16.0\t\t/* osc. freq. 1 max. decay speed\t*/\n\t\t96\t\t/* note velocity for max. decay speed\t*/\n\t\t1.0\t\t/* oscillator start freq. 2 / note frq.\t*/\n\t\t2.0\t\t/* osc. freq. 2 decay speed\t\t*/\n\t\t10.6667\t\t/* oscillator start freq. 3 / note frq.\t*/\n\t\t128.0\t\t/* osc. freq. 3 decay speed\t\t*/\n\t\t0.0\t\t/* oscillator start freq. 4 / note frq.\t*/\n\t\t1.0\t\t/* osc. freq. 4 decay speed\t\t*/\n\n\t\t0\t\t/* lowpass filter start freq. 1 (Hz)\t*/\n\t\t1\t\t/* lowpass filter freq. 1 decay speed\t*/\n\t\t0\t\t/* lowpass filter start freq. 2 (Hz)\t*/\n\t\t1\t\t/* lowpass filter freq. 2 decay speed\t*/\n\t\t48.0\t\t/* LP filter start freq. 3 / note frq.\t*/\n\t\t64.0\t\t/* lowpass filter freq. 3 decay speed\t*/\n\t\t16.0\t\t/* LP filter start freq. 4 / note frq.\t*/\n\t\t12.0\t\t/* lowpass filter freq. 4 decay speed\t*/\n\n\t\t0\t\t/* EQ 1 frequency / osc. frequency\t*/\n\t\t1.5\t\t/* EQ 1 frequency / note frequency\t*/\n\t\t0\t\t/* EQ 1 frequency (Hz)\t\t\t*/\n\t\t1.4142\t\t/* EQ 1 level\t\t\t\t*/\n\t\t1.4142\t\t/* EQ 1 Q\t\t\t\t*/\n\t\t0\t\t/* EQ 1 mode (0:peak,1:low,2:high)\t*/\n\n\t\t0\t\t/* EQ 2 frequency / osc. frequency\t*/\n\t\t4\t\t/* EQ 2 frequency / note frequency\t*/\n\t\t0\t\t/* EQ 2 frequency (Hz)\t\t\t*/\n\t\t0.25\t\t/* EQ 2 level\t\t\t\t*/\n\t\t1.0\t\t/* EQ 2 Q\t\t\t\t*/\n\t\t2\t\t/* EQ 2 mode (0:peak,1:low,2:high)\t*/\n\n\t\t0\t\t/* EQ 3 frequency / osc. frequency\t*/\n\t\t0\t\t/* EQ 3 frequency / note frequency\t*/\n\t\t1000\t\t/* EQ 3 frequency (Hz)\t\t\t*/\n\t\t1.0\t\t/* EQ 3 level\t\t\t\t*/\n\t\t0.7071\t\t/* EQ 3 Q\t\t\t\t*/\n\t\t0\t\t/* EQ 3 mode (0:peak,1:low,2:high)\t*/\n\n\t\t0\t\t/* EQ 4 frequency / osc. frequency\t*/\n\t\t0\t\t/* EQ 4 frequency / note frequency\t*/\n\t\t1000\t\t/* EQ 4 frequency (Hz)\t\t\t*/\n\t\t1.0\t\t/* EQ 4 level\t\t\t\t*/\n\t\t0.7071\t\t/* EQ 4 Q\t\t\t\t*/\n\t\t0\t\t/* EQ 4 mode (0:peak,1:low,2:high)\t*/\n\n\t\t1.0\t\t/* noise mix\t\t\t\t*/\n\n\t\t0\t\t/* noise EQ 1 frequency / osc. freq.\t*/\n\t\t0\t\t/* noise EQ 1 frequency / note freq.\t*/\n\t\t1000\t\t/* noise EQ 1 frequency (Hz)\t\t*/\n\t\t1.0\t\t/* noise EQ 1 level\t\t\t*/\n\t\t0.7071\t\t/* noise EQ 1 Q\t\t\t\t*/\n\t\t1\t\t/* noise EQ 1 mode (0:peak,1:lo,2:hi)\t*/\n\n\t\t0\t\t/* noise EQ 2 frequency / osc. freq.\t*/\n\t\t0\t\t/* noise EQ 2 frequency / note freq.\t*/\n\t\t1000\t\t/* noise EQ 2 frequency (Hz)\t\t*/\n\t\t1.0\t\t/* noise EQ 2 level\t\t\t*/\n\t\t0.7071\t\t/* noise EQ 2 Q\t\t\t\t*/\n\t\t0\t\t/* noise EQ 2 mode (0:peak,1:lo,2:hi)\t*/\n\n\t\t48\t55\t/* MIDI key range for panning\t\t*/\n\t\t0\t0\t/* azimuth range\t\t\t*/\n\t\t0\t0\t/* elevation range\t\t\t*/\n\t\t0.5\t0.5\t/* distance range\t\t\t*/\n\n/* ------------------------------------------------------------------------- */\n\nf 1 0 262144 10 1\n\ne\t/* end of score */\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kgoto     start01 using buzz/pulse generator and Butterworth lowpass filter and Butterworth highpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bd4004m.orc and bd4004m.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         44100\nksmps          =         1\nnchnls         =         1\n\n;------------------------- bd4004m.orc -----------------------\n\n\n/* CONVERT MIDI NOTE NUMBER TO FREQUENCY */\n\n#define        MIDI2CPS(xmidikey)\n# (440.0*exp(log(2.0)*(($xmidikey)-69.0)/12.0)) #\n\n/* CONVERT FREQUENCY TO MIDI NOTE NUMBER */\n\n#define        CPS2MIDI(xfreqcps)\n# (12.0*(log(($xfreqcps)/440.0)/log(2.0))+69.0) #\n\n/* CONVERT VELOCITY TO AMPLITUDE */\n\n#define        VELOC2AMP(xvelocity)\n# (0.0039+(($xvelocity)*($xvelocity))/16192.0) #\n\n/* CONVERT AMPLITUDE TO VELOCITY */\n\n#define        AMP2VELOC(xamplitude)\n# (sqrt((($xamplitude)-0.0039)*16192.0)) #\n\n               seed      0\n\n               instr     1\n\n               kgoto     start01\n\n/*-------------------------------------------------------- */\n\nivol           =         0.6            /* VOLUME                      */\nibpm           =         140.0          /* TEMPO                       */\nirel           =         0.1667         /* RELEASE TIME (SEC.)         */\nidel           =         0.02           /* DELAY TIME                  */\nimod0          =         0.0025         /* RANDOM MOD. OF DELAY (SEC.)      */\nimod1          =         0.005          /* RND. MOD. OF VELOCITY       */\n\nif01           =         5.3333         /* OSC. START FREQUENCY (REL.)      */\nifd1           =         14.0           /* FREQ. ENVELOPE DECAY SPEED  */\nibw01          =         0.5            /* OSC1 BP BANDWIDTH (REL.)    */\nihp1           =         0.0625         /* OSC1 HP FREQUENCY (REL.)    */\n\niapf1          =         1.0            /* OSC1 ALLP. FLT. START FREQ. (REL.)    */\niapf2          =         1.0            /* OSC1 ALLP. FLT. END FREQ.             */\niapdx          =         8              /* OSC1 ALLP. FLT. ENVELOPE SPEED        */\n\nifr3           =         8              /* OSC2 HP1 FREQ. / BASE FRQ.  */\nimx3           =         -5             /* OSC2 HP1 MIX                     */\nifr4           =         0.5            /* OSC2 OUTPUT HP F. / NOTE F.      */\nimx2           =         -0.4           /* OSC2 OUTPUT GAIN            */\nihp2           =         1.5            /* OUTPUT HP FRQ. / NOTE F.    */\nibw02          =         2.0            /* OUTPUT HP RESONANCE         */\n\nifr1           =         8              /* OUT. LP START F. 1 / NOTE F. */\nifdx1          =         8              /* OUT. LP FREQ. 1 ENV. SPEED  */\nifr2           =         8              /* OUT. LP START F. 2 / NOTE F. */\nifdx2          =         8              /* OUT. LP FREQ. 2 ENV. SPEED  */\n\nifxBP1         =         7040           /* NOISE BP START FRQ. (HZ)    */\nifxBP2         =         7040           /* NOISE BP END FREQUENCY           */\nibw1           =         2              /* NOISE BP BANDWIDTH/FREQ.    */\nifxLP1         =         3520           /* NOISE LP START FRQ. (HZ)    */\nifxLP2         =         55             /* NOISE LP END FREQUENCY           */\nifxd           =         12             /* NOISE FILTER ENVELOPE SPEED      */\niattn1         =         0.01           /* NOISE ATTACK TIME (SEC.)    */\nidecn1         =         3              /* NOISE DECAY SPEED                */\nimxn           =         0.6            /* NOISE MIX                   */\n     \n/* ------------------------------------------------------- */\n\ni001           =         1/65536\nimkey          =         p4                            /* NOTE NUMBER       */\nimvel          =         p5                            /* VELOCITY               */\nivel           =         $VELOC2AMP(imvel)             /* CONVERT VELOCITY  */\nim0            unirand   2\nim1            unirand   2\nivel           =         ivel*(1+(im1-1)*imod1)        /* RAND. VELOC. */\nidel           =         idel+((im0-1)*imod0)          /* RAND. DELAY  */\nibtime         =         60/ibpm                       /* BEAT TIME    */\ni002           =         exp(log(i001)*(idel+irel+16/kr)/irel)\nivol           =         ivel*ivol\n\nicps           =         $MIDI2CPS(imkey)              /* BASE FREQ.        */\nifmax          =         sr*0.48                       /* MAX. ALLOWED FREQ.     */\nihp2           =         ihp2*icps\nibw02x         =         ihp2/ibw02\nifxLP2         =         ifxLP2-ifxLP1\nifxBP2         =         ifxBP2-ifxBP1\niapf2          =         iapf2-iapf1\n\nixtime         =         (irel+idel+16/kr)\n\np3             =         p3+ixtime                     /* INCREASE NOTE LENGTH    */\n\nstart01:\n\nkenvn1         expseg    1,ibtime/idecn1,0.5           /* NOISE GENERATOR */\nkenvn2         linseg    0,iattn1,1,1,1\naenvn          interp    kenvn1*kenvn2\nkenvn3         expseg    1,ibtime/ifxd,0.5\nkenvn3         =         (1-kenvn3)\nkfxBPf         =         ifxBP1+(kenvn3*ifxBP2)\na1l            unirand   2\na1l            butterbp  imxn*32768*(a1l-1)*aenvn,kfxBPf,kfxBPf*ibw1\na1l            butterlp  a1l,ifxLP1+(ifxLP2*kenvn3)\n\n/* ENVELOPES */\n\nkamp1          expseg    1,p3-ixtime,1,ixtime,i002\nkfrq1          expseg    1,ibtime/ifd1,0.5\nkfrq           =         icps*(1+kfrq1*(if01-1))\nkapfr          expseg    1,ibtime/iapdx,0.5\nkapfr          =         kfrq*(iapf1+iapf2*(1-kapfr))\nkfrx1          expseg    1,ibtime/ifdx1,0.5\nkfrx2          expseg    1,ibtime/ifdx2,0.5\nkfrx           =         kfrq*(kfrx1*ifr1+kfrx2*ifr2)\nkfrx           =         (kfrx>ifmax ? ifmax : kfrx)\n\n/* KFRQ = OSC. FREQUENCY, KAPFR = ALLPASS FILTER FREQUENCY */\n/* KFRX = LP FILTER FREQUENCY                              */\n\n/* OSCILLATOR */\n\nknumh          =         sr/(2*kfrq)\na1             buzz      sr/(10*3.14159265), kfrq, knumh, 256, 0.25\na2             buzz      sr/(10*3.14159265), kfrq, knumh, 256, 0.75\na1             tone      (a1-a2)*16384, 10\na2             =         a1                                 /* A1 = A2 = OSC. SIGNAL   */\n\na1             butterhp  a1,kfrq*ihp1                       /* FILTERS */\na1             butterbp  a1,kfrq,kfrq*ibw01\na1x            tone      a1,kapfr\na1             =         2*a1x-a1\na3             butterhp  a2,kfrq*ifr3\na2             =         a2+a3*imx3\na2             butterhp  a2,kfrq*ifr4\na0x            =         a2*imx2+a1\natmp           butterbp  a0x*ibw02,ihp2,ibw02x\na0x            butterhp  a0x+atmp,ihp2\na0x            butterlp  a0x,kfrx\n\na0y            delay     (a0x+a1l)*ivol*kamp1,idel\n\n               out       a0y\n\n               endin\n\n</CsInstruments>\n<CsScore>\n;--------------------------- bd4004m.sco ---------------------\n\nt 0.00  140.000         /* TEMPO        */\n\n#define rhytm1(STIME) #\n\ni 1     [$STIME+0.0000]         0.4375  33      120\ni 1     [$STIME+0.9900]         0.4375  33      112\ni 1     [$STIME+1.9900]         0.4375  33      124\ni 1     [$STIME+2.9950]         0.4375  33      112\n\ni 1     [$STIME+4.0000]         0.4375  33      116\ni 1     [$STIME+4.9900]         0.4375  33      112\ni 1     [$STIME+5.9900]         0.4375  33      116\ni 1     [$STIME+6.9950]         0.4000  33      112\n\n#\n\n$rhytm1(0)\n$rhytm1(8)\n\ni 1     15.5    0.4     33      116\n\n/* ------------------------------------------------------- */\n\nf 256 0 262144 10 1\n\ne       /* END OF SCORE */\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and Butterworth lowpass filter and Butterworth highpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bd10_01.orc and bd10_01.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  22050\nksmps\t=  2\nnchnls\t=  1\n\n\n\tseed 0\n\n#define MIDI2CPS(xmidi) # (440.0*exp(log(2.0)*(($xmidi)-69.0)/12.0)) #\n#define CPS2MIDI(xcps)  # ((log(($xcps)/440.0)/log(2.0))*12.0+69.0) #\n\ngax0\tinit 0\n\n\tinstr 1\n\n/* ------------------------------------------------------------------------- */\n\nivol\ttable 0,64\t/* volume\t\t\t\t\t*/\nibpm\ttable 1,64\t/* tempo\t\t\t\t\t*/\n\nirel\ttable 2,64\t/* release time\t\t\t\t\t*/\n\nistrtf1\ttable 3,64\t/* start frequency 1\t\t\t\t*/\nifdec1\ttable 4,64\t/* freq. decay speed 1\t\t\t\t*/\nistrtf2\ttable 5,64\t/* start frequency 2\t\t\t\t*/\nifdec2\ttable 6,64\t/* freq. decay speed 2\t\t\t\t*/\n\ninsmix\ttable 7,64\t/* noise mix\t\t\t\t\t*/\n\niHP1f\ttable 8,64\t/* HP filter 1 frequency / osc. freq.\t\t*/\niBP1f\ttable 9,64\t/* BP filter 1 frequency / osc. freq.\t\t*/\niBP1b\ttable 10,64\t/* BP filter 1 bandwidth / osc. freq.\t\t*/\n\niHP2f\ttable 11,64\t/* HP filter 2 frequency / osc. freq.\t\t*/\niHP2m\ttable 12,64\t/* HP filter 2 mix\t\t\t\t*/\niHP3f\ttable 13,64\t/* HP filter 3 frequency / osc. freq.\t\t*/\niHP3m\ttable 14,64\t/* HP filter 3 mix\t\t\t\t*/\n\niHPxf\ttable 15,64\t/* output HP filter frequency / note frequency\t*/\niHPxr\ttable 16,64\t/* output HP filter resonance\t\t\t*/\n\niLPf1\ttable 17,64\t/* output LP filter frequency 1 / osc. freq.\t*/\niLPd1\ttable 18,64\t/* output LP filter frequency 1 decay speed\t*/\niLPf2\ttable 19,64\t/* output LP filter frequency 2 / osc. freq.\t*/\niLPd2\ttable 20,64\t/* output LP filter frequency 2 decay speed\t*/\n\niAM1s\ttable 21,64\t/* amp. envelope 1 start value\t\t\t*/\niAM1d\ttable 22,64\t/* amp. envelope 1 decay speed\t\t\t*/\niAM2s\ttable 23,64\t/* amp. envelope 2 start value\t\t\t*/\niAM2d\ttable 24,64\t/* amp. envelope 2 decay speed\t\t\t*/\n\n/* ------------------------------------------------------------------------- */\n\nibtime\t=  60/ibpm\n\np3\t=  p3+irel+0.05\n\nimkey\t=  p4\nimvel\t=  p5\n\nicps\t=  $MIDI2CPS(imkey)\niamp\t=  (0.0039+imvel*imvel/16192)*ivol\nkamp\tlinseg 1,p3-(irel+0.05),1,irel,0,0.05,0\n\nk_\tport 1,ibtime/ifdec1,istrtf1\t\t/* calculate base frequency */\nk__\tport 1,ibtime/ifdec2,istrtf2\nkcps\t=  icps*k_*k__\n\nknumh\t=  sr/(2*kcps)\t\t\t/* oscillator */\na1\tbuzz sr/(10*3.14159265), kcps, knumh, 256, 0\na2\tbuzz sr/(10*3.14159265), kcps, knumh, 256, 0.5\na1\ttone a1-a2, 10\na0\t=  a1\t\t\t\t\t/* a0 = osc. signal */\n\na_\tunirand 2\t\t\t\t/* noise generator */\na_\ttone a_-1,kcps\na0\t=  a0+a_*insmix\n\na1\t=  a0\t/* save osc. output */\n\na0\tbutterhp a0,iHP1f*kcps\t\t\t/* HP filter 1 */\n\na0\tbutterbp a0,iBP1f*kcps,iBP1b*kcps\t/* BP filter 1 */\n\na_\tbutterhp a1,iHP2f*kcps\t\t\t/* HP filter 2 and 3 */\na__\tbutterhp a1,iHP3f*kcps\na0\t=  a0+a_*iHP2m+a__*iHP3m\n\na0\tbutterhp a0,iHPxf*icps\t\t\t\t/* output HP filter */\na0\tpareq a0,iHPxf*icps,iHPxr*1.4142,iHPxr,0\n\nk_\tport 0,ibtime/iLPd1,iLPf1\t\t\t/* output LP filter */\nk__\tport 0,ibtime/iLPd2,iLPf2\na0\tbutterlp a0,kcps*(k_+k__)\n\nk_\texpseg 1,ibtime/iAM1d,0.5\t\t\t/* amp. envelopes */\nk__\texpseg 1,ibtime/iAM2d,0.5\nk_\t=  (1-k_)*(1-iAM1s)+iAM1s\nk__\t=  (1-k__)*(1-iAM2s)+iAM2s\na0\t=  a0*k_*k__\n\ngax0\t=  gax0+(a0*iamp*kamp)\n\n\tendin\n\n\tinstr 90\n\n/* ----------------------- compressor parameters --------------------------- */\n\niamp\ttable 25,64\t/* output volume\t\t\t\t*/\niclpl\ttable 26,64\t/* ouput clip level\t\t\t\t*/\nimxlvl\ttable 27,64\t/* threshold level\t\t\t\t*/\nicomp1\ttable 28,64\t/* compression ratio below thr. level\t\t*/\nicomp2\ttable 29,64\t/* compression ratio above thr. level\t\t*/\nidel1\ttable 30,64\t/* delay time in sec.\t\t\t\t*/\niatt\ttable 31,64\t/* envelope attack speed\t\t\t*/\nidec\ttable 32,64\t/* envelope decay speed\t\t\t\t*/\nifrq1\ttable 33,64\t/* lowpass filter freq.\t\t\t\t*/\n\n/* ------------------------------------------------------------------------- */\n\nicomp1\t=  icomp1-1\nicomp2\t=  icomp2-1\nklvl\tinit 0\n\na1\t=  gax0\nad1\tdelay a1,idel1\ngax0\t=  0\n\natmp\t=  abs(a1)\t\t\t\t/* klvl = signal level */\nktmp\tdownsamp atmp\natmp\ttone atmp,(ktmp>klvl ? iatt:idec)\natmp\tbutterlp atmp,ifrq1\nklvl\tdownsamp atmp\n\nktmp\t=  klvl/imxlvl\nktmp\t=  (ktmp<1 ? exp(log(ktmp)*icomp1):exp(log(ktmp)*icomp2))\n\na0\t=  (ad1*ktmp*iamp)\na0\tlimit a0,-iclpl,iclpl\na0\tbutterlp a0,(sr*0.48)\n\n\tout a0\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt 0 140.00\t/* tempo */\n\ni 90\t0.0000\t34.000\t\t/* output instrument */\n\n#define Rhytm1(xstrt) #\n\ni 1\t[$xstrt+0.0000]\t\t0.4500\t31\t120\ni 1\t[$xstrt+0.9900]\t\t0.4500\t31\t116\ni 1\t[$xstrt+1.9900]\t\t0.4500\t31\t127\ni 1\t[$xstrt+3.0000]\t\t0.4500\t31\t116\ni 1\t[$xstrt+4.0000]\t\t0.4500\t31\t120\ni 1\t[$xstrt+4.9900]\t\t0.4500\t31\t116\ni 1\t[$xstrt+5.9900]\t\t0.4500\t31\t118\ni 1\t[$xstrt+7.0000]\t\t0.4500\t31\t116\n\n#\n\n$Rhytm1(0)\n$Rhytm1(8)\n$Rhytm1(16)\n$Rhytm1(24)\n\n/* ------------------------------------------------------------------------- */\n\nf 64 0 64 -2\t0.7\t\t/* volume\t\t\t\t*/\n\t\t140\t\t/* tempo\t\t\t\t*/\n\n\t\t0.05\t\t/* release time\t\t\t\t*/\n\n\t\t5.3333\t\t/* start frequency 1\t\t\t*/\n\t\t16\t\t/* freq. decay speed 1\t\t\t*/\n\t\t0.5\t\t/* start frequency 2\t\t\t*/\n\t\t128\t\t/* freq. decay speed 2\t\t\t*/\n\n\t\t4.0\t\t/* noise mix\t\t\t\t*/\n\n\t\t0.25\t\t/* HP filter 1 frequency / osc. freq.\t*/\n\t\t1.0\t\t/* BP filter 1 frequency / osc. freq.\t*/\n\t\t1.0\t\t/* BP filter 1 bandwidth / osc. freq.\t*/\n\n\t\t2.0\t\t/* HP filter 2 frequency / osc. freq.\t*/\n\t\t0.7\t\t/* HP filter 2 mix\t\t\t*/\n\t\t8.0\t\t/* HP filter 3 frequency / osc. freq.\t*/\n\t\t-2.0\t\t/* HP filter 3 mix\t\t\t*/\n\n\t\t1.333\t\t/* output HP filter freq. / note freq.\t*/\n\t\t2.0\t\t/* output HP filter resonance\t\t*/\n\n\t\t12.0\t\t/* output LP filter frq. 1 / osc. freq.\t*/\n\t\t8\t\t/* output LP filter frq. 1 decay speed\t*/\n\t\t4.0\t\t/* output LP filter frq. 2 / osc. freq.\t*/\n\t\t8\t\t/* output LP filter frq. 2 decay speed\t*/\n\n\t\t16.0\t\t/* amp. envelope 1 start value\t\t*/\n\t\t256\t\t/* amp. envelope 1 decay speed\t\t*/\n\t\t0.25\t\t/* amp. envelope 2 start value\t\t*/\n\t\t4\t\t/* amp. envelope 2 decay speed\t\t*/\n\n/* ---- compressor parameters ---- */\n\n\t\t30000\t\t/* output volume\t\t\t*/\n\t\t30000\t\t/* output clip level\t\t\t*/\n\t\t1.0\t\t/* threshold level\t\t\t*/\n\t\t1.0\t\t/* compression ratio below thr. level\t*/\n\t\t0.0\t\t/* compression ratio above thr. level\t*/\n\t\t0.0002\t\t/* delay time\t\t\t\t*/\n\t\t5000\t\t/* envelope LP filter 1 freq. (attack)\t*/\n\t\t500\t\t/* envelope LP filter 1 freq. (decay)\t*/\n\t\t2000\t\t/* envelope LP filter 2 frequency (Hz)\t*/\n\n/* ------------------------------------------------------------------------- */\n\nf 256 0 262144 10 1\n\ne\t/* end of score */\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for soundout gax0,$OUTFLNAME,6\t/* mono output file */ using drum sound and buzz/pulse generator and modal synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from drum_05.orc and drum_05.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  22050\nksmps\t=  2\nnchnls\t=  2\n\n\n/* mono output file name (file format: raw,1 channel,float) */\n\n#define OUTFLNAME # \"_tmp.dat\" #\n\n#include \"Effects.Header.orc\"\n#include \"Delays.include.orc\"\n#include \"Spatial_Stereo.include.orc\"\n\n/* spatializer macro */\n\n#define SPATMACRO # $SpatStereo #\n\n/* ------------------------------------------------------------------------- */\n\n$InitHQDelay\n\n\tseed 0\n\ngax0\tinit 0\n\n\tinstr 1\n\nimkey\t=  p4\t\t/* get note parameters from score file */\nimvel\t=  p5\n\nimkey\tlimit imkey,0,127\nimvel\tlimit imvel,0,127\n\nicps\t=  440.0*exp(log(2.0)*(imkey-69.0)/12.0)\niamp\t=  0.0039+imvel*imvel/16192\n\n/* ------------------------------------------------------------------------- */\n\nivol\ttable\t 0,\t64\t/* output volume\t\t\t*/\nibpm\ttable\t 1,\t64\t/* tempo\t\t\t\t*/\n\nifrqs1\ttable\t 2,\t64\t/* oscillator start freq. 1 / note frq.\t*/\nifrqd1\ttable\t 3,\t64\t/* osc. frq. 1 decay speed at max. vel.\t*/\nifrqdx1\ttable\t 4,\t64\t/* osc. freq. 1 max. decay speed\t*/\nifrqdxv\ttable\t 5,\t64\t/* note velocity for max. decay speed\t*/\nifrqs2\ttable\t 6,\t64\t/* oscillator start freq. 2 / note frq.\t*/\nifrqd2\ttable\t 7,\t64\t/* osc. freq. 2 decay speed\t\t*/\nifrqs3\ttable\t 8,\t64\t/* oscillator start freq. 3 / note frq.\t*/\nifrqd3\ttable\t 9,\t64\t/* osc. freq. 3 decay speed\t\t*/\nifrqs4\ttable\t10,\t64\t/* oscillator start freq. 4 / note frq.\t*/\nifrqd4\ttable\t11,\t64\t/* osc. freq. 4 decay speed\t\t*/\n\niffr1s\ttable\t12,\t64\t/* lowpass filter start freq. 1 (Hz)\t*/\niffr1d\ttable\t13,\t64\t/* lowpass filter freq. 1 decay speed\t*/\niffr2s\ttable\t14,\t64\t/* lowpass filter start freq. 2 (Hz)\t*/\niffr2d\ttable\t15,\t64\t/* lowpass filter freq. 2 decay speed\t*/\niffr3s\ttable\t16,\t64\t/* LP filter start freq. 3 / note frq.\t*/\niffr3d\ttable\t17,\t64\t/* lowpass filter freq. 3 decay speed\t*/\niffr4s\ttable\t18,\t64\t/* LP filter start freq. 4 / note frq.\t*/\niffr4d\ttable\t19,\t64\t/* lowpass filter freq. 4 decay speed\t*/\n\niEQ1fo\ttable\t20,\t64\t/* EQ 1 frequency / osc. frequency\t*/\niEQ1fn\ttable\t21,\t64\t/* EQ 1 frequency / note frequency\t*/\niEQ1fa\ttable\t22,\t64\t/* EQ 1 frequency (Hz)\t\t\t*/\niEQ1l\ttable\t23,\t64\t/* EQ 1 level\t\t\t\t*/\niEQ1q\ttable\t24,\t64\t/* EQ 1 Q\t\t\t\t*/\niEQ1m\ttable\t25,\t64\t/* EQ 1 mode (0:peak,1:low,2:high)\t*/\n\niEQ2fo\ttable\t26,\t64\t/* EQ 2 frequency / osc. frequency\t*/\niEQ2fn\ttable\t27,\t64\t/* EQ 2 frequency / note frequency\t*/\niEQ2fa\ttable\t28,\t64\t/* EQ 2 frequency (Hz)\t\t\t*/\niEQ2l\ttable\t29,\t64\t/* EQ 2 level\t\t\t\t*/\niEQ2q\ttable\t30,\t64\t/* EQ 2 Q\t\t\t\t*/\niEQ2m\ttable\t31,\t64\t/* EQ 2 mode (0:peak,1:low,2:high)\t*/\n\niEQ3fo\ttable\t32,\t64\t/* EQ 3 frequency / osc. frequency\t*/\niEQ3fn\ttable\t33,\t64\t/* EQ 3 frequency / note frequency\t*/\niEQ3fa\ttable\t34,\t64\t/* EQ 3 frequency (Hz)\t\t\t*/\niEQ3l\ttable\t35,\t64\t/* EQ 3 level\t\t\t\t*/\niEQ3q\ttable\t36,\t64\t/* EQ 3 Q\t\t\t\t*/\niEQ3m\ttable\t37,\t64\t/* EQ 3 mode (0:peak,1:low,2:high)\t*/\n\niEQ4fo\ttable\t38,\t64\t/* EQ 4 frequency / osc. frequency\t*/\niEQ4fn\ttable\t39,\t64\t/* EQ 4 frequency / note frequency\t*/\niEQ4fa\ttable\t40,\t64\t/* EQ 4 frequency (Hz)\t\t\t*/\niEQ4l\ttable\t41,\t64\t/* EQ 4 level\t\t\t\t*/\niEQ4q\ttable\t42,\t64\t/* EQ 4 Q\t\t\t\t*/\niEQ4m\ttable\t43,\t64\t/* EQ 4 mode (0:peak,1:low,2:high)\t*/\n\ninsmix\ttable\t44,\t64\t/* noise mix\t\t\t\t*/\n\niEQn1fo\ttable\t45,\t64\t/* noise EQ 1 frequency / osc. freq.\t*/\niEQn1fn\ttable\t46,\t64\t/* noise EQ 1 frequency / note freq.\t*/\niEQn1fa\ttable\t47,\t64\t/* noise EQ 1 frequency (Hz)\t\t*/\niEQn1l\ttable\t48,\t64\t/* noise EQ 1 level\t\t\t*/\niEQn1q\ttable\t49,\t64\t/* noise EQ 1 Q\t\t\t\t*/\niEQn1m\ttable\t50,\t64\t/* noise EQ 1 mode (0:peak,1:lo,2:hi)\t*/\n\niEQn2fo\ttable\t51,\t64\t/* noise EQ 2 frequency / osc. freq.\t*/\niEQn2fn\ttable\t52,\t64\t/* noise EQ 2 frequency / note freq.\t*/\niEQn2fa\ttable\t53,\t64\t/* noise EQ 2 frequency (Hz)\t\t*/\niEQn2l\ttable\t54,\t64\t/* noise EQ 2 level\t\t\t*/\niEQn2q\ttable\t55,\t64\t/* noise EQ 2 Q\t\t\t\t*/\niEQn2m\ttable\t56,\t64\t/* noise EQ 2 mode (0:peak,1:lo,2:hi)\t*/\n\nimkmin\ttable\t57,\t64\t/* MIDI key range for panning\t\t*/\nimkmax\ttable\t58,\t64\n\niazim0\ttable\t59,\t64\t/* azimuth range\t\t\t*/\niazim1\ttable\t60,\t64\nielev0\ttable\t61,\t64\t/* elevation range\t\t\t*/\nielev1\ttable\t62,\t64\nidist0\ttable\t63,\t64\t/* distance range\t\t\t*/\nidist1\ttable\t64,\t64\n\n/* ------------------------------------------------------------------------- */\n\np3\t=  p3+0.15\t/* increase note length */\n\nibtime\t=  60/ibpm\n\nkamp\tlinseg 1,p3-0.15,1,0.05,0,0.1,0\t\t/* amp. envelope */\nkamp\t=  kamp*iamp*ivol\n\ni_\tlimit (imvel-ifrqdxv),0,127\t/* calculate freq. 1 dec. speed */\ni_\t=  i_/(127-ifrqdxv)\nifrqd1\t=  ifrqdx1-i_*(ifrqdx1-ifrqd1)\n\nkfrq1\texpseg 1,ibtime/ifrqd1,0.5\t/* osc. frq. envelopes */\nkfrq2\texpseg 1,ibtime/ifrqd2,0.5\nkfrq3\texpseg 1,ibtime/ifrqd3,0.5\nkfrq4\texpseg 1,ibtime/ifrqd4,0.5\n\nkfrq1\t=  kfrq1*ifrqs1*icps\nkfrq2\t=  kfrq2*ifrqs2*icps\nkfrq3\t=  kfrq3*ifrqs3*icps\nkfrq4\t=  kfrq4*ifrqs4*icps\n\nkcps\t=  kfrq1+kfrq2+kfrq3+kfrq4\t/* kcps = osc. frequency */\n\nkmkey\t=  ((log(kcps/440.0)/log(2.0))*12.0)+69.0\nkmkey\tlimit kmkey,0,127\nknumh\t=  sr/(2*kcps)\t\t\t/* knumh = number of harmonics */\n\na_\tbuzz sr/(10*3.14159265), kcps, knumh, 1, 0\na__\tbuzz sr/(10*3.14159265), kcps, knumh, 1, 0.5\n\na0\ttone a_-a__, 10\n\na_\tunirand 2\t\t\t/* noise generator */\na_\t=  a_-1\n\na_\tpareq a_,iEQn1fa+icps*iEQn1fn+kcps*iEQn1fo,iEQn1l,iEQn1q,iEQn1m\na_\tpareq a_,iEQn2fa+icps*iEQn2fn+kcps*iEQn2fo,iEQn2l,iEQn2q,iEQn2m\n\na0\t=  a0+insmix*a_\n\n/* EQ */\n\na0\tpareq a0,iEQ1fa+icps*iEQ1fn+kcps*iEQ1fo,iEQ1l,iEQ1q,iEQ1m\na0\tpareq a0,iEQ2fa+icps*iEQ2fn+kcps*iEQ2fo,iEQ2l,iEQ2q,iEQ2m\na0\tpareq a0,iEQ3fa+icps*iEQ3fn+kcps*iEQ3fo,iEQ3l,iEQ3q,iEQ3m\na0\tpareq a0,iEQ4fa+icps*iEQ4fn+kcps*iEQ4fo,iEQ4l,iEQ4q,iEQ4m\n\nkffr1\texpseg 1,ibtime/iffr1d,0.5\t/* LP filter freq. envelopes */\nkffr2\texpseg 1,ibtime/iffr2d,0.5\nkffr3\texpseg 1,ibtime/iffr3d,0.5\nkffr4\texpseg 1,ibtime/iffr4d,0.5\n\nkffr1\t=  kffr1*iffr1s\nkffr2\t=  kffr2*iffr2s\nkffr3\t=  kffr3*iffr3s*icps\nkffr4\t=  kffr4*iffr4s*icps\n\nkffrq\t=  kffr1+kffr2+kffr3+kffr4\t/* kffrq = LP filter frequency */\n\na0\tbutterlp a0,kffrq\t\t/* LP filter */\n\na_\t=  a0*kamp\t\t\t/* apply envelope */\n\ngax0\t=  gax0+a_\t\t\t/* send to global output */\n\nispt1\tlimit imkey,imkmin,imkmax\t\t/* calculate azimuth, */\nispt1\t=  (ispt1-imkmin)/(imkmax-imkmin)\t/* elevation and distance */\n\ni_az_\t=  iazim0+(iazim1-iazim0)*ispt1\ni_el_\t=  ielev0+(ielev1-ielev0)*ispt1\ni_d_\t=  idist0+(idist1-idist0)*ispt1\n\n$SPATMACRO\n\n\touts a_L_,a_R_\t\t/* output spatialized sound */\n\n\tendin\n\n/* ------------------------------------------------------------------------- */\n\n\tinstr 90\n\n\tsoundout gax0,$OUTFLNAME,6\t/* mono output file */\ngax0\t=  0\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt 0 140.00\t/* tempo */\n\ni 90 0 8.0\t/* output instrument */\n\ni 1\t0.0000\t0.5000\t56\t127\ni 1\t0.5000\t0.5000\t56\t127\ni 1\t1.0000\t0.5000\t56\t127\ni 1\t1.5000\t0.5000\t56\t127\ni 1\t2.0000\t0.2500\t49\t127\ni 1\t2.2500\t0.5000\t49\t127\ni 1\t2.7500\t0.5000\t49\t127\ni 1\t3.2500\t0.2500\t49\t127\ni 1\t3.5000\t0.2500\t44\t127\ni 1\t3.7500\t0.7500\t44\t127\n\n/* ------------------------------------------------------------------------- */\n\nf 64 0 64 -2\t3500.0\t\t/* output volume\t\t\t*/\n\t\t140.0\t\t/* tempo\t\t\t\t*/\n\n\t\t1.0\t\t/* oscillator start freq. 1 / note frq.\t*/\n\t\t42.0\t\t/* osc. frq. 1 decay speed at max. vel.\t*/\n\t\t36.0\t\t/* osc. freq. 1 max. decay speed\t*/\n\t\t96\t\t/* note velocity for max. decay speed\t*/\n\t\t1.0\t\t/* oscillator start freq. 2 / note frq.\t*/\n\t\t0.0001\t\t/* osc. freq. 2 decay speed\t\t*/\n\t\t0.0\t\t/* oscillator start freq. 3 / note frq.\t*/\n\t\t1.0\t\t/* osc. freq. 3 decay speed\t\t*/\n\t\t0.0\t\t/* oscillator start freq. 4 / note frq.\t*/\n\t\t1.0\t\t/* osc. freq. 4 decay speed\t\t*/\n\n\t\t16000\t\t/* lowpass filter start freq. 1 (Hz)\t*/\n\t\t42\t\t/* lowpass filter freq. 1 decay speed\t*/\n\t\t0\t\t/* lowpass filter start freq. 2 (Hz)\t*/\n\t\t1\t\t/* lowpass filter freq. 2 decay speed\t*/\n\t\t4\t\t/* LP filter start freq. 3 / note frq.\t*/\n\t\t16.8\t\t/* lowpass filter freq. 3 decay speed\t*/\n\t\t0\t\t/* LP filter start freq. 4 / note frq.\t*/\n\t\t1\t\t/* lowpass filter freq. 4 decay speed\t*/\n\n\t\t4\t\t/* EQ 1 frequency / osc. frequency\t*/\n\t\t0\t\t/* EQ 1 frequency / note frequency\t*/\n\t\t0\t\t/* EQ 1 frequency (Hz)\t\t\t*/\n\t\t2\t\t/* EQ 1 level\t\t\t\t*/\n\t\t0.7071\t\t/* EQ 1 Q\t\t\t\t*/\n\t\t2\t\t/* EQ 1 mode (0:peak,1:low,2:high)\t*/\n\n\t\t0.5\t\t/* EQ 2 frequency / osc. frequency\t*/\n\t\t0\t\t/* EQ 2 frequency / note frequency\t*/\n\t\t0\t\t/* EQ 2 frequency (Hz)\t\t\t*/\n\t\t0.25\t\t/* EQ 2 level\t\t\t\t*/\n\t\t0.7071\t\t/* EQ 2 Q\t\t\t\t*/\n\t\t1\t\t/* EQ 2 mode (0:peak,1:low,2:high)\t*/\n\n\t\t0.5\t\t/* EQ 3 frequency / osc. frequency\t*/\n\t\t0\t\t/* EQ 3 frequency / note frequency\t*/\n\t\t0\t\t/* EQ 3 frequency (Hz)\t\t\t*/\n\t\t4\t\t/* EQ 3 level\t\t\t\t*/\n\t\t2.0\t\t/* EQ 3 Q\t\t\t\t*/\n\t\t0\t\t/* EQ 3 mode (0:peak,1:low,2:high)\t*/\n\n\t\t0\t\t/* EQ 4 frequency / osc. frequency\t*/\n\t\t1.0\t\t/* EQ 4 frequency / note frequency\t*/\n\t\t0\t\t/* EQ 4 frequency (Hz)\t\t\t*/\n\t\t1.4142\t\t/* EQ 4 level\t\t\t\t*/\n\t\t1.4142\t\t/* EQ 4 Q\t\t\t\t*/\n\t\t0\t\t/* EQ 4 mode (0:peak,1:low,2:high)\t*/\n\n\t\t4.0\t\t/* noise mix\t\t\t\t*/\n\n\t\t0\t\t/* noise EQ 1 frequency / osc. freq.\t*/\n\t\t1\t\t/* noise EQ 1 frequency / note freq.\t*/\n\t\t0\t\t/* noise EQ 1 frequency (Hz)\t\t*/\n\t\t0.25\t\t/* noise EQ 1 level\t\t\t*/\n\t\t0.7071\t\t/* noise EQ 1 Q\t\t\t\t*/\n\t\t1\t\t/* noise EQ 1 mode (0:peak,1:lo,2:hi)\t*/\n\n\t\t0\t\t/* noise EQ 2 frequency / osc. freq.\t*/\n\t\t4\t\t/* noise EQ 2 frequency / note freq.\t*/\n\t\t0\t\t/* noise EQ 2 frequency (Hz)\t\t*/\n\t\t0.125\t\t/* noise EQ 2 level\t\t\t*/\n\t\t0.7071\t\t/* noise EQ 2 Q\t\t\t\t*/\n\t\t2\t\t/* noise EQ 2 mode (0:peak,1:lo,2:hi)\t*/\n\n\t\t44\t56\t/* MIDI key range for panning\t\t*/\n\t\t-90\t-270\t/* azimuth range\t\t\t*/\n\t\t0\t0\t/* elevation range\t\t\t*/\n\t\t1\t1\t/* distance range\t\t\t*/\n\n/* ------------------------------------------------------------------------- */\n\nf 1 0 262144 10 1\n\ne\t/* end of score */\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for idur      =     p3 using reverb effect and buzz/pulse generator and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from reverb.orc and reverb.sco\n; Original files preserved in same directory\n\nsr        =    44100\nkr        =    22050\nksmps     =    2\nnchnls    =    2\n\n; CSOUND SYSTEM FOR IMPLEMENTING REVERBS BASED ON NESTED ALL-PASS FILTERS\n; SIMILAR TO THOSE USED BY WILLIAM GARDNER (MIT)\n; CODED BY HANS MIKELSON 12/2/97\n;\n; 1. NOISE CLICK\n; 2. DISK INPUT\n; 8. SIMPLE SUM\n; 9. FEEDBACK FILTER\n;10. DELAY\n;11. SIMPLE ALL-PASS FILTER\n;12. NESTED ALL-PASS FILTER\n;13. DOUBLE NESTED ALL-PASS FILTER\n;15. OUTPUT \n\nzakinit   30,30\n\n;----------------------------------------------------------------------------------\n; NOISE CLICK FOR TESTING THE DECAY CURVE OF THE REVERB.\n          instr  1\n\nidur      =     p3\niamp      =     p4\nioutch    =     p5\nifco      =     p6\n\nkamp      linseg    0, .002, iamp, .002, 0, idur-.004, 0\naout      rand      kamp\n\nafilt     butterlp  aout, ifco\n          zaw       afilt, ioutch\n;         outs      aout, aout\n\n          endin\n\n;----------------------------------------------------------------------------------\n; DISK INPUT\n       instr  2\n\niamp      =         p4\nirate     =         p5\nisndin    =         p6\nioutch    =         p7\nifco      =         p8\n\nain       diskin    isndin, irate\n; afilt   butterlp  ain, ifco\n;         zaw       afilt*iamp, ioutch\n          zaw       ain*iamp, ioutch\n          outs      ain*iamp, ain*iamp\n\n          endin\n\n;----------------------------------------------------------------------------------\n; BAND-LIMITED IMPULSE\n       instr  3\n\niamp      =         p4\nifqc      =         cpspch(p5)\nioutch    =         p6\n\napulse    buzz      1,ifqc, sr/2/ifqc, 1 \t\t\t; AVOID ALIASING\n\n          zaw       apulse*iamp, ioutch\n          outs      apulse*iamp, apulse*iamp\n\n          endin\n\n       \n;----------------------------------------------------------------------------------\n; SIMPLE SUM--ADD 2 CHANNELS TOGETHER AND OUTPUT TO A THIRD CHANNEL.\n          instr  8\n\nidur      =         p3\niinch1    =         p4\niinch2    =         p5\nioutch    =         p6\n\nain1      zar       iinch1\nain2      zar       iinch2\n          zaw       ain1+ain2, ioutch\n\n          endin\n\n;----------------------------------------------------------------------------------\n; FEEDBACK FILTER\n          instr  9\n\nidur      =         p3\nifco      =         p4\nigain     =         p5\niinch1    =         p6\niinch2    =         p7\nioutch    =         p8\n\nain1      zar       iinch1\nain2      zar       iinch2                   \t; READ IN TWO CHANNELS\n\nafilt     butterbp  ain2, ifco, ifco/2       \t; BANDPASS FILTER ONE CHANNEL\n          zaw       ain1+igain*afilt, ioutch \t; ADJUST FILTER LEVEL ADD & OUTPUT\n\n       endin\n\n;----------------------------------------------------------------------------------\n; DELAY  -- SIMPLE DELAY\n          instr  10\n\nidur      =         p3\nidtime    =         p4/1000\nigain     =         p5\niinch     =         p6\nioutch    =         p7\n\nain       zar       iinch               ; READ THE CHANNEL\naout      delay     ain, idtime         ; DELAY FOR TIME\n          zaw       aout, ioutch        ; OUTPUT THE CHANNEL\n     \n          endin\n\n\n;----------------------------------------------------------------------------------\n; SIMPLE ALL-PASS FILTER\n          instr  11\n\nidur      =         p3\nitime     =         p4/1000\nigain     =         p5\niinch     =         p6\nioutch    =         p7\nadel1     init      0\n\nain       zar       iinch\n\naout      =         adel1-igain*ain               ; FEED FORWARD\nadel1     delay     ain+igain*aout, itime         ; DELAY AND FEEDBACK\n\n          zaw       aout, ioutch\n\n          endin\n\n;----------------------------------------------------------------------------------\n; SINGLE NESTED ALL-PASS FILTER\n          instr  12\n\nidur      =         p3\nitime1    =         p4/1000-p6/1000\nigain1    =         p5\nitime2    =         p6/1000\nigain2    =         p7\niinch     =         p8\nioutch    =         p9\nadel1     init      0\nadel2     init      0\n\nain       zar       iinch\n\nasum      =         adel2 - igain2*adel1          \t; FEED FORWARD (INNER ALL-PASS)\naout      =         asum - igain1*ain             \t; FEED FORWARD (OUTER ALL-PASS)\n\nadel1     delay     ain  + igain1*aout, itime1    \t; FEEDBACK (OUTER ALL-PASS)\nadel2     delay     adel1 + igain2*asum, itime2   \t; FEEDBACK (INNER ALL-PASS)\n\n          zaw       aout, ioutch\n\n          endin\n\n;----------------------------------------------------------------------------------\n; DOUBLE NESTED ALL-PASS FILTER (1 OUTER WITH 2 INNER IN SERIES)\n          instr  13\n\nidur      =         p3\nitime1    =         p4/1000-p6/1000-p8/1000\nigain1    =         p5\nitime2    =         p6/1000\nigain2    =         p7\nitime3    =         p8/1000\nigain3    =         p9\niinch     =         p10\nioutch    =         p11\nadel1     init      0\nadel2     init      0\nadel3     init      0\n\nain       zar       iinch\n\nasum1     =         adel2 - igain2*adel1               ; FIRST  INNER FEED FORWARD\nasum2     =         adel3 - igain3*asum1               ; SECOND INNER FEED FORWARD\naout      =         asum2 - igain1*ain                 ; OUTER  FEED FORWARD\n\nadel1     delay     ain  + igain1*aout, itime1         ; OUTER FEEDBACK\nadel2     delay     adel1 + igain2*asum1, itime2       ; FIRST INNER FEEDBACK\nadel3     delay     asum1 + igain3*asum2, itime3       ; SECOND INNER FEEDBACK\n\n       zaw    aout, ioutch\n\n       endin\n\n\n;----------------------------------------------------------------------------------\n; OUTPUT FOR REVERB\n          instr  15\n\nidur      =         p3\nigain     =         p4\niinch     =         p5\n\nkdclik    linseg    0, .002, igain, idur-.004, igain, .002, 0\n\nain       zar       iinch\n          outs      ain*kdclik, -ain*kdclik            ; INVERTING ONE SIDE MAKES THE SOUND\n          endin                                        ; SEEM TO COME FROM ALL AROUND YOU.\n                                                       ; THIS MAY CAUSE SOME PROBLEMS WITH CERTAIN\n                                                       ; SURROUND SOUND SYSTEMS.\n\n</CsInstruments>\n<CsScore>\n; 1. NOISE CLICK\n; 2. DISK INPUT\n; 8. SIMPLE SUM\n; 9. FEEDBACK FILTER\n;10. DELAY\n;11. SIMPLE ALL-PASS FILTER\n;12. NESTED ALL-PASS FILTER\n;13. DOUBLE NESTED ALL-PASS FILTER\n;15. OUTPUT \n\n;-------------------------------------------------------------------------------\n; NO REVERB\n;-------------------------------------------------------------------------------\n;   Sta  \tDur  \tAmp  \tPitch\t \tSoundIn\t\tOutCh\ni2  0.0  \t4.0  \t0.8  \t1\t \t\t11\t\t\t1\n\n;-------------------------------------------------------------------------------\n; SMALL ROOM\n;-------------------------------------------------------------------------------\n;   Sta  \tDur  \tAmp  \tPitch\t \tSoundIn\t\tOutCh\ni2  4.5  \t4.0  \t0.8  \t1\t \t\t11\t\t\t1\n\n;   Sta  \tDur  \tFco  \tGain\t\t\tInCh1  \t\tInCh2  \tOutCh\ni9  4.5  \t4.5  \t4200 \t.3\t\t\t1\t  \t\t5\t    \t2\n\n;   Sta  \tDur  \tTime\t\tGain\t \t\tInCh  \t\tOutCh\ni10 4.5  \t4.5  \t24\t\t1.0\t \t\t2\t  \t\t3\n\n;   Sta  \tDur  \tTime1\tGain1  \t\tTime2\t\tGain2  \tTime3  Gain3\t InCh  OutCh\ni13 4.5  4.5  \t\t35\t \t.15\t   \t\t22\t\t\t.25\t  \t8.3    .30\t 3\t  4\n\n;   Sta  \tDur  \tGain\t \tInCh\ni15 4.5  \t4.5  \t.5\t \t4\n\n;   Sta  \tDur  \tTime1\tGain1  \t\tTime2\t\tGain2  \tInCh   OutCh\ni12 4.5  \t4.5  \t66\t \t.08\t   \t\t30\t\t\t.3\t  \t4\t  5\n\n;   Sta  \tDur  \tGain\t \tInCh\ni15 4.5  \t4.5  \t.5\t \t5\n\n;-------------------------------------------------------------------------------\n; MEDIUM ROOM\n;-------------------------------------------------------------------------------\n;   Sta  \tDur  \tAmp  \tPitch\t \tSoundIn\t\tOutCh\ni2  9.0  \t4.0  \t0.7  \t1\t \t\t11\t\t\t1\n\n;   Sta  \tDur  \tFco  \tGain\t\t\tInCh1  \t\tInCh2  \tOutCh\ni9  9.0  \t4.5  \t2500 \t.4\t\t\t1\t  \t\t10\t    \t2\n\n;   Sta  \tDur  \tTime1\tGain1  \t\tTime2\t\tGain2  \tTime3  Gain3\t InCh  OutCh\ni13 9.0  \t4.5  \t35\t \t.25\t   \t\t8.3\t\t\t.35\t  \t22\t  .45\t 2\t  3\n\n;   Sta  \tDur  \tGain\t \tInCh\ni15 9.0  \t4.5  \t.4\t \t3\n\n;   Sta  \tDur  \tTime\t\tGain\t \t\tInCh  \t\tOutCh\ni10 9.0  \t4.5  \t5\t\t1.0\t \t\t3\t  \t\t4\n\n;   Sta  \tDur  \tTime1\tGain1  \t\tInCh  \t\tOutCh\ni11 9.0  \t4.5  \t30\t \t.45\t   \t\t4\t    \t\t5\n\n;   Sta  \tDur  \tTime\t\tGain\t \t\tInCh  \t\tOutCh\ni10 9.0  \t4.5  \t67\t\t1.0\t \t\t5\t  \t\t6\n\n;   Sta  \tDur  \tGain\t \tInCh\ni15 9.0  \t4.5  \t.4\t \t6\n\t\n;   Sta  \tDur  \tTime\t\tGain\t \t\tInCh  \t\tOutCh\ni10 9.0  \t4.5  \t15\t\t.4\t \t\t6\t  \t\t7\n\n;   Sta  \tDur  \tInCh1\tInCh2  \t\tOutCh\ni8  9.0  \t4.5  \t1\t \t7\t   \t\t8\n\n;   Sta  \tDur  \tTime1\tGain1  \t\tTime2\t\tGain2  \tInCh  OutCh\ni12 9.0  \t4.5  \t39\t \t.25\t   \t\t9.8\t\t\t.35\t  \t8\t 9\n\n;   Sta  \tDur  \tGain\t \tInCh\ni15 9.0  \t4.5  \t.4\t \t9\n\n;   Sta  \tDur  \tTime\t\tGain\t \t\tInCh  \t\tOutCh\ni10 9.0  \t4.5  \t108\t\t1.0\t \t\t9\t  \t\t10\n\n;-------------------------------------------------------------------------------\n; LARGE ROOM\n;-------------------------------------------------------------------------------\n;   Sta  \tDur  \tAmp  \tPitch\t \tSoundIn\t\tOutCh\ni2  14   \t4.0  \t0.5  \t1\t \t\t11\t\t\t1\n\n;   Sta  \tDur  \tFco  \tGain\t\t\tInCh1  \t\tInCh2  \tOutCh\ni9  14   \t4.5  \t2600 \t.4\t\t\t1\t  \t\t10\t    \t2\n\n;   Sta  \tDur  \tTime1\tGain1  \t\tInCh  \tOutCh\ni11 14   \t4.5  \t8\t \t.3\t   \t\t2\t    \t3\n\n;   Sta  \tDur  \tTime1\tGain1  \t\tInCh  \tOutCh\ni11 14   \t4.5  \t12\t \t.3\t   \t\t3\t    \t4\n\n;   Sta  \tDur  \tTime\t\tGain\t \t\tInCh  \tOutCh\ni10 14   \t4.5  \t4\t\t1.0\t \t\t4\t  \t5\n\n;   Sta  \tDur  \tGain\t \tInCh\ni15 14   \t4.5  \t1.36\t \t5\n\t\n;   Sta  \tDur  \tTime\t\tGain\t \t\tInCh  \tOutCh\ni10 14   \t4.5  \t17\t\t1.0\t \t\t5\t  \t6\n\n;   Sta  \tDur  \tTime1\tGain1  \t\tTime2\tGain2  InCh  \tOutCh\ni12 14   \t4.5  \t87\t \t.5\t   \t\t62\t\t.25\t  6\t   \t7\n\n;   Sta  \tDur  \tTime\t\tGain\t \t\tInCh  \tOutCh\ni10 14   \t4.5  \t31\t\t1.0\t \t\t7\t  \t8\n\n;   Sta  \tDur  \tGain\t \tInCh\ni15 14   \t4.5  \t.56\t \t8\n\n;   Sta  \tDur  \tTime\t\tGain\t \t\tInCh  \tOutCh\ni10 14   \t4.5  \t3\t\t1.0\t \t\t8\t  \t9\n\n;   Sta \tDur  \tTime1\tGain1  \t\tTime2\tGain2  Time3  \tGain3\t InCh  \tOutCh\ni13 14   \t4.5  \t120\t \t.5\t   \t\t76\t\t.25\t  30\t    \t.25\t \t 9\t  \t10\n\n;   Sta  \tDur  \tGain\t \tInCh\ni15 14   \t4.5  \t.56\t \t10\n\n\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kgoto start01 using buzz/pulse generator and Butterworth lowpass filter and Butterworth highpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bd4004m_03.orc and bd4004m_03.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  44100\nksmps\t=  1\nnchnls\t=  1\n\n\n/* convert MIDI note number to frequency */\n\n#define MIDI2CPS(xmidikey) # (440.0*exp(log(2.0)*(($xmidikey)-69.0)/12.0)) #\n\n/* convert frequency to MIDI note number */\n\n#define CPS2MIDI(xfreqcps) # (12.0*(log(($xfreqcps)/440.0)/log(2.0))+69.0) #\n\n/* convert velocity to amplitude */\n\n#define VELOC2AMP(xvelocity) # (0.0039+(($xvelocity)*($xvelocity))/16192.0) #\n\n/* convert amplitude to velocity */\n\n#define AMP2VELOC(xamplitude) # (sqrt((($xamplitude)-0.0039)*16192.0)) #\n\n\tseed 0\n\n\tinstr 1\n\n\tkgoto start01\n\n/*-------------------------------------------------------------------------- */\n\nivol\ttable 0,64\t/* volume\t\t\t\t\t*/\nibpm\ttable 1,64\t/* tempo\t\t\t\t\t*/\nirel\ttable 2,64\t/* release time (sec.)\t\t\t\t*/\nidel\ttable 3,64\t/* delay time\t\t\t\t\t*/\nimod0\ttable 4,64\t/* random mod. of delay (sec.)\t\t\t*/\nimod1\ttable 5,64\t/* rnd. mod. of velocity\t\t\t*/\nif01\ttable 6,64\t/* oscillator start frequency (rel.)\t\t*/\nifd1\ttable 7,64\t/* frequency envelope decay speed\t\t*/\nibw01\ttable 8,64\t/* OSC1 BP bandwidth (rel.)\t\t\t*/\nihp1\ttable 9,64\t/* OSC1 HP frequency (rel.)\t\t\t*/\niapf1\ttable 10,64\t/* OSC1 allpass filter start freq. (rel.)\t*/\niapf2\ttable 11,64\t/* OSC1 allpass filter end freq.\t\t*/\niapdx\ttable 12,64\t/* OSC1 allpass filter envelope speed\t\t*/\nifr3\ttable 13,64\t/* OSC2 HP1 frequency / base frq.\t\t*/\nimx3\ttable 14,64\t/* OSC2 HP1 mix\t\t\t\t\t*/\nifr4\ttable 15,64\t/* OSC2 output HP frq. / base freq.\t\t*/\nimx2\ttable 16,64\t/* OSC2 output gain\t\t\t\t*/\nihp2\ttable 17,64\t/* output HP (OSC1+OSC2) frq. (rel. to note f.)\t*/\nibw02\ttable 18,64\t/* output HP resonance\t\t\t\t*/\nifr1\ttable 19,64\t/* output LP start freq. 1 (rel.)\t\t*/\nifdx1\ttable 20,64\t/* output LP freq. 1 envelope decay speed\t*/\nifr2\ttable 21,64\t/* output LP start freq. 2\t\t\t*/\nifdx2\ttable 22,64\t/* output LP freq. 2 envelope decay speed\t*/\nifxBP1\ttable 23,64\t/* noise BP start frequency (Hz)\t\t*/\nifxBP2\ttable 24,64\t/* noise BP end frequency\t\t\t*/\nibw1\ttable 25,64\t/* noise BP bandwidth/freq.\t\t\t*/\nifxLP1\ttable 26,64\t/* noise LP start frequency (Hz)\t\t*/\nifxLP2\ttable 27,64\t/* noise LP end frequency\t\t\t*/\nifxd\ttable 28,64\t/* noise filter envelope speed\t\t\t*/\niattn1\ttable 29,64\t/* noise attack time (sec.)\t\t\t*/\nidecn1\ttable 30,64\t/* noise decay speed\t\t\t\t*/\nimxn\ttable 31,64\t/* noise mix\t\t\t\t\t*/\n\n/*-------------------------------------------------------------------------- */\n\ni001\t=  1/65536\t\t\t/*\t\t\t\t*/\nimkey\t=  p4\t\t\t\t/* MIDI key number\t\t*/\nimvel\t=  p5\t\t\t\t/* MIDI velocity\t\t*/\nivel\t=  $VELOC2AMP(imvel)\t\t/* convert velocity\t\t*/\nim0\tunirand 2\t\t\t/*\t\t\t\t*/\nim1\tunirand 2\t\t\t/*\t\t\t\t*/\nivel\t=  ivel*(1+(im1-1)*imod1)\t/* randomized velocity\t\t*/\nidel\t=  idel+((im0-1)*imod0)\t\t/* randomized delay\t\t*/\nibtime\t=  60/ibpm\t\t\t/* beat time\t\t\t*/\ni002\t=  exp(log(i001)*(idel+irel+16/kr)/irel)\nivol\t=  ivel*ivol\n\nicps\t=  $MIDI2CPS(imkey)\t\t/* base freq.\t*/\nifmax\t=  sr*0.48\t\t\t/* max. allowed freq.\t*/\nihp2\t=  ihp2*icps\nibw02x\t=  ihp2/ibw02\nifxLP2\t=  ifxLP2-ifxLP1\nifxBP2\t=  ifxBP2-ifxBP1\niapf2\t=  iapf2-iapf1\n\nixtime\t=  (irel+idel+16/kr)\n\np3\t=  p3+ixtime\t\t\t\t/* increase note length */\n\nstart01:\n\nkenvn1\texpseg 1,ibtime/idecn1,0.5\t\t\t/* noise generator */\nkenvn2\tlinseg 0,iattn1,1,1,1\naenvn\tinterp kenvn1*kenvn2\nkenvn3\texpseg 1,ibtime/ifxd,0.5\nkenvn3\t=  (1-kenvn3)\nkfxBPf\t=  ifxBP1+(kenvn3*ifxBP2)\na1l\tunirand 2\na1l\tbutterbp imxn*32768*(a1l-1)*aenvn,kfxBPf,kfxBPf*ibw1\na1l\tbutterlp a1l,ifxLP1+(ifxLP2*kenvn3)\n\nkamp1\texpseg 1,p3-ixtime,1,ixtime,i002\t\t/* envelopes */\nkfrq1   expseg 1,ibtime/ifd1,0.5\nkfrq\t=  icps*(1+kfrq1*(if01-1))\t/* kfrq  = osc. frequency */\nkapfr\texpseg 1,ibtime/iapdx,0.5\t/* kapfr = allpass filter frequency */\nkapfr\t=  kfrq*(iapf1+iapf2*(1-kapfr))\nkfrx1\texpseg 1,ibtime/ifdx1,0.5\nkfrx2\texpseg 1,ibtime/ifdx2,0.5\nkfrx\t=  kfrq*(kfrx1*ifr1+kfrx2*ifr2)\nkfrx\t=  (kfrx>ifmax ? ifmax : kfrx)\t/* kfrx  = LP filter frequency */\n\nknumh\t=  sr/(2*kfrq)\t\t\t/* oscillator */\na1\tbuzz sr/(10*3.14159265), kfrq, knumh, 256, 0\na2\tbuzz sr/(10*3.14159265), kfrq, knumh, 256, 0.5\na1\ttone (a1-a2)*16384, 10\na2\t=  a1\t\t\t\t\t/* a1 = a2 = osc. signal */\n\na1\tbutterhp a1,kfrq*ihp1\t\t\t\t/* filters */\na1      butterbp a1,kfrq,kfrq*ibw01\na1x\ttone a1,kapfr\na1\t=  2*a1x-a1\na3      butterhp a2,kfrq*ifr3\na2\t=  a2+a3*imx3\na2\tbutterhp a2,kfrq*ifr4\na0x\t=  a2*imx2+a1\natmp\tbutterbp a0x*ibw02,ihp2,ibw02x\na0x \tbutterhp a0x+atmp,ihp2\na0x\tbutterlp a0x,kfrx\n\na0y\tdelay (a0x+a1l)*ivol*kamp1,idel\n\n\tout  a0y\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt 0.00\t180.000\t\t/* tempo\t*/\n\n#define rhytm1(STIME) #\n\ni 1\t[$STIME+0.0000]\t\t0.4250\t33\t127\ni 1\t[$STIME+0.9900]\t\t0.4250\t33\t124\ni 1\t[$STIME+1.9800]\t\t0.4250\t33\t120\ni 1\t[$STIME+2.9700]\t\t0.4250\t33\t116\n\ni 1\t[$STIME+4.0000]\t\t0.4250\t33\t124\ni 1\t[$STIME+4.9900]\t\t0.4250\t33\t120\ni 1\t[$STIME+5.9850]\t\t0.4250\t33\t118\ni 1\t[$STIME+6.9800]\t\t0.4250\t33\t116\n\n#\n\n$rhytm1(0)\n$rhytm1(8)\n\n/* ------------------------------------------------------------------------- */\n\nf 64 0 32 -2\t0.27\t\t/* volume\t\t\t\t*/\n\t\t180\t\t/* tempo\t\t\t\t*/\n\n\t\t0.1667\t\t/* release time (sec.)\t\t\t*/\n\t\t0.01\t\t/* delay time\t\t\t\t*/\n\t\t0.0025\t\t/* random mod. of delay (sec.)\t\t*/\n\t\t0.005\t\t/* rnd. mod. of velocity\t\t*/\n\n\t\t5.3333\t\t/* oscillator start frequency (rel.)\t*/\n\t\t14.0\t\t/* frequency envelope decay speed\t*/\n\t\t0.7\t\t/* OSC1 BP bandwidth (rel.)\t\t*/\n\t\t0.0625\t\t/* OSC1 HP frequency (rel.)\t\t*/\n\t\t0.03125\t\t/* OSC1 allp. filter start freq. (rel.)\t*/\n\t\t1.0\t\t/* OSC1 allpass filter end freq.\t*/\n\t\t16\t\t/* OSC1 allpass filter envelope speed\t*/\n\t\t8\t\t/* OSC2 HP1 frequency (rel.)\t\t*/\n\t\t-2.0\t\t/* OSC2 HP1 mix\t\t\t\t*/\n\t\t0.7\t\t/* OSC2 output HP frq. (rel.)\t\t*/\n\t\t-2.0\t\t/* OSC2 output gain\t\t\t*/\n\t\t1.333\t\t/* output HP frq. (rel. to note f.)\t*/\n\t\t2.0\t\t/* output HP resonance\t\t\t*/\n\t\t4\t\t/* output LP start freq. 1 (rel.)\t*/\n\t\t0.5\t\t/* output LP freq. env. 1 decay speed\t*/\n\t\t4\t\t/* output LP start freq. 2\t\t*/\n\t\t0.5\t\t/* output LP freq. env. 2 decay speed\t*/\n\n\t\t7040\t\t/* noise BP start frequency (Hz)\t*/\n\t\t7040\t\t/* noise BP end frequency\t\t*/\n\t\t2\t\t/* noise BP bandwidth/freq.\t\t*/\n\t\t3520\t\t/* noise LP start frequency (Hz)\t*/\n\t\t55\t\t/* noise LP end frequency\t\t*/\n\t\t12\t\t/* noise filter envelope speed\t\t*/\n\t\t0.01\t\t/* noise attack time (sec.)\t\t*/\n\t\t3\t\t/* noise decay speed\t\t\t*/\n\t\t0.5\t\t/* noise mix\t\t\t\t*/\n\n/*-------------------------------------------------------------------------- */\n\nf 256 0 262144 10 1\n\ne\t/* end of score */\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and amplitude balance and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 303a.orc and 303a.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n; bassline Roland TB-303 emulator\n; coded by Josep M» Comajuncosas\n; Sept - Nov 1997\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n; INITIAL SETTINGS; CONTROL THE OVERAL CHARACTER OF THE SOUND\nitranspose init     0                        ; 1 RAISE THE WHOLE SEQ. 1 OCTAVE, ETC.\nimaxfreq  =         1000                     ; MAX.FILTER CUTOFF FREQ. WHEN ienvmod = 0\nimaxsweep =         10000                    ; sr/2... MAX.FILTER FREQ. AT kenvmod & kaccent= 1\nimaxamp   =         20000                    ; MAXIMUM AMPLITUDE. MAX 32768 FOR 16 BIT OUTPUT\nireson    =         1                        ; SCALE THE RESONANCE AS YOU LIKE (YOU CAN MAKE THE FILTER TO OSCILLATE...)\n\n; INIT VARIABLES; DON«T TOUCH THIS!\nibpm      =         p14                      ; 4/4 BARS PER MINUTE (OR BEATS?)\ninotedur  =         15/ibpm\nicount    init      0                        ; SEQUENCE COUNTER (FOR NOTES)\nicount2   init      0                        ; ID. FOR DURATIONS\nipcount2  init      0\nidecaydur =         inotedur\nimindecay =         (idecaydur<.2 ? .2 : idecaydur) ; SET MINIMUM DECAY TO .2 OR inotedur\nipitch    table     0,4                      ; FIRST NOTE IN THE SEQUENCE\nipitch    =         cpspch(itranspose + 6 + ipitch/100)\nkaccurve  init      0\n\n; TWISTING THE KNOBS FROM THE SCORE\nkfco      line      p4, p3, p5\nkres      line      p6, p3, p7\nkenvmod   line      p8, p3, p9\nkdecay    line      p10, p3, p11\nkaccent   line      p12, p3, p13\n\nstart:\n; PITCH FROM THE SEQUENCE + PORTAMENTO\nippitch   =         ipitch\nipitch    table     ftlen(4)*frac(icount/ftlen(4)),4\nipitch    =         cpspch(itranspose + 6 + ipitch/100)\n\n          if        ipcount2 != icount2 goto noslide\nkpitch    linseg    ippitch, .06, ipitch, inotedur-.06, ipitch\n          goto      next\n\nnoslide:\nkpitch    =         ipitch\n\nnext:\nipcount2  =         icount2\n          timout    0,inotedur,contin\nicount    =         icount + 1\n          reinit    start\nrireturn\n\ncontin:\n; ACCENT DETECTOR\niacc      table     ftlen(5)*frac((icount-1)/ftlen(5)), 5\n          if        iacc == 0 goto noaccent\nienvdecay =         0                        ; ACCENTED NOTES ARE THE SHORTEST ONES\niremacc   =         i(kaccurve)\nkaccurve  oscil1i   0, 1, .4, 3\nkaccurve  =         kaccurve+iremacc         ; SUCCESSIVE ACCENTS CAUSE HYSTERICAL RAISING CUTOFF\n\n          goto      sequencer\n\nnoaccent:\nkaccurve  =         0                        ; NO ACCENT & \"DISCHARGES\" ACCENT CURVE\nienvdecay =         i(kdecay)\n\nsequencer:\naremovedc init      0                        ; SET FEEDBACK TO 0 AT EVERY EVENT\nimult     table     ftlen(6)*frac(icount2/ftlen(6)),6\n          if        imult != 0 goto noproblemo ; COMPENSATE FOR ZERO PADDING IN THE SEQUENCER\nicount2   =         icount2 + 1\n          goto      sequencer\n\nnoproblemo:\nieventdur =         inotedur*imult\n\n; TWO ENVELOPES\nkmeg      expseg    1, imindecay+((ieventdur-imindecay)*ienvdecay),ienvdecay+.000001\nkveg      linen     1, .01, ieventdur, .016  ; ATTACK SHOULD BE 4 ms. BUT THERE WOULD BE CLICKS...\n\n; AMPLITUDE ENVELOPE\nkamp      =         kveg*((1-i(kenvmod)) + kmeg*i(kenvmod)*(.5+.5*iacc*kaccent))\n\n; FILTER ENVELOPE\nksweep    =         kveg * (imaxfreq + (.75*kmeg+.25*kaccurve*kaccent)*kenvmod*(imaxsweep-imaxfreq))\nkfco      =         20 + kfco * ksweep       ; CUTOFF ALWAYS GREATER THAN 20 Hz ...\nkfco      =         (kfco > sr/2 ? sr/2 : kfco) ; COULD BE NECESSARY\n                                             \n          timout    0, ieventdur, out\nicount2   =         icount2 + 1\n          reinit    contin\n\nout:\n; GENERATE BANDLIMITED SAWTOOTH WAVE\nabuzz     buzz      kamp, kpitch, sr/(2*kpitch), 1 ,0 ; BANDLIMITED PULSE\nasaw      integ     abuzz,0\nasawdc    atone     asaw,1\n\n; RESONANT 4-POLE LPF\nainpt     =         asawdc - aremovedc*kres*ireson\nalpf      tone      ainpt,kfco\nalpf      tone      alpf,kfco\nalpf      tone      alpf,kfco\nalpf      tone      alpf,kfco\n\naout      balance   alpf,asawdc\n\n; FINAL OUTPUT ... AT LAST!\naremovedc atone     aout,10\n          out       imaxamp*aremovedc\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1; sine wave\nf3  0 8193   8  0 512 1 1024 1 512 .5 2048 .2 4096  0; accent curve\nf4  0  16  -2  12 24 12 14 15 12 0 12 12 24 12 14 15 6 13 16 ; sequencer (pitches are 6.00 + p/100)\nf5  0  32  -2   0  1  0  0  0  0 0  0  0  1  0  1  1 1  0  0 0 1 0 0 1 0 1 1 1 1 0 0 0 0 0 1; accent sequence\nf6  0  16  -2   2     1  1  2    1  1  1  2     1  1 3       1 4 0 0 0; fill with zeroes till next power of 2\n;f6 = durations of events, 1 = note per note, 2 = two tied notes... .\n;note: f4-f5-f6 don«t need to be syncronized... like here (16-32-21)\nf7 0 1024   8 -.8 42 -.78  200 -.74 200 -.7 140 .7  200 .74 200 .78 42 .8; distortion table\n; f7 borrowed from H.Mikelson«s TB-303 emulator. Tnx!\n\n;------------ KNOB POSITION : INITIAL AND FINAL VALUES FROM 0 TO 1--------------------\n;   cutoff freq resonance envelope mod. decay       accent     bpm\n;     0   -   1  0 ~ 1  ~ .1 - 1  0 - 1       0 - 1   40-300\n;       start    end  st  end   st  end  st  end     st  end\n\ni1   0 10    .1     .3 .2  .2   .1   .4    .05 .8    0   0      120\ni1  11 10    .95    1  .1  1    .8   1     .1  .01   0   1      120\ni1  22 10    0      1  .5  1    .1   .4   1    1     1   1      120\ni1  33 10   .5      1  .95 1     1   .9   .1   0     1   1      120\ni1  44 10   .05     1  .5  1    .1   .1   .5   1     .5  1      120\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for PEAKING 12DB/OCT. LPF (ANALOG LOWPASS) using buzz/pulse generator and one-sample delay and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from analog3.orc and analog3.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         44100\nksmps     =         1\nnchnls    =         1\n\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\ninstr 1; PEAKING 12DB/OCT. LPF (ANALOG LOWPASS)\n; BASED ON JON DATTORIO / JAES VOL.45 N.9 SEPT 1997\n; PORTED TO CSOUND BY JOSEP M COMAJUNCOSAS / OCT.«98\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; NOTE : APPARENTLY THE CUTOFF AND THE RESONANCE\n; ARE NOT DECOUPLED (NOR TUNED IN FACT) AT ALL...\n; USE THEM *EMPYRICALLY*\n\nibound    =         10000\nimaxamp   =         10000\nkfreq     init      150\nkamp      linen     1,.01,p3,.1\napulse1   buzz      kamp, kfreq, ibound/kfreq, 1\nasaw      filter2   apulse1, 1, 1, 1, -.99\n\n; THE FILTER ITSELF\ni2pidsr   =         2*3.14159265359 / sr\n\n; FREQ. CUTOFF\nkfco      expseg    20, .2, 8000, p3-.2, 20\nkfcon     =         kfco*i2pidsr\nkfc       =         2*sin(kfcon/2)\n\n; Q (RESONANCE) : STABILITY GUARANTEED FOR KQC IN [0,1]\n; THOUGH YOU CAN TRY TO GO FURTHER (>1) AT YOUR OWN RISK\nkqc       =         p4\n\nay4       init      0\nay5       init      0\nay7       init      0\nay8       init      0\n\nax        =         asaw/2\nay1       =         ax - ay5 - ay7\nay2       =         kfc*ay1\nay3       =         ay2+ay4\nay4       delay1    ay3\nay5       =         ay4*kqc\nay6       =         ay5*kfc\nay7       =         ay6+ay8\nay8       delay1    ay7\nay9       =         ay8*2\n\n; COMPRESSION TO ALLOW A WIDER RANGE FOR Q\n; BE CAREFUL, IT ACTS ALSO AS A DISTORTER! ;-)\n;         out       tanh(ay9)*imaxamp\n          out       ay9*imaxamp                        ; skip compression\nendin\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\ninstr 2; PEAKING 24DB/OCT. LPF (ANALOG LOWPASS)\n; LIKE INSTR 1, BUT 2 CASCADED FILTER UNITS HERE\n; BASED ON JON DATTORIO / JAES VOL.45 N.9 SEPT 1997\n; PORTED TO CSOUND BY JOSEP M COMAJUNCOSAS / OCT.«98\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; NOTE : APPARENTLY THE CUTOFF AND THE RESONANCE\n; ARE NOT DECOUPLED (NOR TUNED IN FACT) AT ALL...\n; USE THEM *EMPYRICALLY*\n\nibound    =         10000\nimaxamp   =         10000\nkfreq     init      150\n\nkamp      linen     1,.01,p3,.1\napulse1   buzz      kamp, kfreq, ibound/kfreq, 1\nasaw      filter2   apulse1, 1, 1, 1, -.99\n\n; THE FILTER ITSELF\ni2pidsr   =         2*3.14159265359 / sr\n\n; FREQ. CUTOFF\nkfco      expseg    20, .2, 8000, p3-.2, 20\nkfcon     =         kfco*i2pidsr\nkfc       =         2*sin(kfcon/2)\n\n; Q (RESONANCE) : STABILITY GUARANTEED FOR KQC IN [0,1]\n; THOUGH YOU CAN TRY TO GO FURTHER (>1) AT YOUR OWN RISK\nkqc       =         p4\n\nay4       init      0\nay5       init      0\nay7       init      0\nay8       init      0\n\nax        =         asaw/2\nay1       =         ax - ay5 - ay7\nay2       =         kfc*ay1\nay3       =         ay2+ay4\nay4       delay1    ay3\nay5       =         ay4*kqc\nay6       =         ay5*kfc\nay7       =         ay6+ay8\nay8       delay1    ay7\n\n\nay14      init      0\nay15      init      0\nay17      init      0\nay18      init      0\n\nax2       =         ay8\nay11      =         ax2 - ay15 - ay17\nay12      =         kfc*ay11\nay13      =         ay2+ay14\nay14      delay1    ay13\nay15      =         ay14*kqc\nay16      =         ay15*kfc\nay17      =         ay16+ay18\nay18      delay1    ay17\nay19      =         ay18*2\n\n; COMPRESSION TO ALLOW A WIDER RANGE FOR Q\n; BE CAREFUL, IT ACTS ALSO AS A DISTORTER! ;-)\n;         out       tanh(ay19)*imaxamp\n          out       ay19*imaxamp                                      ; skip compression\n          endin\n\n</CsInstruments>\n<CsScore>\n\n\nf1 0 8192 10 1\n\n; p4 is the resonance control (0 to 1)\ni1 0 2 .09\ni1 2 2 .3\ni1 4 2 .65\ni1 6 2 1.1\ns\ni2 0 2 .09\ni2 2 2 .3\ni2 4 2 .65\ni2 6 2 1.1\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kgoto start01 using buzz/pulse generator and Butterworth lowpass filter and Butterworth highpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bd4004m_02.orc and bd4004m_02.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  44100\nksmps\t=  1\nnchnls\t=  1\n\n\n/* convert MIDI note number to frequency */\n\n#define MIDI2CPS(xmidikey) # (440.0*exp(log(2.0)*(($xmidikey)-69.0)/12.0)) #\n\n/* convert frequency to MIDI note number */\n\n#define CPS2MIDI(xfreqcps) # (12.0*(log(($xfreqcps)/440.0)/log(2.0))+69.0) #\n\n/* convert velocity to amplitude */\n\n#define VELOC2AMP(xvelocity) # (0.0039+(($xvelocity)*($xvelocity))/16192.0) #\n\n/* convert amplitude to velocity */\n\n#define AMP2VELOC(xamplitude) # (sqrt((($xamplitude)-0.0039)*16192.0)) #\n\n\tseed 0\n\n\tinstr 1\n\n\tkgoto start01\n\n/*-------------------------------------------------------------------------- */\n\nivol\ttable 0,64\t/* volume\t\t\t\t\t*/\nibpm\ttable 1,64\t/* tempo\t\t\t\t\t*/\nirel\ttable 2,64\t/* release time (sec.)\t\t\t\t*/\nidel\ttable 3,64\t/* delay time\t\t\t\t\t*/\nimod0\ttable 4,64\t/* random mod. of delay (sec.)\t\t\t*/\nimod1\ttable 5,64\t/* rnd. mod. of velocity\t\t\t*/\nif01\ttable 6,64\t/* oscillator start frequency (rel.)\t\t*/\nifd1\ttable 7,64\t/* frequency envelope decay speed\t\t*/\nibw01\ttable 8,64\t/* OSC1 BP bandwidth (rel.)\t\t\t*/\nihp1\ttable 9,64\t/* OSC1 HP frequency (rel.)\t\t\t*/\niapf1\ttable 10,64\t/* OSC1 allpass filter start freq. (rel.)\t*/\niapf2\ttable 11,64\t/* OSC1 allpass filter end freq.\t\t*/\niapdx\ttable 12,64\t/* OSC1 allpass filter envelope speed\t\t*/\nifr3\ttable 13,64\t/* OSC2 HP1 frequency / base frq.\t\t*/\nimx3\ttable 14,64\t/* OSC2 HP1 mix\t\t\t\t\t*/\nifr4\ttable 15,64\t/* OSC2 output HP frq. / base freq.\t\t*/\nimx2\ttable 16,64\t/* OSC2 output gain\t\t\t\t*/\nihp2\ttable 17,64\t/* output HP (OSC1+OSC2) frq. (rel. to note f.)\t*/\nibw02\ttable 18,64\t/* output HP resonance\t\t\t\t*/\nifr1\ttable 19,64\t/* output LP start freq. 1 (rel.)\t\t*/\nifdx1\ttable 20,64\t/* output LP freq. 1 envelope decay speed\t*/\nifr2\ttable 21,64\t/* output LP start freq. 2\t\t\t*/\nifdx2\ttable 22,64\t/* output LP freq. 2 envelope decay speed\t*/\nifxBP1\ttable 23,64\t/* noise BP start frequency (Hz)\t\t*/\nifxBP2\ttable 24,64\t/* noise BP end frequency\t\t\t*/\nibw1\ttable 25,64\t/* noise BP bandwidth/freq.\t\t\t*/\nifxLP1\ttable 26,64\t/* noise LP start frequency (Hz)\t\t*/\nifxLP2\ttable 27,64\t/* noise LP end frequency\t\t\t*/\nifxd\ttable 28,64\t/* noise filter envelope speed\t\t\t*/\niattn1\ttable 29,64\t/* noise attack time (sec.)\t\t\t*/\nidecn1\ttable 30,64\t/* noise decay speed\t\t\t\t*/\nimxn\ttable 31,64\t/* noise mix\t\t\t\t\t*/\n\n/*-------------------------------------------------------------------------- */\n\ni001\t=  1/65536\t\t\t/*\t\t\t\t*/\nimkey\t=  p4\t\t\t\t/* MIDI key number\t\t*/\nimvel\t=  p5\t\t\t\t/* MIDI velocity\t\t*/\nivel\t=  $VELOC2AMP(imvel)\t\t/* convert velocity\t\t*/\nim0\tunirand 2\t\t\t/*\t\t\t\t*/\nim1\tunirand 2\t\t\t/*\t\t\t\t*/\nivel\t=  ivel*(1+(im1-1)*imod1)\t/* randomized velocity\t\t*/\nidel\t=  idel+((im0-1)*imod0)\t\t/* randomized delay\t\t*/\nibtime\t=  60/ibpm\t\t\t/* beat time\t\t\t*/\ni002\t=  exp(log(i001)*(idel+irel+16/kr)/irel)\nivol\t=  ivel*ivol\n\nicps\t=  $MIDI2CPS(imkey)\t\t/* base freq.\t*/\nifmax\t=  sr*0.48\t\t\t/* max. allowed freq.\t*/\nihp2\t=  ihp2*icps\nibw02x\t=  ihp2/ibw02\nifxLP2\t=  ifxLP2-ifxLP1\nifxBP2\t=  ifxBP2-ifxBP1\niapf2\t=  iapf2-iapf1\n\nixtime\t=  (irel+idel+16/kr)\n\np3\t=  p3+ixtime\t\t\t\t/* increase note length */\n\nstart01:\n\nkenvn1\texpseg 1,ibtime/idecn1,0.5\t\t\t/* noise generator */\nkenvn2\tlinseg 0,iattn1,1,1,1\naenvn\tinterp kenvn1*kenvn2\nkenvn3\texpseg 1,ibtime/ifxd,0.5\nkenvn3\t=  (1-kenvn3)\nkfxBPf\t=  ifxBP1+(kenvn3*ifxBP2)\na1l\tunirand 2\na1l\tbutterbp imxn*32768*(a1l-1)*aenvn,kfxBPf,kfxBPf*ibw1\na1l\tbutterlp a1l,ifxLP1+(ifxLP2*kenvn3)\n\nkamp1\texpseg 1,p3-ixtime,1,ixtime,i002\t\t/* envelopes */\nkfrq1   expseg 1,ibtime/ifd1,0.5\nkfrq\t=  icps*(1+kfrq1*(if01-1))\t/* kfrq  = osc. frequency */\nkapfr\texpseg 1,ibtime/iapdx,0.5\t/* kapfr = allpass filter frequency */\nkapfr\t=  kfrq*(iapf1+iapf2*(1-kapfr))\nkfrx1\texpseg 1,ibtime/ifdx1,0.5\nkfrx2\texpseg 1,ibtime/ifdx2,0.5\nkfrx\t=  kfrq*(kfrx1*ifr1+kfrx2*ifr2)\nkfrx\t=  (kfrx>ifmax ? ifmax : kfrx)\t/* kfrx  = LP filter frequency */\n\nknumh\t=  sr/(2*kfrq)\t\t\t/* oscillator */\na1\tbuzz sr/(10*3.14159265), kfrq, knumh, 256, 0\na2\tbuzz sr/(10*3.14159265), kfrq, knumh, 256, 0.5\na1\ttone (a1-a2)*16384, 10\na2\t=  a1\t\t\t\t\t/* a1 = a2 = osc. signal */\n\na1\tbutterhp a1,kfrq*ihp1\t\t\t\t/* filters */\na1      butterbp a1,kfrq,kfrq*ibw01\na1x\ttone a1,kapfr\na1\t=  2*a1x-a1\na3      butterhp a2,kfrq*ifr3\na2\t=  a2+a3*imx3\na2\tbutterhp a2,kfrq*ifr4\na0x\t=  a2*imx2+a1\natmp\tbutterbp a0x*ibw02,ihp2,ibw02x\na0x \tbutterhp a0x+atmp,ihp2\na0x\tbutterlp a0x,kfrx\n\na0y\tdelay (a0x+a1l)*ivol*kamp1,idel\n\n\tout  a0y\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt 0.00\t180.000\t\t/* tempo\t*/\n\n#define rhytm1(STIME) #\n\ni 1\t[$STIME+0.0000]\t\t0.7000\t32\t120\ni 1\t[$STIME+0.9900]\t\t0.7000\t32\t112\ni 1\t[$STIME+1.9900]\t\t0.7000\t32\t124\ni 1\t[$STIME+2.9950]\t\t0.7000\t32\t112\n\ni 1\t[$STIME+4.0000]\t\t0.7000\t32\t116\ni 1\t[$STIME+4.9900]\t\t0.7000\t32\t112\ni 1\t[$STIME+5.9900]\t\t0.7000\t32\t116\ni 1\t[$STIME+6.9950]\t\t0.7000\t32\t112\n\n#\n\n$rhytm1(0)\n$rhytm1(8)\n\n/* ------------------------------------------------------------------------- */\n\nf 64 0 32 -2\t0.7\t\t/* volume\t\t\t\t*/\n\t\t180\t\t/* tempo\t\t\t\t*/\n\n\t\t0.1667\t\t/* release time (sec.)\t\t\t*/\n\t\t0.01\t\t/* delay time\t\t\t\t*/\n\t\t0.0025\t\t/* random mod. of delay (sec.)\t\t*/\n\t\t0.005\t\t/* rnd. mod. of velocity\t\t*/\n\n\t\t5.3333\t\t/* oscillator start frequency (rel.)\t*/\n\t\t12.0\t\t/* frequency envelope decay speed\t*/\n\t\t0.5\t\t/* OSC1 BP bandwidth (rel.)\t\t*/\n\t\t0.0625\t\t/* OSC1 HP frequency (rel.)\t\t*/\n\t\t1.0\t\t/* OSC1 allp. filter start freq. (rel.)\t*/\n\t\t4.0\t\t/* OSC1 allpass filter end freq.\t*/\n\t\t8\t\t/* OSC1 allpass filter envelope speed\t*/\n\t\t8\t\t/* OSC2 HP1 frequency (rel.)\t\t*/\n\t\t-5\t\t/* OSC2 HP1 mix\t\t\t\t*/\n\t\t0.5\t\t/* OSC2 output HP frq. (rel.)\t\t*/\n\t\t-0.4\t\t/* OSC2 output gain\t\t\t*/\n\t\t1.333\t\t/* output HP frq. (rel. to note f.)\t*/\n\t\t2.0\t\t/* output HP resonance\t\t\t*/\n\t\t-6\t\t/* output LP start freq. 1 (rel.)\t*/\n\t\t64\t\t/* output LP freq. env. 1 decay speed\t*/\n\t\t12\t\t/* output LP start freq. 2\t\t*/\n\t\t2\t\t/* output LP freq. env. 2 decay speed\t*/\n\n\t\t7040\t\t/* noise BP start frequency (Hz)\t*/\n\t\t7040\t\t/* noise BP end frequency\t\t*/\n\t\t2\t\t/* noise BP bandwidth/freq.\t\t*/\n\t\t3520\t\t/* noise LP start frequency (Hz)\t*/\n\t\t55\t\t/* noise LP end frequency\t\t*/\n\t\t12\t\t/* noise filter envelope speed\t\t*/\n\t\t0.01\t\t/* noise attack time (sec.)\t\t*/\n\t\t3\t\t/* noise decay speed\t\t\t*/\n\t\t0.5\t\t/* noise mix\t\t\t\t*/\n\n/*-------------------------------------------------------------------------- */\n\nf 256 0 262144 10 1\n\ne\t/* end of score */\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for TB-303 EMULATOR using buzz/pulse generator and amplitude balance and sample-and-hold random", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 303b.orc and 303b.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n; sr      =         22050\n; kr      =         22050\n\n          instr 1             ; TB-303 EMULATOR\n; CODED BY Josep M» Comajuncosas\n\n; INIT VARIABLES\nibpm      =         p14                      ; 4/4 BARS PER MINUTE\nieventdur =         15/ibpm\ninotedur  =         ieventdur                ; OR SMALLER...\nicount    init      0; sequence counter\nidecaydur =         inotedur\nimindecay =         (idecaydur<.2 ? .2 : idecaydur) ; SET MINIMUM DECAY TO .2 OR inotedur\nimaxfreq  =         1000                     ; MAX.FILTER CUTOFF FREQ. WHEN ienvmod = 0\nimaxsweep =         6500                     ; sr/2... MAX.FILTER FREQ. AT kenvmod & kaccent= 1\nipitch    table     0,4                      ; FIRST NOTE IN THE SEQUENCE\nipitch    =         cpspch(6 + ipitch/100)\nireson    =         3                        ; SCALE THE RESONANCE AS YOU LIKE (YOU CAN MAKE THE FILTER TO OSCILLATE...)\nimaxamp   =         20000                    ; MAXIMUM AMPLITUDE\nidist     =         .015                     ; 1 FOR ULTRA HARDCORE DISTORTION ;-)\n; RAISING IDIST ALSO RAISES THE RESONANCE\nkaccurve  init      0\n\n; TWISTING THE KNOBS ...\nkfco      line      p4, p3, p5\nkres      line      p6, p3, p7\nkenvmod   line      p8, p3, p9\nkdecay    line      p10, p3, p11\nkaccent   line      p12, p3, p13\n\n; kfco    randh     .5, .9 , .65\n; kfco    =         .5+kfco\n; kfco    port      kfco, .5\n; kres    randh     .5, .8, .32\n; kres    =         .5+kres\n; kres    port      kres, .5\n; kenvmod randh     .45, 1, .79\n; kenvmod =         .55 + kenvmod\n; kenvmod port      kenvmod, .5\n; kdecay  randh     .5, .5, .74\n; kdecay  =         .5+kdecay\n; kdecay  port      kdecay, .5\n; kaccent randh     .5, .75, .31\n; kaccent =         .5+kaccent\n; kaccent port      kaccent, .5\n \nstart:\nafdbk     init      0\n\n;PITCH FROM THE SEQUENCE\nippitch   =         ipitch\nipitch    table     ftlen(4)*frac(icount/ftlen(4)),4\nipitch    =         cpspch(6 + ipitch/100)\niremaining =        icount*ieventdur/p3\n          print     ipitch, iremaining\n\n; SLIDE DETECTOR; CANNOT SLIDE FROM LAST NOTE TO THE FIRST ONE\n;islide   table     ftlen(6)*frac(icount/ftlen(6)),6\n;         if        islide == 1:\n;islidedur\n; ACCENT DETECTOR\niacc      table     ftlen(5)*frac(icount/ftlen(5)), 5\n          if        iacc == 0 goto noaccent\nienvdecay =         0                        ; ACCENTED NOTES ARE THE SHORTEST ONES\niremacc   =         i(kaccurve)\nkaccurve  oscil1i   0, 1, .4, 3\nkaccurve  =         kaccurve+iremacc         ; SUCCESSIVE ACCENTS CAUSE HYSTERICAL RAISING CUTOFF\n\n          goto      next\n\nnoaccent:\nkaccurve  =         0                        ; NO ACCENT & \"DISCHARGES\" ACCENT CURVE\nienvdecay =         i(kdecay)\n\nnext:\n; TWO ENVELOPES & PITCH WITH PORTAMENTO\nkmeg      expseg    1, imindecay+((inotedur-imindecay)*ienvdecay),.1+.9*ienvdecay\nkveg      linen     1, .03, inotedur, .016   ; ATTACK SHOULD BE 4 MS. BUT ...\nkpitch    linseg    ippitch, .06, ipitch\n;         reinit    code\n          timout    0, ieventdur , contin\nicount    =         icount + 1\n          reinit    start\n\ncontin:\n\n; AMPLITUDE ENVELOPE\nkamp      =         .5*kveg*((1-i(kenvmod)) + kmeg*i(kenvmod)*(.5+.5*iacc*kaccent))\n\n; FILTER ENVELOPE\nksweep    =         kveg * (imaxfreq + (.7*kmeg+.3*kaccurve*kaccent)*kenvmod*(imaxsweep-imaxfreq))\nkfco      =         20 + kfco * ksweep       ; CUTOFF ALWAYS GREATER THAN 20 Hz ...\n; kfco    =         (kfco > sr/2 ? sr/2 : kfco) ; COULD BE NECESSARY\n                                             \n; GENERATE BANDLIMITED SAWTOOTH WAVE\nabuzz     buzz      kamp, kpitch, sr/(2*kpitch), 1 ,0 ; BANDLIMITED PULSE\nasaw      integ     abuzz,0\nasawdc    atone     asaw,1\n\n; RESONANT 8-POLE LPF\nainpt     =         asawdc - afdbk\nalpf      tone      ainpt,kfco\nalpf      tone      alpf,kfco\nalpf      tone      alpf,kfco\nalpf1     tone      alpf,kfco\nalpf      tone      alpf1,kfco\nalpf      tone      alpf,kfco\nalpf      tone      alpf,kfco\nalpf2     tone      alpf,kfco\n\nabal1     balance   alpf1,asawdc\nabal2     balance   alpf2,asawdc\n\nafdbk     =         abal1-abal2\nafdbk     balance   afdbk,asawdc*idist\nafdbk     tablei    afdbk*(.05+kres*ireson), 7, 1, .5 ; + RESONANCE -> + DISTORTION\naremovedc atone     afdbk,1\n          out       imaxamp*aremovedc\n          endin\n\n</CsInstruments>\n<CsScore>\nf1 0 16384 10 1\nf2  0 1025  19  .5  .5  270  .5\nf4  0  16  -2  0 12 0 0 3 0 0 0 0 15 12 0 6 15 1 4; sequencer (pitches are 6.00 + p/100)\nf5  0  16  -2  0  1 0 0 0 0 0 0 0  1  0 1 1  1 0 0; accent sequence\nf3  0 8193   8  0 512 1 1024 1 512 .5 2048 .2 4096  0; accent curve\nf7 0 1024   8 -.8 42 -.78  200 -.74 200 -.7 140 .7  200 .74 200 .78 42 .8\n; f7 borrowed from H.Mikelson«s TB-303 emulator. Tnx!\n\n;------------ KNOB POSITION : INITIAL AND FINAL VALUES FROM 0 TO 1--------------------\n;   cutoff freq resonance envelope mod. decay       accent     bpm\n;     0   -   1  0 ~ 1  ~ .1 - 1  0 - 1       0 - 1   40-300\n;       start    end  st  end   st  end  st  end     st  end\n\ni1   0 6  .01       .3      .2  .2   .1   .4   .05          .8      0   0       80\ni1   7 6  .95     1       .1  1    .8   1    .1        .01     0      1       70\ni1  14 6       0         1         .5  1    .1   1     1    .05     1   1       60\ni1  21 6  .5      1       .95 1    1    .9   .01  0         1   1       80\ni1  28 6       0         1         .5  1    .1   1     .05  0       .5  1       120\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for MOVES FROM TABLE #4 - A - TO #5 - O OVER P3 using buzz/pulse generator and resonant filter and amplitude balance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from BUZZTALK.ORC and BUZZTALK.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         1\n\n;BUZZTALK - TEST OF TERM ANALGOUE MODEL OF SPEECH\n;USES SLAWSON'S FORMANTS\n\n\ninstr          1\n\na1             buzz      p4,p5,p6,1               ;P4=AMP,P5=CPS,P6=KNH\na2             reson     a1,p7,p8,1,0\na3             reson     a1,p9,p10,1,0\na4             reson     a1,p11,p12,1,0\na5             reson     a1,p13,p14,1,0\n\na6             balance   (a2+a3+a4+a5),a1\n               out       a6\nendin\n\ninstr          2\n       \na1             buzz      p5,cpspch(p4),p6,1       ;P4=AMP,P5=CPS,P6=KNH WORKS WITH RANDOM.SCO\n\na2             reson     a1,p7,p8,1,0\na3             reson     a2,p9,p10,1,0\na4             reson     a3,p11,p12,1,0\na5             reson     a4,p13,p14,1,0\n\na6             balance   (a5),a1\n               out       a6\nendin\n\n\n\ninstr          3                                  ;MOVES FROM TABLE #4 - A - TO #5 - O OVER P3\nk3             linseg    p5,p3,p5\na1             buzz      p4,k3,p6,1 ;p4=amp,p5=cps,p6=knh\nk1             linseg    p7,p3*.35,p7*.63,p3*.65,p7*.44          ;FROM 800 TO 500 (63% OF P7)\na2             reson     a1,k1,p8,1,0\nk2             linseg    p9,p3*.65,p9*.65,93*.35,p9*.54          ;FROM 1300 TO 850\na3             reson     a2,k2,p10,1,0\na4             reson     a3,p11,p12,1,0\na5             reson     a4,p13,p14,1,0\n\na6             balance (a5),a1\nout            a6\nendin\n\n\n\n</CsInstruments>\n<CsScore>\n;BUZZTALK.SCO USES BUZZTALK.ORC\n\nf 1 0 8192 10 1\n\n\n\n\ni1 0 3 1500 123 20 800 150 1300 150 2500 200 3500 300\ne\ns\ni1 0 3 1500 130 20 .   .   .    .   .    .    .   .\ns\ni1 0 3 1500 138 20 .   .   .   .   .    .     .    .\ns\ni1 0 3 1500 146 20 .    .   .  .   .   .      .    .\ns\ni1 0 3 1500 155 20 .    .   .  .    .  .      .    .\ne\n\n\n \n   i2  0.000 0.050 8.03 1000 20 800 150 1300 150 2500 200 3500 300\n   i2  0.050 0.051 8.02 1003\n   i2  0.101 0.053 8.05 1007\n   i2  0.154 0.054 8.03 1010\n   i2  0.208 0.055 8.07 1013\n   i2  0.263 0.057 8.03 1017\n   i2  0.319 0.058 8.10 1021\n   i2  0.377 0.059 8.10 1025\n   i2  0.437 0.061 8.07 1029\n   i2  0.498 0.063 8.01 1033\n   i2  0.560 0.064 8.04 1037\n   i2  0.624 0.066 9.00 1041\n   i2  0.690 0.067 8.08 1045\n   i2  0.758 0.069 8.09 1050\n   i2  0.827 0.071 8.04 1055\n   i2  0.897 0.073 8.06 1060\n   i2  0.970 0.075 8.02 1064\n   i2  1.045 0.076 8.10 1070\n   i2  1.121 0.078 8.01 1075\n   i2  1.199 0.080 8.03 1080\n   i2  1.280 0.082 8.04 1086\n   i2  1.362 0.085 8.04 1092\n   i2  1.447 0.087 8.00 1098\n   i2  1.533 0.089 9.00 1104\n   i2  1.622 0.091 8.07 1110\n   i2  1.714 0.094 8.00 1117\n   i2  1.807 0.096 8.05 1123\n   i2  1.904 0.099 8.07 1130\n   i2  2.002 0.101 8.02 1138\n   i2  2.103 0.104 8.10 1145\n   i2  2.207 0.107 8.08 1153\n   i2  2.314 0.109 9.00 1161\n   i2  2.423 0.112 8.07 1169\n   i2  2.535 0.115 8.04 1177\n   i2  2.651 0.118 9.00 1186\n   i2  2.769 0.121 8.09 1195\n   i2  2.891 0.125 9.00 1205\n   i2  3.015 0.128 8.08 1214\n   i2  3.143 0.131 8.09 1224\n   i2  3.275 0.135 9.00 1235\n   i2  3.410 0.139 8.09 1246\n   i2  3.548 0.142 8.05 1257\n   i2  3.691 0.146 8.03 1268\n   i2  3.837 0.150 8.02 1280\n   i2  3.988 0.154 8.00 1293\n   i2  4.142 0.159 8.07 1306\n   i2  4.301 0.163 9.01 1319\n   i2  4.464 0.168 8.08 1333\n   i2  4.631 0.172 8.08 1348\n   i2  4.803 0.177 9.00 1363\n   i2  4.981 0.182 7.11 1378\n   i2  5.163 0.187 8.11 1394\n   i2  5.350 0.192 8.05 1411\n   i2  5.542 0.198 8.01 1429\n   i2  5.740 0.204 9.02 1447\n   i2  5.944 0.209 8.10 1466\n   i2  6.153 0.215 9.03 1486\n   i2  6.368 0.222 8.03 1507\n   i2  6.590 0.228 9.03 1529\n   i2  6.818 0.235 7.10 1551\n   i2  7.053 0.242 8.07 1575\n   i2  7.295 0.249 7.11 1600\n   i2  7.544 0.256 8.04 1625\n   i2  7.800 0.264 9.00 1652\n   i2  8.064 0.272 8.05 1681\n   i2  8.336 0.280 8.05 1711\n   i2  8.616 0.289 8.09 1742\n   i2  8.905 0.298 8.09 1774\n   i2  9.202 0.307 7.08 1809\n   i2   9.509 0.316 7.09 1845\n   i2   9.826 0.326 9.03 1883\n   i2  10.152 0.337 8.06 1923\n   i2  10.489 0.347 8.09 1965\n   i2  10.836 0.359 9.03 2009\n   i2  11.195 0.370 8.09 2056\n   i2  11.565 0.382 7.11 2106\n   i2  11.947 0.395 8.08 2158\n   i2  12.342 0.408 8.10 2214\n   i2  12.750 0.422 7.09 2273\n   i2  13.172 0.436 8.07 2335\n   i2  13.608 0.451 7.10 2402\n   i2  14.060 0.467 7.11 2473\n   i2  14.526 0.483 8.11 2548\n   i2  15.010 0.500 8.02 2629\n   i2  15.509 0.476 9.02 2714\n   i2  15.986 0.455 8.06 2799\n   i2  16.440 0.434 8.11 2882\n   i2  16.875 0.415 8.05 2964\n   i2  17.290 0.397 9.01 3044\n   i2  17.687 0.380 7.09 3123\n   i2  18.067 0.364 8.04 3200\n   i2  18.431 0.349 9.01 3276\n   i2  18.780 0.334 8.01 3350\n   i2  19.114 0.320 7.09 3423\n   i2  19.434 0.307 7.09 3495\n   i2  19.741 0.295 9.09 3564\n   i2  20.036 0.283 9.08 3633\n   i2  20.319 0.272 8.02 3699\n   i2  20.591 0.261 8.04 3765\n   i2  20.852 0.251 7.02 3829\n   i2  21.103 0.241 9.06 3891\n   i2  21.345 0.232 8.07 3952\n   i2  21.577 0.223 8.03 4011\n   i2  21.800 0.215 9.01 4069\n   i2  22.015 0.207 8.03 4126\n   i2  22.222 0.199 8.04 4181\n   i2  22.421 0.192 8.03 4235\n   i2  22.612 0.185 9.06 4288\n   i2  22.797 0.178 9.11 4339\n   i2  22.974 0.171 10.00 4389\n   i2  23.146 0.165 9.06 4438\n   i2  23.311 0.159 7.09 4485\n   i2  23.470 0.153 9.06 4531\n   i2  23.624 0.148 7.00 4576\n   i2  23.772 0.143 10.00 4620\n   i2  23.914 0.138 9.05 4663\n   i2  24.052 0.133 8.00 4704\n   i2  24.185 0.128 7.11 4744\n   i2  24.313 0.124 7.06 4784\n   i2  24.437 0.119 7.11 4822\n   i2  24.556 0.115 9.06 4859\n   i2  24.671 0.111 9.02 4895\n   i2  24.783 0.107 9.04 4931\n   i2  24.890 0.104 8.09 4965\n   i2  24.994 0.100 8.10 4998 .2\ne\n\ne\n\ni3 0 2 1500 100 20 800 150 1300 150 2500 200 3500 300\ni3 3 2 1500 200 20 .   .   .    .   .    .    .   .\ni3 5 2 1500 300 20 .   .   .   .   .    .     .    .\ni3 7 2 1500 400 20 .    .   .  .   .   .      .    .\ni3 9 2 1500 500 20 .    .   .  .    .  .      .    .\ns\n\ni3 0 2 1500 100 35 800 150 1300 150 2500 200 3500 300\ni3 3 2 1500 200 35 .   .   .    .   .    .    .   .\ni3 5 2 1500 300 35 .   .   .   .   .    .     .    .\ni3 7 2 1500 400 35 .    .   .  .   .   .      .    .\ni3 9 2 1500 500 35 .    .   .  .    .  .      .    .\ns\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and amplitude balance and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 303c.orc and 303c.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n\t\tinstr 1 \n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Roland TB-303 bassline emulator\n; coded by Josep Mª Comajuncosas , Sept - Nov 1997\n; send your comments (and money ;-)) to\n; gelida@lix.intercom.es \n; (from January´98 to gelida@intercom.es)\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n; INITIAL SETTINGS; CONTROL THE OVERALL CHARACTER OF THE SOUND\nimaxfreq\t=\t\t1000\t\t\t\t\t; MAX.FILTER CUTOFF FREQ. WHEN ienvmod = 0\nimaxsweep\t=\t\t10000\t\t\t\t; sr/2... MAX.FILTER FREQ. AT kenvmod & kaccent= 1\nireson\t=\t\t1\t\t\t\t\t; SCALE THE RESONANCE AS YOU LIKE (YOU CAN MAKE THE FILTER TO OSCILLATE...)\n\n; INIT VARIABLES; DON´T TOUCH THIS!\nitranspose =\t\tp15\t\t\t\t\t; 1 RAISE THE WHOLE SEQ. 1 OCTAVE, ETC.\niseqfn\t=\t\tp16\niaccfn\t=\t\tp17\nidurfn\t=\t\tp18\nimaxamp\t=\t\tp19\t\t\t\t\t; MAXIMUM AMPLITUDE. MAX 32768 FOR 16 BIT OUTPUT\nibpm\t\t=\t\tp14\t\t\t\t\t; 4/4 BARS PER MINUTE (OR BEATS?)\ninotedur\t=\t\t15/ibpm\nicount\tinit\t\t0\t\t\t\t\t; SEQUENCE COUNTER (FOR NOTES)\nicount2\tinit\t\t0\t\t\t\t\t; ID. FOR DURATIONS\nipcount2\tinit\t\t0\nidecaydur\t=\t\tinotedur\nimindecay\t=\t\t(idecaydur<.2 ? .2 : idecaydur) ; SET MINIMUM DECAY TO .2 OR inotedur\nipitch\ttable\t0,iseqfn\t\t\t\t; FIRST NOTE IN THE SEQUENCE\nipitch\t=\t\tcpspch(itranspose + 6 + ipitch/100)\nkaccurve\tinit\t\t0\n\n; TWISTING THE KNOBS FROM THE SCORE\nkfco\t\tline\t\tp4, p3, p5\nkres\t\tline\t\tp6, p3, p7\nkenvmod\tline\t\tp8, p3, p9\nkdecay\tline\t\tp10, p3, p11\nkaccent\tline\t\tp12, p3, p13\n\nstart:\n; PITCH & PORTAMENTO FROM THE SEQUENCE\nippitch\t=\t\tipitch\nipitch\ttable\tftlen(iseqfn)*frac(icount/ftlen(iseqfn)),iseqfn\nipitch\t=\t\tcpspch(itranspose + 6 + ipitch/100)\n\n\t\tif\t\tipcount2 != icount2 goto noslide\nkpitch\tlinseg\tippitch, .06, ipitch, inotedur-.06, ipitch\n\t\tgoto\t\tnext\n\nnoslide:\nkpitch\t=\t\tipitch\n\nnext:\nipcount2\t=\t\ticount2\n\t\ttimout\t0,inotedur,contin\nicount\t=\t\ticount + 1\n\t\treinit\tstart\n\t\trireturn\n\ncontin:\n; ACCENT DETECTOR\niacc\t\ttable\tftlen(iaccfn)*frac((icount-1)/ftlen(iaccfn)), iaccfn\n\t\tif\t\tiacc == 0 goto noaccent\nienvdecay\t=\t\t0\t\t\t\t\t; ACCENTED NOTES ARE THE SHORTEST ONES\niremacc\t=\t\ti(kaccurve)\nkaccurve\toscil1i\t0, 1, .4, 3\nkaccurve\t=\t\tkaccurve+iremacc\t\t; SUCCESSIVE ACCENTS CAUSE HYSTERICAL RAISING CUTOFF\n\n\t\tgoto\t\tsequencer\n\nnoaccent:\nkaccurve\t=\t\t0\t\t\t\t\t; NO ACCENT & \"DISCHARGES\" ACCENT CURVE\nienvdecay\t=\t\ti(kdecay)\n\nsequencer:\naremovedc\tinit\t\t0\t\t\t\t\t; SET FEEDBACK TO 0 AT EVERY EVENT\nimult\ttable\tftlen(idurfn)*frac(icount2/ftlen(idurfn)),idurfn\n\t\tif\t\timult != 0 goto noproblemo ; COMPENSATE FOR ZERO PADDING IN THE SEQUENCER\nicount2\t=\t\ticount2 + 1\n\t\tgoto\t\tsequencer\n\nnoproblemo:\nieventdur\t=\t\tinotedur*imult\n\n; TWO ENVELOPES\nkmeg\t\texpseg\t1, imindecay+((ieventdur-imindecay)*ienvdecay), ienvdecay+.000001\nkveg\t\tlinen\t1, .01, ieventdur, .016\t; ATTACK SHOULD BE 4 ms. BUT THERE WOULD BE CLICKS... \n\n; AMPLITUDE ENVELOPE\nkamp\t\t=\t\tkveg*((1-i(kenvmod)) + kmeg*i(kenvmod)*(.5+.5*iacc*kaccent))\n\n; FILTER ENVELOPE\nksweep\t=\t\tkveg * (imaxfreq + (.75*kmeg+.25*kaccurve*kaccent)*kenvmod*(imaxsweep-imaxfreq))\nkfco\t\t=\t\t20 + kfco * ksweep\t\t; CUTOFF ALWAYS GREATER THAN 20 Hz ...\nkfco\t\t=\t\t(kfco > sr/2 ? sr/2 : kfco) ; COULD BE NECESSARY\n\n\t\ttimout\t0, ieventdur, out\nicount2\t=\t\ticount2 + 1\n\t\treinit\tcontin\n\nout:\n; GENERATE BANDLIMITED SAWTOOTH WAVE\nabuzz\tbuzz\t\tkamp, kpitch, sr/(2*kpitch), 1 ,0 ; BANDLIMITED PULSE\nasaw\t\tinteg\tabuzz,0\nasawdc\tatone\tasaw,1\n\n; RESONANT 4-POLE LPF\nainpt\t=\t\tasawdc - aremovedc*kres*ireson\nalpf\t\ttone\t\tainpt,kfco\nalpf\t\ttone\t\talpf,kfco\nalpf\t\ttone\t\talpf,kfco\nalpf\t\ttone\t\talpf,kfco\n\n\t\taout\t\tbalance alpf,asawdc\n\n; FINAL OUTPUT ... AT LAST!\naremovedc\tatone\taout,10\n\t\tout\t\timaxamp*aremovedc\n\t\tendin\n\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1; sine wave\nf3  0 8193   8  0 512 1 1024 1 512 .5 2048 .2 4096  0; accent curve\n\nf4  0  16  -2  12 24 12 14 15 12 0 12 12 24 12 14 15 6 13 16 ; sequencer (pitches are 6.00 + p/100)\nf5  0  32  -2   0  1  0  0  0  0 0  0  0  1  0  1  1 1  0  0 0 1 0 0 1 0 1 1 1 1 0 0 0 0 0 1; accent sequence\nf6  0  16  -2   2     1  1  2    1  1  1  2     1  1 3       1 4 0 0 0; fill with zeroes till next power of 2\n;f6 = durations of events, 1 = note per note, 2 = two tied notes... .\n;note: f4-f5-f6 don´t need to be syncronized... like here (16-32-21)\nf7  0  8  -2   10 0 12 0 7 10 12 7; sequencer (pitches are 6.00 + p/100)\nf8  0  16  -2   1 0  0 0 0  0  0 0 0 0 0 0 0 0 0 0; accent sequence\nf9  0  2  -2   16 0; fill with zeroes till next power of 2\n\nf10  0  8  -2   0 12 0 0 12 0 0 12; sequencer (pitches are 6.00 + p/100)\nf11  0  8  -2   1  1 1 1  1 1 1  1; accent sequence\nf12  0  8  -2   1  1 1 1  1 1 1  1; fill with zeroes till next power of 2\n\n;KNOB POSITION : INITIAL AND FINAL VALUES FROM 0 TO 1\n;    cutoff freq resonance envelope mod. decay   accent     bpm  transpose ft seq   ft acc    ft dur   maxamp\n;          0   -   1          0 ~ 1          ~ .1 - 1       0 - 1       0 - 1   40-300  (octaves)(pitches)(accents)(durations)\n;         start    end        st  end     st  end      st  end     st  end\n\ni1   0 20   .1   .3   .2  .2        .1   .4         .05 .8      0   0      120     2         7        8       9      15000\ni1   0 20  0    1   .5  1         .1   .4         1   1       1   1      120     0         4        5       6       5000\ni1  20 40 .2    1   .5  1         .1   .1         .5  1       .5  1      120     2         7        8       9      15000\ni1  40 20      .5    1   .95 1         1    .9         1   .1      .5  1      120     0         4        5       6       5000\ni1  30 30      .5    1    .5  .5       .5   .5         .5  .5      0   0      120     0        10       11      12       10000\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kgoto start01 using buzz/pulse generator and Butterworth lowpass filter and Butterworth highpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bd4004m_01.orc and bd4004m_01.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  44100\nksmps\t=  1\nnchnls\t=  1\n\n\n/* convert MIDI note number to frequency */\n\n#define MIDI2CPS(xmidikey) # (440.0*exp(log(2.0)*(($xmidikey)-69.0)/12.0)) #\n\n/* convert frequency to MIDI note number */\n\n#define CPS2MIDI(xfreqcps) # (12.0*(log(($xfreqcps)/440.0)/log(2.0))+69.0) #\n\n/* convert velocity to amplitude */\n\n#define VELOC2AMP(xvelocity) # (0.0039+(($xvelocity)*($xvelocity))/16192.0) #\n\n/* convert amplitude to velocity */\n\n#define AMP2VELOC(xamplitude) # (sqrt((($xamplitude)-0.0039)*16192.0)) #\n\n\tseed 0\n\n\tinstr 1\n\n\tkgoto start01\n\n/*-------------------------------------------------------------------------- */\n\nivol\ttable 0,64\t/* volume\t\t\t\t\t*/\nibpm\ttable 1,64\t/* tempo\t\t\t\t\t*/\nirel\ttable 2,64\t/* release time (sec.)\t\t\t\t*/\nidel\ttable 3,64\t/* delay time\t\t\t\t\t*/\nimod0\ttable 4,64\t/* random mod. of delay (sec.)\t\t\t*/\nimod1\ttable 5,64\t/* rnd. mod. of velocity\t\t\t*/\nif01\ttable 6,64\t/* oscillator start frequency (rel.)\t\t*/\nifd1\ttable 7,64\t/* frequency envelope decay speed\t\t*/\nibw01\ttable 8,64\t/* OSC1 BP bandwidth (rel.)\t\t\t*/\nihp1\ttable 9,64\t/* OSC1 HP frequency (rel.)\t\t\t*/\niapf1\ttable 10,64\t/* OSC1 allpass filter start freq. (rel.)\t*/\niapf2\ttable 11,64\t/* OSC1 allpass filter end freq.\t\t*/\niapdx\ttable 12,64\t/* OSC1 allpass filter envelope speed\t\t*/\nifr3\ttable 13,64\t/* OSC2 HP1 frequency / base frq.\t\t*/\nimx3\ttable 14,64\t/* OSC2 HP1 mix\t\t\t\t\t*/\nifr4\ttable 15,64\t/* OSC2 output HP frq. / base freq.\t\t*/\nimx2\ttable 16,64\t/* OSC2 output gain\t\t\t\t*/\nihp2\ttable 17,64\t/* output HP (OSC1+OSC2) frq. (rel. to note f.)\t*/\nibw02\ttable 18,64\t/* output HP resonance\t\t\t\t*/\nifr1\ttable 19,64\t/* output LP start freq. 1 (rel.)\t\t*/\nifdx1\ttable 20,64\t/* output LP freq. 1 envelope decay speed\t*/\nifr2\ttable 21,64\t/* output LP start freq. 2\t\t\t*/\nifdx2\ttable 22,64\t/* output LP freq. 2 envelope decay speed\t*/\nifxBP1\ttable 23,64\t/* noise BP start frequency (Hz)\t\t*/\nifxBP2\ttable 24,64\t/* noise BP end frequency\t\t\t*/\nibw1\ttable 25,64\t/* noise BP bandwidth/freq.\t\t\t*/\nifxLP1\ttable 26,64\t/* noise LP start frequency (Hz)\t\t*/\nifxLP2\ttable 27,64\t/* noise LP end frequency\t\t\t*/\nifxd\ttable 28,64\t/* noise filter envelope speed\t\t\t*/\niattn1\ttable 29,64\t/* noise attack time (sec.)\t\t\t*/\nidecn1\ttable 30,64\t/* noise decay speed\t\t\t\t*/\nimxn\ttable 31,64\t/* noise mix\t\t\t\t\t*/\n\n/*-------------------------------------------------------------------------- */\n\ni001\t=  1/65536\t\t\t/*\t\t\t\t*/\nimkey\t=  p4\t\t\t\t/* MIDI key number\t\t*/\nimvel\t=  p5\t\t\t\t/* MIDI velocity\t\t*/\nivel\t=  $VELOC2AMP(imvel)\t\t/* convert velocity\t\t*/\nim0\tunirand 2\t\t\t/*\t\t\t\t*/\nim1\tunirand 2\t\t\t/*\t\t\t\t*/\nivel\t=  ivel*(1+(im1-1)*imod1)\t/* randomized velocity\t\t*/\nidel\t=  idel+((im0-1)*imod0)\t\t/* randomized delay\t\t*/\nibtime\t=  60/ibpm\t\t\t/* beat time\t\t\t*/\ni002\t=  exp(log(i001)*(idel+irel+16/kr)/irel)\nivol\t=  ivel*ivol\n\nicps\t=  $MIDI2CPS(imkey)\t\t/* base freq.\t*/\nifmax\t=  sr*0.48\t\t\t/* max. allowed freq.\t*/\nihp2\t=  ihp2*icps\nibw02x\t=  ihp2/ibw02\nifxLP2\t=  ifxLP2-ifxLP1\nifxBP2\t=  ifxBP2-ifxBP1\niapf2\t=  iapf2-iapf1\n\nixtime\t=  (irel+idel+16/kr)\n\np3\t=  p3+ixtime\t\t\t\t/* increase note length */\n\nstart01:\n\nkenvn1\texpseg 1,ibtime/idecn1,0.5\t\t\t/* noise generator */\nkenvn2\tlinseg 0,iattn1,1,1,1\naenvn\tinterp kenvn1*kenvn2\nkenvn3\texpseg 1,ibtime/ifxd,0.5\nkenvn3\t=  (1-kenvn3)\nkfxBPf\t=  ifxBP1+(kenvn3*ifxBP2)\na1l\tunirand 2\na1l\tbutterbp imxn*32768*(a1l-1)*aenvn,kfxBPf,kfxBPf*ibw1\na1l\tbutterlp a1l,ifxLP1+(ifxLP2*kenvn3)\n\nkamp1\texpseg 1,p3-ixtime,1,ixtime,i002\t\t/* envelopes */\nkfrq1   expseg 1,ibtime/ifd1,0.5\nkfrq\t=  icps*(1+kfrq1*(if01-1))\t/* kfrq  = osc. frequency */\nkapfr\texpseg 1,ibtime/iapdx,0.5\t/* kapfr = allpass filter frequency */\nkapfr\t=  kfrq*(iapf1+iapf2*(1-kapfr))\nkfrx1\texpseg 1,ibtime/ifdx1,0.5\nkfrx2\texpseg 1,ibtime/ifdx2,0.5\nkfrx\t=  kfrq*(kfrx1*ifr1+kfrx2*ifr2)\nkfrx\t=  (kfrx>ifmax ? ifmax : kfrx)\t/* kfrx  = LP filter frequency */\n\nknumh\t=  sr/(2*kfrq)\t\t\t/* oscillator */\na1\tbuzz sr/(10*3.14159265), kfrq, knumh, 256, 0\na2\tbuzz sr/(10*3.14159265), kfrq, knumh, 256, 0.5\na1\ttone (a1-a2)*16384, 10\na2\t=  a1\t\t\t\t\t/* a1 = a2 = osc. signal */\n\na1\tbutterhp a1,kfrq*ihp1\t\t\t\t/* filters */\na1      butterbp a1,kfrq,kfrq*ibw01\na1x\ttone a1,kapfr\na1\t=  2*a1x-a1\na3      butterhp a2,kfrq*ifr3\na2\t=  a2+a3*imx3\na2\tbutterhp a2,kfrq*ifr4\na0x\t=  a2*imx2+a1\natmp\tbutterbp a0x*ibw02,ihp2,ibw02x\na0x \tbutterhp a0x+atmp,ihp2\na0x\tbutterlp a0x,kfrx\n\na0y\tdelay (a0x+a1l)*ivol*kamp1,idel\n\n\tout  a0y\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt 0.00\t150.000\t\t/* tempo\t*/\n\n#define rhytm1(STIME) #\n\ni 1\t[$STIME+0.0000]\t\t0.4375\t31\t120\ni 1\t[$STIME+1.0200]\t\t0.4375\t31\t116\ni 1\t[$STIME+2.0100]\t\t0.4375\t31\t124\ni 1\t[$STIME+3.0000]\t\t0.4375\t31\t116\n\ni 1\t[$STIME+4.0000]\t\t0.4375\t31\t118\ni 1\t[$STIME+4.9900]\t\t0.4375\t31\t116\ni 1\t[$STIME+5.9800]\t\t0.4375\t31\t114\ni 1\t[$STIME+6.9700]\t\t0.4375\t31\t112\n\n#\n\n$rhytm1(0)\n$rhytm1(8)\n\n/* ------------------------------------------------------------------------- */\n\nf 64 0 32 -2\t1.5\t\t/* volume\t\t\t\t*/\n\t\t150\t\t/* tempo\t\t\t\t*/\n\n\t\t0.1667\t\t/* release time (sec.)\t\t\t*/\n\t\t0.01\t\t/* delay time\t\t\t\t*/\n\t\t0.0\t\t/* random mod. of delay (sec.)\t\t*/\n\t\t0.0\t\t/* rnd. mod. of velocity\t\t*/\n\n\t\t5.3333\t\t/* oscillator start frequency (rel.)\t*/\n\t\t14.0\t\t/* frequency envelope decay speed\t*/\n\t\t0.5\t\t/* OSC1 BP bandwidth (rel.)\t\t*/\n\t\t0.0625\t\t/* OSC1 HP frequency (rel.)\t\t*/\n\t\t2.0\t\t/* OSC1 allp. filter start freq. (rel.)\t*/\n\t\t0.0625\t\t/* OSC1 allpass filter end freq.\t*/\n\t\t8\t\t/* OSC1 allpass filter envelope speed\t*/\n\t\t8\t\t/* OSC2 HP1 frequency (rel.)\t\t*/\n\t\t-3\t\t/* OSC2 HP1 mix\t\t\t\t*/\n\t\t0.5\t\t/* OSC2 output HP frq. (rel.)\t\t*/\n\t\t0.4\t\t/* OSC2 output gain\t\t\t*/\n\t\t1.0\t\t/* output HP frq. (rel. to note f.)\t*/\n\t\t2.0\t\t/* output HP resonance\t\t\t*/\n\t\t24\t\t/* output LP start freq. 1 (rel.)\t*/\n\t\t16\t\t/* output LP freq. env. 1 decay speed\t*/\n\t\t8\t\t/* output LP start freq. 2\t\t*/\n\t\t8\t\t/* output LP freq. env. 2 decay speed\t*/\n\n\t\t7040\t\t/* noise BP start frequency (Hz)\t*/\n\t\t7040\t\t/* noise BP end frequency\t\t*/\n\t\t2\t\t/* noise BP bandwidth/freq.\t\t*/\n\t\t3520\t\t/* noise LP start frequency (Hz)\t*/\n\t\t55\t\t/* noise LP end frequency\t\t*/\n\t\t12\t\t/* noise filter envelope speed\t\t*/\n\t\t0.01\t\t/* noise attack time (sec.)\t\t*/\n\t\t3\t\t/* noise decay speed\t\t\t*/\n\t\t0.15\t\t/* noise mix\t\t\t\t*/\n\n/*-------------------------------------------------------------------------- */\n\nf 256 0 262144 10 1\n\ne\t/* end of score */\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for \"SOLINA\" STRING ENSEMBLE AS THE CARRIER using vocoder and buzz/pulse generator and Butterworth highpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from cvocoder.orc and cvocoder.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\n\n\n               zakinit   10,10\n\ninstr          1                             ; \"SOLINA\" STRING ENSEMBLE AS THE CARRIER\nkamp           linen     1, 1,p3,1\nkamp2          linen     1, 2,p3,1\nkpitch         init      cpspch(p4)\n\nalfo1          lfo       .001,.8\nalfo2          lfo       .001,.56\n\nabuzz1         buzz      kamp, kpitch*(1+alfo1), sr/(2*kpitch), 1 ,0\nasaw1          filter2   abuzz1, 1, 1, 1, -.95                        ; WEAK BASS RESPONSE\nabuzz2         buzz      kamp, kpitch*(1-alfo2), sr/(2*kpitch), 1 ,0\nasaw2          filter2   abuzz2, 1, 1, 1, -.95                        ; WEAK BASS RESPONSE\nabuzz3         buzz      kamp2, 2*kpitch, sr/(4*kpitch), 1 ,0         ; 8TH HIGHER\nasaw3          filter2   abuzz3, 1, 1, 1, -.999\n\namix           =         .25*(asaw1+asaw2+2*asaw3)\n\n;ADD SOME CHORUS\nadel1          lfo       .01, .8\nadel1          =         .04*(1+adel1)\nadel2          lfo       .03, .7\nadel2          =         .04*(1+adel2)\nadel3          lfo       .02, .9\nadel3          =         .04*(1+adel3)\naflanger1      flanger   amix, adel1, 0, .1\naflanger2      flanger   amix, adel2, 0, .1\naflanger3      flanger   amix, adel3, 0, .1\n\namix2          =         .5*amix + .2*(aflanger1+aflanger2+aflanger3)\n;amix2         gauss     1                                            ;TEST WITH NOISE CARRIER\nzawm           amix      2,0\n;              out       amix2*4000\nendin\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\ninstr          2         ; ANOTHER ANALOG VOCODER\n;CODED BY JOSEP M COMAJUNCOSAS / NOV´98\n; FEATURES : 8 BANDS WITH ASSIGNABLE CARRIER & MODULATOR INPUTS\n; FLEXIBLE ROUTING WITH THE ZAK SYSTEM AND SELECTABLE FREQ. WITH TABLE L.U.\n; IMPROVED FREQ. RESPONSE WITH THE ADDITION OF AN UNVOCODED HI.FREQ. SIGNAL\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;TO GET THE MOST OF THIS INSTRUMENT\n;RECORD YOUR VOICE SLOWLY AND CLEARLY\n;REDUCT NOISE, COMPRESS A LOT AND NORMALISE\n;ADDING REVERB TO YOUR VOICE\n;BEFORE VOCODING CAN BE REALLY COOL. TRY IT!\n\n;USER SETTINGS HERE ********\n;ROUTING TABLE\nirft           =         2\n;FREQ          TABLE\nichfft         =         6\n;FILTER POLES\nipoles         =         6\n;RMS RACKING\niperiod        =         60;123\n;HP DRY MIX\nihpdry         =         .4\n\n;MODULATOR INPUT\namod           soundin   \"hellorcb2.aif\"\namod           butterhp  amod,30\n;carrier       input\nacarr          zar       0\n;***************************\n\n;CHANNELS FREQ. SETUP\nif0            table     0,ichfft\nif1            table     1,ichfft\nif2            table     2,ichfft\nif3            table     3,ichfft\nif4            table     4,ichfft\nif5            table     5,ichfft\nif6            table     6,ichfft\nif7            table     7,ichfft\n\n;if0           =         cpspch(if0)\n;if1           =         cpspch(if1)\n;if2           =         cpspch(if2)\n;if3           =         cpspch(if3)\n;if4           =         cpspch(if4)\n;if5           =         cpspch(if5)\n;if6           =         cpspch(if6)\n;if7           =         cpspch(if7)\n\n;COMPUTE BANDWIDTHS\nibw1           =         if2-if0\nibw2           =         if3-if1\nibw3           =         if4-if2\nibw4           =         if5-if3\nibw5           =         if6-if4\nibw6           =         if7-if3\n\n;ANALYSE MODULATOR\nam0            tonex     amod,if0,ipoles\nam1            resonx    amod,if1,ibw1,ipoles,1\nam2            resonx    amod,if2,ibw2,ipoles,1\nam3            resonx    amod,if3,ibw3,ipoles,1\nam4            resonx    amod,if4,ibw4,ipoles,1\nam5            resonx    amod,if5,ibw5,ipoles,1\nam6            resonx    amod,if6,ibw6,ipoles,1\nam7            atonex    amod,if7,ipoles\n\n;GET RMS FROM EACH MOD. BAND\nkrms0          rms       am0, iperiod\nkrms1          rms       am1, iperiod\nkrms2          rms       am2, iperiod\nkrms3          rms       am3, iperiod\nkrms4          rms       am4, iperiod\nkrms5          rms       am5, iperiod\nkrms6          rms       am6, iperiod\nkrms7          rms       am7, iperiod\n\n;WRITE RMS TO ZAK SPACE\nzkw            krms      0,0\nzkw            krms      1,1\nzkw            krms      2,2\nzkw            krms      3,3\nzkw            krms      4,4\nzkw            krms      5,5\nzkw            krms      6,6\nzkw            krms      7,7\n\n;ANALYSE CARRIER\nac0            tonex     acarr,if0,ipoles\nac1            resonx    acarr,if1,ibw1,ipoles,1\nac2            resonx    acarr,if2,ibw2,ipoles,1\nac3            resonx    acarr,if3,ibw3,ipoles,1\nac4            resonx    acarr,if4,ibw4,ipoles,1\nac5            resonx    acarr,if5,ibw5,ipoles,1\nac6            resonx    acarr,if6,ibw6,ipoles,1\nac7            atonex    acarr,if7,ipoles\n\n;ROUTING SETUP\nir0            table     0,irft\nir1            table     1,irft\nir2            table     2,irft\nir3            table     3,irft\nir4            table     4,irft\nir5            table     5,irft\nir6            table     6,irft\nir7            table     7,irft\n\n;BAND ROUTING\nkrmsr0         zkr       ir0\nkrmsr1         zkr       ir1\nkrmsr2         zkr       ir2\nkrmsr3         zkr       ir3\nkrmsr4         zkr       ir4\nkrmsr5         zkr       ir5\nkrmsr6         zkr       ir6\nkrmsr7         zkr       ir7\n\n;BALANCE CARRIER W. MOD. SIGNAl\nab0            gain      ac0, krmsr0,iperiod\nab1            gain      ac1, krmsr1,iperiod\nab2            gain      ac2, krmsr2,iperiod\nab3            gain      ac3, krmsr3,iperiod\nab4            gain      ac4, krmsr4,iperiod\nab5            gain      ac5, krmsr5,iperiod\nab6            gain      ac6, krmsr6,iperiod\nab7            gain      ac7, krmsr7,iperiod\n\n;MIX ALL BALANCED BANDS\n; + SOME OF THE ORIGINAL 7TH CHANNEL\n;FOR BETTER INTELIGIBILITY\namix           =         .125*(ab0+ab1+ab2+ab3+ab4+ab5+ab6+ab7+ihpdry*am7)\n\n               out       amix*10\n\n               zacl      0,0                      ;CLEAR BEFORE NEXT PASS\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 32768 10 1\n\n;BAND ROUTING : NORMAL SETTINGS\nf2 0 8 -2 0 1 2 3 4 5 6 7\n;INVERTED SETTINGS\nf3 0 8 -2 7 6 5 4 3 2 1 0\n;RANDOM SETTINGS (YOU CAN EVEN REPEAT A CHANNEL)\nf4 0 8 -2 1 6 7 4 3 5 2 0\nf5 0 8 -2 0 0 1 1 5 7 6 4\n\n;VOCODER BAND FREQUENCIES\n;f6 0 8 -2 7.09 8.05 9.01 9.09 10.05 11.01 11.09 12.05 13.01\n;f6 0 8 -2 6.09 7.05 8.01 8.09 9.05 10.01 10.09 11.05 12.01\nf6 0 8 -2 200  265 390 550 800 1200 1770 2650 3900 4600\n\ni1 0 4 8.00 .24\ni1 0 . 8.07 .42\ni1 0 . 9.02 .23\ni1 0 . 9.05 .41\ni1 0 . 9.10 .14\n\ni1 3.9 4 7.07 .24\ni1 . . 8.05 .42\ni1 . . 8.10 .23\ni1 . . 9.05 .41\ni1 . . 9.09 .14\n\ni1 7.8 4 7.10 .24\ni1 . . 8.09 .42\ni1 . . 9.02 .23\ni1 . . 9.05 .41\ni1 . . 9.07 .14\n\ni1 11.7 4 7.05 .24\ni1 . . 8.09 .42\ni1 . . 8.10 .23\ni1 . . 9.02 .41\n\ni2 0 17\ne\n; A PENTATONIC MODULATION\n;NICE AURAL EFFECT\n;RESSEMBLES A VOCODER\ni1 4 8 7.00 .4\ni1 4 8 9.02 .2\ni1 0 8 8.00 .24\ni1 0 8 8.07 .42\ni1 0 6 9.02 .23\ni1 0 5 9.05 .41\ni1 0 5 9.10 .14\ni1 3 5 9.04 .46\ni1 3 5 9.09 .29\ni1 6 5 9.04 .86\ni1 6 5 10.07 .67\ni1 6 5 6.00 .36\ni1 6 5 7.07 .82\ni2 0 13\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and amplitude balance and linear envelope", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from 303f.orc and 303f.sco\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         44100\nksmps          =         1\n\n\n               instr 1\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n; BASSLINE ROLAND TB-303 EMULATOR\n; CODED BY JOSEP Mª COMAJUNCOSAS\n; Sept - Nov 1997\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n; INITIAL SETTINGS; CONTROL THE OVERAL CHARACTER OF THE SOUND\n\nitranspose     init      0              ; 1 raise the whole seq. 1 octave, etc.\nimaxfreq       =         1000           ; max.filter cutoff freq. when ienvmod = 0\nimaxsweep      =         10000          ; sr/2... max.filter freq. at kenvmod & kaccent= 1\nimaxamp        =         20000          ; maximum amplitude. Max 32768 for 16 bit output\nireson         =         1              ;scale the resonance as you like (you can make the filter to oscillate...)\n\n; INIT VARIABLES; DON´T TOUCH THIS!\nibpm           =         p14                                ; 4/4 bars per minute (or beats?)\ninotedur       =         15/ibpm\nicount         init      0                                  ; sequence counter (for notes)\nicount2        init      0                                  ; id. for durations\nipcount2       init      0\nidecaydur      =         inotedur\nimindecay      =         (idecaydur<.2 ? .2 : idecaydur)    ; set minimum decay to .2 or inotedur\nipitch         table     0,4; first note in the sequence\nipitch         =         cpspch(itranspose + 6 + ipitch/100)\nkaccurve       init      0\n\n; TWISTING THE KNOBS FROM THE SCORE\nkfco           line      p4, p3, p5\nkres           line      p6, p3, p7\nkenvmod        line      p8, p3, p9\nkdecay         line      p10, p3, p11\nkaccent        line      p12, p3, p13\n\nstart:\n; PITCH FROM THE SEQUENCE + PORTAMENTO\nippitch        =         ipitch\nipitch         table     ftlen(4)*frac(icount/ftlen(4)),4\nipitch         =         cpspch(itranspose + 6 + ipitch/100)\n\nif ipcount2    !=        icount2 goto noslide\nkpitch         linseg    ippitch, .06, ipitch, inotedur-.06, ipitch\ngoto next\n\nnoslide:\nkpitch         =         ipitch\n\nnext:\nipcount2       =         icount2\n               timout    0,inotedur,contin\nicount         =         icount + 1\n               reinit    start\n               rireturn\n\ncontin:\n; ACCENT DETECTOR\niacc           table     ftlen(5)*frac((icount-1)/ftlen(5)), 5\nif iacc == 0 goto noaccent\nienvdecay      =         0                                            ; accented notes are the shortest ones\niremacc        =         i(kaccurve)\nkaccurve       oscil1i   0, 1, .4, 3\nkaccurve       =         kaccurve+iremacc                             ; successive accents cause hysterical raising cutoff\n\ngoto sequencer\n\nnoaccent:\nkaccurve       =         0                                            ; no accent & \"discharges\" accent curve\nienvdecay      =         i(kdecay)\n\nsequencer:\naremovedc      init      0                                            ; set feedback to 0 at every event\nimult          table     ftlen(6)*frac(icount2/ftlen(6)),6\nif imult       !=        0 goto noproblemo                            ; compensate for zero padding in the sequencer\nicount2        =         icount2 + 1\ngoto sequencer\n\nnoproblemo:\nieventdur      =         inotedur*imult\n\n; TWO ENVELOPES\nkmeg           expseg    1, imindecay+((ieventdur-imindecay)*ienvdecay),ienvdecay+.000001\nkveg           linen     1, .01, ieventdur, .016                      ; attack should be 4 ms. but there would be clicks...\n\n; AMPLITUDE ENVELOPE\nkamp           =         kveg*((1-i(kenvmod)) + kmeg*i(kenvmod)*(.5+.5*iacc*kaccent))\n\n; FILTER ENVELOPE\nksweep         =         kveg * (imaxfreq + (.75*kmeg+.25*kaccurve*kaccent)*kenvmod*(imaxsweep-imaxfreq))\nkfco           =         20 + kfco * ksweep                           ; cutoff always greater than 20 Hz ...\nkfco           =         (kfco > sr/2 ? sr/2 : kfco)                  ; could be necessary\n\n               timout    0, ieventdur, out\nicount2        =         icount2 + 1\n               reinit    contin\n\nout:\n; GENERATE BANDLIMITED SAWTOOTH WAVE\nabuzz          buzz      kamp, kpitch, sr/(2*kpitch), 1 ,0            ; bandlimited pulse\nasaw           integ     abuzz,0\nasawdc         atone     asaw,1\n\n; RESONANT 4-POLE LPF\nainpt          =         asawdc - aremovedc*kres*ireson\nalpf           tone      ainpt,kfco\nalpf           tone      alpf,kfco\nalpf           tone      alpf,kfco\nalpf           tone      alpf,kfco\n\n               aout      balance alpf,asawdc\n\n; FINAL OUTPUT ... AT LAST!\naremovedc      atone     aout,10\n               out       imaxamp*aremovedc\n               endin\n\n</CsInstruments>\n<CsScore>\nf1 0 8192 10 1                                                                                                          ; sine wave\nf3  0 8193   8  0 512 1 1024 1 512 .5 2048 .2 4096  0                                                    ; accent curve\nf4  0  16  -2  12 24 12 14 15 12 0 12 12 24 12 14 15 6 13 16                                             ; sequencer (pitches are 6.00 + p/100)\nf5  0  32  -2   0  1  0  0  0  0 0  0  0  1  0  1  1 1  0  0 0 1 0 0 1 0 1 1 1 1 0 0 0 0 0 1   ; accent sequence\nf6  0  16  -2   2     1  1  2    1  1  1  2     1  1 3       1 4 0 0 0                                   ; fill with zeroes till next power of 2\n\n; f6 = durations of events, 1 = note per note, 2 = two tied notes... .\n; note: f4-f5-f6 don´t need to be syncronized... like here (16-32-21)\n\nf7 0 1024   8 -.8 42 -.78  200 -.74 200 -.7 140 .7  200 .74 200 .78 42 .8                           ; distortion table\n                                                                                                                        ; f7 borrowed from H.Mikelson´s TB-303 emulator. Tnx!\n\n;------------ KNOB POSITION : INITIAL AND FINAL VALUES FROM 0 TO 1--------------------\n;   cutoff freq resonance envelope mod. decay       accent     bpm\n;     0   -   1  0 ~ 1  ~ .1 - 1  0 - 1       0 - 1   40-300\n;       start    end  st  end   st  end  st  end     st  end\n\ni1   0 10  .1       .3  .2    .2        .1   .4   .05  .8    0   0    120\ni1  11 10  .95      1         .1   1    .8   1          .1       .01  0         1      120\ni1  22 10  0        1    .5   1         .1   .4   1    1     1   1    120\ni1  33 10   .5      1         .95  1     1   .9         .1       0         1         1      120\ni1  44 10  .05      1    .5   1         .1   .1   .5   1    .5   1         120\n\n;------------------------------END OF SCORE-------------------------------------------\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kgoto start01 using buzz/pulse generator and Butterworth lowpass filter and Butterworth highpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bd4004m_04.orc and bd4004m_04.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  44100\nksmps\t=  1\nnchnls\t=  1\n\n\n/* convert MIDI note number to frequency */\n\n#define MIDI2CPS(xmidikey) # (440.0*exp(log(2.0)*(($xmidikey)-69.0)/12.0)) #\n\n/* convert frequency to MIDI note number */\n\n#define CPS2MIDI(xfreqcps) # (12.0*(log(($xfreqcps)/440.0)/log(2.0))+69.0) #\n\n/* convert velocity to amplitude */\n\n#define VELOC2AMP(xvelocity) # (0.0039+(($xvelocity)*($xvelocity))/16192.0) #\n\n/* convert amplitude to velocity */\n\n#define AMP2VELOC(xamplitude) # (sqrt((($xamplitude)-0.0039)*16192.0)) #\n\n\tseed 0\n\n\tinstr 1\n\n\tkgoto start01\n\n/*-------------------------------------------------------------------------- */\n\nivol\ttable 0,64\t/* volume\t\t\t\t\t*/\nibpm\ttable 1,64\t/* tempo\t\t\t\t\t*/\nirel\ttable 2,64\t/* release time (sec.)\t\t\t\t*/\nidel\ttable 3,64\t/* delay time\t\t\t\t\t*/\nimod0\ttable 4,64\t/* random mod. of delay (sec.)\t\t\t*/\nimod1\ttable 5,64\t/* rnd. mod. of velocity\t\t\t*/\nif01\ttable 6,64\t/* oscillator start frequency (rel.)\t\t*/\nifd1\ttable 7,64\t/* frequency envelope decay speed\t\t*/\nibw01\ttable 8,64\t/* OSC1 BP bandwidth (rel.)\t\t\t*/\nihp1\ttable 9,64\t/* OSC1 HP frequency (rel.)\t\t\t*/\niapf1\ttable 10,64\t/* OSC1 allpass filter start freq. (rel.)\t*/\niapf2\ttable 11,64\t/* OSC1 allpass filter end freq.\t\t*/\niapdx\ttable 12,64\t/* OSC1 allpass filter envelope speed\t\t*/\nifr3\ttable 13,64\t/* OSC2 HP1 frequency / base frq.\t\t*/\nimx3\ttable 14,64\t/* OSC2 HP1 mix\t\t\t\t\t*/\nifr4\ttable 15,64\t/* OSC2 output HP frq. / base freq.\t\t*/\nimx2\ttable 16,64\t/* OSC2 output gain\t\t\t\t*/\nihp2\ttable 17,64\t/* output HP (OSC1+OSC2) frq. (rel. to note f.)\t*/\nibw02\ttable 18,64\t/* output HP resonance\t\t\t\t*/\nifr1\ttable 19,64\t/* output LP start freq. 1 (rel.)\t\t*/\nifdx1\ttable 20,64\t/* output LP freq. 1 envelope decay speed\t*/\nifr2\ttable 21,64\t/* output LP start freq. 2\t\t\t*/\nifdx2\ttable 22,64\t/* output LP freq. 2 envelope decay speed\t*/\nifxBP1\ttable 23,64\t/* noise BP start frequency (Hz)\t\t*/\nifxBP2\ttable 24,64\t/* noise BP end frequency\t\t\t*/\nibw1\ttable 25,64\t/* noise BP bandwidth/freq.\t\t\t*/\nifxLP1\ttable 26,64\t/* noise LP start frequency (Hz)\t\t*/\nifxLP2\ttable 27,64\t/* noise LP end frequency\t\t\t*/\nifxd\ttable 28,64\t/* noise filter envelope speed\t\t\t*/\niattn1\ttable 29,64\t/* noise attack time (sec.)\t\t\t*/\nidecn1\ttable 30,64\t/* noise decay speed\t\t\t\t*/\nimxn\ttable 31,64\t/* noise mix\t\t\t\t\t*/\n\n/*-------------------------------------------------------------------------- */\n\ni001\t=  1/65536\t\t\t/*\t\t\t\t*/\nimkey\t=  p4\t\t\t\t/* MIDI key number\t\t*/\nimvel\t=  p5\t\t\t\t/* MIDI velocity\t\t*/\nivel\t=  $VELOC2AMP(imvel)\t\t/* convert velocity\t\t*/\nim0\tunirand 2\t\t\t/*\t\t\t\t*/\nim1\tunirand 2\t\t\t/*\t\t\t\t*/\nivel\t=  ivel*(1+(im1-1)*imod1)\t/* randomized velocity\t\t*/\nidel\t=  idel+((im0-1)*imod0)\t\t/* randomized delay\t\t*/\nibtime\t=  60/ibpm\t\t\t/* beat time\t\t\t*/\ni002\t=  exp(log(i001)*(idel+irel+16/kr)/irel)\nivol\t=  ivel*ivol\n\nicps\t=  $MIDI2CPS(imkey)\t\t/* base freq.\t*/\nifmax\t=  sr*0.48\t\t\t/* max. allowed freq.\t*/\nihp2\t=  ihp2*icps\nibw02x\t=  ihp2/ibw02\nifxLP2\t=  ifxLP2-ifxLP1\nifxBP2\t=  ifxBP2-ifxBP1\niapf2\t=  iapf2-iapf1\n\nixtime\t=  (irel+idel+16/kr)\n\np3\t=  p3+ixtime\t\t\t\t/* increase note length */\n\nstart01:\n\nkenvn1\texpseg 1,ibtime/idecn1,0.5\t\t\t/* noise generator */\nkenvn2\tlinseg 0,iattn1,1,1,1\naenvn\tinterp kenvn1*kenvn2\nkenvn3\texpseg 1,ibtime/ifxd,0.5\nkenvn3\t=  (1-kenvn3)\nkfxBPf\t=  ifxBP1+(kenvn3*ifxBP2)\na1l\tunirand 2\na1l\tbutterbp imxn*32768*(a1l-1)*aenvn,kfxBPf,kfxBPf*ibw1\na1l\tbutterlp a1l,ifxLP1+(ifxLP2*kenvn3)\n\nkamp1\texpseg 1,p3-ixtime,1,ixtime,i002\t\t/* envelopes */\nkfrq1   expseg 1,ibtime/ifd1,0.5\nkfrq\t=  icps*(1+kfrq1*(if01-1))\t/* kfrq  = osc. frequency */\nkapfr\texpseg 1,ibtime/iapdx,0.5\t/* kapfr = allpass filter frequency */\nkapfr\t=  kfrq*(iapf1+iapf2*(1-kapfr))\nkfrx1\texpseg 1,ibtime/ifdx1,0.5\nkfrx2\texpseg 1,ibtime/ifdx2,0.5\nkfrx\t=  kfrq*(kfrx1*ifr1+kfrx2*ifr2)\nkfrx\t=  (kfrx>ifmax ? ifmax : kfrx)\t/* kfrx  = LP filter frequency */\n\nknumh\t=  sr/(2*kfrq)\t\t\t/* oscillator */\na1\tbuzz sr/(10*3.14159265), kfrq, knumh, 256, 0\na2\tbuzz sr/(10*3.14159265), kfrq, knumh, 256, 0.5\na1\ttone (a1-a2)*16384, 10\na2\t=  a1\t\t\t\t\t/* a1 = a2 = osc. signal */\n\na1\tbutterhp a1,kfrq*ihp1\t\t\t\t/* filters */\na1      butterbp a1,kfrq,kfrq*ibw01\na1x\ttone a1,kapfr\na1\t=  2*a1x-a1\na3      butterhp a2,kfrq*ifr3\na2\t=  a2+a3*imx3\na2\tbutterhp a2,kfrq*ifr4\na0x\t=  a2*imx2+a1\natmp\tbutterbp a0x*ibw02,ihp2,ibw02x\na0x \tbutterhp a0x+atmp,ihp2\na0x\tbutterlp a0x,kfrx\n\na0y\tdelay (a0x+a1l)*ivol*kamp1,idel\n\n\tout  a0y\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt 0.00\t140.000\t\t/* tempo\t*/\n\n#define rhytm1(STIME) #\n\ni 1\t[$STIME+0.0000]\t\t0.4375\t32\t120\ni 1\t[$STIME+1.0100]\t\t0.4375\t32\t112\ni 1\t[$STIME+2.0150]\t\t0.4375\t32\t124\ni 1\t[$STIME+3.0100]\t\t0.4375\t32\t112\n\ni 1\t[$STIME+4.0000]\t\t0.4375\t32\t116\ni 1\t[$STIME+5.0100]\t\t0.4375\t32\t112\ni 1\t[$STIME+6.0150]\t\t0.4375\t32\t116\ni 1\t[$STIME+7.0100]\t\t0.4000\t32\t112\n\n#\n\n$rhytm1(0)\n$rhytm1(8)\n\ni 1\t15.5\t0.4\t32\t116\n\n/* ------------------------------------------------------------------------- */\n\nf 64 0 32 -2\t0.6\t\t/* volume\t\t\t\t*/\n\t\t140\t\t/* tempo\t\t\t\t*/\n\n\t\t0.1667\t\t/* release time (sec.)\t\t\t*/\n\t\t0.01\t\t/* delay time\t\t\t\t*/\n\t\t0.0025\t\t/* random mod. of delay (sec.)\t\t*/\n\t\t0.005\t\t/* rnd. mod. of velocity\t\t*/\n\n\t\t5.3333\t\t/* oscillator start frequency (rel.)\t*/\n\t\t14.0\t\t/* frequency envelope decay speed\t*/\n\t\t0.5\t\t/* OSC1 BP bandwidth (rel.)\t\t*/\n\t\t0.0625\t\t/* OSC1 HP frequency (rel.)\t\t*/\n\t\t1.0\t\t/* OSC1 allp. filter start freq. (rel.)\t*/\n\t\t1.0\t\t/* OSC1 allpass filter end freq.\t*/\n\t\t8\t\t/* OSC1 allpass filter envelope speed\t*/\n\t\t8\t\t/* OSC2 HP1 frequency (rel.)\t\t*/\n\t\t-5\t\t/* OSC2 HP1 mix\t\t\t\t*/\n\t\t0.5\t\t/* OSC2 output HP frq. (rel.)\t\t*/\n\t\t-0.4\t\t/* OSC2 output gain\t\t\t*/\n\t\t1.5\t\t/* output HP frq. (rel. to note f.)\t*/\n\t\t2.0\t\t/* output HP resonance\t\t\t*/\n\t\t-8\t\t/* output LP start freq. 1 (rel.)\t*/\n\t\t64\t\t/* output LP freq. env. 1 decay speed\t*/\n\t\t16\t\t/* output LP start freq. 2\t\t*/\n\t\t8\t\t/* output LP freq. env. 2 decay speed\t*/\n\n\t\t7040\t\t/* noise BP start frequency (Hz)\t*/\n\t\t7040\t\t/* noise BP end frequency\t\t*/\n\t\t2\t\t/* noise BP bandwidth/freq.\t\t*/\n\t\t3520\t\t/* noise LP start frequency (Hz)\t*/\n\t\t55\t\t/* noise LP end frequency\t\t*/\n\t\t12\t\t/* noise filter envelope speed\t\t*/\n\t\t0.01\t\t/* noise attack time (sec.)\t\t*/\n\t\t3\t\t/* noise decay speed\t\t\t*/\n\t\t0.5\t\t/* noise mix\t\t\t\t*/\n\n/*-------------------------------------------------------------------------- */\n\nf 256 0 262144 10 1\n\ne\t/* end of score */\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument demonstrating buzz/pulse generator and modal synthesis and Butterworth lowpass filter", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from bd16_01.orc and bd16_01.sco\n; Original files preserved in same directory\n\nsr\t=  44100\nkr\t=  22050\nksmps\t=  2\nnchnls\t=  1\n\n\n/* ------------------------------------------------------------------------- */\n\n\tseed 0\n\n\tinstr 1\n\nimkey\t=  p4\t\t/* get note parameters from score file */\nimvel\t=  p5\n\nicps\t=  440.0*exp(log(2.0)*(imkey-69.0)/12.0)\niamp\t=  0.0039+imvel*imvel/16192\n\n/* ------------------------------------------------------------------------- */\n\nivol\ttable\t 0,\t64\t/* output volume\t\t\t*/\nibpm\ttable\t 1,\t64\t/* tempo\t\t\t\t*/\n\nifrqs\ttable\t 2,\t64\t/* oscillator start frq. / note freq.\t*/\nifrqe\ttable\t 3,\t64\t/* oscillator end frequency / note frq.\t*/\nifrqd\ttable\t 4,\t64\t/* osc. freq. envelope speed\t\t*/\n\niffr1s\ttable\t 5,\t64\t/* lowpass filter start freq. 1 (Hz)\t*/\niffr1d\ttable\t 6,\t64\t/* lowpass filter freq. 1 decay speed\t*/\niffr2s\ttable\t 7,\t64\t/* lowpass filter start freq. 2 (Hz)\t*/\niffr2d\ttable\t 8,\t64\t/* lowpass filter freq. 2 decay speed\t*/\niffr3s\ttable\t 9,\t64\t/* LP filter start freq. 3 / note frq.\t*/\niffr3d\ttable\t10,\t64\t/* lowpass filter freq. 3 decay speed\t*/\niffr4s\ttable\t11,\t64\t/* LP filter start freq. 4 / note frq.\t*/\niffr4d\ttable\t12,\t64\t/* lowpass filter freq. 4 decay speed\t*/\n\niEQ1fo\ttable\t13,\t64\t/* EQ 1 frequency / osc. frequency\t*/\niEQ1fn\ttable\t14,\t64\t/* EQ 1 frequency / note frequency\t*/\niEQ1fa\ttable\t15,\t64\t/* EQ 1 frequency (Hz)\t\t\t*/\niEQ1l\ttable\t16,\t64\t/* EQ 1 level\t\t\t\t*/\niEQ1q\ttable\t17,\t64\t/* EQ 1 Q\t\t\t\t*/\niEQ1m\ttable\t18,\t64\t/* EQ 1 mode (0:peak,1:low,2:high)\t*/\n\niEQ2fo\ttable\t19,\t64\t/* EQ 2 frequency / osc. frequency\t*/\niEQ2fn\ttable\t20,\t64\t/* EQ 2 frequency / note frequency\t*/\niEQ2fa\ttable\t21,\t64\t/* EQ 2 frequency (Hz)\t\t\t*/\niEQ2l\ttable\t22,\t64\t/* EQ 2 level\t\t\t\t*/\niEQ2q\ttable\t23,\t64\t/* EQ 2 Q\t\t\t\t*/\niEQ2m\ttable\t24,\t64\t/* EQ 2 mode (0:peak,1:low,2:high)\t*/\n\niEQ3fo\ttable\t25,\t64\t/* EQ 3 frequency / osc. frequency\t*/\niEQ3fn\ttable\t26,\t64\t/* EQ 3 frequency / note frequency\t*/\niEQ3fa\ttable\t27,\t64\t/* EQ 3 frequency (Hz)\t\t\t*/\niEQ3l\ttable\t28,\t64\t/* EQ 3 level\t\t\t\t*/\niEQ3q\ttable\t29,\t64\t/* EQ 3 Q\t\t\t\t*/\niEQ3m\ttable\t30,\t64\t/* EQ 3 mode (0:peak,1:low,2:high)\t*/\n\niEQ4fo\ttable\t31,\t64\t/* EQ 4 frequency / osc. frequency\t*/\niEQ4fn\ttable\t32,\t64\t/* EQ 4 frequency / note frequency\t*/\niEQ4fa\ttable\t33,\t64\t/* EQ 4 frequency (Hz)\t\t\t*/\niEQ4l\ttable\t34,\t64\t/* EQ 4 level\t\t\t\t*/\niEQ4q\ttable\t35,\t64\t/* EQ 4 Q\t\t\t\t*/\niEQ4m\ttable\t36,\t64\t/* EQ 4 mode (0:peak,1:low,2:high)\t*/\n\ninsmix\ttable\t37,\t64\t/* noise mix\t\t\t\t*/\n\niEQn1fo\ttable\t38,\t64\t/* noise EQ 1 frequency / osc. freq.\t*/\niEQn1fn\ttable\t39,\t64\t/* noise EQ 1 frequency / note freq.\t*/\niEQn1fa\ttable\t40,\t64\t/* noise EQ 1 frequency (Hz)\t\t*/\niEQn1l\ttable\t41,\t64\t/* noise EQ 1 level\t\t\t*/\niEQn1q\ttable\t42,\t64\t/* noise EQ 1 Q\t\t\t\t*/\niEQn1m\ttable\t43,\t64\t/* noise EQ 1 mode (0:peak,1:lo,2:hi)\t*/\n\niEQn2fo\ttable\t44,\t64\t/* noise EQ 2 frequency / osc. freq.\t*/\niEQn2fn\ttable\t45,\t64\t/* noise EQ 2 frequency / note freq.\t*/\niEQn2fa\ttable\t46,\t64\t/* noise EQ 2 frequency (Hz)\t\t*/\niEQn2l\ttable\t47,\t64\t/* noise EQ 2 level\t\t\t*/\niEQn2q\ttable\t48,\t64\t/* noise EQ 2 Q\t\t\t\t*/\niEQn2m\ttable\t49,\t64\t/* noise EQ 2 mode (0:peak,1:lo,2:hi)\t*/\n\n/* ------------------------------------------------------------------------- */\n\np3\t=  p3+0.15\t/* increase note length */\n\nibtime\t=  60/ibpm\n\nkamp\tlinseg 1,p3-0.15,1,0.05,0,0.1,0\t\t/* amp. envelope */\nkamp\t=  kamp*iamp*ivol\n\nkcps\tport ifrqe*icps,ibtime/ifrqd,ifrqs*icps\t/* kcps = osc. frequency */\nknumh\t=  sr/(2*kcps)\t\t\t\t/* knumh = num. of harmonics */\n\na_\tbuzz sr/(3.14159265*10),kcps,knumh,1,0\t\t/* square oscillator */\na__\tbuzz sr/(3.14159265*10),kcps,knumh,1,0.5\n\na0\ttone a_-a__,10\n\na_\tunirand 2\t\t\t\t\t/* noise generator */\na_\t=  a_-1\n\na_\tpareq a_,iEQn1fa+icps*iEQn1fn+kcps*iEQn1fo,iEQn1l,iEQn1q,iEQn1m\na_\tpareq a_,iEQn2fa+icps*iEQn2fn+kcps*iEQn2fo,iEQn2l,iEQn2q,iEQn2m\n\na0\t=  a0+insmix*a_\n\n/* EQ */\n\na0\tpareq a0,iEQ1fa+icps*iEQ1fn+kcps*iEQ1fo,iEQ1l,iEQ1q,iEQ1m\na0\tpareq a0,iEQ2fa+icps*iEQ2fn+kcps*iEQ2fo,iEQ2l,iEQ2q,iEQ2m\na0\tpareq a0,iEQ3fa+icps*iEQ3fn+kcps*iEQ3fo,iEQ3l,iEQ3q,iEQ3m\na0\tpareq a0,iEQ4fa+icps*iEQ4fn+kcps*iEQ4fo,iEQ4l,iEQ4q,iEQ4m\n\nkffr1\tport 0,ibtime/iffr1d,iffr1s\t/* LP filter freq. envelopes */\nkffr2\tport 0,ibtime/iffr2d,iffr2s\nkffr3\tport 0,ibtime/iffr3d,iffr3s*icps\nkffr4\tport 0,ibtime/iffr4d,iffr4s*icps\n\nkffrq\t=  kffr1+kffr2+kffr3+kffr4\t/* kffrq = LP filter frequency */\n\na0\tbutterlp a0,kffrq\t\t/* LP filter */\n\na_\t=  a0*kamp\t\t\t/* apply envelope */\n\n\tout a_\n\n\tendin\n\n\n\n</CsInstruments>\n<CsScore>\n\nt 0 135.00\t/* tempo */\n\ni 1\t0.0000\t0.4000\t33\t120\ni 1\t1.0100\t0.4000\t33\t112\ni 1\t2.0100\t0.4000\t33\t124\ni 1\t3.0050\t0.4000\t33\t112\ni 1\t4.0000\t0.4000\t33\t116\ni 1\t5.0100\t0.4000\t33\t112\ni 1\t6.0100\t0.4000\t33\t120\ni 1\t6.9900\t0.3000\t33\t120\ni 1\t7.5000\t0.3000\t33\t116\n\ni 1\t8.0000\t0.4000\t33\t120\ni 1\t9.0100\t0.4000\t33\t112\ni 1\t10.010\t0.4000\t33\t124\ni 1\t11.005\t0.4000\t33\t112\ni 1\t12.000\t0.4000\t33\t116\ni 1\t13.010\t0.4000\t33\t112\ni 1\t14.010\t0.4000\t33\t120\ni 1\t15.005\t0.4000\t33\t112\n\n/* ------------------------------------------------------------------------- */\n\nf 64 0 64 -2\t5500.0\t\t/* output volume\t\t\t*/\n\t\t135.0\t\t/* tempo\t\t\t\t*/\n\n\t\t5.3333\t\t/* oscillator start frq. / note freq.\t*/\n\t\t1.0\t\t/* oscillator end frequency / note frq.\t*/\n\t\t16.0\t\t/* osc. freq. envelope speed\t\t*/\n\n\t\t880\t\t/* lowpass filter start freq. 1 (Hz)\t*/\n\t\t128\t\t/* lowpass filter freq. 1 decay speed\t*/\n\t\t0\t\t/* lowpass filter start freq. 2 (Hz)\t*/\n\t\t1\t\t/* lowpass filter freq. 2 decay speed\t*/\n\t\t8\t\t/* LP filter start freq. 3 / note frq.\t*/\n\t\t8\t\t/* lowpass filter freq. 3 decay speed\t*/\n\t\t0\t\t/* LP filter start freq. 4 / note frq.\t*/\n\t\t1\t\t/* lowpass filter freq. 4 decay speed\t*/\n\n\t\t0.5\t\t/* EQ 1 frequency / osc. frequency\t*/\n\t\t0\t\t/* EQ 1 frequency / note frequency\t*/\n\t\t0\t\t/* EQ 1 frequency (Hz)\t\t\t*/\n\t\t0.25\t\t/* EQ 1 level\t\t\t\t*/\n\t\t0.7071\t\t/* EQ 1 Q\t\t\t\t*/\n\t\t1\t\t/* EQ 1 mode (0:peak,1:low,2:high)\t*/\n\n\t\t0.5\t\t/* EQ 2 frequency / osc. frequency\t*/\n\t\t0\t\t/* EQ 2 frequency / note frequency\t*/\n\t\t0\t\t/* EQ 2 frequency (Hz)\t\t\t*/\n\t\t0.25\t\t/* EQ 2 level\t\t\t\t*/\n\t\t0.7071\t\t/* EQ 2 Q\t\t\t\t*/\n\t\t1\t\t/* EQ 2 mode (0:peak,1:low,2:high)\t*/\n\n\t\t0.5\t\t/* EQ 3 frequency / osc. frequency\t*/\n\t\t0\t\t/* EQ 3 frequency / note frequency\t*/\n\t\t0\t\t/* EQ 3 frequency (Hz)\t\t\t*/\n\t\t4\t\t/* EQ 3 level\t\t\t\t*/\n\t\t2.0\t\t/* EQ 3 Q\t\t\t\t*/\n\t\t0\t\t/* EQ 3 mode (0:peak,1:low,2:high)\t*/\n\n\t\t0\t\t/* EQ 4 frequency / osc. frequency\t*/\n\t\t1.5\t\t/* EQ 4 frequency / note frequency\t*/\n\t\t0\t\t/* EQ 4 frequency (Hz)\t\t\t*/\n\t\t2.0\t\t/* EQ 4 level\t\t\t\t*/\n\t\t1.0\t\t/* EQ 4 Q\t\t\t\t*/\n\t\t0\t\t/* EQ 4 mode (0:peak,1:low,2:high)\t*/\n\n\t\t16.0\t\t/* noise mix\t\t\t\t*/\n\n\t\t0\t\t/* noise EQ 1 frequency / osc. freq.\t*/\n\t\t16\t\t/* noise EQ 1 frequency / note freq.\t*/\n\t\t0\t\t/* noise EQ 1 frequency (Hz)\t\t*/\n\t\t0.0625\t\t/* noise EQ 1 level\t\t\t*/\n\t\t0.7071\t\t/* noise EQ 1 Q\t\t\t\t*/\n\t\t1\t\t/* noise EQ 1 mode (0:peak,1:lo,2:hi)\t*/\n\n\t\t0\t\t/* noise EQ 2 frequency / osc. freq.\t*/\n\t\t16\t\t/* noise EQ 2 frequency / note freq.\t*/\n\t\t0\t\t/* noise EQ 2 frequency (Hz)\t\t*/\n\t\t0.0625\t\t/* noise EQ 2 level\t\t\t*/\n\t\t0.7071\t\t/* noise EQ 2 Q\t\t\t\t*/\n\t\t1\t\t/* noise EQ 2 mode (0:peak,1:lo,2:hi)\t*/\n\n/* ------------------------------------------------------------------------- */\n\nf 1 0 262144 10 1\n\ne\t/* end of score */\n\n\n\n</CsScore>\n</CsoundSynthesizer>"}
