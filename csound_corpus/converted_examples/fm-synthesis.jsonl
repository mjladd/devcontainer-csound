{"instruction": "Write a Csound instrument that creates a harfm sound using FM synthesis and delay effect and exponential segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from harFM.ORC and harFM.SCO\n; Original files preserved in same directory\n\nsr             =         44100\nkr             =         4410\nksmps          =         10\nnchnls         =         2\n\ninstr 1\n\n;ENVELOPE                                                        ;p6:ATT,p7:DEC,\nk1             envlpx    p5,p6,p3,p7,1,.8,.001                   ;p5: AMPLITUDE\n;SEGMENT CONTROLLING INDEX MOVE\n; k2           expseg    p8, p6, p9, p3 - (p6 + p7), p9, p7, p8\n;p8: 1ST INDEX, p9: 2ND INDEX\nk2 envlpx p9, p6, p3, p7, 1, .8, .01\n;SOUND\na1             foscil    k1,cpsoct(p4),p10,1,k2,p11              ;AUDIO FUNC :p11\na2             foscil    k1,cpsoct(1.001 * p4),p10,1,k2,p11      ;C:M RATIO: p10\na3             foscil    k1,cpsoct(1.003 * p4),p10,1,k2,p11\na4             foscil    k1,cpsoct(.999 * p4),p10,1,k2,p11\na5             foscil    k1,cpsoct(.997 * p4),p10,1,k2,p11\n\na1             =         (.2 * a1) + (.2 * a2) + (.2 * a3) + (.2 * a4) + (.2 * a5)\n\na2             delay     a1,.01\na3             delay     (a1 + (.4 * a2)),.023\na1             =         a1 + a2 + a3\n; a4           comb      a1, .1, .02\n; a1           =         (a1 * .6) + (a4 * .4)\n; a1           =         a1 + a2\n\n               outs      a1 * .5, a1 * .5\nendin\n\n</CsInstruments>\n<CsScore>\nf1 0 2049 5 .01 2048 1\nf20 0 8192 10 1\n  i1 0.000 6.500 6.08 20000 1.200 2.800 0.100 5.000 2.700 20\nend of score\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a week sound using FM synthesis and delay effect and pitch detection", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from week10_6.orc and Week10_6.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n\n          instr 1\n \nkenv      expon     1,p3,.0001                         ; EXPON ENVELOPE\nasig      foscil    p4*kenv,cpspch(p5),1,1.414,2,1     ; AN FM BELL \nadel      delay     asig,.5                            ; DELAY .5 SECONDS\n          out       asig+adel\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1      0 512 10 1                          ; A SINE WAVE\n\n;      st      dur     amp        pitch\n\ni1     0        2     10000       8.00      ;  MIDDLE C PLAYED FOR 2 SECONDS\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for ACCENT using FM synthesis and demonstration and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from fmdemo.orc and fmdemo.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n          \n; CHEESY FM\n\n; f1 \t0 \t\t4096 10 1\n; i1 \t0 \t\tDUR FREQ AMP\n\n\t\tinstr 1 \t\t\t; ACCENT\nicar \t= \t\t1.\nicps \t= \t\tp4\nimod \t= \t\t1.0 * icar\nigain \t= \t\tp5 * 25000\nisust \t= \t\tp3 - .2\nkenv \tlinseg \t0, .1, igain, isust, igain, .1, 0\nkindex \tline \t1, p3,  2.\nkmod \tline \ticar, p3, icar * 2\nafm \t\tfoscil \tkenv, icps, icar, kmod, kindex, 1\t; SINE\n\t\tout \t\tafm\n\t\tendin\n\n</CsInstruments>\n<CsScore>\nf1 0 4096 10 1\ni1 0 10 450 1\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for p3        =         p3+p6 using FM synthesis and Karplus-Strong plucked string and linear segments", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from lucytune.orc and lucytune.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n;------------------------------------------------------------------\n; EXAMPLE OF LUCY TUNING\n;------------------------------------------------------------------\n          instr          1\n\np3        =         p3+p6\nidur      =         p3\niamp      =         p4\nifqc      cps2pch   p5, -2 \n\nkamp      linseg    0, .02, 1, .05, .8, .1, .7, idur-.27, .5, .1, 0\n\naout1     foscil    kamp*iamp, ifqc,     1, 2, kamp*2, 1\naout2     foscil    kamp*iamp, ifqc*2, 1, 1, kamp*2, 1\n\n;aout     pluck     kamp*iamp, ifqc, ifqc, 0, 1\n\n          outs      aout1+aout2*.5, aout1+aout2*.5\n\n          endin\n\n</CsInstruments>\n<CsScore>\n;------------------------------------------------------------------------------\n; LUCY TUNING EXAMPLE\n;------------------------------------------------------------------------------\nf1 0 8192 10 1\n\nf2 0 16 -2 1 1.040360358 1.116641954 1.19851669 1.246889254 1.338314019 1.392328853 1.494417582 1.603991689 1.668729368 1.791084414 1.863373223 2\n\n; LUCY TUNING A=440\n;f2 0 16 -2 1.007841 1.048488 1.125388 1.170776? 1.256645 1.348813 1.403211 1.506129 1.566872? 1.749621? 1.877945\n\n;   Sta  Dur  Amp    Pitch  Hold\ni1  0    .5   5000   6.00   1.5\ni1  0    .5   5000   7.00   1.5\ni1  +    .    .      7.07   1.0\ni1  .    .    .      8.00   0.5\ni1  .    .    .      8.04   0.0\n;   Sta  Dur  Amp    Pitch  Hold\ni1  2    .5   5000   6.00   1.5\ni1  2    .5   5000   7.00   1.5\ni1  +    .    .      7.05   1.0\ni1  .    .    .      7.09   0.5\ni1  .    .    .      8.00   0.0\n;   Sta  Dur  Amp    Pitch  Hold\ni1  4    .5   5000   6.00   1.5\ni1  4    .5   5000   7.00   1.5\ni1  +    .    .      7.07   1.0\ni1  .    .    .      8.00   0.5\ni1  .    .    .      8.03   0.0\n;   Sta  Dur  Amp    Pitch  Hold\ni1  6    .5   5000   6.00   1.5\ni1  6    .5   5000   7.00   1.5\ni1  +    .    .      7.05   1.0\ni1  .    .    .      7.10   0.0\ni1  .    .    .      7.09   0.0\n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument that creates a circle sound using FM synthesis and reverb effect and stereo reverb", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from circle02.orc and circle02.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n; DISTRIBUTION OF SOUNDS IN CIRCLES\n; FM BELLS (FOSCIL)\n; PETER ESCH (PESCH@PRATIQUE.FR), JULY 1998\n\n\n\ngal       init      0\ngar       init      0\n\n          instr 1\n          \nidur      =         p3                       ; DURATION\ninote     =         p4                       ; NOTE IN PCH NOTATION\nipan      =         p5                       ; PAN POSITION\nidist     =         p6                       ; DISTANCE\nidiam     =         p7                       ; DIAMETER OF THE \"CIRCLE\"          \niindx     =         p8                       ; FM INDEX\n\nkenv      expon     1,idur,0.01\na1        foscil    kenv*10000,cpspch(inote),1,1.143,iindx,1\n       \nkdegree   =         ipan*90\nkdistance =         1+idiam*abs(idist)\n\nal,ar     locsig    a1,kdegree,kdistance,.1\narl,arr   locsend       \n\ngal       =         gal+arl+.1*arr\ngar       =         gar+arr+.1*arl\n\n          outs      al,ar\n          endin\n\n          instr 99\n\nkrvbt     =         p4                       ; REVERB TIME\nal        reverb2   gal,krvbt,.5\nar        reverb2   gar,krvbt,.5\n\n          outs      al,ar\ngal       =         0\ngar       =         0\n          endin\n\n</CsInstruments>\n<CsScore>\n\n;circle02.txt for use with CMask\n\nf1 0 8193 10 1\n\ni99 0 20 2.5\n\n\n; ------- BEGIN OF FIELD 1 --- SECONDS: 0.00 - 15.00 --------\n\n;ins    time    dur p4  p5  p6  p7  p8\n\ni1  0       0.47    8.04    0.5     1       13  3   \ni1  0.21    0.43    8.07    0.42    1       13  3   \ni1  0.5     0.47    8.11    0.3     0.98    13  3.2 \ni1  0.7     0.5     8       0.22    0.96    13  3.4 \ni1  0.97    0.53    8.11    0.12    0.91    13  3.9 \ni1  1.2     0.68    8.07    0.06    0.86    13  4.3 \ni1  1.4     0.59    8.04    0.02    0.8     13  4.8 \ni1  1.65    0.76    8       0       0.71    13  5.5 \ni1  1.89    0.77    8       0.02    0.61    13  6.2 \ni1  2.08    0.75    8.11    0.06    0.52    13  6.7 \ni1  2.29    0.79    8.07    0.13    0.4     13  7.2 \ni1  2.51    0.82    8.04    0.24    0.27    13  7.6 \ni1  2.78    0.69    8.07    0.4     0.1     13  8   \ni1  3.03    0.85    8.11    0.57    -0.07   13  8   \ni1  3.22    0.84    8.04    0.7     -0.2    13  7.8 \ni1  3.44    0.85    8       0.83    -0.35   13  7.4 \ni1  3.68    1.03    8       0.94    -0.51   13  6.7 \ni1  3.9     1.09    8.11    0.99    -0.65   13  5.9 \ni1  4.08    1.09    8.07    1       -0.75   13  5.2 \ni1  4.28    1.22    8.04    0.95    -0.85   13  4.4 \ni1  4.52    1.2     8.04    0.83    -0.93   13  3.6 \ni1  4.69    1.15    8.11    0.71    -0.98   13  3.2 \ni1  4.91    1.34    8.07    0.53    -1      13  3   \ni1  5.1     1.18    8       0.36    -0.99   13  3.1 \ni1  5.27    1.29    8.07    0.22    -0.96   13  3.4 \ni1  5.46    1.1     8.11    0.1     -0.89   13  4   \ni1  5.65    1.3     8       0.02    -0.8    13  4.8 \ni1  5.82    1.47    8.04    0       -0.69   13  5.6 \ni1  5.96    1.11    8.07    0.02    -0.59   13  6.3 \ni1  6.12    1.3     8.11    0.1     -0.45   13  7   \ni1  6.28    1.46    8.04    0.21    -0.31   13  7.5 \ni1  6.44    1.51    8       0.35    -0.15   13  7.9 \ni1  6.64    1.69    8.04    0.56    0.06    13  8   \ni1  6.78    1.48    8.07    0.7     0.21    13  7.8 \ni1  6.94    1.54    8.11    0.84    0.37    13  7.3 \ni1  7.14    1.38    8       0.96    0.56    13  6.4 \ni1  7.29    1.43    8.07    1       0.69    13  5.6 \ni1  7.43    1.68    8       0.98    0.79    13  4.9 \ni1  7.58    1.36    8.04    0.91    0.88    13  4.1 \ni1  7.72    1.49    8.11    0.8     0.95    13  3.5 \ni1  7.9     1.77    8       0.62    0.99    13  3.1 \ni1  8.04    1.89    8.07    0.45    1       13  3   \ni1  8.18    1.49    8.11    0.29    0.98    13  3.2 \ni1  8.36    1.83    8.04    0.12    0.91    13  3.9 \ni1  8.54    1.59    8.11    0.02    0.8     13  4.8 \ni1  8.72    1.52    8.07    0.01    0.64    13  5.9 \ni1  8.87    1.56    8       0.07    0.49    13  6.8 \ni1  9.01    2.07    8.04    0.19    0.32    13  7.5 \ni1  9.14    1.8     8.11    0.34    0.16    13  7.9 \ni1  9.28    1.78    8       0.52    -0.02   13  8   \ni1  9.39    1.8     8.07    0.66    -0.16   13  7.9 \ni1  9.55    1.83    8.04    0.84    -0.36   13  7.3 \ni1  9.66    1.91    8.07    0.93    -0.5    13  6.8 \ni1  9.78    1.92    8.11    0.99    -0.63   13  6   \ni1  9.94    2.01    8.04    0.99    -0.78   13  4.9 \ni1  10.08   2.18    8       0.91    -0.89   13  4.1 \ni1  10.24   1.97    8.07    0.75    -0.97   13  3.3 \ni1  10.36   2.36    8       0.59    -1      13  3   \ni1  10.47   2.34    8.11    0.43    -1      13  3   \ni1  10.61   1.98    8.04    0.24    -0.96   13  3.3 \ni1  10.75   1.84    8       0.1     -0.89   13  4   \ni1  10.85   2.32    8.07    0.03    -0.82   13  4.7 \ni1  10.99   2.29    8.11    0       -0.68   13  5.7 \ni1  11.13   1.97    8.04    0.06    -0.52   13  6.7 \ni1  11.27   2.36    8.07    0.19    -0.33   13  7.5 \ni1  11.37   2.14    8       0.32    -0.18   13  7.8 \ni1  11.48   2.13    8.04    0.48    -0.02   13  8   \ni1  11.58   2.51    8.11    0.63    0.13    13  7.9 \ni1  11.69   2.08    8.04    0.78    0.3     13  7.6 \ni1  11.82   2.01    8       0.92    0.48    13  6.8 \ni1  11.96   2.38    8.11    1       0.66    13  5.8 \ni1  12.08   2.67    8.07    0.98    0.79    13  4.9 \ni1  12.21   1.97    8.07    0.9     0.9     13  4   \ni1  12.33   2.45    8       0.75    0.96    13  3.3 \ni1  12.44   2.4     8.04    0.59    1       13  3   \ni1  12.52   2.09    8.11    0.47    1       13  3   \ni1  12.65   2.01    8.04    0.27    0.97    13  3.3 \ni1  12.74   2.46    8       0.16    0.93    13  3.7 \ni1  12.86   2.59    8.07    0.05    0.84    13  4.4 \ni1  12.99   2.44    8.11    0       0.72    13  5.4 \ni1  13.06   2.52    8.11    0.01    0.64    13  6   \ni1  13.17   2.48    8       0.07    0.5     13  6.8 \ni1  13.29   2.52    8.04    0.19    0.32    13  7.5 \ni1  13.38   2.53    8.07    0.32    0.19    13  7.8 \ni1  13.49   2.2     8.07    0.48    0.02    13  8   \ni1  13.56   2.22    8       0.59    -0.09   13  8   \ni1  13.65   2.89    8.11    0.73    -0.23   13  7.7 \ni1  13.73   2.62    8.04    0.83    -0.35   13  7.4 \ni1  13.81   2.73    8.04    0.91    -0.47   13  6.9 \ni1  13.92   2.89    8.07    0.98    -0.61   13  6.1 \ni1  14.01   2.85    8.11    1       -0.72   13  5.4 \ni1  14.12   2.47    8       0.96    -0.83   13  4.6 \ni1  14.19   2.36    8.04    0.91    -0.88   13  4.1 \ni1  14.28   2.34    8       0.82    -0.94   13  3.6 \ni1  14.36   2.69    8.11    0.71    -0.98   13  3.2 \ni1  14.42   2.34    8.07    0.62    -0.99   13  3.1 \ni1  14.52   3.08    8.07    0.47    -1      13  3   \ni1  14.59   2.29    8       0.36    -0.99   13  3.1 \ni1  14.69   2.46    8.11    0.22    -0.96   13  3.4 \ni1  14.75   2.37    8.04    0.15    -0.92   13  3.7 \ni1  14.82   2.65    8       0.08    -0.88   13  4.2 \ni1  14.91   2.92    8.04    0.02    -0.8    13  4.8 \ni1  14.97   2.86    8.11    0       -0.74   13  5.3 \n\n; ------- END OF FIELD 1 --- NUMBER OF EVENTS: 103 -------\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kstep     init           0 using drum sound and FM synthesis and Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from drummach.orc and drummach.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n; DRUM MACHINE\n          instr 1\n\nkstep     init           0\n\n; SEQUENCER SECTION\n;-------------------------------------------------------------------------\nloop1:\n; READ ALL OF THE TABLE VALUES.\nkdur      table     kstep, p5\nkdrnum    table     kstep, p6\nkleft     table     kstep, p7\nkright    table     kstep, p8\n\nkdur1     =         kdur/8                   ; MAKE THE STEP SMALLER.\n                                        \n; ALL OF THE ENVELOPES WANT TO BE OUTSIDE OF THE IF FOR SOME REASON.\nkampenv1  linseg    0, .01, p4/2, .04, 0, .01, 0\nkampenv2  expseg    .0001,.01, p4, .04, .01\nkfreqenv  expseg    50, .01, 200, .08, 50\nkampenv3  expseg    .0001, n.01, p4*2,  .08, .01\nkampenv4  linseg    0, .001, 1,  i(kdur1)-.021, 1, .02, 0\nkfreqenv51 expseg   50, .01, 200, .08, 50\nkfreqenv52 linseg   150, .01, 1000, .08, 250, .01, 250\nkampenv5  linseg    0, .01, p4, .08, 0, .01, 0\nkptchenv  linseg    100, .01, 300, .2, 200, .01, 200\n\nkampenv61 expseg    .01, .01, p4, .2, p4/100, .1, .001\nkampenv62 linseg    1, .1, 10,  .1, .5, .01, 1\n\n; SOME OF THE SIGNAL GENERATORS MUST BE OUTSIDE OF THE IF'S\nasig4     pluck     p4/2, kptchenv, 50, 2, 4, .8, 3\nasig5     foscil    kampenv61, 30, 1, 6.726, kampenv62, 1\n\n; SWITCH BETWEEN THE DIFFERENT DRUMS\n          if        (kdrnum != 0) goto next1\n; HIHAT\naout      rand      kampenv1\n          goto      endswitch\n\nnext1:\n          if        (kdrnum != 1) goto next2\n; DUMB DRUM\nasig      rand      kampenv2\nafilt     reson     asig, 1000, 100\naout      balance   afilt, asig\n          goto      endswitch\n\nnext2:\n          if        (kdrnum != 2) goto next3\n; DUMB BASS DRUM\nasig      rand      kampenv3\nafilt     reson     asig, kfreqenv, kfreqenv/8\naout      balance   afilt, asig\n          goto      endswitch\n\nnext3:\n          if        (kdrnum != 3) goto next4\n; KS SNARE\naout      =         kampenv4*asig4\n          goto      endswitch\n\nnext4:\n          if        (kdrnum != 4) goto next5\n; SORTA COOL KNOCK SWEEP DRUM\nasig      rand      kampenv5\nafilt1    reson     asig, kfreqenv51, kfreqenv51/8\nafilt2    reson     asig, kfreqenv52, kfreqenv52/4\naout1     balance   afilt1, asig\naout2     balance   afilt2, asig\naout      =         (aout1+aout2)/2\n          goto      endswitch\n\nnext5:\n          if        (kdrnum != 5) goto endswitch\n; FM METAL BOINK DRUM\naout      =         asig5\n\n\nendswitch:\n; WHEN THE TIME RUNS OUT GO TO THE NEXT STEP OF THE SEQUENCE AND REINITIALIZE THE ENVELOPES.\n          timout    0, i(kdur1), cont1\nkstep     =         frac((kstep + 1)/8)*8\n          reinit    loop1\n\ncont1:\n\n          outs      aout*kleft, aout*kright\n\nendin\n\n; FIGURE OUT YOUR DRUMS DOWN HERE.  THEN MOVE ENVELOPES INTO THE ENVELOPE\n; SECTION AND THE REST INTO THE SWITCH SECTION OF THE DRUM MACHINE.\n          instr 2\n\n; DUMB DRUM 1\nkampenv   expseg    .0001, .01, p4, .04, .01\nasig      rand      kampenv\nafilt     reson     asig, 1000, 100\naout      balance   afilt, asig\n          outs      aout, aout\n\n          endin\n\n          instr 3\n\n; DUMB BASS DRUM\nkfreqenv  expseg    50,    .01, 200, .08, 50\nkampenv   expseg    .0001, .01, p4,  .08, .01\nasig      rand      kampenv\nafilt     reson     asig, kfreqenv, kfreqenv/8\naout      balance   afilt, asig\n          outs      aout, aout\n\n          endin\n\n          instr 4\n\n; KS SNARE DRUM\nkampenv4  linseg    0, .001, 1,     p3-.021, 1, .02, 0\nkptchenv  linseg    100, .01, 300, .2, 200, .01, 200\nasig      pluck     p4, kptchenv, 50, 2, 4, .8, 3\naout      =         kampenv4*asig\n          outs      aout, aout\n\n          endin\n\n          instr 5\n\n; SORTA COOL KNOCK SWEEP DRUM\nkfreqenv41 expseg   50,   .01, 200, .08, 50\nkfreqenv42 linseg   150,   .01, 1000, .08, 250\nkampenv4  linseg    0, .01, p4,     .08, 0, .01, 0\nasig      rand      kampenv4\nafilt1    reson     asig, kfreqenv41, kfreqenv41/8\nafilt2    reson     asig, kfreqenv42, kfreqenv42/4\naout1     balance   afilt1, asig\naout2     balance   afilt2, asig\n          outs      (aout1+aout2)/2, (aout1+aout2)/2\n\n          endin\n\n          instr 6\n\n; FM METAL BOINK DRUM\nkampenv61 expseg    .01, .01, p4, .2, p4/100, .1, .001\nkampenv62 linseg    1, .1, 10,     .1, .5, .01, 1\n\nasig      foscil    kampenv61, 30, 1, 6.726, kampenv62, 1\n          outs      asig, asig\n\n          endin\n\n</CsInstruments>\n<CsScore>\nf1  0 8192 10 1\nf2  0 1024  7 1 1024 1\n\n; Duration\nf21  0  8  -2  1     1     1     1     1     1     1     1\nf25  0  8  -2  4     1     1     2     4     1     1     2\nf29  0  8  -2  4     1     1     1     1     4     2     2\n\n; Drums :  0=HiHat, 1=Tap, 2=Bass, 3=KS Snare, 4=Sweep, 5=FMBoink\nf22  0  8  -2  0     1     0     1     2     1     0     1\nf26  0  8  -2  4     3     3     2     4     2     3     4\nf30  0  8  -2  4     2     1     5     4     5     5     4\n\n; Panning \nf23  0  8  -2   1    0     1     0     1     0     1     1\nf24  0  8  -2   0    1     0     1     1     1     1     0\n\nf27  0  8  -2   1    0     1     1     0     1     1     0\nf28  0  8  -2   0    1     0     0     1     1     0     1\n\nf31  0  8  -2   0    0     0     0     0     1     1     0\nf32  0  8  -2   1    1     1     1     1     0     1     1\n\n;  Sta  Dur Amp        Tables\n;                 Dur Drum PanL PanR\ni1 0    6   8000  21  22   23   24\ni1 0    6   8000  25  26   27   28\ni1 0    6   8000  29  30   31   32\n\n;i2 .2  .2   20000\n;i2 +   .2   20000\n\n;i6 0  .1   20000\n;i6 +  .2   20000\n\n;i4 0 1 10000 \n\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for kstep \tinit \t0 using drum sound and FM synthesis and Karplus-Strong plucked string", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from drums.orc and drums.sco\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t2\n\n\n; DRUM MACHINE\n\t\tinstr 1\n\nkstep \tinit \t0\n\n; SEQUENCER SECTION\n;------------------------------------------------------------------------- \nloop1:\n; READ ALL OF THE TABLE VALUES.\nkdur \ttable \tkstep, p5\nkdrnum \ttable \tkstep, p6\nkleft \ttable \tkstep, p7\nkright \ttable \tkstep, p8\n\nkdur1 \t=\t\tkdur/8\t\t\t\t; MAKE THE STEP SMALLER.\n\t\t\t\t\t\t\n; ALL OF THE ENVELOPES WANT TO BE OUTSIDE OF THE IF FOR SOME REASON. \nkampenv1 \tlinseg \t0, .01, p4/2, .04, 0, .01, 0 \nkampenv2 \texpseg \t.0001, .01, p4, .04, .01 \nkfreqenv \texpseg \t50, .01, 200, .08, 50\nkampenv3 \texpseg \t.0001, .01, p4*2, .08, .01 \nkampenv4 \tlinseg \t0, .001, 1, i(kdur1)-.021, 1, .02, 0 \nkfreqenv51 expseg \t50, .01, 200, .08, 50\nkfreqenv52 linseg \t150, .01, 1000, .08, 250, .01, 250 \nkampenv5 \tlinseg \t0, .01, p4, .08, 0, .01, 0 \nkptchenv \tlinseg \t100, .01, 300, .2, 200, .01, 200 \n\nkampenv61\texpseg \t.01, .01, p4, .2, p4/100, .1, .001 \nkampenv62 linseg \t1, .1, 10, .1, .5, .01, 1 \n\n; SOME OF THE SIGNAL GENERATORS MUST BE OUTSIDE OF THE IF'S \nasig4\tpluck \tp4/2, kptchenv, 50, 2, 4, .8, 3\nasig5\tfoscil \tkampenv61, 30, 1, 6.726, kampenv62, 1\n\n; SWITCH BETWEEN THE DIFFERENT DRUMS\n\t\tif\t\t(kdrnum != 0) goto next1\n; HIHAT\naout \trand \tkampenv1\n\t\tgoto \tendswitch\n\nnext1:\n\t\tif\t\t(kdrnum != 1) goto next2\n; DUMB DRUM\nasig \trand\t \tkampenv2\nafilt \treson \tasig, 1000, 100\naout \tbalance \tafilt, asig\n\t\tgoto \tendswitch\n\nnext2:\n\t\tif\t\t(kdrnum != 2) goto next3\n; DUMB BASS DRUM\nasig \trand \tkampenv3\nafilt\t reson \tasig, kfreqenv, kfreqenv/8\naout \tbalance \tafilt, asig\n\t\tgoto \tendswitch\n\nnext3:\n\t\tif \t\t(kdrnum != 3) goto next4\n; KS SNARE\naout \t=\t\tkampenv4*asig4\n\t\tgoto \tendswitch\n\nnext4:\n\t\tif\t\t(kdrnum != 4) goto next5\n; SORTA COOL KNOCK SWEEP DRUM\nasig \trand \tkampenv5\nafilt1 \treson \tasig, kfreqenv51, kfreqenv51/8 \nafilt2 \treson \tasig, kfreqenv52, kfreqenv52/4 \naout1 \tbalance \tafilt1, asig\naout2 \tbalance \tafilt2, asig\naout \t=\t\t(aout1+aout2)/2\n\t\tgoto \tendswitch\n\nnext5:\n\t\tif\t\t(kdrnum != 5) goto endswitch\n; FM METAL BOINK DRUM\naout \t= \t\tasig5\n\n\nendswitch:\n; WHEN THE TIME RUNS OUT GO TO THE NEXT STEP \n; OF THE SEQUENCE AND REINITIALIZE THE ENVELOPES.\n\t\ttimout \t0, i(kdur1), cont1\nkstep \t= \t\tfrac((kstep + 1)/8)*8\n\t\treinit \tloop1\n\ncont1:\n\n\t\touts \taout*kleft, aout*kright\n\n\t\tendin\n\n; FIGURE OUT YOUR DRUMS DOWN HERE. THEN MOVE ENVELOPES INTO THE ENVELOPE \n; SECTION AND THE REST INTO THE SWITCH SECTION OF THE DRUM MACHINE. \n\n\t\tinstr 2\n\n; DUMB DRUM 1\nkampenv \texpseg \t.0001, .01, p4, .04, .01\nasig \trand \tkampenv\nafilt \treson \tasig, 1000, 100\naout \tbalance \tafilt, asig\n\t\touts \taout, aout\n\n\t\tendin\n\n\t\tinstr 3\n\n; DUMB BASS DRUM\nkfreqenv \texpseg \t50, .01, 200, .08, 50\nkampenv \texpseg \t.0001, .01, p4, .08, .01\nasig \trand \tkampenv\nafilt \treson \tasig, kfreqenv, kfreqenv/8\naout \tbalance \tafilt, asig\n\t\touts\t\taout, aout\n\n\t\tendin\n\n\t\tinstr 4\n\n; KS SNARE DRUM\nkampenv4 \tlinseg \t0, .001, 1, p3-.021, 1, .02, 0 \nkptchenv \tlinseg \t100, .01, 300, .2, 200, .01, 200 \nasig \tpluck \tp4, kptchenv, 50, 2, 4, .8, 3\naout \t=\t\tkampenv4*asig\n\t\touts \taout, aout\n\n\t\tendin\n\n\t\tinstr 5\n\n; SORTA COOL KNOCK SWEEP DRUM\nkfreqenv41 expseg \t50, .01, 200, .08, 50\nkfreqenv42 linseg \t150, .01, 1000, .08, 250 \nkampenv4\tlinseg \t0, .01, p4, .08, 0, .01, 0 \nasig \trand \tkampenv4\nafilt1 \treson \tasig, kfreqenv41, kfreqenv41/8 \nafilt2 \treson \tasig, kfreqenv42, kfreqenv42/4 \naout1\tbalance \tafilt1, asig\naout2\tbalance \tafilt2, asig\n\t\touts \t(aout1+aout2)/2, (aout1+aout2)/2\n\n\t\tendin\n\n\t\tinstr 6\n\n; FM METAL BOINK DRUM\nkampenv61 expseg \t.01, .01, p4, .2, p4/100, .1, .001 \nkampenv62 linseg \t1, .1, 10, .1, .5, .01, 1 \n\nasig \tfoscil \tkampenv61, 30, 1, 6.726, kampenv62, 1\n\t\touts \tasig, asig\n\n\t\tendin\n\n</CsInstruments>\n<CsScore>\n; Score\nf1 0 8192 10 1\nf2 0 1024 7 1 1024 1\n\n; Duration\nf21 0 8 -2 1\t1\t1\t1\t1\t1\t1\t1\nf25 0 8 -2 4\t1\t1\t2\t4\t1\t1\t2\nf29 0 8 -2 4\t1\t1\t1\t1\t4\t2\t2\n\n; Drums : 0=HiHat, 1=Tap, 2=Bass, 3=KS Snare, 4=Sweep, 5=FMBoink \nf22 0 8 -2 0\t1\t0\t1\t2\t1\t0\t1\nf26 0 8 -2 4\t3\t3\t2\t4\t2\t3\t4\nf30 0 8 -2 4\t2\t1\t5\t4\t5\t5\t4\n\n; Panning\nf23 0 8 -2 1 0\t1\t0\t1\t0\t1\t1\nf24 0 8 -2 0 1\t0\t1\t1\t1\t1\t0\n\nf27 0 8 -2 1 0\t1\t1\t0\t1\t1\t0\nf28 0 8 -2 0 1\t0\t0\t1\t1\t0\t1\n\nf31 0 8 -2 0 0\t0\t0\t0\t1\t1\t0\nf32 0 8 -2 1 1\t1\t1\t1\t0\t1\t1\n\n; Sta Dur Amp\tTables\n;\tDur Drum PanL PanR\ni1 0 6 8000 21 22 23 24\ni1 0 6 8000 25 26 27 28\ni1 0 6 8000 29 30 31 32\ns\nf0 2\ns\ni2 .2 .2 20000\ni2 + .2 20000\ns\nf0 2\ns\ni6 0 .1 20000\ni6 + .2 20000\ns\nf0 2\ns\ni4 0 1 10000\n\n</CsScore>\n</CsoundSynthesizer>"}
