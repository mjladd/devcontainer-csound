{"instruction": "Write a Csound instrument for ifc       =         p4     ; Center Frequency using parametric equalizer and random noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from eq.orc and eq.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         2\n\n\n;----------------------------------------------------------------\n; BIQUADRATIC EQUALIZER FILTER\n; CODED BY HANS MIKELSON NOVEMBER 1998\n;----------------------------------------------------------------\n\n\nzakinit   30, 30\n\n;----------------------------------------------------------------\n; 1 BAND PARAMETRIC EQUALIZER BY ROBERT BRISTOW-JOHNSON\n;----------------------------------------------------------------\n        instr 10\n\nifc       =         p4     ; Center Frequency\nibw       =         p5     ; Band Width in Octaves\nigain     =         p6     ; Gain/Cut in dB\n\niomega0   =         2*taninv(ifc*6.5/2/sr)  ; I seem to have to multiply by 6.5 to get Fc correct?\nigamma    =         sinh(log(2)/2*ibw*iomega0/sin(iomega0))*sin(iomega0) ; Gamma as defined in the paper\nik        =         ampdb(igain)             ; Convert dB to Amplitude\n\nigrtk     =         igamma*sqrt(ik)               ; Calculate in advance\nigortk    =         igamma/sqrt(ik)               ; to save time\n\nkb0       =         1+igrtk                  ; Compute the coefficients\nkb1       =         -2*cos(iomega0)\nkb2       =         1-igrtk\nka0       =         1+igortk\nka1       =         kb1\nka2       =         1-igortk\n\nasig      rand      10000                        ; Random number source for testing\n\naout      biquad    asig, kb0, kb1, kb2, ka0, ka1, ka2  ; Biquad filter  \n          outs      aout, aout              ; Output the results\n\n          endin\n\n;----------------------------------------------------------------\n; LOW SHELF BY CHRIS TOWNSEND CONVERTED TO CSOUND BY HANS MIKELSON\n;----------------------------------------------------------------\n          instr     11\n\nifc       =         p4     ; Center / Shelf\niq        =         p5     ; Quality factor sqrt(.5) is no resonance\nigain     =         p6     ; Gain/Cut in dB\ni2pi      =         2*3.14159265\n\niomega0   =         i2pi*ifc/sr\nik        =         tan(iomega0/2)\niv        =         ampdb(igain)             ; Convert dB to Amplitude\n     \nkb0       =         1+sqrt(2*iv)*ik+iv*ik*ik ; Compute the coefficients\nkb1       =         2*(iv*ik*ik-1)\nkb2       =         1-sqrt(2*iv)*ik+iv*ik*ik\nka0       =         1+ik/iq+ik*ik\nka1       =         2*(ik*ik-1)\nka2       =         1-ik/iq+ik*ik\n\nasig      rand      5000                    ; Random number source for testing\n\n; aout    biquad    asig, kb0, kb1, kb2, ka0, ka1, ka2  ; Biquad filter    \naout      pareq     asig, ifc, iv, iq, 1\n          outs      aout, aout              ; Output the results\n\n          endin\n\n;----------------------------------------------------------------\n; HIGH SHELF BY HANS MIKELSON DERIVED FROM LOW SHELF BY CHRIS TOWNSEND\n;----------------------------------------------------------------\n          instr     12\n\nifc       =         p4     ; Center / Shelf\niq        =         p5     ; Quality factor sqrt(.5) is no resonance\nigain     =         p6     ; Gain/Cut in dB\nipi       =         3.14159265\ni2pi      =         2*ipi\n\niomega0   =         i2pi*ifc/sr\nik        =         tan((ipi-iomega0)/2)\niv        =         ampdb(igain)             ; Convert dB to Amplitude\n\nkb0       =         1+sqrt(2*iv)*ik+iv*ik*ik ; Compute the coefficients\nkb1       =         -2*(iv*ik*ik-1)\nkb2       =         1-sqrt(2*iv)*ik+iv*ik*ik\nka0       =         1+ik/iq+ik*ik\nka1       =         -2*(ik*ik-1)\nka2       =         1-ik/iq+ik*ik\n\nasig      rand      5000                   ; Random number source for testing\n     \naout      biquad    asig, kb0, kb1, kb2, ka0, ka1, ka2  ; Biquad filter  \n     \n          outs      aout, aout              ; Output the results\n\n          endin\n\n;----------------------------------------------------------------\n; PEAKING EQ BY CHRIS TOWNSEND CONVERTED TO CSOUND BY HANS MIKELSON\n;----------------------------------------------------------------\n          instr     13\n\nifc       =         p4     ; Center / Shelf\niq        =         p5     ; Quality factor\nigain     =         p6     ; Gain/Cut in dB\nipi       =         3.14159265\ni2pi      =         2*ipi\n\niomega0   =         i2pi*ifc/sr\nik        =         tan(iomega0/2)\niv        =         ampdb(igain)             ; Convert dB to Amplitude\n\nkb0       =         1+iv*ik/iq+ik*ik  ; Compute the coefficients\nkb1       =         2*(ik*ik-1)\nkb2       =         1-iv*ik/iq+ik*ik\nka0       =         1+ik/iq+ik*ik\nka1       =         2*(ik*ik-1)\nka2       =         1-ik/iq+ik*ik\n\nasig      rand      5000                   ; Random number source for testing\n\naout      biquad    asig, kb0, kb1, kb2, ka0, ka1, ka2  ; Biquad filter  \n\n          outs      aout, aout              ; Output the results\n\n          endin\n\n;----------------------------------------------------------------\n; THREE BAND EQUALIZER BY HANS MIKELSON\n;----------------------------------------------------------------\n          instr     14\n\ninch      =         p4\nifcl      =         p5     ; Low shelf f\niql       =         p6     ; Quality factor sqrt(.5) is no resonance\nigainl    =         p7     ; Gain/Cut in dB\nifcc      =         p8     ; EQ fc\niqc       =         p9     ; Quality factor\nigainc    =         p10    ; Gain/Cut in dB\nifch      =         p11    ; High shelf f\niqh       =         p12    ; Quality factor\nigainh    =         p13    ; Gain/Cut in dB\nipi       =         3.14159265\ni2pi      =         2*ipi\n     \nasig      zar       inch                    ; Random number source for testing\n\n; LOW SHELF\niomega0l  =         i2pi*ifcl/sr\nikl       =         tan(iomega0l/2)\nivl       =         ampdb(igainl)             ; Convert dB to Amplitude\nkb0l      =         1+sqrt(2*ivl)*ikl+ivl*ikl*ikl ; Compute the coefficients\nkb1l      =         2*(ivl*ikl*ikl-1)\nkb2l      =         1-sqrt(2*ivl)*ikl+ivl*ikl*ikl\nka0l      =         1+ikl/iql+ikl*ikl\nka1l      =         2*(ikl*ikl-1)\nka2l      =         1-ikl/iql+ikl*ikl\n\naoutl     biquad    asig, kb0l, kb1l, kb2l, ka0l, ka1l, ka2l  ; Biquad filter\n\n; CENTER FREQUENCY\niomega0c  =         i2pi*ifcc/sr\nikc       =         tan(iomega0c/2)\nivc       =         ampdb(igainc)             ; Convert dB to Amplitude\nkb0c      =         1+ivc*ikc/iqc+ikc*ikc  ; Compute the coefficients\nkb1c      =         2*(ikc*ikc-1)\nkb2c      =         1-ivc*ikc/iqc+ikc*ikc\nka0c      =         1+ikc/iqc+ikc*ikc\nka1c      =         2*(ikc*ikc-1)\nka2c      =         1-ikc/iqc+ikc*ikc\n\naoutc     biquad    aoutl, kb0c, kb1c, kb2c, ka0c, ka1c, ka2c  ; Biquad filter  \n\n; HIGH SHELF\niomega0h  =         i2pi*ifch/sr\nikh       =         tan((ipi-iomega0h)/2)\nivh       =         ampdb(igainh)             ; Convert dB to Amplitude\nkb0h      =         1+sqrt(2*ivh)*ikh+ivh*ikh*ikh ; Compute the coefficients\nkb1h      =         -2*(ivh*ikh*ikh-1)\nkb2h      =         1-sqrt(2*ivh)*ikh+ivh*ikh*ikh\nka0h      =         1+ikh/iqh+ikh*ikh\nka1h      =         -2*(ikh*ikh-1)\nka2h      =         1-ikh/iqh+ikh*ikh\n\naout      biquad    aoutc, kb0h, kb1h, kb2h, ka0h, ka1h, ka2h  ; Biquad filter  \n\n          outs      aout, aout              ; Output the results\n\n          endin\n\n;----------------------------------------------------------------\n; LOW SHELF BY CHRIS TOWNSEND CONVERTED TO CSOUND BY HANS MIKELSON\n;----------------------------------------------------------------\n          instr 15\n\nifc       =         p4     ; Center / Shelf\niq        =         p5     ; Quality factor sqrt(.5) is no resonance\nigain     =         p6     ; Gain/Cut in dB\niv        =         ampdb(igain)             ; Convert dB to Amplitude\n\nasig      rand      5000                    ; Random number source for testing\n\naout      pareq     asig, ifc, iv, iq, 1\n          outs      aout, aout              ; Output the results\n\n          endin\n\n</CsInstruments>\n<CsScore>\n;   STA  DUR  FCENTER  BANDWIDTH(OCTAVES)  BOOST/CUT(dB)\ni11 0    1    1000     .707                 12\ni11 +    .    5000     .707                 12\ni11 .    .    1000     .707                -12\ni11 .    .    5000     .707                -12\n\ni12 4    1    1000     .707                 12\ni12 +    .    5000     .707                 12\ni12 .    .    1000     .707                -12\ni12 .    .    5000     .707                -12\n\ni13 8    1    1000     .707                 12\ni13 +    .    5000     .707                 12\ni13 .    .    1000     .707                -12\ni13 .    .    5000     .707                -12\n\n\n;                     LOWSHELF        CENTERFQC         HIGHSHELF\n;    STA  DUR  INCH  FQC  Q     GAIN  FQC   Q     GAIN  FQC   Q     GAIN\ni14  0    1    1     200  .707  12    3000  .707  12    8000  .707  12\n\n\n</CsScore>\n</CsoundSynthesizer>"}
