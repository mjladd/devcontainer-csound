{"instruction": "Write a Csound instrument that creates a suboctave sound using amplitude balance", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from SubOctave.orc and SubOctave.sco\n; Original files preserved in same directory\n\nsr       = 44100\nkr       = 44100\nksmps    = 1\nnchnls   = 1\n\n\ninstr    1 ; 4 Sub Octaves (Sub harmonics) Based on an orc by Paul M Winkler\n\nilevl    = p4*32767                      ; Output level\nioct1    = p5                            ; Octave 1 level\nioct2    = p6                            ; Octave 2 level\nioct3    = p7                            ; Octave 3 level\nioct4    = p8                            ; Octave 4 level\nimix     = p9                            ; Mix: 0=Input 1=Octaves\ninorm    = 1/(p5 + p6 + p7 + p8)         ; Normalizing factor\nkcount   init 0                          ; Initialize counter\nkloop    init 0                          ; Initialize loop\n\nain      soundin  \"Sample1\"\n\nkin      downsamp  ain                   ; Convert to kr\nktrig    trigger  kin, 0, 0              ; Detect zero crossings\nif       ktrig == 0 goto output          ; Do nothing if no zero cross\nkcount   = kcount + 1                    ; Increment counter\nkloop    wrap  kcount, 0, 16             ; Wrap counter at 16\n01:\nif       kloop != 01 goto 02             ; If count is not 1 skip to 2\naoct1    = -1                            ; Set bit 1\naoct2    = -1                            ; Set bit 2\naoct3    = -1                            ; Set bit 3\naoct4    = -1                            ; Set bit 4\ngoto     output                          ; Goto output\n02:\nif       kloop != 02 goto 03\naoct1    = +1\naoct2    = -1\naoct3    = -1\naoct4    = -1\ngoto     output\n03:\nif       kloop != 03 goto 04\naoct1    = -1\naoct2    = +1\naoct3    = -1\naoct4    = -1\ngoto     output\n04:\nif       kloop != 04 goto 05\naoct1    = +1\naoct2    = +1\naoct3    = -1\naoct4    = -1\ngoto     output\n05:\nif       kloop != 05 goto 06\naoct1    = -1\naoct2    = -1\naoct3    = +1\naoct4    = -1\ngoto     output\n06:\nif       kloop != 06 goto 07\naoct1    = +1\naoct2    = -1\naoct3    = +1\naoct4    = -1\ngoto     output\n07:\nif       kloop != 07 goto 08\naoct1    = -1\naoct2    = +1\naoct3    = +1\naoct4    = -1\ngoto     output\n08:\nif       kloop != 08 goto 09\naoct1    = +1\naoct2    = +1\naoct3    = +1\naoct4    = -1\ngoto     output\n09:\nif       kloop != 09 goto 10\naoct1    = -1\naoct2    = -1\naoct3    = -1\naoct4    = +1\ngoto     output\n10:\nif       kloop != 10 goto 11\naoct1    = +1\naoct2    = -1\naoct3    = -1\naoct4    = +1\ngoto     output\n11:\nif       kloop != 11 goto 12\naoct1    = -1\naoct2    = +1\naoct3    = -1\naoct4    = +1\ngoto     output\n12:\nif       kloop != 12 goto 13\naoct1    = +1\naoct2    = +1\naoct3    = -1\naoct4    = +1\ngoto     output\n13:\nif       kloop != 13 goto 14\naoct1    = -1\naoct2    = -1\naoct3    = +1\naoct4    = +1\ngoto     output\n14:\nif       kloop != 14 goto 15\naoct1    = +1\naoct2    = -1\naoct3    = +1\naoct4    = +1\ngoto     output\n15:\nif       kloop != 15 goto 16\naoct1    = -1\naoct2    = +1\naoct3    = +1\naoct4    = +1\ngoto     output\n16:\naoct1    = +1\naoct2    = +1\naoct3    = +1\naoct4    = +1\noutput:\naoct1    = aoct1*ioct1                   ; -1 octave level\naoct2    = aoct2*ioct2                   ; -2 octave level\naoct3    = aoct3*ioct3                   ; -3 octave level\naoct4    = aoct4*ioct4                   ; -4 octave level\naocts    sum  aoct1, aoct2, aoct3, aoct4 ; Sum octaves\naocts    = aocts*inorm                   ; Normalize\naout     = aocts*imix + ain*(1 - imix)   ; Mix input and octaves\nout      aout*ilevl                      ; Level and output\n\nendin\n\n</CsInstruments>\n<CsScore>\n;     Strt  Leng  Levl  Oct1  Oct2  Oct3  Oct4  Balance\ni01   0.00  1.50  1.00  1.00  0.00  0.00  0.00  0.50\ni01   2.00  .     .     0.00  1.00  .     1.00  1.00\ni01   4.00  .     .     0.25  0.50  0.75  .     .\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
