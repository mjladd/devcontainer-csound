{"instruction": "Write a Csound instrument for kcount    init      0 using one-sample delay and delay line read and delay line write", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from strong.orc and strong.sco\n; Original files preserved in same directory\n\nsr        =         44100\nkr        =         4410\nksmps     =         10\nnchnls    =         1\n\n;********************************************* \n; Physical Model 1 Karplus Strong Algorithm * \n; coded:  1/22/97 by Hans Mikelson *\n;********************************************* \n\n\n          instr 1\nkcount    init      0\nk1        =         (kcount<=110 ? 1:0)\na1        rand      p4\na2        delayr    .005\na3        delay1    a2\n          delayw    (a2+a3)/2+a1*k1\n          out       a3\nkcount    =         kcount + 1\n          endin\n\n</CsInstruments>\n<CsScore>\n; Begin Score\n; istart idur iamp\ni1 0 2 10000\n\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
{"instruction": "Write a Csound instrument for UNMODIFIED PLAYBACK INSTRMENT FOR COMPARISON using demonstration and one-sample delay and white noise", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac -d\n</CsOptions>\n<CsInstruments>\n; Converted from FILTDEMO.ORC and FILTDEMO.SCO\n; Original files preserved in same directory\n\nsr\t\t=\t\t44100\nkr\t\t=\t\t4410\nksmps\t=\t\t10\nnchnls\t=\t\t1\n\n\n;==============================================================================;\n;      This orc implements some of the example filters given in Dodge          ;\n;                                                                              ;\n; Note that the kr = sr in this orchestra.  This is necessary because none of  ;\n; the recursive filters (instrs 7, 8, and 9) will work otherwise.  RFP         ;\n;==============================================================================;\n;\n\t\tinstr 1\t\t\t; UNMODIFIED PLAYBACK INSTRMENT FOR COMPARISON\nkgate\texpseg\t1,p3*.9,1,p3*.1,.001\nainput\tsoundin\tp4\n\t\tout\t\tainput*kgate\n\t\tendin\n\n;==============================================================================;\n;       Non-recursive, all-zero, Finite Impulse Response (FIR) filters:\n;==============================================================================;\n\n\t\tinstr 2\t\t\t; 1st-ORDER LOW-PASS FILTER FROM DODGE SECOND EDITION p.201\nigain\t=\t\t(p5 != 0 ? p5 : 1)\nkgate\texpseg\tigain,p3*.9,igain,p3*.1,.001\nainput\tsoundin\tp4\naprev\tdelay1\tainput\t\t\t\t; NOISE SIGNAL DELAYED 1 SAMPLE\nasignal\t=\t\t.5*ainput + .5*aprev\t; AVERAGE 2 SUCCESSIVE INPUTS\n\t\tout\t\tasignal*kgate\n\t\tendin\n\n\t\tinstr 3\t\t\t; 1st-ORDER HIGH-PASS FILTER - DODGE SECOND EDITION p.202\nigain\t=\t\t(p5 != 0 ? p5 : 1)\nkgate\texpseg\tigain,p3*.9,igain,p3*.1,.001\nainput\tsoundin\tp4\naprev\tdelay1\tainput\t\t\t\t; NOISE SIGNAL DELAYED 1 SAMPLE\nasignal\t=\t\t.5*ainput - .5*aprev\t; DIFFERENCE OF 2 INPUTS\n\t\tout\t\tasignal*kgate\n\t\tendin\n\n\t\tinstr 4\t\t\t; 2nd-ORDER NOTCH FILTER - DODGE SECOND EDITION p.202\nigain\t=\t\t(p5 != 0 ? p5 : 1)\nkgate\texpseg\tigain,p3*.9,igain,p3*.1,.001\nainput\tsoundin\tp4\t\t\t\t\t; x(n)\naprev1\tdelay1\tainput\t\t\t\t; x(n-1)\naprev2\tdelay1\taprev1\t\t\t\t; x(n-2)\nasignal\t=\t\t.5*ainput + .5*aprev2\t; y(n) = .5x(n) - .5x(n-2)\n\t\tout\t\tasignal*kgate\n\t\tendin\n\n\t\tinstr 5\t\t\t; 2nd-ORDER BAND-PASS FILTER - DODGE SECOND EDITION p.203\nigain\t=\t\t(p5 != 0 ? p5 : 1)\nkgate\texpseg\tigain,p3*.9,igain,p3*.1,.001\nainput\tsoundin\tp4\t\t\t\t\t; x(n)\naprev1\tdelay1\tainput\t\t\t\t; x(n-1)\naprev2\tdelay1\taprev1\t\t\t\t; x(n-2)\nasignal\t=\t\t.5*ainput - .5*aprev2\t; y(n) = .5x(n) - .5x(n-2)\n\t\tout\t\tasignal*kgate\n\t\tendin\n\n\t\tinstr 6       ; 2nd-ORDER ALL-ZERO BR FILTER - DODGE SECOND EDITION p.203-205\nigain\t=\t\t(p7 != 0 ? p7 : 1)\n; CALCULATE THE COEFFICIENTS FROM cf AND bw IN p5 AND p6\ni2pi\t\t=\t\t6.2831853\nibw\t\t=\t\tp6\nicf\t\t=\t\tp5\nic2\t\t=\t\texp(-i2pi*ibw/sr)\nic1\t\t=\t\t(-4*ic2/(1 + ic2))*cos(i2pi*icf/sr)\niscl\t\t=\t\t1 + ic1 + ic2\nia0\t\t=\t\t1/iscl\nia1\t\t=\t\tic1/iscl\nia2\t\t=\t\tic2/iscl\nkgate\texpseg\tigain,p3*.9,igain,p3*.1,.001\nainput\tsoundin\tp4\t\t\t\t\t; x(n)\naprev1\tdelay1\tainput\t\t\t\t; x(n-1)\naprev2\tdelay1\taprev1\t\t\t\t; x(n-2)\n\t\t\t\t\t\t\t\t\t; y(n) = a0x(n) + a1x(n-1) + a2x(n-2)\nasignal\t=\t\tia0*ainput + ia1*aprev1 + ia2*aprev2\n\t\tout\t\tasignal*kgate\n\t\tendin\n\n\n;==============================================================================;\n;       Recursive, all-pole, Infinite Impulse Response (IIR) filters:\n;==============================================================================;\n\n\t\tinstr 7\t\t\t; 1st-ORDER RECURSIVE FILTER - DODGE SECOND EDITION p.209-211\nigain\t=\t\t(p6 != 0 ? p6 : 1)\n; CALCULATE THE COEFFICIENTS FOR LOW-PASS FILTER FROM THE CUTOFF FREQ (p5):\ni2pi\t\t=\t\t6.2831853\nifc\t\t=\t\tp5\nic\t\t=\t\t2 - cos(i2pi*ifc/sr)\nib\t\t=\t\tsqrt(ic*ic - 1) - ic\nia\t\t=\t\t1 + ib\nkgate\texpseg\tigain,p3*.9,igain,p3*.1,.001\naoutput\tinit\t\t0\t\t\t\t\t; init y(n-1) to 0\nainput\tsoundin\tp4\t\t\t\t\t; x(n)\naoutput\t=\t\tia*ainput - ib*aoutput\t; y(n) = ia*x(n) - ib*y(n-1)\n\t\tout\t\taoutput*kgate\n\t\tendin\n\n\t\tinstr 8\nigain\t=\t\t(p6 != 0 ? p6 : 1)\n; CALCULATE THE COEFFICIENTS FOR HIGH-PASS FILTER FROM THE CUTOFF FREQ (p5):\ni2pi\t\t=\t\t6.2831853\nifc\t\t=\t\tp5\nic\t\t=\t\t2 - cos(i2pi*ifc/sr)\nib\t\t=\t\tic - sqrt(ic*ic - 1)\nia\t\t=\t\t1 - ib\nkgate\texpseg\tigain,p3*.9,igain,p3*.1,.001\naoutput\tinit\t\t0\t\t\t\t\t; init y(n-1) to 0\nainput\tsoundin\tp4\t\t\t\t\t; x(n)\naoutput\t=\t\tia*ainput - ib*aoutput\t; y(n) = ia*x(n) - ib*y(n-1)\n\t\tout\t\taoutput*kgate\n\t\tendin\n\n\t\tinstr 9\t\t\t; 2nd-ORDER ALL-POLE FILTER - DODGE SECOND EDITION p. 211-212\nigain\t=\t\t(p8 == 0 ? 1 : p8)\n; CALCULATE THE COEFFICIENTS FOR BAND-BASS FILTER FROM cf AND bw IN p5, p6:\ni2pi\t\t=\t\t6.2831853\nicf\t\t=\t\tp5\nibw\t\t=\t\tp6\nib2\t\t=\t\texp(-i2pi*ibw/sr)\nib1\t\t=\t\t-4*ib2/(1 + ib2) * cos(i2pi * icf/sr)\nib1sqrd\t=\t\tib1*ib1\nib2sqrd\t=\t\t(1+ib2)*(1+ib2)\niscl1\t=\t\t(1 - ib2)*sqrt(1-ib1sqrd/(4*ib2))\niscl2\t=\t\tsqrt((ib2sqrd-ib1sqrd) * ((1 - ib2)/(1 + ib2)))\niscl\t\t=\t\t(p7 == 1 ? iscl1 : iscl2) ; 1 = PITCH, 2 = NOISE\nkgate\texpseg\tigain,p3*.9,igain,p3*.1,.001\naprev1\tinit\t\t0\t\t\t\t\t; init y(n-1) to 0\naprev2\tinit\t\t0\t\t\t\t\t; init y(n-2) to 0\nainput\tsoundin\tp4\t\t\t\t\t; x(n)\n\t\t\t\t\t\t\t\t\t; y(n) = a0x(n) - b1y(n-1) - b2y(n-2)\naoutput\t=\t\tiscl*ainput - ib1*aprev1 - ib2*aprev2\naprev2\t=\t\taprev1\naprev1\t=\t\taoutput\n\t\tout\t\taoutput*kgate\n\t\tendin\n\n\n</CsInstruments>\n<CsScore>\n; Demo score for filtdemo.orc\n; The original sound\ni1      0       1.13    1       ;soundin 1\n; Simple moving average filter  (low-pass with Fc at SR/4)\ni2    1.5       1.13    1       0\n; Simple difference filter (high-pass with Fc at SR/4)\ni3      3       1.13    1       15\n; Second-order notch filter (null at SR/4, flat at 0 & Nyquist)\ni4    4.5       1.13    1       .75\n; Second-order band-pass filter\ni5      6       1.13    1       10\n; Second-order notch with variable cf and bw\ni6    7.5       1.13    1      1000     100     1\n; First-order recursive filter with lowpass characteristic (p5 = cutoff)\ni7      9       1.13    1       100       2\n; First-order recursive filter with highpass characteristic (p5 = cutoff)\ni8      10.5    1.13    1       500      10\n; Second-order all-pole filter (p5 = cf, p6 = bw)\ni9      12      1.13    1       300      30     1       4\nf0      14\ns\n; The original sound\ni1      0       1.13    2       ;soundin 2\n; Simple moving average filter  (low-pass with Fc at SR/4)\ni2    1.5       1.13    2       0\n; Simple difference filter (high-pass with Fc at SR/4)\ni3      3       1.13    2       7\n; Second-order notch filter (null at SR/4, flat at 0 & Nyquist)\ni4    4.5       1.13    2       0\n; Second-order band-pass filter\ni5      6       1.13    2       5\n; Second-order notch with variable cf and bw\ni6    7.5       1.13    2      1000     100     .5\n; First-order recursive filter with lowpass characteristic (p5 = cutoff)\ni7      9       1.13    2       100       3\n; First-order recursive filter with highpass characteristic (p5 = cutoff)\ni8      10.5    1.13    2       500       10\n; Second-order all-pole filter (p5 = cf, p6 = bw)\ni9      12      1.13    2       500      50     1       2\nf0      14\ns\n; The original sound\ni1      0       1.13    3       ;soundin 3\n; Simple moving average filter  (low-pass with Fc at SR/4)\ni2    1.5       1.13    3        0\n; Simple difference filter (high-pass with Fc at SR/4)\ni3      3       1.13    3        1\n; Second-order notch filter (null at SR/4, flat at 0 & Nyquist)\ni4    4.5       1.13    3        1\n; Second-order band-pass filter\ni5      6       1.13    3        1\n; Second-order notch with variable cf and bw\ni6    7.5       1.13    3      1000    100     .025\n; First-order recursive filter with lowpass characteristic (p5 = cutoff)\ni7      9       1.13    3       100     5\n; First-order recursive filter with highpass characteristic (p5 = cutoff)\ni8      10.5    1.13    3       500     3\n; Second-order all-pole filter (p5 = cf, p6 = bw)\ni9      12      1.13    3       500     100     2       .75\ne\n\n</CsScore>\n</CsoundSynthesizer>"}
