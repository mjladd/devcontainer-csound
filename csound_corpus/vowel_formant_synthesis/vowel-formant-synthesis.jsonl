{"instruction": "Write a CSound instrument that demonstrates vowel formant synthesis", "input": "", "output": "<CsoundSynthesizer>\n<CsOptions>\n-odac\n</CsOptions>\n<CsInstruments>\n\nsr = 44100\nkr = 4410\nksmps = 10\nnchnls = 2\n0dbfs = 1\n\ngiSaw ftgen 1, 0, 16384, 10, 1, 0.5, 0.3, 0.25, 0.2, 0.16\n\ninstr 1\n    ; fofilter opcode: asig fofilter ain, xcf, xris, xdec [, istor]\n    ; fofilter implements formant filter\n    ; ain - input signal\n    ; xcf - center frequency\n    ; xris - rise time\n    ; xdec - decay time\n    \n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Source signal (sawtooth)\n    aSource poscil iAmp, iFreq, giSaw\n    \n    ; Formant filter - vowel \"ah\"\n    iCF = 800  ; Center frequency\n    iRis = 0.003\n    iDec = 0.01\n    \n    aFormant fofilter aSource, iCF, iRis, iDec\n    \n    outs aFormant, aFormant\nendin\n\ninstr 2\n    ; Multiple formants for vowel synthesis\n    iAmp = 0.3\n    iFreq = p4\n    \n    ; Source\n    aSource poscil iAmp, iFreq, giSaw\n    \n    ; Three formants for \"ah\" vowel\n    aForm1 fofilter aSource, 800, 0.003, 0.01\n    aForm2 fofilter aSource, 1200, 0.003, 0.01\n    aForm3 fofilter aSource, 2600, 0.003, 0.01\n    \n    aMix = aForm1 + aForm2*0.7 + aForm3*0.5\n    \n    outs aMix, aMix\nendin\n\ninstr 3\n    ; Morphing vowels with fofilter\n    iAmp = 0.3\n    iFreq = p4\n    \n    aSource poscil iAmp, iFreq, giSaw\n    \n    ; Morph from \"ee\" to \"oo\"\n    kForm1 linseg 270, p3, 300\n    kForm2 linseg 2300, p3, 870\n    kForm3 linseg 3000, p3, 2250\n    \n    aForm1 fofilter aSource, kForm1, 0.003, 0.01\n    aForm2 fofilter aSource, kForm2, 0.003, 0.01\n    aForm3 fofilter aSource, kForm3, 0.003, 0.01\n    \n    aMix = aForm1 + aForm2*0.7 + aForm3*0.5\n    \n    outs aMix, aMix\nendin\n\ninstr 4\n    ; winsound opcode (Windows sound API)\n    ; Note: winsound is platform-specific (Windows only)\n    ; This demonstrates formant synthesis concept\n    \n    iAmp = 0.4\n    iFreq = p4\n    \n    ; Source\n    aSource poscil iAmp, iFreq, giSaw\n    \n    ; Vowel \"oh\" formants\n    aForm1 fofilter aSource, 500, 0.003, 0.01\n    aForm2 fofilter aSource, 900, 0.003, 0.01\n    aForm3 fofilter aSource, 2500, 0.003, 0.01\n    \n    aMix = aForm1 + aForm2*0.7 + aForm3*0.4\n    \n    outs aMix, aMix\nendin\n\n</CsInstruments>\n<CsScore>\n\n; Play single formant\ni1 0 2 220\n\n; Play multi-formant vowel\ni2 3 2 165\ni2 5 2 220\n\n; Play morphing vowels\ni3 8 4 196\n\n; Play \"oh\" vowel\ni4 13 2 147\n\ne\n</CsScore>\n</CsoundSynthesizer>"}
